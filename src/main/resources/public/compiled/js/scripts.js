var requirejs,require,define;(function(ba){function G(e){return"[object Function]"===K.call(e)}function H(e){return"[object Array]"===K.call(e)}function v(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function T(e,t){if(e){var n;for(n=e.length-1;-1<n&&(!e[n]||!t(e[n],n,e));n-=1);}}function t(e,t){return fa.call(e,t)}function m(e,n){return t(e,n)&&e[n]}function B(e,n){for(var r in e)if(t(e,r)&&n(e[r],r))break}function U(e,n,r,i){return n&&B(n,function(n,s){if(r||!t(e,s))i&&"object"==typeof n&&n&&!H(n)&&!G(n)&&!(n instanceof RegExp)?(e[s]||(e[s]={}),U(e[s],n,r,i)):e[s]=n}),e}function u(e,t){return function(){return t.apply(e,arguments)}}function ca(e){throw e}function da(e){if(!e)return e;var t=ba;return v(e.split("."),function(e){t=t[e]}),t}function C(e,t,n,r){return t=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e),t.requireType=e,t.requireModules=r,n&&(t.originalError=n),t}function ga(e){function n(e,t,n){var r,i,s,o,u,a,f,l,t=t&&t.split("/"),c=A.map,h=c&&c["*"];if(e){e=e.split("/"),i=e.length-1,A.nodeIdCompat&&Q.test(e[i])&&(e[i]=e[i].replace(Q,"")),"."===e[0].charAt(0)&&t&&(i=t.slice(0,t.length-1),e=i.concat(e)),i=e;for(s=0;s<i.length;s++)(o=i[s],"."===o)?(i.splice(s,1),s-=1):".."===o&&0!==s&&(1!=s||".."!==i[2])&&".."!==i[s-1]&&0<s&&(i.splice(s-1,2),s-=2);e=e.join("/")}if(n&&c&&(t||h)){i=e.split("/"),s=i.length;e:for(;0<s;s-=1){u=i.slice(0,s).join("/");if(t)for(o=t.length;0<o;o-=1)if(n=m(c,t.slice(0,o).join("/")))if(n=m(n,u)){r=n,a=s;break e}!f&&h&&m(h,u)&&(f=m(h,u),l=s)}!r&&f&&(r=f,a=l),r&&(i.splice(0,a,r),e=i.join("/"))}return(r=m(A.pkgs,e))?r:e}function r(e){z&&v(document.getElementsByTagName("script"),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===x.contextName)return t.parentNode.removeChild(t),!0})}function i(e){var t=m(A.paths,e);if(t&&H(t)&&1<t.length)return t.shift(),x.require.undef(e),x.makeRequire(null,{skipMap:!0})([e]),!0}function s(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function o(e,t,r,i){var o,u,a=null,f=t?t.name:null,l=e,c=!0,h="";return e||(c=!1,e="_@r"+(q+=1)),e=s(e),a=e[0],e=e[1],a&&(a=n(a,f,i),u=m(j,a)),e&&(a?h=u&&u.normalize?u.normalize(e,function(e){return n(e,f,i)}):-1===e.indexOf("!")?n(e,f,i):e:(h=n(e,f,i),e=s(h),a=e[0],h=e[1],r=!0,o=x.nameToUrl(h))),r=a&&!u&&!r?"_unnormalized"+(W+=1):"",{prefix:a,name:h,parentMap:t,unnormalized:!!r,url:o,originalName:l,isDefine:c,id:(a?a+"!"+h:h)+r}}function a(e){var t=e.id,n=m(O,t);return n||(n=O[t]=new x.Module(e)),n}function f(e,n,r){var i=e.id,s=m(O,i);t(j,i)&&(!s||s.defineEmitComplete)?"defined"===n&&r(j[i]):(s=a(e),s.error&&"error"===n)?r(s.error):s.on(n,r)}function l(e,t){var n=e.requireModules,r=!1;t?t(e):(v(n,function(t){if(t=m(O,t))t.error=e,t.events.error&&(r=!0,t.emit("error",e))}),!r)&&g.onError(e)}function c(){R.length&&(ha.apply(P,[P.length,0].concat(R)),R=[])}function h(e){delete O[e],delete _[e]}function p(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,v(e.depMaps,function(r,i){var s=r.id,o=m(O,s);o&&!e.depMatched[i]&&!n[s]&&(m(t,s)?(e.defineDep(i,j[s]),e.check()):p(o,t,n))}),n[r]=!0)}function d(){var e,t,n=(e=1e3*A.waitSeconds)&&x.startTime+e<(new Date).getTime(),s=[],o=[],u=!1,a=!0;if(!E){E=!0,B(_,function(e){var f=e.map,l=f.id;if(e.enabled&&(f.isDefine||o.push(e),!e.error))if(!e.inited&&n)i(l)?u=t=!0:(s.push(l),r(l));else if(!e.inited&&e.fetched&&f.isDefine&&(u=!0,!f.prefix))return a=!1});if(n&&s.length)return e=C("timeout","Load timeout for modules: "+s,null,s),e.contextName=x.contextName,l(e);a&&v(o,function(e){p(e,{},{})}),(!n||t)&&u&&(z||ea)&&!L&&(L=setTimeout(function(){L=0,d()},50)),E=!1}}function y(e){t(j,e[0])||a(o(e[0],null,!0)).init(e[1],e[2])}function b(e){var e=e.currentTarget||e.srcElement,t=x.onScriptLoad;return e.detachEvent&&!Y?e.detachEvent("onreadystatechange",t):e.removeEventListener("load",t,!1),t=x.onScriptError,(!e.detachEvent||Y)&&e.removeEventListener("error",t,!1),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function w(){var e;for(c();P.length;){e=P.shift();if(null===e[0])return l(C("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));y(e)}}var E,S,x,k,L,A={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},O={},_={},D={},P=[],j={},F={},I={},q=1,W=1;return k={require:function(e){return e.require?e.require:e.require=x.makeRequire(e.map)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports?j[e.map.id]=e.exports:e.exports=j[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return m(A.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},S=function(e){this.events=m(D,e.id)||{},this.map=e,this.shim=m(A.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},S.prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=u(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,x.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();x.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;F[e]||(F[e]=!0,x.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id;t=this.depExports;var r=this.exports,i=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(G(i)){if(this.events.error&&this.map.isDefine||g.onError!==ca)try{r=x.execCb(n,i,t,r)}catch(s){e=s}else r=x.execCb(n,i,t,r);this.map.isDefine&&void 0===r&&((t=this.module)?r=t.exports:this.usingExports&&(r=this.exports));if(e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",l(this.error=e)}else r=i;this.exports=r,this.map.isDefine&&!this.ignore&&(j[n]=r,g.onResourceLoad)&&g.onResourceLoad(x,this.map,this.depMaps),h(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,r=e.id,i=o(e.prefix);this.depMaps.push(i),f(i,"defined",u(this,function(i){var s,c;c=m(I,this.map.id);var p=this.map.name,d=this.map.parentMap?this.map.parentMap.name:null,v=x.makeRequire(e.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){if(i.normalize&&(p=i.normalize(p,function(e){return n(e,d,!0)})||""),i=o(e.prefix+"!"+p,this.map.parentMap),f(i,"defined",u(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),c=m(O,i.id))this.depMaps.push(i),this.events.error&&c.on("error",u(this,function(e){this.emit("error",e)})),c.enable()}else c?(this.map.url=x.nameToUrl(c),this.load()):(s=u(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),s.error=u(this,function(e){this.inited=!0,this.error=e,e.requireModules=[r],B(O,function(e){0===e.map.id.indexOf(r+"_unnormalized")&&h(e.map.id)}),l(e)}),s.fromText=u(this,function(n,i){var u=e.name,f=o(u),c=M;i&&(n=i),c&&(M=!1),a(f),t(A.config,r)&&(A.config[u]=A.config[r]);try{g.exec(n)}catch(h){return l(C("fromtexteval","fromText eval for "+r+" failed: "+h,h,[r]))}c&&(M=!0),this.depMaps.push(f),x.completeLoad(u),v([u],s)}),i.load(e.name,v,s,A))})),x.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){_[this.map.id]=this,this.enabling=this.enabled=!0,v(this.depMaps,u(this,function(e,n){var r,i;if("string"==typeof e){e=o(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[n]=e;if(r=m(k,e.id)){this.depExports[n]=r(this);return}this.depCount+=1,f(e,"defined",u(this,function(e){this.defineDep(n,e),this.check()})),this.errback&&f(e,"error",u(this,this.errback))}r=e.id,i=O[r],!t(k,r)&&i&&!i.enabled&&x.enable(e,this)})),B(this.pluginMaps,u(this,function(e){var t=m(O,e.id);t&&!t.enabled&&x.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){v(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},x={config:A,contextName:e,registry:O,defined:j,urlFetched:F,defQueue:P,Module:S,makeModuleMap:o,nextTick:g.nextTick,onError:l,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=A.shim,n={paths:!0,bundles:!0,config:!0,map:!0};B(e,function(e,t){n[t]?(A[t]||(A[t]={}),U(A[t],e,!0,!0)):A[t]=e}),e.bundles&&B(e.bundles,function(e,t){v(e,function(e){e!==t&&(I[e]=t)})}),e.shim&&(B(e.shim,function(e,n){H(e)&&(e={deps:e}),(e.exports||e.init)&&!e.exportsFn&&(e.exportsFn=x.makeShimExports(e)),t[n]=e}),A.shim=t),e.packages&&v(e.packages,function(e){var t,e="string"==typeof e?{name:e}:e;t=e.name,e.location&&(A.paths[t]=e.location),A.pkgs[t]=e.name+"/"+(e.main||"main").replace(ia,"").replace(Q,"")}),B(O,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=o(t))}),(e.deps||e.callback)&&x.require(e.deps||[],e.callback)},makeShimExports:function(e){return function(){var t;return e.init&&(t=e.init.apply(ba,arguments)),t||e.exports&&da(e.exports)}},makeRequire:function(i,s){function u(n,r,f){var c,h;return s.enableBuildCallback&&r&&G(r)&&(r.__requireJsBuild=!0),"string"==typeof n?G(r)?l(C("requireargs","Invalid require call"),f):i&&t(k,n)?k[n](O[i.id]):g.get?g.get(x,n,i,u):(c=o(n,i,!1,!0),c=c.id,t(j,c)?j[c]:l(C("notloaded",'Module name "'+c+'" has not been loaded yet for context: '+e+(i?"":". Use require([])")))):(w(),x.nextTick(function(){w(),h=a(o(null,i)),h.skipMap=s.skipMap,h.init(n,r,f,{enabled:!0}),d()}),u)}return s=s||{},U(u,{isBrowser:z,toUrl:function(e){var t,r=e.lastIndexOf("."),s=e.split("/")[0];return-1!==r&&("."!==s&&".."!==s||1<r)&&(t=e.substring(r,e.length),e=e.substring(0,r)),x.nameToUrl(n(e,i&&i.id,!0),t,!0)},defined:function(e){return t(j,o(e,i,!1,!0).id)},specified:function(e){return e=o(e,i,!1,!0).id,t(j,e)||t(O,e)}}),i||(u.undef=function(e){c();var t=o(e,i,!0),n=m(O,e);r(e),delete j[e],delete F[t.url],delete D[e],T(P,function(t,n){t[0]===e&&P.splice(n,1)}),n&&(n.events.defined&&(D[e]=n.events),h(e))}),u},enable:function(e){m(O,e.id)&&a(e).enable()},completeLoad:function(e){var n,r,s=m(A.shim,e)||{},o=s.exports;for(c();P.length;){r=P.shift();if(null===r[0]){r[0]=e;if(n)break;n=!0}else r[0]===e&&(n=!0);y(r)}r=m(O,e);if(!n&&!t(j,e)&&r&&!r.inited){if(A.enforceDefine&&(!o||!da(o)))return i(e)?void 0:l(C("nodefine","No define call for "+e,null,[e]));y([e,s.deps||[],s.exportsFn])}d()},nameToUrl:function(e,t,n){var r,i,s;(r=m(A.pkgs,e))&&(e=r);if(r=m(I,e))return x.nameToUrl(r,t,n);if(g.jsExtRegExp.test(e))r=e+(t||"");else{r=A.paths,e=e.split("/");for(i=e.length;0<i;i-=1)if(s=e.slice(0,i).join("/"),s=m(r,s)){H(s)&&(s=s[0]),e.splice(0,i,s);break}r=e.join("/"),r+=t||(/^data\:|\?/.test(r)||n?"":".js"),r=("/"===r.charAt(0)||r.match(/^[\w\+\.\-]+:/)?"":A.baseUrl)+r}return A.urlArgs?r+((-1===r.indexOf("?")?"?":"&")+A.urlArgs):r},load:function(e,t){g.load(x,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||ja.test((e.currentTarget||e.srcElement).readyState))N=null,e=b(e),x.completeLoad(e.id)},onScriptError:function(e){var t=b(e);if(!i(t.id))return l(C("scripterror","Script error for: "+t.id,e,[t.id]))}},x.require=x.makeRequire(),x}var g,x,y,D,I,E,N,J,s,O,ka=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,la=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,Q=/\.js$/,ia=/^\.\//;x=Object.prototype;var K=x.toString,fa=x.hasOwnProperty,ha=Array.prototype.splice,z="undefined"!=typeof window&&"undefined"!=typeof navigator&&!!window.document,ea=!z&&"undefined"!=typeof importScripts,ja=z&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Y="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),F={},q={},R=[],M=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(G(requirejs))return;q=requirejs,requirejs=void 0}"undefined"!=typeof require&&!G(require)&&(q=require,require=void 0),g=requirejs=function(e,t,n,r){var i,s="_";return!H(e)&&"string"!=typeof e&&(i=e,H(t)?(e=t,t=n,n=r):e=[]),i&&i.context&&(s=i.context),(r=m(F,s))||(r=F[s]=g.s.newContext(s)),i&&r.configure(i),r.require(e,t,n)},g.config=function(e){return g(e)},g.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=g),g.version="2.1.14",g.jsExtRegExp=/^\/|:|\?|\.js$/,g.isBrowser=z,x=g.s={contexts:F,newContext:ga},g({}),v(["toUrl","undef","defined","specified"],function(e){g[e]=function(){var t=F._;return t.require[e].apply(t,arguments)}}),z&&(y=x.head=document.getElementsByTagName("head")[0],D=document.getElementsByTagName("base")[0])&&(y=x.head=D.parentNode),g.onError=ca,g.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},g.load=function(e,t,n){var r=e&&e.config||{};if(z)return r=g.createNode(r,t,n),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),r.attachEvent&&!(r.attachEvent.toString&&0>r.attachEvent.toString().indexOf("[native code"))&&!Y?(M=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)):(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)),r.src=n,J=r,D?y.insertBefore(r,D):y.appendChild(r),J=null,r;if(ea)try{importScripts(n),e.completeLoad(t)}catch(i){e.onError(C("importscripts","importScripts failed for "+t+" at "+n,i,[t]))}},z&&!q.skipDataMain&&T(document.getElementsByTagName("script"),function(e){y||(y=e.parentNode);if(I=e.getAttribute("data-main"))return s=I,q.baseUrl||(E=s.split("/"),s=E.pop(),O=E.length?E.join("/")+"/":"./",q.baseUrl=O),s=s.replace(Q,""),g.jsExtRegExp.test(s)&&(s=I),q.deps=q.deps?q.deps.concat(s):[s],!0}),define=function(e,t,n){var r,i;"string"!=typeof e&&(n=t,t=e,e=null),H(t)||(n=t,t=null),!t&&G(n)&&(t=[],n.length&&(n.toString().replace(ka,"").replace(la,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),M&&((r=J)||(N&&"interactive"===N.readyState||T(document.getElementsByTagName("script"),function(e){if("interactive"===e.readyState)return N=e}),r=N),r&&(e||(e=r.getAttribute("data-requiremodule")),i=F[r.getAttribute("data-requirecontext")])),(i?i.defQueue:R).push([e,t,n])},define.amd={jQuery:!0},g.exec=function(b){return eval(b)},g(q)}})(this),define("requireLib",function(){}),function(e,t){function P(e){var t=e.length,n=b.type(e);return b.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||n!=="function"&&(t===0||typeof t=="number"&&t>0&&t-1 in e)}function B(e){var t=H[e]={};return b.each(e.match(E)||[],function(e,n){t[n]=!0}),t}function I(e,n,r,i){if(!b.acceptData(e))return;var s,o,u=b.expando,a=typeof n=="string",f=e.nodeType,c=f?b.cache:e,h=f?e[u]:e[u]&&u;if((!h||!c[h]||!i&&!c[h].data)&&a&&r===t)return;h||(f?e[u]=h=l.pop()||b.guid++:h=u),c[h]||(c[h]={},f||(c[h].toJSON=b.noop));if(typeof n=="object"||typeof n=="function")i?c[h]=b.extend(c[h],n):c[h].data=b.extend(c[h].data,n);return s=c[h],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[b.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[b.camelCase(n)])):o=s,o}function q(e,t,n){if(!b.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?b.cache:e,a=o?e[b.expando]:b.expando;if(!u[a])return;if(t){s=n?u[a]:u[a].data;if(s){b.isArray(t)?t=t.concat(b.map(t,b.camelCase)):t in s?t=[t]:(t=b.camelCase(t),t in s?t=[t]:t=t.split(" "));for(r=0,i=t.length;r<i;r++)delete s[t[r]];if(!(n?U:b.isEmptyObject)(s))return}}if(!n){delete u[a].data;if(!U(u[a]))return}o?b.cleanData([e],!0):b.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null}function R(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(F,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:j.test(r)?b.parseJSON(r):r}catch(s){}b.data(e,n,r)}else r=t}return r}function U(e){var t;for(t in e){if(t==="data"&&b.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function it(){return!0}function st(){return!1}function ct(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ht(e,t,n){t=t||0;if(b.isFunction(t))return b.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return b.grep(e,function(e){return e===t===n});if(typeof t=="string"){var r=b.grep(e,function(e){return e.nodeType===1});if(at.test(t))return b.filter(t,r,!n);t=b.filter(t,r)}return b.grep(e,function(e){return b.inArray(e,t)>=0===n})}function pt(e){var t=dt.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Mt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function _t(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function Dt(e){var t=Ct.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Pt(e,t){var n,r=0;for(;(n=e[r])!=null;r++)b._data(n,"globalEval",!t||b._data(t[r],"globalEval"))}function Ht(e,t){if(t.nodeType!==1||!b.hasData(e))return;var n,r,i,s=b._data(e),o=b._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)b.event.add(t,n,u[n][r])}o.data&&(o.data=b.extend({},o.data))}function Bt(e,t){var n,r,i;if(t.nodeType!==1)return;n=t.nodeName.toLowerCase();if(!b.support.noCloneEvent&&t[b.expando]){i=b._data(t);for(r in i.events)b.removeEvent(t,r,i.handle);t.removeAttribute(b.expando)}if(n==="script"&&t.text!==e.text)_t(t).text=e.text,Dt(t);else if(n==="object")t.parentNode&&(t.outerHTML=e.outerHTML),b.support.html5Clone&&e.innerHTML&&!b.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML);else if(n==="input"&&xt.test(e.type))t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value);else if(n==="option")t.defaultSelected=t.selected=e.defaultSelected;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function jt(e,n){var r,s,o=0,u=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!u)for(u=[],r=e.childNodes||e;(s=r[o])!=null;o++)!n||b.nodeName(s,n)?u.push(s):b.merge(u,jt(s,n));return n===t||n&&b.nodeName(e,n)?b.merge([e],u):u}function Ft(e){xt.test(e.type)&&(e.defaultChecked=e.checked)}function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--){t=en[i]+n;if(t in e)return t}return r}function nn(e,t){return e=t||e,b.css(e,"display")==="none"||!b.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=b._data(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&nn(r)&&(s[o]=b._data(r,"olddisplay",an(r.nodeName)))):s[o]||(i=nn(r),(n&&n!=="none"||!i)&&b._data(r,"olddisplay",i?n:b.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function sn(e,t,n){var r=$t.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function on(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=b.css(e,n+Zt[s],!0,i)),r?(n==="content"&&(o-=b.css(e,"padding"+Zt[s],!0,i)),n!=="margin"&&(o-=b.css(e,"border"+Zt[s]+"Width",!0,i))):(o+=b.css(e,"padding"+Zt[s],!0,i),n!=="padding"&&(o+=b.css(e,"border"+Zt[s]+"Width",!0,i)));return o}function un(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=qt(e),o=b.support.boxSizing&&b.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=Rt(e,t,s);if(i<0||i==null)i=e.style[t];if(Jt.test(i))return i;r=o&&(b.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+on(e,t,n||(o?"border":"content"),r,s)+"px"}function an(e){var t=s,n=Qt[e];if(!n){n=fn(e,t);if(n==="none"||!n)It=(It||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(It[0].contentWindow||It[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=fn(e,t),It.detach();Qt[e]=n}return n}function fn(e,t){var n=b(t.createElement(e)).appendTo(t.body),r=b.css(n[0],"display");return n.remove(),r}function vn(e,t,n,r){var i;if(b.isArray(t))b.each(t,function(t,i){n||cn.test(e)?r(e,i):vn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&b.type(t)==="object")for(i in t)vn(e+"["+i+"]",t[i],n,r);else r(e,t)}function _n(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(E)||[];if(b.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Dn(e,t,n,r){function o(u){var a;return i[u]=!0,b.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===An;return o(t.dataTypes[0])||!i["*"]&&o("*")}function Pn(e,n){var r,i,s=b.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((s[i]?e:r||(r={}))[i]=n[i]);return r&&b.extend(!0,e,r),e}function Hn(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(u in l)u in r&&(n[l[u]]=r[u]);while(f[0]==="*")f.shift(),s===t&&(s=e.mimeType||n.getResponseHeader("Content-Type"));if(s)for(u in a)if(a[u]&&a[u].test(s)){f.unshift(u);break}if(f[0]in r)o=f[0];else{for(u in r){if(!f[0]||e.converters[u+" "+f[0]]){o=u;break}i||(i=u)}o=o||i}if(o)return o!==f[0]&&f.unshift(o),r[o]}function Bn(e,t){var n,r,i,s,o={},u=0,a=e.dataTypes.slice(),f=a[0];e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(a[1])for(i in e.converters)o[i.toLowerCase()]=e.converters[i];for(;r=a[++u];)if(r!=="*"){if(f!=="*"&&f!==r){i=o[f+" "+r]||o["* "+r];if(!i)for(n in o){s=n.split(" ");if(s[1]===r){i=o[f+" "+s[0]]||o["* "+s[0]];if(i){i===!0?i=o[n]:o[n]!==!0&&(r=s[0],a.splice(u--,0,r));break}}}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(l){return{state:"parsererror",error:i?l:"No conversion from "+f+" to "+r}}}f=r}return{state:"success",data:t}}function zn(){try{return new e.XMLHttpRequest}catch(t){}}function Wn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Yn(){return setTimeout(function(){Xn=t}),Xn=b.now()}function Zn(e,t){b.each(t,function(t,n){var r=(Gn[t]||[]).concat(Gn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function er(e,t,n){var r,i,s=0,o=Qn.length,u=b.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=Xn||Yn(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Yn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;tr(l,f.opts.specialEasing);for(;s<o;s++){r=Qn[s].call(f,e,l,f.opts);if(r)return r}return Zn(f,l),b.isFunction(f.opts.start)&&f.opts.start.call(e,f),b.fx.timer(b.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function tr(e,t){var n,r,i,s,o;for(i in e){r=b.camelCase(i),s=t[r],n=e[i],b.isArray(n)&&(s=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),o=b.cssHooks[r];if(o&&"expand"in o){n=o.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=s)}else t[r]=s}}function nr(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},v=[],m=e.nodeType&&nn(e);n.queue||(l=b._queueHooks(e,"fx"),l.unqueued==null&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,b.queue(e,"fx").length||l.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],b.css(e,"display")==="inline"&&b.css(e,"float")==="none"&&(!b.support.inlineBlockNeedsLayout||an(e.nodeName)==="inline"?p.display="inline-block":p.zoom=1)),n.overflow&&(p.overflow="hidden",b.support.shrinkWrapBlocks||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t){o=t[i];if($n.exec(o)){delete t[i],a=a||o==="toggle";if(o===(m?"hide":"show"))continue;v.push(i)}}s=v.length;if(s){u=b._data(e,"fxshow")||b._data(e,"fxshow",{}),"hidden"in u&&(m=u.hidden),a&&(u.hidden=!m),m?b(e).show():h.done(function(){b(e).hide()}),h.done(function(){var t;b._removeData(e,"fxshow");for(t in d)b.style(e,t,d[t])});for(i=0;i<s;i++)r=v[i],f=h.createTween(r,m?u[r]:0),d[r]=u[r]||b.style(e,r),r in u||(u[r]=f.start,m&&(f.end=f.start,f.start=r==="width"||r==="height"?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}function ir(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function sr(e){return b.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=typeof t,s=e.document,o=e.location,u=e.jQuery,a=e.$,f={},l=[],c="1.9.1",h=l.concat,p=l.push,d=l.slice,v=l.indexOf,m=f.toString,g=f.hasOwnProperty,y=c.trim,b=function(e,t){return new b.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,E=/\S+/g,S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,x=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,T=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,N=/^[\],:{}\s]*$/,C=/(?:^|:|,)(?:\s*\[)+/g,k=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,L=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,A=/^-ms-/,O=/-([\da-z])/gi,M=function(e,t){return t.toUpperCase()},_=function(e){if(s.addEventListener||e.type==="load"||s.readyState==="complete")D(),b.ready()},D=function(){s.addEventListener?(s.removeEventListener("DOMContentLoaded",_,!1),e.removeEventListener("load",_,!1)):(s.detachEvent("onreadystatechange",_),e.detachEvent("onload",_))};b.fn=b.prototype={jquery:c,constructor:b,init:function(e,n,r){var i,o;if(!e)return this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=x.exec(e);if(i&&(i[1]||!n)){if(i[1]){n=n instanceof b?n[0]:n,b.merge(this,b.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:s,!0));if(T.test(i[1])&&b.isPlainObject(n))for(i in n)b.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}o=s.getElementById(i[2]);if(o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=s,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):b.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),b.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return d.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return b.each(this,e,t)},ready:function(e){return b.ready.promise().done(e),this},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:p,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b.extend=b.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!b.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((s=arguments[a])!=null)for(i in s){e=u[i],r=s[i];if(u===r)continue;l&&r&&(b.isPlainObject(r)||(n=b.isArray(r)))?(n?(n=!1,o=e&&b.isArray(e)?e:[]):o=e&&b.isPlainObject(e)?e:{},u[i]=b.extend(l,o,r)):r!==t&&(u[i]=r)}return u},b.extend({noConflict:function(t){return e.$===b&&(e.$=a),t&&e.jQuery===b&&(e.jQuery=u),b},isReady:!1,readyWait:1,holdReady:function(e){e?b.readyWait++:b.ready(!0)},ready:function(e){if(e===!0?--b.readyWait:b.isReady)return;if(!s.body)return setTimeout(b.ready);b.isReady=!0;if(e!==!0&&--b.readyWait>0)return;n.resolveWith(s,[b]),b.fn.trigger&&b(s).trigger("ready").off("ready")},isFunction:function(e){return b.type(e)==="function"},isArray:Array.isArray||function(e){return b.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):typeof e=="object"||typeof e=="function"?f[m.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||b.type(e)!=="object"||e.nodeType||b.isWindow(e))return!1;try{if(e.constructor&&!g.call(e,"constructor")&&!g.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||g.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||s;var r=T.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=b.buildFragment([e],t,i),i&&b(i).remove(),b.merge([],r.childNodes))},parseJSON:function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(t===null)return t;if(typeof t=="string"){t=b.trim(t);if(t&&N.test(t.replace(k,"@").replace(L,"]").replace(C,"")))return(new Function("return "+t))()}b.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&b.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&b.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(A,"ms-").replace(O,M)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=P(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:y&&!y.call("﻿ ")?function(e){return e==null?"":y.call(e)}:function(e){return e==null?"":(e+"").replace(S,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(P(Object(e))?b.merge(n,typeof e=="string"?[e]:e):p.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(v)return v.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=P(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&(u[u.length]=r);else for(i in e)r=t(e[i],i,n),r!=null&&(u[u.length]=r);return h.apply([],u)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(s=e[n],n=e,e=s),b.isFunction(e)?(r=d.call(arguments,2),i=function(){return e.apply(n||this,r.concat(d.call(arguments)))},i.guid=e.guid=e.guid||b.guid++,i):t},access:function(e,n,r,i,s,o,u){var a=0,f=e.length,l=r==null;if(b.type(r)==="object"){s=!0;for(a in r)b.access(e,n,a,r[a],!0,o,u)}else if(i!==t){s=!0,b.isFunction(i)||(u=!0),l&&(u?(n.call(e,i),n=null):(l=n,n=function(e,t,n){return l.call(b(e),n)}));if(n)for(;a<f;a++)n(e[a],r,u?i:i.call(e[a],a,n(e[a],r)))}return s?e:l?n.call(e):f?n(e[0],r):o},now:function(){return(new Date).getTime()}}),b.ready.promise=function(t){if(!n){n=b.Deferred();if(s.readyState==="complete")setTimeout(b.ready);else if(s.addEventListener)s.addEventListener("DOMContentLoaded",_,!1),e.addEventListener("load",_,!1);else{s.attachEvent("onreadystatechange",_),e.attachEvent("onload",_);var r=!1;try{r=e.frameElement==null&&s.documentElement}catch(i){}r&&r.doScroll&&function o(){if(!b.isReady){try{r.doScroll("left")}catch(e){return setTimeout(o,50)}D(),b.ready()}}()}}return n.promise(t)},b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()}),r=b(s);var H={};b.Callbacks=function(e){e=typeof e=="string"?H[e]||B(e):b.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){r=e.memory&&t,i=!0,o=u||0,u=0,s=a.length,n=!0;for(;a&&o<s;o++)if(a[o].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,a&&(f?f.length&&l(f.shift()):r?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);r==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&r!=="string"&&i(n)})})(arguments),n?s=a.length:r&&(u=t,l(r))}return this},remove:function(){return a&&b.each(arguments,function(e,t){var r;while((r=b.inArray(t,a,r))>-1)a.splice(r,1),n&&(r<=s&&s--,r<=o&&o--)}),this},has:function(e){return e?b.inArray(e,a)>-1:!!a&&!!a.length},empty:function(){return a=[],this},disable:function(){return a=f=r=t,this},disabled:function(){return!a},lock:function(){return f=t,r||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!i||f)&&(n?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},b.extend({Deferred:function(e){var t=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return b.Deferred(function(n){b.each(t,function(t,s){var o=s[0],u=b.isFunction(e[t])&&e[t];i[s[1]](function(){var e=u&&u.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?b.extend(e,r):r}},i={};return r.pipe=r.then,b.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=d.call(arguments),r=n.length,i=r!==1||e&&b.isFunction(e.promise)?r:0,s=i===1?e:b.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?d.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&b.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),b.support=function(){var t,n,r,o,u,a,f,l,c,h,p=s.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0];if(!n||!r||!n.length)return{};u=s.createElement("select"),f=u.appendChild(s.createElement("option")),o=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:p.className!=="t",leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!o.value,optSelected:f.selected,enctype:!!s.createElement("form").enctype,html5Clone:s.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:s.compatMode==="CSS1Compat",deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,u.disabled=!0,t.optDisabled=!f.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}o=s.createElement("input"),o.setAttribute("value",""),t.input=o.getAttribute("value")==="",o.value="t",o.setAttribute("type","radio"),t.radioValue=o.value==="t",o.setAttribute("checked","t"),o.setAttribute("name","t"),a=s.createDocumentFragment(),a.appendChild(o),t.appendChecked=o.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,p.attachEvent&&(p.attachEvent("onclick",function(){t.noCloneEvent=!1}),p.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})p.setAttribute(l="on"+h,"t"),t[h+"Bubbles"]=l in e||p.attributes[l].expando===!1;return p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle=p.style.backgroundClip==="content-box",b(function(){var n,r,o,u="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=s.getElementsByTagName("body")[0];if(!a)return;n=s.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(p),p.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=p.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=o[0].offsetHeight===0,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=c&&o[0].offsetHeight===0,p.innerHTML="",p.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=p.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(p,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(p,null)||{width:"4px"}).width==="4px",r=p.appendChild(s.createElement("div")),r.style.cssText=p.style.cssText=u,r.style.marginRight=r.style.width="0",p.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof p.style.zoom!==i&&(p.innerHTML="",p.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.innerHTML="<div></div>",p.firstChild.style.width="5px",t.shrinkWrapBlocks=p.offsetWidth!==3,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=p=o=r=null}),n=u=a=f=r=o=null,t}();var j=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,F=/([A-Z])/g;b.extend({cache:{},expando:"jQuery"+(c+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?b.cache[e[b.expando]]:e[b.expando],!!e&&!U(e)},data:function(e,t,n){return I(e,t,n)},removeData:function(e,t){return q(e,t)},_data:function(e,t,n){return I(e,t,n,!0)},_removeData:function(e,t){return q(e,t,!0)},acceptData:function(e){if(e.nodeType&&e.nodeType!==1&&e.nodeType!==9)return!1;var t=e.nodeName&&b.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),b.fn.extend({data:function(e,n){var r,i,s=this[0],o=0,u=null;if(e===t){if(this.length){u=b.data(s);if(s.nodeType===1&&!b._data(s,"parsedAttrs")){r=s.attributes;for(;o<r.length;o++)i=r[o].name,i.indexOf("data-")||(i=b.camelCase(i.slice(5)),R(s,i,u[i]));b._data(s,"parsedAttrs",!0)}}return u}return typeof e=="object"?this.each(function(){b.data(this,e)}):b.access(this,function(n){if(n===t)return s?R(s,e,b.data(s,e)):null;this.each(function(){b.data(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){b.removeData(this,e)})}}),b.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=b._data(e,t),n&&(!r||b.isArray(n)?r=b._data(e,t,b.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),s=b._queueHooks(e,t),o=function(){b.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),s.cur=i,i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return b._data(e,n)||b._data(e,n,{empty:b.Callbacks("once memory").add(function(){b._removeData(e,t+"queue"),b._removeData(e,n)})})}}),b.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?b.queue(this[0],e):n===t?this:this.each(function(){var t=b.queue(this,e,n);b._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(e,t){return e=b.fx?b.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=b.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=b._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var z,W,X=/[\t\r\n]/g,V=/\r/g,$=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,K=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Q=/^(?:checked|selected)$/i,G=b.support.getSetAttribute,Y=b.support.input;b.fn.extend({attr:function(e,t){return b.access(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,t){return b.access(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return e=b.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=typeof e=="string"&&e;if(b.isFunction(e))return this.each(function(t){b(this).addClass(e.call(this,t,this.className))});if(a){t=(e||"").match(E)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(X," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=b.trim(r)}}}return this},removeClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=arguments.length===0||typeof e=="string"&&e;if(b.isFunction(e))return this.each(function(t){b(this).removeClass(e.call(this,t,this.className))});if(a){t=(e||"").match(E)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(X," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?b.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return b.isFunction(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var s,o=0,u=b(this),a=t,f=e.match(E)||[];while(s=f[o++])a=r?a:!u.hasClass(s),u[a?"addClass":"removeClass"](s)}else if(n===i||n==="boolean")this.className&&b._data(this,"__className__",this.className),this.className=this.className||e===!1?"":b._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(X," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return r=b.valHooks[s.type]||b.valHooks[s.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(s,"value"))!==t?n:(n=s.value,typeof n=="string"?n.replace(V,""):n==null?"":n);return}return i=b.isFunction(e),this.each(function(n){var s,o=b(this);if(this.nodeType!==1)return;i?s=e.call(this,n,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":b.isArray(s)&&(s=b.map(s,function(e){return e==null?"":e+""})),r=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()];if(!r||!("set"in r)||r.set(this,s,"value")===t)this.value=s})}}),b.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(b.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!b.nodeName(n.parentNode,"optgroup"))){t=b(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n=b.makeArray(t);return b(e).find("option").each(function(){this.selected=b.inArray(b(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(typeof e.getAttribute===i)return b.prop(e,n,r);o=a!==1||!b.isXMLDoc(e),o&&(n=n.toLowerCase(),s=b.attrHooks[n]||(K.test(n)?W:z));if(r===t)return s&&o&&"get"in s&&(u=s.get(e,n))!==null?u:(typeof e.getAttribute!==i&&(u=e.getAttribute(n)),u==null?t:u);if(r!==null)return s&&o&&"set"in s&&(u=s.set(e,r,n))!==t?u:(e.setAttribute(n,r+""),r);b.removeAttr(e,n)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(E);if(s&&e.nodeType===1)while(n=s[i++])r=b.propFix[n]||n,K.test(n)?!G&&Q.test(n)?e[b.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:b.attr(e,n,""),e.removeAttribute(G?n:r)},attrHooks:{type:{set:function(e,t){if(!b.support.radioValue&&t==="radio"&&b.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!b.isXMLDoc(e),o&&(n=b.propFix[n]||n,s=b.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):$.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:t}}}}),W={get:function(e,n){var r=b.prop(e,n),i=typeof r=="boolean"&&e.getAttribute(n),s=typeof r=="boolean"?Y&&G?i!=null:Q.test(n)?e[b.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return s&&s.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?b.removeAttr(e,n):Y&&G||!Q.test(n)?e.setAttribute(!G&&b.propFix[n]||n,n):e[b.camelCase("default-"+n)]=e[n]=!0,n}};if(!Y||!G)b.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return b.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,t,n){if(!b.nodeName(e,"input"))return z&&z.set(e,t,n);e.defaultValue=t}};G||(z=b.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&(n==="id"||n==="name"||n==="coords"?r.value!=="":r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="",r==="value"||n===e.getAttribute(r)?n:t}},b.attrHooks.contenteditable={get:z.get,set:function(e,t,n){z.set(e,t===""?!1:t,n)}},b.each(["width","height"],function(e,t){b.attrHooks[t]=b.extend(b.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})})),b.support.hrefNormalized||(b.each(["href","src","width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r==null?t:r}})}),b.each(["href","src"],function(e,t){b.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),b.support.style||(b.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),b.support.optSelected||(b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),b.support.enctype||(b.propFix.enctype="encoding"),b.support.checkOn||b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,t){if(b.isArray(t))return e.checked=b.inArray(b(e).val(),t)>=0}})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;b.event={global:{},add:function(e,n,r,s,o){var u,a,f,l,c,h,p,d,v,m,g,y=b._data(e);if(!y)return;r.handler&&(l=r,r=l.handler,o=l.selector),r.guid||(r.guid=b.guid++),(a=y.events)||(a=y.events={}),(h=y.handle)||(h=y.handle=function(e){return typeof b===i||!!e&&b.event.triggered===e.type?t:b.event.dispatch.apply(h.elem,arguments)},h.elem=e),n=(n||"").match(E)||[""],f=n.length;while(f--){u=rt.exec(n[f])||[],v=g=u[1],m=(u[2]||"").split(".").sort(),c=b.event.special[v]||{},v=(o?c.delegateType:c.bindType)||v,c=b.event.special[v]||{},p=b.extend({type:v,origType:g,data:s,handler:r,guid:r.guid,selector:o,needsContext:o&&b.expr.match.needsContext.test(o),namespace:m.join(".")},l);if(!(d=a[v])){d=a[v]=[],d.delegateCount=0;if(!c.setup||c.setup.call(e,s,m,h)===!1)e.addEventListener?e.addEventListener(v,h,!1):e.attachEvent&&e.attachEvent("on"+v,h)}c.add&&(c.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,p):d.push(p),b.event.global[v]=!0}e=null},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=b.hasData(e)&&b._data(e);if(!m||!(l=m.events))return;t=(t||"").match(E)||[""],f=t.length;while(f--){u=rt.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in l)b.event.remove(e,p+t[f],n,r,!0);continue}c=b.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=l[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=h.length;while(s--)o=h[s],(i||v===o.origType)&&(!n||n.guid===o.guid)&&(!u||u.test(o.namespace))&&(!r||r===o.selector||r==="**"&&o.selector)&&(h.splice(s,1),o.selector&&h.delegateCount--,c.remove&&c.remove.call(e,o));a&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&b.removeEvent(e,p,m.handle),delete l[p])}b.isEmptyObject(l)&&(delete m.handle,b._removeData(e,"events"))},trigger:function(n,r,i,o){var u,a,f,l,c,h,p,d=[i||s],v=g.call(n,"type")?n.type:n,m=g.call(n,"namespace")?n.namespace.split("."):[];f=h=i=i||s;if(i.nodeType===3||i.nodeType===8)return;if(nt.test(v+b.event.triggered))return;v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),a=v.indexOf(":")<0&&"on"+v,n=n[b.expando]?n:new b.Event(v,typeof n=="object"&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=r==null?[n]:b.makeArray(r,[n]),c=b.event.special[v]||{};if(!o&&c.trigger&&c.trigger.apply(i,r)===!1)return;if(!o&&!c.noBubble&&!b.isWindow(i)){l=c.delegateType||v,nt.test(l+v)||(f=f.parentNode);for(;f;f=f.parentNode)d.push(f),h=f;h===(i.ownerDocument||s)&&d.push(h.defaultView||h.parentWindow||e)}p=0;while((f=d[p++])&&!n.isPropagationStopped())n.type=p>1?l:c.bindType||v,u=(b._data(f,"events")||{})[n.type]&&b._data(f,"handle"),u&&u.apply(f,r),u=a&&f[a],u&&b.acceptData(f)&&u.apply&&u.apply(f,r)===!1&&n.preventDefault();n.type=v;if(!o&&!n.isDefaultPrevented()&&(!c._default||c._default.apply(i.ownerDocument,r)===!1)&&(v!=="click"||!b.nodeName(i,"a"))&&b.acceptData(i)&&a&&i[v]&&!b.isWindow(i)){h=i[a],h&&(i[a]=null),b.event.triggered=v;try{i[v]()}catch(y){}b.event.triggered=t,h&&(i[a]=h)}return n.result},dispatch:function(e){e=b.event.fix(e);var n,r,i,s,o,u=[],a=d.call(arguments),f=(b._data(this,"events")||{})[e.type]||[],l=b.event.special[e.type]||{};a[0]=e,e.delegateTarget=this;if(l.preDispatch&&l.preDispatch.call(this,e)===!1)return;u=b.event.handlers.call(this,e,f),n=0;while((s=u[n++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,o=0;while((i=s.handlers[o++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(i.namespace))e.handleObj=i,e.data=i.data,r=((b.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return l.postDispatch&&l.postDispatch.call(this,e),e.result},handlers:function(e,n){var r,i,s,o,u=[],a=n.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||e.type!=="click"))for(;f!=this;f=f.parentNode||this)if(f.nodeType===1&&(f.disabled!==!0||e.type!=="click")){s=[];for(o=0;o<a;o++)i=n[o],r=i.selector+" ",s[r]===t&&(s[r]=i.needsContext?b(r,this).index(f)>=0:b.find(r,this,null,[f]).length),s[r]&&s.push(i);s.length&&u.push({elem:f,handlers:s})}return a<n.length&&u.push({elem:this,handlers:n.slice(a)}),u},fix:function(e){if(e[b.expando])return e;var t,n,r,i=e.type,o=e,u=this.fixHooks[i];u||(this.fixHooks[i]=u=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=u.props?this.props.concat(u.props):this.props,e=new b.Event(o),t=r.length;while(t--)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||s),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,u.filter?u.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(i=e.target.ownerDocument||s,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){if(b.nodeName(this,"input")&&this.type==="checkbox"&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==s.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===s.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=b.extend(new b.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?b.event.trigger(i,null,t):b.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},b.removeEvent=s.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},b.Event=function(e,t){if(!(this instanceof b.Event))return new b.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:st):this.type=e,t&&b.extend(this,t),this.timeStamp=e&&e.timeStamp||b.now(),this[b.expando]=!0},b.Event.prototype={isDefaultPrevented:st,isPropagationStopped:st,isImmediatePropagationStopped:st,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!b.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),b.support.submitBubbles||(b.event.special.submit={setup:function(){if(b.nodeName(this,"form"))return!1;b.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=b.nodeName(n,"input")||b.nodeName(n,"button")?n.form:t;r&&!b._data(r,"submitBubbles")&&(b.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),b._data(r,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&b.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(b.nodeName(this,"form"))return!1;b.event.remove(this,"._submit")}}),b.support.changeBubbles||(b.event.special.change={setup:function(){if(Z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")b.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),b.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),b.event.simulate("change",this,e,!0)});return!1}b.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!b._data(t,"changeBubbles")&&(b.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&b.event.simulate("change",this.parentNode,e,!0)}),b._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return b.event.remove(this,"._change"),!Z.test(this.nodeName)}}),b.support.focusinBubbles||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){b.event.simulate(t,e.target,b.event.fix(e),!0)};b.event.special[t]={setup:function(){n++===0&&s.addEventListener(e,r,!0)},teardown:function(){--n===0&&s.removeEventListener(e,r,!0)}}}),b.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(o in e)this.on(o,n,r,e[o],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=st;else if(!i)return this;return s===1&&(u=i,i=function(e){return b().off(e),u.apply(this,arguments)},i.guid=u.guid||(u.guid=b.guid++)),this.each(function(){b.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,b(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=st),this.each(function(){b.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return b.event.trigger(e,t,n,!0)}}),function(e,t){function rt(e){return J.test(e+"")}function it(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function st(e){return e[w]=!0,e}function ot(e){var t=c.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function ut(e,t,n,r){var i,s,o,u,a,f,h,v,m,y;(t?t.ownerDocument||t:E)!==c&&l(t),t=t||c,n=n||[];if(!e||typeof e!="string")return n;if((u=t.nodeType)!==1&&u!==9)return[];if(!p&&!r){if(i=K.exec(e))if(o=i[1]){if(u===9){s=t.getElementById(o);if(!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&g(t,s)&&s.id===o)return n.push(s),n}else{if(i[2])return _.apply(n,D.call(t.getElementsByTagName(e),0)),n;if((o=i[3])&&S.getByClassName&&t.getElementsByClassName)return _.apply(n,D.call(t.getElementsByClassName(o),0)),n}if(S.qsa&&!d.test(e)){h=!0,v=w,m=t,y=u===9&&e;if(u===1&&t.nodeName.toLowerCase()!=="object"){f=ht(e),(h=t.getAttribute("id"))?v=h.replace(Y,"\\$&"):t.setAttribute("id",v),v="[id='"+v+"'] ",a=f.length;while(a--)f[a]=v+pt(f[a]);m=$.test(e)&&t.parentNode||t,y=f.join(",")}if(y)try{return _.apply(n,D.call(m.querySelectorAll(y),0)),n}catch(b){}finally{h||t.removeAttribute("id")}}}return Et(e.replace(R,"$1"),t,n,r)}function at(e,t){var n=t&&e,r=n&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function ct(e){return st(function(t){return t=+t,st(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ht(e,t){var n,r,s,o,u,a,f,l=C[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=U.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(s=[]);n=!1;if(r=z.exec(u))n=r.shift(),s.push({value:n,type:r[0].replace(R," ")}),u=u.slice(n.length);for(o in i.filter)(r=V[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(n=r.shift(),s.push({value:n,type:o,matches:r}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ut.error(e):C(e,a).slice(0)}function pt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function dt(e,t,n){var i=t.dir,s=n&&i==="parentNode",o=T++;return t.first?function(t,n,r){while(t=t[i])if(t.nodeType===1||s)return e(t,n,r)}:function(t,n,u){var a,f,l,c=x+" "+o;if(u){while(t=t[i])if(t.nodeType===1||s)if(e(t,n,u))return!0}else while(t=t[i])if(t.nodeType===1||s){l=t[w]||(t[w]={});if((f=l[i])&&f[0]===c){if((a=f[1])===!0||a===r)return a===!0}else{f=l[i]=[c],f[1]=e(t,n,u)||r;if(f[1]===!0)return!0}}}}function vt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function mt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function gt(e,t,n,r,i,s){return r&&!r[w]&&(r=gt(r)),i&&!i[w]&&(i=gt(i,s)),st(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||wt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?mt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=mt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?P.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=mt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):_.apply(o,g)})}function yt(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,l=dt(function(e){return e===t},u,!0),c=dt(function(e){return P.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[dt(vt(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[w]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return gt(a>1&&vt(h),a>1&&pt(e.slice(0,a-1)).replace(R,"$1"),n,a<r&&yt(e.slice(a,r)),r<s&&yt(e=e.slice(r)),r<s&&pt(e))}h.push(n)}return vt(h)}function bt(e,t){var n=0,s=t.length>0,o=e.length>0,u=function(u,a,l,h,p){var d,v,m,g=[],y=0,b="0",w=u&&[],E=p!=null,S=f,T=u||o&&i.find.TAG("*",p&&a.parentNode||a),N=x+=S==null?1:Math.random()||.1;E&&(f=a!==c&&a,r=n);for(;(d=T[b])!=null;b++){if(o&&d){v=0;while(m=e[v++])if(m(d,a,l)){h.push(d);break}E&&(x=N,r=++n)}s&&((d=!m&&d)&&y--,u&&w.push(d))}y+=b;if(s&&b!==y){v=0;while(m=t[v++])m(w,g,a,l);if(u){if(y>0)while(b--)!w[b]&&!g[b]&&(g[b]=M.call(h));g=mt(g)}_.apply(h,g),E&&!u&&g.length>0&&y+t.length>1&&ut.uniqueSort(h)}return E&&(x=N,f=S),w};return s?st(u):u}function wt(e,t,n){var r=0,i=t.length;for(;r<i;r++)ut(e,t[r],n);return n}function Et(e,t,n,r){var s,o,a,f,l,c=ht(e);if(!r&&c.length===1){o=c[0]=c[0].slice(0);if(o.length>2&&(a=o[0]).type==="ID"&&t.nodeType===9&&!p&&i.relative[o[1].type]){t=i.find.ID(a.matches[0].replace(et,tt),t)[0];if(!t)return n;e=e.slice(o.shift().value.length)}s=V.needsContext.test(e)?0:o.length;while(s--){a=o[s];if(i.relative[f=a.type])break;if(l=i.find[f])if(r=l(a.matches[0].replace(et,tt),$.test(o[0].type)&&t.parentNode||t)){o.splice(s,1),e=r.length&&pt(o);if(!e)return _.apply(n,D.call(r,0)),n;break}}}return u(e,c)(r,t,p,n,$.test(e)),n}function St(){}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,w="sizzle"+ -(new Date),E=e.document,S={},x=0,T=0,N=it(),C=it(),k=it(),L=typeof t,A=1<<31,O=[],M=O.pop,_=O.push,D=O.slice,P=O.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},H="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",j=B.replace("w","w#"),F="([*^$|!~]?=)",I="\\["+H+"*("+B+")"+H+"*(?:"+F+H+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+j+")|)|)"+H+"*\\]",q=":("+B+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+I.replace(3,8)+")*)|.*)\\)|)",R=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),U=new RegExp("^"+H+"*,"+H+"*"),z=new RegExp("^"+H+"*([\\x20\\t\\r\\n\\f>+~])"+H+"*"),W=new RegExp(q),X=new RegExp("^"+j+"$"),V={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),NAME:new RegExp("^\\[name=['\"]?("+B+")['\"]?\\]"),TAG:new RegExp("^("+B.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},$=/[\x20\t\r\n\f]*[+~]/,J=/^[^{]+\{\s*\[native code/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var n="0x"+t-65536;return n!==n?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)};try{D.call(E.documentElement.childNodes,0)[0].nodeType}catch(nt){D=function(e){var t,n=[];while(t=this[e++])n.push(t);return n}}o=ut.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},l=ut.setDocument=function(e){var n=e?e.ownerDocument||e:E;if(n===c||n.nodeType!==9||!n.documentElement)return c;c=n,h=n.documentElement,p=o(n),S.tagNameNoComments=ot(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),S.attributes=ot(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),S.getByClassName=ot(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),S.getByName=ot(function(e){e.id=w+0,e.innerHTML="<a name='"+w+"'></a><div name='"+w+"'></div>",h.insertBefore(e,h.firstChild);var t=n.getElementsByName&&n.getElementsByName(w).length===2+n.getElementsByName(w+0).length;return S.getIdNotName=!n.getElementById(w),h.removeChild(e),t}),i.attrHandle=ot(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==L&&e.firstChild.getAttribute("href")==="#"})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},S.getIdNotName?(i.find.ID=function(e,t){if(typeof t.getElementById!==L&&!p){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,n){if(typeof n.getElementById!==L&&!p){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==L&&r.getAttributeNode("id").value===e?[r]:t:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==L&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=S.tagNameNoComments?function(e,t){if(typeof t.getElementsByTagName!==L)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},i.find.NAME=S.getByName&&function(e,t){if(typeof t.getElementsByName!==L)return t.getElementsByName(name)},i.find.CLASS=S.getByClassName&&function(e,t){if(typeof t.getElementsByClassName!==L&&!p)return t.getElementsByClassName(e)},v=[],d=[":focus"];if(S.qsa=rt(n.querySelectorAll))ot(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+H+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||d.push(":checked")}),ot(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&d.push("[*^$]="+H+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")});return(S.matchesSelector=rt(m=h.matchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ot(function(e){S.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),v.push("!=",q)}),d=new RegExp(d.join("|")),v=new RegExp(v.join("|")),g=rt(h.contains)||h.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},y=h.compareDocumentPosition?function(e,t){var r;if(e===t)return a=!0,0;if(r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))return r&1||e.parentNode&&e.parentNode.nodeType===11?e===n||g(E,e)?-1:t===n||g(E,t)?1:0:r&4?-1:1;return e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,s=e.parentNode,o=t.parentNode,u=[e],f=[t];if(e===t)return a=!0,0;if(!s||!o)return e===n?-1:t===n?1:s?-1:o?1:0;if(s===o)return at(e,t);r=e;while(r=r.parentNode)u.unshift(r);r=t;while(r=r.parentNode)f.unshift(r);while(u[i]===f[i])i++;return i?at(u[i],f[i]):u[i]===E?-1:f[i]===E?1:0},a=!1,[0,0].sort(y),S.detectDuplicates=a,c},ut.matches=function(e,t){return ut(e,null,null,t)},ut.matchesSelector=function(e,t){(e.ownerDocument||e)!==c&&l(e),t=t.replace(Z,"='$1']");if(S.matchesSelector&&!p&&(!v||!v.test(t))&&!d.test(t))try{var n=m.call(e,t);if(n||S.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch(r){}return ut(t,c,null,[e]).length>0},ut.contains=function(e,t){return(e.ownerDocument||e)!==c&&l(e),g(e,t)},ut.attr=function(e,t){var n;return(e.ownerDocument||e)!==c&&l(e),p||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):p||S.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},ut.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ut.uniqueSort=function(e){var t,n=[],r=1,i=0;a=!S.detectDuplicates,e.sort(y);if(a){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},s=ut.getText=function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r];r++)n+=s(t);else if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue;return n},i=ut.selectors={cacheLength:50,createPseudo:st,match:V,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ut.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ut.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return V.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&W.test(n)&&(t=ht(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace(et,tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=N[e+" "];return t||(t=new RegExp("(^|"+H+")"+e+"("+H+"|$)"))&&N(e,function(e){return t.test(e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ut.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===x&&f[1],h=f[0]===x&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[x,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===x)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){y&&((c[w]||(c[w]={}))[e]=[x,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ut.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?st(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=P.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:st(function(e){var t=[],n=[],r=u(e.replace(R,"$1"));return r[w]?st(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:st(function(e){return function(t){return ut(e,t).length>0}}),contains:st(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),lang:st(function(e){return X.test(e||"")||ut.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=p?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===c.activeElement&&(!c.hasFocus||c.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()===e.type)},first:ct(function(){return[0]}),last:ct(function(e,t){return[t-1]}),eq:ct(function(e,t,n){return[n<0?n+t:n]}),even:ct(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:ct(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:ct(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ct(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}};for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[n]=ft(n);for(n in{submit:!0,reset:!0})i.pseudos[n]=lt(n);u=ut.compile=function(e,t){var n,r=[],i=[],s=k[e+" "];if(!s){t||(t=ht(e)),n=t.length;while(n--)s=yt(t[n]),s[w]?r.push(s):i.push(s);s=k(e,bt(i,r))}return s},i.pseudos.nth=i.pseudos.eq,i.filters=St.prototype=i.pseudos,i.setFilters=new St,l(),ut.attr=b.attr,b.find=ut,b.expr=ut.selectors,b.expr[":"]=b.expr.pseudos,b.unique=ut.uniqueSort,b.text=ut.getText,b.isXMLDoc=ut.isXML,b.contains=ut.contains}(e);var ot=/Until$/,ut=/^(?:parents|prev(?:Until|All))/,at=/^.[^:#\[\.,]*$/,ft=b.expr.match.needsContext,lt={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(e){var t,n,r,i=this.length;if(typeof e!="string")return r=this,this.pushStack(b(e).filter(function(){for(t=0;t<i;t++)if(b.contains(r[t],this))return!0}));n=[];for(t=0;t<i;t++)b.find(e,this[t],n);return n=this.pushStack(i>1?b.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=b(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(b.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ht(this,e,!1))},filter:function(e){return this.pushStack(ht(this,e,!0))},is:function(e){return!!e&&(typeof e=="string"?ft.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=ft.test(e)||typeof e!="string"?b(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:b.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return this.pushStack(s.length>1?b.unique(s):s)},index:function(e){return e?typeof e=="string"?b.inArray(this[0],b(e)):b.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?b(e,t):b.makeArray(e&&e.nodeType?[e]:e),r=b.merge(this.get(),n);return this.pushStack(b.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),b.fn.andSelf=b.fn.addBack,b.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(e,t,n){return b.dir(e,"parentNode",n)},next:function(e){return ct(e,"nextSibling")},prev:function(e){return ct(e,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(e,t,n){return b.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return b.dir(e,"previousSibling",n)},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.merge([],e.childNodes)}},function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return ot.test(e)||(r=n),r&&typeof r=="string"&&(i=b.filter(r,i)),i=this.length>1&&!lt[e]?b.unique(i):i,this.length>1&&ut.test(e)&&(i=i.reverse()),this.pushStack(i)}}),b.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?b.find.matchesSelector(t[0],e)?[t[0]]:[]:b.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!b(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var dt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",vt=/ jQuery\d+="(?:null|\d+)"/g,mt=new RegExp("<(?:"+dt+")[\\s/>]","i"),gt=/^\s+/,yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,wt=/<tbody/i,Et=/<|&#?\w+;/,St=/<(?:script|style|link)/i,xt=/^(?:checkbox|radio)$/i,Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^$|\/(?:java|ecma)script/i,Ct=/^true\/(.*)/,kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Lt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:b.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},At=pt(s),Ot=At.appendChild(s.createElement("div"));Lt.optgroup=Lt.option,Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead,Lt.th=Lt.td,b.fn.extend({text:function(e){return b.access(this,function(e){return e===t?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||s).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(b.isFunction(e))return this.each(function(t){b(this).wrapAll(e.call(this,t))});if(this[0]){var t=b(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return b.isFunction(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=b.isFunction(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||b.filter(e,[n]).length>0)!t&&n.nodeType===1&&b.cleanData(jt(n)),n.parentNode&&(t&&b.contains(n.ownerDocument,n)&&Pt(jt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&b.cleanData(jt(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&b.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return b.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(vt,""):t;if(typeof e=="string"&&!St.test(e)&&(b.support.htmlSerialize||!mt.test(e))&&(b.support.leadingWhitespace||!gt.test(e))&&!Lt[(bt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(yt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(b.cleanData(jt(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=b.isFunction(e);return!t&&typeof e!="string"&&(e=b(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(b(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=h.apply([],e);var i,s,o,u,a,f,l=0,c=this.length,p=this,d=c-1,v=e[0],m=b.isFunction(v);if(m||!(c<=1||typeof v!="string"||b.support.checkClone||!Tt.test(v)))return this.each(function(i){var s=p.eq(i);m&&(e[0]=v.call(this,i,n?s.html():t)),s.domManip(e,n,r)});if(c){f=b.buildFragment(e,this[0].ownerDocument,!1,this),i=f.firstChild,f.childNodes.length===1&&(f=i);if(i){n=n&&b.nodeName(i,"tr"),u=b.map(jt(f,"script"),_t),o=u.length;for(;l<c;l++)s=f,l!==d&&(s=b.clone(s,!0,!0),o&&b.merge(u,jt(s,"script"))),r.call(n&&b.nodeName(this[l],"table")?Mt(this[l],"tbody"):this[l],s,l);if(o){a=u[u.length-1].ownerDocument,b.map(u,Dt);for(l=0;l<o;l++)s=u[l],Nt.test(s.type||"")&&!b._data(s,"globalEval")&&b.contains(a,s)&&(s.src?b.ajax({url:s.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):b.globalEval((s.text||s.textContent||s.innerHTML||"").replace(kt,"")))}f=i=null}}return this}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){var n,r=0,i=[],s=b(e),o=s.length-1;for(;r<=o;r++)n=r===o?this:this.clone(!0),b(s[r])[t](n),p.apply(i,n.get());return this.pushStack(i)}}),b.extend({clone:function(e,t,n){var r,i,s,o,u,a=b.contains(e.ownerDocument,e);b.support.html5Clone||b.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Ot.innerHTML=e.outerHTML,Ot.removeChild(s=Ot.firstChild));if((!b.support.noCloneEvent||!b.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!b.isXMLDoc(e)){r=jt(s),u=jt(e);for(o=0;(i=u[o])!=null;++o)r[o]&&Bt(i,r[o])}if(t)if(n){u=u||jt(e),r=r||jt(s);for(o=0;(i=u[o])!=null;o++)Ht(i,r[o])}else Ht(e,s);return r=jt(s,"script"),r.length>0&&Pt(r,!a&&jt(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l,c=e.length,h=pt(t),p=[],d=0;for(;d<c;d++){s=e[d];if(s||s===0)if(b.type(s)==="object")b.merge(p,s.nodeType?[s]:s);else if(!Et.test(s))p.push(t.createTextNode(s));else{u=u||h.appendChild(t.createElement("div")),a=(bt.exec(s)||["",""])[1].toLowerCase(),l=Lt[a]||Lt._default,u.innerHTML=l[1]+s.replace(yt,"<$1></$2>")+l[2],i=l[0];while(i--)u=u.lastChild;!b.support.leadingWhitespace&&gt.test(s)&&p.push(t.createTextNode(gt.exec(s)[0]));if(!b.support.tbody){s=a==="table"&&!wt.test(s)?u.firstChild:l[1]==="<table>"&&!wt.test(s)?u:0,i=s&&s.childNodes.length;while(i--)b.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}b.merge(p,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=h.lastChild}}u&&h.removeChild(u),b.support.appendChecked||b.grep(jt(p,"input"),Ft),d=0;while(s=p[d++]){if(r&&b.inArray(s,r)!==-1)continue;o=b.contains(s.ownerDocument,s),u=jt(h.appendChild(s),"script"),o&&Pt(u);if(n){i=0;while(s=u[i++])Nt.test(s.type||"")&&n.push(s)}}return u=null,h},cleanData:function(e,t){var n,r,s,o,u=0,a=b.expando,f=b.cache,c=b.support.deleteExpando,h=b.event.special;for(;(n=e[u])!=null;u++)if(t||b.acceptData(n)){s=n[a],o=s&&f[s];if(o){if(o.events)for(r in o.events)h[r]?b.event.remove(n,r):b.removeEvent(n,r,o.handle);f[s]&&(delete f[s],c?delete n[a]:typeof n.removeAttribute!==i?n.removeAttribute(a):n[a]=null,l.push(s))}}}});var It,qt,Rt,Ut=/alpha\([^)]*\)/i,zt=/opacity\s*=\s*([^)]*)/,Wt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Vt=/^margin/,$t=new RegExp("^("+w+")(.*)$","i"),Jt=new RegExp("^("+w+")(?!px)[a-z%]+$","i"),Kt=new RegExp("^([+-])=("+w+")","i"),Qt={BODY:"block"},Gt={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];b.fn.extend({css:function(e,n){return b.access(this,function(e,n,r){var i,s,o={},u=0;if(b.isArray(n)){s=qt(e),i=n.length;for(;u<i;u++)o[n[u]]=b.css(e,n[u],!1,s);return o}return r!==t?b.style(e,n,r):b.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){var t=typeof e=="boolean";return this.each(function(){(t?e:nn(this))?b(this).show():b(this).hide()})}}),b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Rt(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=b.camelCase(n),f=e.style;n=b.cssProps[a]||(b.cssProps[a]=tn(f,a)),u=b.cssHooks[n]||b.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=Kt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(b.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!b.cssNumber[a]&&(r+="px"),!b.support.clearCloneStyle&&r===""&&n.indexOf("background")===0&&(f[n]="inherit");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=b.camelCase(n);return n=b.cssProps[a]||(b.cssProps[a]=tn(e.style,a)),u=b.cssHooks[n]||b.cssHooks[a],u&&"get"in u&&(o=u.get(e,!0,r)),o===t&&(o=Rt(e,n,i)),o==="normal"&&n in Yt&&(o=Yt[n]),r===""||r?(s=parseFloat(o),r===!0||b.isNumeric(s)?s||0:o):o},swap:function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i}}),e.getComputedStyle?(qt=function(t){return e.getComputedStyle(t,null)},Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u.getPropertyValue(n)||u[n]:t,f=e.style;return u&&(a===""&&!b.contains(e.ownerDocument,e)&&(a=b.style(e,n)),Jt.test(a)&&Vt.test(n)&&(i=f.width,s=f.minWidth,o=f.maxWidth,f.minWidth=f.maxWidth=f.width=a,a=u.width,f.width=i,f.minWidth=s,f.maxWidth=o)),a}):s.documentElement.currentStyle&&(qt=function(e){return e.currentStyle},Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u[n]:t,f=e.style;return a==null&&f&&f[n]&&(a=f[n]),Jt.test(a)&&!Wt.test(n)&&(i=f.left,s=e.runtimeStyle,o=s&&s.left,o&&(s.left=e.currentStyle.left),f.left=n==="fontSize"?"1em":a,a=f.pixelLeft+"px",f.left=i,o&&(s.left=o)),a===""?"auto":a}),b.each(["height","width"],function(e,t){b.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&Xt.test(b.css(e,"display"))?b.swap(e,Gt,function(){return un(e,t,r)}):un(e,t,r)},set:function(e,n,r){var i=r&&qt(e);return sn(e,n,r?on(e,t,r,b.support.boxSizing&&b.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),b.support.opacity||(b.cssHooks.opacity={get:function(e,t){return zt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=b.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if((t>=1||t==="")&&b.trim(s.replace(Ut,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(t===""||r&&!r.filter)return}n.filter=Ut.test(s)?s.replace(Ut,i):s+" "+i}}),b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(e,t){if(t)return b.swap(e,{display:"inline-block"},Rt,[e,"marginRight"])}}),!b.support.pixelPosition&&b.fn.position&&b.each(["top","left"],function(e,t){b.cssHooks[t]={get:function(e,n){if(n)return n=Rt(e,t),Jt.test(n)?b(e).position()[t]+"px":n}}})}),b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!b.support.reliableHiddenOffsets&&(e.style&&e.style.display||b.css(e,"display"))==="none"},b.expr.filters.visible=function(e){return!b.expr.filters.hidden(e)}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+Zt[r]+t]=s[r]||s[r-2]||s[0];return i}},Vt.test(e)||(b.cssHooks[e+t].set=sn)});var ln=/%20/g,cn=/\[\]$/,hn=/\r?\n/g,pn=/^(?:submit|button|image|reset|file)$/i,dn=/^(?:input|select|textarea|keygen)/i;b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&dn.test(this.nodeName)&&!pn.test(e)&&(this.checked||!xt.test(e))}).map(function(e,t){var n=b(this).val();return n==null?null:b.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(hn,"\r\n")}}):{name:t.name,value:n.replace(hn,"\r\n")}}).get()}}),b.param=function(e,n){var r,i=[],s=function(e,t){t=b.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=b.ajaxSettings&&b.ajaxSettings.traditional);if(b.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){s(this.name,this.value)});else for(r in e)vn(r,e[r],n,s);return i.join("&").replace(ln,"+")},b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),b.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var mn,gn,yn=b.now(),bn=/\?/,wn=/#.*$/,En=/([?&])_=[^&]*/,Sn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,xn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tn=/^(?:GET|HEAD)$/,Nn=/^\/\//,Cn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,kn=b.fn.load,Ln={},An={},On="*/".concat("*");try{gn=o.href}catch(Mn){gn=s.createElement("a"),gn.href="",gn=gn.href}mn=Cn.exec(gn.toLowerCase())||[],b.fn.load=function(e,n,r){if(typeof e!="string"&&kn)return kn.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),b.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(o="POST"),u.length>0&&b.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,u.html(i?b("<div>").append(b.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,s||[e.responseText,t,e])}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.each(["get","post"],function(e,n){b[n]=function(e,r,i,s){return b.isFunction(r)&&(s=s||i,i=r,r=t),b.ajax({url:e,type:n,dataType:s,data:r,success:i})}}),b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gn,type:"GET",isLocal:xn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":On,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Pn(Pn(e,b.ajaxSettings),t):Pn(b.ajaxSettings,e)},ajaxPrefilter:_n(Ln),ajaxTransport:_n(An),ajax:function(e,n){function N(e,n,r,i){var l,g,y,E,S,T=n;if(w===2)return;w=2,u&&clearTimeout(u),f=t,o=i||"",x.readyState=e>0?4:0,r&&(E=Hn(c,x,r));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(b.lastModified[s]=S),S=x.getResponseHeader("etag"),S&&(b.etag[s]=S)),e===204?(l=!0,T="nocontent"):e===304?(l=!0,T="notmodified"):(l=Bn(c,E),T=l.state,g=l.data,y=l.error,l=!y);else{y=T;if(e||!T)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[g,T,x]):d.rejectWith(h,[x,T,y]),x.statusCode(m),m=t,a&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,c,l?g:y]),v.fireWith(h,[x,T]),a&&(p.trigger("ajaxComplete",[x,c]),--b.active||b.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=b.ajaxSetup({},n),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?b(h):b.event,d=b.Deferred(),v=b.Callbacks("once memory"),m=c.statusCode||{},g={},y={},w=0,S="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(w===2){if(!l){l={};while(t=Sn.exec(o))l[t[1].toLowerCase()]=t[2]}t=l[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return w===2?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return w||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||S;return f&&f.abort(t),N(0,t),this}};d.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,c.url=((e||c.url||gn)+"").replace(wn,"").replace(Nn,mn[1]+"//"),c.type=n.method||n.type||c.method||c.type,c.dataTypes=b.trim(c.dataType||"*").toLowerCase().match(E)||[""],c.crossDomain==null&&(r=Cn.exec(c.url.toLowerCase()),c.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||(r[1]==="http:"?80:443))==(mn[3]||(mn[1]==="http:"?80:443)))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=b.param(c.data,c.traditional)),Dn(Ln,c,n,x);if(w===2)return x;a=c.global,a&&b.active++===0&&b.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Tn.test(c.type),s=c.url,c.hasContent||(c.data&&(s=c.url+=(bn.test(s)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=En.test(s)?s.replace(En,"$1_="+yn++):s+(bn.test(s)?"&":"?")+"_="+yn++)),c.ifModified&&(b.lastModified[s]&&x.setRequestHeader("If-Modified-Since",b.lastModified[s]),b.etag[s]&&x.setRequestHeader("If-None-Match",b.etag[s])),(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+On+"; q=0.01":""):c.accepts["*"]);for(i in c.headers)x.setRequestHeader(i,c.headers[i]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&w!==2){S="abort";for(i in{success:1,error:1,complete:1})x[i](c[i]);f=Dn(An,c,n,x);if(!f)N(-1,"No Transport");else{x.readyState=1,a&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{w=1,f.send(g,N)}catch(T){if(!(w<2))throw T;N(-1,T)}}return x}return x.abort()},getScript:function(e,n){return b.get(e,t,n,"script")},getJSON:function(e,t,n){return b.get(e,t,n,"json")}}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),b.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=s.head||b("head")[0]||s.documentElement;return{send:function(t,i){n=s.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){if(t||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var jn=[],Fn=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jn.pop()||b.expando+"_"+yn++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.jsonp!==!1&&(Fn.test(n.url)?"url":typeof n.data=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fn.test(n.data)&&"data");if(a||n.dataTypes[0]==="jsonp")return s=n.jsonpCallback=b.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a?n[a]=n[a].replace(Fn,"$1"+s):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||b.error(s+" was not called"),u[0]},n.dataTypes[0]="json",o=e[s],e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,jn.push(s)),u&&b.isFunction(o)&&o(u[0]),u=o=t}),"script"});var In,qn,Rn=0,Un=e.ActiveXObject&&function(){var e;for(e in In)In[e](t,!0)};b.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&zn()||Wn()}:zn,qn=b.ajaxSettings.xhr(),b.support.cors=!!qn&&"withCredentials"in qn,qn=b.support.ajax=!!qn,qn&&b.ajaxTransport(function(n){if(!n.crossDomain||b.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=b.noop,Un&&delete In[o]);if(i)a.readyState!==4&&a.abort();else{c={},u=a.status,f=a.getAllResponseHeaders(),typeof a.responseText=="string"&&(c.text=a.responseText);try{l=a.statusText}catch(h){l=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(p){i||s(-1,p)}c&&s(u,l,c,f)},n.async?a.readyState===4?setTimeout(r):(o=++Rn,Un&&(In||(In={},b(e).unload(Un)),In[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Vn,$n=/^(?:toggle|show|hide)$/,Jn=new RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Kn=/queueHooks$/,Qn=[nr],Gn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=Jn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(b.cssNumber[e]?"":"px");if(r!=="px"&&u){u=b.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,b.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};b.Animation=b.extend(er,{tweener:function(e,t){b.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Gn[n]=Gn[n]||[],Gn[n].unshift(t)},prefilter:function(e,t){t?Qn.unshift(e):Qn.push(e)}}),b.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(b.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.options.duration?this.pos=t=b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=b.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):e.elem.style&&(e.elem.style[b.cssProps[e.prop]]!=null||b.cssHooks[e.prop])?b.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),s=b.speed(t,n,r),o=function(){var t=er(this,b.extend({},e),s);o.finish=function(){t.stop(!0)},(i||b._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=b.timers,o=b._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Kn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&b.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=b._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=b.timers,o=r?r.length:0;n.finish=!0,b.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),b.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),b.speed=function(e,t,n){var r=e&&typeof e=="object"?b.extend({},e):{complete:n||!n&&t||b.isFunction(e)&&e,duration:e,easing:n&&t||t&&!b.isFunction(t)&&t};r.duration=b.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in b.fx.speeds?b.fx.speeds[r.duration]:b.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){b.isFunction(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},b.timers=[],b.fx=rr.prototype.init,b.fx.tick=function(){var e,n=b.timers,r=0;Xn=b.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||b.fx.stop(),Xn=t},b.fx.timer=function(e){e()&&b.timers.push(e)&&b.fx.start()},b.fx.interval=13,b.fx.start=function(){Vn||(Vn=setInterval(b.fx.tick,b.fx.interval))},b.fx.stop=function(){clearInterval(Vn),Vn=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fx.step={},b.expr&&b.expr.filters&&(b.expr.filters.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length}),b.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){b.offset.setOffset(this,e,t)});var n,r,s={top:0,left:0},o=this[0],u=o&&o.ownerDocument;if(!u)return;return n=u.documentElement,b.contains(n,o)?(typeof o.getBoundingClientRect!==i&&(s=o.getBoundingClientRect()),r=sr(u),{top:s.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:s.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):s},b.offset={setOffset:function(e,t,n){var r=b.css(e,"position");r==="static"&&(e.style.position="relative");var i=b(e),s=i.offset(),o=b.css(e,"top"),u=b.css(e,"left"),a=(r==="absolute"||r==="fixed")&&b.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),b.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},b.fn.extend({position:function(){if(!this[0])return;var e,t,n={top:0,left:0},r=this[0];return b.css(r,"position")==="fixed"?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),b.nodeName(e[0],"html")||(n=e.offset()),n.top+=b.css(e[0],"borderTopWidth",!0),n.left+=b.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-b.css(r,"marginTop",!0),left:t.left-n.left-b.css(r,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s.documentElement;while(e&&!b.nodeName(e,"html")&&b.css(e,"position")==="static")e=e.offsetParent;return e||s.documentElement})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);b.fn[e]=function(i){return b.access(this,function(e,i,s){var o=sr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?b(o).scrollLeft():s,r?s:b(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),b.each({Height:"height",Width:"width"},function(e,n){b.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){b.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return b.access(this,function(n,r,i){var s;return b.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?b.css(n,r,u):b.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=b,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return b})}(window),function(){function e(e,t){if(e!==t){var n=e===e,r=t===t;if(e>t||!n||typeof e=="undefined"&&r)return 1;if(e<t||!r||typeof t=="undefined"&&n)return-1}return 0}function t(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function n(e,t,n){if(t!==t)return h(e,n);n-=1;for(var r=e.length;++n<r;)if(e[n]===t)return n;return-1}function r(e){return typeof e=="function"||!1}function i(e){return typeof e=="string"?e:null==e?"":e+""}function s(e){return e.charCodeAt(0)}function o(e,t){for(var n=-1,r=e.length;++n<r&&-1<t.indexOf(e.charAt(n)););return n}function u(e,t){for(var n=e.length;n--&&-1<t.indexOf(e.charAt(n)););return n}function a(t,n){return e(t.a,n.a)||t.b-n.b}function f(e){return _t[e]}function l(e){return Dt[e]}function c(e){return"\\"+Bt[e]}function h(e,t,n){var r=e.length;for(t+=n?0:-1;n?t--:++t<r;){var i=e[t];if(i!==i)return t}return-1}function p(e){return!!e&&typeof e=="object"}function d(e){return 160>=e&&9<=e&&13>=e||32==e||160==e||5760==e||6158==e||8192<=e&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function v(e,t){for(var n=-1,r=e.length,i=-1,s=[];++n<r;)e[n]===t&&(e[n]=I,s[++i]=n);return s}function m(e){for(var t=-1,n=e.length;++t<n&&d(e.charCodeAt(t)););return t}function g(e){for(var t=e.length;t--&&d(e.charCodeAt(t)););return t}function y(e){return Pt[e]}function b(d){function _t(e){if(p(e)&&!(ho(e)||e instanceof Ht)){if(e instanceof Pt)return e;if(ji.call(e,"__chain__")&&ji.call(e,"__wrapped__"))return kr(e)}return new Pt(e)}function Dt(){}function Pt(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function Ht(e){this.__wrapped__=e,this.__actions__=null,this.__dir__=1,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=ps,this.__views__=null}function Bt(){this.__data__={}}function jt(e){var t=e?e.length:0;for(this.data={hash:rs(null),set:new Qi};t--;)this.push(e[t])}function Ft(e,t){var n=e.data;return(typeof t=="string"||Zr(t)?n.set.has(t):n.hash[t])?0:-1}function It(e,t){var n=-1,r=e.length;for(t||(t=Ei(r));++n<r;)t[n]=e[n];return t}function qt(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}function zt(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Wt(e,t){for(var n=-1,r=e.length,i=-1,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[++i]=o)}return s}function Xt(e,t){for(var n=-1,r=e.length,i=Ei(r);++n<r;)i[n]=t(e[n],n,e);return i}function Vt(e){for(var t=-1,n=e.length,r=hs;++t<n;){var i=e[t];i>r&&(r=i)}return r}function $t(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Jt(e,t){return typeof e=="undefined"?t:e}function Kt(e,t,n,r){return typeof e!="undefined"&&ji.call(r,n)?e:t}function Qt(e,t,n){var r=No(t);if(!n)return Yt(t,e,r);for(var i=-1,s=r.length;++i<s;){var o=r[i],u=e[o],a=n(u,t[o],o,e,t);(a===a?a===u:u!==u)&&(typeof u!="undefined"||o in e)||(e[o]=a)}return e}function Gt(e,t){for(var n=-1,r=e.length,i=br(r),s=t.length,o=Ei(s);++n<s;){var u=t[n];i?(u=parseFloat(u),o[n]=mr(u,r)?e[u]:w):o[n]=e[u]}return o}function Yt(e,t,n){n||(n=t,t={});for(var r=-1,i=n.length;++r<i;){var s=n[r];t[s]=e[s]}return t}function Zt(e,t,n){var r=typeof e;return"function"==r?typeof t=="undefined"?e:Dn(e,t,n):null==e?gi:"object"==r?mn(e):typeof t=="undefined"?bn(e+""):gn(e+"",t)}function en(e,t,n,r,i,s,o){var u;if(n&&(u=i?n(e,r,i):n(e)),typeof u!="undefined")return u;if(!Zr(e))return e;if(r=ho(e)){if(u=pr(e),!t)return It(e,u)}else{var a=Ii.call(e),f=a==X;if(a!=$&&a!=q&&(!f||i))return Ot[a]?vr(e,a,t):i?e:{};if(u=dr(f?{}:e),!t)return Yt(e,u,No(e))}for(s||(s=[]),o||(o=[]),i=s.length;i--;)if(s[i]==e)return o[i];return s.push(e),o.push(u),(r?qt:fn)(e,function(r,i){u[i]=en(r,t,n,i,e,s,o)}),u}function tn(e,t,n){if(typeof e!="function")throw new Oi(F);return Gi(function(){e.apply(w,n)},t)}function nn(e,t){var r=e?e.length:0,i=[];if(!r)return i;var s=-1,o=hr(),u=o==n,a=u&&200<=t.length?Ls(t):null,f=t.length;a&&(o=Ft,u=!1,t=a);e:for(;++s<r;)if(a=e[s],u&&a===a){for(var l=f;l--;)if(t[l]===a)continue e;i.push(a)}else 0>o(t,a,0)&&i.push(a);return i}function rn(e,t){var n=!0;return xs(e,function(e,r,i){return n=!!t(e,r,i)}),n}function sn(e,t){var n=[];return xs(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function on(e,t,n,r){var i;return n(e,function(e,n,s){return t(e,n,s)?(i=r?n:e,!1):void 0}),i}function un(e,t,n){for(var r=-1,i=e.length,s=-1,o=[];++r<i;){var u=e[r];if(p(u)&&br(u.length)&&(ho(u)||Qr(u))){t&&(u=un(u,t,n));var a=-1,f=u.length;for(o.length+=f;++a<f;)o[++s]=u[a]}else n||(o[++s]=u)}return o}function an(e,t){Ns(e,t,ui)}function fn(e,t){return Ns(e,t,No)}function ln(e,t){return Cs(e,t,No)}function cn(e,t){for(var n=-1,r=t.length,i=-1,s=[];++n<r;){var o=t[n];vo(e[o])&&(s[++i]=o)}return s}function hn(e,t,n,r,i,s){if(e===t)return 0!==e||1/e==1/t;var o=typeof e,u=typeof t;return"function"!=o&&"object"!=o&&"function"!=u&&"object"!=u||null==e||null==t?e!==e&&t!==t:pn(e,t,hn,n,r,i,s)}function pn(e,t,n,r,i,s,o){var u=ho(e),a=ho(t),f=R,l=R;u||(f=Ii.call(e),f==q?f=$:f!=$&&(u=ii(e))),a||(l=Ii.call(t),l==q?l=$:l!=$&&ii(t));var c=f==$||i&&f==X,a=l==$||i&&l==X;if((l=f==l)&&!u&&!c)return ar(e,t,f);if(i){if(!(l||c&&a))return!1}else{if(f=c&&ji.call(e,"__wrapped__"),a=a&&ji.call(t,"__wrapped__"),f||a)return n(f?e.value():e,a?t.value():t,r,i,s,o);if(!l)return!1}for(s||(s=[]),o||(o=[]),f=s.length;f--;)if(s[f]==e)return o[f]==t;return s.push(e),o.push(t),e=(u?ur:fr)(e,t,n,r,i,s,o),s.pop(),o.pop(),e}function dn(e,t,n,r,i){for(var s=-1,o=t.length,u=!i;++s<o;)if(u&&r[s]?n[s]!==e[t[s]]:!(t[s]in e))return!1;for(s=-1;++s<o;){var a=t[s],f=e[a],l=n[s];if(u&&r[s]?a=typeof f!="undefined"||a in e:(a=i?i(f,l,a):w,typeof a=="undefined"&&(a=hn(l,f,i,!0))),!a)return!1}return!0}function vn(e,t){var n=[];return xs(e,function(e,r,i){n.push(t(e,r,i))}),n}function mn(e){var t=No(e),n=t.length;if(!n)return mi(!0);if(1==n){var r=t[0],i=e[r];if(wr(i))return function(e){return null!=e&&e[r]===i&&(typeof i!="undefined"||r in Cr(e))}}for(var s=Ei(n),o=Ei(n);n--;)i=e[t[n]],s[n]=i,o[n]=wr(i);return function(e){return null!=e&&dn(Cr(e),t,s,o)}}function gn(e,t){return wr(t)?function(n){return null!=n&&n[e]===t&&(typeof t!="undefined"||e in Cr(n))}:function(n){return null!=n&&hn(t,n[e],null,!0)}}function yn(e,t,n,r,i){if(!Zr(e))return e;var s=br(t.length)&&(ho(t)||ii(t));return(s?qt:fn)(t,function(t,o,u){if(p(t)){r||(r=[]),i||(i=[]);e:{t=r;for(var a=i,f=t.length,l=u[o];f--;)if(t[f]==l){e[o]=a[f],o=void 0;break e}f=e[o],u=n?n(f,l,o,e,u):w;var c=typeof u=="undefined";c&&(u=l,br(l.length)&&(ho(l)||ii(l))?u=ho(f)?f:f&&f.length?It(f):[]:mo(l)||Qr(l)?u=Qr(f)?si(f):mo(f)?f:{}:c=!1),t.push(l),a.push(u),c?e[o]=yn(u,l,n,t,a):(u===u?u!==f:f===f)&&(e[o]=u),o=void 0}return o}a=e[o],u=n?n(a,t,o,e,u):w,(l=typeof u=="undefined")&&(u=t),!s&&typeof u=="undefined"||!l&&(u===u?u===a:a!==a)||(e[o]=u)}),e}function bn(e){return function(t){return null==t?w:t[e]}}function wn(e,t){return e+Vi(cs()*(t-e+1))}function En(e,t,n,r,i){return i(e,function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)}),n}function Sn(e,t,n){var r=-1,i=e.length;for(t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=typeof n=="undefined"||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0,n=Ei(i);++r<i;)n[r]=e[r+t];return n}function xn(e,t){var n;return xs(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Tn(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].c;return e}function Nn(t,n,r){var i=-1,s=t.length,o=br(s)?Ei(s):[];return xs(t,function(e){for(var t=n.length,r=Ei(t);t--;)r[t]=null==e?w:e[n[t]];o[++i]={a:r,b:i,c:e}}),Tn(o,function(t,n){var i;e:{i=-1;for(var s=t.a,o=n.a,u=s.length,a=r.length;++i<u;){var f=e(s[i],o[i]);if(f){i=i<a?f*(r[i]?1:-1):f;break e}}i=t.b-n.b}return i})}function Cn(e,t){var n=0;return xs(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function kn(e,t){var r=-1,i=hr(),s=e.length,o=i==n,u=o&&200<=s,a=u?Ls():null,f=[];a?(i=Ft,o=!1):(u=!1,a=t?[]:f);e:for(;++r<s;){var l=e[r],c=t?t(l,r,e):l;if(o&&l===l){for(var h=a.length;h--;)if(a[h]===c)continue e;t&&a.push(c),f.push(l)}else 0>i(a,c,0)&&((t||u)&&a.push(c),f.push(l))}return f}function Ln(e,t){for(var n=-1,r=t.length,i=Ei(r);++n<r;)i[n]=e[t[n]];return i}function An(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?Sn(e,r?0:s,r?s+1:i):Sn(e,r?s+1:0,r?i:s)}function On(e,t){var n=e;n instanceof Ht&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var n=[n],s=t[r];Ji.apply(n,s.args),n=s.func.apply(s.thisArg,n)}return n}function Mn(e,t,n){var r=0,i=e?e.length:r;if(typeof t=="number"&&t===t&&i<=ms){for(;r<i;){var s=r+i>>>1,o=e[s];(n?o<=t:o<t)?r=s+1:i=s}return i}return _n(e,t,gi,n)}function _n(e,t,n,r){t=n(t);for(var i=0,s=e?e.length:0,o=t!==t,u=typeof t=="undefined";i<s;){var a=Vi((i+s)/2),f=n(e[a]),l=f===f;(o?l||r:u?l&&(r||typeof f!="undefined"):r?f<=t:f<t)?i=a+1:s=a}return us(s,vs)}function Dn(e,t,n){if(typeof e!="function")return gi;if(typeof t=="undefined")return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)};case 5:return function(n,r,i,s,o){return e.call(t,n,r,i,s,o)}}return function(){return e.apply(t,arguments)}}function Pn(e){return zi.call(e,0)}function Hn(e,t,n){for(var r=n.length,i=-1,s=os(e.length-r,0),o=-1,u=t.length,a=Ei(s+u);++o<u;)a[o]=t[o];for(;++i<r;)a[n[i]]=e[i];for(;s--;)a[o++]=e[i++];return a}function Bn(e,t,n){for(var r=-1,i=n.length,s=-1,o=os(e.length-i,0),u=-1,a=t.length,f=Ei(o+a);++s<o;)f[s]=e[s];for(o=s;++u<a;)f[o+u]=t[u];for(;++r<i;)f[o+n[r]]=e[s++];return f}function jn(e,t){return function(n,r,i){var s=t?t():{};if(r=cr(r,i,3),ho(n)){i=-1;for(var o=n.length;++i<o;){var u=n[i];e(s,u,r(u,i,n),n)}}else xs(n,function(t,n,i){e(s,t,r(t,n,i),i)});return s}}function Fn(e){return function(){var t=arguments,n=t.length,r=t[0];if(2>n||null==r)return r;var i=t[n-2],s=t[n-1],o=t[3];for(3<n&&typeof i=="function"?(i=Dn(i,s,5),n-=2):(i=2<n&&typeof s=="function"?s:null,n-=i?1:0),o&&gr(t[1],t[2],o)&&(i=3==n?null:i,n=2),s=0;++s<n;)(o=t[s])&&e(r,o,i);return r}}function In(e,t){return function(n,r){var i=n?n.length:0;if(!br(i))return e(n,r);for(var s=t?i:-1,o=Cr(n);(t?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function qn(e){return function(t,n,r){var i=Cr(t);r=r(t);for(var s=r.length,o=e?s:-1;e?o--:++o<s;){var u=r[o];if(!1===n(i[u],u,i))break}return t}}function Rn(e,t){function n(){return(this&&this!==Rt&&this instanceof n?r:e).apply(t,arguments)}var r=zn(e);return n}function Un(e){return function(t){var n=-1;t=di(fi(t));for(var r=t.length,i="";++n<r;)i=e(i,t[n],n);return i}}function zn(e){return function(){var t=Ss(e.prototype),n=e.apply(t,arguments);return Zr(n)?n:t}}function Wn(e){function t(n,r,i){return i&&gr(n,r,i)&&(r=null),n=or(n,e,null,null,null,null,null,r),n.placeholder=t.placeholder,n}return t}function Xn(e,t){return function(n,r,i){i&&gr(n,r,i)&&(r=null);var o=cr(),u=null==r;if(o===Zt&&u||(u=!1,r=o(r,i,3)),u){if(r=ho(n),r||!ri(n))return e(r?n:Nr(n));r=s}return lr(n,r,t)}}function Vn(e,n){return function(r,i,s){return i=cr(i,s,3),ho(r)?(i=t(r,i,n),-1<i?r[i]:w):on(r,i,e)}}function $n(e){return function(n,r,i){return n&&n.length?(r=cr(r,i,3),t(n,r,e)):-1}}function Jn(e){return function(t,n,r){return n=cr(n,r,3),on(t,n,e,!0)}}function Kn(e){return function(){var t=arguments.length;if(!t)return function(){return arguments[0]};for(var n,r=e?t:-1,i=0,s=Ei(t);e?r--:++r<t;){var o=s[i++]=arguments[r];if(typeof o!="function")throw new Oi(F);var u=n?"":Os(o);n="wrapper"==u?new Pt([]):n}for(r=n?-1:t;++r<t;)o=s[r],u=Os(o),n=(i="wrapper"==u?As(o):null)&&yr(i[0])?n[Os(i[0])].apply(n,i[3]):1==o.length&&yr(o)?n[u]():n.thru(o);return function(){var e=arguments;if(n&&1==e.length&&ho(e[0]))return n.plant(e[0]).value();for(var r=0,e=s[r].apply(this,e);++r<t;)e=s[r].call(this,e);return e}}}function Qn(e,t){return function(n,r,i){return typeof r=="function"&&typeof i=="undefined"&&ho(n)?e(n,r):t(n,Dn(r,i,3))}}function Gn(e){return function(t,n,r){return(typeof n!="function"||typeof r!="undefined")&&(n=Dn(n,r,3)),e(t,n,ui)}}function Yn(e){return function(t,n,r){return(typeof n!="function"||typeof r!="undefined")&&(n=Dn(n,r,3)),e(t,n)}}function Zn(e){return function(t,n,r){return(t=i(t))&&(e?t:"")+rr(t,n,r)+(e?"":t)}}function er(e){var t=Kr(function(n,r){var i=v(r,t.placeholder);return or(n,e,null,r,i)});return t}function tr(e,t){return function(n,r,i,s){var o=3>arguments.length;return typeof r=="function"&&typeof s=="undefined"&&ho(n)?e(n,r,i,o):En(n,cr(r,s,4),i,o,t)}}function nr(e,t,n,r,i,s,o,u,a,f){function l(){for(var E=arguments.length,T=E,N=Ei(E);T--;)N[T]=arguments[T];if(r&&(N=Hn(N,r,i)),s&&(N=Bn(N,s,o)),d||g){var T=l.placeholder,C=v(N,T),E=E-C.length;if(E<f){var A=u?It(u):null,E=os(f-E,0),O=d?C:null,C=d?null:C,M=d?N:null,N=d?null:N;return t|=d?k:L,t&=~(d?L:k),m||(t&=~(S|x)),N=[e,t,n,M,O,N,C,A,a,E],A=nr.apply(w,N),yr(e)&&Ms(A,N),A.placeholder=T,A}}if(T=h?n:this,p&&(e=T[b]),u)for(A=N.length,E=us(u.length,A),O=It(N);E--;)C=u[E],N[E]=mr(C,A)?O[C]:w;return c&&a<N.length&&(N.length=a),(this&&this!==Rt&&this instanceof l?y||zn(e):e).apply(T,N)}var c=t&A,h=t&S,p=t&x,d=t&N,m=t&T,g=t&C,y=!p&&zn(e),b=e;return l}function rr(e,t,n){return e=e.length,t=+t,e<t&&is(t)?(t-=e,n=null==n?" ":n+"",hi(n,Wi(t/n.length)).slice(0,t)):""}function ir(e,t,n,r){function i(){for(var t=-1,u=arguments.length,a=-1,f=r.length,l=Ei(u+f);++a<f;)l[a]=r[a];for(;u--;)l[a++]=arguments[++t];return(this&&this!==Rt&&this instanceof i?o:e).apply(s?n:this,l)}var s=t&S,o=zn(e);return i}function sr(e){return function(t,n,r,i){var s=cr(r);return s===Zt&&null==r?Mn(t,n,e):_n(t,n,s(r,i,1),e)}}function or(e,t,n,r,i,s,o,u){var a=t&x;if(!a&&typeof e!="function")throw new Oi(F);var f=r?r.length:0;if(f||(t&=~(k|L),r=i=null),f-=i?i.length:0,t&L){var l=r,c=i;r=i=null}var h=a?null:As(e);return n=[e,t,n,r,i,l,c,s,o,u],h&&(r=n[1],t=h[1],u=r|t,i=t==A&&r==N||t==A&&r==O&&n[7].length<=h[8]||t==(A|O)&&r==N,(u<A||i)&&(t&S&&(n[2]=h[2],u|=r&S?0:T),(r=h[3])&&(i=n[3],n[3]=i?Hn(i,r,h[4]):It(r),n[4]=i?v(n[3],I):It(h[4])),(r=h[5])&&(i=n[5],n[5]=i?Bn(i,r,h[6]):It(r),n[6]=i?v(n[5],I):It(h[6])),(r=h[7])&&(n[7]=It(r)),t&A&&(n[8]=null==n[8]?h[8]:us(n[8],h[8])),null==n[9]&&(n[9]=h[9]),n[0]=h[0],n[1]=u),t=n[1],u=n[9]),n[9]=null==u?a?0:e.length:os(u-f,0)||0,(h?ks:Ms)(t==S?Rn(n[0],n[2]):t!=k&&t!=(S|k)||n[4].length?nr.apply(w,n):ir.apply(w,n),n)}function ur(e,t,n,r,i,s,o){var u=-1,a=e.length,f=t.length,l=!0;if(a!=f&&(!i||f<=a))return!1;for(;l&&++u<a;){var c=e[u],h=t[u],l=w;if(r&&(l=i?r(h,c,u):r(c,h,u)),typeof l=="undefined")if(i)for(var p=f;p--&&(h=t[p],!(l=c&&c===h||n(c,h,r,i,s,o))););else l=c&&c===h||n(c,h,r,i,s,o)}return!!l}function ar(e,t,n){switch(n){case U:case z:return+e==+t;case W:return e.name==t.name&&e.message==t.message;case V:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case J:case K:return e==t+""}return!1}function fr(e,t,n,r,i,s,o){var u=No(e),a=u.length,f=No(t).length;if(a!=f&&!i)return!1;for(var f=i,l=-1;++l<a;){var c=u[l],h=i?c in t:ji.call(t,c);if(h){var p=e[c],d=t[c],h=w;r&&(h=i?r(d,p,c):r(p,d,c)),typeof h=="undefined"&&(h=p&&p===d||n(p,d,r,i,s,o))}if(!h)return!1;f||(f="constructor"==c)}return f||(n=e.constructor,r=t.constructor,!(n!=r&&"constructor"in e&&"constructor"in t)||typeof n=="function"&&n instanceof n&&typeof r=="function"&&r instanceof r)?!0:!1}function lr(e,t,n){var r=n?ps:hs,i=r,s=i;return xs(e,function(e,o,u){o=t(e,o,u),((n?o<i:o>i)||o===r&&o===s)&&(i=o,s=e)}),s}function cr(e,t,n){var r=_t.callback||vi,r=r===vi?Zt:r;return n?r(e,t,n):r}function hr(e,t,r){var i=_t.indexOf||Mr,i=i===Mr?n:i;return e?i(e,t,r):i}function pr(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ji.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function dr(e){return e=e.constructor,typeof e=="function"&&e instanceof e||(e=ki),new e}function vr(e,t,n){var r=e.constructor;switch(t){case Q:return Pn(e);case U:case z:return new r(+e);case G:case Y:case Z:case et:case tt:case nt:case rt:case it:case st:return t=e.buffer,new r(n?Pn(t):t,e.byteOffset,e.length);case V:case K:return new r(e);case J:var i=new r(e.source,yt.exec(e));i.lastIndex=e.lastIndex}return i}function mr(e,t){return e=+e,t=null==t?ys:t,-1<e&&0==e%1&&e<t}function gr(e,t,n){if(!Zr(n))return!1;var r=typeof t;return"number"==r?(r=n.length,r=br(r)&&mr(t,r)):r="string"==r&&t in n,r?(t=n[t],e===e?e===t:t!==t):!1}function yr(e){var t=Os(e);return!!t&&e===_t[t]&&t in Ht.prototype}function br(e){return typeof e=="number"&&-1<e&&0==e%1&&e<=ys}function wr(e){return e===e&&(0===e?0<1/e:!Zr(e))}function Er(e,t){e=Cr(e);for(var n=-1,r=t.length,i={};++n<r;){var s=t[n];s in e&&(i[s]=e[s])}return i}function Sr(e,t){var n={};return an(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function xr(e){var t;if(!p(e)||Ii.call(e)!=$||!(ji.call(e,"constructor")||(t=e.constructor,typeof t!="function"||t instanceof t)))return!1;var n;return an(e,function(e,t){n=t}),typeof n=="undefined"||ji.call(e,n)}function Tr(e){for(var t=ui(e),n=t.length,r=n&&e.length,i=_t.support,i=r&&br(r)&&(ho(e)||i.nonEnumArgs&&Qr(e)),s=-1,o=[];++s<n;){var u=t[s];(i&&mr(u,r)||ji.call(e,u))&&o.push(u)}return o}function Nr(e){return null==e?[]:br(e.length)?Zr(e)?e:ki(e):ai(e)}function Cr(e){return Zr(e)?e:ki(e)}function kr(e){return e instanceof Ht?e.clone():new Pt(e.__wrapped__,e.__chain__,It(e.__actions__))}function Lr(e,t,n){return e&&e.length?((n?gr(e,t,n):null==t)&&(t=1),Sn(e,0>t?0:t)):[]}function Ar(e,t,n){var r=e?e.length:0;return r?((n?gr(e,t,n):null==t)&&(t=1),t=r-(+t||0),Sn(e,0,0>t?0:t)):[]}function Or(e){return e?e[0]:w}function Mr(e,t,r){var i=e?e.length:0;if(!i)return-1;if(typeof r=="number")r=0>r?os(i+r,0):r;else if(r)return r=Mn(e,t),e=e[r],(t===t?t===e:e!==e)?r:-1;return n(e,t,r||0)}function _r(e){var t=e?e.length:0;return t?e[t-1]:w}function Dr(e){return Lr(e,1)}function Pr(e,t,r,i){if(!e||!e.length)return[];null!=t&&typeof t!="boolean"&&(i=r,r=gr(e,t,i)?null:t,t=!1);var s=cr();if((s!==Zt||null!=r)&&(r=s(r,i,3)),t&&hr()==n){t=r;var o;r=-1,i=e.length;for(var s=-1,u=[];++r<i;){var a=e[r],f=t?t(a,r,e):a;r&&o===f||(o=f,u[++s]=a)}e=u}else e=kn(e,r);return e}function Hr(e){for(var t=-1,n=(e&&e.length&&Vt(Xt(e,Bi)))>>>0,r=Ei(n);++t<n;)r[t]=Xt(e,bn(t));return r}function Br(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||ho(e[0])||(t=[]);++n<r;){var s=e[n];t?i[s]=t[n]:s&&(i[s[0]]=s[1])}return i}function jr(e){return e=_t(e),e.__chain__=!0,e}function Fr(e,t,n){return t.call(n,e)}function Ir(e,t,n){var r=ho(e)?zt:rn;return n&&gr(e,t,n)&&(t=null),(typeof t!="function"||typeof n!="undefined")&&(t=cr(t,n,3)),r(e,t)}function qr(e,t,n){var r=ho(e)?Wt:sn;return t=cr(t,n,3),r(e,t)}function Rr(e,t,n,r){var i=e?e.length:0;return br(i)||(e=ai(e),i=e.length),i?(n=typeof n!="number"||r&&gr(t,n,r)?0:0>n?os(i+n,0):n||0,typeof e=="string"||!ho(e)&&ri(e)?n<i&&-1<e.indexOf(t,n):-1<hr(e,t,n)):!1}function Ur(e,t,n){var r=ho(e)?Xt:vn;return t=cr(t,n,3),r(e,t)}function zr(e,t,n){return(n?gr(e,t,n):null==t)?(e=Nr(e),t=e.length,0<t?e[wn(0,t-1)]:w):(e=Wr(e),e.length=us(0>t?0:+t||0,e.length),e)}function Wr(e){e=Nr(e);for(var t=-1,n=e.length,r=Ei(n);++t<n;){var i=wn(0,t);t!=i&&(r[t]=r[i]),r[i]=e[t]}return r}function Xr(e,t,n){var r=ho(e)?$t:xn;return n&&gr(e,t,n)&&(t=null),(typeof t!="function"||typeof n!="undefined")&&(t=cr(t,n,3)),r(e,t)}function Vr(e,t){var n;if(typeof t!="function"){if(typeof e!="function")throw new Oi(F);var r=e;e=t,t=r}return function(){return 0<--e?n=t.apply(this,arguments):t=null,n}}function $r(e,t,n){function r(){var n=t-(Zs()-f);0>=n||n>t?(u&&Xi(u),n=h,u=c=h=w,n&&(p=Zs(),a=e.apply(l,o),c||u||(o=l=null))):c=Gi(r,n)}function i(){c&&Xi(c),u=c=h=w,(v||d!==t)&&(p=Zs(),a=e.apply(l,o),c||u||(o=l=null))}function s(){if(o=arguments,f=Zs(),l=this,h=v&&(c||!m),!1===d)var n=m&&!c;else{u||m||(p=f);var s=d-(f-p),g=0>=s||s>d;g?(u&&(u=Xi(u)),p=f,a=e.apply(l,o)):u||(u=Gi(i,s))}return g&&c?c=Xi(c):c||t===d||(c=Gi(r,t)),n&&(g=!0,a=e.apply(l,o)),!g||c||u||(o=l=null),a}var o,u,a,f,l,c,h,p=0,d=!1,v=!0;if(typeof e!="function")throw new Oi(F);if(t=0>t?0:+t||0,!0===n)var m=!0,v=!1;else Zr(n)&&(m=n.leading,d="maxWait"in n&&os(+n.maxWait||0,t),v="trailing"in n?n.trailing:v);return s.cancel=function(){c&&Xi(c),u&&Xi(u),u=c=h=w},s}function Jr(e,t){function n(){var r=arguments,i=n.cache,s=t?t.apply(this,r):r[0];return i.has(s)?i.get(s):(r=e.apply(this,r),i.set(s,r),r)}if(typeof e!="function"||t&&typeof t!="function")throw new Oi(F);return n.cache=new Jr.Cache,n}function Kr(e,t){if(typeof e!="function")throw new Oi(F);return t=os(typeof t=="undefined"?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=os(n.length-t,0),s=Ei(i);++r<i;)s[r]=n[t+r];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,n[0],s);case 2:return e.call(this,n[0],n[1],s)}for(i=Ei(t+1),r=-1;++r<t;)i[r]=n[r];return i[t]=s,e.apply(this,i)}}function Qr(e){return br(p(e)?e.length:w)&&Ii.call(e)==q}function Gr(e){return!!e&&1===e.nodeType&&p(e)&&-1<Ii.call(e).indexOf("Element")}function Yr(e){return p(e)&&typeof e.message=="string"&&Ii.call(e)==W}function Zr(e){var t=typeof e;return"function"==t||!!e&&"object"==t}function ei(e){return null==e?!1:Ii.call(e)==X?Ri.test(Hi.call(e)):p(e)&&wt.test(e)}function ti(e){return typeof e=="number"||p(e)&&Ii.call(e)==V}function ni(e){return p(e)&&Ii.call(e)==J||!1}function ri(e){return typeof e=="string"||p(e)&&Ii.call(e)==K}function ii(e){return p(e)&&br(e.length)&&!!At[Ii.call(e)]}function si(e){return Yt(e,ui(e))}function oi(e){return cn(e,ui(e))}function ui(e){if(null==e)return[];Zr(e)||(e=ki(e));for(var t=e.length,t=t&&br(t)&&(ho(e)||Es.nonEnumArgs&&Qr(e))&&t||0,n=e.constructor,r=-1,n=typeof n=="function"&&n.prototype===e,i=Ei(t),s=0<t;++r<t;)i[r]=r+"";for(var o in e)s&&mr(o,t)||"constructor"==o&&(n||!ji.call(e,o))||i.push(o);return i}function ai(e){return Ln(e,No(e))}function fi(e){return(e=i(e))&&e.replace(Et,f).replace(mt,"")}function li(e){return(e=i(e))&&Tt.test(e)?e.replace(xt,"\\$&"):e}function ci(e,t,n){return n&&gr(e,t,n)&&(t=0),ls(e,t)}function hi(e,t){var n="";if(e=i(e),t=+t,1>t||!e||!is(t))return n;do t%2&&(n+=e),t=Vi(t/2),e+=e;while(t);return n}function pi(e,t,n){var r=e;return(e=i(e))?(n?gr(r,t,n):null==t)?e.slice(m(e),g(e)+1):(t+="",e.slice(o(e,t),u(e,t)+1)):e}function di(e,t,n){return n&&gr(e,t,n)&&(t=null),e=i(e),e.match(t||Ct)||[]}function vi(e,t,n){return n&&gr(e,t,n)&&(t=null),p(e)?yi(e):Zt(e,t)}function mi(e){return function(){return e}}function gi(e){return e}function yi(e){return mn(en(e,!0))}function bi(e,t,n){if(null==n){var r=Zr(t),i=r&&No(t);((i=i&&i.length&&cn(t,i))?i.length:r)||(i=!1,n=t,t=e,e=this)}i||(i=cn(t,No(t)));var s=!0,r=-1,o=vo(e),u=i.length;!1===n?s=!1:Zr(n)&&"chain"in n&&(s=n.chain);for(;++r<u;){n=i[r];var a=t[n];e[n]=a,o&&(e.prototype[n]=function(t){return function(){var n=this.__chain__;if(s||n){var r=e(this.__wrapped__);return(r.__actions__=It(this.__actions__)).push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return n=[this.value()],Ji.apply(n,arguments),t.apply(e,n)}}(a))}return e}function wi(){}d=d?Ut.defaults(Rt.Object(),d,Ut.pick(Rt,Lt)):Rt;var Ei=d.Array,Si=d.Date,xi=d.Error,Ti=d.Function,Ni=d.Math,Ci=d.Number,ki=d.Object,Li=d.RegExp,Ai=d.String,Oi=d.TypeError,Mi=Ei.prototype,_i=ki.prototype,Di=Ai.prototype,Pi=(Pi=d.window)&&Pi.document,Hi=Ti.prototype.toString,Bi=bn("length"),ji=_i.hasOwnProperty,Fi=0,Ii=_i.toString,qi=d._,Ri=Li("^"+li(Ii).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ui=ei(Ui=d.ArrayBuffer)&&Ui,zi=ei(zi=Ui&&(new Ui(0)).slice)&&zi,Wi=Ni.ceil,Xi=d.clearTimeout,Vi=Ni.floor,$i=ei($i=ki.getPrototypeOf)&&$i,Ji=Mi.push,Ki=_i.propertyIsEnumerable,Qi=ei(Qi=d.Set)&&Qi,Gi=d.setTimeout,Yi=Mi.splice,Zi=ei(Zi=d.Uint8Array)&&Zi,es=ei(es=d.WeakMap)&&es,ts=function(){try{var e=ei(e=d.Float64Array)&&e,t=new e(new Ui(10),0,1)&&e}catch(n){}return t}(),ns=ei(ns=Ei.isArray)&&ns,rs=ei(rs=ki.create)&&rs,is=d.isFinite,ss=ei(ss=ki.keys)&&ss,os=Ni.max,us=Ni.min,as=ei(as=Si.now)&&as,fs=ei(fs=Ci.isFinite)&&fs,ls=d.parseInt,cs=Ni.random,hs=Ci.NEGATIVE_INFINITY,ps=Ci.POSITIVE_INFINITY,ds=Ni.pow(2,32)-1,vs=ds-1,ms=ds>>>1,gs=ts?ts.BYTES_PER_ELEMENT:0,ys=Ni.pow(2,53)-1,bs=es&&new es,ws={},Es=_t.support={};!function(e){Es.funcDecomp=/\bthis\b/.test(function(){return this}),Es.funcNames=typeof Ti.name=="string";try{Es.dom=11===Pi.createDocumentFragment().nodeType}catch(t){Es.dom=!1}try{Es.nonEnumArgs=!Ki.call(arguments,1)}catch(n){Es.nonEnumArgs=!0}}(0,0),_t.templateSettings={escape:pt,evaluate:dt,interpolate:vt,variable:"",imports:{_:_t}};var Ss=function(){function e(){}return function(t){if(Zr(t)){e.prototype=t;var n=new e;e.prototype=null}return n||d.Object()}}(),xs=In(fn),Ts=In(ln,!0),Ns=qn(),Cs=qn(!0),ks=bs?function(e,t){return bs.set(e,t),e}:gi;zi||(Pn=Ui&&Zi?function(e){var t=e.byteLength,n=ts?Vi(t/gs):0,r=n*gs,i=new Ui(t);if(n){var s=new ts(i,0,n);s.set(new ts(e,0,n))}return t!=r&&(s=new Zi(i,r),s.set(new Zi(e,r))),i}:mi(null));var Ls=rs&&Qi?function(e){return new jt(e)}:mi(null),As=bs?function(e){return bs.get(e)}:wi,Os=function(){return Es.funcNames?"constant"==mi.name?bn("name"):function(e){for(var t=e.name,n=ws[t],r=n?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==e)return i.name}return t}:mi("")}(),Ms=function(){var e=0,t=0;return function(n,r){var i=Zs(),s=P-(i-t);if(t=i,0<s){if(++e>=D)return n}else e=0;return ks(n,r)}}(),_s=Kr(function(e,t){return ho(e)||Qr(e)?nn(e,un(t,!1,!0)):[]}),Ds=$n(),Ps=$n(!0),Hs=Kr(function(t,n){t||(t=[]),n=un(n);var r=n.length,i=Gt(t,n);for(n.sort(e);r--;){var s=parseFloat(n[r]);if(s!=o&&mr(s)){var o=s;Yi.call(t,s,1)}}return i}),Bs=sr(),js=sr(!0),Fs=Kr(function(e){return kn(un(e,!1,!0))}),Is=Kr(function(e,t){return ho(e)||Qr(e)?nn(e,t):[]}),qs=Kr(Hr),Rs=Kr(function(e,t){return br(e?e.length:0)&&(e=Nr(e)),Gt(e,un(t))}),Us=jn(function(e,t,n){ji.call(e,n)?++e[n]:e[n]=1}),zs=Vn(xs),Ws=Vn(Ts,!0),Xs=Qn(qt,xs),Vs=Qn(function(e,t){for(var n=e.length;n--&&!1!==t(e[n],n,e););return e},Ts),$s=jn(function(e,t,n){ji.call(e,n)?e[n].push(t):e[n]=[t]}),Js=jn(function(e,t,n){e[n]=t}),Ks=Kr(function(e,t,n){var r=-1,i=typeof t=="function",s=e?e.length:0,o=br(s)?Ei(s):[];return xs(e,function(e){var s=i?t:null!=e&&e[t];o[++r]=s?s.apply(e,n):w}),o}),Qs=jn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Gs=tr(function(e,t,n,r){var i=-1,s=e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n},xs),Ys=tr(function(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n},Ts),Zs=as||function(){return(new Si).getTime()},eo=Kr(function(e,t,n){var r=S;if(n.length)var i=v(n,eo.placeholder),r=r|k;return or(e,r,t,n,i)}),to=Kr(function(e,t){t=t.length?un(t):oi(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=or(e[i],S,e)}return e}),no=Kr(function(e,t,n){var r=S|x;if(n.length)var i=v(n,no.placeholder),r=r|k;return or(t,r,e,n,i)}),ro=Wn(N),io=Wn(C),so=Kr(function(e,t){return tn(e,1,t)}),oo=Kr(function(e,t,n){return tn(e,t,n)}),uo=Kn(),ao=Kn(!0),fo=er(k),lo=er(L),co=Kr(function(e,t){return or(e,O,null,null,null,un(t))}),ho=ns||function(e){return p(e)&&br(e.length)&&Ii.call(e)==R};Es.dom||(Gr=function(e){return!!e&&1===e.nodeType&&p(e)&&!mo(e)});var po=fs||function(e){return typeof e=="number"&&is(e)},vo=r(/x/)||Zi&&!r(Zi)?function(e){return Ii.call(e)==X}:r,mo=$i?function(e){if(!e||Ii.call(e)!=$)return!1;var t=e.valueOf,n=ei(t)&&(n=$i(t))&&$i(n);return n?e==n||$i(e)==n:xr(e)}:xr,go=Fn(Qt),yo=Kr(function(e){var t=e[0];return null==t?t:(e.push(Jt),go.apply(w,e))}),bo=Jn(fn),wo=Jn(ln),Eo=Gn(Ns),So=Gn(Cs),xo=Yn(fn),To=Yn(ln),No=ss?function(e){if(e)var t=e.constructor,n=e.length;return typeof t=="function"&&t.prototype===e||typeof e!="function"&&n&&br(n)?Tr(e):Zr(e)?ss(e):[]}:Tr,Co=Fn(yn),ko=Kr(function(e,t){if(null==e)return{};if("function"!=typeof t[0])return t=Xt(un(t),Ai),Er(e,nn(ui(e),t));var n=Dn(t[0],t[1],3);return Sr(e,function(e,t,r){return!n(e,t,r)})}),Lo=Kr(function(e,t){return null==e?{}:"function"==typeof t[0]?Sr(e,Dn(t[0],t[1],3)):Er(e,un(t))}),Ao=Un(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Oo=Un(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Mo=Zn(),_o=Zn(!0);8!=ls(kt+"08")&&(ci=function(e,t,n){return(n?gr(e,t,n):null==t)?t=0:t&&(t=+t),e=pi(e),ls(e,t||(bt.test(e)?16:10))});var Do=Un(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Po=Un(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Ho=Kr(function(e,t){try{return e.apply(w,t)}catch(n){return Yr(n)?n:new xi(n)}}),Bo=Xn(Vt),jo=Xn(function(e){for(var t=-1,n=e.length,r=ps;++t<n;){var i=e[t];i<r&&(r=i)}return r},!0);return _t.prototype=Dt.prototype,Pt.prototype=Ss(Dt.prototype),Pt.prototype.constructor=Pt,Ht.prototype=Ss(Dt.prototype),Ht.prototype.constructor=Ht,Bt.prototype["delete"]=function(e){return this.has(e)&&delete this.__data__[e]},Bt.prototype.get=function(e){return"__proto__"==e?w:this.__data__[e]},Bt.prototype.has=function(e){return"__proto__"!=e&&ji.call(this.__data__,e)},Bt.prototype.set=function(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this},jt.prototype.push=function(e){var t=this.data;typeof e=="string"||Zr(e)?t.set.add(e):t.hash[e]=!0},Jr.Cache=Bt,_t.after=function(e,t){if(typeof t!="function"){if(typeof e!="function")throw new Oi(F);var n=e;e=t,t=n}return e=is(e=+e)?e:0,function(){return 1>--e?t.apply(this,arguments):void 0}},_t.ary=function(e,t,n){return n&&gr(e,t,n)&&(t=null),t=e&&null==t?e.length:os(+t||0,0),or(e,A,null,null,null,null,t)},_t.assign=go,_t.at=Rs,_t.before=Vr,_t.bind=eo,_t.bindAll=to,_t.bindKey=no,_t.callback=vi,_t.chain=jr,_t.chunk=function(e,t,n){t=(n?gr(e,t,n):null==t)?1:os(+t||1,1),n=0;for(var r=e?e.length:0,i=-1,s=Ei(Wi(r/t));n<r;)s[++i]=Sn(e,n,n+=t);return s},_t.compact=function(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var s=e[t];s&&(i[++r]=s)}return i},_t.constant=mi,_t.countBy=Us,_t.create=function(e,t,n){var r=Ss(e);return n&&gr(e,t,n)&&(t=null),t?Yt(t,r,No(t)):r},_t.curry=ro,_t.curryRight=io,_t.debounce=$r,_t.defaults=yo,_t.defer=so,_t.delay=oo,_t.difference=_s,_t.drop=Lr,_t.dropRight=Ar,_t.dropRightWhile=function(e,t,n){return e&&e.length?An(e,cr(t,n,3),!0,!0):[]},_t.dropWhile=function(e,t,n){return e&&e.length?An(e,cr(t,n,3),!0):[]},_t.fill=function(e,t,n,r){var i=e?e.length:0;if(!i)return[];for(n&&typeof n!="number"&&gr(e,t,n)&&(n=0,r=i),i=e.length,n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=typeof r=="undefined"||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;n<i;)e[n++]=t;return e},_t.filter=qr,_t.flatten=function(e,t,n){var r=e?e.length:0;return n&&gr(e,t,n)&&(t=!1),r?un(e,t):[]},_t.flattenDeep=function(e){return e&&e.length?un(e,!0):[]},_t.flow=uo,_t.flowRight=ao,_t.forEach=Xs,_t.forEachRight=Vs,_t.forIn=Eo,_t.forInRight=So,_t.forOwn=xo,_t.forOwnRight=To,_t.functions=oi,_t.groupBy=$s,_t.indexBy=Js,_t.initial=function(e){return Ar(e,1)},_t.intersection=function(){for(var e=[],t=-1,r=arguments.length,i=[],s=hr(),o=s==n;++t<r;){var u=arguments[t];(ho(u)||Qr(u))&&(e.push(u),i.push(o&&120<=u.length?Ls(t&&u):null))}var r=e.length,o=e[0],a=-1,f=o?o.length:0,l=[],c=i[0];e:for(;++a<f;)if(u=o[a],0>(c?Ft(c,u):s(l,u,0))){for(t=r;--t;){var h=i[t];if(0>(h?Ft(h,u):s(e[t],u,0)))continue e}c&&c.push(u),l.push(u)}return l},_t.invert=function(e,t,n){n&&gr(e,t,n)&&(t=null),n=-1;for(var r=No(e),i=r.length,s={};++n<i;){var o=r[n],u=e[o];t?ji.call(s,u)?s[u].push(o):s[u]=[o]:s[u]=o}return s},_t.invoke=Ks,_t.keys=No,_t.keysIn=ui,_t.map=Ur,_t.mapValues=function(e,t,n){var r={};return t=cr(t,n,3),fn(e,function(e,n,i){r[n]=t(e,n,i)}),r},_t.matches=yi,_t.matchesProperty=function(e,t){return gn(e+"",en(t,!0))},_t.memoize=Jr,_t.merge=Co,_t.mixin=bi,_t.negate=function(e){if(typeof e!="function")throw new Oi(F);return function(){return!e.apply(this,arguments)}},_t.omit=ko,_t.once=function(e){return Vr(e,2)},_t.pairs=function(e){for(var t=-1,n=No(e),r=n.length,i=Ei(r);++t<r;){var s=n[t];i[t]=[s,e[s]]}return i},_t.partial=fo,_t.partialRight=lo,_t.partition=Qs,_t.pick=Lo,_t.pluck=function(e,t){return Ur(e,bn(t))},_t.property=function(e){return bn(e+"")},_t.propertyOf=function(e){return function(t){return null==e?w:e[t]}},_t.pull=function(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=hr(),i=e.length;++n<i;)for(var s=0,o=e[n];-1<(s=r(t,o,s));)Yi.call(t,s,1);return t},_t.pullAt=Hs,_t.range=function(e,t,n){n&&gr(e,t,n)&&(t=n=null),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;var r=-1;t=os(Wi((t-e)/(n||1)),0);for(var i=Ei(t);++r<t;)i[r]=e,e+=n;return i},_t.rearg=co,_t.reject=function(e,t,n){var r=ho(e)?Wt:sn;return t=cr(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})},_t.remove=function(e,t,n){var r=-1,i=e?e.length:0,s=[];for(t=cr(t,n,3);++r<i;)n=e[r],t(n,r,e)&&(s.push(n),Yi.call(e,r--,1),i--);return s},_t.rest=Dr,_t.restParam=Kr,_t.shuffle=Wr,_t.slice=function(e,t,n){var r=e?e.length:0;return r?(n&&typeof n!="number"&&gr(e,t,n)&&(t=0,n=r),Sn(e,t,n)):[]},_t.sortBy=function(e,t,n){if(null==e)return[];var r=-1,i=e.length,s=br(i)?Ei(i):[];return n&&gr(e,t,n)&&(t=null),t=cr(t,n,3),xs(e,function(e,n,i){s[++r]={a:t(e,n,i),b:r,c:e}}),Tn(s,a)},_t.sortByAll=function(){var e=arguments,t=e[0],n=e[3],r=0,i=e.length-1;if(null==t)return[];for(var s=Ei(i);r<i;)s[r]=e[++r];return n&&gr(e[1],e[2],n)&&(s=e[1]),Nn(t,un(s),[])},_t.sortByOrder=function(e,t,n,r){return null==e?[]:(r&&gr(t,n,r)&&(n=null),ho(t)||(t=null==t?[]:[t]),ho(n)||(n=null==n?[]:[n]),Nn(e,t,n))},_t.spread=function(e){if(typeof e!="function")throw new Oi(F);return function(t){return e.apply(this,t)}},_t.take=function(e,t,n){return e&&e.length?((n?gr(e,t,n):null==t)&&(t=1),Sn(e,0,0>t?0:t)):[]},_t.takeRight=function(e,t,n){var r=e?e.length:0;return r?((n?gr(e,t,n):null==t)&&(t=1),t=r-(+t||0),Sn(e,0>t?0:t)):[]},_t.takeRightWhile=function(e,t,n){return e&&e.length?An(e,cr(t,n,3),!1,!0):[]},_t.takeWhile=function(e,t,n){return e&&e.length?An(e,cr(t,n,3)):[]},_t.tap=function(e,t,n){return t.call(n,e),e},_t.throttle=function(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new Oi(F);return!1===n?r=!1:Zr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Mt.leading=r,Mt.maxWait=+t,Mt.trailing=i,$r(e,t,Mt)},_t.thru=Fr,_t.times=function(e,t,n){if(e=+e,1>e||!is(e))return[];var r=-1,i=Ei(us(e,ds));for(t=Dn(t,n,1);++r<e;)r<ds?i[r]=t(r):t(r);return i},_t.toArray=function(e){var t=e?e.length:0;return br(t)?t?It(e):[]:ai(e)},_t.toPlainObject=si,_t.transform=function(e,t,n,r){var i=ho(e)||ii(e);return t=cr(t,r,4),null==n&&(i||Zr(e)?(r=e.constructor,n=i?ho(e)?new r:[]:Ss(vo(r)&&r.prototype)):n={}),(i?qt:fn)(e,function(e,r,i){return t(n,e,r,i)}),n},_t.union=Fs,_t.uniq=Pr,_t.unzip=Hr,_t.values=ai,_t.valuesIn=function(e){return Ln(e,ui(e))},_t.where=function(e,t){return qr(e,mn(t))},_t.without=Is,_t.wrap=function(e,t){return t=null==t?gi:t,or(t,k,null,[e],[])},_t.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(ho(n)||Qr(n))var r=r?nn(r,n).concat(nn(n,r)):n}return r?kn(r):[]},_t.zip=qs,_t.zipObject=Br,_t.backflow=ao,_t.collect=Ur,_t.compose=ao,_t.each=Xs,_t.eachRight=Vs,_t.extend=go,_t.iteratee=vi,_t.methods=oi,_t.object=Br,_t.select=qr,_t.tail=Dr,_t.unique=Pr,bi(_t,_t),_t.add=function(e,t){return e+t},_t.attempt=Ho,_t.camelCase=Ao,_t.capitalize=function(e){return(e=i(e))&&e.charAt(0).toUpperCase()+e.slice(1)},_t.clone=function(e,t,n,r){return t&&typeof t!="boolean"&&gr(e,t,n)?t=!1:typeof t=="function"&&(r=n,n=t,t=!1),n=typeof n=="function"&&Dn(n,r,1),en(e,t,n)},_t.cloneDeep=function(e,t,n){return t=typeof t=="function"&&Dn(t,n,1),en(e,!0,t)},_t.deburr=fi,_t.endsWith=function(e,t,n){e=i(e),t+="";var r=e.length;return n=typeof n=="undefined"?r:us(0>n?0:+n||0,r),n-=t.length,0<=n&&e.indexOf(t,n)==n},_t.escape=function(e){return(e=i(e))&&ht.test(e)?e.replace(lt,l):e},_t.escapeRegExp=li,_t.every=Ir,_t.find=zs,_t.findIndex=Ds,_t.findKey=bo,_t.findLast=Ws,_t.findLastIndex=Ps,_t.findLastKey=wo,_t.findWhere=function(e,t){return zs(e,mn(t))},_t.first=Or,_t.has=function(e,t){return e?ji.call(e,t):!1},_t.identity=gi,_t.includes=Rr,_t.indexOf=Mr,_t.inRange=function(e,t,n){return t=+t||0,"undefined"==typeof n?(n=t,t=0):n=+n||0,e>=t&&e<n},_t.isArguments=Qr,_t.isArray=ho,_t.isBoolean=function(e){return!0===e||!1===e||p(e)&&Ii.call(e)==U},_t.isDate=function(e){return p(e)&&Ii.call(e)==z},_t.isElement=Gr,_t.isEmpty=function(e){if(null==e)return!0;var t=e.length;return br(t)&&(ho(e)||ri(e)||Qr(e)||p(e)&&vo(e.splice))?!t:!No(e).length},_t.isEqual=function(e,t,n,r){return n=typeof n=="function"&&Dn(n,r,3),!n&&wr(e)&&wr(t)?e===t:(r=n?n(e,t):w,typeof r=="undefined"?hn(e,t,n):!!r)},_t.isError=Yr,_t.isFinite=po,_t.isFunction=vo,_t.isMatch=function(e,t,n,r){var i=No(t),s=i.length;if(!s)return!0;if(null==e)return!1;if(n=typeof n=="function"&&Dn(n,r,3),!n&&1==s){var o=i[0];if(r=t[o],wr(r))return r===e[o]&&(typeof r!="undefined"||o in Cr(e))}for(var o=Ei(s),u=Ei(s);s--;)r=o[s]=t[i[s]],u[s]=wr(r);return dn(Cr(e),i,o,u,n)},_t.isNaN=function(e){return ti(e)&&e!=+e},_t.isNative=ei,_t.isNull=function(e){return null===e},_t.isNumber=ti,_t.isObject=Zr,_t.isPlainObject=mo,_t.isRegExp=ni,_t.isString=ri,_t.isTypedArray=ii,_t.isUndefined=function(e){return typeof e=="undefined"},_t.kebabCase=Oo,_t.last=_r,_t.lastIndexOf=function(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if(typeof n=="number")i=(0>n?os(r+n,0):us(n||0,r-1))+1;else if(n)return i=Mn(e,t,!0)-1,e=e[i],(t===t?t===e:e!==e)?i:-1;if(t!==t)return h(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1},_t.max=Bo,_t.min=jo,_t.noConflict=function(){return d._=qi,this},_t.noop=wi,_t.now=Zs,_t.pad=function(e,t,n){e=i(e),t=+t;var r=e.length;return r<t&&is(t)?(r=(t-r)/2,t=Vi(r),r=Wi(r),n=rr("",r,n),n.slice(0,t)+e+n):e},_t.padLeft=Mo,_t.padRight=_o,_t.parseInt=ci,_t.random=function(e,t,n){n&&gr(e,t,n)&&(t=n=null);var r=null==e,i=null==t;return null==n&&(i&&typeof e=="boolean"?(n=e,e=1):typeof t=="boolean"&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1?(n=cs(),us(e+n*(t-e+parseFloat("1e-"+((n+"").length-1))),t)):wn(e,t)},_t.reduce=Gs,_t.reduceRight=Ys,_t.repeat=hi,_t.result=function(e,t,n){return t=null==e?w:e[t],typeof t=="undefined"&&(t=n),vo(t)?t.call(e):t},_t.runInContext=b,_t.size=function(e){var t=e?e.length:0;return br(t)?t:No(e).length},_t.snakeCase=Do,_t.some=Xr,_t.sortedIndex=Bs,_t.sortedLastIndex=js,_t.startCase=Po,_t.startsWith=function(e,t,n){return e=i(e),n=null==n?0:us(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n},_t.sum=function(e,t,n){n&&gr(e,t,n)&&(t=null);var r=cr(),i=null==t;if(r===Zt&&i||(i=!1,t=r(t,n,3)),i){for(e=ho(e)?e:Nr(e),t=e.length,n=0;t--;)n+=+e[t]||0;e=n}else e=Cn(e,t);return e},_t.template=function(e,t,n){var r=_t.templateSettings;n&&gr(e,t,n)&&(t=n=null),e=i(e),t=Qt(Qt({},n||t),r,Kt),n=Qt(Qt({},t.imports),r.imports,Kt);var s,o,u=No(n),a=Ln(n,u),f=0;n=t.interpolate||St;var l="__p+='";n=Li((t.escape||St).source+"|"+n.source+"|"+(n===vt?gt:St).source+"|"+(t.evaluate||St).source+"|$","g");var h="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(e.replace(n,function(t,n,r,i,u,a){return r||(r=i),l+=e.slice(f,a).replace(Nt,c),n&&(s=!0,l+="'+__e("+n+")+'"),u&&(o=!0,l+="';"+u+";\n__p+='"),r&&(l+="'+((__t=("+r+"))==null?'':__t)+'"),f=a+t.length,t}),l+="';",(t=t.variable)||(l="with(obj){"+l+"}"),l=(o?l.replace(ot,""):l).replace(ut,"$1").replace(at,"$1;"),l="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(s?",__e=_.escape":"")+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+l+"return __p}",t=Ho(function(){return Ti(u,h+"return "+l).apply(w,a)}),t.source=l,Yr(t))throw t;return t},_t.trim=pi,_t.trimLeft=function(e,t,n){var r=e;return(e=i(e))?e.slice((n?gr(r,t,n):null==t)?m(e):o(e,t+"")):e},_t.trimRight=function(e,t,n){var r=e;return(e=i(e))?(n?gr(r,t,n):null==t)?e.slice(0,g(e)+1):e.slice(0,u(e,t+"")+1):e},_t.trunc=function(e,t,n){n&&gr(e,t,n)&&(t=null);var r=M;if(n=_,null!=t)if(Zr(t)){var s="separator"in t?t.separator:s,r="length"in t?+t.length||0:r;n="omission"in t?i(t.omission):n}else r=+t||0;if(e=i(e),r>=e.length)return e;if(r-=n.length,1>r)return n;if(t=e.slice(0,r),null==s)return t+n;if(ni(s)){if(e.slice(r).search(s)){var o,u=e.slice(0,r);for(s.global||(s=Li(s.source,(yt.exec(s)||"")+"g")),s.lastIndex=0;e=s.exec(u);)o=e.index;t=t.slice(0,null==o?r:o)}}else e.indexOf(s,r)!=r&&(s=t.lastIndexOf(s),-1<s&&(t=t.slice(0,s)));return t+n},_t.unescape=function(e){return(e=i(e))&&ct.test(e)?e.replace(ft,y):e},_t.uniqueId=function(e){var t=++Fi;return i(e)+t},_t.words=di,_t.all=Ir,_t.any=Xr,_t.contains=Rr,_t.detect=zs,_t.foldl=Gs,_t.foldr=Ys,_t.head=Or,_t.include=Rr,_t.inject=Gs,bi(_t,function(){var e={};return fn(_t,function(t,n){_t.prototype[n]||(e[n]=t)}),e}(),!1),_t.sample=zr,_t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return zr(t,e)}):zr(this.value())},_t.VERSION=E,qt("bind bindKey curry curryRight partial partialRight".split(" "),function(e){_t[e].placeholder=_t}),qt(["dropWhile","filter","map","takeWhile"],function(e,t){var n=t!=j,r=t==H;Ht.prototype[e]=function(e,i){var s=this.__filtered__,o=s&&r?new Ht(this):this.clone();return(o.__iteratees__||(o.__iteratees__=[])).push({done:!1,count:0,index:0,iteratee:cr(e,i,1),limit:-1,type:t}),o.__filtered__=s||n,o}}),qt(["drop","take"],function(e,t){var n=e+"While";Ht.prototype[e]=function(n){var r=this.__filtered__,i=r&&!t?this.dropWhile():this.clone();return n=null==n?1:os(Vi(n)||0,0),r?t?i.__takeCount__=us(i.__takeCount__,n):_r(i.__iteratees__).limit=n:(i.__views__||(i.__views__=[])).push({size:n,type:e+(0>i.__dir__?"Right":"")}),i},Ht.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()},Ht.prototype[e+"RightWhile"]=function(e,t){return this.reverse()[n](e,t).reverse()}}),qt(["first","last"],function(e,t){var n="take"+(t?"Right":"");Ht.prototype[e]=function(){return this[n](1).value()[0]}}),qt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");Ht.prototype[e]=function(){return this[n](1)}}),qt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?mn:bn;Ht.prototype[e]=function(e){return this[n](r(e))}}),Ht.prototype.compact=function(){return this.filter(gi)},Ht.prototype.reject=function(e,t){return e=cr(e,t,1),this.filter(function(t){return!e(t)})},Ht.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=0>e?this.takeRight(-e):this.drop(e);return typeof t!="undefined"&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n},Ht.prototype.toArray=function(){return this.drop(0)},fn(Ht.prototype,function(e,t){var n=_t[t];if(n){var r=/^(?:filter|map|reject)|While$/.test(t),i=/^(?:first|last)$/.test(t);_t.prototype[t]=function(){function t(e){return e=[e],Ji.apply(e,s),n.apply(_t,e)}var s=arguments,o=this.__chain__,u=this.__wrapped__,a=!!this.__actions__.length,f=u instanceof Ht,l=s[0],c=f||ho(u);return c&&r&&typeof l=="function"&&1!=l.length&&(f=c=!1),f=f&&!a,i&&!o?f?e.call(u):n.call(_t,this.value()):c?(u=e.apply(f?u:new Ht(this),s),i||!a&&!u.__actions__||(u.__actions__||(u.__actions__=[])).push({func:Fr,args:[t],thisArg:_t}),new Pt(u,o)):this.thru(t)}}}),qt("concat join pop push replace shift sort splice split unshift".split(" "),function(e){var t=(/^(?:replace|split)$/.test(e)?Di:Mi)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);_t.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),fn(Ht.prototype,function(e,t){var n=_t[t];if(n){var r=n.name;(ws[r]||(ws[r]=[])).push({name:t,func:n})}}),ws[nr(null,x).name]=[{name:"wrapper",func:null}],Ht.prototype.clone=function(){var e=this.__actions__,t=this.__iteratees__,n=this.__views__,r=new Ht(this.__wrapped__);return r.__actions__=e?It(e):null,r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=t?It(t):null,r.__takeCount__=this.__takeCount__,r.__views__=n?It(n):null,r},Ht.prototype.reverse=function(){if(this.__filtered__){var e=new Ht(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},Ht.prototype.value=function(){var e=this.__wrapped__.value();if(!ho(e))return On(e,this.__actions__);var t,n=this.__dir__,r=0>n;t=e.length;for(var i=this.__views__,s=0,o=-1,u=i?i.length:0;++o<u;){var a=i[o],f=a.size;switch(a.type){case"drop":s+=f;break;case"dropRight":t-=f;break;case"take":t=us(t,s+f);break;case"takeRight":s=os(s,t-f)}}t={start:s,end:t},i=t.start,s=t.end,t=s-i,i=r?s:i-1,s=us(t,this.__takeCount__),u=(o=this.__iteratees__)?o.length:0,a=0,f=[];e:for(;t--&&a<s;){for(var i=i+n,l=-1,c=e[i];++l<u;){var h=o[l],p=h.iteratee,d=h.type;if(d==H){if(h.done&&(r?i>h.index:i<h.index)&&(h.count=0,h.done=!1),h.index=i,!(h.done||(d=h.limit,h.done=-1<d?h.count++>=d:!p(c))))continue e}else if(h=p(c),d==j)c=h;else if(!h){if(d==B)continue e;break e}}f[a++]=c}return f},_t.prototype.chain=function(){return jr(this)},_t.prototype.commit=function(){return new Pt(this.value(),this.__chain__)},_t.prototype.plant=function(e){for(var t,n=this;n instanceof Dt;){var r=kr(n);t?i.__wrapped__=r:t=r;var i=r,n=n.__wrapped__}return i.__wrapped__=e,t},_t.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof Ht?(this.__actions__.length&&(e=new Ht(this)),new Pt(e.reverse(),this.__chain__)):this.thru(function(e){return e.reverse()})},_t.prototype.toString=function(){return this.value()+""},_t.prototype.run=_t.prototype.toJSON=_t.prototype.valueOf=_t.prototype.value=function(){return On(this.__wrapped__,this.__actions__)},_t.prototype.collect=_t.prototype.map,_t.prototype.head=_t.prototype.first,_t.prototype.select=_t.prototype.filter,_t.prototype.tail=_t.prototype.rest,_t}var w,E="3.6.0",S=1,x=2,T=4,N=8,C=16,k=32,L=64,A=128,O=256,M=30,_="...",D=150,P=16,H=0,B=1,j=2,F="Expected a function",I="__lodash_placeholder__",q="[object Arguments]",R="[object Array]",U="[object Boolean]",z="[object Date]",W="[object Error]",X="[object Function]",V="[object Number]",$="[object Object]",J="[object RegExp]",K="[object String]",Q="[object ArrayBuffer]",G="[object Float32Array]",Y="[object Float64Array]",Z="[object Int8Array]",et="[object Int16Array]",tt="[object Int32Array]",nt="[object Uint8Array]",rt="[object Uint8ClampedArray]",it="[object Uint16Array]",st="[object Uint32Array]",ot=/\b__p\+='';/g,ut=/\b(__p\+=)''\+/g,at=/(__e\(.*?\)|\b__t\))\+'';/g,ft=/&(?:amp|lt|gt|quot|#39|#96);/g,lt=/[&<>"'`]/g,ct=RegExp(ft.source),ht=RegExp(lt.source),pt=/<%-([\s\S]+?)%>/g,dt=/<%([\s\S]+?)%>/g,vt=/<%=([\s\S]+?)%>/g,mt=/[\u0300-\u036f\ufe20-\ufe23]/g,gt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yt=/\w*$/,bt=/^0[xX]/,wt=/^\[object .+?Constructor\]$/,Et=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,St=/($^)/,xt=/[.*+?^${}()|[\]\/\\]/g,Tt=RegExp(xt.source),Nt=/['\n\r\u2028\u2029\\]/g,Ct=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),kt=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",Lt="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout document isFinite parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap window".split(" "),At={};At[G]=At[Y]=At[Z]=At[et]=At[tt]=At[nt]=At[rt]=At[it]=At[st]=!0,At[q]=At[R]=At[Q]=At[U]=At[z]=At[W]=At[X]=At["[object Map]"]=At[V]=At[$]=At[J]=At["[object Set]"]=At[K]=At["[object WeakMap]"]=!1;var Ot={};Ot[q]=Ot[R]=Ot[Q]=Ot[U]=Ot[z]=Ot[G]=Ot[Y]=Ot[Z]=Ot[et]=Ot[tt]=Ot[V]=Ot[$]=Ot[J]=Ot[K]=Ot[nt]=Ot[rt]=Ot[it]=Ot[st]=!0,Ot[W]=Ot[X]=Ot["[object Map]"]=Ot["[object Set]"]=Ot["[object WeakMap]"]=!1;var Mt={leading:!1,maxWait:0,trailing:!1},_t={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Dt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Pt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ht={"function":!0,object:!0},Bt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jt=Ht[typeof exports]&&exports&&!exports.nodeType&&exports,Ft=Ht[typeof module]&&module&&!module.nodeType&&module,It=Ht[typeof self]&&self&&self.Object&&self,Ht=Ht[typeof window]&&window&&window.Object&&window,qt=Ft&&Ft.exports===jt&&jt,Rt=jt&&Ft&&typeof global=="object"&&global||Ht!==(this&&this.window)&&Ht||It||this,Ut=b();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Rt._=Ut,define("underscore",[],function(){return Ut})):jt&&Ft?qt?(Ft.exports=Ut)._=Ut:jt._=Ut:Rt._=Ut}.call(this),function(e,t){if(typeof define=="function"&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if(typeof exports!="undefined"){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,r){var i=e.Backbone,s=[],o=s.push,u=s.slice,a=s.splice;t.VERSION="1.1.2",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var f=t.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,r){if(!c(this,"once",e,[t,r])||!t)return this;var i=this,s=n.once(function(){i.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,r)},off:function(e,t,r){var i,s,o,u,a,f,l,h;if(!this._events||!c(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events=void 0,this;u=e?[e]:n.keys(this._events);for(a=0,f=u.length;a<f;a++){e=u[a];if(o=this._events[e]){this._events[e]=i=[];if(t||r)for(l=0,h=o.length;l<h;l++)s=o[l],(t&&t!==s.callback&&t!==s.callback._callback||r&&r!==s.context)&&i.push(s);i.length||delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=u.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&h(n,t),r&&h(r,arguments),this},stopListening:function(e,t,r){var i=this._listeningTo;if(!i)return this;var s=!t&&!r;!r&&typeof t=="object"&&(r=this),e&&((i={})[e._listenId]=e);for(var o in i)e=i[o],e.off(t,r,this),(s||n.isEmpty(e._events))&&delete this._listeningTo[o];return this}},l=/\s+/,c=function(e,t,n,r){if(!n)return!0;if(typeof n=="object"){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(l.test(n)){var s=n.split(l);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r));return!1}return!0},h=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t);return}},p={listenTo:"on",listenToOnce:"once"};n.each(p,function(e,t){f[t]=function(t,r,i){var s=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=n.uniqueId("l"));return s[o]=t,!i&&typeof r=="object"&&(i=this),t[e](r,i,this),this}}),f.bind=f.on,f.unbind=f.off,n.extend(t,f);var d=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(d.prototype,f,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,r){var i,s,o,u,a,f,l,c;if(e==null)return this;typeof e=="object"?(s=e,r=t):(s={})[e]=t,r||(r={});if(!this._validate(s,r))return!1;o=r.unset,a=r.silent,u=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=n.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(i in s)t=s[i],n.isEqual(c[i],t)||u.push(i),n.isEqual(l[i],t)?delete this.changed[i]:this.changed[i]=t,o?delete c[i]:c[i]=t;if(!a){u.length&&(this._pending=r);for(var h=0,p=u.length;h<p;h++)this.trigger("change:"+u[h],this,c[u[h]],r)}if(f)return this;if(!a)while(this._pending)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var s in e){if(n.isEqual(i[s],t=e[s]))continue;(r||(r={}))[s]=t}return r},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,r=e.success;return e.success=function(n){if(!t.set(t.parse(n,e),e))return!1;r&&r(t,n,e),t.trigger("sync",t,n,e)},I(this,e),this.sync("read",this,e)},save:function(e,t,r){var i,s,o,u=this.attributes;e==null||typeof e=="object"?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0},r);if(i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},u,i)),r.parse===void 0&&(r.parse=!0);var a=this,f=r.success;return r.success=function(e){a.attributes=u;var t=a.parse(e,r);r.wait&&(t=n.extend(i||{},t));if(n.isObject(t)&&!a.set(t,r))return!1;f&&f(a,e,r),a.trigger("sync",a,e,r)},I(this,r),s=this.isNew()?"create":r.patch?"patch":"update",s==="patch"&&(r.attrs=i),o=this.sync(s,this,r),i&&r.wait&&(this.attributes=u),o},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(n){(e.wait||t.isNew())&&i(),r&&r(t,n,e),t.isNew()||t.trigger("sync",t,n,e)};if(this.isNew())return e.success(),!1;I(this,e);var s=this.sync("delete",this,e);return e.wait||i(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var v=["keys","values","pairs","invert","pick","omit"];n.each(v,function(e){d.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var m=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},g={add:!0,remove:!0,merge:!0},y={add:!0,remove:!1};n.extend(m.prototype,f,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,y))},remove:function(e,t){var r=!n.isArray(e);e=r?[e]:n.clone(e),t||(t={});var i,s,o,u;for(i=0,s=e.length;i<s;i++){u=e[i]=this.get(e[i]);if(!u)continue;delete this._byId[u.id],delete this._byId[u.cid],o=this.indexOf(u),this.models.splice(o,1),this.length--,t.silent||(t.index=o,u.trigger("remove",u,this,t)),this._removeReference(u,t)}return r?e[0]:e},set:function(e,t){t=n.defaults({},t,g),t.parse&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:n.clone(e);var i,s,o,u,a,f,l,c=t.at,h=this.model,p=this.comparator&&c==null&&t.sort!==!1,v=n.isString(this.comparator)?this.comparator:null,m=[],y=[],b={},w=t.add,E=t.merge,S=t.remove,x=!p&&w&&S?[]:!1;for(i=0,s=e.length;i<s;i++){a=e[i]||{},a instanceof d?o=u=a:o=a[h.prototype.idAttribute||"id"];if(f=this.get(o))S&&(b[f.cid]=!0),E&&(a=a===u?u.attributes:a,t.parse&&(a=f.parse(a,t)),f.set(a,t),p&&!l&&f.hasChanged(v)&&(l=!0)),e[i]=f;else if(w){u=e[i]=this._prepareModel(a,t);if(!u)continue;m.push(u),this._addReference(u,t)}u=f||u,x&&(u.isNew()||!b[u.id])&&x.push(u),b[u.id]=!0}if(S){for(i=0,s=this.length;i<s;++i)b[(u=this.models[i]).cid]||y.push(u);y.length&&this.remove(y,t)}if(m.length||x&&x.length){p&&(l=!0),this.length+=m.length;if(c!=null)for(i=0,s=m.length;i<s;i++)this.models.splice(c+i,0,m[i]);else{x&&(this.models.length=0);var T=x||m;for(i=0,s=T.length;i<s;i++)this.models.push(T[i])}}l&&this.sort({silent:!0});if(!t.silent){for(i=0,s=m.length;i<s;i++)(u=m[i]).trigger("add",u,this,t);(l||x&&x.length)&&this.trigger("sort",this,t)}return r?e[0]:e},reset:function(e,t){t||(t={});for(var r=0,i=this.models.length;r<i;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return u.apply(this.models,arguments)},get:function(e){return e==null?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t(r,n,e),r.trigger("sync",r,n,e)},I(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var r=this,i=t.success;return t.success=function(e,n){t.wait&&r.add(e,t),i&&i(e,n,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_addReference:function(e,t){this._byId[e.cid]=e,e.id!=null&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(b,function(e){m.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var w=["groupBy","countBy","sortBy","indexBy"];n.each(w,function(e){m.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var E=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},S=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,f,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var r=e[t];n.isFunction(r)||(r=this[e[t]]);if(!r)continue;var i=t.match(S),s=i[1],o=i[2];r=n.bind(r,this),s+=".delegateEvents"+this.cid,o===""?this.$el.on(s,r):this.$el.on(s,o,r)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var r=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(r,!1)}else this.setElement(n.result(this,"el"),!1)}}),t.sync=function(e,r,i){var s=N[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};i.url||(o.url=n.result(r,"url")||F()),i.data==null&&r&&(e==="create"||e==="update"||e==="patch")&&(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{});if(i.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){o.type="POST",i.emulateJSON&&(o.data._method=s);var u=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s);if(u)return u.apply(this,arguments)}}o.type!=="GET"&&!i.emulateJSON&&(o.processData=!1),o.type==="PATCH"&&T&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var a=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,a,i),a};var T=typeof window!="undefined"&&!!window.ActiveXObject&&(!window.XMLHttpRequest||!(new XMLHttpRequest).dispatchEvent),N={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,A=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,f,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return t.history.route(e,function(n){var o=s._extractParameters(e,n);s.execute(i,o),s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),t.history.trigger("route",s,r,o)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(!this.routes)return;this.routes=n.result(this,"routes");var e,t=n.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(O,"\\$&").replace(k,"(?:$1)?").replace(L,function(e,t){return t?e:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var M=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},_=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,P=/msie [\w.]+/,H=/\/$/,B=/#.*$/;M.started=!1,n.extend(M.prototype,f,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(H,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(_,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,s=P.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace(D,"/");if(s&&this._wantsHashChange){var o=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var u=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&u.hash&&(this.fragment=this.getHash().replace(_,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!M.started)return!1;if(!t||t===!0)t={trigger:!!t};var n=this.root+(e=this.getFragment(e||""));e=e.replace(B,"");if(this.fragment===e)return;this.fragment=e,e===""&&n!=="/"&&(n=n.slice(0,-1));if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new M;var j=function(e,t){var r=this,i;e&&n.has(e,"constructor")?i=e.constructor:i=function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};d.extend=m.extend=C.extend=E.extend=M.extend=j;var F=function(){throw new Error('A "url" property or function must be specified')},I=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}};return t}),define("nprogress",["jquery"],function(e){function r(e,t,n){return e<t?t:e>n?n:e}function i(e){return(-1+e)*100}function s(e,t,r){var s;return n.positionUsing==="translate3d"?s={transform:"translate3d("+i(e)+"%,0,0)"}:n.positionUsing==="translate"?s={transform:"translate("+i(e)+"%,0)"}:s={"margin-left":i(e)+"%"},s.transition="all "+t+"ms "+r,s}var t={};t.version="0.1.2";var n=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};return t.configure=function(t){return e.extend(n,t),this},t.status=null,t.set=function(e){var i=t.isStarted();e=r(e,n.minimum,1),t.status=e===1?null:e;var o=t.render(!i),u=o.find('[role="bar"]'),a=n.speed,f=n.easing;return o[0].offsetWidth,o.queue(function(r){n.positionUsing===""&&(n.positionUsing=t.getPositioningCSS()),u.css(s(e,a,f)),e===1?(o.css({transition:"none",opacity:1}),o[0].offsetWidth,setTimeout(function(){o.css({transition:"all "+a+"ms linear",opacity:0}),setTimeout(function(){t.remove(),r()},a)},a)):setTimeout(r,a)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var e=function(){setTimeout(function(){if(!t.status)return;t.trickle(),e()},n.trickleSpeed)};return n.trickle&&e(),this},t.done=function(e){return!e&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(e){var n=t.status;return n?(typeof e!="number"&&(e=(1-n)*r(Math.random()*n,.1,.95)),n=r(n+e,0,.994),t.set(n)):t.start()},t.trickle=function(){return t.inc(Math.random()*n.trickleRate)},t.render=function(r){if(t.isRendered())return e("#nprogress");e("html").addClass("nprogress-busy");var s=e("<div id='nprogress'>").html(n.template),o=r?"-100":i(t.status||0);return s.find('[role="bar"]').css({transition:"all 0 linear",transform:"translate3d("+o+"%,0,0)"}),n.showSpinner||s.find('[role="spinner"]').remove(),s.appendTo(document.body),s},t.remove=function(){e("html").removeClass("nprogress-busy"),e("#nprogress").remove()},t.isRendered=function(){return e("#nprogress").length>0},t.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"},t}),define("localizations/en-EU",["util"],function(){return{ui:{all:"All",actions:"Actions",on:"ON",off:"OFF",save:"Save",saveAll:"Save all",selectAll:"Select all",cancel:"Cancel",close:"Close",discard:"Discard",clone:"Clone",copy:"Copy",edit:"Edit","delete":"Delete",check:"Check",add:"Add",ok:"Ok",reset:"Reset",merge:"Merge",ignore:"Ignore",include:"Include",send:"Send",receive:"Receive",viewEmail:"View email",sendEmail:"Send email",sendInvite:"Send invite",back:"Back",update:"Update",del:"Delete",remove:"Remove",generate:"Generate",submit:"Submit",confirm:"Confirm",create:"Create",register:"Register",refresh:"Refresh",report:"Report",escToCancel:"<strong>Esc</strong> to cancel",ctrlEnterToSubmit:"<strong>Ctrl + Enter</strong> to submit",loading:"Loading",link:"Link",unlink:"Unlink",post:"Post",analyse:"Analyse",gallery:"Gallery",build:"Build",error:"Error",hide:"Hide",yes:"Yes",no:"No",finish:"Finish",move:"Move",restore:"Restore",settings:"Settings",members:"Members",events:"Events monitoring",action:"Action",filter:"FILTER",locator:"Locator",clickToSubmit:"Click to submit this form",clickToCancel:"Click to cancel",noResultsFound:"No results found",noData:"You have no data",toGetStarted:"To get started, please",setUpIntegration:"Set up Own Integration",generateTestResults:"or generate Demo Test Results",clickToggleGallery:"Click to toggle gallery view",clickOpenNewWindow:"Click to open in new window",jumpToMessage:"Jump to message",clickToSeeDescription:"Click to see description",reuseForAnalyze:"Re-use for analyze",backToTop:"Back to top",allRights:"All rights reserved",admin:"ADMIN",manager:"MANAGER",operator:"OPERATOR",member:"MEMBER",customer:"CUSTOMER",user:"USER(OWNER)",you:"you",makeAdmin:"Make admin",unassign:"Unassign",lockedTitle:"Role can't be changed, since user have ADMIN privileges",more:"more...",wrongCredentials:"user name or password is incorrect",wronglength:"Login must be to 128 characters.",wrongcharacters:"Login should contain only any latin, numeric characters, symbols: hyphen, underscore.",wrongsignin:"You need to sign in before continuing",wrongrelogin:"Can't get user info. Please relogin",wrongupdating:"Error when update default project: ",reloginToApply:"Please relogin to apply changes!",relogin:"Relogin",avatar:"Profile image",minPrefix:"At least ",minSufix:" symbols required.",minSufix3:" symbols required.",minSufixAuto:" symbols required for autocomplete.",minSufixAuto3:" symbols required for autocomplete.",maxPrefix:"No more than ",maxSufix:" symbols allowed.",by:"by",sureToRemove:"Are you sure you want to remove %%% <span class='text-wrapper'>'%%%'</span>",sureToUnassign:"Are you sure you want to unassign",sureToDelete:"Are you sure you want to delete",enterChars:"Please enter 1 or more characters",checkQuery:"Check your query and try again",addFirstFilter:"Be the first to add a new filter",userSm:"user",widgetSm:"widget",dashboardSm:"dashboard",analyze:"Analysis",autoAnalyzeShort:"AA",BASIC:"Basic",OAUTH:"OAuth",NTLM:"NTLM",APIKEY:"ApiKey",previous:"Previous",next:"Next",warning:"WARNING",warningSm:"warning",toolname:"Report Portal",launches:"launches",items:"items",item:"item",sec:"sec",month:"month",monthsString:"months",max:"Max",min:"Min",avg:"Avg",rotateImage:"Rotate image",selectValue:"Select value",from:"from",to:"to",launch:"launch",selectedLaunches:"selected launches",debug:"Debug",allLaunches:"All launches",smof:"of",smon:"on",backHome:"Back to home",backForm:"Back to form",today:"Today",yesterday:"Yesterday",sortBy:"Sort by",name:"Name",description:"Description","import":"Import",searchName:"Search by name",perPage:"per page",of:"of",timeRangeChange:"Your time range will be updated every day",markdownBigHeading:"Big heading",markdownMediumHeading:"Medium heading",markdownSmallHeading:"Small heading",markdownClean:"Clean block",markdownBold:"Bold",markdownItalic:"Italic",markdownStrikethrough:"Strikethrough",markdownGeneric:"Generic list",markdownNumbered:"Numbered list",markdownImage:"Insert image",markdownLink:"Create link",markdownQuote:"Quote",markdownCode:"Code",markdownPreview:"Toggle preview",they:"They",it:"It","new":"New",enterEmail:"Enter email",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],note:"Note"},uiCommonElements:{cancel:"Cancel",reset:"Reset",close:"Close","delete":"Delete"},footer:{help:"Help",contactUs:"Contact us",epam:"EPAM",policy:"Privacy policy",docs:"Documentation",api:"API",licensing:"Licensing",lgplv3:"LGPL 3.0",chatSlack:"Chat with us on Slack",textCopyright:"&copy; 2017 Report Portal. All rights reserved.",textSocial:"Keep in touch with us:",menu:{news:"News",support:"Support",aboutUs:"About us",contacts:"Contacts"}},notFound:{oops:"Oops, this page was not found",spelling:"You may have mistyped the URL. Please check your spelling.",or:"or",permission:"You do not have permission to access this page. Please check the list of your available projects."},messages:{code:"Code:",details:" details"},login:{passwordTitle:"Password",loginTitle:"Login",signIn:"Sign in",blockedLoginForm:"You entered incorrectly login or password many times. Login form is blocked for ",changePassword:"Change password",sendEmail:"Send email",backToLogin:"Back to login",showPassword:"Show password",newPassword:"New password",confirmNewPassword:"Confirm new password",restorePassword:"Restore password",emailToBegin:"Enter email to begin",forgotPassword:"Forgot password?",demoWelcomeMsg:'<span class="big">Welcome</span><br>to the Demo Server',publicAccount:'You are on the public Demo Account. <span class="banner-description">For loading your sensitive data, please use <span class="github-auth" data-js-github-auth>Github authorization</span>.</span>',welcomeMsg:'<span class="big">Welcome,</span><br>login to your account',dataFlush:"Data flush in",hours:"h",minutes:"m",seconds:"s",welcomeMsgForgotPass:'<span class="big">Forgot password?</span><br>enter your email to restore',demoGithub:"You are using Personal GitHub Project.",welcomeMsgResetPass:'<span class="big">Change password</span><br>enter new password and confirm it',currentVersion:"Current version:",newVersions:"New versions are available.",updateServices:"Update to the latests",twitterCaption:"Be informed with our latest tweets",error:"Error",loginEpam:"Login with EPAM",loginGitHub:"Login with GitHub",or:"or",loginPlaceholder:"Login",password:"Password"},topMenu:{reportPortal:"Report Portal",rpp:"RPP",status:"Status",activeProjTitle:"Current active project",dashboard:"Dashboard",launches:"Launches",debug:"Debug",favorites:"Favorites",admin:"Admin",members:"Members",logout:"Logout",settings:"Settings",myProjects:"My projects",filters:"Filters",projects:"My projects:",administrate:"Administrate",profile:"Profile",api:"API"},itemEvents:{updateItemIssue:"updated item issue",updateItem:"updated item",linkIssue:"linked issue",unlinkIssue:"unlinked issue",postIssue:"posted issue",changedByAnalyzer:"AA changed defect type",issueLoadByAnalyzer:"AA linked issue"},widgets:{all:"All",clickZoomIn:"Click to zoom in",clickZoomOut:"Click to zoom out",clickEdit:"Click to edit widget",clickDelete:"Click to delete",filterNotFound:"Filter associated with this widget is not found",unableLoadData:"Unable to load data for this widget",unsharedWidget:"Widget has been unshared by owner!",widgetNotFound:"Widget not found!",widgetUnShared:"Widget has been unshared by",dataFilter:"Data filter for widget",fromMyFilters:"from my filters",fromShared:"from shared filters",selectFilter:"Select filter",configureWidget:"Configure widget",selectType:"Select widget type",widgetName:"Widget name",limitResults:"Limit of results",widgetSize:"Widget size",widgetType:"Widget type",typeUserName:"User name",enterLaunchName:"Enter launch name",typeLaunchName:"Launch name",widgetCriteria:"Criteria for widget",selectCriteria:"Select criteria",selectShared:"Select shared widget",sharedWidgetsSearchPlaceholder:"Search by name, owner",widgetExists:"Widget already exists on dashboard",emptyShared:"No shared widgets found!",sharedBy:"shared by",widgetSharedBy:"Widget is shared by",widgetCreatedBy:"Widget was created by",noData:"No data available.",selectLaunch:"Select launch",enterUserName:"Enter user name",chooseFilter:"Choose filter from the list below",chooseFilterShort:"Choose filter",selectedFilterNotFound:"The filter not found. Please choose another one.",tagPrefix:"Tag prefix",limit:"Items count",items:"Items",launchesCount:"Launches count",enterRecipients:"enter recipients",bug:"bug",btsNotConf:"Bug tracking system is not configured for the project.",bugId:"Bug ID",foundIn:"Found in",submitDate:"Submit date",submitter:"Submitter",testCase:"Test case",allRuns:"All runs",failed:"Failed",not_passed:"% (Failed+Skipped)/Total",affected:"Affected by, %",failure:"failure",failsOf:"fails of",testCaseExe:"test case executions with",lastIssue:"Last issue",lastSwitch:"Last switch",findLastLaunch:"Find in last launch",pieTotal:"Total",pieSum:"Sum",totalTestCases:"Total test cases",pieIssues:"Issues",addNewWidget:"Add new widget",addSharedWidget:"Add shared widget",deleteWidget:"Delete widget",refreshWidget:"Refresh widget",saveWidget:"Save widget",editWidget:"Edit widget",exportWidget:"Export widget",clickToAdd:"Click here to add new widget",medianValueUniqLaunches:"Median value of total on all unique launches",numberLaunches:"Quantity of launches",quantityLaunches:"quantity of launches",launches:"launches",timeWeeks:"t, weeks",timeDays:"t, days",averageBugs:"On average: %%% % of",propertiesProj:"properties of project",properties:"properties",settings:"settings",project:"project",maxLaunches:"Maximum launches in selection",duration:"Duration",failedCases:"failed cases",ofTestCases:" of test cases",growTestCases:"Grow test cases",toInvestigate:"To Investigate",automationBug:"Automation Bug",productBug:"Product Bug",systemIssue:"System Issue",investigated:"Investigated",namePlaceholder:"Enter widget name",descriptionPlaceholder:"Enter widget description",launchMode:"Launch mode",timelineMode:"Timeline mode",timelineModeTitle:"Timeline mode",launchPassed:"Passed",launchNotPassed:"Not passed",start_launch:"started launch",finish_launch:"finished launch",delete_launch:"deleted launch",create_dashboard:"created dashboard",update_dashboard:"updated dashboard",delete_dashboard:"deleted dashboard",create_widget:"created widget",update_widget:"updated widget",delete_widget:"deleted widget",create_filter:"created filter",update_filter:"updated filter",delete_filter:"deleted filter",update_item:"updated item",create_user:"created user",start_import:"started import",finish_import:"finished import",update_bts:"updated",delete_bts:"removed",create_bts:"configured",link_issue:"linked issue",post_issue:"posted issue",unlink_issue:"unlinked issue",delete_issue:"removed issue",testItem:"test item",update_project:"updated",update_defect:"updated",delete_defect:"deleted",delete_index:"updated",generate_index:"updated",defectTypes:"defect types",defectType:"defect type",casesLabel:"cases",nonPassedCases:"% of non-passed cases",testItemNotFound:". Test item is not found",ofInvestigation:"% of investigations",ofSwitching:"% of switches",ofSwitchingShort:"% swtchs",ofIssues:"% of issues",ofIssuesShort:"% issues",switchingInExec:"Switches",switchingInExecShort:"Swtchs",issuesInExec:"Issues in execution",issuesInExecShort:"Issues",basedOn:"Based on",ofProductBugs:"% of Product Bugs",ofSystemIssues:"% of System Issues",ofAutoBugs:"% of Automation Bugs",productBugs:"Product Bugs",emailNotifications:"E-mail notifications",on_email:"configured",off_email:"switched off",update_email:"updated",overallStatisticsPanel:"Overall statistics",overallStatisticsPanelDescription:"shows summary of test cases with each statuses in the selected launches.",TestCasesStatisticsUniqueLaunches:"Test-cases statistics in unique launches",failedTestCasesTable:"Most failed test-cases <nobr>table (TOP-20)</nobr>",failedTestCasesTableDescription:"shows the TOP-20 most failing test cases within the specified previous launches.",uniqueBugsTable:"Unique bugs table",uniqueBugsTableDescription:"shows real identified bugs, posted to the bug tracking system, and existing in the BTS bugs, linked on the project.",launchesTable:"Launches table",launchesTableDescription:"shows the configurable table of launches.",statisticsChart:"Launch statistics chart",statisticsChartDescription:'- in "Launch mode" shows the growth trend in the number of test cases with each selected statuses from run to run,<br> - in "Timeline mode" shows sum, distributed by dates.',comparisonChart:"Different launches comparison chart",comparisonChartDescription:"allows to compare statistics for 2 last launches side by side.",durationChart:"Launches duration chart",durationChartDescription:"shows duration of the selected launches.",percentageOfLaunches:"Investigated percentage of launches",percentageOfLaunchesDescription:'- in "Launch mode" shows whether the launches are analyzed or not (the percentage of "Investigated"/"To Investigate") from run to run,<br> - in "Timeline mode" shows percentage of "Investigated"/"To Investigate" tests in all runs per day distributed by dates.',nonPassedTrendChart:"Non-passed test-cases trend chart",nonPassedTrendChartDescription:"shows the percent ratio of non-passed test cases (Failed + Skipped) to Total cases from run to run.",growthTrendChart:"Test-cases growth trend chart",growthTrendChartDescription:'- in "Launch mode" shows the increment of test-cases from run to run,<br> - in "Timeline mode" shows the increment of test-cases distributed by dates (in launches with the largest number of test-cases per day).',failedTrendChart:"Failed cases trend chart",failedTrendChartDescription:"shows the trend of growth in the number of failed test cases from run to run.",executionIssueStatistics:"Launch execution and issue statistic",executionIssueStatisticsDescription:"shows statistics of the last launch divided into 2 sections:</br> - Skipped, Passed, Failed </br> - Product Bug, System Issue, To Investigate, Automation Bugs.",projectActivityPanel:"Project activity panel",projectActivityPanelDescription:"shows all activities occurring on the project.",passingRatePerLaunchChart:"Passing rate per launch",passingRatePerLaunchChartDescription:"shows the percentage ratio of Passed test cases to Total cases for last run of selected launch.",passingRateSummaryChart:"Passing rate summary",passingRateSummaryChartDescription:"shows the percentage ratio of Passed test cases to Total cases for set of launches.",productStatus:"Product status",productStatusDescription:"shows the configurable table that is representing launch statistics or group statistics on special filter.",cumulativeTrendChart:"Cumulative trend chart",cumulativeTrendChartDescription:"shows the growth trend of summary statistics of launches with the same tag prefix.",flakyTestCasesTable:"Flaky test cases table <nobr>(TOP-20)</nobr>",flakyTestCasesTableDescription:"shows the TOP-20 the most flaky test cases within the specified previous launches.",mostTimeConsumingTestCases:"The most time-consuming test cases widget  <nobr>(TOP-20)</nobr>",mostTimeConsumingTestCasesDescription:"show the TOP 20 the most time-consuming test cases in the last execution of the specified launch.",percentageOfInvestigationsChart:"Percentage of investigations",percentageOfProductBugsChart:"Percentage of product bugs",launchStatisticsChart:"Launch statistics",trendChart:"Trend chart",lineChart:"Line chart",panelMode:"Panel view",chartMode:"Pie chart view",barMode:"Bar view",tableMode:"Table view",pieChartMode:"Pie chart view",donutChartMode:"Donut view",trendChartMode:"Trend view",areaChartMode:"Area view",defaultName:"Widget template name",defaultDescription:"Select widget template and filter to render data trough - and you'll see preview at the right side",generalInfo:"General information",launchesOwners:"Launches owners",lastLaunchStats:"Last launch statistic",launchStats:"Launch statistics",percentageOfProductBugs:"Percentage of product bugs",percentageOfSystemIssues:"Percentage of system issues",percentageOfAutoBugs:"Percentage of auto bugs",pleaseUpdateWidget:'Please, update widget by saving it in <span class="rp-link" href="">Edit widget</span>.',haveInvalidCriteria:"You have <strong>%%% invalid $$$</strong> with deleted defect types.",invalidCriteria:"Invalid criterion",criteria:"criteria",criterion:"criterion",saveWidgetDashboard:"Save widget on dashboard",launchName:"LAUNCH NAME",latestLaunches:"Latest launches",allLaunches:"All launches",customColumn:"Custom column",columnName:"Column name",tagPattern:"Tag prefix",customColumnDiscl:"You can add custom column to view tags with chosen tag prefix",addCustomColumn:"+ Add custom column",groupLaunchesByFilter:"Group launches by filter",launchesOnFilter:"Number of launches in the filter is ",selectWidget:"Choose widget type from the list below",launchInterrupted:"Run interrupted",zoomWidgetArea:"Zoom widget area",aaProperties:"Auto-Analysis properties",aaConfig:"Auto-Analysis configurations",update_analyzer:"updated",includeMethods:"Include Before and After methods",status:"Status",startTime:"Start time"},userProfile:{userProfile:"User profile",projectAndRoles:"Assigned on project",regenerateUUID:"Regenerate UUID",updateDataFromUPSA:"Update data from UPSA",updateUserDataFrom:"Update data from",reloginRequired:"relogin is required",forceUpdate:"Force update",infoSynchronized:"Information for user has been successfully synchronized",UUID:"UUID",msgUUIDTop:"In order to provide security for your own domain password, you can use a user token, named UUID - to verify your account to be able to log with agent.",msgUUIDMid:"For more information visit 'Agent parameters' page",msgUUIDFoot:"Click the icon to open the page",msgRegenTop:"If you need to update your UUID, click regenerate to have new one.",msgRegenMid:"WARNING!",msgRegenFoot:"All configured agents with old UUID will not be working after that",userConfig:"User config:",java:"Java",ruby:"Ruby",soapUI:"SoapUI",donNet:".NET",nodeJS:"nodeJS",editInfo:"Edit personal info",enterOldPass:"Enter old password",enterNewPass:"Enter new password",confirmNewPass:"Confirm new password",oldPass:"Old password",newPass:"New password",enter:"Enter",confirmPass:"Confirm",uploadPhoto:"Upload photo",removePhoto:"Remove photo",userName:"User name",email:"Email",selectPhoto:"Select photo",savePhoto:"Save photo",rubyConfigTitle:"COPY AND SAVE IT AS A REPORT_PORTAL.YML FILE",soapConfigTitle:"SET THE FOLLOWS PROPERTIES INTO PROJECT PROPERTIES OR SET THEM TO SYSTEM VARIABLES",dotnetConfigTitle:"FOLLOW INSTALLER INSTRUCTIONS",nodeJSConfigTitle:"FOLLOW THE",nodeJSConfigLink:"INSTRUCTION",nodeJSConfigExample:"FOR EXAMPLE:",defaultConfigTitle:"COPY AND SAVE IT AS A REPORTPORTAL.PROPERTIES FILE",required:"REQUIRED",notRequired:"NOT REQUIRED",personalInfo:"Personal information",configExamples:"Configuration examples",uuidTitle:"Universally Unique Identifier",regenerateBtn:"Regenerate",projectRole:"Project role",oldClientComment:'<div class="comment"><p>Client versions before 2.2.3 support <b>com.epam.ta.reportportal.ws.*</b> parameters name format.</p><p>Client versions from 2.2.3 support <b>rp.*</b> and <b>com.epam.ta.reportportal.ws.*</b> parameters name formats.</p><p>Please use new names format, because old ones will be deprecated.</p></div>',language:"Language",english:"English (United States)",russian:"Russian",reloadPage:'You have to <a href="">Reload</a> the page to implement language change.<br> Ru lang in beta. Please help us to translate it, send your PR to this <a href ="https://github.com/reportportal/service-ui/blob/develop/src/main/resources/public/js/src/localizations/ru-RU.js">file</a>.'},dashboard:{allDashboards:"All dashboards",addNewDashboard:"Add new dashboard",maxAdded:"Max amount of dashboards were added",dashboardShared:"Dashboard is shared",dashboardSharedBy:"Dashboard is shared by",dashboardName:"Dashboard name",namePlaceholder:"Enter dashboard name",descriptionPlaceholder:"Enter dashboard description",shared:"Shared:",sharedSelect:"Select shared dashboard",sharedNoFound:"No shared dashboards found!",project:"Project",dashboard:"Dashboard",noDashboard:"You have no dashboards",noSharedDashboard:"No dashboards are shared",noDashboardSearch:"No dashboard found for",checkQuery:"Check your query and try again",dashboardEmpty:"Dashboard list is empty!",clickToAdd:"Add your first dashboard to analyse statistics",addDashboard:"Add dashboard",editDashboard:"edit dashboard",titleEditDashboard:"Click to edit dashboard name",removeDashboard:"Remove dashboard",titleRemoveDashboard:"Click to remove dashboard",dashboardExists:"The dashboard is already added to the project",addWidget:"Add widget",exportTo:"Export",settingsButton:"Settings",refresh:"Refresh",remove:"Remove",addFilter:"Add filter",exitFullscreen:"Exit full screen",fullscreen:"Full screen",nextStep:"Next step",previousStep:"Previous step",saveWidget:"Please, save your filter to add widget.",widgetEmpty:"No widgets found!",clickToAddWidget:"Click 'Add widget' button to create widget.",dashboardNotShared:"Dashboard has been unshared by owner!",dashboardIsNotShared:"Dashboard is not shared by owner!",deletedSharedDashboard:"Dashboard has been deleted by owner!",noWidgetsInDashBoard:"Dashboard doesn't contain any widget.",selectDashboard:"Select dashboard",firstDashboard:"My first dashboard",autoCreated:"* First dashboard was created automatically",dashboardsEmpty:"No dashboards found! Click 'Add new dashboard' button to create dashboard.",deletedByOwner:"Deleted by owner",deletedDashboard:"Deleted dashboard",myDashboards:"My dashboards",favoriteDashboards:"Favorite shared dashboards",shareDashboardAs:"Share dashboard at ",createDashboard:"Create dashboard",shareDashboard:"Shared dashboard",shareDashboards:"Shared dashboards",share:"Share",sharedBy:"Dashbord is shared by",maxWidgetsAdded:"Maximum widgets reached",nameNewDashboard:"Enter new dashboard name",tHeadTitleOwners:"Owners",tHeadTitleDashboardName:"Dashboard name",description:"Description",dashboardEmptyHeader:"You have no widgets on this dashboard",notMyDashboardEmptyHeader:"There are no widgets on this dashboard",dashboardEmptyText:"Add your first widget to analyse statistics",thShared:"Shared",thDelete:"Delete",thEdit:"Edit",thOwner:"Owner",thDescription:"Description",thName:"Dashboard name"},favorites:{title:"Filters",favoriteFilters:"Favorite filters",sharedFilters:"Shared filters",favoriteLinks:"Favorite links",msgFavoriteFilters:"Filters are issue searches that have been saved for re-use.",msgSharedFilters:"Filters which shared with you on the project.",msgFavoriteLinks:"This page shows you all your favorite links.",name:"Name: ",fName:"Filter name",fOptions:"Options",fOwner:"Owner",fShared:"Shared",fDisplayOnLaunches:"Display on launches",fDelete:"Delete",addFilter:"Add filter",filterNotFound:"No filters found!",linksNotFound:"No links found!",shareFilter:"Share filter",unShareFilter:"Unshare filter",namePlaceholder:"Name",sortedBy:" sorted by: ",addToTabs:"Add to launch tabs",removeFromTabs:"Remove from launch tabs",total:"Total",or:"or",launchPage:"Launch Page",noAvailableFilters:"There Are No Filters",createFilter:"You can create your first filter on the "},launches:{listOfLaunches:"List of launches",linkName:"Link name",clickToSaveLink:"Click to save the link",openToHistory:"Open to history view",launchHash:"Launch #",clickToSubmitComment:"Click to submit this comment to issue tracking system",selectDefectComent:"Please select defect type or add comment!",componentPlaseholder:"Component1, component2",ticketType:"Ticket type:",priority:"Priority:",relatedIssue:"Related issue:",includeLogs:"Logs",includeComments:"Comment",includeAttachments:"Attachments",fillAllRequired:"Fill in all required fields",credentialsSoft:"In case of empty fields Report Portal credentials will be used",credentialsSoftTfs:"In case of empty fields Windows credentials will be used",problemInteracting:"Error interacting with external system. Check the entered data",problemGeneral:"Error occurred: ",forceFinish:"Force finish",finishWarning:" Are you sure you want to finish the %%%? All data will be missed.",deleteWarning:"In case of delete the launch, all related data will be deleted. Are you sure you want to delete launch",deleteItemWarning:"In case of delete the test item, all related data will be deleted. Are you sure you want to delete test item",finishAgree:"I am sure I want to finish %%%",deleteAgree:"I am sure I want to delete %%%",deleteWarningAgree:"You are going to delete not your own %%%. This may affect other users information on the project.",deleteItemsWarningAgree:"You are going to delete %%% not in your own launch. This may affect other users information on the project.",finishOneLaunch:"You are going to stop not your own launch. This may affect other users information on the project.",finishSelectedLaunch:"You are going to stop not your own launches.  This may affect other users information on the project.",errorItem:"Error item",jiraCredentials:"Jira credentials",tfsCredentials:"TFS credentials",rallyCredentials:"Rally credentials:",userName:"User name",password:"Password",includeData:"Include data",willBePostedTo:"Issue will be posted to",willBeLoadedTo:"Bug will be loaded to",noItemsInside:"No items inside",notYourOwnLaunch:"You are not a launch owner",actionTitle:"Select several items to processing",multiSelectError:"You cannot perform operation to invalid items",proceedValidItems:"Proceed valid items",editDefects:"Edit defects",deleteBulk:"Delete test items in bulk",bredcrumbsLostLaunch:"Original launch was lost",bredcrumbsLostLaunchRestore:"Restore path",issueTitle:"Issue title",components:"Components:",summarizeIssue:"Summarize issue title:",shiftToLaunches:"Move to all launches",shiftToDebug:"Move to debug",owner:"Owner",addToDashboard:"Add to dashboard",postIssue:"Post issue",postBug:"Post issue",postBugTo:"Post bug to",linkIssue:"Link issue",unlinkIssue:"Unlink issue",addIssueId:"Add issue ID",copyDefect:"Copy defect",sendDefect:"Send defect",key:"Issue key (for multiple options - type issue ID and press Enter)",configureTBS:"Configure bug tracking system to post issue",configureTBSLoad:"Configure bug tracking system to link issue",noIssues:"You can't post bug if item has no defect type",noIssuesLoad:"You can't link issue if item has no defect type",noIssueTicket:"Item doesn't have a linked issue",historyView:"History",skippedDuration:"SKIPPED. Duration: ",stoppedDuration:"Run STOPPED after:",interruptedDuration:"Run INTERRUPTED after:",inProcessAndEndedDuration:"Wrong status: 'In progress' with finish time",notInProcessNotEndedDuration:"Wrong state: item is not 'In progress', but has no finish time",inProcess:"In progress",prefixDuration:"Duration: ",finishTime:"  Finish time: ",prefixRunInterrupted:"Run INTERRUPTED after: ",stoppedAt:". Stopped at: ",prefixStartTime:"Start time: ",prefixStatus:"Status: ",methodTypeTest:"Test",methodTypeTestClass:"",youAreEditing:"You are editing ",objects:" objects",Compare:"Compare",clickToCompare:"Click on the item in table to select it for compare!",compareLaunches:"Compare launches",inProgress:"In progress",merge:"Merge",linearMerge:"Linear merge",deepMerge:"Deep merge",mergeLaunches:"Merge launches",mergeLaunchesModalTitle:"All selected launches will be merged in one",mergeLaunchesSelectTypeTitle:"CHOOSE TYPE OF MERGE",clickToLoadMore:"Click here to load more items",clickToMerge:"Click on two or more launches in table to select for merge!",filterIsShared:"Filter is shared",filterIsSharedByOtherUser:"Filter is shared by other user",launchEditor:"Launch editor",launchName:"Launch name",launchNumber:"Launch number",disclaimerChangeDescription:"Change of description and tags can affect your filtering results, widgets, trends","export":"Export",itemName:"Test item name",extendWithOriginal:"Extend child suites description with original launch name (e.g. @launch 'Launch #1')",launchNotInProgress:"Launch should not be in the status In progress!",launchIsProcessing:"Launch should not be processing by Auto analysis!",forbiddenIsProcessing:"Update of test item is forbidden for launch with Auto analyze in progress",replaceComments:"Replace comments to all selected items",noLaunchFound:"Launch is not found",noItemFound:"Item is not found",originalLaunchLost:"Original launch was lost",showPreconditionMethods:"Collapse precondition methods",hidePreconditionMethods:"Expand precondition methods",approximateTimeLeft:"~%%% left",approximateTimeLessMin:"<1m left",approximateTimeExpected:"Average executions time -",approximateTimeOverLap:"current overlap -",launchFinished:"Launch is finished",launchIsDeleting:"The launch is in the removal process!",noItemInLaunch:"No item<br> in launch",emptyItem:"Item is empty",severalItems:"There’re several items with the same UID meaning.",multipleSelectHeader:"YOU CAN PERFORM ACTIONS WITH SELECTED ITEMS:",selectMoreItem:"You must select more than one item",interruptImportWarning:"Are you sure you want to interrupt import launches?",approvalInterruptImportWarning:"Confirm cancel import",latestLaunches:"Latest launches",latestLaunches_short:"Latest",allLaunches:"All launches",allLaunches_short:"All",noFilter:"NO FILTER",launchPassed:"Passed",launchFailed:"Failed",launchSkipped:"Skipped",issueLink:"Enter link to issue",issueId:"Issue ID",retries:"retries",rtr:"rtr",stackTrace:"STACK TRACE",openInLog:"Open in Log view",aaBadgeTooltip:"Investigated by Auto-Analysis",withAA:'With "AA" mark',withoutAA:'Without "AA" mark',withIgnoreAA:'With "Ignore AA" mark',withoutIgnoreAA:'Without "Ignore AA" mark',ignoreAA:"Ignore in Auto Analysis",ignoreAAShort:"Ignore AA",includeAA:"Include into Auto Analysis",ignoreAutoanalyzerTooltip:"Ignore item in Auto-Analysis",noAnalyzer:"No analyzer enabled",alreadyIgnoredAA:"Item already ignored in Auto-Analysis",alreadyIncludedAA:"Item already included into Auto-Analysis",withoutDefect:"Item does not have defect type",linkedBug:"Linked bug",noLinkedBug:"No linked bug"},forSettings:{hour1:"1 hour",hour3:"3 hours",hour6:"6 hours",hour12:"12 hours",day1:"1 day",week1:"1 week",week2:"2 weeks",week3:"3 weeks",month1:"1 month",month3:"3 months",month6:"6 months",forever:"Forever"},launchStatus:{ALL:"All",FAILED:"Failed",PASSED:"Passed",STOPPED:"Stopped",SKIPPED:"Skipped",INTERRUPTED:"Interrupted",IN_PROGRESS:"In progress"},testStatus:{FAILED:"FAILED",PASSED:"PASSED",STOPPED:"STOPPED",SKIPPED:"SKIPPED",INTERRUPTED:"INTERRUPTED",IN_PROGRESS:"IN PROGRESS",RESETED:"RESETED"},historyLine:{tooltips:{FAILED:"Failed",PASSED:"Passed",STOPPED:"Stopped",SKIPPED:"Skipped",INTERRUPTED:"Interrupted",IN_PROGRESS:"In progress",MANY:"There’re several items with the same UID meaning.",NOT_FOUND:"No item in launch",RESETED:"Item is empty"}},infoLine:{product_bug:"Product Bugs",automation_bug:"Automation Bugs",system_issue:"System Issues",to_investigate:"To Investigate",no_defect:"No Defects",total:"Total"},testTableMethodTypes:{ALL:"All",TEST:"Test class",STEP:"Test",AFTER_CLASS:"After class",BEFORE_CLASS:"Before class",BEFORE_METHOD:"Before method",AFTER_METHOD:"After method",AFTER_GROUPS:"After groups",BEFORE_GROUPS:"Before groups",BEFORE_SUITE:"Before suite",AFTER_SUITE:"After suite",AFTER_TEST:"After test",BEFORE_TEST:"Before test"},filterNameById:{statistics$executions$total:"Total",statistics$executions$passed:"Passed",statistics$executions$failed:"Failed",statistics$executions$skipped:"Skipped",statistics$defects$product_bug:"Product Bug",statistics$defects$automation_bug:"Automation Bug",statistics$defects$system_issue:"System Issue",statistics$defects$to_investigate:"To Investigate",statistics$defects$no_defect:"No Defect",statistics$defects$product_bug$total:"Total PB",statistics$defects$automation_bug$total:"Total AB",statistics$defects$system_issue$total:"Total SI",statistics$defects$to_investigate$total:"TI",statistics$defects$no_defect$total:"Total ND",product_bug:"Product Bug",automation_bug:"Automation Bug",system_issue:"System Issue",to_investigate:"To Investigate",no_defect:"No Defect",tags:"Tags",start_time:"Start time",end_time:"Finish time",message:"Message",description:"Description",name:"Launch name",itemName:"Test item name",level:"Log level",time:"Time range",issue$issue_comment:"Defect comment",issue$issue_type:"Defect type",status:"Status",type:"Method type",history_depth:"History depth",user:"Owner",issue$auto_analyzed:"Analysed by RP (AA)",issue$ignore_analyzer:"Ignore in AA",issue$externalSystemIssues$ticket_id:"Issue in BTS",number:"Launch number"},filterNamePluralById:{product_bug:"Product Bugs",automation_bug:"Automation Bugs",system_issue:"System Issues",to_investigate:"To Investigates",no_defect:"No Defects"},filterNameByValue:{ALL:"All",PASSED:"Passed",FAILED:"Failed",SKIPPED:"Skipped",TO_INVESTIGATE:"To Investigate",NO_DEFECT:"No Defect",PRODUCT_BUGS:"Product Bug",AUTOMATION_BUGS:"Automation Bug",inProgress:"In progress",SYSTEM_ISSUE:"System Issue",TRACE:"Trace",DEBUG:"Debug",INFO:"Info",WARN:"Warn",ERROR:"Error",Screenshot:"Attachment"},projectEvents:{tableHeaders:{time:"Time",time_short:"Time",user:"User",user_short:"User",action:"Action",action_short:"Action",objectType:"Object type",objectType_short:"Obj type",objectName:"Object name",objectName_short:"Obj name",oldVal:"Old value",oldVal_short:"Old val",newVal:"New value",newVal_short:"New val"},eventTypes:{all:"all",create_dashboard:"Create dashboard",update_dashboard:"Update dashboard",delete_dashboard:"Delete dashboard",create_widget:"Create widget",update_widget:"Update widget",delete_widget:"Delete widget",create_filter:"Create filter",update_filter:"Update filter",delete_filter:"Delete filter",update_defect:"Update defect",delete_defect:"Delete defect",create_bts:"Create BTS",update_bts:"Update BTS",delete_bts:"Delete BTS",start_launch:"Start launch",finish_launch:"Finish launch",delete_launch:"Delete launch",update_project:"Update project",post_issue:"Post issue",link_issue:"Link issue",link_issue_aa:"AA linked issue",unlink_issue:"Unlink issue",update_item:"Update item",create_user:"Create user",start_import:"Start import",finish_import:"Finish import",analyze_item:"AA changed defect type",generate_index:"Generate index",delete_index:"Remove index",update_analyzer:"Update Auto-Analysis"},objectTypes:{all:"all",project:"Project",defect_type:"Defect type",testItem:"Test item",launch:"Launch",externalSystem:"External system",dashboard:"Dashboard",user:"User",widget:"Widget",userFilter:"User filter"}},launchesHeaders:{start_time:"Start time",start_time_short:"Start",end_time:"Finish time",name:"Name",name_short:"Name",duration:"Time",duration_short:"Time",total:"Total",total_short:"TTL",passed:"Passed",passed_short:"PS",failed:"Failed",failed_short:"FL",skipped:"Skipped",skipped_short:"SKP",product_bug:"Product Bug",product_bug_short:"Product Bug",product_bug_super_short:"PB",auto_bug:"Auto Bug",automation_bug:"Auto Bug",automation_bug_short:"Auto Bug",automation_bug_super_short:"AB",system_issue:"System Issue",system_issue_short:"System Issue",system_issue_super_short:"SI",to_investigate:"To Investigate",to_investigate_short:"To Invest",to_investigate_super_short:"TI",investigated:"Investigated",no_defect:"No Defect",type:"Method type",type_short:"Method type",status:"Status",status_short:"Status",issue:"Defect type",issue_short:"Defect type",time:"Time",time_short:"Time",message:"Log message",message_short:"Log message",attachment:"Attachment",attachment_short:"ATH",passing_rate:"Passing rate",filter_name:"Filter name",interruptedAfter:"Run INTERRUPTED after:",stoppedAt:"Stopped at:",durationSpecific:"Duration is interval between first child starts and last child ends. But if child run in parallel, end time is a time of longest child, in this case duration will not be equal to child duration sum."},launchLogItem:{stackTrace:"stack trace",attachments:"attachments",itemDetails:"item details",historyOfActions:"history of actions",parametres:"parameters"},statisticsPanel:{productBug:"Product Bugs",testBug:"Automation Bugs",systemIssue:"System Issues",toInvestigate:"To Investigate"},logs:{noLogsFound:"No logs found",openFile:"Open the file in a new window",logLevel:"Log level",ticketNotFound:"Issue not found:",ticketStatusProblem:"Issue doesn't exist or no connection to the External system",summary:"Summary:",status:"Status:",prevTestItem:"Previous test item",nextTestItem:"Next test item",filterAttachments:"Logs with attachments",notFoundActivity:"No activities to display",notFoundAttachments:"No attachments to display",notFoundParametres:"No parameters to display",notFoundStackTrace:"No stack trace to display",goToLog:"Go to stack trace in log message",nextError:"Next error",consoleView:"Console view",harFileError:'Your browser doesn\'t support viewer for .har files. You can download file using <a href="%%%" target="_blank" >link</a>.'},defectNameById:{TO_INVESTIGATE:"To Investigate",PRODUCT_BUG:"Product Bug",AUTOMATION_BUG:"Automation Bug",SYSTEM_ISSUE:"System Issue",NO_DEFECT:"No Defect"},defectShortCutById:{TO_INVESTIGATE:"TI",PRODUCT_BUG:"PB",AUTOMATION_BUG:"AB",SYSTEM_ISSUE:"SI",NO_DEFECT:"ND"},filterConditions:{eq:"equals","!eq":"not equals",ne:"not equals",cnt:"contains","!cnt":"not contains",and:"and",has:"all","!has":"without any","in":"any","!in":"without all",or:"or",gte:"greater than or equal",lte:"less than or equal"},filterShortCut:{eq:"eq","!eq":"!eq",ne:"!eq",cnt:"cnt","!cnt":"!cnt",and:"and",has:"all","!has":"!any","in":"any","!in":"!all",or:"or",gte:"&ge;",lte:"&le;"},filters:{moreCriteria:"More criteria",toSaveText:"Apply any filter to save the filter to favorites",tabIsUnsaved:"Tab contains unsaved changes",enterFilterName:"Enter new filter name",more:"More",all:"All",name:"Name:",shared:"Shared:",noInfoFilter:"No info matches this filter",notSaveDescription:"Filter is not saved",sharedBy:"Filter is shared by",sharedDescription:"Filter is shared",globalDescription:"Filter is shared by other user",hideCriteria:"Hide criteria",showCriteria:"Show criteria",timeRangeToday:"Today",timeRangeLast2Days:"Last 2 days",timeRangeLast7Days:"Last 7 days",timeRangeLast30Days:"Last 30 days",timeCustomRange:"Custom range",any:"Any",dynamicUpdate:"Dynamic update",launchName:"Launch name",launchNumber:"Launch number",suiteName:"Suite name",testName:"Test name",refine:"REFINE:"},filter:{name:"Name",namePlaceholder:"Enter filter name",share:"Share",description:"Description",descriptionPlaceholder:"Enter filter description",edit:"Edit filter",addNew:"Add new filter",filterName:"Filter name"},project:{newProject:"New project",sureToRemove:"Are you sure you want to delete member ",userAccess:"Users with access to",newMember:"New project member",addMember:"Add project member",assignMember:"Assign member",assignMemberToProject:"Assign member to the project",aboutPermissions:"Read more about project permissions",openPermissionsMap:"Click to open permission map",permissionsMap:"Permission map",projectMembers:"Project members",proposedRole:"Proposed role",projectRole:"Project role",unAssign:"Unassign",removeUser:"Remove user from team",unassignMember:"Unassign - remove user from team",settings:"Settings",settingsFor:"Settings for",name:"Name",launchesNames:"Launch names",selectTags:"Select tags",selectLaunchNames:"Select launch names",toolset:"Project toolset:",specificProject:"Add controls according to related specific of project",launchTimeout:"Launch inactivity timeout",scheduleForInterupt:"Schedule time for Job to interrupt inactive launches",keepLogs:"Keep logs",howKeepLogs:"How long to keep old logs in launches. Related launches structure will be saved, in order to keep statistics",keepScreen:"Keep attachments",howKeepScreen:"How long to keep attachments in system",strategyRegular:"Regular",strategyBdd:"BDD",bts:"Bug tracking system",properties:"Properties",linkBts:"Link to issue tracker system",forExample:"for example,",oauthToken:"OAuth authorization token",projectNameBts:"Project name in issue tracker system",propIssueForm:"Default properties for issue form",components:"Components",issueComponents:"Issue related components, separate by comma",ticketType:"Ticket type",defaultPriority:"Default priority",autoAnalysis:"Auto analysis",autoAnalysisOnOff:"<p>If ON - analysis starts as soon as any launch finished.</p> <p>If OFF - not automatic, but can be invoked manually</p>",autoAnalysisBase:"Base for Auto Analysis",autoAnalysisBaseFirstOpt:"All launches",autoAnalysisBaseSecondOpt:"Launches with the same name",autoAnalysisBaseThirdOpt:"Only current launch",autoAnalysisBaseFourthOpt:"To investigated items",autoAnalysisBaseFifthOpt:"Items analyzed automatically (by AA)",autoAnalysisBaseSixthOpt:"Items analyzed manually",autoAnalysisBaseFirstTip:"The test items are analyzed on base of previously investigated data in launches with the same name",autoAnalysisBaseSecondTip:"The test items are analyzed on base of previously investigated data in all launches",emailNotifications:"E-mail notifications",emailRecipients:"Recipients",duplicateEmailCase:"Such notification rule already exists. You can't create duplicate.",emailInCase:"In case",rule:"RULE",deleteRule:"Delete RULE",onTheFly:"Auto analysis on the fly",onTheFlyDescription:"If checked - each test item will be analyzed as soon as it's finished.",from:"From",addRule:"Add new rule",launchOwner:"Launch owner",launchOwnerDescription:"Launch owner (who launched - that received)",sendNotification:"Send e-mail notifications about launches finished",notFoundRecipients:"User does not exist. Please, check the entered data.",invalidRecipients:"Please select at least one recipient",sendLaunchNames:"Send notifications about selected launches finished",sendTags:"Send notifications about launches containing specified tags",incorectEmail:"Please enter correct email",incorectTags:"Please enter correct tags",enterRecipients:"Select team members",generalTab:"General",notificationsTab:"Notifications",btsTab:"Bug tracking system",demoDataSettings:"Demo data",generateDemoData:"Generate demo data",generateDemoDataTitle:"the system will generate the following demo data:",generateDemoDataLaunches:"10 launches",generateDemoDataDashboard:"1 dashboard with 9 widgets",generateDemoDataFilter:"1 filter",postfixLabel:"Postfix will be added to the demo dashboard, widgets, filter name",removeDemoData:"You will have to remove the demo data manually.",postfixPlaceHolder:"Enter postfix",posfixUniq:"Postfix already used or not align with already existing data. Please use another one",generationDataInProgress:"Data generation is started. The process can take several minutes, please wait.",generateDataMobile:"You can generate data only on desktop view.",beta:"beta",aboutinfo:"Detailed information about the project",unableLoadData:"Unable to load data",defectTypes:"Defect types",nav:{defectName:"Defect name",abbreviation:"Abbreviation",color:"Color",diagram:"Diagram"},titleGroup:{titleProductBug:"Product Bugs group",titleSystemIssue:"System Issues group",titleAutomationBug:"Automation Bugs group",titleNoDefect:"No Defects group",titleToInvestigate:"To Investigate"},noDefect:"No Defect",systemIssue:"System Issue",productBug:"Product Bug",toInvestigate:"To Investigate",automationBug:"Automation Bug",addSubType:"Add defect type",addSubTypeShort:"Add",canBeAdded:"subtypes can be added",limitReached:"All 10 sub-types are already added",inputValLongName:"Subtype name",inputValShortName:"Abbreviation",ExplChosenColors:"Example of chosen colors",LinkResetToDefaultColors:"Reset to default colors",ruleDeleted:"Rule will be deleted after submit",noCustomDefectsWereAdded:"No custom defects were added",noCustomColors:"No colors to update",autoAnalysisSettings:"Auto-Analysis",autoAnalysisMode:"Mode of Auto-Analyse Accuracy",autoAnalysisMinDocFreq:"Minimum document frequency",autoAnalysisMinTermFreq:"Minimum term frequency",autoAnalysisMinShouldMatch:"Minimum should match",autoAnalysisNumberOfLog:"Number of log lines",moderateMode:"Moderate",classicMode:"Classic",lightMode:"Light",matchDescription:"Percent of words equality between analyzed log and particular log from the ElasticSearch. If a log from ElasticSearch has the value less then set, this log will be ignored for AA.",docFreqDescription:"Set the minimum frequency of the saved logs in ElasticSearch (index) in which word from analyzed log should be used. If the log count is below the specified value, that word will be ignored for AA in the analyzed log. The more often the word appears in index, the lower it weights.",termFreqDescription:"Set the minimum frequency of the word in the analyzed log. If the word count is below the specified value, this word will be ignored for AA. The more often the word appears in the analyzed log, the higher it weights.",strNumberDescription:"The number of first lines of log message that should be considered in ElasticSearch.",indexActions:"Actions with index",removeIndex:"Remove index",removeIndexDescription:"All data with your investigations will be deleted from the ElasticSearch. For creating a new one you could start to investigate test results manually or generate data based on previous results on the project once again",removeIndexConfirm:"Are you sure to remove all data from the ElasticSearch?",generateIndex:"Generate index",generateIndexDescription:"All data is removed from ElasticSearch and new one is generated based on all previous investigations on the project in accordance with current analysis settings. You can start auto-analyse test results after receiving an e-mail about the end of the generation process",generateIndexConfirm:"Are you sure to generate index in the ElasticSearch?",noteText:"You will receive an e-mail after the end of the process.",indexInProgress:"In progress...",noAutoAnalysisService:"Service ANALYZER is not running"},bts:{oAuthToken:"OAuth token",apiKey:"ApiKey",selectType:"Issue types available on server",defaultProperties:"Default properties for issue form",fieldsReset:"! The default properties for issue will be reset",showFields:"Show fields",defaultValue:"Default value",errorInteracting:"Error interacting with external system. Check the entered data",errorCredentials:"Credentials are invalid. Check the entered data",projectNotFound:"Project %%% not found. Check the entered data",authorizationType:"Authorization type",linkTo:"Link to BTS",projectName:"Project name in BTS",projectId:"Project ID in BTS",userName:"BTS username",password:"BTS password",domain:"Domain",removeProject:"Remove project",projectNameIn:"Project name",tbsChangeWarning:"Warning! If you configure new system settings, the current project will be reset!",configureFields:"Configure bug tracking system default properties to post issues",issueId:"Issue ID",linkToIssue:"Link to issue",addNewIssues:"Add new issues",addNewIssue:"Add new issue",btsInstances:"BtS instances:",btsAddNewInstance:"Add new instance",btsNotFound:"To configure bug tracking system, please deploy appropriate micro-service",always:"Always",launchHasInvestigate:'Launch has "To Investigate" items',launchHasIssue:"Launch has issues",more10:"> 10% of items have issues",more20:"> 20% of items have issues",more50:"> 50% of items have issues"},admin:{privileges:"Administrator has full privileges according to permission map",managementBoard:"Management board",users:"All users",settings:"Settings",serverSettings:"Server settings",emailSettings:"E-mail server",authSettings:"Authorization configuration",statisticsSettings:"Statistics",host:"Host",port:"Port",username:"Username",password:"Password",authorization:"Authorization",protocol:"Protocol",addUser:"Add user",inviteUser:"Invite user",projects:"Projects",addProject:"Add project",addNewProject:"Add new project",addProjectTitle:"Assign project to the member",activeProjects:"Active projects",notActiveProjects:"Not active projects",noProjectsFound:"No projects found for",newProject:"new",usersQuantity:"members",usersQuantitySingular:"member",launchesQuantity:"launches",launchesQuantitySingular:"launch",lastRunPrefix:" run",lastRunSuffix:"0 days ago",lastRunMobile:"Last run",goToProject:"Open",assignToProject:"Assign me",backToProject:"Back to project",search:"Search",lastLogin:"Last login",projectsRoles:"Projects and roles",deleteUser:"Delete user",deleteOwnUser:"You cannot delete own account",viewProjects:" View projects and roles",addNewUser:"Add new user",inviteNewUser:"Invite user to the project",configPage:" project configuration page",projectEvents:"Events",projectMembers:"Members",enterProjectName:"Enter project name",assigned:"Assigned",add:"Add",invite:"Invite",assign:"Assign",sortBy:"Sort by",selectCriteria:"Select criteria",creationDate:"Creation date",name:"Name",lastLaunchDate:"Last launch date",actions:"Actions",projectName:"Project name",projectRole:"Project role",cantUnAssignFromDefault:"The user cannot be unassigned from Default_Project",cantUnAssignFromPersonal:"The user cannot be unassigned from Personal project",kpi:"KPI",projectTitle:"See detailed information",projectDetailsTitle:"See detailed information about the project ",generalInfo:"General information",launchesOwners:"Launches owners",memberName:"Member name",numberOfLaunches:"Number of launches",launches:" launches",launch:" launch",members:"member",launchesAverage:"launches average per week",launchesAverageSingular:"launch average per week",uniqueBugs:"unique bug posted",noLaunchesPerformed:"No launches were performed at the selected period",titleAllProjects:"All projects",titleMembers:"Members",titleSettings:"Settings",titleEvents:"Events",internalProjects:"Internal projects",personalProjects:"Personal projects",searchByName:"Search by name",TLS:"TLS",SSL:"SSL",emailError:"Test connection was failed:",addUserProject:"Add user to project",enableEmailServer:"Enable email server",enableGuestAccount:"Enable guest account",activateGitHubAuth:"GitHub authorization",activateActiveDirectoryAuth:"Active directory authorization",activateLdapAuth:"LDAP authorization",gitHub:"github",activeDirectory:"active directory",ldap:"ldap",domain:"Domain",url:"URL",photo:"Photo attribute",baseDN:"Base DN",email:"Email attribute",fullName:"Full name attribute",userDnPattern:"User DN pattern",userSearchFilter:"User search filter",groupSearchBase:"Group search base",groupSearchFilter:"Group search filter",passwordAttribute:"Password attribute",managerDn:"Manager DN",managerPassword:"Manager password",passwordEncoderType:"Password encoder type",noPasswordEncoder:"NO PASSWORD",gitHubClientId:"Client ID",gitHubClientSecret:"Client secret",gitHubOrgName:"Organization name",addGitHubOrg:"Add GitHub organization",emailSender:"Default sender name",sendStatisticsSwitcher:"Help make Report Portal better by automatically sending statistics to us",statisticsListToogler:"List of sent statistics",statisticsMessage:"You can help us improve ReportPortal by opting to send usage statistics. While you're using the app, we'll gather data that might help us improve Report Portal performance and usability by tracking usage frequency of particular features. See below for details about what information is sent.",statisticsListMessage:"Usage statistics reports usually won't include any personal information, but they might include:",statisticsPoint1:"Device information - such as your hardware model, operating system version, screen resolution, browser version;",statisticsPoint2:"Log information - such as details of how you use ReportPortal, where you click and what actions you do, how long you leave app open.",month1:"1 month",month3:"3 months",month6:"6 months"},registration:{caption:"It should only take a couple of minutes to get started",failCaption:'<span class="big">Oops,</span><br>this invitation has expired or already used',welcomeMsg:'<span class="big">Welcome,</span><br>complete the registration form',loginHint:"1-128 symbols, latin, numeric characters, symbols: hyphen, underscore, dot",nameHint:"3-256 symbols, latin, cyrillic, numeric characters, symbols: hyphen, underscore, dot, space",passwordHint:"4-25 symbols"},members:{projectMembers:"Project members",registration:"Registration",completeToRegister:"Complete the form to register on the Report Portal",title:"Members",addMember:"Add user",inviteMember:"Invite user",addMemberToProject:"Add new user to the project",inviteMemberToProject:"Invite new member to the project",backToMembers:"Back to members",expired:"This invitation has expired or already used",startWork:"to start work with Report Portal",successAddUser:"New account has been created successfully",viewEmail:"View email",nameLoginEmail:"Name, login, e-mail",searchNameLogin:"Search by name, Login",searchNameLoginEmail:"Search by name, login, email",searchName:"Search by name",unAssignTitle:"Unassign user from the project",unAssignTitleYou:"Impossible to unassign own account from project",unAssignTitleNoPermission:"You have no enough permission",unAssignTitleExternal:"Impossible to unassign UPSA-user from UPSA-project",unAssignTitlePersonal:"Impossible to unassign user from personal project",unAssign:"Unassign",assignTitle:"Add member to the project",assign:"Assign",permissionsMap:"Permission map",assignedMembers:"Project members",assignProjectTitle:"Assign member to the project",linkTo:"Link to",welcomeTo:"Welcome to",registeredOn:"You have been successfully registered on",useInformation:"Please, use the following information to login:",lockedPermissionsTitle:"You do not have enough permissions to update this member",invitationSent:"The invitation was sent on",titleAllMembers:"All members",titleNameLogin:"Name / Login",titleNameLoginEmail:"Name / Login / Email",enterLoginEmail:"Enter login or email",enterEmail:"Enter email",alredyAdded:"User has already assigned to the project",invitePref:"Invite",sendInvite:"Send invite via e-mail",externalUserAdded:"Impossible to assign %%% user to %%% project"},comparators:{eq:"=",ne:"!=",gte:">=",lte:"<=",gt:">",lt:"<",cnt:"contains","!cnt":"not contains",ex:"exists",btw:"between",not:" not ",and:" and ",andb:" AND ",has:"has","!has":"without any of","in":"has any of","!in":"without"},successMessages:{defaults:"Completed successfully!",unAssignMember:"User has been unassigned from project!",deleteUser:"User has been deleted from system!",deleteFilter:"Filter was deleted",deleteBts:"Project settings were successfully updated",deleteSubType:"Defect types were successfully deleted",deleteOneSubType:"Defect type was successfully deleted",deletePhoto:"Photo has been deleted successfully",deleteMember:"User '%%%' was deleted",deleteProject:"Project was deleted",dashboardDelete:"Dashboard has been deleted!",deletedWidget:"Widget has been deleted!",addedWidget:"Widget has been added",widgetSave:"Widget has been updated!",dashboardDeletedUnsharedByOwner:"Dashboard has been deleted",deleteLaunch:"Launch was deleted",deleteLaunches:"Launches were deleted",deleteTestItem:"Item was deleted",deleteTestItems:"Items were deleted",submitKeys:"Defect link is added",ignoreItemAA:"Item was successfully ignored in Auto-Analysis",ignoreItemsAA:"Item were successfully ignored by Auto-Analysis",includeItemAA:"Item was successfully included in Auto-Analysis",includeItemsAA:"Item were successfully Included in Auto-Analysis",editFilter:"Filter has been updated!",sharedFilter:"Filter name has been shared!",unsharedFilter:"Filter name has been unshared!",signedIn:"Signed in successfully",addTicket:"Ticket has been created.",removeTicket:"Ticket has been deleted!",switchToDebug:"Launch has been successfully shifted to debug",switchToAllLaunches:"Launch has been successfully shifted to all launches",updateLaunch:"Launch has been updated",addLaunchFilter:"Filter has been added to launch tabs",removeLaunchFilter:"Filter has been removed from launch tabs",savedLaunchFilter:"Filter has been saved",savedLaunchFilters:"Filters have been saved",savedFilter:"Filter has been created",saveWidget:"Widget has been saved successfully",dashboardAdded:"Dashboard has been added",dashboardUpdated:"Dashboard has been updated",mergeLaunches:"Launches have been merged",startedAutoanalyzer:"Auto-analyzer for launch successfully started.",updateProjectSettings:"Project settings were successfully updated",finishLaunch:"Launch was successfully forced to finish",addMember:"Member was successfully added.",inviteMember:"Invite for member is successfully registered. Confirmation info will be send on provided email. Expiration: 1 day.",registerMember:"Registration has been completed successfully",projectCreated:"The project '%%%' has been successfully created",setAdminSettings:"Email server settings have been updated",deleteOrgOAuthSettings:"GitHub organization has been deleted",setOAuthSettings:"OAuth integration settings have been updated",deleteOAuthSettings:"OAuth integration settings were successfully removed",updateProjectRole:"Member '%%%' has been updated",updateEmailProjectSettings:"Notification rule has been removed.",updateSubType:"Defect type was successfully updated",updateSubTypesColores:"Defect types colors were successfully updated",assignMember:"Member '%%%' was assigned to the project",assignYourSelf:"You was assigned to the project ",changeRole:"User role for '%%%' was changed",submitForgotPass:"Password recovery instructions have been sent to email %%%",submitChangePass:"Your password has been changed successfully",submitProfileInfo:"Changes have been saved successfully",submitUpload:"Photo has been uploaded successfully",updateUuid:"UUID has been regenerated",addSubType:"New defect type was successfully created",startAnalyzeAction:"Auto-analyzer has been started.",generateDemoData:"Demo data has been generated",changedColorDefectTypes:"Defect types have been updated.",updateDefect:"Defects have been updated",updateServerSettings:"Server settings were successfully updated",addUserWithoutEmail:"User has been created, but impossible to send message due to email server configuration is broken or switched-off",removeIndex:"Index was removed successfully",generateIndex:"Index generation is in progress"},failMessages:{noPermissions:"You do not have enough permissions. Access is denied!",defaults:"An error occurred while connecting to server",duplicatedRecourse:"Duplication of the resources has been detected!",shareFilter:"Error when sharing filter: ",deleteFilter:"Error when deleting filter: ",deleteBts:"Failed to delete project settings",deleteUser:"Error when deleting user:",editFilter:"Error when editing filter: ",errorSaveTicket:"Error when post ticket! ",errorCompareLaunches:"Error when compare launches: ",projectLoad:"Can't get project info. Please re-login.",dashboardDelete:"Error when deleting dashboard: ",savedLaunchFilter:"Could not save filter",savedLaunchFilterQuantity:"Could not save filter, number of elements per page should be no more than 150",savedLaunchFilters:"Could not save filters",errorSaveWidget:"Error saving the widget",errorUpdateWidget:"Error when updating widget",filterNameDuplication:"Error when updating widget",unAssignMember:"Fail to unassign member from the project",widgetSave:"Could not save widget to the server",widgetAddToDashboard:"Could not add selected widget to dashboard",widgetUpdate:"Could not complete widget update",postTicketToBts:"Could not post bug to bug tracking system",updateProjectSettings:"Failed to update project settings",getUsers:"Failed to get users for current project",widgetPreviewData:"Failed to get data for widget preview",widgetData:"Failed to get data for widget",getDashBoards:"Failed to get dashboards for current project",connectToServer:"Failed to connect to the server",addDashBoard:"Failed to save new dashboard",sharedWidgetData:"Failed to get shared widget data",widgetNames:"Failed to load widgets name collection",adminLoadProjects:"Failed to load projects from the server",updateDefect:"Failed to update defect information",addMember:"Error when add member",inviteMember:"Error when invite member",registerMember:"Error when register member",validateRegisterBid:"Error when validate for user registration",finishLaunch:"Failed to force finish the launch",loadFilters:"Failed to load filters list",getItemsWidgetBugTable:"Failed to load data for widget",gridData:"Failed to load data for launches table",updateDashboard:"Failed to update dashboard or its component",getSharedDashboards:"Failed to get shared dashboards list",addSharedDashboard:"Failed to add shared dashboard",updateDefaultProject:"Failed to update default project for user",getUserInfo:"Failed to obtain user info",projectCreate:"Failed to create project",deleteProject:"Failed to delete project",updateProjectRole:"Failed to update project role",setAdminSettings:"Failed to update email server settings",setOAuthSettings:"Failed to update OAuth integration settings",deleteOAuthSettings:"Failed to delete OAuth integration settings",deleteMember:"Failed to delete user",loadMembers:"Failed to load members",assignMember:"Failed to assigned member to the project",assignYourSelf:"Failed to assign yourself to the project",submitKeys:"Failed to load bugs with provided ids ",startAnalyzeAction:"Failed to start analyze",changeRole:"Failed to change user role for '%%%'",loadProjectInfo:"Failed to load a project information",submitForgotPass:"User with entered email address is not found",submitForgotPassRestricted:"Unable to change password for external user",submitForgotPassBrokenConf:"Email configuration is broken or switched-off. Please configure email server in Report Portal settings.",submitChangePass:"Failed to update password",submitProfileInfo:"Failed to update profile info",submitProfileInfoDuplication:"Entered email already exists in the system",submitProfileInfoWrongData:"Email is incorrect",submitChangePassInvalid:"Invalid password was entered",submitUpload:"Failed to upload photo",deletePhoto:"Failed to delete photo",clearExternalSystem:"Failed to clear current BTS setup",mergeLaunches:"Failed to merge selected launches",forceUpdateUserRoles:"Error when update data from UPSA",forceUpdateGitHub:"Error during data has been force updated",updateUuid:"Error when regenerate UUID: ",loadHistory:"Failed to load history for current item",loadActivityItems:"Failed to load activity items",loadNavigationStep:"Failed to load",sessionExpired:"Your session has been expired",getItemInfo:"Failed to load info for item",dublPostFix:"Postfix already used or not align with already existing data. Please use another one",serverNotConfigured:"Email server is not configured",impossibleInvite:"Impossible to invite user due to email server configuration is broken or switched-off configuration is broken or switched-off",restorationExpired:"The link to restore password has been expired or already used"},infoMessages:{defaults:"System state has been changed",logOuted:"You have been logged out",noResults:"No results to display",restoredTestItem:"Link to test-item become invalid. Test-item was restored by id from server."},validation:{defaultMessage:"Value did not pass validation",issueTitleEmpty:"Title should not contain only white spaces and shouldn't be empty",issueTitleLength:"Title should have size from '4' to '512'",componentsLength:"Components should not contains only white spaces and shouldn't be empty",logMessageLength:"Message length should have size from %%% to %%%.",autoAnalysisLength:"The parameter should have value from %%% to %%%.",filtersNameLength:"Filter name length should have size from %%% to %%%",filterNameLength:"Filter name length should have size from %%% to %%% characters.",filterDescriptionLength:"Filter description length should have size from %%% to %%%.",filterDescriptionMaxLength:"Filter description length should have size to %%%.",filterNameDuplication:"This name is already in use. Please choose something else.",filterStaticsDigitsOnly:"This filter accepts only digits.",dashboardNameLength:"Dashboard name should have size from %%% to %%%",widgetNameLength:"Widget name should have size from '3' to '128'",projectNameLength:"Project name should have size from '1' to '55'",countCantBeEmpty:"Items count can not be empty",launchesCantBeEmpty:"Select launch to create widget",countWrongAmount:"Items count is out of range",countWrongAmountSize:"Items count should have size ",itemsSizeLength:"Items count should have size from %%% to %%%",valueSizeLength:"Value should have size from %%% to %%%",selectAtLeastOneCriteria:"Select at least one criteria option",selectAtLeastOneAction:"Select at least one actions option",selectAllOptionsForWidget:"Select all options to add new widget",btsLinkRequired:"Please provide a valid BTS link",btsLinkRegex:"BTS link should match a valid website address",jiraLinkLength:"Please provide a valid JIRA link",requiredDefault:"This field is required",dashboardNameDuplication:"This name is already in use",widgetNameDuplication:"This widget name is already in use",descriptionsSize:"Descriptions should have size not more than 1024",loginSize:"Login should have size to {1}.",fullNameSize:"Full name should have size from '{0}' to '{1}'.",passwordSize:"Password should have size from '{0}' to '{1}'.",incorrectEmail:"Email is incorrect. Please enter correct email.",registeredEmail:"Entered email already exists in the system.",registeredLogin:"Entered login already exists in the system.",confirmPassword:"Password and confirm password do not match.",memberNameLength:"Member name should have size from '1' to '128'",filterNameMax:"Filter name should have size up to '55'",fullNameRegex:"Only latin, cyrillic, numeric characters, symbols: hyphen, underscore, dot, space",mergeNameLength:"Field name should have size from '3' to '256'",fromEmailLength:"'From' field should have size from '5' to '256'",addProjectNameLength:"Project name should have size from '3' to '256'",projectNameRegex:"Only latin, numbers symbols, underscore, dash are possible",projectNameRequired:"Enter a project name",projectNameDuplication:"Project with the same name already exists in the system",hostLength:"Only numbers from '1' to '65535' are possible.",bugIdPattern:"Special symbols are prohibited",launchDescriptionLength:"Description should have size not more than 1024 symbols",submitProfileInfoEmail:"Email is incorrect",domainMatchRegex:"Domain name is incorrect",emailMatchRegex:"Check the entered email",emailNotificationLength:"Email should have size from '{0}' to '{1}'.",emailInternalRegex:"The password cannot be changed. Please use you domain password.",confirmMinMax:"Password should have size from '4' to '25' symbols",confirmMatch:"Passwords do not match",fullNameInfoRegex:"Full name should have size from '3' to '256' symbols, latin, cyrillic, numeric characters, hyphen, underscore, dot, space.",loginRegex:"Login should have size from '1' to '128' symbols, latin, numeric characters, hyphen, underscore, dot.",loginRangeLength:"Login should have size from '%%%' to '%%%'.",originalPassRegex:"Password should have size from '4' to '25' symbols",hostMatchRegex:"Check the entered data",wrongImage:"You can upload jpeg, png, gif file, no more than 1 MB and 300x500px",restorationExpired:"The link to restore password has been expired or already used",tfsDomainLength:"Domain should have size from '1' to '255' symbols",apiKeyLength:"Api key should have size from '4' to '128' symbols",usernameLength:"Username should have size from '4' to '128' symbols",onlyIntegersRegex:"Only numbers are allowed",doublesRegex:"This field accepts double type numbers",issueLinkRegex:"Link should match a valid website address",issueLinkRequired:"Link should match a valid website address",issueIdLength:"Issue Id should have size from %%% to %%%",fieldRequired:"This field is required",defectName:"Full name should have size from '3' to '55'",wrongSymbol:"Only Latin, numbers symbols, hyphen, underscore are possible",defectUniq:"Full name and short name set should be unique",defectShortName:"Short name should have size from '1' to '4'",defectColor:"Select color for defect type",postfixLength:"Postfix should have size from %%% to %%%",loginLength:"Login length should have size from %%% to %%% characters.",passwordLength:"Password length should have size from %%% to %%% characters.",userNameLength:"Name length should have size from %%% to %%% characters.",moreAtItem:"You must select at least one item"},forms:{name:"Name",owner:"Owner",tags:"Tags",description:"Description",startTime:"Start time",endTime:"End time",startTimeEndTime:"Time start/end",user:"User",finishTime:"Finish time",number:"Number",lastModified:"Last modified",status:"Status",updateProject:"Update project settings",updateItem:"Update item",startLaunch:"Start launch",finishLaunch:"Finish launch",deleteLaunch:"Delete launch",shareWidgetDashboard:"Share widget, dashboard",unShareWidgetDashboard:"Unshare widget, dashboard",updateIssue:"Actions with issues",linkIssue:"Attach issue to BTS",history:"History",project:"Project",login:"Login",fullName:"Full name",email:"Email",loginOrEmail:"Login or email",password:"Password",confirmPassword:"Confirm password",genPassword:"Generate password",projectRole:"Project role",accountRole:"Account role",selectProject:"Select a project",symbolsForName:"3-256 symbols, latin, cyrillic, numeric characters, symbols: hyphen, underscore, dot, space.",symbolsForLogin:"1-128 symbols, latin, numeric characters, symbols: hyphen, underscore.",symbolsForPass:"4-25 symbols.",passwordSize:'Password should have size from "4" to "25".',passwordEmpty:"Password shouldn't be empty.",adminPrivileges:"Administrator will have full privileges according to permission map",showPassword:"Show password",linkInvitation:"Link to invitation",createUser:"Add, register user",updateDefects:"Update defect types",updateBts:"Update BTS",updateWidget:"Update widget",updateDashboard:"Update dashboard",updateFilter:"Update filter","import":"Import",projectNameIn:"Project name in BTS",copyLink:"Copy link",generateIndex:"Generate index",deleteIndex:"Remove index",updateAutoAnalysis:"Update Auto-Analysis settings"},wizard:{widgetWizard:"Widget wizard",widgetType:"Widget type",nameAndDashboard:"Name & dashboard",sharedFilters:"Shared filters",ownFilters:"Own filters",sharedWidgets:"Shared widgets",widgetTemplates:"Widget templates",enterWidgetName:"Enter new widget name",enterLaunchName:"Enter launch name",createDashboard:"Create dashboard",sharedDashboards:"Shared dashboards",ownDashboards:"Own dashboards",enterDashboardName:"Enter new dashboard name",sharedFiltersAbsent:"No shared filters found",ownFiltersAbsent:"No filters found for ",projectFiltersAbsent:"No filters on a project",sharedWidgetAdded:"Widget is already added to selected dashboard",sharedWidgetCantBeAdded:"Widget could not be added",noOwnDashboards:"Project has no dashboards yet",noSharedWidgets:"No widgets are shared",saveNewDashboard:"Please, save new dashboard or switch to 'Own dashboards'",impossibleShared:"Impossible to choose shared widget",widgetOnSharedDashboard:"The widget will be shared by default because the dashboard is shared",actionTitle:"Actions for widget",criteriaTitle:"Criteria for widget",modeTitle:"Mode",criteriaSelectTitle:"Select criteria",selectColumn:"Select columns",actionSelectTitle:"Select actions",modeSelectTitle:"Select mode",previewDefault:"Select widget template and filter to see preview",previewNotAvailable:"Preview is not available for this type of widget template",previewNoFilter:"Select a filter to see preview",previewNoTemplate:"Select widget template to see preview",previewDataNotAvailable:"Can't get data for preview.",incomplete:"Undone",complete:"Compete",filters:"Filters",enterFilter:"Enter filter names",basicColumns:"Basic columns",choiceCriteria:"Choose criteria",choiceColumns:"Choose columns",tagPrefixDescription:"To view a dynamic of a definite tag you should type its part before colon ‘:’",tagPrefixPlaceholder:"Enter a part of tag before ‘:’",searchFilterByNAme:"Search filter by name"},dialogHeader:{deleteFilter:"DELETE FILTER",deleteProject:"DELETE PROJECT",deleteEmailRule:"DELETE RULE",deleteUser:"DELETE USER",deleteImage:"DELETE IMAGE",dashboardDelete:"DELETE DASHBOARD",deletedWidget:"DELETE WIDGET",deleteBts:"Delete project",unAssignMember:"UNASSIGN USER",changeRole:"CHANGE ROLE",sureToRemoveWidget:"REMOVE WIDGET",titleEditDefectType:"Edit defect type",titleResetDefectColors:"Reset defect colors",titleDeleteDefectType:"Delete defect type",forceFinish:"Force finish",moveToDebug:"Move to debug",moveToAllLaunches:"Move to all launches",editLaunch:"Edit launch",editDashboard:"Edit dashboard",editTestItem:"Edit test item",changePassword:"Change password",editUserInfo:"Edit personal information",addDashboard:"Add new dashboard",regenerateUUID:"REGENERATE UUID",deleteOrg:"Delete GitHub organization",logAttachment:"ATTACHMENT",importLaunch:"Import launch",ignoreAA:"Ignore %%% in Auto-Analysis",includeAA:"Include %%% into Auto-Analysis",receiveIssue:"Receive previous result",sendIssue:"Send result to the last item",unlinkIssue:"Unlink issue",analyseLaunches:"Analyse launches",testItemsDetails:"Test item details"},dialog:{regenerateUUID:"Regenerate UUID",unableSelectForMerge:"Error: Unable to select launch for merge!",createNewDashboard:"Create new dashboard",dashboardSettings:"Dashboard settings",deleteFilter:"Are you sure to delete filter <b>'%%%'</b>? It will no longer exist.",deleteFilterDangerConfirmText:"You are going to delete not your own filter. This may affect other users information on the project.",deleteProject:"Are you sure you want to delete the project <b>'%%%'</b>?",deleteEmailRule:"Are you sure you want to remove notification rule?",deleteEmailRuleBtn:"Remove",unAssignMember:"Are you sure you want to unassign user <b>'%%%'</b> from the project <b>'%%%'</b>?",unAssignMemberBtn:"Unassign",deleteUser:"Are you sure you want to delete user <b>'%%%'<b>?",changeRole:"Are you sure you want to change the account role for the <b>'%%%'</b>?",changeRoleBtn:"Change",deleteImage:"Are you sure you want to delete profile photo?",deleteBts:"Are you sure you want to remove %%% project <b>'%%%'</b> from project settings?",dashboardDelete:"Are you sure to delete dashboard  <b>'%%%'</b>? It will no longer exist.",dashboardDeleteDangerConfirmText:"You are going to delete not your own dashboard. This may affect other users information on the project.",deletedWidget:"Are you sure you want to delete widget <b>'%%%'</b>? You will no longer have access to it. This action can't be undone.",deletedWidgetDangerConfirmText:"You are going to delete not your own widget. This may affect other users information on the project.",deletedOwnSharedWidgetDangerConfirmText:"You are going to delete your own widget. This may affect other information on your own dashboards.",deleteBtsBtn:"Remove",dashboardDeleteBtn:"Remove",sureToRemoveWidget:"Are you sure you want to remove %%% <b>'%%%'</b>?",launchEditor:"Edit launch",itemEditor:"Edit item",defectEditor:"Edit defect",choseDefectType:"Choose defect type",commentForDefect:"Leave comment to defect type",warningForDefect:"You have to save changes or cancel them before closing the window",defectType:"Defect type",mergeLaunches:"Merge launches",postBug:"Post bug",loadBug:"Load bug",launchDetails:"Launch details",testItemDetails:"Item details",launchDescrPlaceholder:"Enter launch description",testItemDescrPlaceholder:"Enter item description",launchTagPlaceholder:"Enter tag name",editFilter:"Edit filter",addFilter:"Add filter",moveLaunch:"Are you sure you want to move %%% to %%%?",filterOptions:"Filter options",analyseLaunchesLabel:"Choose the base on which the Auto Analysis will be performed:",analyseLaunchesLabel1:"Choose the test items that should be analyzed:",analyseWarning1:"You can not perform this operation unless at least one item is chosen.",analyseWarning2:"You can not perform this operation for Auto-analyzed and Manually analyzed items simultaneously. Please choose one of them.",msgDeleteItems:"Are you sure to delete %%%? %%% will no longer exist.",msgDeleteDefectType:"I am sure I want to remove custom defect type",msgDeleteProject:"I am sure I want to delete project",msgDeleteOrg:"Are you sure you want to delete selected organization? All assigned users could not be able to login Report Portal. ",deleteOrg:"I am sure I want to delete organization",msgResetColorsDefectType:"Are you sure you want to reset custom defect's colors to default?",msgMessageTop:"Are you sure you want to delete the defect type?  All Investigated as <strong>'%%%'</strong> defects will be marked as <strong>'%%%'</strong>.",msgImportLaunch:"If your runner does not write the test start time in .xml file, then the current server time will be used.",importLaunchTip:'Drop only <strong>.zip</strong> file under 32 MB to upload or <span class="blue">click</span> to add it',msgIgnoreAA:"Are you sure to ignore %%% in Auto-Analysis?",msgIncludeAA:"Are you sure to include %%% into Auto-Analysis?",msgReceiveIssue:"Are you sure to receive defect data from previous failed item?",msgSendIssue:"Are you sure to send defect data to the last item?",msgUnlinkIssue:"Are you sure to unlink issue/s for test items?",invalidFileType:"Incorrect file format",invalidFileSize:"File size is more than 32 Mb",testUID:"Unique test case ID:",testDuration:"Duration:",testTags:"Tags:",testParametres:"Parametres:",testDescription:"Description:",testStacktrace:"Stacktrace:",key:"Key",value:"Value"},time:{day:"day",days:"days",hour:"hour",hours:"hours",minute:"minute",minutes:"minutes",seconds:"seconds",second:"second"},activity:{email:"E-mail notifications",keepLogs:"Keep logs",keepScreenshots:"Keep attachments",auto_analyze:"switch Auto Analysis",launchInactivity:"Launch inactivity timeout",statisticsCalculationStrategy:"Select strategy",delete_index:"remove index",generate_index:"generate index",number_of_log_lines:"Number of log lines",min_doc_freq:"Minimum document frequency",min_should_match:"Minimum should match",min_term_freq:"Minimum term frequency",analyze_mode:"Base for Auto Analysis"},permissionMap:{owner:"owner",notOwner:"not owner",actionRole:"Action\\Project role",accessToManagementSystem:"Have access to management system",readData:"Read data",seeMembers:"See list of project members",userFromProject:"user to/from the project",assign:"Un/Assign",internal:"internal",user:"user",changeUserRole:"Change users role on a project",createProject:"Create project",updateSettings:"Update project settings",seeSettings:"See project settings",deleteProject:"Delete project",deleteLaunch:"Delete launch",deleteTests:"Delete test item",deleteLog:"Delete log",unSlashAssign:"Un/Assign",userToFrom:"user to/from the project",editOwnAccount1:"Edit own account",editOwnAccount2:"(not implemented yet)",forceFinishLaunch:"Force finish launch",startAnalysis:"Start analysis manually",deleteTestItem:"Delete test item and log",moveToDebug:"Move launch to debug/default mode",mergeLaunches:"Merge launches",workWithFiltersEtc:"Work with filters, widgets, dashboards (create, edit, delete, share)",oneAttention:"Action can be done for a internal user."},api:{apiDocumentation:"Api documentation",api:"API",uat:"UAT"},modalDefectEditor:{saveAndPost:"Save and post issue",saveAndLoad:"Save and link issue",saveAndUnlink:"Save and unlink issue"}}}),define("localizations/ru-RU",["util"],function(){return{ui:{all:"Все",actions:"Действия",on:"Вкл",off:"Выкл",save:"Сохранить",saveAll:"Сохранить всё",selectAll:"Выбрать всё",cancel:"Отменить",close:"Закрыть",discard:"Сбросить",clone:"Клонировать",copy:"Копировать",edit:"Редактировать","delete":"Удалить",check:"Проверить",add:"Добавить",ok:"Ok",reset:"Переустановить",merge:"Соединить",ignore:"Игнорировать",include:"Включить",send:"Отправить",receive:"Получить",viewEmail:"Просмотреть письмо",sendEmail:"Отправить письмо",sendInvite:"Отправить приглашение",back:"Назад",update:"Обновить",del:"Удалить",remove:"Убрать",generate:"Сгенерировать",submit:"Отправить",confirm:"Подтвердить",create:"Создать",register:"Зарегистрировать",refresh:"Обновить страницу",report:"Сообщить",escToCancel:"<strong>Esc</strong> для отмены",ctrlEnterToSubmit:"<strong>Ctrl + Enter</strong> для подтверждения",loading:"Загружается",link:"Прикрепить",unlink:"Открепить",post:"Отправить",analyse:"Анализировать",gallery:"Галерея",build:"Build",error:"Ошибка",hide:"Спрятать",yes:"Да",no:"Нет",finish:"Завершить",move:"Передвинуть",restore:"Восстановить",settings:"Установки",members:"Участники",events:"Мониторинг событий",action:"Действие",filter:"FILTER",locator:"Локатор",clickToSubmit:"Нажмите, чтобы подтвердить отправку формы",clickToCancel:"Нажмите для отмены",noResultsFound:"Результатов не найдено",noData:"У Вас нет данных",toGetStarted:"Для начала работы",setUpIntegration:"настройте интеграцию",generateTestResults:"или сгенерируйте демо-данные",clickToggleGallery:"Нажмите, чтобы переключить вид галереи",clickOpenNewWindow:"Нажмите, чтобы открыть в новом окне",jumpToMessage:"Перейти к сообщению",clickToSeeDescription:"Нажмите, чтобы увидеть описание",reuseForAnalyze:"Использовать повторно для анализа",backToTop:"Вверх",allRights:"Все права защищены",admin:"АДМИНИСТРАТОР",manager:"МЕНЕДЖЕР",operator:"ОПЕРАТОР",member:"УЧАСТНИК",customer:"ЗАКАЗЧИК",user:"ПОЛЬЗОВАТЕЛЬ (ВЛАДЕЛЕЦ)",you:"ВЫ",makeAdmin:"Сделать администратором",unassign:"Отменить назначение",lockedTitle:"Роль не может быть изменена, поскольку у пользователя есть права АДМИНИСТРАТОРА",more:"еще...",wrongCredentials:"имя пользователя или пароль указаны неверно",wronglength:"Логин может содержать до 128 знаков.",wrongcharacters:"Логин может включать только латинские буквы, цифры и символы: дефис и нижнее подчеркивание.",wrongsignin:"Авторизуйтесь, прежде чем продолжить",wrongrelogin:"Невозможно получить пользовотельскую информацию. Авторизуйтесь заново, пожалуйста",wrongupdating:"Ошибка при обновлении проекта по умолчанию: ",reloginToApply:"Пожалуйста, авторизуйтесь заново, чтобы применить изменения!",relogin:"Аторизуйтесь заново",avatar:"Картинка профиля",minPrefix:"По крайней мере ",minSufix:" символы требуются.",minSufix3:"символа требуется.",minSufixAuto:" символы требуются для автозаполнения.",minSufixAuto3:" символа требуется для автозаполнения.",maxPrefix:"Не более, чем ",maxSufix:" символов допускается.",by:"",sureToRemove:"Вы уверены, что хотите удалить %%% <span class='обложка текста'>'%%%'</span>",sureToUnassign:"Вы уверены, что вы хотите вывести",sureToDelete:"Вы уверены, что вы хотите удалить",enterChars:"Пожалуйста, введите 1 или более знаков",checkQuery:"Проверьте свой запрос и попытайтесь еще раз",addFirstFilter:"Добавьте новый фильтр первым",userSm:"пользователь",widgetSm:"виджет",dashboardSm:"панель управления",analyze:"Анализ",autoAnalyzeShort:"AA",BASIC:"Basic",OAUTH:"OAuth",NTLM:"NTLM",APIKEY:"ApiKey",previous:"Предыдущее",next:"Следующее",warning:"ВНИМАНИЕ",warningSm:"внимание",toolname:"Report Portal",launches:"запуски",items:"элементы",item:"элемент",sec:"секунда",month:"месяц",monthsString:"месяцев",max:"Максимум",min:"Минимум",avg:"Август",rotateImage:"Повернуть картинку",selectValue:"Выбрать значение",from:"от",to:"до",launch:"запуск",selectedLaunches:"избранные запуски",debug:"Отладку",allLaunches:"Все запуски",smof:"выкл",smon:"вкл",backHome:"Назад к началу",backForm:"Назад к Форме",today:"Сегодня",yesterday:"Вчера",sortBy:"Сортировать по",name:"Имя",description:"Описание","import":"Импорт",searchName:"Поиск по имени",perPage:"на странице",of:"из",timeRangeChange:"Ваш временной диапазон будет обновляться каждый день",markdownBigHeading:"Большой заголовок",markdownMediumHeading:"Средний заголовок",markdownSmallHeading:"Маленький заголовок",markdownClean:"Абзац",markdownBold:"Жирное начертание",markdownItalic:"Курсив",markdownStrikethrough:"Перечеркнуть",markdownGeneric:"Маркированный список",markdownNumbered:"Нумерованный список",markdownImage:"Добавить изображение",markdownLink:"Создать ссылку",markdownQuote:"Цитата",markdownCode:"Добавить код",markdownPreview:"Предварительный просмотр",they:"ним",it:"нему","new":"Новый",enterEmail:"Введите адрес электронной почты",days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],note:"К сведению"},uiCommonElements:{cancel:"Отмена",reset:"Сброс",close:"Закрыть","delete":"Удалить"},footer:{help:"Помощь",contactUs:"Свяжитесь с нами",epam:"EPAM",policy:"Политика конфиденциальности",docs:"Документация",api:"API",licensing:"Лицензирование",lgplv3:"LGPL 3.0",chatSlack:"Пообщайтесь с нами на Slack",textCopyright:"&copy; 2017 Report Portal. Все права защищены.",textSocial:"Оставайтесь на связи с нами:",menu:{news:"Новости",support:"Поддержка",aboutUs:"О нас",contacts:"Контакты"}},notFound:{oops:"Ой, нет такой страницы",spelling:"Возможно, вы ошиблись в наборе URL. Пожалуйста, проверьте написание.",or:"или",permission:"У вас нет прав доступа к этой странице. Пожалуйста, проверьте список доступных вам проектов."},messages:{code:"Код:",details:" подробности"},login:{passwordTitle:"Пароль",loginTitle:"Войти",signIn:"Войти",blockedLoginForm:"Вы неправильно ввели логин или пароль несколько раз. Форма авторизации заблокирована на ",changePassword:"Сменить пароль",sendEmail:"Отправить письмо",backToLogin:"Назад к авторизации",showPassword:"Показать пароль",newPassword:"Новый пароль",confirmNewPassword:"Подтвердите новый пароль",restorePassword:"Восстановить пароль",emailToBegin:"Введите адрес электронной почты, чтобы начать",forgotPassword:"Забыли пароль?",demoWelcomeMsg:'<span class="big">Добро пожаловать</span><br>на Демо сервер',demoGithub:"Вы используете личный Github проект.",publicAccount:'Вы зашли под учетной записью "Демо". <span class="banner-description">Для безопасной работы с данными, используйте <span class="github-auth" data-js-github-auth>Github авторизацию</span>.</span>',dataFlush:"Данные будут удалены через",hours:"ч",minutes:"м",seconds:"с",welcomeMsg:'<span class="big">Добро пожаловать,</span><br>войдите в вашу учетную запись',welcomeMsgForgotPass:'<span class="big">Забыли пароль?</span><br> Введите адрес вашей электронной почты, чтобы восстановить его',welcomeMsgResetPass:'<span class="big">Сменить пароль</span><br> Введите новый пароль и подтвердите его',currentVersion:"Текущая версия:",newVersions:"Доступны новые версии.",updateServices:"Получить обновления",twitterCaption:"Ознакомьтесь с нашими последними твитами",error:"Ошибка",loginEpam:"Войти через EPAM",loginGitHub:"Войти через GitHub",or:"или",loginPlaceholder:"Логин",password:"Пароль"},landing:{threes:{subHeader:"совместная автоматизация тестирования",ciCd:"Неотъемлемая часть стратегии CI/CD",ciCdText:"Мы построили RP в результате 15-летней работы в автоматизации тестирования для наших клиентов. По нашему мнению, его не хватало в настоящей гибкой среде, особенно при экстенсивной автоматизации тестирования",architecture:"Расширяемая архитектура",architectureText:"С расширяемой архитектурой Report Portal может использовать новые идеи и их реализацию от сообщества",realtime:"Отчеты и аналитика в режиме реального времени",realtimeText:"Report Portal собирает данные в режиме реального времени для совместной и быстрой работы",analysis:"Интеллектуальный анализ результатов",analysisText:"учится на опыте. С его помощью мы можем 'понять' основную причину результатов новых тестов"},header:{btnLogin:"Авторизация",returnToRP:"Вернуться к RP",linkFeatures:"Преимущества",linkAutoAnalysis:"Автоматический анализ",linkProductionUsage:"Анализ в режиме реального времени",linkDistributionOfFails:"Основная причина",linkYouResultAnalysis:"Командная работа",linkDocumentation:"Документы"},GroupIdeasBehindRP:{titleIdeasBehindReportPortal:"Преимущества продукта",titleLiveVisibility:"Наблюдение в режиме реального времени",titleReduceEffort:"Уменьшить усилия",titleSupportsTools:"Встроенная поддержка",titleNiceReports:"Современные отчеты",titleEasyIntegrate:"Быстрый запуск",titleNoRefactoring:"Командная работа",descLiveVisibility:"В ваш статус автоматизации тестирования",descReduceEffort:"Ускорьте анализ результатов с помощью данных из истории",descSupportsTools:"Нестандартная интеграция с основной автоматизацией и отслеживанием ошибок",descNiceReports:"Out of the box analytics and custom dashboards",descEasyIntegrate:"Интегрируйте существующие результаты тестов в тот же день. На вашем сервере или на облаке",descNoRefactoring:"Совместная среда для всей вашей команды"},sitesUsingFoundation:"Sites using foundation:",clients:{altToday:"Today",altCocaCola:"Coca Cola",altMTV:"MTV",altLibertyGlobal:"Liberty Global",altInterContinentalsHotelsGroup:"InterContinentals Hotels Group",altGloboforce:"Globoforce",altWiggle:"Wiggle",altThomsonReuters:"Thomson Reuters",altCanadianTire:"Canadian Tire",altWoltersKluwer:"Wolters Kluwer",altKrux:"Krux",altAccellion:"Accellion",altPlex:"Plex"}},topMenu:{reportPortal:"Report Portal",rpp:"RPP",status:"Состояние",activeProjTitle:"Текущий активный проект",dashboard:"Панель управления",launches:"Запуски",debug:"Отладка",favorites:"Избранное",admin:"Администратор",members:"Участники",logout:"Выйти",settings:"Настройки",myProjects:"Мои проекты",filters:"Фильтры",projects:"Мои проекты:",administrate:"Администрировать",profile:"Профиль",api:"API"},itemEvents:{updateItemIssue:"обновил данные элемента",updateItem:"обновил элемент",linkIssue:"привязал ошибку",unlinkIssue:"отвязал ошибку",postIssue:"отправил ошибку",changedByAnalyzer:"АА изменил тип дефекта",issueLoadByAnalyzer:"AA привязал ошибку"},widgets:{all:"Все",clickZoomIn:"Щелкните, чтобы увеличить",clickZoomOut:"Щелкните, чтобы уменьшить",clickEdit:"Щелкните, чтобы отредактировать виджет",clickDelete:"Щелкните, чтобы удалить",filterNotFound:"Фильтр, связанный с этим виджетом, не найден",unableLoadData:"Невозможно загрузить данные для этого виджета",unsharedWidget:"Доступ к виджету был ограничен владельцем!",widgetNotFound:"Виджет не найден!",widgetUnShared:"Доступ к виджету был ограничен ",dataFilter:"Фильтр данных для виджета",fromMyFilters:"из моих фильтров",fromShared:"из доступных фильтров",selectFilter:"Выбрать фильтр",configureWidget:"Конфигурировать виджет",selectType:"Выбрать тип виджета",widgetName:"Название виджета",limitResults:"Лимит результатов",widgetSize:"Размер виджета",widgetType:"Тип виджета",typeUserName:"Имя пользователя",enterLaunchName:"Введите имя запуска",typeLaunchName:"Название запуска",widgetCriteria:"Критерии для виджета",selectCriteria:"Выбрать критерии",selectShared:"Выбрать доступный критерий",sharedWidgetsSearchPlaceholder:"Поиск по имени, владельцу",widgetExists:"Виджет уже существует на панели управления",emptyShared:"Не найдено доступных виджетов!",sharedBy:"предоставлено",widgetSharedBy:"Виджет предоставлен",widgetCreatedBy:"Виджет создан",noData:"Нет доступных данных.",selectLaunch:"Выберите запуск",enterUserName:"Введите имя пользователя",chooseFilter:"Выберите фильтр из списка ниже",chooseFilterShort:"Выберите фильтр",selectedFilterNotFound:"Фильтр не найден. Пожалуйста, выберите другой. ",tagPrefix:"Префикс тега",limit:"Всего элементов",items:"Элементы",launchesCount:"Всего запусков",enterRecipients:"введите получателей",bug:"ошибка",btsNotConf:"Система отслеживания ошибок не настроена для проекта.",bugId:"ID ошибки",foundIn:"Найдено в",submitDate:"Добавьте дату",submitter:"Отправитель",testCase:"Тестовый сценарий",allRuns:"Все прогоны",failed:"Неудачно",not_passed:"% (Неудачных+Пропущенных)/Всего",affected:"Затронутых, %",failure:"отказ",failsOf:"отказ ",testCaseExe:"выполнение тестового сценария с",lastIssue:"Последняя ошибка",lastSwitch:"Последнее переключение",findLastLaunch:"Найти в последнем запуске",pieTotal:"Всего",pieSum:"Сумма",totalTestCases:"Всего сценариев",pieIssues:"Ошибки",addNewWidget:"Добавить новый виджет",addSharedWidget:"Добавить виджет и поделиться",deleteWidget:"Удалить виджет",refreshWidget:"Обновить виджет",saveWidget:"Сохранить виджет",editWidget:"Редактировать виджет",exportWidget:"Экспортировать виджет",clickToAdd:"Щелкните здесь, чтобы создать новый виджет",medianValueUniqLaunches:"Медианное значение результата всех уникальных запусков",numberLaunches:"Количество запусков",quantityLaunches:"количество запусков",launches:"запуски",timeWeeks:"время,  недель",timeDays:"время,  дней",averageBugs:"В среднем: %%% % ",propertiesProj:"свойства проекта",properties:"свойства",settings:"настройки",project:"проект",maxLaunches:"Максимум запусков в выборке",duration:"Длительность",failedCases:"неудавшиеся сценарии",ofTestCases:" тестовых сценариев",growTestCases:"Прирост сценариев",toInvestigate:"Требуется анализ",automationBug:"Ошибка теста",productBug:"Дефект продукта",systemIssue:"Системная ошибка",investigated:"Изучено",namePlaceholder:"Введите название виджета",descriptionPlaceholder:"Введите описание виджета",launchMode:"Режим запуска",timelineMode:"Режим графика",timelineModeTitle:"Режим графика",launchPassed:"Успешно",launchNotPassed:"Неудачно",start_launch:"старт запуска",finish_launch:"окончание запуска",delete_launch:"удаление запуска",create_dashboard:"создание панели управления",update_dashboard:"обновление панели управления",delete_dashboard:"удаление панели управления",create_widget:"создание виджета",update_widget:"обновление виджета",delete_widget:"удаление виджета",create_filter:"создание фильтра",update_filter:"обновление фильтра",delete_filter:"удаление фильтра",update_item:"обновление элемента",create_user:"создание пользователя",start_import:"начало импорта",finish_import:"конец импорта",update_bts:"обновлено",delete_bts:"удалено",create_bts:"сконфигурировано",attach_issue:"прикрепленная ошибка",link_issue:"добавил ошибку",post_issue:"опубликовал ошибку",unlink_issue:"открепил ошибку",delete_issue:"удаленная ошибка",testItem:"элемент тестирования",delete_index:"обновлено",generate_index:"обновлено",update_project:"обновлено",update_defect:"обновлено",delete_defect:"удалено",defectTypes:"типы дефектов",defectType:"типы дефектов",casesLabel:"сценарии",nonPassedCases:"% непрошедших сценариев",testItemNotFound:". Элемент тестирования не найден",ofInvestigation:"% исследовать",ofProductBugs:"% дефектов продукта",ofSystemIssues:"% системных ошибок",ofAutoBugs:"% ошибок автоматизации",ofSwitching:"% переключений",ofSwitchingShort:"% перекл",ofIssues:"% ошибок",ofIssuesShort:"% ошб",switchingInExec:"Переключения",switchingInExecShort:"Перекл",issuesInExec:"Ошибок в запуске",issuesInExecShort:"Ошибок",basedOn:"На основе",productBugs:"Дефекты продукта",emailNotifications:"Уведомления по электронной почте",on_email:"сконфигурировано",off_email:"выключено",update_email:"обновлено",overallStatisticsPanel:"Общая статистика",overallStatisticsPanelDescription:"показывает сводку тестовых сценариев с каждым статусом в избранных запусках.",TestCasesStatisticsUniqueLaunches:"Статистика тестовых сценариев в уникальных запусках",failedTestCasesTable:"Таблица самых провальных тестовых <nobr>сценариев (ТОП-20)</nobr>",failedTestCasesTableDescription:"показывает топ-20 наиболее провальных тестовых сценариев в обозначенных предыдущих запусках.",uniqueBugsTable:"Таблица уникальных ошибок",uniqueBugsTableDescription:"показывает реальные распознанные ошибки, опубликованные в системе отслеживания ошибок, и существующих в ошибках СОО, загруженных на проект.",launchesTable:"Таблица запусков",launchesTableDescription:"показывает конфигурируемую таблицу запусков.",statisticsChart:"Диаграмма статистики запусков",statisticsChartDescription:'- в "Режиме запуска" показывает тенденцию роста количества тестовых сценариев с каждым выбранным статусом от прогона к прогону,<br> - в "Режиме графика" показывает сумму с распределением по датам.',comparisonChart:"Диаграмма сравнения разных запусков",comparisonChartDescription:"позволяет сравнить статистику за 2 последних запуска.",durationChart:"Диаграмма длительности запусков",durationChartDescription:"показывает длительность избранных запусков.",percentageOfLaunches:"Исследованный процент запусков",percentageOfLaunchesDescription:'- в "Режиме запуска" показывает, анализируются ли запуски (процент "Исследовано"/"Предстоит исследовать") от прогона к прогону,<br> - в "Режиме графика" показывает процент тестов в состоянии "Исследовано"/"Исследовать" во всех прогонах в день с распределением по датам.',nonPassedTrendChart:"Диаграмма тенденций непрошедших тестовых сценариев",nonPassedTrendChartDescription:"показывает процентное отношение непрошедших сценариев (Неудачно + Пропущено) к общему количеству сценариев от прогона к прогону.",growthTrendChart:"Диаграмма тенденции роста количества тестовых сценариев",growthTrendChartDescription:'- в "Режиме запуска показывает рост числа тестовых сценариев от прогона к прогону,<br> - в "Режиме графика" показывает рост количества тестовых сценариев с распределением по датам (в запусках с наибольшим количеством тестовых сценариев за день).',failedTrendChart:"Диаграмма тенденций неудачных сценариев",failedTrendChartDescription:"показывает тенденцию роста количества неудачных тестовых сценариев от прогона к прогону.",executionIssueStatistics:"Статистика выполнения и ошибок запусков",executionIssueStatisticsDescription:"показывает статистику последнего запуска, разделенную на 2 части:</br> - Пропущено, Прошло, Неудачно </br> - Ошибка продукта, Системная ошибка, Исследовать, Ошибка автоматизации.",projectActivityPanel:"Панель активностей проекта",projectActivityPanelDescription:"показывает все действия, производимые над проектом.",passingRatePerLaunchChart:"Процент пройденных тестов для одного запуска",passingRatePerLaunchChartDescription:"показывает процентное соотношение между пройденными тестами и их общим количеством для последнего запуска.",passingRateSummaryChart:"Процент пройденных тестов для выбранных запусков",passingRateSummaryChartDescription:"Показывает процентное соотношение между пройденными тестами и их общим количеством для выбранных запусков.",percentageOfInvestigationsChart:"Процент исследований",percentageOfProductBugsChart:"Процент дефектов продукта",productStatus:"Статус проекта",productStatusDescription:"Показывает настраиваемую таблицу, которая представляет статистику фильтра отдельно по запускам или сгрупированную статистику фильтра.",cumulativeTrendChart:"Собирательная диаграмма тенденций",cumulativeTrendChartDescription:"показывает тенденцию роста суммарной статистики запусков с одним и тем же префиксом тега.",flakyTestCasesTable:"Таблица самых изменчивых тестовых сценариев <nobr>(ТОП-20)</nobr>",flakyTestCasesTableDescription:"показывает ТОП-20 наиболее изменчивых тестовых сценариев в обозначенных предыдущих запусках.",mostTimeConsumingTestCases:"Таблица самых длительных тестовых сценариев  <nobr>(TOP-20)</nobr>",mostTimeConsumingTestCasesDescription:"показывает топ-20 наиболее длительных тестовых сценариев",launchStatisticsChart:"Статистика запусков",trendChart:"Диаграмма тенденций",lineChart:"Линейная диаграмма",panelMode:"В виде групп",chartMode:"Круговая диаграмма",barMode:"Гистограмма",tableMode:"Таблица",pieChartMode:"Круговая диаграмма",donutChartMode:"Круговая диаграмма",trendChartMode:"Trend view",areaChartMode:"Диаграмма области",defaultName:"Название шаблона виджета",defaultDescription:"Выберите шаблон виджета и отфильтруйте, чтобы воспроизвести данные - и вы увидите окошко предпросмотра справа",generalInfo:"Общая информация",launchesOwners:"Владельцы запусков",lastLaunchStats:"Статистика последнего запуска",launchStats:"Статистика запуска",percentageOfProductBugs:"Процент дефектов продукта",percentageOfSystemIssues:"Процент системных ошибок",percentageOfAutoBugs:"Процент ошибок тестов",pleaseUpdateWidget:'Пожалуйста, обновите виджет, сохранив его в <span class="rp-link" href="">Редактировать виджет</span>.',haveInvalidCriteria:"У вас есть <strong>%%% недопустимые $$$</strong> типы удаленных дефектов.",invalidCriteria:"Недопустимый критерий",criteria:"критерии",criterion:"критерий",saveWidgetDashboard:"Сохраните виджет на панели управления",launchName:"ИМЯ ЗАПУСКА",latestLaunches:"Последние запуски",allLaunches:"Все запуски",customColumn:"Кастомная колонка",columnName:"Имя колонки",tagPattern:"Паттерн тега",customColumnDiscl:"Вы можете добавить свою колонкук для просмотра тегов с выбранным префиксом тега",addCustomColumn:"+ Добавить колонку",groupLaunchesByFilter:"Групировать запуски по фильтру",launchesOnFilter:"Количество запусков в фильтре - ",selectWidget:"Выберите тип виджета из списка",launchInterrupted:"Прогон прерван",zoomWidgetArea:"Масштабирование виджета",aaConfig:"конфигурация Авто-Анализа",aaProperties:"параметры Авто-Анализа",update_analyzer:"обновлено",includeMethods:"Включая Before и After методы",status:"Статус",startTime:"Время начала"},userProfile:{userProfile:"Профиль пользователя",projectAndRoles:"Доступ к проекту",regenerateUUID:"Создать новый UUID",updateDataFromUPSA:"Обновить данные из UPSA",updateUserDataFrom:"Обновить данные из",reloginRequired:"требуется повторная авторизация",forceUpdate:"Обновить принудительно",infoSynchronized:"Информация для пользователя была успешно синхронизирована",UUID:"UUID",msgUUIDTop:"Чтобы обеспечить надежность вашего доменного пароля, вы можете использовать пользовательский опознавательный номер, называемый UUID, чтобы подтвердить, что ваша учетная запись может загружаться агентом.",msgUUIDMid:"Чтобы узнать больше, посетите страницу 'Параметры агента'",msgUUIDFoot:"Щелкните по значку, чтобы открыть страницу",msgRegenTop:'Если вы хотите обновить ваш UUID, шелкните "сгенерировать заново", чтобы получить новый.',msgRegenMid:"ВНИМАНИЕ!",msgRegenFoot:"Все настроенные агенты со старыми UUID не будут работать после этого",userConfig:"Настройки пользователя:",java:"Java",ruby:"Ruby",soapUI:"SoapUI",donNet:".NET",nodeJS:"nodeJS",editInfo:"Редактировать личную инфмормацию",enterOldPass:"Введите старый пароль",enterNewPass:"Введите новый пароль",confirmNewPass:"Подтвердите новый пароль",oldPass:"Старый пароль",newPass:"Новый пароль",enter:"Ввод",confirmPass:"Подтвердить",uploadPhoto:"Загрузить фото",removePhoto:"Удалить фото",userName:"Имя пользователя",email:"Электронный адрес",selectPhoto:"Выбрать фотографию",savePhoto:"Сохранить фотографию",rubyConfigTitle:"КОПИРУЙТЕ И СОХРАНИТЕ ЭТО КАК ФАЙЛ REPORT_PORTAL.YML",soapConfigTitle:"УСТАНОВИТЕ СЛЕДУЮЩИЕ СВОЙСТВА В СВОЙСТВАХ ПРОЕКТА ИЛИ УСТАНОВИТЕ ИХ КАК СИСТЕМНЫЕ ПЕРЕМЕННЫЕ",dotnetConfigTitle:"СЛЕДУЙТЕ ИНСТРУКЦИИ ПО УСТАНОВКЕ",nodeJSConfigTitle:"СЛЕДУЙТЕ СЛЕДУЮЩЕЙ",nodeJSConfigLink:"ИНСТРУКЦИИ",nodeJSConfigExample:"ДЛЯ ПРИМЕРА:",defaultConfigTitle:"СКОПИРУЙТЕ И СОХРАНИТЕ ЭТО КАК ФАЙЛ REPORTPORTAL.PROPERTIES",required:"ОБЯЗАТЕЛЬНЫЕ",notRequired:"НЕ ОБЯЗАТЕЛЬНЫЕ",personalInfo:"Личная информация",configExamples:"Примеры конфигурации",uuidTitle:"Универсальный уникальный идентификатор",regenerateBtn:"Создать новый",projectRole:"Проектная роль",oldClientComment:'<div class="comment"><p>Поддержка клиентских версий до 2.2.3 на <b>com.epam.ta.reportportal.ws.*</b> формат названий параметров.</p><p>Поддержка клиентских версий до 2.2.3 на <b>rp.*</b> и <b>com.epam.ta.reportportal.ws.*</b> формат названий параметров.</p><p>Пожалуйста, используйте новый формат названий, поскольку старые будут отклоняться.</p></div>',language:"Язык",english:"English (United States)",russian:"Русский",reloadPage:'Изменения вступят в силу если <a href="">обновить</a> страницу.<br>Русский язык находится в бета-версии. Пожалуйста помогите нам с переводом, отправьте Ваш ПР в <a target="blank" href ="https://github.com/reportportal/service-ui/blob/develop/src/main/resources/public/js/src/localizations/ru-RU.js">файл</a>.'},dashboard:{allDashboards:"Все панели управления",addNewDashboard:"Добавить новую панель управления",maxAdded:"Максимальное количество панелей управления было добавлено",dashboardShared:"Панель управления доступна",dashboardSharedBy:"Панель управления добавлена в доступ",dashboardName:"Название панели управления",namePlaceholder:"Введите название панели управления",descriptionPlaceholder:"Введите описание панели управления",shared:"Добавлена в доступ:",sharedSelect:"Выберите доступную панель управления",sharedNoFound:"Не найдено доступных панелей управления!",project:"Проект",dashboard:"Панель управления",noDashboard:"У вас нет панелей управления",noSharedDashboard:"Нет доступных панелей управления",noDashboardSearch:"Не найдено панелей управления для",checkQuery:"Проверьте ваш запрос и попытайтесь снова",dashboardEmpty:"Список панелей управления пуст!",clickToAdd:"Добавьте свою первую панель управления, чтобы проанализировать статистику",addDashboard:"Добавить панель управления",editDashboard:"редактировать панель управления",titleEditDashboard:"Щелкните, чтобы отредактировать название панели управления",removeDashboard:"Удалить панель управления",titleRemoveDashboard:"Щелкните, чтобы удалить панель управления",dashboardExists:"Эта панель управления уже добавлена на проект",addWidget:"Добавить виджет",exportTo:"Экспортировать",settingsButton:"Настройки",refresh:"Обновить",remove:"Удалить",addFilter:"Добавить фильтр",exitFullscreen:"Выйти из полноэкранного режима",fullscreen:"Полноэкранный режим",nextStep:"Следующий шаг",previousStep:"Предыдущий шаг",saveWidget:"Пожалуйста, сохраните свой фильтр, чтобы добавить виджет.",widgetEmpty:"Виджетов не найдено!",clickToAddWidget:"Щелкните кнопку 'Добавить виджет', чтобы создать виджет.",dashboardNotShared:"Владелец ограничил доступ к панели управления!",dashboardIsNotShared:"Владелец не предоставил доступ к панели управления!",deletedSharedDashboard:"Панель управления удалена владельцем!",noWidgetsInDashBoard:"Панель управления не содержит виджетов.",selectDashboard:"Выберите панель управления",firstDashboard:"Моя первая панель управления",autoCreated:"* Первая панель управления была создана автоматически",dashboardsEmpty:"Панелей управления не обнаружено! Щелкните кнопку 'Добавить новую панель управления', чтобы создать новую панель управления.",deletedByOwner:"Удалено владельцем",deletedDashboard:"Удаленная панель управления",myDashboards:"Мои панели управления",favoriteDashboards:"Избранные доступные панели управления",shareDashboardAs:"Поделиться панелью управления с ",createDashboard:"Создать панель управления",shareDashboard:"Доступная панель управления",shareDashboards:"Доступные панели управления",share:"Поделиться",sharedBy:"Панелью управления поделился",maxWidgetsAdded:"Количество виджетов достигло максимума",nameNewDashboard:"Введите название новой панели управления",tHeadTitleOwners:"Владельцы",tHeadTitleDashboardName:"Название панели управления",description:"Описание",dashboardEmptyHeader:"У вас нет виджетов на этой панели управления",notMyDashboardEmptyHeader:"На этой панели управления нет виджетов",dashboardEmptyText:"Добавьте первый виджет, чтобы проанализировать статистику",thShared:"Доступность",thDelete:"Удалить",thEdit:"Редактировать",thOwner:"Владелец",thDescription:"Описание",thName:"Имя панели управления"},favorites:{title:"Фильтры",favoriteFilters:"Избранные фильтры",sharedFilters:"Доступные фильтры",favoriteLinks:"Избранные ссылки",msgFavoriteFilters:"Фильтры - это поисковые запросы, которые были сохранены для повторного использования.",msgSharedFilters:"Фильтры, которыми с вами поделились на проекте.",msgFavoriteLinks:"Эта страница показывает все ваши избранные ссылки.",name:"Название: ",fName:"Название фильтра",fOptions:"Опции",fOwner:"Владелец",fShared:"Поделиться",fDisplayOnLaunches:"Отобразить на запусках",fDelete:"Удалить",addFilter:"Добавить фильтр",filterNotFound:"Фильтров не найдено!",linksNotFound:"Ссылок не найдено!",shareFilter:"Поделиться фильтром",unShareFilter:"Ограничить доступ к фильтру",namePlaceholder:"Название",sortedBy:" отсортировано по: ",addToTabs:"Добавить во вкладки запусков",removeFromTabs:"Удалить из вкладок запусков",total:"Все",or:"или",launchPage:"странице запусков",noAvailableFilters:"Нет доступных фильтров",createFilter:"Вы можете создать Ваш первый фильтр на "},launches:{listOfLaunches:"Список запусков",linkName:"Название ссылки",clickToSaveLink:"Щелкните, чтобы сохранить ссылку",openToHistory:"Откройте Open to history view",launchHash:"Запуск №",clickToSubmitComment:"Щелкните, чтобы отправить этот комментарий в систему отслеживания ошибок",selectDefectComent:"Пожалуйста, выберите тип дефекта или добавьте комментарий!",componentPlaseholder:"Компонент1, компонент2",ticketType:"Тип запроса:",priority:"Приоритет:",relatedIssue:"Связанная ошибка:",includeLogs:"Лог",includeComments:"Комментарий",includeAttachments:"Скриншоты",fillAllRequired:"Заполните все необходимые поля",credentialsSoft:"В случае незаполнения полей будут использованы учетные данные Report Portal",credentialsSoftTfs:"В случае незаполнения полей будут использованы учетные данные Windows",problemInteracting:"Ошибка, связанная со внешней системой. Проверьте внесенные данные",problemGeneral:"Возникла ошибка: ",forceFinish:"Принудительно завершить",finishWarning:" Вы уверены, что хотите завершить %%%? Все данные будут потеряны.",deleteWarning:"В случае удаления запуска все связанные с ним данные будут удалены. Вы уверены, что хотите удалить запуск",deleteItemWarning:"В случае удаления элемента тестирования все связанные с ним данные будут удалены. Вы уверены, что хотите удалить элемент тестирования",finishAgree:"Я уверен, что хочу завершить %%%",deleteAgree:"Я уверен, что хочу удалить %%%",deleteWarningAgree:"Вы собираетесь удалить %%% другого пользователя. Это может повлиять на информацию других пользователей на проекте.",finishOneLaunch:"Вы собираетесь остановить запуск другого пользователя. Это может повлиять на информацию других пользователей на проекте.",finishSelectedLaunch:"Вы собираетесь остановить запуски других пользователей. Это может повлиять на информацию других пользователей на проекте.",errorItem:"Ошибочный элемент",jiraCredentials:"Учетные данные Jira",tfsCredentials:"Учетные данные TFS",rallyCredentials:"Учетные данные Rally:",userName:"Имя пользователя",password:"Пароль",owner:"Владелец",includeData:"Включить данные",willBePostedTo:"Ошибка будет отправлена в",willBeLoadedTo:"Ошибка будет загружена в",noItemsInside:"Внутри нет данных",notYourOwnLaunch:"Запуск был создан не Вами",actionTitle:"Выберите несколько элементов для обработки",multiSelectError:"Вы не можете выполнить операцию с недействительными элементами",proceedValidItems:"Обработать действительные элементы",editDefects:"Редактировать дефекты",deleteBulk:"Удалить тестовые элементы группой",bredcrumbsLostLaunch:"Первоначальный запуск был утерян",bredcrumbsLostLaunchRestore:"Восстановить путь",issueTitle:"Название ошибки",components:"Компоненты:",summarizeIssue:"Обобщите название ошибки:",shiftToLaunches:"Перейти ко всем запускам",shiftToDebug:"Перейти к отладке",addToDashboard:"Добавить на панель управления",postIssue:"Отправить ошибку",postBug:"Отправить ошибку",postBugTo:"Отправить ошибку в",linkIssue:"Прикрепить ошибку",unlinkIssue:"Открепить ошибку",addIssueId:"Добавить ID ошибки",copyDefect:"Копировать дефект",sendDefect:"Отправить дефект",key:"Кнопка Ошибки (для множественных вариантов - наберите ID ошибки и нажмите Ввод)",configureTBS:"Настройте Систему oтслеживания oшибок на отправку ошибок",configureTBSLoad:"Настройте Систему oтслеживания oшибок на загрузку ошибок",noIssues:"Вы не можете отправить ошибку, если элемент не имеет дефекта",noIssuesLoad:"Вы не можете прикрепить ошибку, если элемент не имеет дефекта",noIssueTicket:"У элемента нет прикрепленной ошибки",historyView:"История",skippedDuration:"ПРОПУЩЕНО. Длительность: ",stoppedDuration:"Прогон ОСТАНОВЛЕН после:",interruptedDuration:"Прогон ПРЕРВАН после:",inProcessAndEndedDuration:"Неправильный статус: 'В процессе' со временем окончания",notInProcessNotEndedDuration:"Неправильный статус: элемент не 'В процессе', но не имеет времени окончания",inProcess:"В процессе",prefixDuration:"Длительность: ",finishTime:"  Время окончания: ",prefixRunInterrupted:"Прогон ПРЕРВАН после: ",stoppedAt:". Остановлен в: ",prefixStartTime:"Время начала: ",prefixStatus:"Состояние: ",methodTypeTest:"Тест",methodTypeTestClass:"",youAreEditing:"Вы редактируете ",objects:" объекты",Compare:"Сравнить",clickToCompare:"Щелкните по элементу в таблице, чтобы выбрать его для сравнения!",compareLaunches:"Сравните запуски",inProgress:"В процессе",merge:"Объединить",linearMerge:"Линейное объединение",deepMerge:"Полное объединение",mergeLaunches:"Объединить запуски",mergeLaunchesModalTitle:"Все выбранные запуски будут объединены в один",mergeLaunchesSelectTypeTitle:"ВЫБЕРИТЕ ТИП ОБЪЕДИНЕНИЯ",clickToLoadMore:"Щелкните здесь, чтобы загрузить больше элементов",clickToMerge:"Щелкните на два или более запусков в таблице, чтобы выбрать их для объединения!",filterIsShared:"Фильтр доступен",filterIsSharedByOtherUser:"Фильтр предоставлен другим пользователем",launchEditor:"Редактор запусков",launchName:"Название запуска",launchNumber:"Номер запуска",disclaimerChangeDescription:"Изменение описания и меток может повлиять на ваши результаты фильтрования, виджеты, тенденции","export":"Экспортировать",itemName:"Название элемента тестирования",extendWithOriginal:"Развернуть описание дочерних наборов с названием оригинального запуска (напр. @запуск 'Запуск №1')",launchNotInProgress:"Запуск не должен быть в состоянии В ПРОЦЕССЕ!",launchIsProcessing:"Запуск не должен обрабатываться автоанализатором!",forbiddenIsProcessing:"Обновление элемента тестирования запрещено для запуска с работающим автоанализатором",replaceComments:"Замените комментарии на все выбранные элементы",noLaunchFound:"Запуск не найден",noItemFound:"Элемент не найден",originalLaunchLost:"Исходный запуск утерян",showPreconditionMethods:"Свернуть прекондиционные методы",hidePreconditionMethods:"Развернуть прекондиционные методы",approximateTimeLeft:"~%%% осталось",approximateTimeLessMin:"<1 мин осталось",approximateTimeExpected:"Среднее время выполнения -",approximateTimeOverLap:"текущее наложение -",launchFinished:"Запуск уже завершен",launchIsDeleting:"Запуск - в процессе удаления!",noItemInLaunch:"Нет элементов<br> в запуске",emptyItem:"Элемент пуст",severalItems:"Существует несколько элементов с одинаковым значением UID.",multipleSelectHeader:"ВЫ МОЖЕТЕ ВЫПОЛНЯТЬ ДЕЙСТВИЯ С ВЫБРАННЫМИ ЭЛЕМЕНТАМИ:",selectMoreItem:"Вам надо выбрать более одного элемента",interruptImportWarning:"Вы действительно уверены, что хотите прекратить процесс импорта?",approvalInterruptImportWarning:"Подтвердить отмену импорта",latestLaunches:"Последние запуски",latestLaunches_short:"Последние",allLaunches:"Все запуски",allLaunches_short:"Все",noFilter:"ФИЛЬТР НЕ ВЫБРАН",launchPassed:"Успешно",launchFailed:"Неудачно",launchSkipped:"Пропущено",issueLink:"Введите ссылку на ошибку",issueId:"Введите ID ошибки",retries:"попыток",rtr:"попыток",aaBadgeTooltip:"Проанализировано Авто-Анализом",withAA:'C "AA" меткой',withoutAA:'Без "AA" метки',withIgnoreAA:'C "Игнорировать AA" меткой',withoutIgnoreAA:'Без "Игнорировать AA" метки',ignoreAA:"Игнорировать при Авто-Анализе",ignoreAAShort:"Игнорировать АА",includeAA:"Включить в Авто-Анализ",ignoreAutoanalyzerTooltip:"Игнорировать элемент при Авто-Анализе",noAnalyzer:"Нет включенных анализаторов",alreadyIgnoredAA:"Элемент уже игнорируется Авто-Анализом",alreadyIncludedAA:"Элемент уже включен в Авто-Анализ",withoutDefect:"Элемент не имеет дефекта",linkedBug:"Ошибка в СОД",noLinkedBug:"Нет ошибки в СОД"},forSettings:{hour1:"1 час",hour3:"3 часа",hour6:"6 часов",hour12:"12 часов",day1:"1 день",week1:"1 неделя",week2:"2 недели",week3:"3 недели",month1:"1 месяц",month3:"3 месяца",month6:"6 месяцев",forever:"Бессрочно"},launchStatus:{ALL:"Все",FAILED:"Неудачно",PASSED:"Успешно",STOPPED:"Остановлено",SKIPPED:"Пропущено",INTERRUPTED:"Прервано",IN_PROGRESS:"В процессе"},testStatus:{FAILED:"НЕУДАЧНО",PASSED:"УСПЕШНО",STOPPED:"ОСТАНОВЛЕНО",SKIPPED:"ПРОПУЩЕНО",INTERRUPTED:"ПРЕРВАНО",IN_PROGRESS:"В ПРОЦЕССЕ",RESETED:"RESETED"},historyLine:{tooltips:{FAILED:"Неудачно",PASSED:"Успешно",STOPPED:"Остановлено",SKIPPED:"Пропущено",INTERRUPTED:"Прервано",IN_PROGRESS:"В процессе",MANY:"Существует несколько элементов с одинаковым значением UID.",NOT_FOUND:"Нет элементов в запуске",RESETED:"Нет элементов в запуске"}},infoLine:{product_bug:"Дефекты Продукта",automation_bug:"Ошибки Теста",system_issue:"Системные Ошибки",to_investigate:"To Investigate",no_defect:"Без Дефектов",total:"Всего"},testTableMethodTypes:{ALL:"Все",TEST:"Тестовый класс",STEP:"Тест",AFTER_CLASS:"Пост-класс",BEFORE_CLASS:"Пред-класс",BEFORE_METHOD:"Пре-метод",AFTER_METHOD:"Пост-метод",AFTER_GROUPS:"Пост-группы",BEFORE_GROUPS:"Пред-группы",BEFORE_SUITE:"Пред-набор",AFTER_SUITE:"Пост-набор",AFTER_TEST:"Пост-тест",BEFORE_TEST:"Пред-тест"},filterNameById:{statistics$executions$total:"Всего",statistics$executions$passed:"Успешно",statistics$executions$failed:"Неудачно",statistics$executions$skipped:"Пропущено",statistics$defects$product_bug:"Product Bug",statistics$defects$automation_bug:"Automation Bug",statistics$defects$system_issue:"System Issue",statistics$defects$to_investigate:"To Investigate",statistics$defects$no_defect:"No Defect",statistics$defects$product_bug$total:"Всего ДП",statistics$defects$automation_bug$total:"Всего ОТ",statistics$defects$system_issue$total:"Всего СО",statistics$defects$to_investigate$total:"ТА",statistics$defects$no_defect$total:"Всего БД",product_bug:"Дефект Продукта",automation_bug:"Ошибка Теста",system_issue:"Системная Ошибка",to_investigate:"Требует Анализа",no_defect:"Без Дефектов",tags:"Метки",start_time:"Время начала",end_time:"Время окончания",message:"Сообщение",description:"Описание",name:"Имя запуска",itemName:"Имя элемента тестирования",level:"Уровень логов",time:"Временной диапазон",issue$issue_comment:"Комментарий о дефекте",issue$issue_type:"Тип дефекта",status:"Статус",type:"Тип метода",history_depth:"Глубина истории",user:"Владелец",issue$auto_analyzed:"AA",issue$ignore_analyzer:"Игнорировать в AA",issue$externalSystemIssues$ticket_id:"Опубликовано в СОД",number:"Номер запуска"},filterNamePluralById:{product_bug:"Дефекты Продукта",automation_bug:"Ошибки Теста",system_issue:"Системные Ошибки",to_investigate:"Требуется Анализ",no_defect:"Без Дефектов"},filterNameByValue:{ALL:"Все",PASSED:"Успешно",FAILED:"Неудачно",SKIPPED:"Пропущено",TO_INVESTIGATE:"Требует анализа",NO_DEFECT:"Без дефектов",PRODUCT_BUGS:"Дефект продукта",AUTOMATION_BUGS:"Ошибка теста",inProgress:"В процессе",SYSTEM_ISSUE:"Системная ошибка",TRACE:"Отследить",DEBUG:"Наладить",INFO:"Инфо",WARN:"Предупредить",ERROR:"Ошибка",Screenshot:"Приложение"},projectEvents:{tableHeaders:{time:"Время",time_short:"Время",user:"Пользователь",user_short:"Пользователь",action:"Действие",action_short:"Действ",objectType:"Тип объекта",objectType_short:"Тип объекта",objectName:"Имя объекта",objectName_short:"Имя объекта",oldVal:"Старое значение",oldVal_short:"Стар знач",newVal:"Новое значение",newVal_short:"Нов знач"},eventTypes:{all:"Все",create_dashboard:"Создание панели управления",update_dashboard:"Обновление панели управления",delete_dashboard:"Удаление панели управления",create_widget:"Создание виджета",update_widget:"Обновление виджета",delete_widget:"Удаление виджета",create_filter:"Создание фильтра",update_filter:"Обновление фильтра",delete_filter:"Удаление фильтра",update_defect:"Обновление дефекта",delete_defect:"Удаление дефекта",create_bts:"Создание СОО",update_bts:"Обновление СОО",delete_bts:"Удаление СОО",start_launch:"Старт запуска",finish_launch:"Финиш запуска",delete_launch:"Удаление запуска",update_project:"Обновление проекта",post_issue:"Публикация ошибки",link_issue:"Добавление ошибки",link_issue_aa:"Добавление ошибки АА",unlink_issue:"Открепление ошибки",update_item:"Обновление элемента",create_user:"Создание пользователя",start_import:"Начало импорта",finish_import:"Окончание импорта",analyze_item:"АА изменил тип дефекта",generate_index:"Генерация индекса",delete_index:"Удаление индекса",update_analyzer:"Обновление Авто-Анализа"},objectTypes:{all:"Все",project:"Проект",defect_type:"Тип дефекта",testItem:"Элемент тестирования",launch:"Запуск",externalSystem:"Внешняя системы",dashboard:"Панель управления",user:"Пользователь",widget:"Виджет",userFilter:"Фильтр"}},launchesHeaders:{start_time:"Время начала",start_time_short:"Начало",end_time:"Время окончания",name:"Имя",name_short:"Имя",duration:"Время",duration_short:"Время",total:"Всего",total_short:"Всего",passed:"Успешно",passed_short:"Усп",failed:"Неудачно",failed_short:"Неудачно",skipped:"Пропущено",skipped_short:"Проп",product_bug:"Product Bug",product_bug_short:"Дефект Продукта",product_bug_super_short:"ДП",auto_bug:"Ошибка Теста",automation_bug:"Automation Bug",automation_bug_short:"Ошибка Теста",automation_bug_super_short:"ОТ",system_issue:"System Issue",system_issue_short:"Системная Ошибка",system_issue_super_short:"СО",to_investigate:"To Investigate",to_investigate_short:"ТА",to_investigate_super_short:"ТА",investigated:"Проанализировано",no_defect:"No Defect",type:"Тип метода",type_short:"Тип метода",status:"Статус",status_short:"Статус",issue:"Тип дефекта",issue_short:"Тип дефекта",time:"Время",time_short:"Время",message:"Coдержание лога",message_short:"Coдержание лога",attachment:"Приложение",attachment_short:"Прил",passing_rate:"Passing Rate",filter_name:"Имя фильтра",interruptedAfter:"Прогон ПРЕРВАН после:",stoppedAt:"Остановлено в:",durationSpecific:"Длительность - это интервал между началом первого подпрогона и окончанием последнего подпрогона. Но если подпрогоны происходят параллельно, время окончания - это окончание наиболее длительного подпрогона, в этом случае длительность не будет равна сумме длительностей подпрогонов."},launchLogItem:{stackTrace:"трассировка стека",attachments:"вложения",itemDetails:"описание элемента",historyOfActions:"история действий",parametres:"параметры"},statisticsPanel:{productBug:"Дефекты продукта",testBug:"Ошибки теста",systemIssue:"Системные ошибки",toInvestigate:"Требуется анализ"},logs:{noLogsFound:"Записей журнала не найдено",openFile:"Открыть файл в новом окне",logLevel:"Уровень логов",ticketNotFound:"Ошибки не обнаружено:",ticketStatusProblem:"Ошибка не существует или нет связи со внешней системой",summary:"Сводка:",status:"Статус:",prevTestItem:"Предыдущий элемент тестирования",nextTestItem:"Следующий элемент тестирования",filterAttachments:"Логи с вложениями",notFoundActivity:"Нет действий для отображения",notFoundAttachments:"Нет вложений для отображения",notFoundParametres:"Нет параметров для отображения",notFoundStackTrace:"Нет трассировки стека для отображения",goToLog:"Перейдите к трассировке стека в записи журнала",nextError:"Следующая ошибка",consoleView:"Консольный вид",harFileError:'Ваш браузер не поддерживает плагин для отображения файлов с расширением .har. Вы можете скачать файл по <a target="_blank" href="%%%">ссылке</a>.'},defectNameById:{TO_INVESTIGATE:"Требуется анализ",PRODUCT_BUG:"Дефект продукта",AUTOMATION_BUG:"Ошибка теста",SYSTEM_ISSUE:"Системная ошибка",NO_DEFECT:"Без дефектов"},defectShortCutById:{TO_INVESTIGATE:"ТА",PRODUCT_BUG:"ДП",AUTOMATION_BUG:"ОТ",SYSTEM_ISSUE:"СО",NO_DEFECT:"БД"},filterConditions:{eq:"равняется","!eq":"не равняется",ne:"не равняется",cnt:"содержит","!cnt":"не содержит",and:"и",has:"все","!has":"без любого","in":"любой","!in":"без всех",or:"или",gte:"больше или равно",lte:"меньше или равно"},filterShortCut:{eq:"рав","!eq":"нрв",ne:"нсд",cnt:"сд","!cnt":"нсд",and:"и",has:"все","!has":"!люб","in":"люб","!in":"!все",or:"или",gte:"&ge;",lte:"&le;"},filters:{moreCriteria:"Больше критериев",toSaveText:"Примените любой фильтр, чтобы сохранить фильтр в избранное",tabIsUnsaved:"Вкладка содержит несохраненные изменения",enterFilterName:"Введите новое имя фильтра",more:"Еще",all:"Все",name:"Имя:",shared:"Предоставлен:",noInfoFilter:"Нет информации, соответствующей этому фильтру",notSaveDescription:"Фильтр не сохранен",sharedBy:"Фильтр предоставлен",sharedDescription:"Фильтр предоставлен",globalDescription:"Фильтр предоставлен другим пользователем",hideCriteria:"Спрятать критерии",showCriteria:"Показать критерии",timeRangeToday:"Сегодня",timeRangeLast2Days:"За 2 дня",timeRangeLast7Days:"За 7 дней",timeRangeLast30Days:"За 30 дней",timeCustomRange:"За выбранный период",any:"Любое",dynamicUpdate:"Динамическое обновление",launchName:"Имя запуска",launchNumber:"Номер запуска",suiteName:"Имя набора",testName:"Имя теста",refine:"УТОЧНИТЬ:"},filter:{name:"Имя",namePlaceholder:"Ввести имя фильтра",share:"Поделиться",description:"Описание",descriptionPlaceholder:"Введите описание фильтра",edit:"Редактировать фильтр",addNew:"Добавить новый фильтр",filterName:"Имя фильтра"},project:{newProject:"Новый проект",sureToRemove:"Вы уверены, что вы хотите удалить участника ",userAccess:"Пользователи с доступом к",newMember:"Новый участник проекта",addMember:"Добавить участника проекта",assignMember:"Назначить участника",assignMemberToProject:"Назначить участника на проект",aboutPermissions:"Прочитать больше о проектных правах",openPermissionsMap:"Щелкнуть, чтобы открыть Карту прав",permissionsMap:"Карта прав",projectMembers:"Участники проекта",proposedRole:"Предлагаемая роль",projectRole:"Проектная роль",unAssign:"Отменить назначение",removeUser:"Удалить пользователя из команды",unassignMember:"Отменить назначение - удалить пользователя из команды",settings:"Настройки",settingsFor:"Настройки для",name:"Имя",launchesNames:"Имена запусков",selectTags:"Избранные метки",selectLaunchNames:"Избранные имена запусков",toolset:"Проектный инструментарий:",specificProject:"Добавьте контроль управления в соответствии со спецификой проекта",launchTimeout:"Время бездействия запуска",scheduleForInterupt:"Назначьте рабочее время, чтобы прервать неактивные запуски",keepLogs:"Сохранять записи в журнале",howKeepLogs:"Сколько времени сохранять старые записи журнала в запусках. Соответствующие запуски будут сохраняться, чтобы не утратить статистику",keepScreen:"Сохранять скриншоты",howKeepScreen:"Сколько времени сохранять скриншоты в системе",strategyRegular:"Обычная",strategyBdd:"BDD",bts:"Система oтслеживания oшибок",properties:"Свойства",linkBts:"Ссылка на систему oтслеживания oшибок",forExample:"например,",oauthToken:"Авторизационные токены OAuth",projectNameBts:"Имя проекта в системе oтслеживания oшибок",propIssueForm:"Свойства по умолчанию для формы ошибок",components:"Компоненты",issueComponents:"Компоненты, связанные с ошибкой, разделенные запятой",ticketType:"Тип запроса",defaultPriority:"Приоритет по умолчанию",autoAnalysis:"Автоматический анализ",autoAnalysisOnOff:"<p>При ВКЛ анализ начинается, как только заканчивается любой запуск.</p> <p>При ВЫКЛ не начнется автоматически, но можно вызвать вручную</p>",autoAnalysisBase:"Стратегия авто Анализа",autoAnalysisBaseFirstOpt:"Все запуски",autoAnalysisBaseSecondOpt:"Запуски с одинаковыми именами",autoAnalysisBaseThirdOpt:"Только текущий запуск",autoAnalysisBaseFourthOpt:"Элементы требующие анализа",autoAnalysisBaseFifthOpt:"Элементы проанализированные автоматически (АА)",autoAnalysisBaseSixthOpt:"Элементы проанализированные вручную",autoAnalysisBaseFirstTip:"Тестовые элементы будут проанализированы на основе ранее проанализированных данных в запусках с одинаковыми именами",autoAnalysisBaseSecondTip:"Тестовые элементы будут проанализированы на основе ранее проанализированных данных во всех запусках",emailNotifications:"Оповещения по электронной почте",emailRecipients:"Получатели",duplicateEmailCase:"Такое правило опощещений уже существует. Нельзя создать такое же.",emailInCase:"В случае",rule:"ПРАВИЛО",deleteRule:"Удалить ПРАВИЛО",onTheFly:"Автоанализировать на лету",onTheFlyDescription:"Если выбрано - каждый элемент тестирования будет проанализирован сразу после завершения.",from:"От",addRule:"Добавить новое правило",launchOwner:"Владелец запуска",launchOwnerDescription:"Владелец запуска (кто запускал, тот получил)",sendNotification:"Отправлять почтовые оповещения о завершенных запусках",notFoundRecipients:"Пользователя не существует. Пожалуйста, проверьте введенные данные.",invalidRecipients:"Пожалуйста, выберите хотя бы одного получателя",sendLaunchNames:"Отправлять почтовые уведомления о завершении выбранных запусков",sendTags:"Отправлять уведомления о запусках, содержащих обозначенные метки",incorectEmail:"Пожалуйста, введите правильный электронный адрес",incorectTags:"Пожалуйста, введите правильные метки",enterRecipients:"Выберите участников команды",generalTab:"Общее",notificationsTab:"Уведомления",btsTab:"Система отслеживания ошибок",demoDataSettings:"Демо-данные",generateDemoData:"Сгенерировать демо-данные",generateDemoDataTitle:"система сгенерирует следующие демо-данные:",generateDemoDataLaunches:"10 запусков",generateDemoDataDashboard:"1 панель управления с 9 виджетами",generateDemoDataFilter:"1 фильтр",postfixLabel:"Постфикс будет добавлен к демо-панели управления, виджетам, названию фильтра",removeDemoData:"Вам придется удалить демо-данные вручную.",postfixPlaceHolder:"Введите постфикс",posfixUniq:"Постфикс уже используется или не соответствует уже существующим данным. Пожалуйста, используйте другой постфикс",generationDataInProgress:"Генерирование данных началось. Процесс может занять несколько минут, пожалуйста, подождите.",generateDataMobile:"Вы можете генерировать данные только в компьютерном виде приложения.",beta:"бета",aboutinfo:"Детальная информация о проекте",unableLoadData:"Невозможно загрузить данные",defectTypes:"Типы дефектов",nav:{defectName:"Имя дефекта",abbreviation:"Аббревиатура",color:"Цвет",diagram:"Диаграмма"},titleGroup:{titleProductBug:"Группа дефектов продукта",titleSystemIssue:"Группа системных ошибок",titleAutomationBug:"Группа ошибок тестов",titleNoDefect:"Группа без дефектов",titleToInvestigate:"Требуется анализ"},noDefect:"Без дефектов",systemIssue:"Системная ошибка",productBug:"Дефект продукта",toInvestigate:"Требуется анализ",automationBug:"Ошибка теста",addSubType:"Добавить подтип",addSubTypeShort:"Добавить",canBeAdded:"подтипов можно добавить",limitReached:"Все 10 подтипов уже добавлены",inputValLongName:"Название подтипа",inputValShortName:"Аббревиатура",ExplChosenColors:"Пример выбранных цветов",LinkResetToDefaultColors:"Вернуть цвета по умолчанию",ruleDeleted:"Правило будет удалено после отправки",noCustomDefectsWereAdded:"Не было добавлено пользовательских дефектов",noCustomColors:"Нет цветов для обновления",autoAnalysisSettings:"Авто-анализ",autoAnalysisMode:"Точность Авто-Анализа",autoAnalysisMinDocFreq:"Minimum document frequency",autoAnalysisMinTermFreq:"Minimum term frequency",autoAnalysisMinShouldMatch:"Minimum should match",autoAnalysisNumberOfLog:"Количество строк журнала",moderateMode:"Средний",classicMode:"Классический",lightMode:"Мягкий",matchDescription:"Процент совпадения слов между анализируемым логом и логом, сохраненным в ElasticSearch. Логи из ElasticSearch c процентом ниже установленного будут игнорировать в Авто-Анализе.",docFreqDescription:"Установите минимальную частоту сохраненных логов в ElasticSearch (Индекс), в которых должно употребляться слово из анализируемого лога. Если количество логов ниже указанного значения, данное слово будет игнорироваться в Авто-Анализе. Чем чаще оно употребляется в Индексе, тем меньше значения оказывает на результаты Авто-Анализа.",termFreqDescription:"Установите минимальную частоту слова в анализируемом логе. Если количество слов ниже указанного значения, это слово будет игнорироваться в Авто-Анализе. Чем чаще оно употребляется в анализируемом логе, тем больше значение оказывает на результаты Авто-Анализа.",strNumberDescription:"Количество первых строк лога, которые будут учитываться при Авто-Анализе.",indexActions:"Действия с индексом",removeIndex:"Удалить индекс",removeIndexDescription:"Вся информация будет удалена из ElasticSearch. Для генерации данных заново Вы можете начать анализировать тестовые результаты вручную или сгенерировать данные автоматически",removeIndexConfirm:"Вы уверены, что хотите удалить всю информацию из ElasticSearch?",generateIndex:"Сгенерировать индекс",generateIndexDescription:"Вся информация будет удалена из ElasticSearch и сгенерирована заново, на основании проанализированных данных на Вашем проекте с учетом действующих настроек Авто-Анализа. Вы сможете запустить Авто-Анализ после окончания процесса, о котором будете уведомлены письмом по электронной почте",generateIndexConfirm:"Вы уверены, что хотите заново сгенерировать индекс в ElasticSearch? ",noteText:"По окончанию процесса Вы получите письмо по электронной почте.",indexInProgress:"В прогрессе...",noAutoAnalysisService:"Сервис ANALYZER не запущен"},bts:{oAuthToken:"Токены OAuth",apiKey:"ApiKey",selectType:"Типы ошибок, доступные на сервере",defaultProperties:"Свойства по умолчанию для формы ошибок",fieldsReset:"! Свойства по умолчанию для ошибки будут переустановлены",showFields:"Показать поля",defaultValue:"Значение по умолчанию",errorInteracting:"Ошибка взаимодействия со внешней системой. Проверьте введенные данные",errorCredentials:"Авторизационные данные неверны. Проверьте введенные данные",projectNotFound:"Проект %%% не найден. Проверьте введенные данные",authorizationType:"Тип авторизации",linkTo:"Ссылка на СОД",projectName:"Имя проекта в СОД",projectId:"ID проекта в СОД",userName:"Имя пользователя в СОД",password:"Пароль в СОД",domain:"Домен",removeProject:"Удалить проект",projectNameIn:"Имя проекта",tbsChangeWarning:"Внимание! Если вы сконфигурируете новые настройки системы, текущий проект будет сброшен!",configureFields:"Сконфигурируйте свойства системы oтслеживания oшибок по умолчанию, чтобы отправлять ошибки",issueId:"ID ошибки",linkToIssue:"Ссылка на ошибку",addNewIssues:"Добавить новые ошибки",addNewIssue:"Добавить новую ошибку",btsInstances:"Серверы СОД:",btsAddNewInstance:"Добавить новый сервер",btsNotFound:"Чтобы сконфигурировать систему отслеживания ошибок, пожалуйста, приведите в действие подходящий микросервис",always:"Всегда",launchHasInvestigate:"Запуск имеет элементы требующие анализа",launchHasIssue:"Запуск содержит ошибки",more10:"> 10% элементов содержат ошибки",more20:"> 20% элементов содержат ошибки",more50:"> 50% элементов содержат ошибки"},admin:{privileges:"Администратор имеет все привилегии согласно карте прав",managementBoard:"Управление",users:"Все пользователи",settings:"Настройки",serverSettings:"Настройки сервера",emailSettings:"Почтовый сервер",authSettings:"Настройки авторизации",statisticsSettings:"Статистика",host:"Хост",port:"Порт",username:"Имя пользователя",password:"Пароль",authorization:"Авторизация",protocol:"Протокол",addUser:"Добавить пользователя",inviteUser:"Пригласить пользователя",projects:"Проекты",addProject:"Добавить проект",addNewProject:"Добавить новый проект",addProjectTitle:"Назначить проект участнику",activeProjects:"Активные проекты",notActiveProjects:"Неактивные проекты",noProjectsFound:"Не найдено проектов для",newProject:"новый",usersQuantity:"участник(а/ов)",usersQuantitySingular:"участник",launchesQuantity:"запуск(а/ов)",launchesQuantitySingular:"запуск",lastRunPrefix:" прогон",lastRunSuffix:"0 дней назад",lastRunMobile:"Последний запуск",goToProject:"Открыть",assignToProject:"Назначить меня",backToProject:"Назад к проекту",search:"Поиск",lastLogin:"Последний вход",projectsRoles:"Проекты и роли",deleteUser:"Удалить пользователя",deleteOwnUser:"Вы не можете удалить свою учетную запись",viewProjects:"Просмотреть проекты и роли",addNewUser:"Добавить нового пользователя",inviteNewUser:"Пригласить пользователя на проект",configPage:" страница настроек проекта",projectEvents:"События",projectMembers:"Участники",enterProjectName:"Введите название проекта",assigned:"Назначено",add:"Добавить",invite:"Пригласить",assign:"Назначить",sortBy:"Отсортировать по",selectCriteria:"Выбрать критерии",creationDate:"Дата создания",name:"Имя",lastLaunchDate:"Дата последнего запуска",actions:"Действия",projectName:"Имя проекта",projectRole:"Проектная роль",cantUnAssignFromDefault:"Нельзя вывести пользователя из Проекта_по_Умолчанию",cantUnAssignFromPersonal:"Нельзя вывести пользователя из Персонального проекта",kpi:"KPI",projectTitle:"Просмотреть подробную информацию",projectDetailsTitle:"Просмотреть подробную информацию о проекте ",generalInfo:"Общая информация",launchesOwners:"Владельцы запусков",memberName:"Имя участника",numberOfLaunches:"Количество запусков",launches:" запуск(а/ов)",launch:" запуск",members:"участники",launchesAverage:"среднее количество запусков в неделю",launchesAverageSingular:"среднее количество запусков в неделю",uniqueBugs:"отправлена уникальная ошибка",noLaunchesPerformed:"В выбранный период не было выполнено ни одного запуска",titleAllProjects:"Все проекты",titleMembers:"Участники",titleSettings:"Настройки",titleEvents:"События",internalProjects:"Внутренние проекты",personalProjects:"Персональные проекты",searchByName:"Поиск по названию",TLS:"TLS",SSL:"SSL",emailError:"Не удалось установить тестовое соединение:",addUserProject:"Добавить пользователя на проект",enableEmailServer:"Включить почтовый сервер",enableGuestAccount:"Включить гостевую учетную запись",activateGitHubAuth:"Авторизация в GitHub",activateActiveDirectoryAuth:"Авторизация в Активной директории",activateLdapAuth:"Авторизация в LDAP",gitHub:"github",activeDirectory:"активная директория",ldap:"ldap",domain:"Домен",url:"URL",photo:"Свойство фото",baseDN:"Base DN",email:"Свойство Email",fullName:"Full Name Attribute",userDnPattern:"User DN Pattern",userSearchFilter:"User Search Filter",groupSearchBase:"Group Search Base",groupSearchFilter:"Group Search Filter",passwordAttribute:"Password Attribute",managerDn:"Manager DN",managerPassword:"Manager Password",passwordEncoderType:"Password Encoder Type",noPasswordEncoder:"NO PASSWORD",gitHubClientId:"ID клиента",gitHubClientSecret:"Секрет клиента",gitHubOrgName:"Название организации",addGitHubOrg:"Добавить организацию GitHub",emailSender:"Имя отправителя по умолчанию",sendStatisticsSwitcher:"Помогите нам сделать ReportPortal лучше с помощью автоматической отправки статистики",statisticsListToogler:"Список отправленной статистики",statisticsMessage:'Вы можете помочь нам улучшить ReportPortal, выбирая "отправить статистику использования. Пока вы будете пользоваться приложением, мы будем собирать данные, которые могуть помочь нам повысить эффективность и удобство использования ReportPortal путем отслеживания частоты использования определенных функций. Ниже - подробнее о том, какая информация отправляется.',statisticsListMessage:"Отчеты о статистике использования обычно не включают личную информацию, но в них может входить:",statisticsPoint1:"Информация об устройстве: модель вашего оборудования, версия операционной системы, разрешение экрана, версия браузера;",statisticsPoint2:"Информация о журнале: подробности вашего использования ReportPortal, на что вы нажимаете и какие действия производите, как долго держите приложение открытым.",month1:"1 месяц",month3:"3 mесяца",month6:"6 месяцев"},registration:{caption:"Старт займет всего пару минут",failCaption:'<span class="big">Увы,</span><br> это приглашение устарело или уже используется',welcomeMsg:'<span class="big">Добро пожаловать,</span><br> заполните форму регистрации',loginHint:"символы 1-128, латинские буквы, цифры, знаки: дефис, нижнее подчеркивание",nameHint:"символы 3-256, латинские буквы, русские буквы, цифры, знаки: дефис, нижнее подчеркивание, точка, пробел",passwordHint:"символы 4-25"},members:{projectMembers:"Участники проекта",registration:"Регистрация",completeToRegister:"Заполните форму, чтобы зарегистрироваться на Report Portal",title:"Участники",addMember:"Добавить пользователя",inviteMember:"Пригласить пользователя",addMemberToProject:"Добавить нового пользователя на проект",inviteMemberToProject:"Пригласить нового участника на проект",backToMembers:"Назад к участникам",expired:"Это приглашение устарело или уже используется",startWork:"чтобы начать работу с Report Portal",successAddUser:"Новая запись пользователя создана успешно",viewEmail:"Посмотреть адрес электронной почты",nameLoginEmail:"Имя, логин, адрес электронной почты",searchNameLogin:"Искать по имени, логину",searchNameLoginEmail:"Искать по имени, логину, адресу электронной почты",searchName:"Искать по имени",unAssignTitle:"Вывести пользователя из проекта",unAssignTitleYou:"Нельзя вывести собственную учетную запись из проекта",unAssignTitleNoPermission:"У вас недостаточно прав",unAssignTitleExternal:"Нельзя вывести пользователя UPSA из проекта UPSA",unAssignTitlePersonal:"Невозможно вывести пользователя из персонального проекта",unAssign:"Вывести",assignTitle:"Добавить участника на проект",assign:"Назначить",permissionsMap:"Карта прав",assignedMembers:"Участники проекта",assignProjectTitle:"Назначить участника на проект",linkTo:"Ссылка на",welcomeTo:"Добро пожаловать в",registeredOn:"Вы успешно зарегистрировались на",useInformation:"Пожалуйста, используйте следующую информацию для входа:",lockedPermissionsTitle:"У вас недостаточно прав, чтобы редактировать этого участника",invitationSent:"Приглашение было отправлено на",titleAllMembers:"Все участники",titleNameLogin:"Имя / Логин",titleNameLoginEmail:"Имя / Логин / Электронный адрес",enterLoginEmail:"Введите логин или адрес электронной почты",enterEmail:"Введите адрес электронной почты",alredyAdded:"Пользователь уже назначен на этот проект",invitePref:"Пригласить",sendInvite:"Отправить приглашение на этот адрес",externalUserAdded:"Невозможно назначить пользователя %%% на проект %%%"},comparators:{eq:"=",ne:"!=",gte:">=",lte:"<=",gt:">",lt:"<",cnt:"содержит","!cnt":"не содержит",ex:"существует",btw:"между",not:" не ",and:" и ",andb:" ВКЛЮЧАЯ ",has:"содержит","!has":"без любого из","in":"есть любой из","!in":"не содержит"},successMessages:{defaults:"Завершено успешно!",unAssignMember:"Пользователь был выведен из проекта!",deleteUser:"Пользователь был удален из системы!",deleteFilter:"Фильтр был удален",deleteBts:"Настройки проекта были успешно обновлены",deleteSubType:"Типы дефектов были успешно удалены",deleteOneSubType:"Тип дефекта был успешно удален",deletePhoto:"Фотография успешно удалена",deleteMember:"Пользователь '%%%' был удален",deleteProject:"Проект был удален",dashboardDelete:"Панель управления удалена!",deletedWidget:"Виджет удален!",addedWidget:"Виджет добавлен",widgetSave:"Виджет обновлен!",dashboardDeletedUnsharedByOwner:"Панель управления удалена",deleteLaunch:"Запуск был удален",deleteLaunches:"Запуски были удалены",deleteTestItem:"Элемент был удален",deleteTestItems:"Элементы были удалены",submitKeys:"Добавлена недействительная ссылка",ignoreItemAA:"Элемент успешно игнорируется при Авто-Анализе",ignoreItemsAA:"Элементы успешно игнорируются при Авто-Анализе",includeItemAA:"Элемент успешно добавлен в Авто-Анализ",includeItemsAA:"Элементы успешно добавлены в Авто-Анализ",editFilter:"Фильтр обновлен!",sharedFilter:"Имя фильтра было предоставлено!",unsharedFilter:"Доступ к имени фильтра был ограничен!",signedIn:"Успешный вход",addTicket:"Запрос создан.",removeTicket:"Запрос удален!",switchToDebug:"Запуск успешно перемещен в отладку",switchToAllLaunches:"Запуск успешно перемещен во все запуски",updateLaunch:"Запуск был обновлен",addLaunchFilter:"Фильтр добавлен к закладкам запусков",removeLaunchFilter:"Фильтр удален из закладок запусков",savedLaunchFilter:"Фильтр сохранен",savedLaunchFilters:"Фильтры сохранены",savedFilter:"Фильтр создан",saveWidget:"Виджет успешно сохранен",dashboardAdded:"Панель управления была добавлена",dashboardUpdated:"Панель управления была обновлена",mergeLaunches:"Запуски объединены",startedAutoanalyzer:"Автоанализатор запуска успешно стартовал.",updateProjectSettings:"Настройки проекта успешно обновлены",finishLaunch:"Запуск успешно закончен принудительно",addMember:"Участник успешно добавлен.",inviteMember:"Приглашение участника было успешно зарегистрировано. Подтверждающая информация будет отправлена на предоставленный электронный адрес. Срок действия: 1 день.",registerMember:"Регистрация завершена успешно",projectCreated:"Проект '%%%' успешно создан",setAdminSettings:"Настройки почтового сервера обновлены",deleteOrgOAuthSettings:"Организация в GitHub удалена",setOAuthSettings:"Настройки интеграции OAuth обновлены",deleteOAuthSettings:"Настройки интеграции OAuth успешно удалены",updateProjectRole:"Участник '%%%' обновлен",updateEmailProjectSettings:"Правило отправки уведомлений удалено.",updateSubType:"Тип дефекта успешно обновлен",updateSubTypesColores:"Цвета типов дефектов успешно обновлены",assignMember:"Участник '%%%' назначен на проект",assignYourSelf:"Вы назначены на проект ",changeRole:"Роль пользователя для '%%%' изменена",submitForgotPass:"Инструкции по восстановлению пароля отправлены на электронный адрес %%%",submitChangePass:"Ваш пароль успешно изменен",submitProfileInfo:"Изменения успешно сохранены",submitUpload:"Фотография успешно загружена",updateUuid:"UUID создан заново",addSubType:"Новый тип дефекта успешно создан",startAnalyzeAction:"Автоанализатор стартовал.",generateDemoData:"Демонстрационные данные сгенерированы",changedColorDefectTypes:"Типы дефектов обновлены.",updateDefect:"Дефекты обновлены",updateServerSettings:"Настройки сервера успешно обновлены",addUserWithoutEmail:"Пользователь создан, но отправить сообщение невозможно, поскольку почтовый сервер сломался или выключен",removeIndex:"Индекс был успешно удален",generateIndex:"Генерация индекса началась"},failMessages:{noPermissions:"У вас недостаточно прав. Доступ запрещен!",defaults:"Во время соединения с сервером возникла ошибка",duplicatedRecourse:"Обнаружено дублирование ресурсов!",shareFilter:"Ошибка при предоставлении доступа к фильтру: ",deleteFilter:"Ошибка при удалении фильтра: ",deleteBts:"Не удалось удалить настройки проекта",deleteUser:"Ошибка при удалении пользователя:",editFilter:"Ошибка при редактировании фильтра: ",errorSaveTicket:"Ошибка при отправке запроса! ",errorCompareLaunches:"Ошибка при сравнении запусков: ",projectLoad:"Нельзя получить проектную информацию. Пожалуйста, авторизуйтесь заново.",dashboardDelete:"Ошибка при удалении панели управления: ",savedLaunchFilter:"Не удалось сохранить фильтр",savedLaunchFilterQuantity:"Не удалось сохранить фильтр, на странице не должно быть больше 150 элементов",savedLaunchFilters:"Не удалось сохранить фильтры",errorSaveWidget:"Ошибка при сохранении виджета",errorUpdateWidget:"Ошибка при обновлении виджета",filterNameDuplication:"Ошибка при обновлении виджета",unAssignMember:"Не получается вывести участника из проекта",widgetSave:"Не удалось сохранить виджет на сервере",widgetAddToDashboard:"Не удалось добавить выбранный виджет на панель управления",widgetUpdate:"Не удалось завершить обновление виджета",postTicketToBts:"Не удалось отправить ошибку в систему oтслеживания oшибок",updateProjectSettings:"Не удалось обновить настройки проекта",getUsers:"Не удалось получить пользователей для текущего проекта",widgetPreviewData:"Не удалось получить данные для предпросмотра виджета",widgetData:"Не удалось получить данные для виджета",getDashBoards:"Не удалось получить панели управления для данного проекта",connectToServer:"Не удалось установить соединение с сервером",addDashBoard:"Не удалось сохранить новую панель управления",sharedWidgetData:"Не удалось получить доступные данные виджетов",widgetNames:"Не удалось загрузить подборку названий виджетов",adminLoadProjects:"Не удалось загрузить проекты с сервера",updateDefect:"Не удалось обновить информацию о дефекте",addMember:"Ошибка при добавлении участника",inviteMember:"Ошибка при приглашении участника",registerMember:"Ошибка при регистрации участника",validateRegisterBid:"Ошибка при подтверждении регистрации пользователя",finishLaunch:"Не удалось принудительно завершить запуск",loadFilters:"Не удалось загрузить список фильтров",getItemsWidgetBugTable:"Не удалось загрузить данные для виджета",gridData:"Не удалось загрузить данные для таблицы запусков",updateDashboard:"Не удалось обновить панель управления или ее компонент",getSharedDashboards:"Не удалось получить список доступных панелей управления",addSharedDashboard:"Не удалось добавить доступную панель управления",updateDefaultProject:"Не удалось обновить проект по умолчанию для пользователя",getUserInfo:"Не удалось получить информацию пользователя",projectCreate:"Не удалось создать проект",deleteProject:"Не удалось удалить проект",updateProjectRole:"Не удалось обновить проектную роль",setAdminSettings:"Не удалось обновить настройки почтового сервера",setOAuthSettings:"Не удалось обносить настройки интеграции OAuth",deleteOAuthSettings:"Не удалось удалить настройки интеграции OAuth",deleteMember:"Не удалось удалить пользователя",loadMembers:"Не удалось загрузить участников",assignMember:"Не удалось назначить участника на проект",assignYourSelf:"Не удалось назначить вас на проект",submitKeys:"Не удалось загрузить ошибки с предоставленными ID ",startAnalyzeAction:"Не удалось начать анализ",changeRole:"Не удалось изменить роль пользователя '%%%'",loadProjectInfo:"Не удалось загрузить проектную информацию",submitForgotPass:"Пользователь с данным адресом электронной почты не найден",submitForgotPassRestricted:"Невозможно изменить пароль внешнего пользователя",submitForgotPassBrokenConf:"Настройки электронной почты сбиты или выключены. Пожалуйста, настройте почтовый сервер в соответствии с настройками Report Portal.",submitChangePass:"Не удалось обновить пароль",submitProfileInfo:"Не удалось обновить информацию профиля",submitProfileInfoDuplication:"Этот электронный адрес уже существует в системе",submitProfileInfoWrongData:"Неправильный электронный адрес",submitChangePassInvalid:"Введен недействительный пароль",submitUpload:"Не удалось загррузить фотографию",deletePhoto:"Не удалось удалить фотографию",clearExternalSystem:"Не удалось очистить текущие настройки СОД",mergeLaunches:"Не удалось объединить выбранные запуски",forceUpdateUserRoles:"Ошибка при обновлении данных из UPSA",forceUpdateGitHub:"Ошибка во время принудительного обновления данных",updateUuid:"Ошибка при пересоздании UUID: ",loadHistory:"Не удалось загрузить историю для текущего элемента",loadActivityItems:"Не удалось загрузить элементы деятельности",loadNavigationStep:"Не удалось загрузить",sessionExpired:"Время вашего сеанса истекло",getItemInfo:"Не удалось загрузить информацию для элемента",dublPostFix:"Постфикс уже используется или не совпадает с уже существующими данными. Пожалуйста, используйте другой",serverNotConfigured:"Почтовый сервер не настроен",impossibleInvite:"Невозможно пригласить пользователя, поскольку настройки почтового сервера сбиты или выключены",restorationExpired:"Ссылка на восстановление пароля устарела или была использована"},infoMessages:{defaults:"Состояние системы изменено",logOuted:"Вы вышли",noResults:"Нет результатов к отображению",restoredTestItem:"Ссылка на элемент тестирования больше недействительна. Тестовый элемент был восстановлен с сервера по идентификатору."},validation:{defaultMessage:"Значение не прошло проверки",issueTitleEmpty:"Имя не может состоять из одних пробелов и быть пустым",issueTitleLength:"Имя должно иметь размер от '4' до '512'",componentsLength:"Компоненты не должны состоять из одних пробелов и быть пустыми",logMessageLength:"Длина сообщения должна быть от %%% до %%%.",autoAnalysisLength:"Параметр принимает значения от %%% до %%%.",filtersNameLength:"Имя фильтров должно быть длиной от %%% до %%%",filterNameLength:"Имя фильтра должно быть длиной от %%% до %%% знаков.",filterDescriptionLength:"Описание фильтра должно быть длиной от %%% до %%%.",filterDescriptionMaxLength:"Описание фильтра должно быть длиной до %%%.",filterNameDuplication:"Это название уже используется. Пожалуйста, выберите другое.",filterStaticsDigitsOnly:"Этот фильтр принимает только цифры.",dashboardNameLength:"Имя панели управления должно быть длиной от %%% до %%%",widgetNameLength:"Имя виджета должно быть размером от '3' до '128'",projectNameLength:"Имя проекта должно быть размером от '1' до '55'",countCantBeEmpty:"Количество элементов не может быть пустым",launchesCantBeEmpty:"Выберите запуск, чтобы создать виджет",countWrongAmount:"Количество элементов вне допустимого диапазона",countWrongAmountSize:"Количество элементов должно иметь размер ",itemsSizeLength:"Количество элементов должно иметь размер от %%% до %%%",valueSizeLength:"Значение должно иметь размер от %%% до %%%",selectAtLeastOneCriteria:"Выберите как минимум один критерий ",selectAtLeastOneAction:"Выберите как минимум одно действие",selectAllOptionsForWidget:"Выберите все опции, чтобы добавить новый виджет",btsLinkRequired:"Пожалуйста, предоставьте действительную ссылку в СОД",btsLinkRegex:"Ссылка в СОД должна соответствовать действительному адресу вебсайта",jiraLinkLength:"Пожалуйста, предоставьте действительную ссылку JIRA",requiredDefault:"Это поле обязательно",dashboardNameDuplication:"Это название уже используется",widgetNameDuplication:"Это название виджета уже используется",descriptionsSize:"Размер описаний не должне быть больше 1024",loginSize:"Логин должен быть не больше {1}.",fullNameSize:"Полное имя должно быть размером от '{0}' до '{1}'.",passwordSize:"Пароль должен быть размером от '{0}' до '{1}'.",incorrectEmail:"Неправильный адрес электронной почты. Пожалуйста, введите правильный.",registeredEmail:"Этот электронный адрес уже есть в системе.",registeredLogin:"Этот логин уже есть в системе.",confirmPassword:"Пароль и подтверждение пароля не совпадают.",memberNameLength:"Имя участника должно быть размером от '1' до '128'",filterNameMax:"Имя фильтра должно быть размером до '55'",fullNameRegex:"Только латинские, русские буквы, цифры, знаки: дефис, нижнее подчеркивание, точка, пробел",mergeNameLength:"Название поля должно быть размером от '3' до '256'",fromEmailLength:"Поле 'От' должно быть размером от '5' до '256'",addProjectNameLength:"Имя проекта должно быть размером от '3' до '256'",projectNameRegex:"Допускаются только латинские буквы, цифры, нижнее подчеркивание и тире",projectNameRequired:"Напишите название проекта",projectNameDuplication:"Проект с таким названием уже есть в системе",hostLength:"Возможны только цифры от '1' до '65535'.",bugIdPattern:"Специальные симполы запрещены",launchDescriptionLength:"Описание не должно быть больше 1024 символов",submitProfileInfoEmail:"Неправильный электронный адрес",domainMatchRegex:"Domain name is incorrect",emailMatchRegex:"Проверьте введенный электронный адрес",emailNotificationLength:"Адрес электронной почты должен быть размером от '{0}' до '{1}'.",emailInternalRegex:"Пароль не может быть изменен. Пожалуйста, используйте свой доменный пароль.",confirmMinMax:"Пароль должен содержать от '4' до '25' символов",confirmMatch:"Пароли не совпадают",fullNameInfoRegex:"Полное имя должно содержать от '3' до '256' символов, включая латинские и русские буквы, цифры, дефис, нижнее подчеркивание, точку и пробел.",loginRegex:"Логин должен содержать от '1' до '128' символов, включая латинские буквы, цифры, дефис, нижнее подчеркивание и точку.",loginRangeLength:"Логин должен быть размером от '%%%' до '%%%'.",originalPassRegex:"Пароль должен содержать от '4' до '25' символов",hostMatchRegex:"Проверьте введенные данные",wrongImage:"Вы можете загрузить файл jpeg, png, gif file, не более 1 мегабайта и 300x500 пикселей",restorationExpired:"Ссылка для восстановления пароля устарела или уже использована",tfsDomainLength:"Домен должен содержать от '1' до '255' символов",apiKeyLength:"Api key должен содержать от '4' до '128' символов",usernameLength:"Имя пользователя должно содержать от '4' до '128' символов",onlyIntegersRegex:"Допускаются только цифры",doublesRegex:"Это поле This field accepts double type numbers",issueLinkRegex:"Ссылка должна соответствовать действующему адресу вебсайта",issueLinkRequired:"Ссылка должна соответствовать действующему адресу вебсайта",issueIdLength:"ID ошибки должен быть размером от %%% до %%%",fieldRequired:"Это поле обязательно",defectName:"Полное имя должно иметь размер от '3' до '55'",wrongSymbol:"Допускаются только латинские буквы, цифры, дефис и нижнее подчеркивание",defectUniq:"Сочетание полного и краткого имен должно быть уникальным",defectShortName:"Краткое имя должно быть размером от '1' до '4'",defectColor:"Выберите цвет для типа дефекта",postfixLength:"Постфикс должен быть размером от %%% до %%%",loginLength:"Логин должен содержать от %%% до %%% знаков.",passwordLength:"Пароль должен содержать от %%% до %%% знаков.",userNameLength:"Имя должно содержать от %%% до %%% знаков.",moreAtItem:"Выберите не меньше одного элемента"},forms:{name:"Имя",owner:"Владелец",tags:"Метки",description:"Описание",startTime:"Старт",endTime:"Время окончания",startTimeEndTime:"Время старта/окончания",user:"Пользователь",finishTime:"Время завершения",number:"Номер",lastModified:"Последние изменения",status:"Состояние",updateProject:"Обновить настройки проекта",updateItem:"Обновить элемент",startLaunch:"Начать запуск",finishLaunch:"Окончить запуск",deleteLaunch:"Удалить запуск",shareWidgetDashboard:"Поделиться виджетом, панелью управления",unShareWidgetDashboard:"Ограничить доступ к виджету, панели управления",updateIssue:"Действия с ошибками",linkIssue:"Приложить ошибку к СОД",history:"История",project:"Проект",login:"Логин",fullName:"Полное имя",email:"Адрес электронной почты",loginOrEmail:"Логин или электронная почта",password:"Пароль",confirmPassword:"Подтвердить пароль",genPassword:"Создать пароль",projectRole:"Проектная роль",accountRole:"Роль учетной записи",selectProject:"Выбрать проект",symbolsForName:"3-256 знаков, латинские, русские буквы, цифры, знаки: дефис, нижнее подчеркивание, точка, пробел.",symbolsForLogin:"1-128 знаков, латинские буквы, цифры, знаки: дефис, нижнее подчеркивание.",symbolsForPass:"4-25 знаков.",passwordSize:'Пароль должен быть размером от "4" до "25".',passwordEmpty:"Пароль не может быть пустым.",adminPrivileges:"Администратор будет иметь все привилегии, согласно карте прав",showPassword:"Показать пароль",linkInvitation:"Ссылка на приглашение",createUser:"Добавить, зарегистрировать пользователя",updateDefects:"Обновить типы дефектов",updateBts:"Обновить СОД",updateWidget:"Обновить виджет",updateDashboard:"Обновить панель управления",updateFilter:"Обновить фильтр","import":"Импорт",projectNameIn:"Имя проекта в СОД",copyLink:"Копировать ссылку",generateIndex:"Генерация индекса",deleteIndex:"Удаление индекса",updateAutoAnalysis:"Обновить Авто-Анализ"},wizard:{widgetWizard:"Мастер виджетов",widgetType:"Тип виджета",nameAndDashboard:"Имя и панель управления",sharedFilters:"Доступные фильтры",ownFilters:"Ваши фильтры",sharedWidgets:"Доступные виджеты",widgetTemplates:"Шаблоны виджетов",enterWidgetName:"Напишите название виджета",enterLaunchName:"Введите имя запуска",createDashboard:"Создать панель управления",sharedDashboards:"Доступные панели управления",ownDashboards:"Ваши панели управления",enterDashboardName:"Напишите название новой панели управления",sharedFiltersAbsent:"Не найдено доступных фильтров",ownFiltersAbsent:"Не найдено фильтров для ",projectFiltersAbsent:"Нет фильтров для проекта",sharedWidgetAdded:"Виджет уже добавлен на выбранную панель управления",sharedWidgetCantBeAdded:"Виджет не может быть добавлен",noOwnDashboards:"На этом проекте еще нет панелей управления",noSharedWidgets:"Нет доступных виджетов",saveNewDashboard:"Пожалуйста, сохраните новую панель управления или переключитесь на 'Ваши панели управления'",impossibleShared:"Невозможно выбрать доступный виджет",widgetOnSharedDashboard:"Виджет будет доступен по умолчанию, поскольку панель управления доступна",actionTitle:"Действия для виджета",criteriaTitle:"Критерии для виджета",modeTitle:"Режим",criteriaSelectTitle:"Выбрать критерии",actionSelectTitle:"Выбрать действия",modeSelectTitle:"Выбрать режим",selectColumn:"Выбрать колонки",previewDefault:"Выберите шаблон виджета и фильтр, чтобы увидеть предпросмотр",previewNotAvailable:"Предпросмотр не доступен для этого типа шаблона виджета",previewNoFilter:"Выберите фильтр, чтобы увидеть предпросмотр",previewNoTemplate:"Выберите шаблон виджета, чтобы увидеть предпросмотр",previewDataNotAvailable:"Нельзя получить данные для предпросмотра.",incomplete:"Не закончено",complete:"Завершено",filters:"Фильтры",enterFilter:"Введите имена фильтров",basicColumns:"Основные колонки",choiceCriteria:"Выберите критерий",choiceColumns:"Выберите колонки",tagPrefixDescription:"To view a dynamic of a definite tag you should type its part before colon ‘:’",tagPrefixPlaceholder:"Введите часть тега до ‘:’",searchFilterByNAme:"Поиск фильтра по имени"},dialogHeader:{deleteFilter:"УДАЛИТЬ ФИЛЬТР",deleteProject:"УДАЛИТЬ ПРОЕКТ",deleteEmailRule:"УДАЛИТЬ ПРАВИЛО",deleteUser:"УДАЛИТЬ ПОЛЬЗОВАТЕЛЯ",deleteImage:"УДАЛИТЬ КАРТИНКУ",dashboardDelete:"УДАЛИТЬ ПАНЕЛЬ УПРАВЛЕНИЯ",deletedWidget:"УДАЛИТЬ ВИДЖЕТ",deleteBts:"УДАЛИТЬ ПРОЕКТ",unAssignMember:"ВЫВЕСТИ ПОЛЬЗОВАТЕЛЯ",changeRole:"ИЗМЕНИТЬ РОЛЬ",sureToRemoveWidget:"УБРАТЬ ВИДЖЕТ",titleEditDefectType:"Редактировать тип дефекта",titleResetDefectColors:"Сбросить цвета дефектов",titleDeleteDefectType:"Удалить тип дефекта",forceFinish:"Завершить принудительно",moveToDebug:"Переместить в отладку",moveToAllLaunches:"Переместить во все запуски",editLaunch:"Редактировать запуск",editDashboard:"Редактировать панель управления",editTestItem:"Редактировать элемент тестирования",changePassword:"Изменить пароль",editUserInfo:"Редактировать личную информацию",addDashboard:"Добавить новую панель управления",regenerateUUID:"СОЗДАТЬ НОВЫЙ UUID",deleteOrg:"Удалить организацию GitHub",logAttachment:"ВЛОЖЕНИЕ",importLaunch:"Импортировать запуск",ignoreAA:"Игнорировать %%% при Авто-Анализе",includeAA:"Включить %%% в Авто-Анализ",analyseLaunches:"Анализировать запуски",unlinkIssue:"Открепить ошибку",testItemsDetails:"Детали тестового элемента",receiveIssue:"Получить предыдущий результат",sendIssue:"Отправить результат в последний элемент"},dialog:{regenerateUUID:"Создать новый UUID",unableSelectForMerge:"Ошибка: невозможно выбрать запуск для объединения!",createNewDashboard:"Создать новую панель управления",dashboardSettings:"Настройки панели управления",deleteFilter:"Вы уверены, что хотите удалить фильтр <b>'%%%'</b>?",deleteFilterDanger:"Вы уверены, что хотите удалить фильтр <b>'%%%'</b>? Вы потеряете доступ к нему. Это действие нельзя отменить.",deleteFilterDangerConfirmText:"Вы собираетесь удалить не свой фильтр. Это может повлиять на информацию других пользователей проекта.",deleteProject:"Вы уверены, что хотите удалить проект <b>'%%%'</b>?",deleteEmailRule:"Вы уверены, что хотите удалить правило рассылки уведомлений?",deleteEmailRuleBtn:"Удалить",unAssignMember:"Вы уверены, что вы хотите убрать пользователя <b>'%%%'</b> с проекта <b>'%%%'</b>?",unAssignMemberBtn:"Убрать",deleteUser:"Вы уверены, что хотите удалить пользователя <b>'%%%'<b>?",changeRole:"Вы уверены, что хотите изменить проектную роль для <b>'%%%'</b>?",changeRoleBtn:"Изменить",deleteImage:"Вы уверены, что хотите удалить фотографию профиля?",deleteBts:"Вы уверены, что хотите удалить проект %%% <b>'%%%'</b> из проектных настроек?",dashboardDelete:"Вы уверены, что хотите удалить панель управления <b>'%%%'</b>? Вы потеряете доступ к ней. Это действие нельзя отменить.",dashboardDeleteDangerConfirmText:"Вы собираетесь удалить не свою панель управления. Это может повлиять на иинформацию других пользователей проекта.",deletedWidget:"Вы уверены, что хотите удалить виджет <b>'%%%'</b>? Вы потеряете доступ к нему. Это действие нельзя отменить.",deletedWidgetDangerConfirmText:"Вы собираетесь удалить не свой виджет. Это может повлиять на информацию других пользователей проекта.",deletedOwnSharedWidgetDangerConfirmText:"Вы собираетесь удалить свой виджет. Это может повлиять на информацию на ваших панелях управления.",deleteBtsBtn:"Удалить",dashboardDeleteBtn:"Удалить",sureToRemoveWidget:"Вы уверены, что хотите удалить %%% <b>'%%%'</b>?",launchEditor:"Редактировать запуск",itemEditor:"Редактировать элемент",defectEditor:"Редактировать дефект",choseDefectType:"Выберите Тип Дефекта",commentForDefect:"Прокомментируйте Тип Дефекта",defectType:"Тип Дефекта",mergeLaunches:"Объединить Запуски",postBug:"Отправить ошибку",loadBug:"Привязать ошибку",launchDetails:"Детали Запуска",testItemDetails:"Детали Элемента",launchDescrPlaceholder:"Введите Описание Запуска",testItemDescrPlaceholder:"Введите Описание Элемента",launchTagPlaceholder:"Введите название Метки",editFilter:"Редактировать фильтр",addFilter:"Добавить фильтр",moveLaunch:"Вы хотите переместить %%% в %%%?",filterOptions:"Варианты Фильтров",analyseLaunchesLabel:"Выберите стратегию Авто Анализа:",analyseLaunchesLabel1:"Выберите тестовые элементы которые должны быть проанализированы:",analyseWarning1:"Вы не можете совершить операцию до тех пор пока не выбран как минимум один объект.",analyseWarning2:" Вы не можете совершить операцию над проанализированными вручную и автоматически тестовыми единицами одновременно. Пожалуйста, выбирете что-то одно.",msgDeleteItems:"Вы уверены, что хотите удалить %%%? Вы потеряете доступ к %%%. Это действие нельзя отменить.",msgDeleteDefectType:"Я уверен, что хочу удалить I am sure I want to remove custom defect type",msgDeleteProject:"Я уверен, что хочу удалить проект",msgDeleteOrg:"Вы уверены, что хотите удалить выбранную организацию? Все назначенные пользователи не смогут авторизоваться на Report Portal. ",deleteOrg:"Я уверен, что хочу удалить организацию",msgResetColorsDefectType:"Вы уверены, что хотите вернуть цвета дефектов по умолчанию?",msgMessageTop:"Вы уверены, что хотите удалить тип дефекта? Все дефекты, которые признаны <strong>'%%%'</strong>, будут отмечены как <strong>'%%%'</strong>.",msgImportLaunch:"Если в xml файле нет времени старта, то в качестве времени начала запуска используется текущее время сервера.",importLaunchTip:'Перетащите только <strong>zip</strong> файлы с объемом менее 32 mb или <span class="blue">кликните</span> мышкой, чтобы добавить их',msgIgnoreAA:"Вы уверены, что хотите игнорировать %%% при Авто-Анализе?",msgIncludeAA:"Вы уверены, что хотите включить %%% в Авто-Анализ?",msgReceiveIssue:"Вы уверены, что хотите получить данные о дефекте из предыдущего неудачного элемента?",msgSendIssue:"Вы уверены, что хотите отправить данные о дефекте в последний элемент?",msgUnlinkIssue:"Вы уверены, что хотите открепить ошибки в СОД?",invalidFileType:"Неверный формат файла",invalidFileSize:"Размер файла больше 32 Mb",testUID:"UID элемента:",testDuration:"Длительность:",testTags:"Метки:",testParametres:"Параметры:",testDescription:"Описание:",testStacktrace:"Трассировка стека:",key:"Ключ",value:"Значение"},time:{day:"день",days:"дня/дней",hour:"час",hours:"часа/часов",minute:"минуту",minutes:"минуты/минут",seconds:"секунды/секунд",second:"секунду"},activity:{email:"Уведомления по электронной почте",keepLogs:"Сохранять журнал",keepScreenshots:"Сохранять скриншоты",auto_analyze:"переключение Автоанализатора",launchInactivity:"Время бездействия запуска",statisticsCalculationStrategy:"Выбрать стратегию",delete_index:"индекс был удален",generate_index:"индекс был сгенерирован",number_of_log_lines:"Количество строк лога",min_doc_freq:"Minimum document frequency",min_should_match:"Minimum should match",min_term_freq:"Minimum term frequency",analyze_mode:"Стратегия Авто-Анализа"},permissionMap:{owner:"владелец",notOwner:"не владелец",actionRole:"Действие\\Проектная роль",accessToManagementSystem:"Иметь доступ к системе управления",readData:"Читать данные",seeMembers:"Смотреть список участников проекта",userFromProject:"пользователя на/с проекта",assign:"Назначить/Вывести",internal:"внутреннего",user:"пользователя",changeUserRole:"Изменить роль пользователя на проекте",createProject:"Создать проект",updateSettings:"Обновить настройки проекта",seeSettings:"Смотреть настройки проекта",deleteProject:"Удалить проект",deleteLaunch:"Удалить запуск",deleteTests:"Удалить элемент тестирования",deleteLog:"Удалить запись в журнале",unSlashAssign:"Назначить/Вывести",userToFrom:"пользователя на проект/из проекта",editOwnAccount1:"Редактировать свою учетную запись",editOwnAccount2:"(еще не реализовано)",forceFinishLaunch:"Принудительно завершить запуск",startAnalysis:"Начать анализ вручную",deleteTestItem:"Удалить элемент тестирования и запись в журнале",moveToDebug:"Перевести запуск в режим отладки/по умолчанию",mergeLaunches:"Объединить запуски",workWithFiltersEtc:"Работать с фильтрами, виджетами, панелями управления (создать, редактировать, удалить, поделиться)",oneAttention:"Действие возможно для внутреннего пользователя."},api:{apiDocumentation:"Документация API",api:"API",uat:"UAT"},modalDefectEditor:{saveAndPost:"Сохранить и отправить ошибку",saveAndLoad:"Сохранить и прикрепить ошибку",saveAndUnlink:"Сохранить и открепить ошибку"},date:{days:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"]}}}),define("storage/Storage",["require","exports","module","backbone"],function(e,t,n){"use strict";var r=e("backbone"),i=r.Model.extend({storage:window.localStorage,getItem:function(e){return this.storage?this.storage.getItem(e):!1},setItem:function(e,t){if(!this.storage)return!1;this.storage.setItem(e,t)}});return i}),define("storage/AppStorage",["require","storage/Storage"],function(e){"use strict";var t=e("storage/Storage"),n=t.extend({initialize:function(){this.saveKey="application_settings";var e=this.getItem(this.saveKey),t;this.listenTo(this,"change",this.onChangeSettings);try{t=JSON.parse(e),this.set(t)}catch(n){console.log("AppStorage: failed parse JSON"),console.log(n.message)}},onChangeSettings:function(){this.setItem(this.saveKey,JSON.stringify(this.toJSON()))}});return n}),define("storage/SingletonAppStorage",["require","storage/AppStorage"],function(e){"use strict";var t=null,n=e("storage/AppStorage"),r=function(){return t||(t=new n),t};return r}),function(e){typeof e.fn.each2=="undefined"&&e.extend(e.fn,{each2:function(t){var n=e([0]),r=-1,i=this.length;while(++r<i&&(n.context=n[0]=this[r])&&t.call(n[0],r,n)!==!1);return this}})}(jQuery),function(e,t){"use strict";function p(t){var n=e(document.createTextNode(""));t.before(n),n.before(t),n.remove()}function d(e){function t(e){return h[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function v(e,t){var n=0,r=t.length;for(;n<r;n+=1)if(g(e,t[n]))return n;return-1}function m(){var t=e(c);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function g(e,n){return e===n?!0:e===t||n===t?!1:e===null||n===null?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function y(t,n){var r,i,s;if(t===null||t.length<1)return[];r=t.split(n);for(i=0,s=r.length;i<s;i+=1)r[i]=e.trim(r[i]);return r}function b(e){return e.outerWidth(!1)-e.width()}function w(n){var r="keyup-change-value";n.on("keydown",function(){e.data(n,r)===t&&e.data(n,r,n.val())}),n.on("keyup",function(){var i=e.data(n,r);i!==t&&n.val()!==i&&(e.removeData(n,r),n.trigger("keyup-change"))})}function E(n){n.on("mousemove",function(n){var r=a;(r===t||r.x!==n.pageX||r.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function S(e,n,r){r=r||t;var i;return function(){var t=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(r,t)},e)}}function x(e,t){var n=S(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){v(e.target,t.get())>=0&&n(e)})}function T(e){if(e[0]===document.activeElement)return;window.setTimeout(function(){var t=e[0],n=e.val().length,r;e.focus();var i=t.offsetWidth>0||t.offsetHeight>0;i&&t===document.activeElement&&(t.setSelectionRange?t.setSelectionRange(n,n):t.createTextRange&&(r=t.createTextRange(),r.collapse(!1),r.select()))},0)}function N(t){t=e(t)[0];var n=0,r=0;if("selectionStart"in t)n=t.selectionStart,r=t.selectionEnd-n;else if("selection"in document){t.focus();var i=document.selection.createRange();r=document.selection.createRange().text.length,i.moveStart("character",-t.value.length),n=i.text.length-r}return{offset:n,length:r}}function C(e){e.preventDefault(),e.stopPropagation()}function k(e){e.preventDefault(),e.stopImmediatePropagation()}function L(t){if(!u){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);u=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),u.attr("class","select2-sizer"),e("body").append(u)}return u.text(t.val()),u.width()}function A(t,n,r){var i,s=[],o;i=e.trim(t.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each2(function(){this.indexOf("select2-")===0&&s.push(this)})),i=e.trim(n.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each2(function(){this.indexOf("select2-")!==0&&(o=r(this),o&&s.push(o))})),t.attr("class",s.join(" "))}function O(e,t,n,r){var i=d(e.toUpperCase()).indexOf(d(t.toUpperCase())),s=t.length;if(i<0){n.push(r(e));return}n.push(r(e.substring(0,i))),n.push("<span class='select2-match'>"),n.push(r(e.substring(i,i+s))),n.push("</span>"),n.push(r(e.substring(i+s,e.length)))}function M(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function _(n){var r,i=null,s=n.quietMillis||100,o=n.url,u=this;return function(a){window.clearTimeout(r),r=window.setTimeout(function(){var r=n.data,s=o,f=n.transport||e.fn.select2.ajaxDefaults.transport,l={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},c=e.extend({},e.fn.select2.ajaxDefaults.params,l);r=r?r.call(u,a.term,a.page,a.context):null,s=typeof s=="function"?s.call(u,a.term,a.page,a.context):s,i&&typeof i.abort=="function"&&i.abort(),n.params&&(e.isFunction(n.params)?e.extend(c,n.params.call(u)):e.extend(c,n.params)),e.extend(c,{url:s,dataType:n.dataType,data:r,success:function(e){var t=n.results(e,a.page,a);a.callback(t)},error:function(e,t,n){var r={hasError:!0,jqXHR:e,textStatus:t,errorThrown:n};a.callback(r)}}),i=f.call(u,c)},s)}}function D(t){var n=t,r,i,s=function(e){return""+e.text};e.isArray(n)&&(i=n,n={results:i}),e.isFunction(n)===!1&&(i=n,n=function(){return i});var o=n();return o.text&&(s=o.text,e.isFunction(s)||(r=o.text,s=function(e){return e[r]})),function(t){var r=t.term,i={results:[]},o;if(r===""){t.callback(n());return}o=function(n,i){var u,a;n=n[0];if(n.children){u={};for(a in n)n.hasOwnProperty(a)&&(u[a]=n[a]);u.children=[],e(n.children).each2(function(e,t){o(t,u.children)}),(u.children.length||t.matcher(r,s(u),n))&&i.push(u)}else t.matcher(r,s(n),n)&&i.push(n)},e(n().results).each2(function(e,t){o(t,i.results)}),t.callback(i)}}function P(n){var r=e.isFunction(n);return function(i){var s=i.term,o={results:[]},u=r?n(i):n;e.isArray(u)&&(e(u).each(function(){var e=this.text!==t,n=e?this.text:this;(s===""||i.matcher(s,n))&&o.results.push(e?this:{id:this,text:this})}),i.callback(o))}}function H(t,n){if(e.isFunction(t))return!0;if(!t)return!1;if(typeof t=="string")return!0;throw new Error(n+" must be a string, function, or falsy value")}function B(t,n){if(e.isFunction(t)){var r=Array.prototype.slice.call(arguments,2);return t.apply(n,r)}return t}function j(t){var n=0;return e.each(t,function(e,t){t.children?n+=j(t.children):n++}),n}function F(e,n,r,i){var s=e,o=!1,u,a,f,l,c;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return t;for(;;){a=-1;for(f=0,l=i.tokenSeparators.length;f<l;f++){c=i.tokenSeparators[f],a=e.indexOf(c);if(a>=0)break}if(a<0)break;u=e.substring(0,a),e=e.substring(a+c.length);if(u.length>0){u=i.createSearchChoice.call(this,u,n);if(u!==t&&u!==null&&i.id(u)!==t&&i.id(u)!==null){o=!1;for(f=0,l=n.length;f<l;f++)if(g(i.id(u),i.id(n[f]))){o=!0;break}o||r(u)}}}if(s!==e)return e}function I(){var t=this;e.each(arguments,function(e,n){t[n].remove(),t[n]=null})}function q(t,n){var r=function(){};return r.prototype=new t,r.prototype.constructor=r,r.prototype.parent=t.prototype,r.prototype=e.extend(r.prototype,n),r}if(window.Select2!==t)return;var n,r,i,s,o,u,a={x:0,y:0},f,l,n={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){e=e.which?e.which:e;switch(e){case n.LEFT:case n.RIGHT:case n.UP:case n.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case n.SHIFT:case n.CTRL:case n.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&e<=123}},c="<div class='select2-measure-scrollbar'></div>",h={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};f=e(document),o=function(){var e=1;return function(){return e++}}(),r=q(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var r,i,s=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&n.element.data("select2")!==null&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+o()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",n.element.attr("title")),this.body=e("body"),A(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(B(n.containerCss,this.opts.element)),this.container.addClass(B(n.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",C),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),A(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(B(n.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",C),this.results=r=this.container.find(s),this.search=i=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",C),E(this.results),this.dropdown.on("mousemove-filtered",s,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",s,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",s,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",s,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(e){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),x(80,this.results),this.dropdown.on("scroll-debounced",s,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&r.mousewheel(function(e,t,n,i){var s=r.scrollTop();i>0&&s-i<=0?(r.scrollTop(0),C(e)):i<0&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()&&(r.scrollTop(r.get(0).scrollHeight-r.height()),C(e))}),w(i),i.on("keyup-change input paste",this.bind(this.updateResults)),i.on("focus",function(){i.addClass("select2-focused")}),i.on("blur",function(){i.removeClass("select2-focused")}),this.dropdown.on("mouseup",s,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),n.maximumInputLength!==null&&this.search.attr("maxlength",n.maximumInputLength);var u=n.element.prop("disabled");u===t&&(u=!1),this.enable(!u);var a=n.element.prop("readonly");a===t&&(a=!1),this.readonly(a),l=l||m(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){u=null;var e=this.opts.element,n=e.data("select2"),r=this;this.close(),e.length&&e[0].detachEvent&&e.each(function(){this.detachEvent("onpropertychange",r._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,n!==t&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show()),I.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){if(e.is("option"))return{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:g(e.attr("locked"),"locked")||g(e.data("locked"),!0)};if(e.is("optgroup"))return{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}},prepareOpts:function(n){var r,i,s,u,a=this;r=n.element,r.get(0).tagName.toLowerCase()==="select"&&(this.select=i=n.element),i&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(r,i,s){var u,f=this.opts.id,l=this.liveRegion;u=function(r,i,c){var h,p,d,v,m,g,y,b,w,E;r=n.sortResults(r,i,s);var S=[];for(h=0,p=r.length;h<p;h+=1)d=r[h],m=d.disabled===!0,v=!m&&f(d)!==t,g=d.children&&d.children.length>0,y=e("<li></li>"),y.addClass("select2-results-dept-"+c),y.addClass("select2-result"),y.addClass(v?"select2-result-selectable":"select2-result-unselectable"),m&&y.addClass("select2-disabled"),g&&y.addClass("select2-result-with-children"),y.addClass(a.opts.formatResultCssClass(d)),y.attr("role","presentation"),b=e(document.createElement("div")),b.addClass("select2-result-label"),b.attr("id","select2-result-label-"+o()),b.attr("role","option"),E=n.formatResult(d,b,s,a.opts.escapeMarkup),E!==t&&(b.html(E),y.append(b)),g&&(w=e("<ul></ul>"),w.addClass("select2-result-sub"),u(d.children,w,c+1),y.append(w)),y.data("select2-data",d),S.push(y[0]);i.append(S),a.opts.newButton&&e(i).find("li").first().find(".select2-match").append("<span class='new-btn'>"+a.opts.newButton+"</span>"),l.text(n.formatMatches(r.length))},u(i,r,0)}},e.fn.select2.defaults,n),typeof n.id!="function"&&(s=n.id,n.id=function(e){return e[s]});if(e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}i?(n.query=this.bind(function(e){var n={results:[],more:!1},i=e.term,s,o,u;u=function(t,n){var r;t.is("option")?e.matcher(i,t.text(),t)&&n.push(a.optionToData(t)):t.is("optgroup")&&(r=a.optionToData(t),t.children().each2(function(e,t){u(t,r.children)}),r.children.length>0&&n.push(r))},s=r.children(),this.getPlaceholder()!==t&&s.length>0&&(o=this.getPlaceholderOption(),o&&(s=s.not(o))),s.each2(function(e,t){u(t,n.results)}),e.callback(n)}),n.id=function(e){return e.id}):"query"in n||("ajax"in n?(u=n.element.data("ajax-url"),u&&u.length>0&&(n.ajax.url=u),n.query=_.call(n.element,n.ajax)):"data"in n?n.query=D(n.data):"tags"in n&&(n.query=P(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,r){var i=[];e(y(t.val(),n.separator)).each(function(){var t={id:this,text:this},r=n.tags;e.isFunction(r)&&(r=r()),e(r).each(function(){if(g(this.id,t.id))return t=this,!1}),i.push(t)}),r(i)})));if(typeof n.query!="function")throw"query function not defined for Select2 "+n.element.attr("id");if(n.createSearchChoicePosition==="top")n.createSearchChoicePosition=function(e,t){e.unshift(t)};else if(n.createSearchChoicePosition==="bottom")n.createSearchChoicePosition=function(e,t){e.push(t)};else if(typeof n.createSearchChoicePosition!="function")throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var n=this.opts.element,r,i=this;n.on("change.select2",this.bind(function(e){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var e=n.prop("disabled");e===t&&(e=!1),this.enable(!e);var r=n.prop("readonly");r===t&&(r=!1),this.readonly(r),A(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(B(this.opts.containerCssClass,this.opts.element)),A(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(B(this.opts.dropdownCssClass,this.opts.element))}),n.length&&n[0].attachEvent&&n.each(function(){this.attachEvent("onpropertychange",i._sync)}),r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,r!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new r(function(t){e.each(t,i._sync)}),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},setScrollContainer:function(e){this.scrollResult=e},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0);if(this._enabled===e)return;this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface()},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1);if(this._readonly===e)return;this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface()},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var t=this.dropdown,n=this.container.offset(),r=this.container.outerHeight(!1),i=this.container.outerWidth(!1),s=t.outerHeight(!1),o=e(window),u=o.width(),a=o.height(),f=o.scrollLeft()+u,c=o.scrollTop()+a,h=n.top+r,p=n.left,d=h+s<=c,v=n.top-s>=o.scrollTop(),m=t.outerWidth(!1),g=p+m<=f,y=t.hasClass("select2-drop-above"),b,w,E,S,x;y?(w=!0,!v&&d&&(E=!0,w=!1)):(w=!1,!d&&v&&(E=!0,w=!0)),E&&(t.hide(),n=this.container.offset(),r=this.container.outerHeight(!1),i=this.container.outerWidth(!1),s=t.outerHeight(!1),f=o.scrollLeft()+u,c=o.scrollTop()+a,h=n.top+r,p=n.left,m=t.outerWidth(!1),g=p+m<=f,t.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(x=e(".select2-results",t)[0],t.addClass("select2-drop-auto-width"),t.css("width",""),m=t.outerWidth(!1)+(x.scrollHeight===x.clientHeight?0:l.width),m>i?i=m:m=i,s=t.outerHeight(!1),g=p+m<=f):this.container.removeClass("select2-drop-auto-width"),this.body.css("position")!=="static"&&(b=this.body.offset(),h-=b.top,p-=b.left),g||(p=n.left+this.container.outerWidth(!1)-m),S={left:p,width:i},w?(S.top=n.top-s,S.bottom="auto",this.container.addClass("select2-drop-above"),t.addClass("select2-drop-above")):(S.top=h,S.bottom="auto",this.container.removeClass("select2-drop-above"),t.removeClass("select2-drop-above")),S=e.extend(S,B(this.opts.dropdownCss,this.opts.element)),t.css(S)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),f.on("mousemove.select2Event",function(e){a.x=e.pageX,a.y=e.pageY}),!0):!1},opening:function(){var t=this.containerEventName,n="scroll."+t,r="resize."+t,i="orientationchange."+t,s;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),s=e("#select2-drop-mask"),s.length==0&&(s=e(document.createElement("div")),s.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),s.hide(),s.appendTo(this.body),s.on("mousedown touchstart click",function(t){p(s);var n=e("#select2-drop"),r;n.length>0&&(r=n.data("select2"),r.opts.selectOnBlur&&r.selectHighlighted({noFocus:!0}),r.close(),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==s[0]&&this.dropdown.before(s),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),s.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var o=this;this.container.parents().add(window).each(function(){e(this).on(r+" "+n+" "+i,function(e){o.opened()&&o.positionDropdown()})})},close:function(){if(!this.opened())return;var t=this.containerEventName,n="scroll."+t,r="resize."+t,i="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(r).off(i)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),f.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return B(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t=this.scrollResult||this.results,n,r,i,s,o,u,a,f;r=this.highlight();if(r<0)return;if(r==0){t.scrollTop(0);return}n=this.findHighlightableChoices().find(".select2-result-label"),i=e(n[r]),f=(i.offset()||{}).top||0,s=f+i.outerHeight(!0),r===n.length-1&&(a=t.find("li.select2-more-results"),a.length>0&&(s=a.offset().top+a.outerHeight(!0))),o=t.offset().top+t.outerHeight(!0),s>o&&t.scrollTop(t.scrollTop()+(s-o)),u=f-t.offset().top,u<0&&i.css("display")!="none"&&t.scrollTop(t.scrollTop()+u)},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){var n=this.findHighlightableChoices(),r=this.highlight();while(r>-1&&r<n.length){r+=t;var i=e(n[r]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(r);break}}},highlight:function(t){var n=this.findHighlightableChoices(),r,i;if(arguments.length===0)return v(n.filter(".select2-highlighted")[0],n.get());t>=n.length&&(t=n.length-1),t<0&&(t=0),this.removeHighlight(),r=e(n[t]),r.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",r.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(r.text()),i=r.data("select2-data"),i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.findHighlightableChoices();this.highlight(r.index(n))}else n.length==0&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),n,r=this.resultsPage+1,i=this,s=this.search.val(),o=this.context;if(t.length===0)return;n=t.offset().top-e.offset().top-e.height(),n<=this.opts.loadMorePadding&&(t.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:r,context:o,matcher:this.opts.matcher,callback:this.bind(function(n){if(!i.opened())return;i.opts.populateResults.call(this,e,n.results,{term:s,page:r,context:o}),i.postprocessResults(n,!1,!1),n.more===!0?(t.detach().appendTo(e).text(B(i.opts.formatLoadMore,i.opts.element,r+1)),window.setTimeout(function(){i.loadMoreIfNeeded()},10)):t.remove(),i.positionDropdown(),i.resultsPage=r,i.context=n.context,this.opts.element.trigger({type:"select2-loaded",items:n})})}))},tokenize:function(){},updateResults:function(n){function h(){r.removeClass("select2-active"),u.positionDropdown(),i.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?u.liveRegion.text(i.text()):u.liveRegion.text(u.opts.formatMatches(i.find(".select2-result-selectable").length))}function p(e){i.html(e),h()}var r=this.search,i=this.results,s=this.opts,o,u=this,a,f=e.trim(r.val()),l=e.data(this.container,"select2-last-term"),c;if(n!==!0&&l&&g(f,l))return;e.data(this.container,"select2-last-term",f);if(n!==!0&&(this.showSearchInput===!1||!this.opened()))return;c=++this.queryCount;var d=this.getMaximumSelectionSize();if(d>=1){o=this.data();if(e.isArray(o)&&o.length>=d&&H(s.formatSelectionTooBig,"formatSelectionTooBig")){p("<li class='select2-selection-limit'>"+B(s.formatSelectionTooBig,s.element,d)+"</li>");return}}if(f.length<s.minimumInputLength){H(s.formatInputTooShort,"formatInputTooShort")?p("<li class='select2-no-results'>"+B(s.formatInputTooShort,s.element,f,s.minimumInputLength)+"</li>"):p(""),n&&this.showSearch&&this.showSearch(!0);return}if(s.maximumInputLength&&f.length>s.maximumInputLength){H(s.formatInputTooLong,"formatInputTooLong")?p("<li class='select2-no-results'>"+B(s.formatInputTooLong,s.element,f,s.maximumInputLength)+"</li>"):p("");return}s.formatSearching&&this.findHighlightableChoices().length===0&&p("<li class='select2-searching'>"+B(s.formatSearching,s.element)+"</li>"),r.addClass("select2-active"),this.removeHighlight(),a=this.tokenize(),a!=t&&a!=null&&r.val(a),this.resultsPage=1,s.query({element:s.element,term:f,page:this.resultsPage,context:null,matcher:s.matcher,callback:this.bind(function(o){var a;if(c!=this.queryCount)return;if(!this.opened()){this.search.removeClass("select2-active");return}if(o.hasError!==t&&H(s.formatAjaxError,"formatAjaxError")){p("<li class='select2-ajax-error'>"+B(s.formatAjaxError,s.element,o.jqXHR,o.textStatus,o.errorThrown)+"</li>");return}this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&r.val()!==""&&(a=this.opts.createSearchChoice.call(u,r.val(),o.results),a!==t&&a!==null&&u.id(a)!==t&&u.id(a)!==null&&e(o.results).filter(function(){return g(u.id(this),u.id(a))}).length===0&&this.opts.createSearchChoicePosition(o.results,a));if(o.results.length===0&&H(s.formatNoMatches,"formatNoMatches")){p("<li class='select2-no-results'>"+B(s.formatNoMatches,s.element,r.val())+"</li>");return}i.empty(),u.opts.populateResults.call(this,i,o.results,{term:f,page:this.resultsPage,context:null}),o.more===!0&&H(s.formatLoadMore,"formatLoadMore")&&(i.append("<li class='select2-more-results'>"+s.escapeMarkup(B(s.formatLoadMore,s.element,this.resultsPage))+"</li>"),window.setTimeout(function(){u.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),h(),this.opts.element.trigger({type:"select2-loaded",items:o})})})},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){T(this.search)},selectHighlighted:function(e){if(this._touchMoved){this.clearTouchMoved();return}var t=this.highlight(),n=this.results.find(".select2-highlighted"),r=n.closest(".select2-result").data("select2-data");r?(this.highlight(t),this.onSelect(r,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==t)return this.opts.placeholderOption==="first"&&n||typeof this.opts.placeholderOption=="function"&&this.opts.placeholderOption(this.select);if(e.trim(n.text())===""&&n.val()==="")return n}},initContainerWidth:function(){function n(){var n,r,i,s,o,u;if(this.opts.width==="off")return null;if(this.opts.width==="element")return this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px";if(this.opts.width==="copy"||this.opts.width==="resolve"){n=this.opts.element.attr("style");if(n!==t){r=n.split(";");for(s=0,o=r.length;s<o;s+=1){u=r[s].replace(/\s/g,""),i=u.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i);if(i!==null&&i.length>=1)return i[1]}}return this.opts.width==="resolve"?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var r=n.call(this);r!==null&&this.container.css("width",r)}}),i=q(r,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,r,i;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),n=this.search.get(0),n.createTextRange?(r=n.createTextRange(),r.collapse(!1),r.select()):n.setSelectionRange&&(i=this.search.val().length,n.setSelectionRange(i,i))),this.search.val()===""&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),I.call(this,"selection","focusser")},initContainer:function(){var t,r=this.container,i=this.dropdown,s=o(),u;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=r.find(".select2-choice"),this.focusser=r.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+s),this.focusser.attr("aria-labelledby","select2-chosen-"+s),this.results.attr("id","select2-results-"+s),this.search.attr("aria-owns","select2-results-"+s),this.focusser.attr("id","s2id_autogen"+s),u=e("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(u.text()).attr("for",this.focusser.attr("id"));var a=this.opts.element.attr("title");this.opts.element.attr("title",a||u.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;if(229==e.keyCode)return;if(e.which===n.PAGE_UP||e.which===n.PAGE_DOWN){C(e);return}switch(e.which){case n.UP:case n.DOWN:this.moveHighlight(e.which===n.UP?-1:1),C(e);return;case n.ENTER:this.selectHighlighted(),C(e);return;case n.TAB:this.selectHighlighted({noFocus:!0});return;case n.ESC:this.cancel(e),C(e);return}})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;if(e.which===n.TAB||n.isControl(e)||n.isFunctionKey(e)||e.which===n.ESC)return;if(this.opts.openOnEnter===!1&&e.which===n.ENTER){C(e);return}if(e.which==n.DOWN||e.which==n.UP||e.which==n.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;this.open(),C(e);return}if(e.which==n.DELETE||e.which==n.BACKSPACE){this.opts.allowClear&&this.clear(),C(e);return}})),w(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){e.stopPropagation();if(this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){if(!this.isInterfaceEnabled())return;this.clear(),k(e),this.close(),this.selection.focus()})),t.on("mousedown touchstart",this.bind(function(n){p(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),C(n)})),i.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){C(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var r=e.Event("select2-clearing");this.opts.element.trigger(r);if(r.isDefaultPrevented())return;var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").removeAttr("title").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){var e;if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var n=this;this.opts.initSelection.call(null,this.opts.element,function(e){e!==t&&e!==null&&(n.updateSelection(e),n.close(),n.setPlaceholder(),n.nextSearchTerm=n.opts.nextSearchTerm(e,n.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()===t?!1:(e=this.getPlaceholderOption())!==t&&e.prop("selected")||this.opts.element.val()===""||this.opts.element.val()===t||this.opts.element.val()===null},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(e,t){var r=e.find("option").filter(function(){return this.selected&&!this.disabled});t(n.optionToData(r))}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=n.val(),s=null;t.query({matcher:function(e,n,r){var o=g(i,t.id(r));return o&&(s=r),o},callback:e.isFunction(r)?function(){r(s)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var r=0,i=this,s=!0;this.findHighlightableChoices().each2(function(e,t){if(g(i.id(t.data("select2-data")),i.opts.element.val()))return r=e,!1}),n!==!1&&(t===!0&&r>=0?this.highlight(r):this.highlight(0));if(t===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(j(e.results)>=o)}},showSearch:function(t){if(this.showSearchInput===t)return;this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t)},onSelect:function(e,t){if(!this.triggerSelect(e))return;var n=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),(!t||!t.noFocus)&&this.opts.shouldFocusInput(this)&&this.focusser.focus(),g(n,this.id(e))||this.triggerChange({added:e,removed:r})},updateSelection:function(e){var n=this.selection.find(".select2-chosen"),r,i;this.selection.data("select2-data",e),n.empty(),e!==null&&(r=this.opts.formatSelection(e,n,this.opts.escapeMarkup)),r!==t&&n.attr("title",r).append(r),i=this.opts.formatSelectionCssClass(e,n),i!==t&&n.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,r=null,i=this,s=this.data();if(arguments.length===0)return this.opts.element.val();e=arguments[0],arguments.length>1&&(n=arguments[1]);if(this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return r=i.optionToData(t),!1}),this.updateSelection(r),this.setPlaceholder(),n&&this.triggerChange({added:r,removed:s});else{if(!e&&e!==0){this.clear(n);return}if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){i.opts.element.val(e?i.id(e):""),i.updateSelection(e),i.setPlaceholder(),n&&i.triggerChange({added:e,removed:s})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,r=!1;if(arguments.length===0)return n=this.selection.data("select2-data"),n==t&&(n=null),n;arguments.length>1&&(r=arguments[1]),e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),r&&this.triggerChange({added:e,removed:n})):this.clear(r)}}),s=q(r,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(e,t){var r=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){r.push(n.optionToData(t))}),t(r)}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=y(n.val(),t.separator),s=[];t.query({matcher:function(n,r,o){var u=e.grep(i,function(e){return g(e,t.id(o))}).length;return u&&s.push(o),u},callback:e.isFunction(r)?function(){var e=[];for(var n=0;n<i.length;n++){var o=i[n];for(var u=0;u<s.length;u++){var a=s[u];if(g(o,t.id(a))){e.push(a),s.splice(u,1);break}}}r(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");if(!t.length||!e||e[0]!=t[0])t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),I.call(this,"searchContainer","selection")},initContainer:function(){var t=".select2-choices",r;this.searchContainer=this.container.find(".select2-search-field"),this.selection=r=this.container.find(t);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(t){i.search[0].focus(),i.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+o()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){if(this.search.attr("placeholder")&&this.search.val().length==0)return;if(!this.isInterfaceEnabled())return;this.opened()||this.open()})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;++this.keydowns;var t=r.find(".select2-search-choice-focus"),i=t.prev(".select2-search-choice:not(.select2-locked)"),s=t.next(".select2-search-choice:not(.select2-locked)"),o=N(this.search);if(!(!t.length||e.which!=n.LEFT&&e.which!=n.RIGHT&&e.which!=n.BACKSPACE&&e.which!=n.DELETE&&e.which!=n.ENTER)){var u=t;e.which==n.LEFT&&i.length?u=i:e.which==n.RIGHT?u=s.length?s:null:e.which===n.BACKSPACE?this.unselect(t.first())&&(this.search.width(10),u=i.length?i:s):e.which==n.DELETE?this.unselect(t.first())&&(this.search.width(10),u=s.length?s:null):e.which==n.ENTER&&(u=null),this.selectChoice(u),C(e),(!u||!u.length)&&this.open();return}if((e.which===n.BACKSPACE&&this.keydowns==1||e.which==n.LEFT)&&o.offset==0&&!o.length){this.selectChoice(r.find(".select2-search-choice:not(.select2-locked)").last()),C(e);return}this.selectChoice(null);if(this.opened())switch(e.which){case n.UP:case n.DOWN:this.moveHighlight(e.which===n.UP?-1:1),C(e);return;case n.ENTER:this.selectHighlighted(),C(e);return;case n.TAB:this.selectHighlighted({noFocus:!0}),this.close();return;case n.ESC:this.cancel(e),C(e);return}if(e.which===n.TAB||n.isControl(e)||n.isFunctionKey(e)||e.which===n.BACKSPACE||e.which===n.ESC)return;if(e.which===n.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===n.PAGE_UP||e.which===n.PAGE_DOWN)&&C(e),e.which===n.ENTER&&C(e)})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",t,this.bind(function(t){if(!this.isInterfaceEnabled())return;if(e(t.target).closest(".select2-search-choice").length>0)return;this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()})),this.container.on("focus",t,this.bind(function(){if(!this.isInterfaceEnabled())return;this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder()})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){var e;this.opts.element.val()===""&&this.opts.element.text()===""&&(this.updateSelection([]),this.close(),this.clearSearch());if(this.select||this.opts.element.val()!==""){var n=this;this.opts.initSelection.call(null,this.opts.element,function(e){e!==t&&e!==null&&(n.updateSelection(e),n.close(),n.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&this.getVal().length===0&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.search.val()===""&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],r=[],i=this;e(t).each(function(){v(i.id(this),n)<0&&(n.push(i.id(this)),r.push(this))}),t=r,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){i.addSelectedChoice(this)}),i.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),e!=null&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,n){if(!this.triggerSelect(e)||e.text==="")return;this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),(!n||!n.noFocus)&&this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var r=!n.locked,i=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),o=r?i:s,u=this.id(n),a=this.getVal(),f,l;f=this.opts.formatSelection(n,o.find("div"),this.opts.escapeMarkup),f!=t&&o.find("div").replaceWith("<div>"+f+"</div>"),l=this.opts.formatSelectionCssClass(n,o.find("div")),l!=t&&o.addClass(l),r&&o.find(".select2-search-choice-close").on("mousedown",C).on("click dblclick",this.bind(function(t){if(!this.isInterfaceEnabled())return;this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),C(t),this.close(),this.focusSearch()})).on("focus",this.bind(function(){if(!this.isInterfaceEnabled())return;this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active")})),o.data("select2-data",n),o.insertBefore(this.searchContainer),a.push(u),this.setVal(a)},unselect:function(t){var n=this.getVal(),r,i;t=t.closest(".select2-search-choice");if(t.length===0)throw"Invalid argument: "+t+". Must be .select2-search-choice";r=t.data("select2-data");if(!r)return;var s=e.Event("select2-removing");s.val=this.id(r),s.choice=r,this.opts.element.trigger(s);if(s.isDefaultPrevented())return!1;while((i=v(this.id(r),n))>=0)n.splice(i,1),this.setVal(n),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(r),choice:r}),this.triggerChange({removed:r}),!0},postprocessResults:function(e,t,n){var r=this.getVal(),i=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),o=this;i.each2(function(e,t){var n=o.id(t.data("select2-data"));v(n,r)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(e,t){!t.is(".select2-result-selectable")&&t.find(".select2-result-selectable:not(.select2-selected)").length===0&&t.addClass("select2-selected")}),this.highlight()==-1&&n!==!1&&o.highlight(0),!this.opts.createSearchChoice&&!i.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&this.results.find(".select2-no-results").length===0)&&H(o.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+B(o.opts.formatNoMatches,o.opts.element,o.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-b(this.search)},resizeSearch:function(){var e,t,n,r,i,s=b(this.search);e=L(this.search)+10,t=this.search.offset().left,n=this.selection.width(),r=this.selection.offset().left,i=n-(t-r)-s,this.opts.noResizeSearch?i=e:(i<e&&(i=n-s),i<40&&(i=n-s),i<=0&&(i=e)),this.search.width(Math.floor(i))},getVal:function(){var e;return this.select?(e=this.select.val(),e===null?[]:e):(e=this.opts.element.val(),y(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){v(this,n)<0&&n.push(this)}),this.opts.element.val(n.length===0?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){var t=t.slice(0),e=e.slice(0);for(var n=0;n<t.length;n++)for(var r=0;r<e.length;r++)g(this.opts.id(t[n]),this.opts.id(e[r]))&&(t.splice(n,1),n>0&&n--,e.splice(r,1),r--);return{added:t,removed:e}},val:function(n,r){var i,s=this;if(arguments.length===0)return this.getVal();i=this.data(),i.length||(i=[]);if(!n&&n!==0){this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),r&&this.triggerChange({added:this.data(),removed:i});return}this.setVal(n);if(this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),r&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,s.id);s.setVal(n),s.updateSelection(t),s.clearSearch(),r&&s.triggerChange(s.buildChangeDetails(i,s.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var r=this,i,s;if(arguments.length===0)return this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get();s=this.data(),t||(t=[]),i=e.map(t,function(e){return r.opts.id(e)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(s,this.data()))}}),e.fn.select2=function(){var n=Array.prototype.slice.call(arguments,0),r,i,s,o,u,a=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search","setScrollContainer"],f=["opened","isFocused","container","dropdown"],l=["val","data"],c={search:"externalSearch"};return this.each(function(){if(n.length===0||typeof n[0]=="object")r=n.length===0?{}:e.extend({},n[0]),r.element=e(this),r.element.get(0).tagName.toLowerCase()==="select"?u=r.element.prop("multiple"):(u=r.multiple||!1,"tags"in r&&(r.multiple=u=!0)),i=u?new window.Select2["class"].multi:new window.Select2["class"].single,i.init(r);else{if(typeof n[0]!="string")throw"Invalid arguments to select2 plugin: "+n;if(v(n[0],a)<0)throw"Unknown method: "+n[0];o=t,i=e(this).data("select2");if(i===t)return;s=n[0],s==="container"?o=i.container:s==="dropdown"?o=i.dropdown:(c[s]&&(s=c[s]),o=i[s].apply(i,n.slice(1)));if(v(n[0],f)>=0||v(n[0],l)>=0&&n.length==1)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,r){var i=[];return O(e.text,n.term,i,r),i.join("")},formatSelection:function(e,n,r){return e?r(e.text):t},sortResults:function(e,t,n){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(e,n){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},matcher:function(e,t){return d(""+t).toUpperCase().indexOf(d(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:F,escapeMarkup:M,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,n){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){var t="ontouchstart"in window||navigator.msMaxTouchPoints>0;return t?e.opts.minimumResultsForSearch<0?!1:!0:!0}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return e===1?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(e,t,n){return"Loading failed"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" or more character"+(n==1?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(n==1?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(e==1?"":"s")},formatLoadMore:function(e){return"Loading more results…"},formatSearching:function(){return"Searching…"}},e.fn.select2.locales.ru={formatMatches:function(e){return e===1?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"Ничего не найдено"},formatAjaxError:function(e,t,n){return"Ошибка загрузки"},formatInputTooShort:function(e,t){var n=t-e.length;return"Пожалуйста введите "+n+" или более символов"},formatInputTooLong:function(e,t){var n=e.length-t;return"Пожалуйста удалите "+n+" символ"+(n==1?"":"а")},formatSelectionTooBig:function(e){return"Вы можете выбрать только "+e+" элемент"+(e==1?"":"а")},formatLoadMore:function(e){return"Загрузить больше элементов…"},formatSearching:function(){return"Поиск…"}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:_,local:D,tags:P},util:{debounce:S,markMatch:O,escapeMarkup:M,stripDiacritics:d},"class":{"abstract":r,single:i,multi:s}}}(jQuery),define("select2",["jquery"],function(){}),define("localization",["require","underscore","jquery","localizations/en-EU","localizations/ru-RU","storage/SingletonAppStorage","select2"],function(e){"use strict";function l(e,n){var r=t.cloneDeep(e),i="";return t.each(r,function(e,s){t.each(e,function(e,t){n[s]&&n[s][t]?r[s][t]=n[s][t]:i+=s+" -> "+t+"\n"})}),r}var t=e("underscore"),n=e("jquery"),r=e("localizations/en-EU"),i=e("localizations/ru-RU"),s=e("storage/SingletonAppStorage"),o=new s,u=o.get("appLanguage")||"en",a=l(r,i),f={};e("select2"),n.extend(n.fn.select2.defaults,n.fn.select2.locales[u]);switch(u){case"ru":f=a;break;default:f=r}return f}),function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define("momentLib",t):e.moment=t()}(this,function(){"use strict";function t(){return e.apply(null,arguments)}function n(t){e=t}function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(e){return Object.prototype.toString.call(e)==="[object Array]"}function s(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function o(e,t){var n=[],r;for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,r){return pn(e,t,n,r,!0).utc()}function l(e){return e._isValid==null&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&e._pf.charsLeftOver===0&&e._pf.unusedTokens.length===0&&e._pf.bigHour===undefined)),e._isValid}function c(e){var t=f(NaN);return e!=null?a(t._pf,e):t._pf.userInvalidated=!0,t}function p(e,t){var n,r,i;typeof t._isAMomentObject!="undefined"&&(e._isAMomentObject=t._isAMomentObject),typeof t._i!="undefined"&&(e._i=t._i),typeof t._f!="undefined"&&(e._f=t._f),typeof t._l!="undefined"&&(e._l=t._l),typeof t._strict!="undefined"&&(e._strict=t._strict),typeof t._tzm!="undefined"&&(e._tzm=t._tzm),typeof t._isUTC!="undefined"&&(e._isUTC=t._isUTC),typeof t._offset!="undefined"&&(e._offset=t._offset),typeof t._pf!="undefined"&&(e._pf=t._pf),typeof t._locale!="undefined"&&(e._locale=t._locale);if(h.length>0)for(n in h)r=h[n],i=t[r],typeof i!="undefined"&&(e[r]=i);return e}function v(e){p(this,e),this._d=new Date(+e._d),d===!1&&(d=!0,t.updateOffset(this),d=!1)}function m(e){return e instanceof v||e!=null&&u(e,"_isAMomentObject")}function g(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(t>=0?n=Math.floor(t):n=Math.ceil(t)),n}function y(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&g(e[o])!==g(t[o]))&&s++;return s+i}function b(){}function S(e){return e?e.toLowerCase().replace("_","-"):e}function x(e){var t=0,n,r,i,s;while(t<e.length){s=S(e[t]).split("-"),n=s.length,r=S(e[t+1]),r=r?r.split("-"):null;while(n>0){i=T(s.slice(0,n).join("-"));if(i)return i;if(r&&r.length>=n&&y(s,r,!0)>=n-1)break;n--}t++}return null}function T(e){var t=null;if(!w[e]&&typeof module!="undefined"&&module&&module.exports)try{t=E._abbr,require("./locale/"+e),N(t)}catch(n){}return w[e]}function N(e,t){var n;return e&&(typeof t=="undefined"?n=k(e):n=C(e,t),n&&(E=n)),E._abbr}function C(e,t){return t!==null?(t.abbr=e,w[e]||(w[e]=new b),w[e].set(t),N(e),w[e]):(delete w[e],null)}function k(e){var t;e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr);if(!e)return E;if(!i(e)){t=T(e);if(t)return t;e=[e]}return x(e)}function A(e,t){var n=e.toLowerCase();L[n]=L[n+"s"]=L[t]=e}function O(e){return typeof e=="string"?L[e]||L[e.toLowerCase()]:undefined}function M(e){var t={},n,r;for(r in e)u(e,r)&&(n=O(r),n&&(t[n]=e[r]));return t}function _(e,n){return function(r){return r!=null?(P(this,e,r),t.updateOffset(this,n),this):D(this,e)}}function D(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function P(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function H(e,t){var n;if(typeof e=="object")for(n in e)this.set(n,e[n]);else{e=O(e);if(typeof this[e]=="function")return this[e](t)}return this}function B(e,t,n){var r=""+Math.abs(e),i=e>=0;while(r.length<t)r="0"+r;return(i?n?"+":"":"-")+r}function R(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(q[e]=i),t&&(q[t[0]]=function(){return B(i.apply(this,arguments),t[1],t[2])}),n&&(q[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function U(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t=e.match(j),n,r;for(n=0,r=t.length;n<r;n++)q[t[n]]?t[n]=q[t[n]]:t[n]=U(t[n]);return function(i){var s="";for(n=0;n<r;n++)s+=t[n]instanceof Function?t[n].call(i,e):t[n];return s}}function W(e,t){return e.isValid()?(t=X(t,e.localeData()),I[t]||(I[t]=z(t)),I[t](e)):e.localeData().invalidDate()}function X(e,t){function r(e){return t.longDateFormat(e)||e}var n=5;F.lastIndex=0;while(n>=0&&F.test(e))e=e.replace(F,r),F.lastIndex=0,n-=1;return e}function ut(e,t,n){ot[e]=typeof t=="function"?t:function(e){return e&&n?n:t}}function at(e,t){return u(ot,e)?ot[e](t._strict,t._locale):new RegExp(ft(e))}function ft(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ct(e,t){var n,r=t;typeof e=="string"&&(e=[e]),typeof t=="number"&&(r=function(e,n){n[t]=g(e)});for(n=0;n<e.length;n++)lt[e[n]]=r}function ht(e,t){ct(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function pt(e,t,n){t!=null&&u(lt,e)&&lt[e](t,n._a,n,e)}function Et(e,t){return(new Date(Date.UTC(e,t+1,0))).getUTCDate()}function xt(e){return this._months[e.month()]}function Nt(e){return this._monthsShort[e.month()]}function Ct(e,t,n){var r,i,s;this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(r=0;r<12;r++){i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i"));if(n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function kt(e,t){var n;if(typeof t=="string"){t=e.localeData().monthsParse(t);if(typeof t!="number")return e}return n=Math.min(e.date(),Et(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Lt(e){return e!=null?(kt(this,e),t.updateOffset(this,!0),this):D(this,"Month")}function At(){return Et(this.year(),this.month())}function Ot(e){var t,n=e._a;return n&&e._pf.overflow===-2&&(t=n[vt]<0||n[vt]>11?vt:n[mt]<1||n[mt]>Et(n[dt],n[vt])?mt:n[gt]<0||n[gt]>24||n[gt]===24&&(n[yt]!==0||n[bt]!==0||n[wt]!==0)?gt:n[yt]<0||n[yt]>59?yt:n[bt]<0||n[bt]>59?bt:n[wt]<0||n[wt]>999?wt:-1,e._pf._overflowDayOfYear&&(t<dt||t>mt)&&(t=mt),e._pf.overflow=t),e}function Mt(e){t.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function _t(e,t){var n=!0;return a(function(){return n&&(Mt(e),n=!1),t.apply(this,arguments)},t)}function Pt(e,t){Dt[e]||(Mt(t),Dt[e]=!0)}function It(e){var t,n,r=e._i,i=Ht.exec(r);if(i){e._pf.iso=!0;for(t=0,n=Bt.length;t<n;t++)if(Bt[t][1].exec(r)){e._f=Bt[t][0]+(i[6]||" ");break}for(t=0,n=jt.length;t<n;t++)if(jt[t][1].exec(r)){e._f+=jt[t][0];break}r.match(rt)&&(e._f+="Z"),un(e)}else e._isValid=!1}function qt(e){var n=Ft.exec(e._i);if(n!==null){e._d=new Date(+n[1]);return}It(e),e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))}function Rt(e,t,n,r,i,s,o){var u=new Date(e,t,n,r,i,s,o);return e<1970&&u.setFullYear(e),u}function Ut(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function zt(e){return Wt(e)?366:365}function Wt(e){return e%4===0&&e%100!==0||e%400===0}function Vt(){return Wt(this.year())}function $t(e,t,n){var r=n-t,i=n-e.day(),s;return i>r&&(i-=7),i<r-7&&(i+=7),s=dn(e).add(i,"d"),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function Jt(e){return $t(e,this._week.dow,this._week.doy).week}function Qt(){return this._week.dow}function Gt(){return this._week.doy}function Yt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Zt(e){var t=$t(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}function en(e,t,n,r,i){var s=Ut(e,0,1).getUTCDay(),o,u;return s=s===0?7:s,n=n!=null?n:i,o=i-s+(s>r?7:0)-(s<i?7:0),u=7*(t-1)+(n-i)+o+1,{year:u>0?e:e-1,dayOfYear:u>0?u:zt(e-1)+u}}function tn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}function nn(e,t,n){return e!=null?e:t!=null?t:n}function rn(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function sn(e){var t,n,r=[],i,s;if(e._d)return;i=rn(e),e._w&&e._a[mt]==null&&e._a[vt]==null&&on(e),e._dayOfYear&&(s=nn(e._a[dt],i[dt]),e._dayOfYear>zt(s)&&(e._pf._overflowDayOfYear=!0),n=Ut(s,0,e._dayOfYear),e._a[vt]=n.getUTCMonth(),e._a[mt]=n.getUTCDate());for(t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[gt]===24&&e._a[yt]===0&&e._a[bt]===0&&e._a[wt]===0&&(e._nextDay=!0,e._a[gt]=0),e._d=(e._useUTC?Ut:Rt).apply(null,r),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[gt]=24)}function on(e){var t,n,r,i,s,o,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,o=4,n=nn(t.GG,e._a[dt],$t(dn(),1,4).year),r=nn(t.W,1),i=nn(t.E,1)):(s=e._locale._week.dow,o=e._locale._week.doy,n=nn(t.gg,e._a[dt],$t(dn(),s,o).year),r=nn(t.w,1),t.d!=null?(i=t.d,i<s&&++r):t.e!=null?i=t.e+s:i=s),u=en(n,r,i,o,s),e._a[dt]=u.year,e._dayOfYear=u.dayOfYear}function un(e){if(e._f===t.ISO_8601){It(e);return}e._a=[],e._pf.empty=!0;var n=""+e._i,r,i,s,o,u,a=n.length,f=0;s=X(e._f,e._locale).match(j)||[];for(r=0;r<s.length;r++)o=s[r],i=(n.match(at(o,e))||[])[0],i&&(u=n.substr(0,n.indexOf(i)),u.length>0&&e._pf.unusedInput.push(u),n=n.slice(n.indexOf(i)+i.length),f+=i.length),q[o]?(i?e._pf.empty=!1:e._pf.unusedTokens.push(o),pt(o,i,e)):e._strict&&!i&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=a-f,n.length>0&&e._pf.unusedInput.push(n),e._pf.bigHour===!0&&e._a[gt]<=12&&(e._pf.bigHour=undefined),e._a[gt]=an(e._locale,e._a[gt],e._meridiem),sn(e),Ot(e)}function an(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):e.isPM!=null?(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0),t):t}function fn(e){var t,n,i,s,o;if(e._f.length===0){e._pf.invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<e._f.length;s++){o=0,t=p({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._pf=r(),t._f=e._f[s],un(t);if(!l(t))continue;o+=t._pf.charsLeftOver,o+=t._pf.unusedTokens.length*10,t._pf.score=o;if(i==null||o<i)i=o,n=t}a(e,n||t)}function ln(e){if(e._d)return;var t=M(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],sn(e)}function cn(e){var t=e._i,n=e._f,r;return e._locale=e._locale||k(e._l),t===null||n===undefined&&t===""?c({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),m(t)?new v(Ot(t)):(i(n)?fn(e):n?un(e):hn(e),r=new v(Ot(e)),r._nextDay&&(r.add(1,"d"),r._nextDay=undefined),r))}function hn(e){var n=e._i;n===undefined?e._d=new Date:s(n)?e._d=new Date(+n):typeof n=="string"?qt(e):i(n)?(e._a=o(n.slice(0),function(e){return parseInt(e,10)}),sn(e)):typeof n=="object"?ln(e):typeof n=="number"?e._d=new Date(n):t.createFromInputFallback(e)}function pn(e,t,n,i,s){var o={};return typeof n=="boolean"&&(i=n,n=undefined),o._isAMomentObject=!0,o._useUTC=o._isUTC=s,o._l=n,o._i=e,o._f=t,o._strict=i,o._pf=r(),cn(o)}function dn(e,t,n,r){return pn(e,t,n,r,!1)}function gn(e,t){var n,r;t.length===1&&i(t[0])&&(t=t[0]);if(!t.length)return dn();n=t[0];for(r=1;r<t.length;++r)t[r][e](n)&&(n=t[r]);return n}function yn(){var e=[].slice.call(arguments,0);return gn("isBefore",e)}function bn(){var e=[].slice.call(arguments,0);return gn("isAfter",e)}function wn(e){var t=M(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||0,o=t.day||0,u=t.hour||0,a=t.minute||0,f=t.second||0,l=t.millisecond||0;this._milliseconds=+l+f*1e3+a*6e4+u*36e5,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=k(),this._bubble()}function En(e){return e instanceof wn}function Sn(e,t){R(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+B(~~(e/60),2)+t+B(~~e%60,2)})}function Tn(e){var t=(e||"").match(rt)||[],n=t[t.length-1]||[],r=(n+"").match(xn)||["-",0,0],i=+(r[1]*60)+g(r[2]);return r[0]==="+"?i:-i}function Nn(e,n){var r,i;return n._isUTC?(r=n.clone(),i=(m(e)||s(e)?+e:+dn(e))- +r,r._d.setTime(+r._d+i),t.updateOffset(r,!1),r):dn(e).local()}function Cn(e){return-Math.round(e._d.getTimezoneOffset()/15)*15}function kn(e,n){var r=this._offset||0,i;return e!=null?(typeof e=="string"&&(e=Tn(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&n&&(i=Cn(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?Xn(this,qn(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Cn(this)}function Ln(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function An(e){return this.utcOffset(0,e)}function On(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Cn(this),"m")),this}function Mn(){return this._tzm?this.utcOffset(this._tzm):typeof this._i=="string"&&this.utcOffset(Tn(this._i)),this}function _n(e){return e?e=dn(e).utcOffset():e=0,(this.utcOffset()-e)%60===0}function Dn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Pn(){if(this._a){var e=this._isUTC?f(this._a):dn(this._a);return this.isValid()&&y(this._a,e.toArray())>0}return!1}function Hn(){return!this._isUTC}function Bn(){return this._isUTC}function jn(){return this._isUTC&&this._offset===0}function qn(e,t){var n=e,r=null,i,s,o;return En(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:typeof e=="number"?(n={},t?n[t]=e:n.milliseconds=e):(r=Fn.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:g(r[mt])*i,h:g(r[gt])*i,m:g(r[yt])*i,s:g(r[bt])*i,ms:g(r[wt])*i}):(r=In.exec(e))?(i=r[1]==="-"?-1:1,n={y:Rn(r[2],i),M:Rn(r[3],i),d:Rn(r[4],i),h:Rn(r[5],i),m:Rn(r[6],i),s:Rn(r[7],i),w:Rn(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=zn(dn(n.from),dn(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new wn(n),En(e)&&u(e,"_locale")&&(s._locale=e._locale),s}function Rn(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Un(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t- +e.clone().add(n.months,"M"),n}function zn(e,t){var n;return t=Nn(t,e),e.isBefore(t)?n=Un(e,t):(n=Un(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Wn(e,t){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(Pt(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),s=n,n=r,r=s),n=typeof n=="string"?+n:n,i=qn(n,r),Xn(this,i,e),this}}function Xn(e,n,r,i){var s=n._milliseconds,o=n._days,u=n._months;i=i==null?!0:i,s&&e._d.setTime(+e._d+s*r),o&&P(e,"Date",D(e,"Date")+o*r),u&&kt(e,D(e,"Month")+u*r),i&&t.updateOffset(e,o||u)}function Jn(e){var t=e||dn(),n=Nn(t,this).startOf("day"),r=this.diff(n,"days",!0),i=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,dn(t)))}function Kn(){return new v(this)}function Qn(e,t){var n;return t=O(typeof t!="undefined"?t:"millisecond"),t==="millisecond"?(e=m(e)?e:dn(e),+this>+e):(n=m(e)?+e:+dn(e),n<+this.clone().startOf(t))}function Gn(e,t){var n;return t=O(typeof t!="undefined"?t:"millisecond"),t==="millisecond"?(e=m(e)?e:dn(e),+this<+e):(n=m(e)?+e:+dn(e),+this.clone().endOf(t)<n)}function Yn(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function Zn(e,t){var n;return t=O(t||"millisecond"),t==="millisecond"?(e=m(e)?e:dn(e),+this===+e):(n=+dn(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function er(e){return e<0?Math.ceil(e):Math.floor(e)}function tr(e,t,n){var r=Nn(e,this),i=(r.utcOffset()-this.utcOffset())*6e4,s,o;return t=O(t),t==="year"||t==="month"||t==="quarter"?(o=nr(this,r),t==="quarter"?o/=3:t==="year"&&(o/=12)):(s=this-r,o=t==="second"?s/1e3:t==="minute"?s/6e4:t==="hour"?s/36e5:t==="day"?(s-i)/864e5:t==="week"?(s-i)/6048e5:s),n?o:er(o)}function nr(e,t){var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,s;return t-r<0?(i=e.clone().add(n-1,"months"),s=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),s=(t-r)/(i-r)),-(n+s)}function rr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ir(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():W(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):W(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function sr(e){var n=W(this,e||t.defaultFormat);return this.localeData().postformat(n)}function or(e,t){return qn({to:this,from:e}).locale(this.locale()).humanize(!t)}function ur(e){return this.from(dn(),e)}function ar(e){var t;return e===undefined?this._locale._abbr:(t=k(e),t!=null&&(this._locale=t),this)}function lr(){return this._locale}function cr(e){e=O(e);switch(e){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return e==="week"&&this.weekday(0),e==="isoWeek"&&this.isoWeekday(1),e==="quarter"&&this.month(Math.floor(this.month()/3)*3),this}function hr(e){return e=O(e),e===undefined||e==="millisecond"?this:this.startOf(e).add(1,e==="isoWeek"?"week":e).subtract(1,"ms")}function pr(){return+this._d-(this._offset||0)*6e4}function dr(){return Math.floor(+this/1e3)}function vr(){return this._offset?new Date(+this):this._d}function mr(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function gr(){return l(this)}function yr(){return a({},this._pf)}function br(){return this._pf.overflow}function wr(e,t){R(0,[e,e.length],0,t)}function Er(e,t,n){return $t(dn([e,11,31+t-n]),t,n).week}function Sr(e){var t=$t(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return e==null?t:this.add(e-t,"y")}function xr(e){var t=$t(this,1,4).year;return e==null?t:this.add(e-t,"y")}function Tr(){return Er(this.year(),1,4)}function Nr(){var e=this.localeData()._week;return Er(this.year(),e.dow,e.doy)}function Cr(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}function Lr(e,t){if(typeof e=="string")if(!isNaN(e))e=parseInt(e,10);else{e=t.weekdaysParse(e);if(typeof e!="number")return null}return e}function Or(e){return this._weekdays[e.day()]}function _r(e){return this._weekdaysShort[e.day()]}function Pr(e){return this._weekdaysMin[e.day()]}function Hr(e){var t,n,r;this._weekdaysParse||(this._weekdaysParse=[]);for(t=0;t<7;t++){this._weekdaysParse[t]||(n=dn([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i"));if(this._weekdaysParse[t].test(e))return t}}function Br(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=Lr(e,this.localeData()),this.add(e-t,"d")):t}function jr(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Fr(e){return e==null?this.day()||7:this.day(this.day()%7?e:e-7)}function Ir(e,t){R(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function qr(e,t){return t._meridiemParse}function Rr(e){return(e+"").toLowerCase().charAt(0)==="p"}function zr(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function $r(e){R(0,[e,3],0,"millisecond")}function Kr(){return this._isUTC?"UTC":""}function Qr(){return this._isUTC?"Coordinated Universal Time":""}function Zr(e){return dn(e*1e3)}function ei(){return dn.apply(null,arguments).parseZone()}function ni(e,t,n){var r=this._calendar[e];return typeof r=="function"?r.call(t,n):r}function ii(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t}function oi(){return this._invalidDate}function fi(e){return this._ordinal.replace("%d",e)}function li(e){return e}function hi(e,t,n,r){var i=this._relativeTime[n];return typeof i=="function"?i(e,t,n,r):i.replace(/%d/i,e)}function pi(e,t){var n=this._relativeTime[e>0?"future":"past"];return typeof n=="function"?n(t):n.replace(/%s/i,t)}function di(e){var t,n;for(n in e)t=e[n],typeof t=="function"?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function mi(e,t,n,r){var i=k(),s=f().set(r,t);return i[n](s,e)}function gi(e,t,n,r,i){typeof e=="number"&&(t=e,e=undefined),e=e||"";if(t!=null)return mi(e,t,n,i);var s,o=[];for(s=0;s<r;s++)o[s]=mi(e,s,n,i);return o}function yi(e,t){return gi(e,t,"months",12,"month")}function bi(e,t){return gi(e,t,"monthsShort",12,"month")}function wi(e,t){return gi(e,t,"weekdays",7,"day")}function Ei(e,t){return gi(e,t,"weekdaysShort",7,"day")}function Si(e,t){return gi(e,t,"weekdaysMin",7,"day")}function Ti(){var e=this._data;return this._milliseconds=xi(this._milliseconds),this._days=xi(this._days),this._months=xi(this._months),e.milliseconds=xi(e.milliseconds),e.seconds=xi(e.seconds),e.minutes=xi(e.minutes),e.hours=xi(e.hours),e.months=xi(e.months),e.years=xi(e.years),this}function Ni(e,t,n,r){var i=qn(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Ci(e,t){return Ni(this,e,t,1)}function ki(e,t){return Ni(this,e,t,-1)}function Li(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,s,o,u=0;return r.milliseconds=e%1e3,i=er(e/1e3),r.seconds=i%60,s=er(i/60),r.minutes=s%60,o=er(s/60),r.hours=o%24,t+=er(o/24),u=er(Ai(t)),t-=er(Oi(u)),n+=er(t/30),t%=30,u+=er(n/12),n%=12,r.days=t,r.months=n,r.years=u,this}function Ai(e){return e*400/146097}function Oi(e){return e*146097/400}function Mi(e){var t,n,r=this._milliseconds;e=O(e);if(e==="month"||e==="year")return t=this._days+r/864e5,n=this._months+Ai(t)*12,e==="month"?n:n/12;t=this._days+Math.round(Oi(this._months/12));switch(e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*24*60+r/6e4;case"second":return t*24*60*60+r/1e3;case"millisecond":return Math.floor(t*24*60*60*1e3)+r;default:throw new Error("Unknown unit "+e)}}function _i(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+g(this._months/12)*31536e6}function Di(e){return function(){return this.as(e)}}function Ui(e){return e=O(e),this[e+"s"]()}function zi(e){return function(){return this._data[e]}}function Gi(){return er(this.days()/7)}function es(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ts(e,t,n){var r=qn(e).abs(),i=Yi(r.as("s")),s=Yi(r.as("m")),o=Yi(r.as("h")),u=Yi(r.as("d")),a=Yi(r.as("M")),f=Yi(r.as("y")),l=i<Zi.s&&["s",i]||s===1&&["m"]||s<Zi.m&&["mm",s]||o===1&&["h"]||o<Zi.h&&["hh",o]||u===1&&["d"]||u<Zi.d&&["dd",u]||a===1&&["M"]||a<Zi.M&&["MM",a]||f===1&&["y"]||["yy",f];return l[2]=t,l[3]=+e>0,l[4]=n,es.apply(null,l)}function ns(e,t){return Zi[e]===undefined?!1:t===undefined?Zi[e]:(Zi[e]=t,!0)}function rs(e){var t=this.localeData(),n=ts(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function ss(){var e=is(this.years()),t=is(this.months()),n=is(this.days()),r=is(this.hours()),i=is(this.minutes()),s=is(this.seconds()+this.milliseconds()/1e3),o=this.asSeconds();return o?(o<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||i||s?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(s?s+"S":""):"P0D"}var e,h=t.momentProperties=[],d=!1,w={},E,L={},j=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,I={},q={},V=/\d/,$=/\d\d/,J=/\d{3}/,K=/\d{4}/,Q=/[+-]?\d{6}/,G=/\d\d?/,Y=/\d{1,3}/,Z=/\d{1,4}/,et=/[+-]?\d{1,6}/,tt=/\d+/,nt=/[+-]?\d+/,rt=/Z|[+-]\d\d:?\d\d/gi,it=/[+-]?\d+(\.\d{1,3})?/,st=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ot={},lt={},dt=0,vt=1,mt=2,gt=3,yt=4,bt=5,wt=6;R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),R("MMMM",0,0,function(e){return this.localeData().months(this,e)}),A("month","M"),ut("M",G),ut("MM",G,$),ut("MMM",st),ut("MMMM",st),ct(["M","MM"],function(e,t){t[vt]=g(e)-1}),ct(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[vt]=i:n._pf.invalidMonth=e});var St="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Dt={};t.suppressDeprecationWarnings=!1;var Ht=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Bt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],jt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ft=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=_t("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),A("year","y"),ut("Y",nt),ut("YY",G,$),ut("YYYY",Z,K),ut("YYYYY",et,Q),ut("YYYYYY",et,Q),ct(["YYYY","YYYYY","YYYYYY"],dt),ct("YY",function(e,n){n[dt]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var Xt=_("FullYear",!1);R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),ut("w",G),ut("ww",G,$),ut("W",G),ut("WW",G,$),ht(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=g(e)});var Kt={dow:0,doy:6};R("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),ut("DDD",Y),ut("DDDD",J),ct(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),t.ISO_8601=function(){};var vn=_t("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=dn.apply(null,arguments);return e<this?this:e}),mn=_t("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=dn.apply(null,arguments);return e>this?this:e});Sn("Z",":"),Sn("ZZ",""),ut("Z",rt),ut("ZZ",rt),ct(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Tn(e)});var xn=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Fn=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,In=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;qn.fn=wn.prototype;var Vn=Wn(1,"add"),$n=Wn(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var fr=_t("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===undefined?this.localeData():this.locale(e)});R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100}),wr("gggg","weekYear"),wr("ggggg","weekYear"),wr("GGGG","isoWeekYear"),wr("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),ut("G",nt),ut("g",nt),ut("GG",G,$),ut("gg",G,$),ut("GGGG",Z,K),ut("gggg",Z,K),ut("GGGGG",et,Q),ut("ggggg",et,Q),ht(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=g(e)}),ht(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),R("Q",0,0,"quarter"),A("quarter","Q"),ut("Q",V),ct("Q",function(e,t){t[vt]=(g(e)-1)*3}),R("D",["DD",2],"Do","date"),A("date","D"),ut("D",G),ut("DD",G,$),ut("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),ct(["D","DD"],mt),ct("Do",function(e,t){t[mt]=g(e.match(G)[0],10)});var kr=_("Date",!0);R("d",0,"do","day"),R("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),R("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),R("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),ut("d",G),ut("e",G),ut("E",G),ut("dd",st),ut("ddd",st),ut("dddd",st),ht(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);r!=null?t.d=r:n._pf.invalidWeekday=e}),ht(["d","e","E"],function(e,t,n,r){t[r]=g(e)});var Ar="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Mr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Dr="Su_Mo_Tu_We_Th_Fr_Sa".split("_");R("H",["HH",2],0,"hour"),R("h",["hh",2],0,function(){return this.hours()%12||12}),Ir("a",!0),Ir("A",!1),A("hour","h"),ut("a",qr),ut("A",qr),ut("H",G),ut("h",G),ut("HH",G,$),ut("hh",G,$),ct(["H","HH"],gt),ct(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ct(["h","hh"],function(e,t,n){t[gt]=g(e),n._pf.bigHour=!0});var Ur=/[ap]\.?m?\.?/i,Wr=_("Hours",!0);R("m",["mm",2],0,"minute"),A("minute","m"),ut("m",G),ut("mm",G,$),ct(["m","mm"],yt);var Xr=_("Minutes",!1);R("s",["ss",2],0,"second"),A("second","s"),ut("s",G),ut("ss",G,$),ct(["s","ss"],bt);var Vr=_("Seconds",!1);R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$r("SSS"),$r("SSSS"),A("millisecond","ms"),ut("S",Y,V),ut("SS",Y,$),ut("SSS",Y,J),ut("SSSS",tt),ct(["S","SS","SSS","SSSS"],function(e,t){t[wt]=g(("0."+e)*1e3)});var Jr=_("Milliseconds",!1);R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var Gr=v.prototype;Gr.add=Vn,Gr.calendar=Jn,Gr.clone=Kn,Gr.diff=tr,Gr.endOf=hr,Gr.format=sr,Gr.from=or,Gr.fromNow=ur,Gr.get=H,Gr.invalidAt=br,Gr.isAfter=Qn,Gr.isBefore=Gn,Gr.isBetween=Yn,Gr.isSame=Zn,Gr.isValid=gr,Gr.lang=fr,Gr.locale=ar,Gr.localeData=lr,Gr.max=mn,Gr.min=vn,Gr.parsingFlags=yr,Gr.set=H,Gr.startOf=cr,Gr.subtract=$n,Gr.toArray=mr,Gr.toDate=vr,Gr.toISOString=ir,Gr.toJSON=ir,Gr.toString=rr,Gr.unix=dr,Gr.valueOf=pr,Gr.year=Xt,Gr.isLeapYear=Vt,Gr.weekYear=Sr,Gr.isoWeekYear=xr,Gr.quarter=Gr.quarters=Cr,Gr.month=Lt,Gr.daysInMonth=At,Gr.week=Gr.weeks=Yt,Gr.isoWeek=Gr.isoWeeks=Zt,Gr.weeksInYear=Nr,Gr.isoWeeksInYear=Tr,Gr.date=kr,Gr.day=Gr.days=Br,Gr.weekday=jr,Gr.isoWeekday=Fr,Gr.dayOfYear=tn,Gr.hour=Gr.hours=Wr,Gr.minute=Gr.minutes=Xr,Gr.second=Gr.seconds=Vr,Gr.millisecond=Gr.milliseconds=Jr,Gr.utcOffset=kn,Gr.utc=An,Gr.local=On,Gr.parseZone=Mn,Gr.hasAlignedHourOffset=_n,Gr.isDST=Dn,Gr.isDSTShifted=Pn,Gr.isLocal=Hn,Gr.isUtcOffset=Bn,Gr.isUtc=jn,Gr.isUTC=jn,Gr.zoneAbbr=Kr,Gr.zoneName=Qr,Gr.dates=_t("dates accessor is deprecated. Use date instead.",kr),Gr.months=_t("months accessor is deprecated. Use month instead",Lt),Gr.years=_t("years accessor is deprecated. Use year instead",Xt),Gr.zone=_t("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ln);var Yr=Gr,ti={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ri={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},si="Invalid date",ui="%d",ai=/\d{1,2}/,ci={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},vi=b.prototype;vi._calendar=ti,vi.calendar=ni,vi._longDateFormat=ri,vi.longDateFormat=ii,vi._invalidDate=si,vi.invalidDate=oi,vi._ordinal=ui,vi.ordinal=fi,vi._ordinalParse=ai,vi.preparse=li,vi.postformat=li,vi._relativeTime=ci,vi.relativeTime=hi,vi.pastFuture=pi,vi.set=di,vi.months=xt,vi._months=St,vi.monthsShort=Nt,vi._monthsShort=Tt,vi.monthsParse=Ct,vi.week=Jt,vi._week=Kt,vi.firstDayOfYear=Gt,vi.firstDayOfWeek=Qt,vi.weekdays=Or,vi._weekdays=Ar,vi.weekdaysMin=Pr,vi._weekdaysMin=Dr,vi.weekdaysShort=_r,vi._weekdaysShort=Mr,vi.weekdaysParse=Hr,vi.isPM=Rr,vi._meridiemParse=Ur,vi.meridiem=zr,N("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=g(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}}),t.lang=_t("moment.lang is deprecated. Use moment.locale instead.",N),t.langData=_t("moment.langData is deprecated. Use moment.localeData instead.",k);var xi=Math.abs,Pi=Di("ms"),Hi=Di("s"),Bi=Di("m"),ji=Di("h"),Fi=Di("d"),Ii=Di("w"),qi=Di("M"),Ri=Di("y"),Wi=zi("milliseconds"),Xi=zi("seconds"),Vi=zi("minutes"),$i=zi("hours"),Ji=zi("days"),Ki=zi("months"),Qi=zi("years"),Yi=Math.round,Zi={s:45,m:45,h:22,d:26,M:11},is=Math.abs,os=wn.prototype;os.abs=Ti,os.add=Ci,os.subtract=ki,os.as=Mi,os.asMilliseconds=Pi,os.asSeconds=Hi,os.asMinutes=Bi,os.asHours=ji,os.asDays=Fi,os.asWeeks=Ii,os.asMonths=qi,os.asYears=Ri,os.valueOf=_i,os._bubble=Li,os.get=Ui,os.milliseconds=Wi,os.seconds=Xi,os.minutes=Vi,os.hours=$i,os.days=Ji,os.weeks=Gi,os.months=Ki,os.years=Qi,os.humanize=rs,os.toISOString=ss,os.toString=ss,os.toJSON=ss,os.locale=ar,os.localeData=lr,os.toIsoString=_t("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ss),os.lang=fr,R("X",0,0,"unix"),R("x",0,0,"valueOf"),ut("x",nt),ut("X",it),ct("X",function(e,t,n){n._d=new Date(parseFloat(e,10)*1e3)}),ct("x",function(e,t,n){n._d=new Date(g(e))}),t.version="2.10.2",n(dn),t.fn=Yr,t.min=yn,t.max=bn,t.utc=f,t.unix=Zr,t.months=yi,t.isDate=s,t.locale=N,t.invalid=c,t.duration=qn,t.isMoment=m,t.weekdays=wi,t.parseZone=ei,t.localeData=k,t.isDuration=En,t.monthsShort=bi,t.weekdaysMin=Si,t.defineLocale=C,t.weekdaysShort=Ei,t.normalizeUnits=O,t.relativeTimeThreshold=ns;var us=t;return us}),function(e,t){typeof exports=="object"&&typeof module!="undefined"&&typeof require=="function"?t(require("momentLib")):typeof define=="function"&&define.amd?define("momentRu",["momentLib"],t):t(e.moment)}(this,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={mm:n?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return r==="m"?n?"минута":"минуту":e+" "+t(i[r],+e)}var r=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],i=e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(e){if(e.week()===this.week())return this.day()===2?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В следующее] dddd [в] LT";case 1:case 2:case 4:return"[В следующий] dddd [в] LT";case 3:case 5:case 6:return"[В следующую] dddd [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return this.day()===2?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:n,mm:n,h:"час",hh:n,d:"день",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:7}});return i}),define("moment",["require","momentLib","momentRu","storage/SingletonAppStorage"],function(e){"use strict";var t=e("momentLib");e("momentRu");var n=e("storage/SingletonAppStorage"),r=new n,i=r.get("appLanguage")||"en";return t.locale(i),t}),define("templates",[],function(){return this.JST=this.JST||{},this.JST["tpl-admin-all-members-action-header"]=function(e){var t,n="",r=_.escape;return n+='<div class="col-md-4 rp-custom-col">\n    <div class="rp-table-th">'+((t=e.text.userProfile.projectAndRoles)==null?"":t)+'</div>\n</div>\n<div class="col-md-2 rp-custom-col">\n    <div class="rp-table-th">'+((t=e.text.ui.action)==null?"":t)+"</div>\n</div>",n},this.JST["tpl-admin-all-members-action"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.member;return n+='\n<div class="col-md-4 rp-custom-col">\n    <div class="rp-info rp-info-padding">\n        <a href="#viewProejcts" class="rp-btn rp-btn-default rp-button-with-icon" data-js-view-projects data-id="'+((t=o.userId)==null?"":t)+'" title="'+((t=e.text.admin.viewProjects)==null?"":t)+'">\n            <i class="material-icons">visibility</i>\n            <span class="hidden-sm hidden-xs rp-btn-val">'+((t=e.text.admin.viewProjects)==null?"":t)+'</span>\n        </a>\n    </div>\n</div>\n<div class="col-md-2 rp-custom-col">\n    <div class="rp-info rp-info-padding">\n        ',o.account_type!="UPSA"&&!e.util.isYou(o)&&(n+='\n            <div class="rp-btn rp-btn-danger rp-button-with-icon member-action" data-id="'+((t=o.userId)==null?"":t)+'" title="'+((t=e.text.ui.delete)==null?"":t)+'">\n                <i class="material-icons">clear</i>\n                <span class="hidden-sm hidden-xs rp-btn-val">'+((t=e.text.ui.del)==null?"":t)+"</span>\n            </div>\n        "),n+="\n    </div>\n</div>\n",delete e.member,delete e.isAdmin,n},this.JST["tpl-admin-assign-project"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="row rp-table-row">\n    <div class="rp-table-th col-sm-4">\n        <div class="form-group">\n            <select id="projectId" name="projectId"></select>\n        </div>\n    </div>\n    <div class="rp-table-th col-sm-5">\n        ',e.isAdmin?n+="\n        "+((t=e.text.admin.privileges)==null?"":t)+"\n        ":(n+='\n        <div class="rp-btn-group rp-width-100">\n            <button type="button"\n                class="rp-btn rp-btn-with-dropdown rp-width-100 dropdown-toggle"\n                data-toggle="dropdown">\n                <span class="select-value" data-role="'+((t=e.defaultRole)==null?"":t)+'">'+((t=e.roles[e.defaultRole])==null?"":t)+'</span>\n                <span class="rp-caret"></span>\n            </button>\n            <ul class="dropdown-menu">\n                ',_.each(e.roles,function(r,i){n+='\n                <li>\n                    <a href="#" class="roles-option-empty '+((t=i===e.defaultRole?"active":"")==null?"":t)+'" data-value="'+((t=i)==null?"":t)+'">\n                        '+((t=r)==null?"":t)+"\n                    </a>\n                </li>\n                "}),n+="\n            </ul>\n        </div>\n        "),n+='\n    </div>\n    <div class="rp-table-th col-sm-3">\n        <a class="rp-btn rp-btn-default rp-button-with-icon assign-member"\n            disabled="disabled"\n            href="#"\n            title="'+((t=e.text.members.assignProjectTitle)==null?"":t)+'">\n            <i class="rp-icons rp-icons-assign"></i>\n            <span class="hidden-md hidden-sm hidden-xs rp-btn-val">\n                '+((t=e.text.members.assign)==null?"":t)+"\n            </span>\n        </a>\n    </div>\n</div>",n},this.JST["tpl-admin-content-shell"]=function(e){var t,n="",r=_.escape;return n+='<div class="col-sm-12 projects_list_wpapper" id="contentBody"></div>',n},this.JST["tpl-admin-header"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<nav class="navbar rp-navbar-header" role="navigation">\n    <div class="navbar-header visible-xs mobile-main-header">\n        <div class="button-menu-open" data-js-toogle-menu>\n            <div class="menu-icon-part"></div>\n            <div class="menu-icon-part"></div>\n            <div class="menu-icon-part"></div>\n        </div>\n        <div class="button-menu-close hidden" data-js-toogle-menu>\n            <i class="material-icons close-menu" title="Menu close" data-js-filter-close>close</i>\n        </div>\n        <div class="rp-logo"></div>\n    </div>\n    <div class="navbar-collapse" id="navbar-header-collapse">\n        <h3 class="col-sm-4 admin_header">'+((t=e.text.admin.managementBoard)==null?"":t)+'<span class="header-crumb" data-js-admin-header-crumb></span></h3>\n        <div class="pull-right admin_header_controls">\n            ',e.project&&(n+='\n            <a id="backToProject" href="#'+r(e.lastURL)+'" class="backToProject" data-js-back-project>\n                <i class="material-icons">keyboard_arrow_left</i>\n                '+((t=e.text.admin.backToProject)==null?"":t)+"\n            </a>\n            "),n+='\n            <a href="#" class="logout" data-js-admin-logout>\n                <span class="custom-padding">'+((t=e.text.topMenu.logout)==null?"":t)+'</span>\n                <i class="material-icons">power_settings_new</i>\n            </a>\n        </div>\n    </div>\n</nav>\n',n},this.JST["tpl-admin-member-projects"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="col-sm-6 col-md-offset-4 view_projects_wrapper">\n    <div class="row rp-table-thead visible-md visible-lg">\n        <div class="rp-table-th col-md-4">'+((t=e.text.admin.projectName)==null?"":t)+'</div>\n        <div class="rp-table-th col-md-5">'+((t=e.text.admin.projectRole)==null?"":t)+'</div>\n        <div class="rp-table-th col-md-3">'+((t=e.text.ui.action)==null?"":t)+"</div>\n    </div>\n    ",_.forEach(e.member.assigned_projects_array,function(r){var i=r.key,s=r.value;n+='\n        <div class="row rp-table-row">\n            <div class="rp-table-th col-md-4 break-link view_project_name">'+((t=i)==null?"":t)+'</div>\n            <div class="rp-table-th col-md-5">\n                ',e.isAdmin(e.member)?n+="\n                "+((t=e.text.admin.privileges)==null?"":t)+"\n                ":(n+='\n                <div class="rp-btn-group rp-width-100">\n                    <button type="button"\n                        class="rp-btn rp-btn-with-dropdown rp-width-100 dropdown-toggle"\n                        data-toggle="dropdown">\n                        <span class="select-value" data-project="'+((t=i)==null?"":t)+'">\n                            '+((t=e.roles[s.projectRole])==null?"":t)+'\n                        </span>\n                        <span class="rp-caret"></span>\n                    </button>\n                    <ul class="dropdown-menu">\n                        ',_.each(e.roles,function(e,r){n+='\n                            <li>\n                                <a href="#"\n                                class="roles-option '+((t=r===s.projectRole?"active":"")==null?"":t)+'"\n                                data-value="'+((t=r)==null?"":t)+'">\n                                    '+((t=e)==null?"":t)+"\n                                </a>\n                            </li>\n                        "}),n+="\n                    </ul>\n                </div>\n                "),n+='\n            </div>\n            <div class="rp-table-th col-md-3">\n                ';if(!e.unassignedLock(e.member,s)){n+="\n                    ";var o=e.isPersonalProjectOwner(e.member,r);n+="\n                    ",e.defaultProject!==i&&!o?n+='\n                        <div class="rp-btn rp-btn-default rp-button-with-icon unassign-member"\n                            title="'+((t=e.text.members.unAssignTitle)==null?"":t)+'"\n                            data-project="'+((t=i)==null?"":t)+'">\n                            <i class="rp-icons rp-icons-unassign"></i>\n                            <span class="hidden-md hidden-sm hidden-xs rp-btn-val">\n                                '+((t=e.text.members.unAssign)==null?"":t)+"\n                            </span>\n                        </div>\n                    ":n+='\n                        <span class="btn">\n                            <i class="material-icons"\n                                title="'+((t=o?e.text.admin.cantUnAssignFromPersonal:e.text.admin.cantUnAssignFromDefault)==null?"":t)+'">lock</i>\n                        </span>\n                    ',n+="\n                "}n+="\n            </div>\n        </div>\n    "}),n+='\n    <div class="row rp-table-row add-row">\n        <div class="rp-table-th col-md-4">\n            <div class="rp-btn rp-btn-submit rp-button-with-icon add-project"\n                href="#"\n                title="'+((t=e.text.admin.addProjectTitle)==null?"":t)+'">\n                <i class="material-icons">add</i>\n                <span class="hidden-md hidden-sm hidden-xs rp-btn-val">\n                    '+((t=e.text.ui.add)==null?"":t)+'\n                </span>\n            </div>\n        </div>\n        <div class="rp-table-th col-md-3"></div>\n        <div class="rp-table-th col-md-2"></div>\n    </div>\n</div>',n},this.JST["tpl-admin-members-assign-action"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o,u,a;o=e.member,u=e.isAdmin,a=e.canEdit(o),n+='<div class="col-md-4 rp-custom-col clearfix">\n    ';if(u)n+='\n        <div class="col-sm-12 rp-info rp-info-padding admin-role">\n            '+((t=e.text.admin.privileges)==null?"":t)+"\n        </div>\n    ";else{n+='\n    <div class="rp-btn-group rp-width-100 rp-info rp-info-padding select-role">\n        <button type="button"\n            data-value="'+((t=e.defaultRole)==null?"":t)+'" \n            class="rp-btn rp-btn-with-dropdown rp-width-100 dropdown-toggle '+((t=e.getColorClass&&e.getColorClass(o))==null?"":t)+'"\n            data-toggle="dropdown">\n            <span class="select-value" data-id="'+((t=o.userId)==null?"":t)+'">'+((t=e.defaultRole)==null?"":t)+'</span>\n            <span class="rp-caret"></span>\n        </button>\n        <ul class="dropdown-menu">\n            ';var f=0;n+="\n            ",_.forEach(e.roles,function(r,i){n+="\n                ";var s=f>e.projectRoleIndex?"disabled":"";n+='\n                    <li class="'+((t=s)==null?"":t)+'">\n                        <a href="#"\n                            class="project-roles '+((t=e.defaultRole===i?"active":"")==null?"":t)+" "+((t=s)==null?"":t)+'"\n                            data-value="'+((t=i)==null?"":t)+'">\n                            '+((t=r)==null?"":t)+"\n                        </a>\n                    </li>\n                ",f+=1,n+="\n            "}),n+='\n        </ul>\n    </div>\n    <div class="rp-btn-group col-sm-2 rp-info-padding action-info">\n        ',u&&(n+='\n            <i class="material-icons" title="'+((t=e.text.ui.lockedTitle)==null?"":t)+'">lock</i>\n        '),n+="\n    </div>\n    "}return n+='\n</div>\n<div class="col-md-2 rp-custom-col clearfix">\n    <div class="rp-info rp-info-padding">\n        ',e.unassignedLock(o)||(n+="\n            ",a&&(n+=' \n                <button data-id="'+((t=o.userId)==null?"":t)+'"\n                    class="rp-btn rp-btn-default rp-button-with-icon member-action"\n                    data-value="'+((t=e.defaultRole)==null?"":t)+'"\n                    title="'+((t=e.text.members.assignTitle)==null?"":t)+'">\n                    <i class="rp-icons rp-icons-assign"></i>\n                    <span class="hidden-sm hidden-xs rp-btn-val">'+((t=e.text.members.assign)==null?"":t)+"</span>\n                </button>\n            "),n+="\n        "),n+="\n    </div>\n</div>",delete e.member,delete e.isAdmin,n},this.JST["tpl-admin-members-assign-header"]=function(e){var t,n="",r=_.escape;return n+='<div class="col-md-4 rp-custom-col">\n    <div class="rp-table-th">'+((t=e.text.project.projectRole)==null?"":t)+'</div>\n</div>\n<div class="col-md-2 rp-custom-col">\n    <div class="rp-table-th">'+((t=e.text.ui.action)==null?"":t)+"</div>\n</div>",n},this.JST["tpl-admin-project-body"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="general_tabs clearfix" role="tabpanel">\n    <div class="tab-content clearfix">\n        <div role="tabpanel"\n            id="projectSettings"\n            class="tab-pane form-horizontal '+((t=e.tab==="settings"?"active":"")==null?"":t)+'">\n            ',e.id||(n+='\n                <div class="admin-add-project-wrapper clearfix">\n                    <div class="rp-form-group clearfix">\n                        <label class="col-md-3 col-sm-3 col-xs-12 rp-control-label rp-custom-col control-label obligatory-field" for="projectName">\n                            '+((t=e.text.admin.projectName)==null?"":t)+'\n                        </label>\n                        <div class="col-md-6 col-sm-9 col-xs-12 rp-custom-col">\n                            <input type="text"\n                                placeholder="'+((t=e.text.admin.projectName)==null?"":t)+'"\n                                id="projectName"\n                                autocomplete="off"\n                                class="rp-input-default rp-width-100 form-control" />\n                            <div class="error-bottom">\n                                <div class="help-inline"></div>\n                            </div>\n                        </div>\n                        <div class="col-md-3 hidden-sm hidden-xs rp-custom-col"></div>\n                    </div>                    <div class="rp-form-group clearfix">\n                        <div class="col-md-9 col-sm-12 col-xs-12 rp-custom-col clearfix">\n                            <button type="button" class="rp-btn rp-btn-submit create-project float-right" id="create-project">\n                                '+((t=e.text.ui.save)==null?"":t)+'\n                            </button>\n                            <a href="#administrate/projects" class="rp-btn rp-btn-cancel float-right">\n                                '+((t=e.text.ui.cancel)==null?"":t)+'\n                            </a>\n                        </div>\n                        <div class="col-md-3 hidden-sm hidden-xs rp-custom-col"></div>\n                    </div>\n                </div>\n            '),n+='\n        </div>\n        <div role="tabpanel" class="tab-pane form-horizontal '+((t=e.tab==="members"?"active":"")==null?"":t)+'" id="projectUsers" >\n            <div class="rp-project-members members-admin" data-js-project-members></div>\n        </div>\n    </div>\n</div>',n},this.JST["tpl-admin-project-details-header"]=function(e){var t,n="",r=_.escape;return n+='<div id="headerBar" class="clearfix">\n    <ul class="rp-nav-left">\n        <li class="title-holder">\n            <a href="/#administrate/projects"\n               class="header-alike"\n               title="'+((t=e.text.admin.projects)==null?"":t)+'">\n                <span>'+((t=e.text.admin.projects)==null?"":t)+'</span>\n            </a>\n        </li>\n        <li class="title-holder">\n                <span class="header-alike">\n                    '+((t=e.projectId)==null?"":t)+'\n                </span>\n        </li>\n    </ul>\n    <div class="btn-group rp-nav-right in-header-block" data-toggle="buttons">\n        <label class="btn btn-custom '+((t=e.interval===6?"active":"")==null?"":t)+'">\n            <input type="radio"\n                   name="interval"\n                   id="interval6"\n                   autocomplete="off"\n            '+((t=e.interval===6?"checked":"")==null?"":t)+'\n            data-value="6" />6 '+((t=e.text.ui.monthsString)==null?"":t)+'\n        </label>\n        <label class="btn btn-custom '+((t=e.interval===3?"active":"")==null?"":t)+'">\n            <input type="radio"\n                   name="interval"\n                   id="interval3"\n                   autocomplete="off"\n            '+((t=e.interval===3?"checked":"")==null?"":t)+'\n            data-value="3" />3 '+((t=e.text.ui.monthsString)==null?"":t)+'\n        </label>\n        <label class="btn btn-custom '+((t=e.interval===1?"active":"")==null?"":t)+'">\n            <input type="radio"\n                   name="interval"\n                   id="interval1"\n                   autocomplete="off"\n            '+((t=e.interval===1?"checked":"")==null?"":t)+'\n            data-value="1" />1 '+((t=e.text.ui.month)==null?"":t)+"\n        </label>\n    </div>\n</div>",n},this.JST["tpl-admin-project-details"]=function(e){var t,n="",r=_.escape;return n+='<div class="col-sm-12 rp-admin-project-details" id="contentBody">\n    <div class="btn-group rp-nav-right in-header-block project-intervals" data-toggle="buttons">\n        <label class="btn btn-custom ">\n            <input type="radio" name="interval" id="interval6" autocomplete="off" data-value="6">6 months\n        </label>\n        <label class="btn btn-custom active">\n            <input type="radio" name="interval" id="interval3" autocomplete="off" checked="" data-value="3">3 months\n        </label>\n        <label class="btn btn-custom ">\n            <input type="radio" name="interval" id="interval1" autocomplete="off" data-value="1">1 month\n        </label>\n    </div>\n    <div id="contentTarget"></div>\n</div>\n',n},this.JST["tpl-admin-project-header"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o="rp-hide",u="rp-hide",a=e.projectName;return e.tab==="settings"&&(o="rp-show"),e.tab==="members"&&(u="rp-show"),n+='\n<div id="headerBar" class="clearfix">\n    <ul class="rp-nav-left">\n        <li class="title-holder" id="title-all-project">\n            <a href="#administrate/projects" class="header-alike">\n                '+((t=e.text.admin.titleAllProjects)==null?"":t)+"\n            </a>\n        </li>\n        ",a!==undefined&&(n+='\n            <li class="title-holder" id="title-current-project">\n                <a href="#administrate/project-details/'+((t=e.projectName)==null?"":t)+'" class="header-alike">\n                    '+((t=a)==null?"":t)+"\n                </a>\n            </li>\n        "),n+='\n        <li class="title-holder '+((t=u)==null?"":t)+'" id="title-members">\n            <span class="header-alike">'+((t=e.text.admin.titleMembers)==null?"":t)+'</span>\n        </li>\n        <li class="title-holder '+((t=o)==null?"":t)+'" id="title-settings">\n            <span class="header-alike">'+((t=e.text.admin.titleSettings)==null?"":t)+"</span>\n        </li>\n    </ul>\n</div>",n},this.JST["tpl-admin-projects-header"]=function(e){var t,n="",r=_.escape;return n+='<div id="headerBar" class="clearfix">\n    <ul class="rp-nav-left">\n        <li class="title-holder" id="title-all-project">\n            <span class="header-alike">\n                '+((t=e.text.admin.titleAllProjects)==null?"":t)+'\n            </span>\n        </li>\n    </ul>\n    <div class="pull-right header-menu">\n        <a href="#administrate/projects/add"\n           id="addProjectBtn"\n           class="rp-btn rp-btn-default-revers rp-button-with-icon">\n            <i class="rp-icons rp-icons-add-project"></i>\n            <span class="hidden-sm hidden-xs rp-btn-val">\n                '+((t=e.text.admin.addProject)==null?"":t)+"\n            </span>\n        </a>\n    </div>\n</div>\n",n},this.JST["tpl-admin-projects-list-shell"]=function(e){var t,n="",r=_.escape;return n+='<div class="row-custom rp-projects-list-header clearfix">\n    <div class="col-md-3">\n        <div class="form-group projects-list-search">\n            <input type="text" value=""  placeholder="'+((t=e.text.admin.searchByName)==null?"":t)+'" name="nameFilter"\n                   id="nameFilter" class="favorites-name-filter rp-input-search" data-js-filter-projects>\n            <i class="material-icons">search</i>\n            <div style="display:none;" class="error-hint help-inline"></div>\n        </div>\n    </div>\n\n    <div class="col-md-6 sort-projects-list">\n        <label class="form_label sort-label" for="sortDirection">\n            '+((t=e.text.admin.sortBy)==null?"":t)+'\n        </label>\n        <div class="btn-group" role="group" id="sortDirection" data-js-sort-block>\n            </button><button type="button" class="rp-btn rp-btn-default-revers active asc" data-type="name">\n                '+((t=e.text.admin.name)==null?"":t)+'\n                <i class="material-icons arrow_up">keyboard_arrow_up</i>\n                <i class="material-icons arrow_down">keyboard_arrow_down</i>\n            </button><button type="button" class="rp-btn rp-btn-default-revers" data-type="creationDate">\n                '+((t=e.text.admin.creationDate)==null?"":t)+'\n                <i class="material-icons arrow_up">keyboard_arrow_up</i>\n                <i class="material-icons arrow_down">keyboard_arrow_down</i>\n        </div>\n    </div>\n    <div class="col-md-3">\n        <ul class="rp-nav rp-nav-right projects-view-switcher" role="group">\n            <li class="float-left">\n                <button class="projects-view projects-view-tile rp-btn rp-btn-default active"\n                        data-view-type="tile">\n                    <i class="material-icons">view_module</i>\n                </button>\n            </li>\n            <li class="float-left">\n                <button class="projects-view projects-view-table rp-btn rp-btn-default"\n                        data-view-type="table">\n                    <i class="material-icons">view_list</i>\n                </button>\n            </li>\n        </ul>\n    </div>\n</div>\n<div class="container-fluid rp-projects-list-body">\n    <div class="row">\n        <ul class="nav nav-tabs nav-tabs-custom" role="tablist">\n            <li role="presentation"\n                class="'+((t=!e.query||e.query==="internal"?"active":"")==null?"":t)+'">\n                <a href="#administrate/projects/internal"\n                   data-target="#internalProjects"\n                   aria-controls="home"\n                   role="tab"\n                   data-toggle="tab"\n                   class="tab"\n                   data-query="internal">\n                    '+((t=e.text.admin.internalProjects)==null?"":t)+' <span data-js-internal-qty></span>\n                </a>\n            </li>\n            <li role="presentation" class="'+((t=e.query==="personal"?"active":"")==null?"":t)+'">\n                <a href="#administrate/projects/personal"\n                   data-target="#personalProjects"\n                   aria-controls="profile"\n                   role="tab"\n                   data-toggle="tab"\n                   class="tab"\n                   data-query="personal">\n                    '+((t=e.text.admin.personalProjects)==null?"":t)+' <span data-js-personal-qty></span>\n                </a>\n            </li>\n        </ul>\n        <div class="tab-content">\n            <div role="tabpanel"\n                 class="tab-pane '+((t=!e.query||e.query==="internal"?"active":"")==null?"":t)+'"\n                 data-js-internal-content id="internalProjects"></div>\n            <div role="tabpanel" class="tab-pane '+((t=e.query==="personal"?"active":"")==null?"":t)+'"\n                 data-js-personal-content id="personalProjects"></div>\n        </div>\n    </div>\n</div>',n},this.JST["tpl-admin-projects-list"]=function(e){var t,n="",r=_.escape;return n+='<div data-js-projects-loader class="projects-list-loader">\n    <i class="material-icons loader-animation">refresh</i>\n</div>\n<div class="container-fluid">\n    <div data-js-projects-list class="row"></div>\n</div>\n<div data-js-projects-paging></div>',n},this.JST["tpl-admin-projects-table-view"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=0;return n+='\n<div class="container-fluid projects-table-view">\n    <div class="row rp-table-thead visible-md visible-lg">     \n        <div class="col-md-4"><div class="rp-table-th">'+((t=e.text.admin.projectName)==null?"":t)+'</div></div>\n        <div class="col-md-1"><div class="rp-table-th">'+((t=e.text.admin.kpi)==null?"":t)+'</div></div>\n        <div class="col-md-1"><div class="rp-table-th text-right">'+((t=e.text.admin.projectMembers)==null?"":t)+'</div></div>\n        <div class="col-md-1"><div class="rp-table-th text-right">'+((t=e.text.topMenu.launches)==null?"":t)+'</div></div>\n        <div class="col-md-2"><div class="rp-table-th">'+((t=e.text.admin.lastLaunchDate)==null?"":t)+'</div></div>\n        <div class="col-md-2"><div class="rp-table-th text-center">'+((t=e.text.favorites.fActions)==null?"":t)+'</div></div>\n        <div class="col-md-1"><div class="rp-table-th text-center">'+((t=e.text.ui.delete)==null?"":t)+"</div></div>\n    </div>\n    ",_.forEach(e.collection,function(i,s){n+="\n        ";if(e.filter(i,e.search)){n+="\n            ",o+=1,n+="\n            ";var u=i.lastRun&&!e.hasRunsLastWeek(i.lastRun)?"dimmed":"";n+="\n            ";var a=!e.isPersonalProject(i)&&e.isNew&&e.isNew(i.creationDate);n+="\n            ";var f=!!e.userProjects[i.projectId];n+='\n            <div class="row project-row '+((t=u)==null?"":t)+'">\n                <div class="col-md-4 clearfix">\n                     <div class="col-xs-5 visible-xs visible-sm">\n                        <h5>'+((t=e.text.admin.projectName)==null?"":t)+'</h5>\n                    </div>\n                     <div class="col-xs-7 no-padding col-md-12">\n                            <h4 class="project_name">\n                                <span class="name ',a&&(n+="name-label"),n+='">\n                                    <a href="#administrate/project-details/'+r(i.projectId)+'" class="project_details break-link" title="'+((t=e.text.admin.projectTitle)==null?"":t)+'">\n                                        '+((t=e.search?e.textWrapper(i.projectId,e.search):i.projectId)==null?"":t)+"\n                                    </a>\n                                    ",a&&(n+='\n                                    <span class="label label-success you">'+((t=e.text.admin.newProject)==null?"":t)+"</span>\n                                    "),n+='\n                                </span>\n                            </h4>\n                     </div>\n                </div>\n                <div class="col-md-1 clearfix"></div>\n                <div class="col-md-1 clearfix">\n                     <div class="col-xs-5 visible-xs visible-sm">\n                        <h5>'+((t=e.text.admin.projectMembers)==null?"":t)+'</h5>\n                    </div>\n                     <div class="col-xs-7 no-padding col-md-12">\n                        <div class="project-info text-right">\n                             <strong>'+((t=i.usersQuantity)==null?"":t)+'</strong>\n                        </div>\n                     </div>\n                </div>\n                <div class="col-md-1 clearfix">\n                    <div class="col-xs-5 visible-xs visible-sm">\n                        <h5>'+((t=e.text.topMenu.launches)==null?"":t)+'</h5>\n                    </div>\n                    <div class="col-xs-7 no-padding col-md-12">\n                        <div class="project-info text-right">\n                            <strong>'+((t=i.launchesQuantity)==null?"":t)+'</strong>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-md-2 clearfix">\n                    <div class="col-xs-5 visible-xs visible-sm">\n                        <h5>'+((t=e.text.admin.lastLaunchDate)==null?"":t)+'</h5>\n                    </div>\n                    <div class="col-xs-7 no-padding col-md-12">\n                        <div class="project-info">\n                            '+((t=i.lastRun?e.util.daysFromNow(i.lastRun):e.text.admin.lastRunSuffix)==null?"":t)+'\n                        </div>\n                    </div>\n                </div>\n                <div class="col-md-2 clearfix">\n                    <div class="col-xs-5 visible-xs visible-sm">\n                        <h5>'+((t=e.text.favorites.fActions)==null?"":t)+'</h5>\n                    </div>\n                    <div class="col-xs-7 no-padding col-md-12">\n                            <ul class="nav rp-icons-style projects-table-view-actions">\n                                <li class="col-xs-4 projects-table-view-list-item">\n                                    <a class="project-link"\n                                        title="'+((t=e.text.ui.settings)==null?"":t)+'"\n                                        href="#administrate/projects/'+r(i.projectId)+'/settings">\n                                        <i class="material-icons">settings</i>\n                                    </a>\n                                </li>\n                                <li class="col-xs-4 projects-table-view-list-item">\n                                    <a class="project-link"\n                                        title="'+((t=e.text.ui.members)==null?"":t)+'"\n                                        href="#administrate/projects/'+r(i.projectId)+'/members">\n                                        <i class="rp-icons rp-icons-all-users"></i>\n                                    </a>\n                                </li>\n                                <li class="col-xs-4 switch-icons projects-table-view-list-item '+((t=f?"":"no-assigned")==null?"":t)+'">\n                                     <a class="project-link go-to-project"\n                                        title="'+((t=e.text.admin.goToProject)==null?"":t)+'"\n                                        href="#'+r(i.projectId)+'">\n                                         <i class="material-icons">open_in_browser</i>\n                                     </a>\n                                    ',f||(n+='\n                                        <a class="project-link assign-to-project"\n                                            title="'+((t=e.text.admin.assignToProject)==null?"":t)+'"\n                                            href="#"\n                                            data-project="'+r(i.projectId)+'">\n                                            <i class="material-icons">playlist_add_check</i>\n                                        </a>\n                                    '),n+='\n                                </li>\n                            </ul>\n                     </div>\n                </div>\n                <div class="col-md-1 no-padding clearfix text-center">\n                    ',e.canDelete(i)&&!e.isPersonalProject(i)&&(n+='\n                    <a class=" project-link remove-project"\n                       href="#" title="'+((t=e.text.permissionMap.deleteProject)==null?"":t)+'"\n                       data-id="'+r(i.projectId)+'"\n                       data-active="'+((t=e.active)==null?"":t)+'">\n                        <i class="rp-icons rp-icons-delete" data-js-remove=""></i>\n                    </a>\n                    '),n+="\n                </div>\n            </div>\n        "}n+="\n    "}),n+="\n</div>\n",o===0&&(n+='\n    <div class="col-sm-12">\n        <h3>'+((t=e.text.infoMessages.noResults)==null?"":t)+"</h3>\n    </div>\n"),n+="\n",n},this.JST["tpl-admin-projects-tile-view"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=0;return n+="\n",_.forEach(e.collection,function(i,s){n+="\n    ";if(e.filter(i,e.search)){n+="\n    ",o+=1,n+="\n        ";var u=i.lastRun&&!e.hasRunsLastWeek(i.lastRun)?"dimmed":"";n+="\n        ";var a=!e.isPersonalProject(i)&&e.isNew&&e.isNew(i.creationDate);n+="\n        ";var f=a?"":"no-label";n+='\n          <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 project-item project-row '+((t=u)==null?"":t)+'">\n            <div class="project-wrapper">\n                ',e.canDelete(i)&&!e.isPersonalProject(i)&&(n+='\n                    <div class="remove-project"\n                        data-id="'+r(i.projectId)+'"\n                        data-active="'+((t=e.active)==null?"":t)+'">\n                        <i class="material-icons">clear</i>\n                    </div>\n                '),n+='\n                <h2 class="project_name '+((t=f)==null?"":t)+'">\n                    <span class="name ',a&&(n+="name-label"),n+='">\n                        <a href="#administrate/project-details/'+r(i.projectId)+'" class="project_details break-link" title="'+((t=e.text.admin.projectTitle)==null?"":t)+'">\n                            '+((t=e.search?e.textWrapper(i.projectId,e.search):i.projectId)==null?"":t)+"\n                        </a>\n                        ",a&&(n+='\n                        <span class="label label-success you">'+((t=e.text.admin.newProject)==null?"":t)+"</span>\n                        "),n+='\n                    </span>\n                </h2>\n                <div class="row project_info_wrapper">\n                    <div class="col-sm-6 text-center heartbeat_block">\n                        <div class="health_icon">\n                            <i class="rp-icons rp-icons-heartbeat"></i>\n                        </div>\n                        <div class="health_index"><!-- health index --></div>\n                    </div>\n                    <div class="col-sm-6 project_info_block">\n                        <div class="project_info"><span class="bold">'+((t=i.usersQuantity)==null?"":t)+"</span>"+((t=i.usersQuantity==1?e.text.admin.usersQuantitySingular:e.text.admin.usersQuantity)==null?"":t)+'</div>\n                        <div class="project_info"><span class="bold">'+((t=i.launchesQuantity)==null?"":t)+"</span>"+((t=i.launchesQuantity==1?e.text.admin.launchesQuantitySingular:e.text.admin.launchesQuantity)==null?"":t)+'</div>\n                        <div class="project_info">'+((t=e.text.admin.lastRunPrefix)==null?"":t)+""+((t=i.lastRun?e.util.daysFromNow(i.lastRun):e.text.admin.lastRunSuffix)==null?"":t)+"</div>\n                    </div>\n                </div>\n                ";var l=!!e.userProjects[i.projectId];n+='\n                <div class="row project-link_wrapper '+((t=l?"":"no-assigned")==null?"":t)+'">\n                    <a class="col-sm-4 project-link" title="'+((t=e.text.ui.settings)==null?"":t)+'" href="#administrate/projects/'+r(i.projectId)+'/settings">\n                        <i class="material-icons">settings</i>\n                    </a>\n                    <a class="col-sm-4 project-link" title="'+((t=e.text.ui.members)==null?"":t)+'" href="#administrate/projects/'+r(i.projectId)+'/members">\n                        <i class="rp-icons rp-icons-all-users"></i>\n                    </a>\n                    <a class="col-sm-4 project-link go-to-project" title="'+((t=e.text.admin.goToProject)==null?"":t)+'" href="#'+r(i.projectId)+'">\n                        <i class="material-icons">open_in_browser</i>\n                    </a>\n                    ',l||(n+='\n                    <a class="col-sm-4 project-link assign-to-project" title="'+((t=e.text.admin.assignToProject)==null?"":t)+'" href="#" data-project="'+r(i.projectId)+'">\n                        <i class="material-icons">playlist_add_check</i>\n                    </a>\n                    '),n+="\n                </div>\n            </div>\n        </div>\n        ",o%4===0&&(n+='\n            <div class="clearfix"></div>\n        '),n+="\n    "}n+="\n"}),n+="\n",o===0&&(n+='\n    <div class="col-sm-12">\n        <div class="col-sm-12 text-center">\n            <h3 class="title-no-data text-center">\n                <i class="rp-icons rp-icons-warning"></i>\n                <span class="warning">'+((t=e.text.infoMessages.noResults)==null?"":t)+"</span>\n            </h3>\n        </div>\n    </div>\n"),n+="\n",n},this.JST["tpl-admin-side-bar"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="sidebar-close" data-js-sidebar-close></div>\n<div class="sidebar-content">\n    <span class="logo">\n        <i class="sprite sprite-logo"></i>\n        <!-- <span>'+((t=e.text.topMenu.reportPortal)==null?"":t)+'</span> -->\n    </span>\n    <nav data-js-scroll-container class="admin-side-bar">\n        <ul class="main-menu" id="adminBar">\n            <li>\n                <a href="#administrate/projects"\n                    id="projectsSection"\n                    class="'+((t=e.page==="projects"?"active":"")==null?"":t)+'">\n                    <i class="rp-icons rp-icons-projects fsize-19"></i>\n                    <span>'+((t=e.text.admin.projects)==null?"":t)+'</span>\n                </a>\n            </li>\n            <li>\n                <a href="#administrate/users"\n                    id="usersSection"\n                    class="'+((t=e.page==="users"?"active":"")==null?"":t)+'">\n                    <i class="rp-icons rp-icons-all-users fsize-17"></i>\n                    <span>'+((t=e.text.admin.users)==null?"":t)+'</span>\n                </a>\n            </li>\n            <li>\n                <a href="#administrate/settings"\n                    id="settingsSection"\n                    class="'+((t=e.page==="settings"?"active":"")==null?"":t)+'">\n                    <i class="rp-icons rp-icons-settings-left-menu  fsize-23"></i>\n                    <span>'+((t=e.text.admin.serverSettings)==null?"":t)+'</span>\n                </a>\n            </li>\n        </ul>\n        <ul class="user-menu">\n            ',e.lastURL&&(n+='\n                <li class="'+((t=isActive)==null?"":t)+' col-xs-6 col-sm-12">\n                    <a href="#'+r(e.lastURL)+'" class="mem-set user-id">\n                        <i class="material-icons">chevron_left</i>\n                        '+((t=e.text.admin.backToProject)==null?"":t)+"\n                    </a>\n                </li>\n            "),n+='\n            <li class="'+((t=isActive)==null?"":t)+' col-xs-6 col-sm-12">\n                <a href="#user-profile" class="mem-set user-id">\n                    <i class="material-icons">person</i>\n                    <span class="custom-padding">'+((t=e.text.topMenu.profile)==null?"":t)+'</span>\n                </a>\n            </li>\n            <li class="'+((t=isActive)==null?"":t)+' col-xs-6 col-sm-12">\n                <a href="#" data-js-logout>\n                    <i class="rp-icons rp-icons-logout fsize-23"></i>\n                    <span class="custom-padding">'+((t=e.text.topMenu.logout)==null?"":t)+'</span>\n                </a>\n            </li>\n        </ul>\n    </nav>\n    </nav>\n    <a id="back-top" class="hidden-xs" title="'+((t=e.text.ui.backToTop)==null?"":t)+'" style="display: none;" global-back-top>\n        <nobr>\n            <span id="btt-span">'+((t=e.text.ui.backToTop)==null?"":t)+"</span>\n        </nobr>\n    </a>\n</div>\n",n},this.JST["tpl-admin-users-header"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div id="headerBar" class="clearfix">\n    <ul class="rp-nav-left">\n        <li class="title-holder">\n            <span class="header-alike">'+((t=e.text.admin.users)==null?"":t)+'</span>\n        </li>\n    </ul>\n    <ul class="rp-nav-right">\n        <li class="rp-launch-bt float-right margin-left-10 rp-item-li-fix-height">\n            <a href="#administrate/users/add"\n                id="toAddUser"\n                title="'+((t=e.text.admin.addUser)==null?"":t)+'"\n                class="rp-btn rp-btn-default-revers rp-button-with-icon ',e.action=="add"&&"disabled",n+='">\n                <i class="rp-icons rp-icons-add-user"></i>\n                <span class="hidden-sm hidden-xs rp-btn-val">'+((t=e.text.admin.addUser)==null?"":t)+'</span>\n            </a>\n        </li>\n        <li class="rp-launch-btn float-right margin-left-10 rp-item-li-fix-height">\n            <a href="#administrate/users/invite"\n                id="toInviteUser"\n                title="'+((t=e.text.admin.inviteUser)==null?"":t)+'"\n                class="rp-btn rp-btn-default-revers rp-button-with-icon ',e.action=="invite"&&"disabled",n+='">\n                <i class="rp-icons rp-icons-invite-user"></i>\n                <span class="hidden-sm hidden-xs rp-btn-val">'+((t=e.text.admin.inviteUser)==null?"":t)+"</span>\n            </a>\n        </li>\n    </ul>\n</div>",n},this.JST["tpl-admin-users"]=function(e){var t,n="",r=_.escape;return n+='<div class="all-users">\n    <div class="container-fluid rp-margin-reset rp-odd-even rp-members-list rp-table-hover">\n        <div class="row rp-table-thead visible-md visible-lg">\n            <div class="col-md-6">\n                <div class="col-md-6">\n                    <div class="input-filter form-group">\n                        <input type="text"\n                            class="favorites-name-filter rp-input-search"\n                            id="userFilter"\n                            name="userFilter"\n                            placeholder="'+((t=e.text.favorites.fName)==null?"":t)+'"\n                            value="'+r(e.nameFilterValue||"")+'" />\n                        <i class="material-icons">search</i>\n                        <div class="error-hint help-inline" style="display:none;"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="col-md-2">\n                <div class="rp-table-th">'+((t=e.text.admin.lastLogin)==null?"":t)+'</div>\n            </div>\n            <div class="col-md-2">\n                <div class="rp-table-th">'+((t=e.text.admin.projectsRoles)==null?"":t)+'</div>\n            </div>\n            <div class="col-md-2">\n                <div class="rp-table-th">'+((t=e.text.admin.deleteUser)==null?"":t)+'</div>\n            </div>\n        </div>\n        <div class="users-list">\n            <div id="usersList"></div>\n            <div id="popupLoader" class="admin-section" style="display:none;">\n                <i class="material-icons loader-animation">refresh</i>\n            </div>\n        </div>\n    </div>\n    <div id="pagingHolder"></div>\n</div>',n},this.JST["tpl-projects-body"]=function(e){var t,n="",r=_.escape;return n+='<div class="rp-admin-projects clearfix" data-js-admin-projects></div>\n',n},this.JST["tpl-projects-details"]=function(e){var t,n="",r=_.escape;return n+='<div class="col-sm-12 rp-admin-project-details" id="contentBody">\n    <div class="print">\n        <p>'+r(e.text.dashboard.project)+": <span>"+r(e.projectName)+'</span></p>\n    </div>\n    <div class="btn-group rp-nav-right in-header-block project-intervals" data-toggle="buttons">\n        <label class="btn btn-custom ">\n            <input type="radio" name="interval" id="interval6" autocomplete="off" data-value="6">'+((t=e.text.admin.month6)==null?"":t)+'\n        </label>\n        <label class="btn btn-custom active">\n            <input type="radio" name="interval" id="interval3" autocomplete="off" checked="" data-value="3">'+((t=e.text.admin.month3)==null?"":t)+'\n        </label>\n        <label class="btn btn-custom ">\n            <input type="radio" name="interval" id="interval1" autocomplete="off" data-value="1">'+((t=e.text.admin.month1)==null?"":t)+'\n        </label>\n    </div>\n    <div id="contentTarget"></div>\n</div>\n',n},this.JST["tpl-projects-header"]=function(e){var t,n="",r=_.escape;return n+='<div class="rp-admin-header">\n    <div class="admin-breadcrumbs" data-js-main-breadcrumbs></div>\n    <div class="admin-header-menu">\n        <div class="project-buttons" data-js-project-buttons>\n            <a class="rp-btn rp-btn-default-revers rp-button-with-icon" data-js-project-settings title="'+((t=e.text.ui.settings)==null?"":t)+'">\n                <i class="material-icons">settings</i>\n                <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.ui.settings)==null?"":t)+'</span>\n            </a>\n            <a class="rp-btn rp-btn-default-revers rp-button-with-icon" data-js-project-members title="'+((t=e.text.admin.projectMembers)==null?"":t)+'">\n                <i class="rp-icons rp-icons-all-users"></i>\n                <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.admin.projectMembers)==null?"":t)+'</span>\n            </a>\n        </div>\n        <div class="project-buttons" data-js-add-project-button>\n            <a class="rp-btn rp-btn-default-revers rp-button-with-icon" data-js-add-project title="'+((t=e.text.admin.addProject)==null?"":t)+'">\n                <i class="rp-icons rp-icons-add-project"></i>\n                <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.admin.addProject)==null?"":t)+"</span>\n            </a>\n        </div>\n    </div>\n</div>\n",n},this.JST["tpl-projects-item-list"]=function(e){var t,n="",r=_.escape;return n+='<div class="project-wrapper">\n    <div class="remove-project hide" data-js-delete-project>\n        <i class="material-icons">clear</i>\n    </div>\n    <h2 class="project-name">\n        <span class="name" data-js-project-name-label>\n            <a href="" class="project_details break-link" title="'+((t=e.text.admin.projectTitle)==null?"":t)+'" data-js-project-name></a>\n            <span class="new-label hide" data-js-project-new>'+((t=e.text.admin.newProject)==null?"":t)+'</span>\n        </span>\n    </h2>\n    <div class="project-info-wrapper">\n        <div class="heartbeat-block">\n            <div class="health-icon">\n                <i class="rp-icons rp-icons-heartbeat"></i>\n            </div>\n            <div class="health-index"><!-- health index --></div>\n        </div>\n        <div class="project-info-block">\n            <div class="project-info" data-js-project-users></div>\n            <div class="project-info" data-js-project-launches></div>\n            <div class="project-info" data-js-project-last-run></div>\n        </div>\n    </div>\n    <div class="project-link-wrapper">\n        <a class="project-link go-to-settings" title="'+((t=e.text.ui.settings)==null?"":t)+'" href="" data-js-settings-link>\n            <i class="material-icons">settings</i>\n        </a>\n        <a class="project-link go-to-members" title="'+((t=e.text.ui.members)==null?"":t)+'" href="" data-js-members-link>\n            <i class="rp-icons rp-icons-all-users"></i>\n        </a>\n        <a class="project-link go-to-events hide" title="'+((t=e.text.ui.events)==null?"":t)+'" href="" data-js-events-link>\n            <i class="material-icons event-note">event_note</i>\n        </a>\n        <a class="project-link go-to-project hide" title="'+((t=e.text.admin.goToProject)==null?"":t)+'" href="#open-project" data-js-go-to-project>\n            <i class="material-icons">open_in_browser</i>\n        </a>\n        <a class="project-link assign-to-project hide" title="'+((t=e.text.admin.assignToProject)==null?"":t)+'" href="#assign-to-project" data-js-assign-to-project>\n            <i class="material-icons">playlist_add_check</i>\n        </a>\n    </div>\n</div>\n',n},this.JST["tpl-projects-item-table"]=function(e){var t,n="",r=_.escape;return n+='<div class="project-delete-col">\n    <div class="remove-project">\n        <a class="project-link hide" data-js-delete-project href="#delete-project"\n           title="'+((t=e.text.permissionMap.deleteProject)==null?"":t)+'">\n            <i class="rp-icons rp-icons-delete"></i>\n        </a>\n    </div>\n</div>\n<div class="project-cols-group">\n    <div class="grid-cell project-name-col">\n        <h2 class="project-name">\n            <span class="name">\n                <a href="" class="project_details break-link" title="'+((t=e.text.admin.projectTitle)==null?"":t)+'"\n                   data-js-project-name></a>\n                <span class="label label-success hide" data-js-project-new>'+((t=e.text.admin.newProject)==null?"":t)+'</span>\n            </span>\n        </h2>\n    </div>\n    <div class="grid-cell project-kpi-col"></div>\n    <div class="grid-cell project-members-col">\n        <div class="project-title-mobile">\n            <h5>'+((t=e.text.admin.projectMembers)==null?"":t)+':</h5>\n        </div>\n        <div class="project-members">\n            <div class="project-info" data-js-project-users></div>\n        </div>\n    </div>\n    <div class="grid-cell project-launches-col">\n        <div class="project-title-mobile">\n            <h5>'+((t=e.text.topMenu.launches)==null?"":t)+':</h5>\n        </div>\n        <div class="project-launches">\n            <div class="project-info" data-js-project-launches></div>\n        </div>\n    </div>\n    <div class="grid-cell project-date-col">\n        <div class="project-title-mobile">\n            <h5>'+((t=e.text.admin.lastRunMobile)==null?"":t)+':</h5>\n        </div>\n        <div class="project-date">\n            <div class="project-info" data-js-project-last-run></div>\n        </div>\n    </div>\n    <div class="grid-cell project-actions-col">\n        <div class="projects-actions">\n            <div class="project-link-wrapper">\n                <a class="project-link go-to-settings" title="'+((t=e.text.ui.settings)==null?"":t)+'" href=""\n                   data-js-settings-link>\n                    <i class="material-icons">settings</i>\n                </a>\n                <a class="project-link go-to-members" title="'+((t=e.text.ui.members)==null?"":t)+'" href="" data-js-members-link>\n                    <i class="rp-icons rp-icons-all-users"></i>\n                </a>\n                <a class="project-link go-to-project hide" title="'+((t=e.text.admin.goToProject)==null?"":t)+'"\n                   href="#open-project" data-js-go-to-project>\n                    <i class="material-icons">open_in_browser</i>\n                </a>\n                <a class="project-link assign-to-project hide" title="'+((t=e.text.admin.assignToProject)==null?"":t)+'"\n                   href="#assign-to-project" data-js-assign-to-project>\n                    <i class="material-icons">playlist_add_check</i>\n                </a>\n            </div>\n        </div>\n    </div>\n</div>\n',n},this.JST["tpl-projects-list-head"]=function(e){var t,n="",r=_.escape;return n+='<div class="rp-table-thead">\n    <div class="project-delete-col">\n        <div class="rp-table-th text-center">'+((t=e.text.ui.delete)==null?"":t)+'</div>\n    </div>\n    <div class="project-cols-group">\n        <div class="grid-cell project-name-col">\n            <div class="rp-table-th">'+((t=e.text.admin.projectName)==null?"":t)+'</div>\n        </div>\n        <div class="grid-cell project-kpi-col">\n            <div class="rp-table-th">'+((t=e.text.admin.kpi)==null?"":t)+'</div>\n        </div>\n        <div class="grid-cell project-members-col">\n            <div class="rp-table-th">'+((t=e.text.admin.projectMembers)==null?"":t)+'</div>\n        </div>\n        <div class="grid-cell project-launches-col">\n            <div class="rp-table-th">'+((t=e.text.topMenu.launches)==null?"":t)+'</div>\n        </div>\n        <div class="grid-cell project-date-col">\n            <div class="rp-table-th">'+((t=e.text.admin.lastLaunchDate)==null?"":t)+'</div>\n        </div>\n        <div class="grid-cell project-actions-col">\n            <div class="rp-table-th text-center">'+((t=e.text.admin.actions)==null?"":t)+"</div>\n        </div>\n    </div>\n</div>",n},this.JST["tpl-projects-list-shell"]=function(e){var t,n="",r=_.escape;return n+='<div class="rp-projects-list-header">\n    <div class="projects-list-search">\n        <div class="form-group projects-search">\n            <input type="text" value="" placeholder="'+((t=e.text.admin.searchByName)==null?"":t)+'" name="nameFilter"\n                   id="nameFilter" class="favorites-name-filter rp-input-search" data-js-filter-projects>\n            <i class="material-icons">search</i>\n            <div style="display:none;" class="error-hint help-inline"></div>\n        </div>\n    </div>\n    <div class="sort-projects-list">\n        <label class="form_label sort-label" for="sortDirection">\n            '+((t=e.text.admin.sortBy)==null?"":t)+'\n        </label>\n        <div class="rp-btn-group" id="sortDirection" data-js-sort-block>\n            <button type="button" class="rp-btn rp-btn-default-revers active asc" data-type="name">\n                '+((t=e.text.admin.name)==null?"":t)+'\n                <i class="material-icons arrow_up">keyboard_arrow_up</i>\n                <i class="material-icons arrow_down">keyboard_arrow_down</i>\n            </button>\n            <button type="button" class="rp-btn rp-btn-default-revers" data-type="creationDate">\n                '+((t=e.text.admin.creationDate)==null?"":t)+'\n                <i class="material-icons arrow_up">keyboard_arrow_up</i>\n                <i class="material-icons arrow_down">keyboard_arrow_down</i>\n            </button>\n        </div>\n    </div>\n    <div class="change-projects-view">\n        <ul class="rp-nav rp-nav-right projects-view-switcher" role="group">\n            <li>\n                <button class="projects-view projects-view-tile rp-btn rp-btn-default active"\n                        data-js-view-type="list">\n                    <i class="material-icons">view_module</i>\n                </button>\n            </li>\n            <li>\n                <button class="projects-view projects-view-table rp-btn rp-btn-default"\n                        data-js-view-type="table">\n                    <i class="material-icons">view_list</i>\n                </button>\n            </li>\n        </ul>\n    </div>\n</div>\n<div class="rp-projects-list-body">\n    <div class="print">\n        <p>'+r(e.text.admin.titleAllProjects)+'</p>\n    </div>\n    <ul class="nav nav-tabs nav-tabs-custom" role="tablist">\n        <li class="'+((t=!e.tab||e.tab==="internal"?"active":"")==null?"":t)+'">\n            <a href="#" class="tab" data-js-tab-action="internal">\n                '+((t=e.text.admin.internalProjects)==null?"":t)+' <span data-js-internal-qty></span>\n            </a>\n        </li>\n        <li class="'+((t=e.tab==="personal"?"active":"")==null?"":t)+'">\n            <a href="#" class="tab" data-js-tab-action="personal">\n                '+((t=e.text.admin.personalProjects)==null?"":t)+' <span data-js-personal-qty></span>\n            </a>\n        </li>\n    </ul>\n    <div data-js-nav-tabs-mobile class="nav-tabs-mobile"></div>\n    <div data-js-tab-content class="tab-content"></div>\n</div>\n',n},this.JST["tpl-projects-list"]=function(e){var t,n="",r=_.escape;return n+='<div data-js-projects-loader class="preloader">\n    <i class="material-icons loader-animation">refresh</i>\n</div>\n<div data-js-projects-content>\n    <div data-js-projects-list></div>\n    <div class="projects-paging" data-js-projects-paging></div>\n</div>\n<div data-js-projects-empty class="hide">\n    <div class="no-result-found">\n        <p class="no-result-title"><i class="rp-icons rp-icons-warning"></i> '+((t=e.text.admin.noProjectsFound)==null?"":t)+" '<span data-js-search-text></span>'</p>\n        <p>"+((t=e.text.ui.checkQuery)==null?"":t)+"</p>\n    </div>\n</div>\n",n},this.JST["tpl-projects-table"]=function(e){var t,n="",r=_.escape;return n+='<div data-js-projects-loader class="projects-list-loader">\n    <i class="material-icons loader-animation">refresh</i>\n</div>\n<div class="container-fluid">\n    <div data-js-projects-list class="row"></div>\n</div>\n<div data-js-projects-paging></div>',n},this.JST["tpl-ad-auth-config"]=function(e){var t,n="",r=_.escape;return n+='<div class="title-block">'+((t=e.text.admin.activeDirectory)==null?"":t)+'</div>\n<form class="rp-form">\n    <div class="rp-field switcher-field">\n        <span>'+((t=e.text.admin.activateActiveDirectoryAuth)==null?"":t)+'</span>\n        <div class="ad-auth-state-mobile" data-js-ad-enable-mobile></div>\n        <label class="rp-switcher-big">\n            <span class="turn-on">'+((t=e.text.ui.on)==null?"":t)+'</span>\n            <span class="turn-off">'+((t=e.text.ui.off)==null?"":t)+'</span>\n            <input type="checkbox" data-js-ad-enable>\n            <div class="slider"></div>\n        </label>\n    </div>\n    <div class="config-fields" data-js-ad-config>\n        <label class="rp-field">\n            <span class="required">'+((t=e.text.admin.domain)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-domain>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field ldap-url-field">\n            <span class="required">'+((t=e.text.admin.url)==null?"":t)+'</span>\n            <span class="ldap" data-js-ldap-protocol></span>\n            <input type="text" class="rp-input" data-js-ldap-url>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span class="required">'+((t=e.text.admin.baseDN)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-base-dn>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span class="required">'+((t=e.text.admin.email)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-email>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span>'+((t=e.text.admin.fullName)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-full-name>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span>'+((t=e.text.admin.photo)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-photo>\n            <span class="validate-hint"></span>\n        </label>\n    </div>\n    <div class="rp-field">\n        <button type="button" class="rp-btn rp-btn-submit" disabled data-js-submit-ad-auth-settings>\n            '+((t=e.text.ui.submit)==null?"":t)+"\n        </button>\n    </div>\n</form>\n",n},this.JST["tpl-auth-server-organizations"]=function(e){var t,n="",r=_.escape;return n+='<label class="rp-field" data-js-org-row>\n    <span>'+((t=e.text.admin.gitHubOrgName)==null?"":t)+'</span>\n    <input type="text" class="rp-input" disabled data-js-org-name="'+r(e.name)+'" value="'+r(e.name)+'">\n    <span class="validate-hint"></span>\n    <a href="delete-organization" class="delete-item" data-js-delete-org>\n        <i class="rp-icons rp-icons-cancel"></i>\n    </a>\n</label>',n},this.JST["tpl-auth-server-settings"]=function(e){var t,n="",r=_.escape;return n+='<div class="auth-server-settings-instance-container" data-js-github-auth-config-container></div>\n<div class="auth-server-settings-instance-separator"></div>\n<div class="auth-server-settings-instance-container" data-js-ad-auth-config-container></div>\n<div class="auth-server-settings-instance-separator"></div>\n<div class="auth-server-settings-instance-container" data-js-ldap-auth-config-container></div>\n<div class="mobile-disabling-cover"></div>\n',n},this.JST["tpl-github-auth-config"]=function(e){var t,n="",r=_.escape;return n+='<div class="title-block">'+((t=e.text.admin.gitHub)==null?"":t)+'</div>\n<form class="rp-form">\n    <div class="rp-field">\n        <span>'+((t=e.text.admin.activateGitHubAuth)==null?"":t)+'</span>\n        <div class="github-auth-state-mobile" data-js-github-enable-mobile></div>\n        <label class="rp-switcher-big">\n            <span class="turn-on">'+((t=e.text.ui.on)==null?"":t)+'</span>\n            <span class="turn-off">'+((t=e.text.ui.off)==null?"":t)+'</span>\n            <input type="checkbox" data-js-github-enable>\n            <div class="slider"></div>\n        </label>\n    </div>\n    <div class="config-fields" data-js-github-config>\n        <label class="rp-field">\n            <span class="required">'+((t=e.text.admin.gitHubClientId)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-client-id>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span class="required">'+((t=e.text.admin.gitHubClientSecret)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-client-secret>\n            <span class="validate-hint"></span>\n        </label>\n        <div data-js-onganizations></div>\n        <div data-js-add-org-form class="add-new-org-form hide">\n            <label class="rp-field" data-js-add-org-row>\n                <span>'+((t=e.text.admin.gitHubOrgName)==null?"":t)+'</span>\n                <input type="text" class="rp-input" data-js-new-org>\n                <span class="validate-hint"></span>\n                <a href="delete-organization" class="delete-item" data-js-remove-add-new-org>\n                    <i class="rp-icons rp-icons-cancel"></i>\n                </a>\n            </label>\n        </div>\n        <div class="add-new-org-btn">\n            <label class="rp-field">\n                <span></span>\n                <button type="button" class="rp-btn rp-btn-default rp-button-with-icon" data-js-add-org-btn>\n                    <i class="material-icons">add</i>\n                    <span class="rp-btn-val">'+((t=e.text.admin.addGitHubOrg)==null?"":t)+'</span>\n                </button>\n            </label>\n        </div>\n    </div>\n    <div class="rp-field">\n        <button type="button" class="rp-btn rp-btn-submit" data-js-submit-github-auth-settings>\n            '+((t=e.text.ui.submit)==null?"":t)+"\n        </button>\n    </div>\n</form>\n",n},this.JST["tpl-ldap-auth-config"]=function(e){var t,n="",r=_.escape;return n+='<div class="title-block">'+((t=e.text.admin.ldap)==null?"":t)+'<div class="beta-badge">'+((t=e.text.project.beta)==null?"":t)+'</div></div>\n<form class="rp-form">\n    <div class="rp-field switcher-field">\n        <span>'+((t=e.text.admin.activateLdapAuth)==null?"":t)+'</span>\n        <div class="beta-badge">'+((t=e.text.project.beta)==null?"":t)+'</div>\n        <div class="ldap-auth-state-mobile" data-js-ldap-enable-mobile></div>\n        <label class="rp-switcher-big">\n            <span class="turn-on">'+((t=e.text.ui.on)==null?"":t)+'</span>\n            <span class="turn-off">'+((t=e.text.ui.off)==null?"":t)+'</span>\n            <input type="checkbox" data-js-ldap-enable>\n            <div class="slider"></div>\n        </label>\n    </div>\n    <div class="config-fields" data-js-ldap-config>\n        <label class="rp-field ldap-url-field">\n            <span class="required">'+((t=e.text.admin.url)==null?"":t)+'</span>\n            <span class="ldap" data-js-ldap-protocol></span>\n            <input type="text" class="rp-input" data-js-ldap-url>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span class="required">'+((t=e.text.admin.baseDN)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-base-dn>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span>'+((t=e.text.admin.managerDn)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-manager-dn>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span>'+((t=e.text.admin.managerPassword)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-manager-password>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span>'+((t=e.text.admin.userDnPattern)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-user-dn-pattern>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span>'+((t=e.text.admin.userSearchFilter)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-user-search-filter>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span>'+((t=e.text.admin.groupSearchBase)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-group-search-base>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span>'+((t=e.text.admin.groupSearchFilter)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-group-search-filter>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span>'+((t=e.text.admin.passwordEncoderType)==null?"":t)+'</span>\n            <div class="dropdown-container" data-js-pass-enc-type-dropdown></div>\n        </label>\n        <label class="rp-field">\n            <span>'+((t=e.text.admin.passwordAttribute)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-password-attribute>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span class="required">'+((t=e.text.admin.email)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-email>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span>'+((t=e.text.admin.fullName)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-full-name>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span>'+((t=e.text.admin.photo)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-photo>\n            <span class="validate-hint"></span>\n        </label>\n    </div>\n    <div class="rp-field">\n        <button type="button" class="rp-btn rp-btn-submit" disabled data-js-submit-ldap-auth-settings>\n            '+((t=e.text.ui.submit)==null?"":t)+"\n        </button>\n    </div>\n</form>\n",n},this.JST["tpl-email-server-settings"]=function(e){var t,n="",r=_.escape;return n+='<form class="rp-form">\n    <div class="rp-field">\n        <span>'+((t=e.text.admin.enableEmailServer)==null?"":t)+'</span>\n        <div class="email-server-state-mobile" data-js-server-enable-mobile></div>\n        <label class="rp-switcher-big">\n            <span class="turn-on">'+((t=e.text.ui.on)==null?"":t)+'</span>\n            <span class="turn-off">'+((t=e.text.ui.off)==null?"":t)+'</span>\n            <input type="checkbox" data-js-server-enable>\n            <div class="slider"></div>\n        </label>\n    </div>\n    <div data-js-server-config>\n        <label class="rp-field">\n            <span class="required">'+((t=e.text.admin.host)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-server-host>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span>'+((t=e.text.admin.protocol)==null?"":t)+'</span>\n            <div data-js-server-protocol class="rp-field-item"></div>\n        </label>\n        <label class="rp-field">\n            <span>'+((t=e.text.admin.emailSender)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-server-sender>\n        </label>\n        <label class="rp-field">\n            <span class="required">'+((t=e.text.admin.port)==null?"":t)+'</span>\n            <input type="text" class="rp-input" data-js-server-port>\n            <span class="validate-hint"></span>\n        </label>\n        <label class="rp-field">\n            <span>'+((t=e.text.admin.authorization)==null?"":t)+'</span>\n            <div data-js-server-auth class="rp-field-item"></div>\n        </label>\n        <div class="auth" dats-js-server-auth-config>\n            <label class="rp-field">\n                <span>'+((t=e.text.admin.username)==null?"":t)+'</span>\n                <input type="text" class="rp-input" data-js-server-username>\n            </label>\n            <label class="rp-field">\n                <span>'+((t=e.text.admin.password)==null?"":t)+'</span>\n                <input type="password" class="rp-input" data-js-server-password>\n            </label>\n        </div>\n        <div class="rp-field">\n            <span></span>\n            <div class="tls-enabled">\n                <label class="rp-checkbox-wrap" for="tls">\n                    <input data-js-tls-enabled class="rp-input-checkbox" type="checkbox" id="tls"\n                           data-js-server-tls>\n                    <span>'+((t=e.text.admin.TLS)==null?"":t)+'</span>\n                </label>\n                <label class="rp-checkbox-wrap" for="ssl">\n                    <input data-js-ssl-enabled class="rp-input-checkbox" type="checkbox" id="ssl"\n                           data-js-server-ssl>\n                    <span>'+((t=e.text.admin.SSL)==null?"":t)+'</span>\n                </label>\n            </div>\n        </div>\n    </div>\n    <div class="rp-field email-server-error">\n        <div class="test-connection-alert" data-js-server-connection-message></div>\n    </div>\n    <div class="rp-field email-server-btn">\n        <button type="button" class="rp-btn rp-btn-submit" data-js-submit-server-settings>\n            '+((t=e.text.ui.submit)==null?"":t)+'\n        </button>\n    </div>\n</form>\n<div class="mobile-disabling-cover"></div>\n\n',n},this.JST["tpl-server-settings-body"]=function(e){var t,n="",r=_.escape;return n+='<div class="rp-server-settings" data-js-settings></div>',n},this.JST["tpl-server-settings-header"]=function(e){var t,n="",r=_.escape;return n+='<div class="rp-admin-header">\n    <div class="admin-breadcrumbs" data-js-main-breadcrumbs></div>\n</div>',n},this.JST["tpl-server-settings-shell"]=function(e){var t,n="",r=_.escape;return n+='<ul class="nav-tabs-custom" role="tablist">\n    <li class="'+((t=e.tab==="email"?"active":"")==null?"":t)+'">\n        <a href="#" class="tab" data-js-tab-action="email">\n            '+((t=e.text.admin.emailSettings)==null?"":t)+'\n        </a>\n    </li>\n    <li class="'+((t=e.tab==="auth"?"active":"")==null?"":t)+'">\n        <a href="#" class="tab" data-js-tab-action="auth">\n            '+((t=e.text.admin.authSettings)==null?"":t)+'\n        </a>\n    </li>\n    <li class="'+((t=e.tab==="statistics"?"active":"")==null?"":t)+'">\n        <a href="#" class="tab" data-js-tab-action="statistics">\n            '+((t=e.text.admin.statisticsSettings)==null?"":t)+'\n        </a>\n    </li>\n</ul>\n<div data-js-nav-tabs-mobile class="nav-tabs-mobile"></div>\n<div data-js-tab-content class="tab-content"></div>\n',n},this.JST["tpl-statistics-server-settings"]=function(e){var t,n="",r=_.escape;return n+='<form class="rp-form">\n    <div class="image-holder"><img src="img/managment-board/serverSettingsStatistics.png" alt=""></div>\n    <p class="statistics-info">'+((t=e.text.admin.statisticsMessage)==null?"":t)+'</p>\n    <div class="statistics-list">\n        <span class="statistics-list-toggler" statistics-list-toggler>'+((t=e.text.admin.statisticsListToogler)==null?"":t)+'\n            <i class="material-icons arrow-down">keyboard_arrow_down</i>\n            <i class="material-icons arrow-right">keyboard_arrow_right</i>\n        </span>\n        <ul>\n            <div class="list-message">'+((t=e.text.admin.statisticsListMessage)==null?"":t)+'</div>\n            <li class="statistics-point">'+((t=e.text.admin.statisticsPoint1)==null?"":t)+'</li>\n            <li class="statistics-point">'+((t=e.text.admin.statisticsPoint2)==null?"":t)+'</li>\n        </ul>\n    </div>\n    <label class="rp-checkbox-wrap">\n        <input class="rp-input-checkbox" type="checkbox" data-js-switcher>\n        <span>'+((t=e.text.admin.sendStatisticsSwitcher)==null?"":t)+'</span>\n    </label>\n    <button class="rp-btn rp-btn-submit" type="button" data-js-submit>\n        '+((t=e.text.ui.submit)==null?"":t)+'\n    </button>\n</form>\n<div class="mobile-disabling-cover"></div>\n',n},this.JST["tpl-users-body"]=function(e){var t,n="",r=_.escape;return n+='<div class="rp-admin-all-users" data-js-all-users></div>',n},this.JST["tpl-users-header"]=function(e){var t,n="",r=_.escape;return n+='<div class="rp-admin-header">\n    <div class="admin-breadcrumbs" data-js-main-breadcrumbs></div>\n</div>',n},this.JST["tpl-users-item"]=function(e){var t,n="",r=_.escape;return n+='<div class="grid-cell action-grid-cell">\n    <div class="users-actions">\n        <a class="remove-user" href="#delete-user"\n           title="'+((t=e.isYou?e.text.admin.deleteOwnUser:e.text.admin.deleteUser)==null?"":t)+'"\n           data-js-delete-user>\n            <i class="rp-icons rp-icons-delete"></i>\n        </a>\n    </div>\n</div>\n<div class="user-row-inner">\n    <div class="grid-cell name-grid-cell">\n        <div class="user-wrap">\n            <div class="user-avatar">\n                <img data-js-user-avatar src=""/>\n            </div>\n            <div class="user-info">\n                <div class="user-info-wrap">\n                    <p class="user-name" data-js-user-name></p>\n                    <p class="user-you" data-js-user-you>'+((t=e.text.ui.you)==null?"":t)+'</p>\n                    <a class="user-admin" href="#remove-admin" data-js-user-admin>'+((t=e.text.ui.admin)==null?"":t)+'</a>\n                    <a class="make-admin" href="#make-admin" data-js-make-admin>'+((t=e.text.ui.makeAdmin)==null?"":t)+'</a>\n                    <br>\n                    <p class="user-login" data-js-user-login></p>\n                    <br>\n                    <p class="user-email"><a href="" class="rp-link" data-js-user-email></a></p>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="grid-cell login-grid-cell">\n        <div class="user-title-mobile">'+((t=e.text.admin.lastLogin)==null?"":t)+':</div>\n        <div class="login-time show-time" data-js-login-time>\n            <span class="from-now" data-js-time-from-now></span>\n            <span class="exact-time" data-js-time-exact></span>\n        </div>\n    </div>\n    <div class="grid-cell role-grid-cell">\n        <div class="users-project-roles">\n            <a href="#viewProejcts" class="rp-btn rp-btn-default rp-button-with-icon" data-js-view-projects\n               title="'+((t=e.text.admin.viewProjects)==null?"":t)+'">\n                <i class="rp-icons rp-icons-eye"></i>\n                <span class="hidden-sm hidden-xs rp-btn-val">'+((t=e.text.admin.viewProjects)==null?"":t)+'</span>\n            </a>\n            <div class="users-project-mobile" data-js-user-projects-mobile></div>\n        </div>\n    </div>\n    <div class="clear-for-projects-list"></div>\n    <div data-js-user-projects></div>\n</div>\n',n},this.JST["tpl-users-project-add"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<form data-js-assign-form>\n    <div class="grid-cell project-name-cell">\n        <div class="project-select form-group" data-js-assign-form-group>\n            <input id="project" name="project" type="text" value="" data-js-project>\n            <div class="error-bottom">\n                <div class="help-inline" data-js-error-text></div>\n            </div>\n        </div>\n    </div>\n    <div class="grid-cell project-role-cell">\n        <div class="user-select-role">\n            <div class="rp-btn-group rp-width-100">\n                <button type="button" class="rp-btn rp-btn-with-dropdown rp-width-100 dropdown-toggle"\n                        data-toggle="dropdown">\n                    <span class="select-value" data-js-project-role></span>\n                    <span class="rp-caret"></span>\n                </button>\n                <ul class="dropdown-menu" data-js-dropdown-roles>\n                    ',_.each(e.roles,function(e,r){n+='\n                    <li>\n                        <a href="#" class="roles-option" data-value="'+((t=r)==null?"":t)+'">\n                            '+((t=e)==null?"":t)+"\n                        </a>\n                    </li>\n                    "}),n+='\n                </ul>\n            </div>\n        </div>\n    </div>\n    <div class="grid-cell project-action-cell">\n        <div class="rp-btn rp-btn-default rp-button-with-icon" title="'+((t=e.text.members.assignProjectTitle)==null?"":t)+'"\n             data-js-assign>\n            <i class="rp-icons rp-icons-unassign"></i>\n        <span class="hidden-md hidden-sm hidden-xs rp-btn-val">\n            '+((t=e.text.members.assign)==null?"":t)+"\n        </span>\n        </div>\n    </div>\n</form>",n},this.JST["tpl-users-projects-item"]=function(e){var t,n="",r=_.escape;return n+='<div class="grid-cell project-name-cell">\n    <div class="project-name" data-js-project></div>\n</div>\n<div class="grid-cell project-role-cell">\n    <div class="user-select-role" data-js-user-select-role></div>\n</div>\n<div class="grid-cell project-action-cell">\n    <div class="rp-btn rp-btn-default rp-button-with-icon"\n         title="'+((t=e.isPersonal?e.text.members.unAssignTitlePersonal:e.text.members.unAssignTitle)==null?"":t)+'"\n         data-js-unassign>\n        <i class="rp-icons rp-icons-unassign"></i>\n        <span class="hidden-md hidden-sm hidden-xs rp-btn-val">\n            '+((t=e.text.members.unAssign)==null?"":t)+"\n        </span>\n    </div>\n</div>\n",n},this.JST["tpl-users-projects"]=function(e){var t,n="",r=_.escape;return n+='<div class="user-projects-table">\n    <div data-js-project-list></div>\n    <div data-js-loader class="preloader" style="display: block;">\n        <i class="material-icons loader-animation">refresh</i>\n    </div>\n    <div data-js-add-form></div>\n    <div class="row rp-table-row user-projects-row" data-js-add-project-row>\n        <div class="grid-cell project-name-cell">\n            <a class="rp-btn rp-btn-default rp-button-with-icon" href="#add-project"\n                 title="'+((t=e.text.admin.addProjectTitle)==null?"":t)+'" data-js-add-project>\n                <i class="material-icons">add</i>\n                <span class="hidden-md hidden-sm hidden-xs rp-btn-val">\n                    '+((t=e.text.admin.addUserProject)==null?"":t)+"\n                </span>\n            </a>\n        </div>\n    </div>\n</div>",n},this.JST["tpl-users-shell"]=function(e){var t,n="",r=_.escape;return n+='<div class="all-users-actions">\n    <div class="all-users-filter">\n        <div class="rp-input-search-wrap">\n            <div class="input-filter form-group">\n                <input type="text" class="rp-input-search form-control" id="usersFilter" name="usersFilter"\n                       placeholder="" maxlength="128" data-js-users-search>\n                <i class="material-icons">search</i>\n                <div class="error-bottom">\n                    <div class="help-inline"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="all-users-buttons">\n        <button type="button" class="rp-btn rp-btn-default rp-button-with-icon not-small" data-js-add-user>\n            <i class="rp-icons rp-icons-add-user"></i>\n            <span class="rp-btn-val">'+r(e.text.members.addMember)+'</span>\n        </button>\n        <button type="button" class="rp-btn rp-btn-default rp-button-with-icon not-small" data-js-invite-user>\n            <i class="rp-icons rp-icons-invite-user"></i>\n            <span class="rp-btn-val">'+r(e.text.members.inviteMember)+'</span>\n        </button>\n    </div>\n</div>\n<div class="all-users-table rp-table-grid show-from-now" data-js-users-table>\n    <div class="row rp-grid-thead">\n        <div class="rp-grid-th grid-cell action-grid-cell">\n            <div class="table-wrapper">\n                <div class="middle-wrapper users-actions">\n                    <span class="rp-grid-th-name">'+((t=e.text.ui.delete)==null?"":t)+'</span>\n                </div>\n            </div>\n        </div>\n        <div class="user-row-inner">\n            <div class="rp-grid-th grid-cell name-grid-cell">\n                <div class="table-wrapper">\n                    <div class="middle-wrapper">\n                        <span class="rp-grid-th-name">'+((t=e.text.members.titleNameLoginEmail)==null?"":t)+'</span>\n                    </div>\n                </div>\n            </div>\n            <div class="rp-grid-th grid-cell login-grid-cell">\n                <div class="table-wrapper">\n                    <div class="middle-wrapper">\n                        <span class="rp-grid-th-name">'+((t=e.text.admin.lastLogin)==null?"":t)+'</span>\n                    </div>\n                </div>\n            </div>\n            <div class="rp-grid-th grid-cell role-grid-cell">\n                <div class="table-wrapper">\n                    <div class="middle-wrapper">\n                        <span class="rp-grid-th-name">'+((t=e.text.admin.projectsRoles)==null?"":t)+"</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div data-js-users-list></div>\n</div>\n<div data-js-users-paginate></div>",n},this.JST["tpl-api-body"]=function(e){var t,n="",r=_.escape;return n+='<div class="buttons-container">\n    <div class="type-buttons">\n        <label>\n            <input name="select-type" type="radio" value="/api/v1/api-docs" checked="true" data-js-select-type-input>\n            <span>'+((t=e.text.api.api)==null?"":t)+'</span>\n        </label>\n        <label>\n            <input name="select-type" type="radio" value="/uat/api-docs" data-js-select-type-input>\n            <span>'+((t=e.text.api.uat)==null?"":t)+'</span>\n        </label>\n    </div>\n    <span class="status-text" data-js-status></span>\n</div>\n\n<div data-js-iframe-container></div>\n<div class="preloader">\n    <i class="material-icons loader-animation">refresh</i>\n</div>\n',n},this.JST["tpl-api-header"]=function(e){var t,n="",r=_.escape;return n+="<div data-js-main-breadcrumbs></div>\n",n},this.JST["tpl-component-code-highlighter"]=function(e){var t,n="",r=_.escape;return n+="<pre><code data-js-code>"+r(e.binaryContent)+"</code></pre>\n",n},this.JST["tpl-component-colorpicker"]=function(e){var t,n="",r=_.escape;return n+='<input type="text" data-js-colorpicker-holder/>\n',n},this.JST["tpl-component-main-breadcrumbs-item"]=function(e){var t,n="",r=_.escape;return n+='<a href="" data-js-link></a>\n<span data-js-name></span>',n},this.JST["tpl-component-swipe-gallery"]=function(e){var t,n="",r=_.escape;return n+='<div data-js-block class="swipe-gallery-component">\n    <div class="ul_overflow">\n        <ul data-js-list></ul>\n        <div data-js-side-left class="side_left"></div>\n        <div data-js-side-right class="side_right"></div>\n    </div>\n</div>',n},this.JST["tpl-component-timer"]=function(e){var t,n="",r=_.escape;return n+='<div class="demo-banner">\n    <p>\n        <span data-js-banner-text></span>\n        <span>\n            <span class="warning">'+((t=e.text.login.dataFlush)==null?"":t)+'</span>\n            <span class="timer" >\n                <span>\n                    <span class="time-container">\n                        <span data-js-hours class="number"></span>\n                        <label>'+((t=e.text.login.hours)==null?"":t)+'</label>\n                    </span>\n                    <span class="delimiter">:</span>\n                </span>\n                <span>\n                    <span class="time-container">\n                        <span data-js-minutes class="number"></span>\n                        <label>'+((t=e.text.login.minutes)==null?"":t)+'</label>\n                    </span>\n                    <span class="delimiter">:</span>\n                </span>\n                <span>\n                    <span class="time-container">\n                        <span data-js-seconds class="number"></span>\n                        <label>'+((t=e.text.login.seconds)==null?"":t)+"</label>\n                    </span>\n                </span>\n        </span>\n        </span>\n    </p>\n</div>\n",n},this.JST["tpl-components-empty"]=function(e){var t,n="",r=_.escape;return n+='<div class="all_launches">\n    <div class="well">\n        <h3 class="title-no-data text-center">\n            <i class="rp-icons rp-icons-warning"></i>\n            <span class="warning">'+((t=e.text.ui.noResultsFound)==null?"":t)+"</span>\n        </h3>\n    </div>\n</div>\n",n},this.JST["tpl-components-grid"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="all_launches table-responsive">\n    <table class="table table-hover table-striped" width="100%">\n        <tbody>\n        <tr>\n            ',_.each(e.headers,function(e,r,i){n+='\n            <th class="'+((t=e.spanclass)==null?"":t)+" ",e.sortable&&(n+=" sortable"),n+='">\n                    <span>\n                        '+((t=e.text)==null?"":t)+"\n                        ",e.direction==="ASC"&&(n+='\n                            <span class="dropup"><span class="caret"/></span>\n                        '),n+="\n                        ",e.direction==="DESC"&&(n+='\n                            <span class="dropdown"><span class="caret"/></span>\n                        '),n+="\n                    </span>\n            </th>\n            "}),n+="\n        </tr>\n        ",_.each(e.rows,function(e,r,i){n+='\n        <tr data-item-id="'+((t=e.itemId)==null?"":t)+'" class="'+((t=e.rowClass)==null?"":t)+'">'+((t=e.rowBody)==null?"":t)+"</tr>\n        "}),n+="\n        </tbody>\n    </table>\n</div>",n},this.JST["tpl-components-paging"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return e.minPaging?(n+='\n<div class="pagination-min-component">\n    <ul class="min-paging">\n        <li class="previous ',e.hasPrevious||(n+="disabled"),n+='"><i class="material-icons">keyboard_arrow_left</i></li>\n        <span class="min-paging-text"><span>'+((t=e.active)==null?"":t)+"</span>of<span>"+((t=e.totalPages)==null?"":t)+'</span></span>\n        <li class="next ',e.hasNext||(n+="disabled"),n+='"><i class="material-icons">keyboard_arrow_right</i></li>\n    </ul>\n</div>\n'):(n+='\n<div class="pagination-component row">\n    ',e.showControls&&(n+='\n    <ul class="clearfix">\n        <li class="first ',e.hasPrevious||(n+="disabled"),n+='"><i class="rp-icons rp-icons-left"></i> </li>\n        <li class="previous ',e.hasPrevious||(n+="disabled"),n+='"><i class="material-icons">keyboard_arrow_left</i></li>\n        ',e.pages[0]!=1&&(n+='\n        <li class="more">...</li>\n        '),n+="\n        ",_.each(e.pages,function(r,i,s){n+='\n        <li class="',e.active===r?n+="active":n+=" page ",n+='">'+((t=r)==null?"":t)+"</li>\n        "}),n+="\n        ",e.pages[e.pages.length-1]*e.objectsOnPage<e.totalElements&&(n+='\n        <li class="more">...</li>\n        '),n+='\n        <li class="next ',e.hasNext||(n+="disabled"),n+='"><i class="material-icons">keyboard_arrow_right</i></li>\n        <li class="last ',e.hasNext||(n+="disabled"),n+='"><i class="rp-icons rp-icons-right"></i></li>\n    </ul>\n    '),n+='\n    <div class="left-block">\n        '+((t=e.from)==null?"":t)+" - ",e.to<e.totalElements?n+=(t=e.to)==null?"":t:n+=(t=e.totalElements)==null?"":t,n+=" "+((t=e.text.ui.of)==null?"":t)+"  "+((t=e.totalElements)==null?"":t)+'\n    </div>\n    <div class="right-block">\n        <input type="text" maxlength="3" data-js-per-page-input>\n        <span class="per-page" data-js-per-page>'+((t=e.objectsOnPage)==null?"":t)+"</span>\n        <span> "+((t=e.text.ui.perPage)==null?"":t)+"</span>\n    </div>\n\n</div>\n"),n+="\n",n},this.JST["tpl-dialog-buttons"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return e.hideDismiss||(n+='\n<button data-dismiss="modal" class="rp-btn rp-btn-cancel" type="button">\n    '+((t=e.text.ui[e.dismissTxt||"cancel"])==null?"":t)+"\n</button>\n"),n+='\n<button class="rp-btn rp-btn-submit '+((t=e.actionStatus?"":"disabled")==null?"":t)+'" id="actionBtnDialog" type="button">\n    '+((t=e.text.ui[e.actionTxt||"save"])==null?"":t)+"\n</button>",n},this.JST["tpl-dialog-shell"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="modal fade dialog-shell rp-modal-dialog" id="customDialogModal" tabindex="-1" role="dialog" aria-labelledby="customDialogModal" aria-hidden="true">\n    <div class="modal-dialog modal-'+((t=e.size)==null?"":t)+'">\n        <div class="modal-content">\n            '+((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.dialog[e.headerTxt]}))==null?"":t)+'\n            <!--<div class="modal-header">-->\n                <!--<h2 class="col-lg-10 col-md-10 col-sm-10 col-xs-10 break-link">-->\n                    <!--'+((t=e.text.dialog[e.headerTxt])==null?"":t)+"-->\n                    <!--",e.isBeta&&(n+='-->\n                    <!--<span class="label label-above label-success">'+((t=e.text.project.beta)==null?"":t)+"</span>-->\n                    <!--"),n+='-->\n                <!--</h2>-->\n                <!--<div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 panel-action">-->\n                    <!--<sapn class="close-pop-up" data-js-close data-dismiss="modal">-->\n                        <!--<i class="material-icons">clear</i>-->\n                    <!--</span>-->\n                <!--</div>-->\n            <!--</div>-->\n            <div class="modal-body clearfix" id="contentModal"></div>\n            <div class="modal-footer">\n                <div class="pull-right" id="buttonsModal"></div>\n            </div>\n            <div class="shared-loader" id="dialogShellLoader" style="display:none;">\n                <i class="material-icons loader-animation">autorenew</i>\n            </div>\n        </div>\n    </div>\n</div>',n},this.JST["tpl-donut-chart-component"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<svg width="100%" height="100%" viewBox="0 0 '+((t=e.viewBox)==null?"":t)+" "+((t=e.viewBox)==null?"":t)+'" class="donut">\n    <circle cx="'+((t=e.viewBox/2)==null?"":t)+'" cy="'+((t=e.viewBox/2)==null?"":t)+'" r="15.91549430918954"\n            fill="transparent"\n    ></circle>\n    <circle cx="'+((t=e.viewBox/2)==null?"":t)+'" cy="'+((t=e.viewBox/2)==null?"":t)+'" r="15.91549430918954"\n            fill="transparent" stroke="#d2d3d4"\n            stroke-width="'+((t=e.strokeWidth)==null?"":t)+'"></circle>\n    ',_.each(e.items,function(r){n+='\n    <circle cx="'+((t=e.viewBox/2)==null?"":t)+'" cy="'+((t=e.viewBox/2)==null?"":t)+'" r="15.91549430918954"\n            fill="transparent" stroke="'+((t=r.color)==null?"":t)+'" stroke-width="'+((t=e.strokeWidth)==null?"":t)+'"\n            stroke-dasharray="'+((t=r.value)==null?"":t)+" "+((t=100-r.value)==null?"":t)+'"\n            stroke-dashoffset="'+((t=r.offset)==null?"":t)+'"></circle>\n    '}),n+="\n</svg>\n",n},this.JST["tpl-drop-down-component"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<button type="button" class="rp-btn rp-btn-with-dropdown dropdown-toggle" data-toggle="dropdown" data-js-dropdown>\n    <span class="select-value" data-js-select-value>'+r(e.placeholder)+'</span>\n    <span class="rp-caret"></span>\n    <div class="validate-hint-wrapper">\n        <div class="validate-hint" data-js-hint-message></div>\n    </div>\n</button>\n<ul class="dropdown-menu" data-js-dropdown-menu>\n    ',e.isShowAll&&(n+='\n        <li class="all-selector">\n            <label class="checkbox rp-checkbox-wrap" data-js-label>\n                <input class="criteria-option rp-input-checkbox" type="checkbox" value="all" data-name="'+r(e.text.widgets.all)+'">\n                <span>'+((t=e.text.widgets.all)==null?"":t)+"</span>\n            </label>\n        </li>\n    "),n+="\n    ",_.each(e.data,function(i){n+="\n    <li>\n        ",e.multiple?n+='\n        <label class="checkbox rp-checkbox-wrap '+((t=i.isSubOption?"sub-option":"")==null?"":t)+'" data-js-label>\n            <input class="criteria-option rp-input-checkbox" type="checkbox" data-value="'+r(i.value)+'", data-name="'+r(i.name)+'">\n            <span>'+((t=i.name)==null?"":t)+"</span>\n        </label>\n        ":n+='\n        <a href="#" data-value="'+r(i.value)+'" class="'+((t=i.disabled?"not-active":"")==null?"":t)+'">'+((t=i.name)==null?"":t)+"</a>\n        ",n+="\n    </li>\n    "}),n+="\n</ul>\n",n},this.JST["tpl-markdown-editor"]=function(e){var t,n="",r=_.escape;return n+="<textarea data-js-text-area></textarea>\n",n},this.JST["tpl-setting-switcher"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return _.each(e,function(e,i){n+='\n<span data-js-switch-item data-num="'+((t=i)==null?"":t)+'">'+r(e.name)+"</span>\n"}),n+="\n",n},this.JST["tpl-slider-component"]=function(e){var t,n="",r=_.escape;return n+='<div class="labels-container" data-js-labels-container></div>\n<div class="slider-container" data-js-slider-container></div>\n',n},this.JST["tpl-tiny-switcher-component"]=function(e){var t,n="",r=_.escape;return n+='<label class="tiny-switcher" data-js-tiny-switcher>\n    <input type="checkbox" data-js-checkbox>\n    <span class="tiny-switcher-slider"></span>\n</label>\n<span class="tiny-switcher-label" data-js-tiny-switcher-label>'+r(e.label)+"</span>\n\n",n},this.JST["tpl-twitter-news-component"]=function(e){var t,n="",r=_.escape;return n+='<div class="caption">'+((t=e.text.login.twitterCaption)==null?"":t)+'</div>\n<div class="news-container" data-js-items-container></div>\n',n},this.JST["tpl-twitter-news-item"]=function(e){var t,n="",r=_.escape;return n+="<p data-js-text></p>\n",n},this.JST["tpl-dashboard-block-item"]=function(e){var t,n="",r=_.escape;return n+='<div class="dashboard-content" data-js-dashboard-info>\n    <div class="name-wrapper">\n        <p data-js-name></p>\n        <div class="icons-block">\n            <i class="material-icons close-icon" data-js-remove>close</i>\n            <i class="material-icons" data-js-edit>edit</i>\n        </div>\n    </div>\n    <div class="description-wrapper" data-js-description-wrapper>\n        <p data-js-description></p>\n    </div>\n    <div class="icons-wrapper">\n        <div data-js-shared-container>\n            <i class="material-icons" data-js-share-icon>share</i>\n            <i class="material-icons" data-js-global-icon>public</i>\n            <span data-js-icon-description></span>\n        </div>\n    </div>\n</div>\n',n},this.JST["tpl-dashboard-body"]=function(e){var t,n="",r=_.escape;return n+='<div class="preloader" data-js-preloader-launch-body>\n    <i class="material-icons loader-animation">refresh</i>\n</div>\n\n<div data-js-dashboard-content></div>',n},this.JST["tpl-dashboard-header-list-item"]=function(e){var t,n="",r=_.escape;return n+="<a data-js-dashboard-name></a>\n",n},this.JST["tpl-dashboard-header"]=function(e){var t,n="",r=_.escape;return n+='<div class="breadcrumbs" data-js-main-breadcrumbs></div>\n<button class="rp-btn rp-btn-default-revers rp-button-with-icon" data-js-add-dashboard>\n    <i class="rp-icons rp-icons-add-dash"></i>\n    <span class="rp-btn-val">'+r(e.text.dashboard.addNewDashboard)+'</span>\n</button>\n<div class="dashboards-overflow-mobile">\n    <div class="rp-btn rp-btn-with-dropdown dropdown-toggle" data-toggle="dropdown">\n        <div class="select-value" data-js-active-dashboard></div>\n        <span class="rp-caret"></span>\n    </div>\n    <ul class="dropdown-menu" data-js-dashboard-list-mobile>\n    </ul>\n</div>\n',n},this.JST["tpl-dashboard-item"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="buttons-container clearfix">\n    <div class="print">\n        <p>'+r(e.text.dashboard.project)+": <span>"+r(e.projectName)+"</span></p>\n        <p>"+r(e.text.dashboard.dashboard)+": <span>"+r(e.dashboardName)+'</span></p>\n    </div>\n    <div class="rp-nav-left">\n        <div class="is-not-my-dashbord">\n            <i class="material-icons">public</i>\n            <span>'+r(e.text.dashboard.sharedBy)+'</span>&nbsp;<span data-js-owner-name></span>\n        </div>\n        <a href="#" class="rp-btn rp-btn-default rp-button-with-icon is-my-dashbord" data-js-add-widget>\n            <i class="material-icons">add_circle</i>\n            <span class="hidden-sm hidden-xs rp-btn-val">'+r(e.text.widgets.addNewWidget)+'</span>\n        </a>\n        <a href="#" class="rp-btn rp-btn-default rp-button-with-icon is-my-dashbord" data-js-add-shared-widget>\n            <i class="material-icons">add_circle_outline</i>\n            <span class="hidden-sm hidden-xs rp-btn-val">'+r(e.text.widgets.addSharedWidget)+'</span>\n        </a>\n    </div>\n    <div class="rp-nav-right">\n        <a href="#" class="rp-btn rp-btn-default rp-button-with-icon is-my-dashbord" data-js-edit>\n            <i class="material-icons">edit</i>\n            <span class="hidden-sm hidden-xs rp-btn-val">'+r(e.text.ui.edit)+'</span>\n        </a>\n        <a href="#" class="rp-btn rp-btn-default rp-button-with-icon" data-js-full-screen>\n            <i class="material-icons">zoom_out_map</i>\n            <span class="hidden-sm hidden-xs rp-btn-val">'+((t=e.text.dashboard.fullscreen)==null?"":t)+'</span>\n        </a>\n        <a href="#" class="rp-btn rp-btn-default rp-button-with-icon is-my-dashbord" data-js-remove>\n            <i class="material-icons">clear</i>\n            <span class="hidden-sm hidden-xs rp-btn-val">'+((t=e.text.ui.delete)==null?"":t)+'</span>\n        </a>\n    </div>\n</div>\n<div class="preloader">\n    <i class="material-icons loader-animation">refresh</i>\n</div>\n<div class="no-result-found">\n    <div class="is-my-dashbord empty-widgets-img"></div>\n    <div class="is-not-my-dashbord empty-shared-widgets-img"></div>\n    ',e.isMyDashboard?n+="\n        <h1>"+((t=e.text.dashboard.dashboardEmptyHeader)==null?"":t)+"</h1>\n        <p>"+r(e.text.dashboard.dashboardEmptyText)+'</p>\n        <button class="rp-btn rp-btn-default rp-button-with-icon not-small is-my-dashbord" data-js-add-widget>\n            <i class="material-icons">add_circle</i>\n            <span class="rp-btn-val">'+r(e.text.widgets.addNewWidget)+"</span>\n        </button>\n    ":n+="\n        <h1>"+((t=e.text.dashboard.notMyDashboardEmptyHeader)==null?"":t)+"</h1>\n    ",n+='\n</div>\n<div class="grid-stack" data-js-grid-stack data-gs-width="12" data-gs-animate="yes"></div>\n<div class="fullscreen-overflow">\n    <i class="material-icons" data-js-close-fullscreen>close</i>\n</div>\n',n},this.JST["tpl-dashboard-list-item"]=function(e){var t,n="",r=_.escape;return n+='<div class="dashboard-table-row project-item clearfix">\n    <div class="dashboard-delete-col">\n        <div class="remove-dashboard">\n            <i class="rp-icons rp-icons-delete" data-js-remove></i>\n        </div>\n    </div>\n    <div class="dashboard-cols-group">\n        <div class="grid-cell dashboard-name-col">\n            <h2 class="dashboard-name" data-js-dashboard-info>\n                <span class="name" data-js-name>\n                </span>\n            </h2>\n        </div>\n        <div class="grid-cell dashboard-description-col">\n            <p data-js-description></p>\n        </div>\n        <div class="grid-cell dashboard-owner-col">\n            <span class="mobile-title">\n                '+((t=e.text.dashboard.thOwner)==null?"":t)+':\n            </span>\n            <p data-js-owner class="dashboard-owner"></p>\n        </div>\n        <div class="grid-cell dashboard-shared-col">\n            <div data-js-shared-container>\n                <span class="mobile-title">\n                    '+((t=e.text.dashboard.shared)==null?"":t)+'\n                </span>\n                <i class="material-icons rp-icons-share">check</i>\n            </div>\n        </div>\n        <div class="grid-cell dashboard-edit-col">\n            <div>\n                <i class="material-icons" data-js-edit>edit</i>\n            </div>\n        </div>\n    </div>\n</div>\n',n},this.JST["tpl-dashboards-list"]=function(e){var t,n="",r=_.escape;return n+='<div class="dashboard-table-view" >\n    <div class="rp-table-thead">\n        <div class="dashboard-delete-col">\n            <div class="rp-table-th text-center">'+((t=e.text.dashboard.thDelete)==null?"":t)+'</div>\n        </div>\n        <div class="dashboard-cols-group clearfix">\n            <div class="grid-cell dashboard-name-col">\n                <div class="rp-table-th">'+((t=e.text.dashboard.thName)==null?"":t)+'</div>\n            </div>\n            <div class="grid-cell dashboard-description-col">\n                <div class="rp-table-th">'+((t=e.text.dashboard.thDescription)==null?"":t)+'</div>\n            </div>\n            <div class="grid-cell dashboard-owner-col">\n                <div class="rp-table-th">'+((t=e.text.dashboard.thOwner)==null?"":t)+'</div>\n            </div>\n            <div class="grid-cell dashboard-shared-col">\n                <div class="rp-table-th">'+((t=e.text.dashboard.thShared)==null?"":t)+'</div>\n            </div>\n            <div class="grid-cell dashboard-edit-col">\n                <div class="rp-table-th">'+((t=e.text.dashboard.thEdit)==null?"":t)+'</div>\n            </div>\n        </div>\n    </div>\n    <div data-js-dashboards-container></div>\n</div>\n<div class="no-result-found" data-js-dashboard-not-found>\n    <div class="no-search-block">\n        <div class="empty-dashboard-img"></div>\n        <span>'+((t=e.text.dashboard.noDashboard)==null?"":t)+"</span>\n        <p>"+r(e.text.dashboard.clickToAdd)+'</p>\n        <button class="rp-btn rp-btn-default rp-button-with-icon not-small" data-js-add-dashboard>\n            <i class="rp-icons rp-icons-add-dash"></i>\n            <span class="rp-btn-val">'+r(e.text.dashboard.addNewDashboard)+'</span>\n        </button>\n    </div>\n    <div class="search-block">\n        <span>'+((t=e.text.dashboard.noDashboardSearch)==null?"":t)+" '<span data-js-search-text>"+((t=e.search)==null?"":t)+"</span>'</span>\n        <p>"+((t=e.text.dashboard.checkQuery)==null?"":t)+"</p>\n    </div>\n</div>\n\n\n",n},this.JST["tpl-dashboards-table"]=function(e){var t,n="",r=_.escape;return n+="<h1>"+r(e.text.dashboard.myDashboards)+'</h1>\n    <div class="dashboard-container" data-js-my-dashboards-container></div>\n    <div class="no-result-found" data-js-dashboard-not-found>\n        <div class="no-search-block">\n            <div class="empty-dashboard-img"></div>\n            <span>'+((t=e.text.dashboard.noDashboard)==null?"":t)+"</span>\n            <p>"+r(e.text.dashboard.clickToAdd)+'</p>\n            <button class="rp-btn rp-btn-default rp-button-with-icon not-small" data-js-add-dashboard>\n                <i class="rp-icons rp-icons-add-dash"></i>\n                <span class="rp-btn-val">'+r(e.text.dashboard.addNewDashboard)+'</span>\n            </button>\n        </div>\n        <div class="search-block">\n            <span>'+((t=e.text.dashboard.noDashboardSearch)==null?"":t)+" '<span data-js-search-text>"+((t=e.search)==null?"":t)+"</span>'</span>\n            <p>"+((t=e.text.dashboard.checkQuery)==null?"":t)+"</p>\n        </div>\n    </div>\n<h1>"+r(e.text.dashboard.shareDashboards)+'</h1>\n    <div class="dashboard-container" data-js-shared-dashboards-container></div>\n    <div class="no-result-found" data-js-shared-dashboard-not-found>\n        <div class="no-search-block">\n            <div class="empty-shared-dashboard-img"></div>\n            <span>'+((t=e.text.dashboard.noSharedDashboard)==null?"":t)+'</span>\n        </div>\n        <div class="search-block">\n            <span>'+((t=e.text.dashboard.noDashboardSearch)==null?"":t)+" '<span data-js-search-text>"+((t=e.search)==null?"":t)+"</span>'</span>\n            <p>"+((t=e.text.dashboard.checkQuery)==null?"":t)+"</p>\n        </div>\n    </div>\n",n},this.JST["tpl-dashboards"]=function(e){var t,n="",r=_.escape;return n+='<div class="filter-dashboard">\n    <div class="print">\n        <p>'+r(e.text.dashboard.project)+": <span>"+r(e.projectName)+"</span></p>\n        <p>"+r(e.text.dashboard.allDashboards)+'</p>\n    </div>\n    <div class="input-filter form-group">\n        <input type="text" class="rp-input-search rp-input-sm form-control" data-js-filter-name placeholder="'+((t=e.text.ui.searchName)==null?"":t)+'" value="">\n        <i class="material-icons">search</i>\n        <div class="validate-hint"></div>\n    </div>\n</div>\n<div class="change-dashboards-view">\n    <ul class="rp-nav rp-nav-right dashboards-view-switcher" role="group">\n        <li>\n            <button class="dashboards-view dashboards-view-tile rp-btn rp-btn-default"\n                    data-js-view-type="table" data-js-view-table>\n                <i class="material-icons">view_module</i>\n            </button>\n        </li>\n        <li>\n            <button class="dashboards-view dashboards-view-table rp-btn rp-btn-default"\n                    data-js-view-type="list" data-js-view-list>\n                <i class="material-icons">view_list</i>\n            </button>\n        </li>\n    </ul>\n</div>\n<div data-js-list-views></div>\n',n},this.JST["tpl-gadget-view"]=function(e){var t,n="",r=_.escape;return n+='<div class="gadget-wrapper">\n    <div class="gadget-header" data-js-drag-handle>\n        <div class="info-block">\n            <h2 data-js-name></h2><i class="rp-icons rp-icons-buble comment-icon" data-js-comment=""></i><i class="material-icons"  data-js-shared>share</i><i class="material-icons" data-js-public>public</i>\n            <p><span data-js-widget-type></span> <span class="timeline-label" data-js-timeline>'+((t=e.text.widgets.timelineMode)==null?"":t)+'</span></p>\n        </div>\n        <div class="action-block">\n            <i class="material-icons" data-js-gadget-remove>clear</i>\n            <i class="material-icons" data-js-gadget-refresh>autorenew</i>\n            <i class="material-icons" data-js-gadget-edit>edit</i>\n        </div>\n    </div>\n    <div class="gadget-body" data-js-widget-container>\n    </div>\n    <div class="preloader">\n        <i class="material-icons loader-animation">refresh</i>\n    </div>\n</div>\n',n},this.JST["tpl-demo-login-login"]=function(e){var t,n="",r=_.escape;return n+='<div class="header-mobile">\n    <div class="logo-label"></div>\n    <span class="welcome-msg">'+((t=e.text.login.demoWelcomeMsg)==null?"":t)+'</span>\n</div>\n<span class="welcome-msg">'+((t=e.text.login.demoWelcomeMsg)==null?"":t)+'</span>\n<form class="login-form rp-form" data-js-login-login-form>\n    <div class="external-login hide" data-js-oauth-login>\n        <div data-js-oauth-container></div>\n        <div class="or-block">\n            <div class="or-line"></div>\n            <div class="or">'+((t=e.text.login.or)==null?"":t)+'</div>\n        </div>\n    </div>\n    <label class="rp-field">\n        <div class="icon-wrapper"><i class="material-icons">person_outline</i></div>\n        <input type="text" class="rp-input" placeholder="'+((t=e.text.login.loginPlaceholder)==null?"":t)+'" data-js-login value="default">\n        <span class="validate-hint"></span>\n    </label>\n    <label class="rp-field">\n        <div class="icon-wrapper"><i class="material-icons">lock_outline</i></div>\n        <input type="password" class="rp-input password-field" placeholder="'+((t=e.text.login.password)==null?"":t)+'" data-js-password value="1q2w3e">\n        <div class="visability-toggler" data-js-toggle-visability>\n            <div class="shown"></div>\n            <div class="hided"></div>\n        </div>\n        <span class="validate-hint"></span>\n        <div class="error-block hide" data-js-error-block>\n            <i class="rp-icons rp-icons-warning"></i>\n            <span class="error">'+((t=e.text.login.error)==null?"":t)+'</span>\n            <span class="error-message" data-js-error-message></span>\n        </div>\n    </label>\n    <button class="rp-btn rp-btn-login" type="submit" data-js-login-btn>'+((t=e.text.login.loginTitle)==null?"":t)+"\n    </button>\n</form>\n\n",n},this.JST["tpl-demo-login"]=function(e){var t,n="",r=_.escape;return n+='<div class="login-content">\n    <div class="left-block">\n        <div class="logo-label" data-js-logo></div>\n        <div class="post-wrapper" data-js-twitter-container></div>\n        <div class="separator"></div>\n        <div class="socials-block" data-js-social-block>\n            <a href="https://github.com/reportportal" class="gh-icon" target="_blank"></a>\n            <a href="https://www.facebook.com/ReportPortal.io" class="fb-icon" target="_blank"></a>\n            <a href="http://twitter.com/ReportPortal_io" class="tw-icon" target="_blank"></a>\n            <a href="http://youtube.com/c/ReportPortalCommunity" class="yt-icon" target="_blank"></a>\n            <a href="https://vk.com/reportportal_io" class="vk-icon" target="_blank"></a>\n            <a href="https://reportportal-slack-auto.herokuapp.com/" class="slk-icon" target="_blank"></a>\n            <a href="mailto:support@reportportal.io" class="mail-icon"></a>\n        </div>\n    </div>\n    <div class="right-block">\n        <div class="subpage-container" data-js-subpage-container></div>\n        <div class="warning-container">\n            <i class="rp-icons rp-icons-warning"></i>\n            <div class="messages">\n                <p>\n                    <span class="warning">Public account is unsafety.</span> Data is removed every 12 hours. Log personal data to the personal project (github authorisation).\n                </p>\n                <p class="docs-link">\n                    Administrative page is not available, info you can find in <a href="http://reportportal.io/docs" target="_blank">Documentation</a>\n                </p>\n            </div>\n        </div>\n    </div>\n</div>\n',n},this.JST["tpl-favorite-item"]=function(e){var t,n="",r=_.escape;return n+='\n    <div class="grid-cell name-grid-cell">\n        <div class="visible-md visible-lg visible-xl">\n            <a class="rp-link" data-js-filter-link></a>&nbsp;&nbsp;<i class="filter-edit material-icons" data-js-filter-edit>edit</i>\n            <!--<p class="description-item" data-js-description></p>-->\n            <div class="description-item" data-js-description></div>\n        </div>\n        <div class="mobile-title visible-sm visible-xs">\n            <div class="row">\n                <div class="col-xs-10">\n                    <a class="rp-link" data-js-filter-link></a>\n                    <span  data-js-filter-name></span>\n                    <i class="material-icons filter-edit-mobile" data-js-filter-edit>edit</i>\n                </div>\n                <div class="col-xs-2" >\n                    <i class="rp-icons rp-icons-delete" data-js-remove></i>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="grid-cell option-grid-cell">\n            <span class="" data-js-filter-options></span>\n    </div>\n    <div class="grid-cell owner-grid-cell">\n        <div class="visible-md visible-lg">\n            <span class="" data-js-owner></span>\n        </div>\n        <div class="visible-sm visible-xs">\n            <span class="description">'+r(e.text.favorites.fOwner)+': </span>\n            <span class="" data-js-owner></span>\n        </div>\n    </div>\n    <div class="grid-cell icons-grid-cell">\n        <div class="text-center visible-md visible-lg" data-js-filter-shared>\n            <i class="material-icons" data-js-filter-shared-icon>check</i>\n        </div>\n        <div class="visible-sm visible-xs" data-js-filter-shared>\n            <span class="description">'+r(e.text.favorites.fShared)+': </span>\n            <i class="material-icons" data-js-filter-shared-icon>check</i>\n        </div>\n    </div>\n    <div class="grid-cell display-launch-grid-cell switcher-block">\n        <div class="text-center visible-md visible-lg">\n            <label class="switcher-label">\n                <label class="rp-switcher">\n                    <input type="checkbox" data-js-switch-to-launch>\n                    <div class="slider"></div>\n                </label>\n                <span class="switcher-text" data-js-switch-to-launch-text></span>\n            </label>\n        </div>\n        <div class="visible-sm visible-xs">\n            <label class="switcher-label">\n                <span class="description">'+r(e.text.favorites.fDisplayOnLaunches)+': </span>\n                <label class="rp-switcher rp-switcher-sm">\n                    <input type="checkbox" data-js-switch-to-launch-mobile>\n                    <div class="slider"></div>\n                </label>\n            </label>\n        </div>\n    </div>\n    <div class="grid-cell icons-grid-cell visible-md visible-lg">\n        <div class="md-text-center">\n            <i class="rp-icons rp-icons-delete" data-js-remove></i>\n        </div>\n    </div>\n',n},this.JST["tpl-favorite-page"]=function(e){var t,n="",r=_.escape;return n+='\n<div id="filter-page" class="container-fluid rp-margin-reset rp-odd-even rp-table-hover">\n    <div class="row">\n        <div class="print">\n            <p>'+r(e.text.dashboard.project)+": <span>"+r(e.projectName)+"</span></p>\n            <p>"+r(e.text.favorites.title)+'</span></p>\n        </div>\n        <div class="filter-header">\n            <div class="col-md-4 col-xs-7">\n                <div class="input-filter form-group">\n                    <input type="text" class="rp-input-search favorites-name-filter rp-input-sm form-control" data-js-filter-name name="userFilter" placeholder="'+((t=e.text.ui.searchName)==null?"":t)+'" value="">\n                    <i class="material-icons">search</i>\n                    <div class="validate-hint"></div>\n                </div>\n            </div>\n            <div class="col-md-5 search-description">\n                '+r(e.text.favorites.msgFavoriteFilters)+'\n            </div>\n            <div class="col-md-3 col-xs-5">\n                <button type="button" class="rp-btn rp-btn-default rp-button-with-icon not-small float-right" data-js-add-filter>\n                    <i class="rp-icons rp-icons-add-filter"></i>\n                    <span class="rp-btn-val">'+r(e.text.favorites.addFilter)+'</span>\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="rp-table-grid favorites-grid">\n        <div class="row rp-grid-thead fixed_table_header visible-md visible-lg visible-xl">\n            <div class="grid-cell name-grid-cell rp-grid-th">\n                <div class="table-wrapper"><div class="middle-wrapper">\n                    <span class="rp-grid-th-name">'+r(e.text.favorites.fName)+'</span>\n                </div></div>\n            </div>\n            <div class="grid-cell option-grid-cell rp-grid-th">\n                <div class="table-wrapper"><div class="middle-wrapper">\n                    <span class="rp-grid-th-name">'+r(e.text.favorites.fOptions)+'</span>\n                </div></div>\n            </div>\n            <div class="grid-cell owner-grid-cell rp-grid-th">\n                <div class="table-wrapper"><div class="middle-wrapper">\n                    <span class="rp-grid-th-name">'+r(e.text.favorites.fOwner)+'</span>\n                </div></div>\n            </div>\n            <div class="grid-cell icons-grid-cell rp-grid-th text-center">\n                <div class="table-wrapper"><div class="middle-wrapper">\n                    <span class="rp-grid-th-name">'+r(e.text.favorites.fShared)+'</span>\n                </div></div>\n            </div>\n            <div class="grid-cell display-launch-grid-cell rp-grid-th text-center">\n                <div class="table-wrapper"><div class="middle-wrapper">\n                    <span class="rp-grid-th-name">'+r(e.text.favorites.fDisplayOnLaunches)+'</span>\n                </div></div>\n            </div>\n            <div class="grid-cell icons-grid-cell rp-grid-th text-center">\n                <div class="table-wrapper"><div class="middle-wrapper">\n                    <span class="rp-grid-th-name">'+r(e.text.favorites.fDelete)+'</span>\n                </div></div>\n            </div>\n        </div>\n        <div data-js-filter-list></div>\n    </div>\n\n    <div class="no-filters-exist" data-js-empty-block>\n        <div class="no-filter-img"></div>\n        <h3>'+r(e.text.favorites.noAvailableFilters)+"</h3>\n        <p>"+r(e.text.favorites.createFilter)+'<a href="#" class="rp-link" data-js-link-launch>'+r(e.text.favorites.launchPage)+"</a></p>\n        <p>"+r(e.text.favorites.or)+'</p>\n        <button type="button" class="rp-btn rp-btn-default rp-button-with-icon not-small" data-js-add-filter>\n            <i class="rp-icons rp-icons-add-filter"></i>\n            <span class="rp-btn-val">'+r(e.text.favorites.addFilter)+'</span>\n        </button>\n    </div>\n    <div class="no-filters-found" data-js-not-found>\n        <h3><i class="rp-icons rp-iconswarning"></i>No filters found for \'<span data-js-search-value></span>\'</h3>\n        <p>Check your query and try again</p>\n    </div>\n    <div class="preloader">\n        <i class="material-icons loader-animation">refresh</i>\n    </div>\n\n    <div data-js-filter-paginate></div>\n</div>\n',n},this.JST["tpl-entity-base"]=function(e){var t,n="",r=_.escape;return n+='<div class="form-group">\n    <label class="filter-name" data-js-name></label>\n    <span class="remove-filter float-right" data-js-remove>\n            <i class="material-icons">clear</i>\n        </span>\n    <div class="input-group input-group-sm" data-js-content>\n    </div>\n    <div class="filter-hint" data-js-hint></div>\n</div>',n},this.JST["tpl-entity-conditions"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;n+='<button type="button" class="btn dropdown-toggle" data-value="'+((t=e.condition)==null?"":t)+'" data-toggle="dropdown" aria-expanded="false">\n    <span class="select-value" data-js-condition-selected>\n        ';var o=_.find(e.options,function(t){return e.condition==t.id});return n+="\n        "+((t=e.text.filterShortCut[o.id])==null?"":t)+'\n    </span>\n    <span class="caret"></span>\n</button>\n<ul class="dropdown-menu option-menu dropdown-menu-left" role="menu" data-js-condition-list>\n    ',_.each(e.options,function(r){n+="\n        <li ",e.condition==r.id&&(n+='class="active"'),n+='><a href="#" data-short="'+((t=r.shortCut||"")==null?"":t)+'" data-value="'+((t=r.id)==null?"":t)+'">'+((t=e.text.filterConditions[r.id])==null?"":t)+"</a></li>\n    "}),n+="\n</ul>\n",n},this.JST["tpl-entity-input"]=function(e){var t,n="",r=_.escape;return n+='<input type="text" class="filter statistics-number form-control input-sm" data-js-input>\n<span class="clear-text" data-js-clear-input></span>\n',n},this.JST["tpl-entity-invalid"]=function(e){var t,n="",r=_.escape;return n+='<input disabled="" type="text" class="form-control input-sm invalid" data-js-input>\n<div class="help-inline rp-display-inline-block">\n    <span>No info matches this filter</span>\n</div>',n},this.JST["tpl-entity-select"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<button class="rp-btn rp-btn-with-dropdown rp-width-100 dropdown-toggle"\n        data-toggle="dropdown">\n    <span class="select-value" data-js-value></span>\n    <span class="rp-caret"></span>\n</button>\n<ul class="dropdown-menu rp-width-100">\n    ',_.each(e.values,function(e,i){n+='\n    <li class="filter '+((t=e.value=="All"?"all-selector":"")==null?"":t)+'">\n        <a class="checkbox value-selector '+((t=e.subOption?"sub-option":"")==null?"":t)+'">\n            <label class="rp-checkbox-wrap" '+((t=e.value=="All"?"data-js-toggle-all":"")==null?"":t)+">\n                ",e.value!="All"&&(n+='\n                <input class="rp-input-checkbox"\n                       data-value="'+r(e.value)+'"\n                       data-name="'+r(e.name)+'"\n                '+((t=e.subOption?"data-js-sub-option":"data-js-option")==null?"":t)+"\n                "+((t=e.subType?'data-subtype="'+e.subType+'"':"")==null?"":t)+"\n                "+((t=e.mainType?'data-maintype="'+e.mainType+'"':"")==null?"":t)+'\n                type="checkbox" />\n                '),n+='\n                <span class="text-ellipsis">'+((t=e.name)==null?"":t)+"</span>\n            </label>\n        </a>\n    </li>\n    "}),n+="\n</ul>\n",n},this.JST["tpl-entity-tag"]=function(e){var t,n="",r=_.escape;return n+='<input autocomplete="off"  type="text"\n       data-warning="'+((t=e.warning)==null?"":t)+'"\n       value="'+((t=e.value)==null?"":t)+'" class="input-sm tags-typeahead" data-js-tag-input>',n},this.JST["tpl-entity-time-range"]=function(e){var t,n="",r=_.escape;return n+='<span class="input-group-btn rp-btn rp-btn-with-dropdown form-control input-sm timerange" data-js-input>\n            <span class="caret"></span>\n        </span>',n},this.JST["tpl-filter-entities-choice"]=function(e){var t,n="",r=_.escape;return n+='<div class="btn-group filter-entities-choice">\n    <button class="rp-btn rp-btn-with-dropdown rp-width-100 dropdown-toggle"\n            data-toggle="dropdown"\n            type="button">\n        <span class="select-value">'+((t=e.text.filters.more)==null?"":t)+'</span>\n        <span class="rp-caret"></span>\n    </button>\n    <ul class="dropdown-menu filters-criteria" data-js-entity-choice-list></ul>\n</div>\n',n},this.JST["tpl-filter-entities"]=function(e){var t,n="",r=_.escape;return n+='<div class="filter-entities-container" data-js-entities></div>\n<div class="filter-entities-container" data-js-entities-choice></div>',n},this.JST["tpl-filter-entity-choice"]=function(e){var t,n="",r=_.escape;return n+='<label class="checkbox rp-checkbox-wrap" data-js-link>\n    <input class="criteria-option rp-input-checkbox" type="checkbox" data-js-check-visible>\n    <span data-js-name></span>\n</label>\n',n},this.JST["tpl-filter-entity-dropdown"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<button class="rp-btn rp-btn-with-dropdown rp-width-100 dropdown-toggle"\n        data-toggle="dropdown">\n    <span class="select-value" data-js-value></span>\n    <span class="rp-caret"></span>\n</button>\n<ul class="dropdown-menu rp-width-100">\n    ',_.each(e.options,function(e,r){n+='\n    <li class="filter">\n        <a class="value-selector" data-value="'+((t=e.value)==null?"":t)+'">\n            <span class="text-ellipsis">'+((t=e.name)==null?"":t)+"</span>\n        </a>\n    </li>\n    "}),n+="\n</ul>\n\n",n},this.JST["filter-sorting-item-view"]=function(e){var t,n="",r=_.escape;return n+='<a>\n    <span data-js-name></span>\n    <i class="material-icons" data-js-ask-icon>keyboard_arrow_up</i>\n    <i class="material-icons" data-js-desc-icon>keyboard_arrow_down</i>\n</a>',n},this.JST["filter-sorting-view"]=function(e){var t,n="",r=_.escape;return n+='<span class="dropdown-toggle" data-toggle="dropdown" type="button" aria-expanded="true">\n    <span data-js-sorting-name></span>\n    <i class="material-icons" data-js-ask-sort>keyboard_arrow_up</i>\n    <i class="material-icons" data-js-desc-sort>keyboard_arrow_down</i>\n</span>\n<ul class="dropdown-menu" data-js-sorting-list></ul>',n},this.JST["tpl-filters-button"]=function(e){var t,n="",r=_.escape;return n+='<ul class="button_filter">\n    <li>\n        <button class="my_button '+((t=e.name)==null?"":t)+" "+((t=e.value?"active":"")==null?"":t)+'"\n            type="button"\n            data-id="'+((t=e.name)==null?"":t)+'">\n            '+((t=e.text.filterNameByValue[e.name])==null?"":t)+"\n        </button>\n    </li>\n</ul>\n",n},this.JST["tpl-filters-invalid"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="form-group has-error" data-id="'+((t=e.id)==null?"":t)+'">\n    <label class="filter-name">'+((t=e.name)==null?"":t)+"</label>\n    ",e.required||(n+='\n        <span class="remove-filter float-right">\n            <i class="material-icons">clear</i>\n        </span>\n    '),n+='\n    <div class="input-group input-group-sm dropdown-like">\n        <div class="filter-option-input">\n            <input disabled type="text"\n                class="form-control input-sm invalid"\n                placeholder=""\n                value="'+r(e.value)+'" />\n            <div class="help-inline">\n                <span>'+((t=e.text.filters.noInfoFilter)==null?"":t)+'</span>\n            </div>\n        </div>\n    </div>\n    <div class="tt-dropdown-menu filter-hint"></div>\n</div>',n},this.JST["tpl-filters-multi-button"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="log_level">'+((t=e.text.logs.logLevel)==null?"":t)+'</div>\n<ul class="my_button_group">\n    ',_.each(e.values,function(r){var i=e.value.indexOf(r)>=0?"active":"";n+='\n        <li>\n            <button class="my_button '+((t=i)==null?"":t)+" "+((t=r)==null?"":t)+'" type="button" data-id="'+((t=r)==null?"":t)+'">\n                '+((t=e.text.filterNameByValue[r])==null?"":t)+"\n            </button>\n        </li>\n    "}),n+="\n</ul>",n},this.JST["tpl-filters-panel"]=function(e){var t,n="",r=_.escape;return n+='<div class="filters-cover"></div><div class="rp-filter-tabs"></div><div class="rp-filter-inputs clearfix">\n    <div id="filterInputs" class="col-xs-12"></div>\n</div>',n},this.JST["tpl-filters-select"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="form-group" data-id="'+((t=e.id)==null?"":t)+'">\n    <label for="filter-name" class="filter-name">\n        '+((t=e.text.filterNameById[e.id.escapeLessDirection()])==null?"":t)+"\n    </label>\n    ",e.required||(n+='\n        <span class="remove-filter float-right">\n            <i class="material-icons">clear</i>\n        </span>\n    '),n+='\n    <div class="input-group input-group-sm dropdown-like">\n        <div class="input-group-btn btn-group-fix-font">\n            <button class="rp-btn rp-btn-with-dropdown rp-width-100 dropdown-toggle" data-toggle="dropdown">\n                <span class="select-value">'+((t=e.value)==null?"":t)+'</span>\n                <span class="rp-caret"></span>\n            </button>\n            <ul class="dropdown-menu rp-width-100">\n                ',_.each(e.values,function(e,r){n+='\n                    <li class="filter">\n                        <a class="value-selector" data-value="'+((t=e.value)==null?"":t)+'">'+((t=e.name)==null?"":t)+"</a>\n                    </li>\n                "}),n+="\n            </ul>\n        </div>\n    </div>\n</div>\n",n},this.JST["tpl-filters-statistic"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;n+='<div class="form-group" data-id="'+((t=e.id)==null?"":t)+'">\n    ',e.label?n+='\n        <label for="filter-name" class="filter-name">'+((t=e.label)==null?"":t)+"</label>\n    ":n+='\n        <label for="filter-name" class="filter-name">\n            '+((t=e.text.filterNameById[e.id.escapeLessDirection()])==null?"":t)+"\n        </label>\n    ",n+="\n    ",e.required||(n+='\n        <span class="remove-filter float-right">\n            <i class="material-icons">clear</i>\n        </span>\n    '),n+='\n    <div class="input-group input-group-sm">\n        <div class="input-group-sm filter-option-select">\n            <button type="button" class="btn dropdown-toggle" data-value="'+((t=e.condition)==null?"":t)+'" data-toggle="dropdown" aria-expanded="false">\n                <span class="select-value">\n                    ';var o=_.find(e.options,function(t){return e.condition==t.id});return n+="\n                    "+((t=o.shortCut||e.condition)==null?"":t)+'\n                </span> <span class="caret"></span></button>\n            <ul class="dropdown-menu option-menu dropdown-menu-left" role="menu">\n                ',_.each(e.options,function(r){n+="\n                <li ",e.condition==r.id&&(n+='class="active"'),n+='><a href="#" data-short="'+((t=r.shortCut||"")==null?"":t)+'" data-value="'+((t=r.id)==null?"":t)+'">'+((t=e.text.filterConditions[r.id||r.shortCut])==null?"":t)+"</a></li>\n                "}),n+='\n            </ul>\n        </div>\n        <div class="filter-option-input">\n            <input type="text" placeholder="" value="'+((t=e.value)==null?"":t)+'" class="filter statistics-number form-control input-sm" maxlength="5" />\n            <span class="clear-text"></span>\n        </div>\n    </div>\n</div>',n},this.JST["tpl-filters-status-defect"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="form-group" data-id="'+((t=e.id)==null?"":t)+'">\n    <label class="filter-name">'+((t=e.text.filterNameById[e.id.escapeLessDirection()])==null?"":t)+"</label>\n    ",e.required||(n+='\n        <span class="remove-filter float-right">\n            <i class="material-icons">clear</i>\n        </span>\n    '),n+='\n    <div class="input-group input-group-sm dropdown-like">\n        <div class="input-group-btn btn-group-fix-font">\n            <button class="rp-btn rp-btn-with-dropdown rp-width-100 dropdown-toggle"\n                id="statusFilterSelector"\n                data-toggle="dropdown">\n               <span class="select-value"></span>\n                <span class="rp-caret"></span>\n            </button>\n            <ul class="dropdown-menu rp-width-100">\n                ',_.each(e.values,function(e,i){n+='\n                    <li class="filter">\n                        <a class="checkbox value-selector '+((t=e.subOption?"sub-option":"")==null?"":t)+'">\n                            <label>\n                                ',i>0&&(n+='\n                                    <input class="rp-input-checkbox"\n                                        data-value="'+r(e.value)+'"\n                                        data-name="'+r(e.name)+'"\n                                        '+((t=e.subType?'data-subtype="'+e.subType+'"':"")==null?"":t)+"\n                                        "+((t=e.mainType?'data-maintype="'+e.mainType+'"':"")==null?"":t)+'\n                                        type="checkbox" />\n                                '),n+='\n                                <span class="text-ellipsis">'+((t=e.name)==null?"":t)+"</span>\n                            </label>\n                        </a>\n                    </li>\n                "}),n+="\n            </ul>\n        </div>\n    </div>\n</div>\n",n},this.JST["tpl-filters-status"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="form-group" data-id="'+((t=e.id)==null?"":t)+'">\n    <label class="filter-name">'+((t=e.text.filterNameById[e.id.escapeLessDirection()])==null?"":t)+"</label>\n    ",e.required||(n+='\n        <span class="remove-filter float-right">\n            <i class="material-icons">clear</i>\n        </span>\n    '),n+='\n    <div class="input-group input-group-sm dropdown-like">\n        <div class="input-group-btn btn-group-fix-font">\n            <button class="rp-btn rp-btn-with-dropdown rp-width-100 dropdown-toggle"\n                id="statusFilterSelector"\n                data-toggle="dropdown">\n                <span class="select-value">'+((t=e.value)==null?"":t)+'</span>\n                <span class="rp-caret"></span>\n            </button>\n            <ul class="dropdown-menu rp-width-100">\n                ',_.each(e.values,function(r,i){n+='\n                    <li class="filter">\n                        <a class="checkbox value-selector">\n                            <label>\n                                ';if(i>0){n+="\n                                    ";var s=e.value.toUpperCase().indexOf(r.toUpperCase())!==-1||e.value==="All"?'checked="checked"':"";n+='\n                                    <input class="rp-input-checkbox"\n                                        data-value="'+((t=r)==null?"":t)+'"\n                                        type="checkbox" '+((t=s)==null?"":t)+" />\n                                "}n+="\n                                <span>"+((t=r)==null?"":t)+"</span>\n                            </label>\n                        </a>\n                    </li>\n                "}),n+="\n            </ul>\n        </div>\n    </div>\n</div>\n",n},this.JST["tpl-filters-tab-criteria"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;n+='<div class="tab-filters clearfix" data-id="'+((t=e.id)==null?"":t)+'">\n    ';var o=_.all(e.criteria,function(e){return e.required==1});return n+="\n    ",e.criteria.length>0&&!o&&(n+='\n    <div class="btn-group criteria-btn">\n        <button class="rp-btn rp-btn-with-dropdown rp-width-100 dropdown-toggle"\n            data-toggle="dropdown"\n            type="button">\n            <span class="select-value">'+((t=e.text.filters.more)==null?"":t)+'</span>\n            <span class="rp-caret"></span>\n        </button>\n        <ul class="dropdown-menu filters-criteria">\n            ',_.each(e.criteria,function(r,i){n+="\n                ",!r.required&&!r.hideCriteria&&(n+='\n                <li>\n                    <a class="checkbox '+((t=r.subFilter?"sub-option":"")==null?"":t)+'">\n                        <label>\n                            <input class="'+((t=r.name)==null?"":t)+' criteria-option rp-input-checkbox"\n                                data-id="'+((t=r.id)==null?"":t)+'"\n                                ',r.visible&&(n+="checked"),n+='\n                                type="checkbox" />\n                            <span>\n                                '+((t=r.longName?r.longName:e.text.filterNameById[r.id.escapeLessDirection()])==null?"":t)+"\n                            </span>\n                        </label>\n                    </a>\n                </li>\n                "),n+="\n            "}),n+="\n        </ul>\n    </div>\n    "),n+="\n</div>\n",n},this.JST["tpl-filters-tab-editor"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="form-group col-sm-9">\n    <label class="rp-control-label" for="tabName">'+((t=e.text.filter.name)==null?"":t)+'</label>\n    <div>\n        <input type="text" placeholder="'+((t=e.text.filters.enterFilterName)==null?"":t)+'" id="tabName" class="rp-input rp-width-100"\n               value="'+r(e.name||"")+'">\n        <span class="help-inline"></span>\n    </div>\n</div><div class="form-group col-sm-3 col-xs-3">\n    <label class="rp-control-label"  for="tabShared">'+((t=e.text.filter.share)==null?"":t)+'</label>\n    <div>\n        <input id="tabShared" type="checkbox" class="js-switch" ',e.isShared&&(n+=' checked="checked" '),n+=" />\n    </div>\n</div>",n},this.JST["tpl-filters-tab-menu"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return _.forEach(e.tabs,function(i,s){n+='\n    <div class="'+((t=s===e.id?"active":"")==null?"":t)+" tab "+((t=i.isShared?"shared":"")==null?"":t)+" "+((t=s==="allCases"?"all-cases":"")==null?"":t)+'"\n         data-id="'+((t=s)==null?"":t)+'">\n        <a href="#" data-toggle="dropdown" class="tab-controls">\n            <i class="rp-svg-icon svg-icon-menu-size-14"></i>\n        </a>\n        <span class="name-text multiple-spaces">'+r(i.name||e.text.filters.all)+"</span>\n        ",i.isShared&&(n+="\n            ",i.owner!==e.user?n+='\n                <span class="public-icon-wrapper">\n                    <i class="material-icons" title="'+((t=e.text.launches.filterIsSharedByOtherUser)==null?"":t)+'">\n                        public\n                    </i>\n                </span>\n            ':n+='\n                <span class="share-icon-wrapper">\n                    <i class="material-icons" title="'+((t=e.text.launches.filterIsShared)==null?"":t)+'">share</i>\n                </span>\n            ',n+="\n        "),n+="\n    </div>\n"}),n+='\n<div class="add-new tab">\n    <i class="material-icons">add</i>\n    <input class=\'form-control\' placeholder=\''+((t=e.text.filters.enterFilterName)==null?"":t)+'\' />\n    <i class="material-icons icon-cancel" title="'+((t=e.text.filters.close)==null?"":t)+'">cancel</i>\n    <span>Add Filter</span>\n</div>\n',n},this.JST["tpl-filters-tab-new-option"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="active tab '+((t=e.isShared?"shared":"")==null?"":t)+'" data-id="'+((t=e.id)==null?"":t)+'">\n    <a href="#" data-toggle="dropdown" class="tab-controls">\n        <i class="rp-svg-icon svg-icon-menu-size-14"></i>\n    </a>\n    <span class="name-text multiple-spaces">\n        '+r(e.name)+"\n    </span>\n    ",e.isShared&&(n+='\n        <span class="share-icon-wrapper">\n            <i class="material-icons" title="'+((t=e.text.launches.filterIsShared)==null?"":t)+'">share</i>\n        </span>\n    '),n+="\n</div>",n},this.JST["tpl-filters-tab-options"]=function(e){var t,n="",r=_.escape;return n+='<ul class="dropdown-menu filter-manager">\n    <li class="action"><span class="edit-tab menu-option '+((t=e.edit?"":"disabled")==null?"":t)+'">'+((t=e.text.ui.edit)==null?"":t)+'</span></li>\n    <li class="action"><span class="save-tab menu-option '+((t=e.save?"":"disabled")==null?"":t)+'">'+((t=e.text.ui.save)==null?"":t)+'</span></li>\n    <li class="action"><span class="save-all-tab menu-option '+((t=e.saveAll?"":"disabled")==null?"":t)+'">'+((t=e.text.ui.saveAll)==null?"":t)+'</span></li>\n    <li class="action"><span class="clone-tab menu-option '+((t=e.clone?"":"disabled")==null?"":t)+'">'+((t=e.text.ui.clone)==null?"":t)+'</span></li>\n    <li class="action"><span class="discard-tab menu-option '+((t=e.discard?"":"disabled")==null?"":t)+'">'+((t=e.text.ui.discard)==null?"":t)+'</span></li>\n    <li class="divider"></li>\n    <li class="action"><span class="close-tab menu-option '+((t=e.close?"":"disabled")==null?"":t)+'">'+((t=e.text.ui.close)==null?"":t)+"</span></li>\n</ul>",n},this.JST["tpl-filters-timer"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="form-group" data-id="'+((t=e.id)==null?"":t)+'">\n    <label for="filter-name" class="filter-name">\n        '+((t=e.text.filterNameById[e.id.escapeLessDirection()])==null?"":t)+"\n    </label>\n    ",e.required||(n+='\n        <span class="remove-filter float-right">\n            <i class="material-icons">clear</i>\n        </span>\n    '),n+='\n    <div class="input-group input-group-sm dropdown-like">\n        <span class="input-group-btn rp-btn rp-btn-with-dropdown form-control input-sm timerange">\n            '+((t=e.value)==null?"":t)+'\n            <span class="caret"></span>\n        </span>\n        <span class="hidden val"></span>\n    </div>\n</div>\n',n},this.JST["tpl-filters-user"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;n+='<div class="form-group" data-id="'+((t=e.id)==null?"":t)+'">\n    <label class="filter-name">'+((t=e.text.filterNameById[e.id.escapeLessDirection()])==null?"":t)+"</label>\n    ",e.required||(n+='\n        <span class="remove-filter float-right">\n            <i class="material-icons">clear</i>\n        </span>\n    '),n+='\n    <div class="input-group input-group-sm">\n        ';if(e.options&&e.options.length){n+='\n        <div class="input-group-sm filter-option-select">\n            <button type="button" class="btn dropdown-toggle" data-value="'+((t=e.condition)==null?"":t)+'" data-toggle="dropdown" aria-expanded="false">\n                <span class="select-value">\n                    ';var o=_.find(e.options,function(t){return e.condition==t.id});n+="\n                    "+((t=o.shortCut||e.condition)==null?"":t)+'\n                </span> <span class="caret"></span></button>\n            <ul class="dropdown-menu option-menu dropdown-menu-left" role="menu">\n                ',_.each(e.options,function(r){n+="\n                <li ",e.condition==r.id&&(n+='class="active"'),n+='><a href="#" data-short="'+((t=r.shortCut||"")==null?"":t)+'" data-value="'+((t=r.id)==null?"":t)+'">'+((t=e.text.filterConditions[r.shortCut||r.id])==null?"":t)+"</a></li>\n                "}),n+="\n            </ul>\n        </div>\n        "}n+='        \n        <div class="filter-option-input">\n            ';var u=e.id!="tags"?e.text.ui.minPrefix+" "+e.startSearch+" "+e.text.ui.minSufix:e.text.ui.enterChars;return n+='\n            <input autocomplete="off" id="tagFilter" type="text"\n                   data-warning="'+((t=u)==null?"":t)+'"\n                   value="'+((t=e.value)==null?"":t)+'" class="input-sm tags-typeahead" />\n        </div>\n    </div>\n</div>',n},this.JST["tpl-filters-view"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;n+='<div class="form-group" data-id="'+((t=e.id)==null?"":t)+'">\n    ';var o=e.id.escapeLessDirection()!=="name"?e.id.escapeLessDirection():e.gridType==="launch"?"name":"itemName";n+='\n    <label class="filter-name">'+((t=e.text.filterNameById[o])==null?"":t)+"</label>\n    ",e.required||(n+='\n        <span class="remove-filter float-right">\n            <i class="material-icons">clear</i>\n        </span>\n    '),n+='\n    <div class="input-group input-group-sm dropdown-like">\n        ';if(e.options&&e.options.length){n+='\n        <div class="input-group-sm filter-option-select">\n            <button type="button" class="btn dropdown-toggle" data-value="'+((t=e.condition)==null?"":t)+'" data-toggle="dropdown" aria-expanded="false">\n                <span class="select-value">\n                    ';var u=_.find(e.options,function(t){return e.condition==t.id});n+="\n                    "+((t=u.shortCut||e.condition)==null?"":t)+'\n                </span> <span class="caret"></span></button>\n            <ul class="dropdown-menu option-menu dropdown-menu-left" role="menu">\n                ',_.each(e.options,function(r){n+="\n                <li ",e.condition==r.id&&(n+='class="active"'),n+='><a href="#" data-short="'+((t=r.shortCut||"")==null?"":t)+'" data-value="'+((t=r.id)==null?"":t)+'">'+((t=e.text.filterConditions[r.shortCut||r.id])==null?"":t)+"</a></li>\n                "}),n+="\n            </ul>\n        </div>\n        "}return n+='\n        <div class="filter-option-input">\n            <input type="text" class="form-control input-sm" placeholder="" value="'+r(e.value)+'" />\n            <span class="clear-text"></span>\n        </div>\n    </div>\n    <div class="tt-dropdown-menu filter-hint"></div>\n</div>',n},this.JST["tpl-delete-user"]=function(e){var t,n="",r=_.escape;return n+='<div class="modal fade dialog-shell" id="deleteUser" tabindex="-1" role="dialog" aria-labelledby="deleteUser" aria-hidden="true">\n    <div class="modal-dialog modal-sm">\n        <div class="modal-content">\n            <div class="modal-body">\n                <h4 class="col-sm-12" style="word-break: normal !important;">'+((t=e.text.ui.sureToDelete)==null?"":t)+" "+((t=e.text.ui.userSm)==null?"":t)+' <strong class="user-name-holder"></strong>?</h4>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="rp-btn rp-btn-cancel" data-dismiss="modal">'+((t=e.text.ui.cancel)==null?"":t)+'</button>\n                <button type="button" class="rp-btn rp-btn-danger">'+((t=e.text.ui.del)==null?"":t)+"</button>\n            </div>\n        </div>\n    </div>\n</div>",n},this.JST["tpl-remove-dashboard"]=function(e){var t,n="",r=_.escape;return n+='<div class="modal fade dialog-shell" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\n    <div class="modal-dialog modal-sm">\n        <div class="modal-content">\n            <div class="modal-body">\n                <h4 class="col-sm-12" id="modal-content-text">\n                    '+((t=e.format(e.text.ui[e.message]))==null?"":t)+'?\n                </h4>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="rp-btn rp-btn-cancel" data-dismiss="modal">'+((t=e.text.ui.cancel)==null?"":t)+'</button>\n                <button type="button" class="rp-btn rp-btn-danger">'+((t=e.text.ui.remove)==null?"":t)+"</button>\n            </div>\n        </div>\n    </div>\n</div>",n},this.JST["tpl-remove-widget"]=function(e){var t,n="",r=_.escape;return n+='<div class="modal fade dialog-shell" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\n    <div class="modal-dialog modal-sm">\n        <div class="modal-content">\n            <div class="modal-body">\n                <h4 class="col-sm-12" id="modal-content-text">\n                    '+((t=e.format(e.text.ui[e.message]))==null?"":t)+'?\n                </h4>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="rp-btn rp-btn-cancel" data-dismiss="modal">'+((t=e.text.ui.cancel)==null?"":t)+'</button>\n                <button type="button" class="rp-btn rp-btn-danger">'+((t=e.text.ui.remove)==null?"":t)+"</button>\n            </div>\n        </div>\n    </div>\n</div>",n},this.JST["tpl-invalid-page"]=function(e){var t,n="",r=_.escape;return n+='<div class="invalid-wrapper">\n<div class="content-err-wrapper">\n    <div class="round round-7"></div>\n    <div class="round round-6"></div>\n    <div class="round round-5"></div>\n    <div class="round round-4"></div>\n    <div class="round round-3"></div>\n    <div class="round round-2"></div>\n    <div class="round round-1"></div>\n    <div class="stars layer-1"></div>\n    <div class="stars layer-2"></div>\n    <div class="orbit-rotation round-center red-planet">\n        <div class="self-rotation planet area"></div>\n        <div class="self-rotation area">\n            <div class="part1"></div>\n            <div class="part2"></div>\n            <div class="part3"></div>\n            <div class="part4"></div>\n        </div>\n    </div>\n    <div class="orbit-rotation round-center orange-planet">\n        <div class="self-rotation planet area"></div>\n        <div class="self-rotation area">\n            <div class="part1"></div>\n            <div class="part2"></div>\n            <div class="part3"></div>\n            <div class="part4"></div>\n            <div class="part5"></div>\n        </div>\n\n    </div>\n</div>\n<div class="content-err">\n    <h1>'+((t=e.text.notFound.oops)==null?"":t)+'</h1>\n    <p class="mobile-short">'+((t=e.text.notFound.spelling)==null?"":t)+"</p>\n    <p>"+((t=e.text.notFound.or)==null?"":t)+"</p>\n    <p>"+((t=e.text.notFound.permission)==null?"":t)+'</p>\n    <button class="rp-btn rp-btn-default" data-js-back-home>\n        <span class="rp-btn-val">'+((t=e.text.ui.backHome)==null?"":t)+'</span>\n    </button>\n</div>\n</div>\n<div class="invalid-header" >\n    <div class="logo" data-js-back-home></div>\n</div>\n',n},this.JST["tpl-retries-block-item"]=function(e){var t,n="",r=_.escape;return n+='<div class="status" data-js-status></div>\n<div class="name"> #<span data-js-number></span></div>\n<div class="duration" data-js-duration-container></div>\n<div class="status-text" data-js-status-text></div>\n<div class="item-time" data-js-time></div>\n',n},this.JST["tpl-retries-block"]=function(e){var t,n="",r=_.escape;return n+='<div class="top-border"></div>\n<div class="retries-container" data-js-retries-container></div>\n<div class="retries-log-container" data-js-log-container></div>\n',n},this.JST["tpl-retries-item-log"]=function(e){var t,n="",r=_.escape;return n+='<p class="stack-trace">'+((t=e.text.launches.stackTrace)==null?"":t)+' #<span data-js-number></span></p>\n<div class="message-container" >\n    <div data-js-message-container class="baroon-container">\n\n    </div>\n</div>\n<a data-js-link>'+((t=e.text.launches.openInLog)==null?"":t)+"</a>\n",n},this.JST["tpl-retries-label"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+="<ul>\n    ",_.each(e.retries,function(e){n+='\n        <li class="status-'+((t=e.status)==null?"":t)+'"></li>\n    '}),n+='\n</ul>\n<span class="hidden-md hidden-lg mobile" >'+((t="#"+e.retries.length+" "+e.text.launches.rtr)==null?"":t)+'</span>\n<span data-js-retries-link class="hidden-xs hidden-sm '+r(e.isLogLevel?"not-a-link":null)+'">'+((t=e.retries.length+" "+e.text.launches.retries)==null?"":t)+"</span>\n",n},this.JST["tpl-Launch-step-log-defect-ticket"]=function(e){var t,n="",r=_.escape;return n+='<span data-js-ticket-id></span>\n<i data-js-issue-remove-ticket class="material-icons">clear</i>\n',n},this.JST["tpl-launch-body"]=function(e){var t,n="",r=_.escape;return n+='<div class="print launches">\n    <p>'+r(e.text.dashboard.project)+": <span>"+r(e.projectName)+'</span></p>\n    <p></p>\n</div>\n<div class="launches-header-bar clearfix" data-js-header-bar>\n    <div class="multiple-selected-container" data-js-multiple-selected></div>\n    <div class="crumbs-container" data-js-crumbs></div>\n    <div data-js-controls-container></div>\n</div>\n<div class="preloader" data-js-preloader-launch-body>\n    <i class="material-icons loader-animation">refresh</i>\n</div>\n<div class="no-result-found" data-js-launch-not-found>\n    <i class="rp-icons rp-icons-warning"></i>\n    <span>'+((t=e.text.launches.noLaunchFound)==null?"":t)+"</span>\n    <p>"+r(e.text.failMessages.gridData)+'</p>\n</div>\n<div class="no-result-found" data-js-item-not-found>\n    <i class="rp-icons rp-icons-warning"></i>\n    <span>'+((t=e.text.launches.noItemFound)==null?"":t)+"</span>\n    <p>"+r(e.text.failMessages.gridData)+'</p>\n</div>\n<div class="launch-body-wrapper" data-js-info-container></div>\n',n},this.JST["tpl-launch-crumb-path"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+="<span>(</span>\n",_.each(e.pathData,function(i,s){n+='\n<a class="ellipse" href="'+r(i.link)+'">'+((t=i.name)==null?"":t)+"</a>\n",e.pathData.length-1!==s&&(n+='\n<i class="arrow material-icons">keyboard_arrow_right</i>\n'),n+="\n"}),n+='\n<span>)</span>\n<i class="arrow material-icons">keyboard_arrow_right</i>\n<span class="ellipse" data-js-name></span>\n',n},this.JST["tpl-launch-crumb"]=function(e){var t,n="",r=_.escape;return n+='<span class="fail-load-container">\n    <i class="rp-icons rp-icons-warning"></i>\n    <span class="ellipse" >'+r(e.text.launches.errorItem)+'</span>\n    <i class="arrow material-icons">keyboard_arrow_right</i>\n</span>\n<span class="success-load-container">\n    <i title="List view" class="material-icons" data-js-list-view-icon>format_indent_increase</i>\n    <a class="ellipse link-crumb" data-js-link></a>\n    <span class="link-as-element ellipse" data-js-name></span>\n    <span class="autoanalyze" data-js-auto-analize>'+((t=e.text.ui.autoAnalyzeShort)==null?"":t)+'</span>\n    <i class="arrow arrow-next material-icons" data-js-arrow-next>keyboard_arrow_right</i>\n</span>\n',n},this.JST["tpl-launch-crumbs"]=function(e){var t,n="",r=_.escape;return n+='<ul class="rp-nav rp-nav-left launch-breadcrumbs" data-js-crumbs-container>\n    <i class="load-crumbs material-icons loader-animation">refresh</i>\n    <li class="breadcrumbs-mode-container" data-js-switch-mode>\n        <i class="rp-icons rp-icons-square-plus breadcrumb-plus"></i>\n        <i class="rp-icons rp-icons-square-minus breadcrumb-minus"></i>\n    </li>\n    <li class="bredcrambs-lost-path" data-js-lost-path>\n        <span>'+r(e.text.launches.bredcrumbsLostLaunch)+"</span>\n        <a data-js-restore-lost-path>"+r(e.text.launches.bredcrumbsLostLaunchRestore)+"</a>\n    </li>\n</ul>",n},this.JST["tpl-launch-edit-menu"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return e.isCustomer||(n+="\n    ",_.isUndefined(e.item.mode)||(n+="\n        <li>\n            <a data-js-switch-mode></a>\n        </li>\n    "),n+="\n"),n+="\n<li>\n    <a data-js-finish>"+((t=e.text.launches.forceFinish)==null?"":t)+"</a>\n</li>\n",e.isDebug||(n+='\n    <li data-js-can-analyze>\n        <a data-js-can-analyze data-js-start-analyze data-analyze-type="analyze">\n            '+((t=e.text.ui.analyze)==null?"":t)+"\n        </a>\n    </li>\n"),n+="\n<li>\n    <a data-js-remove>\n        "+((t=e.text.ui.delete)==null?"":t)+"\n    </a>\n</li>\n",e.exportFormats&&(n+='\n    <li role="separator" class="divider"></li>\n    <li class="rp-export-launch-group">\n        <span class="rp-export-label">'+((t=e.text.launches.export)==null?"":t)+':</span>\n        <div class="rp-export-btn-group">\n            ',_.each(e.exportFormats,function(r,i){n+='\n            <a href="'+((t=e.updateImagePath(e.getExportUrl(e.item.id,i)))==null?"":t)+'" download\n               data-js-export-format="'+((t=i)==null?"":t)+'" class="rp-btn rp-btn-default">'+((t=r.name)==null?"":t)+"</a>\n            "}),n+="\n        </div>\n    </li>\n"),n+="\n",n},this.JST["tpl-launch-filter-label"]=function(e){var t,n="",r=_.escape;return n+='<i class="material-icons" data-js-filter-shared>share</i>\n<i class="material-icons" data-js-filter-not-my>public</i>\n<span class="filter-name" data-js-filter-name></span>\n<span class="obligatory-field" data-js-filter-not-save></span>\n<i class="rp-icons rp-icons-buble comment-icon" data-js-filter-comment></i>\n<i class="material-icons close-filter" title="Filter close" data-js-filter-close>close</i>\n<div data-js-tooltip></div>\n',n},this.JST["tpl-launch-filter-panel"]=function(e){var t,n="",r=_.escape;return n+='<div class="filter-block">\n    <div class="filter-entities clearfix" data-js-filter-entities>\n\n    </div>\n    <div class="filter-settings clearfix">\n        <div class="right-items">\n            <a class="rp-btn rp-btn-default rp-button-with-icon" title="'+((t=e.text.ui.discard)==null?"":t)+'" data-js-discard-filter>\n                <i class="rp-icons rp-icons-discard"></i>\n                <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.ui.discard)==null?"":t)+'</span>\n            </a>\n            <a class="rp-btn rp-btn-default rp-button-with-icon" title="'+((t=e.text.ui.clone)==null?"":t)+'" data-js-clone-filter>\n                <i class="material-icons">library_add</i>\n                <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.ui.clone)==null?"":t)+'</span>\n            </a>\n            <a class="rp-btn rp-btn-default rp-button-with-icon" title="'+((t=e.text.ui.edit)==null?"":t)+'" data-js-edit-filter>\n                <i class="material-icons">edit</i>\n                <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.ui.edit)==null?"":t)+'</span>\n            </a>\n            <a class="rp-btn rp-btn-default rp-button-with-icon" title="'+((t=e.text.ui.save)==null?"":t)+'" data-js-save-filter>\n                <i class="material-icons">bookmark_border</i>\n                <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.ui.save)==null?"":t)+'</span>\n            </a>\n        </div>\n        <div class="right-items">\n            <div class="sorting-wrapper">\n                <span>'+r(e.text.ui.sortBy)+':</span>&nbsp;&nbsp;<span data-js-filter-sorting></span>\n            </div>\n        </div>\n        <div class="left-items">\n            <div class="description" data-js-filter-shared-descr><i class="material-icons" title="'+((t=e.text.filters.sharedDescription)==null?"":t)+'">share</i><span>'+((t=e.text.filters.sharedDescription)==null?"":t)+'</span></div>\n            <div class="description" data-js-filter-not-save-descr><span class="obligatory-field"></span><span>'+((t=e.text.filters.notSaveDescription)==null?"":t)+'</span></div>\n            <div class="description" data-js-filter-not-my-descr><i class="material-icons" title="'+((t=e.text.filters.globalDescription)==null?"":t)+'">public</i><span>'+((t=e.text.filters.globalDescription)==null?"":t)+"</span></div>\n        </div>\n    </div>\n</div>\n",n},this.JST["tpl-launch-header"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="launches-header-block clearfix">\n    <div class="filters-overflow-mobile">\n        <div class="rp-btn rp-btn-with-dropdown dropdown-toggle" data-toggle="dropdown">\n            <div class="select-value" data-js-active-filter></div>\n            <span class="rp-caret"></span>\n        </div>\n        <div class="dropdown-menu rp-width-100" data-js-filter-list-mobile></div>\n        <div class="launches-mode-dropdown" data-js-launches-mode-dropdown></div>\n        <div class="mobile-filter-add rp-btn rp-btn-default rp-button-with-icon" data-js-add-filter>\n            <i class="rp-icons rp-icons-add-filter"></i>\n        </div>\n    </div>\n    <div class="filter-overflow" data-js-filters-overflow>\n        <div class="launch-selector" data-js-launch-selector>\n            <div class="drop-down-button">\n                <a class="rp-btn" type="button"  data-js-select-value data-js-link-all></a>\n                <button class=" rp-btn rp-button-dropdown" data-toggle="dropdown" data-js-dropdown>\n                    <i class="material-icons">keyboard_arrow_down</i>\n                </button>\n                <ul class="dropdown-menu" data-js-dropdown-menu>\n                    ',_.forEach(e.links,function(e){n+='\n                    <li data-js-select-launch-option>\n                        <a data-value="'+((t=e.value)==null?"":t)+'">'+((t=e.name)==null?"":t)+"</a>\n                    </li>\n                    "}),n+='\n                </ul>\n            </div>\n        </div>\n        <div class="separator"></div>\n        <div class="new-filter-button rp-btn rp-btn-default rp-button-with-icon not-small" data-js-add-filter>\n            <i class="rp-icons rp-icons-add-filter"></i>\n            <span class="rp-btn-val">'+((t=e.text.favorites.addFilter)==null?"":t)+'</span>\n        </div>\n        <div class="filters-list" data-js-filter-list></div>\n    </div>\n    <div class="filter-panel-switcher" data-js-filter-entity-switcher>\n        <span class="open-panel">'+r(e.text.filters.showCriteria)+'<i class="material-icons">keyboard_arrow_down</i></span>\n        <span>'+r(e.text.filters.hideCriteria)+'<i class="material-icons">keyboard_arrow_up</i></span>\n    </div>\n    <div class="filter-panel-overflow" data-js-filter-panel></div>\n</div>\n',n},this.JST["tpl-launch-launch-control"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.context==="userdebug";return n+='\n<div class="control-buttons rp-nav rp-nav-right">\n    <a class="rp-btn mobile-hide rp-btn-default rp-button-with-icon" title="Import" data-js-import>\n        <i class="material-icons">file_upload</i>\n        <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.ui.import)==null?"":t)+'</span>\n    </a>\n    <a class="rp-btn mobile-hide rp-btn-default rp-button-with-icon" title="Add Widget" data-js-add-widget>\n        <i class="material-icons">add_circle</i>\n        <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.widgets.addNewWidget)==null?"":t)+'</span>\n    </a>\n    <div class="button-overflow">\n        <a class="rp-btn mobile-hide rp-btn-default rp-button-with-icon rp-button-dropdown disabled" data-js-multi-button aria-expanded="true" data-toggle="dropdown" title="'+((t=e.text.launches.actionTitle)==null?"":t)+'">\n            <i class="material-icons">menu</i>\n            <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.ui.actions)==null?"":t)+'</span>\n            <i class="material-icons">keyboard_arrow_down</i>\n        </a>\n        <ul class="dropdown-menu">\n            ',o||(n+='\n            <li>\n                <a data-js-multi-action="merge">'+((t=e.text.launches.merge)==null?"":t)+'</a>\n            </li>\n            <li>\n                <a data-js-multi-action="compare">'+((t=e.text.launches.Compare)==null?"":t)+"</a>\n            </li>\n            "),n+='\n            <li>\n                <a data-js-multi-action="changemode">'+((t=o?e.text.launches.shiftToLaunches:e.text.launches.shiftToDebug)==null?"":t)+'</a>\n            </li>\n            <li>\n                <a data-js-multi-action="forcefinish">'+((t=e.text.launches.forceFinish)==null?"":t)+'</a>\n            </li>\n            <li>\n                <a data-js-multi-action="remove">'+((t=e.text.ui.delete)==null?"":t)+'</a>\n            </li>\n        </ul>\n    </div>\n    <a class="rp-btn rp-btn-default rp-button-with-icon" data-js-refresh title="'+((t=e.text.ui.refresh)==null?"":t)+'">\n        <i class="material-icons">autorenew</i>\n        <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.ui.refresh)==null?"":t)+'</span>\n        <span data-js-refresh-counter class="counter"></span>\n    </a>\n</div>\n',e.context=="userdebug"&&(n+='\n<div class="refine-wrapper filter-entities clearfix">\n    <span class="refine-label hidden-xs">'+((t=e.text.filters.refine)==null?"":t)+"</span>\n    <div data-js-refine-entities></div>\n</div>\n"),n+="\n",n},this.JST["tpl-launch-launch-table"]=function(e){function s(){n+=i.call(arguments,"")}function o(e,t){return'<div class="table-wrapper"><div class="middle-wrapper"><span class="text-overflow" data-js-launch-table-title="'+e+'">'+'<div class="filter-icon-wrapper">'+'<i class="rp-icons rp-icons-filter"></i>'+"</div>&nbsp;"+'<span class="long-size">'+e+"</span>"+'<span class="short-size" title="'+e+'">'+t+"</span>&nbsp;"+'<div class="sort-icon-wrapper">'+'<i class="material-icons">keyboard_arrow_up</i>'+'<i class="material-icons">keyboard_arrow_down</i>'+"</div>"+"</span>"+"</div>"+"</div>"}var t,n="",r=_.escape,i=Array.prototype.join;return n+='\n\n\n\n<div class="rp-table-grid all-launches-grid launch-grid suit-grid rp-odd-even rp-table-hover" data-js-table-container>\n    <div class="row rp-grid-thead" data-js-fixed-header>\n        <div class="grid-cell name-grid-cell rp-grid-th" data-sorter="name,number" data-filter="name">\n            '+((t=o(e.text.launchesHeaders.name,e.text.launchesHeaders.name_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell time-grid-cell rp-grid-th" data-sorter="start_time,number" data-filter="start_time">\n            '+((t=o(e.text.launchesHeaders.start_time,e.text.launchesHeaders.start_time_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell number-grid-cell rp-grid-th" data-sorter="statistics$executions$total,number" data-filter="statistics$executions$total">\n            '+((t=o(e.text.launchesHeaders.total,e.text.launchesHeaders.total_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell number-grid-cell rp-grid-th" data-sorter="statistics$executions$passed,number" data-filter="statistics$executions$passed">\n            '+((t=o(e.text.launchesHeaders.passed,e.text.launchesHeaders.passed_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell number-grid-cell rp-grid-th" data-sorter="statistics$executions$failed,number" data-filter="statistics$executions$failed">\n            '+((t=o(e.text.launchesHeaders.failed,e.text.launchesHeaders.failed_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell number-grid-cell rp-grid-th" data-sorter="statistics$executions$skipped,number" data-filter="statistics$executions$skipped">\n            '+((t=o(e.text.launchesHeaders.skipped,e.text.launchesHeaders.skipped_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell counter-grid-cell rp-grid-th" data-sorter="statistics$defects$product_bug$total,number" data-filter="statistics$defects$product_bug$total">\n            '+((t=o(e.text.launchesHeaders.product_bug,e.text.launchesHeaders.product_bug_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell counter-grid-cell rp-grid-th" data-sorter="statistics$defects$automation_bug$total,number" data-filter="statistics$defects$automation_bug$total">\n            '+((t=o(e.text.launchesHeaders.automation_bug,e.text.launchesHeaders.automation_bug_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell counter-grid-cell rp-grid-th" data-sorter="statistics$defects$system_issue$total,number" data-filter="statistics$defects$system_issue$total">\n            '+((t=o(e.text.launchesHeaders.system_issue,e.text.launchesHeaders.system_issue_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell counter-grid-cell rp-grid-th" data-sorter="statistics$defects$to_investigate$total,number" data-filter="statistics$defects$to_investigate$total">\n            '+((t=o(e.text.launchesHeaders.to_investigate,e.text.launchesHeaders.to_investigate_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell select-grid-cell rp-grid-th">\n            <div class="table-wrapper">\n                <div class="middle-wrapper">\n                    <label class="rp-checkbox-wrap">\n                        <input class="rp-input-checkbox" type="checkbox" data-js-select-all>\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</div>\n',n},this.JST["tpl-launch-multiple-selected-item"]=function(e){var t,n="",r=_.escape;return n+='<span data-js-item-name></span>\n<i class="material-icons close-icon-item" data-ja-close-item>clear</i>',n},this.JST["tpl-launch-multiple-selected"]=function(e){var t,n="",r=_.escape;return n+="<h2>"+((t=e.text.launches.multipleSelectHeader)==null?"":t)+'</h2>\n<div class="items-container" data-js-multi-select-items></div>\n<p class="error-message" data-js-error-message>'+((t=e.text.launches.multiSelectError)==null?"":t)+'</p>\n<i class="material-icons close-icon" data-ja-close>clear</i>\n<div class="rp-btn rp-btn-default proceed-button" data-js-proceed title="'+((t=e.text.launches.proceedValidItems)==null?"":t)+'">\n    <span class="rp-btn-val">'+((t=e.text.launches.proceedValidItems)==null?"":t)+"</span>\n</div>",n},this.JST["tpl-launch-step-control"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.context==="userdebug";return n+='\n<div class="control-buttons rp-nav rp-nav-right">\n    <div class="button-overflow">\n        <div class="rp-btn mobile-hide rp-btn-default rp-button-with-icon rp-button-dropdown disabled" data-js-multi-button aria-expanded="true" data-toggle="dropdown" title="'+((t=e.text.launches.actionTitle)==null?"":t)+'">\n            <i class="material-icons">menu</i>\n            <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.ui.actions)==null?"":t)+'</span>\n            <i class="material-icons">keyboard_arrow_down</i>\n        </div>\n        <ul class="dropdown-menu">\n            <li>\n                <a data-js-multi-action="editdefect">'+((t=e.text.launches.editDefects)==null?"":t)+"</a>\n            </li>\n            ",o||(n+='\n                <li>\n                    <a data-js-multi-action="postbug">'+((t=e.text.launches.postBug)==null?"":t)+'</a>\n                </li>\n                <li>\n                    <a data-js-multi-action="loadbug">'+((t=e.text.launches.linkIssue)==null?"":t)+'</a>\n                </li>\n                <li>\n                    <a data-js-multi-action="unlinkIssue">'+((t=e.text.launches.unlinkIssue)==null?"":t)+'</a>\n                </li>\n                <li>\n                    <a data-js-multi-action="ignoreaa">'+((t=e.text.launches.ignoreAA)==null?"":t)+'</a>\n                </li>\n                <li>\n                    <a data-js-multi-action="includeaa">'+((t=e.text.launches.includeAA)==null?"":t)+"</a>\n                </li>\n            "),n+='\n            <li>\n                <a data-js-multi-action="remove">'+((t=e.text.ui.delete)==null?"":t)+"</a>\n            </li>\n        </ul>\n    </div>\n    ",o||(n+='\n        <div class="rp-btn rp-btn-default rp-button-with-icon hide" data-js-history title="'+((t=e.text.launches.historyView)==null?"":t)+'">\n            <i class="material-icons">history</i>\n            <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.launches.historyView)==null?"":t)+"</span>\n        </div>\n    "),n+='\n    <div class="rp-btn rp-btn-default rp-button-with-icon" data-js-refresh title="'+((t=e.text.ui.refresh)==null?"":t)+'">\n        <i class="material-icons">autorenew</i>\n        <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.ui.refresh)==null?"":t)+'</span>\n        <span data-js-refresh-counter class="counter"></span>\n    </div>\n</div>\n\n<div class="info-wrapper clearfix" data-js-info-line></div>\n\n<div class="refine-wrapper filter-entities clearfix">\n    <span class="refine-label hidden-xs">'+((t=e.text.filters.refine)==null?"":t)+"</span>\n    <div data-js-refine-entities></div>\n</div>\n",n},this.JST["tpl-launch-step-item"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="overflow-wrapper">\n    <div class="grid-cell time-grid-cell method-type-grid-cell">\n        <span class="text-muted" data-js-method-type></span>\n    </div>\n    <div class="grid-cell name-grid-cell">\n        <div class="name-grid-overflow">\n            <i class="accordion-arrow rp-icons rp-icons-expand" data-js-toggle-open></i>\n            <h5 class="rp-grid-name">\n                <a href="" data-js-name-link><span data-js-name></span><span data-js-launch-number></span></a>&nbsp;&nbsp;<i class="item-details-icon material-icons" data-js-item-details>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i>&nbsp;<i class="item-edit-icon material-icons" data-js-item-edit>edit</i>\n            </h5>\n            <ul class="rp-grid-tags">\n                <li class="rp-item-duration" >\n                    <span data-js-item-status></span>\n                    <span class="mobile-tag">&nbsp;&nbsp;|&nbsp;&nbsp;<span data-js-time-from-now></span></span>\n                    <span data-js-growth-duration class="growth-duration"></span>\n                </li>\n                <li title="'+((t=e.text.launches.owner)==null?"":t)+'" class="rp-launch-owner owner" data-js-owner-block>\n                    <i class="material-icons">person</i>\n                    <a data-js-owner-name></a>\n                </li>\n                <li class="rp-launch-tags" data-js-tags-container>\n                    <i class="rp-icons rp-icons-ticket"></i>\n                    <span data-js-tags></span>\n                </li>\n                <li class="mobile-tag">\n                    <span>@</span><span data-js-method-type></span>&nbsp;&nbsp;|&nbsp;&nbsp;<span data-js-status></span>\n                </li>\n                <li data-js-retries-container></li>\n            </ul>\n            <div class="rp-grid-description" data-js-description></div>\n        </div>\n    </div>\n    <div class="grid-cell status-grid-cell"><span class="step-status" data-js-status></span></div>\n    <div class="grid-cell time-grid-cell" data-js-start-time-container>\n    </div>\n    <!--<div class="grid-cell status-grid-cell" data-js-item-status></div>-->\n    ',e.noIssue||(n+='\n    <div class="grid-cell type-grid-cell" data-js-step-issue></div>\n    <div class="grid-cell select-grid-cell" data-js-select-cell>\n        <div class="table-wrapper">\n            <div class="middle-wrapper">\n                <label class="rp-checkbox-wrap" data-js-select-label>\n                    <input class="rp-input-checkbox" type="checkbox" data-js-select-item>\n                    <span></span>\n                </label>\n            </div>\n        </div>\n    </div>\n    '),n+='\n    <div class="retries-block-container" data-js-retries-block-container></div>\n    <div class="accordion-block">\n        <div class="mobile-open" data-js-toggle-open></div>\n        <i class="material-icons" data-js-toggle-open>keyboard_arrow_down</i>\n        <i class="material-icons little" data-js-toggle-open>keyboard_arrow_up</i>\n    </div>\n</div>\n',n},this.JST["tpl-launch-step-log-defect-type"]=function(e){var t,n="",r=_.escape;return n+='<div data-js-issue-type class="step-log-defect-type">\n    <div class="defect-type-badge-overflow" data-js-edit-defect>\n        <div class="aa-badge" title="'+r(e.text.launches.aaBadgeTooltip)+'" data-js-aa-badge>'+r(e.text.ui.autoAnalyzeShort)+'</div>\n        <div class="ignore-aa-badge" title="'+r(e.text.launches.ignoreAutoanalyzerTooltip)+'" data-js-ignore-aa-badge>'+r(e.text.launches.ignoreAAShort)+'</div>\n        <span class="defect-type-badge" data-js-issue-title>\n            <i data-js-issue-color></i>\n            <span data-js-issue-name></span>\n        </span>&nbsp;&nbsp;<i class="material-icons edit-defect" data-js-edit-defect-icon>edit</i>\n    </div>\n    <div data-js-issue-tickets class="tickets-container"></div>\n    <div class="defect-type-description" data-js-issue-comment></div>\n</div>\n',n},this.JST["tpl-launch-step-parent"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;n+='<div class="row rp-table-row rp-step-parents-line">\n    <div class="parents-line">\n        ';var o=e.startUrl;return n+="\n        ",_.each(e.parentPath,function(e,i){n+="\n            ",o+="/"+i,n+='\n            <a href="'+((t=o)==null?"":t)+'" class="parents-line-item">'+r(e)+"</a>\n        "}),n+="\n    </div>\n</div>\n",n},this.JST["tpl-launch-step-table"]=function(e){function s(){n+=i.call(arguments,"")}function o(e,t){return'<div class="table-wrapper"><div class="middle-wrapper"><span class="text-overflow"><div class="filter-icon-wrapper"><i class="rp-icons rp-icons-filter"></i></div>&nbsp;<span class="long-size">'+e+"</span>"+'<span class="short-size" title="'+e+'">'+t+"</span>&nbsp;"+'<div class="sort-icon-wrapper">'+'<i class="material-icons">keyboard_arrow_up</i>'+'<i class="material-icons">keyboard_arrow_down</i>'+"</div>"+"</span>"+"</div>"+"</div>"}var t,n="",r=_.escape,i=Array.prototype.join;return n+='\n\n\n\n<div class="rp-table-grid all-launches-grid step-grid rp-odd-even rp-table-hover" data-js-table-container>\n    <div class="row rp-grid-thead hidden-xs" data-js-fixed-header>\n        <div class="grid-cell time-grid-cell rp-grid-th add-collapse-methods-btn" data-sorter="type" data-filter="type">\n           <label class="rp-switcher" data-js-collapse-label title="Expand precondition methods">\n               <input type="checkbox" data-js-collapse-input>\n               <div class="slider"></div>\n           </label>\n           '+((t=o(e.text.launchesHeaders.type,e.text.launchesHeaders.type_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell name-grid-cell rp-grid-th" data-sorter="name" data-filter="name">\n            '+((t=o(e.text.launchesHeaders.name,e.text.launchesHeaders.name_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell status-grid-cell rp-grid-th" data-sorter="status" data-filter="status">\n            '+((t=o(e.text.launchesHeaders.status,e.text.launchesHeaders.status_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell time-grid-cell rp-grid-th" data-sorter="start_time" data-filter="start_time">\n            '+((t=o(e.text.launchesHeaders.start_time,e.text.launchesHeaders.start_time_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell type-grid-cell rp-grid-th" data-sorter="issue$issue_type" data-filter="issue$issue_type">\n            '+((t=o(e.text.launchesHeaders.issue,e.text.launchesHeaders.issue_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell select-grid-cell rp-grid-th">\n            <div class="table-wrapper">\n                <div class="middle-wrapper">\n                    <label class="rp-checkbox-wrap">\n                        <input class="rp-input-checkbox" type="checkbox" data-js-select-all>\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</div>\n\n\n\n',n},this.JST["tpl-launch-suite-control"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.context==="userdebug";return n+='\n<div class="control-buttons rp-nav rp-nav-right">\n    <div class="rp-btn mobile-hide rp-btn-default rp-button-with-icon disabled" data-js-milti-delete title="'+((t=e.text.launches.actionTitle)==null?"":t)+'">\n        <i class="rp-icons rp-icons-delete"></i>\n        <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.ui.delete)==null?"":t)+"</span>\n    </div>\n    ",o||(n+='\n        <div class="rp-btn rp-btn-default rp-button-with-icon hide" data-js-history title="'+((t=e.text.launches.historyView)==null?"":t)+'">\n            <i class="material-icons">history</i>\n            <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.launches.historyView)==null?"":t)+"</span>\n        </div>\n    "),n+='\n    <div class="rp-btn rp-btn-default rp-button-with-icon" data-js-refresh title="'+((t=e.text.ui.refresh)==null?"":t)+'">\n        <i class="material-icons">autorenew</i>\n        <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.ui.refresh)==null?"":t)+'</span>\n        <span data-js-refresh-counter class="counter"></span>\n    </div>\n</div>\n\n<div class="info-wrapper clearfix" data-js-info-line></div>\n\n<div class="refine-wrapper filter-entities clearfix">\n    <span class="refine-label hidden-xs">'+((t=e.text.filters.refine)==null?"":t)+"</span>\n    <div data-js-refine-entities></div>\n</div>\n",n},this.JST["tpl-launch-suite-defects-hover"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="launch-suite-defect-hover">\n    <div class="defect-title">\n        <',e.noLink?n+="span":n+='a href="'+r(e.total.url)+'"',n+=' class="defect-row" data-js-defect-total>\n           <span class="defect-name">\n             <span class="defect-color" style="background: '+r(e.total.color)+'"></span>\n                '+((t=!e.noSubDefects?e.text.infoLine.total:"")==null?"":t)+" "+r(e.total.name)+'\n            </span>\n            <span class="defect-value">'+((t=e.total.value)==null?"":t)+"</span>\n        </",e.noLink?n+="span":n+="a",n+=">\n    </div>\n    ",e.subDefects.length&&!e.noSubDefects&&(n+="\n    <ul>\n        ",_.each(e.subDefects,function(i){n+="\n        <li>\n            <",e.noLink?n+="span":n+='a href="'+r(i.url)+'"',n+=' class="defect-row">\n                <span class="defect-name">\n                    <span class="defect-color" style="background: '+r(i.color)+'"></span>\n                    '+r(i.name)+'\n                </span>\n                <span class="defect-value">'+((t=i.value)==null?"":t)+"</span>\n            </",e.noLink?n+="span":n+="a",n+=">\n        </li>\n        "}),n+="\n    </ul>\n    "),n+="\n</div>\n",n},this.JST["tpl-launch-suite-defects"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="launch-suite-defects" data-js-hover-defect>\n    ',e.clickable?n+='\n    <a class="chart-overflow" data-js-link>\n    ':n+='\n    <div class="chart-overflow">\n    ',n+='\n        <div data-js-chart class="chart-container"></div>\n        <div class="total-overflow">\n            <span data-js-defects-total></span>\n        </div>\n    ',e.clickable?n+="\n    </a>\n    ":n+="\n    </div>\n    ",n+='\n    <div class="defect-hover" data-js-hover-view-container></div>\n</div>\n',n},this.JST["tpl-launch-suite-info-panel"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<ul class="info_section clearfix">\n    <li class="progress-block">\n        <div class="progress" data-js-executions>\n            <div data-js-passed-progress class="progress-bar"></div>\n            <div data-js-failed-progress class="progress-bar"></div>\n            <div data-js-skipped-progress class="progress-bar"></div>\n        </div>\n        <div class="hover-area" data-js-hover-element></div>\n    </li>\n    <li class="passed-block">\n        <span class="info-section-passed">'+((t=e.text.launchesHeaders.passed)==null?"":t)+' <span data-js-statistics-passed></span>%</span>\n    </li>\n    <li class="total-block">\n        <span class="info-section-total">'+((t=e.text.launchesHeaders.total)==null?"":t)+' <span data-js-statistics-total></span></span>\n    </li>\n    <li>\n        <span class="duration" data-js-duration>\n            '+((t=e.text.launches.prefixDuration)==null?"":t)+'\n            <span data-js-item-duration></span>\n        </span>\n        <div class="hover-area" data-js-hover-element></div>\n    </li>\n    <li class="br-block"></li>\n    ',_.each(e.defectTypes,function(e,r){n+='\n    <li class="defect-block">\n        <span class="info-section-issue" data-js-defect-type="'+((t=e.type)==null?"":t)+'">\n            <span class="issue-type"><i  style="background: '+((t=e.color)==null?"":t)+'"></i><span>'+((t=e.shortName)==null?"":t)+'</span></span>\n            <span class="issues" data-js-defect-'+((t=e.type)==null?"":t)+'-total style="border-color: '+((t=e.color)==null?"":t)+'"></span>\n            <div class="defect-hover" data-js-hover-element></div>\n        </span>\n    </li>\n    '}),n+="\n</ul>",n},this.JST["tpl-launch-suite-item-duration"]=function(e){var t,n="",r=_.escape;return n+='<span class="duration-content" data-js-status-title>\n    <i data-js-status-icon></i>\n    <span class="duration-time" data-js-duration-time></span>\n</span>',n},this.JST["tpl-launch-suite-item-start-time"]=function(e){var t,n="",r=_.escape;return n+='<span class="from-now" data-js-time-from-now></span>\n<span class="exact-time" data-js-time-exact></span>\n',n},this.JST["tpl-launch-suite-item"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="overflow-wrapper">\n    <div class="grid-cell name-grid-cell name-cell '+((t=e.type=="LAUNCH"?"launch-name-cell":"")==null?"":t)+'">\n        <div class="name-grid-overflow">\n            <i class="accordion-arrow rp-icons rp-icons-expand" data-js-toggle-open></i>\n            <h5 class="rp-grid-name">\n                <a href="" data-js-name-link><span data-js-name></span><span data-js-launch-number></span></a><span class="autoanalyze" data-js-analize-label>'+((t=e.text.ui.analyze)==null?"":t)+'</span>&nbsp;&nbsp;<i class="item-edit-icon material-icons" data-js-item-edit>edit</i>\n            </h5>\n            <ul class="rp-grid-tags">\n                <li class="rp-item-duration" >\n                    <span data-js-item-status></span>\n                    <span class="mobile-tag">| <span data-js-time-from-now></span></span>\n                </li>\n                <li class="rp-item-is-retries" data-js-is-retries>\n                    <div class="retry-icon"></div>\n                </li>\n                <li title="'+((t=e.text.launches.owner)==null?"":t)+'" class="rp-launch-owner owner" data-js-owner-block>\n                    <i class="material-icons">person</i>\n                    <a data-js-owner-name></a>\n                </li>\n                <li class="rp-launch-tags" data-js-tags-container>\n                    <i class="rp-icons rp-icons-ticket"></i>\n                    <span data-js-tags></span>\n                </li>\n                <li data-js-retries-container></li>\n            </ul>\n            <div class="rp-grid-description" data-js-description></div>\n        </div>\n    </div>\n    <div class="grid-cell time-grid-cell" data-js-start-time-container>\n    </div>\n    <div class="retries-block-container" data-js-retries-block-container></div>\n    <div class="accordion-block">\n        <div class="mobile-open" data-js-toggle-open></div>\n        <i class="material-icons" data-js-toggle-open>keyboard_arrow_down</i>\n        <i class="material-icons little" data-js-toggle-open>keyboard_arrow_up</i>\n    </div>\n</div>\n<div class="statistics-block">\n    <div class="grid-cell name-grid-cell"></div>\n    <div class="grid-cell time-grid-cell"></div>\n    <div class="grid-cell number-grid-cell total-number"><p class="mobile-title">'+r(e.text.launchesHeaders.total)+'</p><a data-js-statistics-total></a></div>\n    <div class="grid-cell number-grid-cell"><p class="mobile-title">'+r(e.text.launchesHeaders.passed)+'</p><a data-js-statistics-passed></a></div>\n    <div class="grid-cell number-grid-cell"><p class="mobile-title">'+r(e.text.launchesHeaders.failed)+'</p><a data-js-statistics-failed></a></div>\n    <div class="grid-cell number-grid-cell last-child"><p class="mobile-title">'+r(e.text.launchesHeaders.skipped)+'</p><a data-js-statistics-skipped></a></div>\n    <div class="grid-cell counter-grid-cell"><p class="mobile-title"><i data-js-label-pb></i>'+r(e.text.launchesHeaders.product_bug_super_short)+'</p><div data-js-statistics-product-bug></div></div>\n    <div class="grid-cell counter-grid-cell"><p class="mobile-title"><i data-js-label-ab></i>'+r(e.text.launchesHeaders.automation_bug_super_short)+'</p><div data-js-statistics-automation-bug></div></div>\n    <div class="grid-cell counter-grid-cell"><p class="mobile-title"><i data-js-label-si></i>'+r(e.text.launchesHeaders.system_issue_super_short)+'</p><div data-js-statistics-system-issue></div></div>\n    <div class="grid-cell counter-grid-cell last-child"><p class="mobile-title"><i data-js-label-ti></i>'+r(e.text.launchesHeaders.to_investigate_super_short)+'</p><a class="defect-to-investigate" data-js-statistics-to-investigate></a></div>\n    <div class="grid-cell select-grid-cell">\n        <div class="table-wrapper">\n            <div class="middle-wrapper">\n                <label class="rp-checkbox-wrap" data-js-select-label>\n                    <input class="rp-input-checkbox" type="checkbox" data-js-select-item>\n                    <span></span>\n                </label>\n            </div>\n        </div>\n    </div>\n</div>\n',e.type=="LAUNCH"&&(n+='\n<div class="btn-group" data-js-launch-edit>\n    <a class="item-menu" data-js-launch-menu data-toggle="dropdown" href="#">\n        <i class="rp-svg-icon svg-icon-menu-size-14"></i>\n    </a>\n</div>\n'),n+="\n",n},this.JST["tpl-launch-suite-step-items"]=function(e){var t,n="",r=_.escape;return n+='<div class="preloader" data-js-preloader>\n    <i class="material-icons loader-animation">refresh</i>\n</div>\n<div class="no-result-found">\n    <i class="rp-icons rp-icons-warning"></i>\n    <span>'+((t=e.text.ui.noResultsFound)==null?"":t)+'</span>\n</div>\n<div class="generate-data">\n    <p class="no-data-label">'+((t=e.text.ui.noData)==null?"":t)+'</p>\n    <p class="action-point">\n        '+((t=e.text.ui.toGetStarted)==null?"":t)+'\n        <a data-js-own-integration class="rp-link" href="http://reportportal.io/download/integration" target="_blank">'+((t=e.text.ui.setUpIntegration)==null?"":t)+"</a>\n        "+((t=e.text.ui.generateTestResults)==null?"":t)+'\n    </p>\n    <button type="button" class="rp-btn rp-btn-submit" data-js-demo-data-submit>\n        '+((t=e.text.project.generateDemoData)==null?"":t)+"\n    </button>\n</div>\n<div data-js-launches-container></div>\n<div data-js-paginate-container></div>\n",n},this.JST["tpl-launch-suite-table"]=function(e){function s(){n+=i.call(arguments,"")}function o(e,t){return'<div class="table-wrapper"><div class="middle-wrapper"><span class="text-overflow"><div class="filter-icon-wrapper"><i class="rp-icons rp-icons-filter"></i></div>&nbsp;<span class="long-size">'+e+"</span>"+'<span class="short-size" title="'+e+'">'+t+"</span>&nbsp;"+'<div class="sort-icon-wrapper">'+'<i class="material-icons">keyboard_arrow_up</i>'+'<i class="material-icons">keyboard_arrow_down</i>'+"</div>"+"</span>"+"</div>"+"</div>"}var t,n="",r=_.escape,i=Array.prototype.join;return n+='\n\n\n\n<div class="rp-table-grid suit-grid all-launches-grid rp-odd-even rp-table-hover" data-js-table-container>\n    <div class="row rp-grid-thead" data-js-fixed-header>\n        <div class="grid-cell name-grid-cell rp-grid-th" data-sorter="name" data-filter="name">\n            '+((t=o(e.text.launchesHeaders.name,e.text.launchesHeaders.name_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell time-grid-cell rp-grid-th" data-sorter="start_time" data-filter="start_time">\n            '+((t=o(e.text.launchesHeaders.start_time,e.text.launchesHeaders.start_time_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell number-grid-cell rp-grid-th" data-sorter="statistics$executions$total" data-filter="statistics$executions$total">\n            '+((t=o(e.text.launchesHeaders.total,e.text.launchesHeaders.total_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell number-grid-cell rp-grid-th" data-sorter="statistics$executions$passed" data-filter="statistics$executions$passed">\n            '+((t=o(e.text.launchesHeaders.passed,e.text.launchesHeaders.passed_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell number-grid-cell rp-grid-th" data-sorter="statistics$executions$failed" data-filter="statistics$executions$failed">\n            '+((t=o(e.text.launchesHeaders.failed,e.text.launchesHeaders.failed_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell number-grid-cell rp-grid-th" data-sorter="statistics$executions$skipped" data-filter="statistics$executions$skipped">\n            '+((t=o(e.text.launchesHeaders.skipped,e.text.launchesHeaders.skipped_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell counter-grid-cell rp-grid-th" data-sorter="statistics$defects$product_bug$total" data-filter="statistics$defects$product_bug$total">\n            '+((t=o(e.text.launchesHeaders.product_bug,e.text.launchesHeaders.product_bug_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell counter-grid-cell rp-grid-th" data-sorter="statistics$defects$automation_bug$total" data-filter="statistics$defects$automation_bug$total">\n            '+((t=o(e.text.launchesHeaders.automation_bug,e.text.launchesHeaders.automation_bug_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell counter-grid-cell rp-grid-th" data-sorter="statistics$defects$system_issue$total" data-filter="statistics$defects$system_issue$total">\n            '+((t=o(e.text.launchesHeaders.system_issue,e.text.launchesHeaders.system_issue_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell counter-grid-cell rp-grid-th" data-sorter="statistics$defects$to_investigate$total" data-filter="statistics$defects$to_investigate$total">\n            '+((t=o(e.text.launchesHeaders.to_investigate,e.text.launchesHeaders.to_investigate_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell select-grid-cell rp-grid-th">\n            <div class="table-wrapper">\n                <div class="middle-wrapper">\n                    <label class="rp-checkbox-wrap">\n                        <input class="rp-input-checkbox" type="checkbox" data-js-select-all>\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</div>\n',n},this.JST["tpl-launch-history-body"]=function(e){var t,n="",r=_.escape;return n+='<div class="rp-history-filters">\n    <div class="required filter-wrapper" data-js-depth-filter></div>\n</div>\n<div data-js-history-table></div>\n<div data-js-history-loader class="preloader">\n    <i class="material-icons loader-animation">autorenew</i>\n</div>\n<div class="pr-history-load-more">\n    <a href="#" class="btn btn-block rb-btn-settings" data-js-load-more>\n        <h3>'+((t=e.text.launches.clickToLoadMore)==null?"":t)+"</h3>\n    </a>\n</div>\n",n},this.JST["tpl-launch-history-control"]=function(e){var t,n="",r=_.escape;return n+='<div class="rp-nav rp-nav-right">\n    <div class="rp-btn rp-btn-default rp-button-with-icon" data-js-refresh title="'+((t=e.text.ui.refresh)==null?"":t)+'">\n        <i class="material-icons">autorenew</i>\n        <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.ui.refresh)==null?"":t)+'</span>\n    </div>\n</div>\n\n<div class="info-wrapper clearfix" data-js-info-line></div>',n},this.JST["tpl-launch-history-item-cell"]=function(e){var t,n="",r=_.escape;return n+='<a class="'+((t=e.class)==null?"":t)+'" href="'+((t=e.link||"javascript:void(0);")==null?"":t)+'">\n    <div class="history-col-content history-warning-col" data-tooltip-type="warning"\n         data-tooltip-content="'+((t=e.text.launches.severalItems)==null?"":t)+'">\n        <i class="material-icons">visibility_off</i>\n    </div>\n    <div class="history-col-content history-empty-col">\n        <i class="material-icons">not_interested</i><br>\n        '+((t=e.text.launches.noItemInLaunch)==null?"":t)+'\n    </div>\n    <div class="history-col-content empty-item-col">\n        <i class="rp-icons rp-icons-warning2"></i><br>\n        '+((t=e.text.launches.emptyItem)==null?"":t)+'\n    </div>\n    <div class="history-col-content history-statistics" data-js-history-statistics></div>\n    <div class="history-col-content history-statistics" data-js-history-issue></div>\n</a>\n',n},this.JST["tpl-launch-history-item-issue"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="history-defect-badge no-stats '+((t=e.stats.cls)==null?"":t)+'" style="background: '+r(e.stats.issueType.color)+'" data-tooltip-type="issue" data-tooltip-content="'+r(e.stats.issueType.longName)+'">\n    <span>'+r(e.stats.issueType.shortName)+"</span>\n</div>\n",e.stats.comment&&(n+='\n<div class="history-comment" data-tooltip-type="comment" data-tooltip-content="'+r(e.stats.comment)+'">\n    <span>\n        <i class="material-icons">chat</i>\n    </span>\n</div>\n'),n+="\n",e.stats.tickets&&(n+='\n<div class="history-tickets" data-tooltip-type="tickets" data-tooltip-content="'+((t=e.stats.tickets)==null?"":t)+'">\n    <span>\n        <i class="rp-icons rp-icons-ticket icon-ticket"></i>\n    </span>\n</div>\n'),n+="\n",n},this.JST["tpl-launch-history-item-stats"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return _.each(e.stats,function(e,i){n+='\n<div class="history-defect-badge launch-suite-defects '+((t=e.cls)==null?"":t)+'" data-tooltip-type="'+((t=i)==null?"":t)+'" style="background: '+r(e.color)+'">\n    <span>'+r(e.shortName)+"</span>\n</div>\n"}),n+="\n",n},this.JST["tpl-launch-history-item"]=function(e){var t,n="",r=_.escape;return n+='<div class="history-col" data-js-name-block>\n    <h5 class="rp-grid-name">\n        <a href="" data-js-name></a>\n    </h5>\n</div>\n',n},this.JST["tpl-launch-history-table"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="rp-history-grid">\n    <div class="history-grid-names" style="width: '+((t=e.nameWidth)==null?"":t)+'%">\n        <div class="history-grid-table" data-js-history-names>\n            <div class="history-grid-thead">\n                <div class="history-col">\n                    <div class="history-grid-th">\n                        <span class="history-grid-th-name">'+((t=e.text.launchesHeaders.name)==null?"":t)+'</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="history-grid-items" style="width: '+((t=100-e.nameWidth)==null?"":t)+'%">\n        <div class="history-grid-table" data-js-history-items-cells>\n            <div class="history-grid-thead">\n                ',_.forEach(e.launches,function(r){n+='\n                <div class="history-col ',r.launchStatus=="IN_PROGRESS"&&(n+="in-progress"),n+='">\n                    <div class="history-grid-th">\n                                <span class="history-grid-th-name">\n                                    '+((t=e.text.launches.launchHash)==null?"":t)+""+((t=r.launchNumber)==null?"":t)+"\n                                </span>\n                    </div>\n                </div>\n                "}),n+="\n            </div>\n        </div>\n        <div data-js-history-scroll>\n\n        </div>\n    </div>\n</div>\n",n},this.JST["tpl-launch-log-body"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.context==="userdebug";return n+='\n<div class="launch-log-body" data-js-log-item-container>\n    <div class="preloader launch-log-preloader">\n        <i class="material-icons loader-animation">refresh</i>\n    </div>\n    <div class="no-result-found launch-log-not-found">\n        <i class="rp-icons rp-icons-warning"></i>\n        <span>'+((t=e.text.launches.noItemFound)==null?"":t)+"</span>\n        <p>"+r(e.text.failMessages.gridData)+'</p>\n    </div>\n    <div class="item-info-block" data-js-item-info></div>\n    <div data-js-item-logs></div>\n    ',o||(n+='\n        <div class="history-line-block" data-js-history-line></div>\n    '),n+="\n</div>\n",n},this.JST["tpl-launch-log-control"]=function(e){var t,n="",r=_.escape;return n+='<div class="control-buttons rp-nav rp-nav-right">\n\n    <div class="rp-nav arrow-buttons" data-js-arrow-buttons>\n        <a class="rp-btn rp-btn-default rp-button-with-icon" data-js-button-prev>\n            <i class="material-icons">keyboard_arrow_left</i>\n        </a>\n        <a class="rp-btn rp-btn-default rp-button-with-icon" data-js-button-next>\n            <i class="material-icons">keyboard_arrow_right</i>\n        </a>\n    </div>\n    <div class="preloader-wrapper" data-js-preloader>\n        <div class="custom-preloader">\n            <div class="custom-preloader-1"></div>\n            <div class="custom-preloader-2"></div>\n            <div class="custom-preloader-3"></div>\n        </div>\n    </div>\n    <div class="rp-nav">\n        <div class="rp-btn rp-btn-default rp-button-with-icon" title="'+((t=e.text.ui.refresh)==null?"":t)+'" data-js-button-refresh>\n            <i class="material-icons">autorenew</i>\n            <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.ui.refresh)==null?"":t)+'</span>\n            <span id="changeCounter" class="bounce"></span>\n        </div>\n    </div>\n</div>\n',n},this.JST["tpl-launch-log-history-line-item"]=function(e){var t,n="",r=_.escape;return n+='<p class="title-launch">\n    <a data-js-launch-link>\n        <span>LAUNCH</span> #<span data-js-launch-number></span>\n    </a>\n</p>\n<div class="history-item-container" data-js-tooltip-item >\n    <div class="active_bg"></div>\n    <i class="material-icons many-items" data-js-many-items>visibility_off</i>\n    <i class="material-icons not-found-items" data-js-not-found>not_interested</i>\n    <i class="rp-icons rp-icons-warning2"></i>\n    <span class="main-info">\n        <span class="issue-type hide" data-js-issue-type></span>\n    <span class="growth-duration" data-js-growth-block >\n        <i class="material-icons time-icon">query_builder</i>\n        <span data-js-growth-duration></span>\n    </span>\n    </span>\n    <i class="material-icons item-info hide" data-js-info></i>\n</div>\n<div class="arrow-bottom"></div>\n',n},this.JST["tpl-launch-log-history-line"]=function(e){var t,n="",r=_.escape;return n+='<div class="launch-log-history-line" data-js-history-container>\n</div>',n},this.JST["tpl-launch-log-item-info-activity-item"]=function(e){var t,n="",r=_.escape;return n+='<div class="grid-cell name-cell separate-right" data-js-name-cell>\n    <i class="material-icons">person</i>\n    <span data-js-user-name></span>\n</div>\n<div class="grid-cell action-cell separate-right" data-js-action-cell>\n    <span data-js-action-name></span>\n</div>\n<div class="grid-cell time-cell separate-right">\n    <span class="moment-time" data-js-moment-time></span>\n    <span class="full-time" data-js-full-time></span>\n</div>\n<div class="grid-cell mobile-action-cell">\n    <span data-js-action-name></span>\n</div>\n<div class="grid-cell difference-cell" data-js-difference></div>\n',n},this.JST["tpl-launch-log-item-info-activity"]=function(e){var t,n="",r=_.escape;return n+='<div class="launch-log-info-activity" data-js-activity-wrapper>\n    <div class="preloader activity-preloader">\n        <i class="material-icons loader-animation">refresh</i>\n    </div>\n    <div data-js-activity-container></div>\n    <div class="no-result-found">\n        <i class="rp-icons rp-icons-warning"></i>\n        <span>'+((t=e.text.logs.notFoundActivity)==null?"":t)+'</span>\n    </div>\n    <!--<i class="material-icons close-icon" data-js-close>clear</i>-->\n</div>',n},this.JST["tpl-launch-log-item-info-attachments-items"]=function(e){var t,n="",r=_.escape;return n+='<div class="attachment-list" data-js-items-list></div>\n<div class="preloader" data-js-preloader-log-item-attachments>\n    <i class="material-icons loader-animation">refresh</i>\n</div>',n},this.JST["tpl-launch-log-item-info-attachments-main-item"]=function(e){var t,n="",r=_.escape;return n+='<div class="item-content">\n    <div class="main-image" data-js-main-image></div>\n</div>\n<div class="preloader" data-js-preloader-log-item-attachments>\n    <i class="material-icons loader-animation">refresh</i>\n</div>\n',n},this.JST["tpl-launch-log-item-info-attachments"]=function(e){var t,n="",r=_.escape;return n+='<div class="launch-log-info-attachments" data-js-attachments-container>\n    <div class="preloader">\n        <i class="material-icons loader-animation">refresh</i>\n    </div>\n    <div class="no-result-found">\n        <i class="rp-icons rp-icons-warning"></i>\n        <span>'+((t=e.text.logs.notFoundAttachments)==null?"":t)+'</span>\n    </div>\n    <div class="gallery-container">\n        <div class="gallery-main" data-js-main-gallery></div>\n        <div class="gallery-main-head" data-js-gallery-main-head>\n            <span data-js-main-gallery-current></span>\n            <span>'+((t=e.text.ui.smof)==null?"":t)+'</span>\n            <span data-js-main-gallery-size></span>\n            <i class="material-icons" data-js-destroy-main-gallery>clear</i>\n        </div>\n        <div class="gallery-preview" data-js-min-gallery></div>\n    </div>\n    <!--<i class="material-icons close-icon" data-js-close>clear</i>-->\n</div>',n},this.JST["tpl-launch-log-item-info-details"]=function(e){var t,n="",r=_.escape;return n+='<div class="rp-table-grid step-grid launch-log-info-details">\n    <div class="launch-suite-step-items" data-js-item-detail-container></div>\n</div>\n<!--<i class="material-icons close-icon" data-ja-close>clear</i>-->',n},this.JST["tpl-launch-log-item-info-latest-action"]=function(e){var t,n="",r=_.escape;return n+='<p class="user-name" data-js-name></p>\n<p class="action-type" data-js-action></p>\n',n},this.JST["tpl-launch-log-item-info-parametres"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="no-result-found" data-js-no-parametres>\n    <i class="rp-icons rp-icons-warning"></i>\n    <span>'+((t=e.text.logs.notFoundParametres)==null?"":t)+'</span>\n</div>\n<div class="parametres-container" data-js-item-parametres-container>\n    <table>\n        <tr>\n            <th>'+((t=e.text.dialog.key)==null?"":t)+"</th>\n            ",_.each(e.params,function(e){n+="\n            <td>"+((t=e.key)==null?"":t)+"</td>\n            "}),n+="\n        </tr>\n        <tr>\n            <th>"+((t=e.text.dialog.value)==null?"":t)+"</th>\n            ",_.each(e.params,function(e){n+="\n            <td><p>"+((t=e.value)==null?"":t)+"</p></td>\n            "}),n+="\n        </tr>\n    </table>\n</div>\n\n\n",n},this.JST["tpl-launch-log-item-info-retry-item"]=function(e){var t,n="",r=_.escape;return n+='<span class="status" data-js-status></span>\n<span>#</span>\n<span data-js-number></span>\n',n},this.JST["tpl-launch-log-item-info-stack-trace"]=function(e){var t,n="",r=_.escape;return n+='<div class="launch-log-info-stack-trace" data-js-stack-trace-wrapper>\n    <div class="preloader activity-preloader">\n        <i class="material-icons loader-animation">refresh</i>\n    </div>\n    <div data-js-stack-trace-container></div>\n    <span class="go-to-log" data-js-go-to-log>\n        '+((t=e.text.logs.goToLog)==null?"":t)+'\n        <i class="material-icons">keyboard_arrow_right</i>\n        <i class="material-icons loader-action loader-animation">refresh</i>\n    </span>\n    <div class="no-result-found">\n        <i class="rp-icons rp-icons-warning"></i>\n        <span>'+((t=e.text.logs.notFoundStackTrace)==null?"":t)+'</span>\n    </div>\n    <!--<i class="material-icons close-icon" data-js-close>clear</i>-->\n</div>\n',n},this.JST["tpl-launch-log-item-info-tabs"]=function(e){var t,n="",r=_.escape;return n+='<ul class="tabs">\n    <li data-js-item-stack-trace-label class="desktop-tab"><i class="material-icons">assignment</i><span>'+((t=e.text.launchLogItem.stackTrace)==null?"":t)+'</span>\n    </li>\n    <li data-js-item-gallery-label class="desktop-tab"><i class="material-icons">attach_file</i><span>'+((t=e.text.launchLogItem.attachments)==null?"":t)+'</span>\n    </li>\n    <li data-js-item-details-label class="desktop-tab"><i class="material-icons">info_outline</i><span>'+((t=e.text.launchLogItem.itemDetails)==null?"":t)+'</span>\n    </li>\n    <li data-js-item-parametres-label class="desktop-tab"><i class="material-icons item-parametres"></i><span>'+((t=e.text.launchLogItem.parametres)==null?"":t)+'</span>\n    </li>\n    <li data-js-item-activity-label class="desktop-tab"><i class="material-icons">access_time</i><span>'+((t=e.text.launchLogItem.historyOfActions)==null?"":t)+'</span>\n    </li>\n    <li data-js-latest-container class="desktop-tab latest-action"></li>\n</ul>\n<div data-js-item-stack-trace-label class="mobile-tab">\n    <i class="material-icons">assignment</i>\n    <span>'+((t=e.text.launchLogItem.stackTrace)==null?"":t)+'</span>\n    <i class="arrow-up material-icons">keyboard_arrow_up</i>\n    <i class="arrow-down material-icons">keyboard_arrow_down</i>\n</div>\n<div class="tabs-item stack-trace" data-js-item-stack-trace></div>\n<div data-js-item-gallery-label class="mobile-tab">\n    <i class="material-icons">attach_file</i>\n    <span>'+((t=e.text.launchLogItem.attachments)==null?"":t)+'</span>\n    <i class="arrow-up material-icons">keyboard_arrow_up</i>\n    <i class="arrow-down material-icons">keyboard_arrow_down</i>\n</div>\n<div class="tabs-item" data-js-item-gallery></div>\n<div data-js-item-details-label class="mobile-tab">\n    <i class="material-icons">info_outline</i>\n    <span>'+((t=e.text.launchLogItem.itemDetails)==null?"":t)+'</span>\n    <i class="arrow-up material-icons">keyboard_arrow_up</i>\n    <i class="arrow-down material-icons">keyboard_arrow_down</i>\n</div>\n<div class="tabs-item" data-js-item-details></div>\n<div data-js-item-parametres-label class="mobile-tab">\n    <i class="material-icons item-parametres"></i>\n    <span>'+((t=e.text.launchLogItem.parametres)==null?"":t)+'</span>\n    <i class="arrow-up material-icons">keyboard_arrow_up</i>\n    <i class="arrow-down material-icons">keyboard_arrow_down</i>\n</div>\n<div class="tabs-item parametres" data-js-item-parametres></div>\n<div data-js-item-activity-label class="mobile-tab">\n    <i class="material-icons">access_time</i>\n    <span>'+((t=e.text.launchLogItem.historyOfActions)==null?"":t)+'</span>\n    <i class="arrow-up material-icons">keyboard_arrow_up</i>\n    <i class="arrow-down material-icons">keyboard_arrow_down</i>\n</div>\n<div class="tabs-item" data-js-item-activity></div>\n',n},this.JST["tpl-launch-log-item-info"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.context==="userdebug";return n+='\n<div class="launch-log-item-info">\n    <div class="item-info">\n        <div data-js-item-info-issue class="launch-log-item-issue row">\n            <div class="item-issue-container" data-js-step-issue></div>\n            <div class="hide retries-container" data-js-retries-container>\n                <span class="retries-label">'+((t=e.text.launches.retries)==null?"":t)+":</span>\n            </div>\n            ",o||(n+='\n                <div class="button-container">\n                    <div class="rp-btn rp-btn-default rp-button-with-icon send-issue-data" title="'+((t=e.text.launches.sendIssue)==null?"":t)+'" data-js-send-issue>\n                        <i class="material-icons">call_made</i>\n                        <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.sendDefectBtnText)==null?"":t)+'</span>\n                    </div>\n                    <div class="rp-btn rp-btn-default rp-button-with-icon receive-issue-data" title="'+((t=e.text.launches.receiveIssue)==null?"":t)+'" data-js-receive-issue>\n                        <i class="material-icons">call_received</i>\n                        <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.copyDefectBtnText)==null?"":t)+'</span>\n                    </div>\n                    <div class="rp-btn rp-btn-default rp-button-with-icon" title=" '+((t=e.text.launches.postBug)==null?"":t)+'" data-js-post-bug>\n                        <i class="material-icons">bug_report</i>\n                        <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.launches.postBug)==null?"":t)+'</span>\n                    </div>\n\n                    <div class="rp-btn rp-btn-default rp-button-with-icon" title="'+((t=e.text.launches.linkIssue)==null?"":t)+'" data-js-load-bug>\n                        <i class="material-icons">link</i>\n                        <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.launches.linkIssue)==null?"":t)+"</span>\n                    </div>\n                </div>\n            "),n+="\n        </div>\n    </div>\n    <div data-js-tabs-container></div>\n</div>\n",n},this.JST["tpl-launch-log-item-logs-item-console"]=function(e){var t,n="",r=_.escape;return n+='<div class="grid-cell attachment-grid-cell">\n    <a download="" data-js-link>\n        <i class="material-icons">attach_file</i>\n    </a>\n</div>\n<div class="grid-cell message-grid-cell">\n    <span class="grid-cell time-grid-cell" data-js-time></span>\n    <div data-js-message></div>\n</div>\n<div class="mobile-block">\n    <span data-js-time></span>\n    <a data-js-link>\n        <img src="" alt="preview" data-js-image>\n    </a>\n</div>\n',n},this.JST["tpl-launch-log-item-logs-item-default"]=function(e){var t,n="",r=_.escape;return n+='<div class="grid-cell message-grid-cell">\n    <div data-js-message></div>\n    <i class="rp-icons rp-icons-expand" data-js-toggle-open></i>\n</div>\n<div class="grid-cell attachment-grid-cell">\n    <a download="" data-js-link>\n        <img src="" alt="preview" data-js-image>\n    </a>\n</div>\n<div class="grid-cell time-grid-cell">\n    <span data-js-time></span>\n</div>\n<div class="accordion-block">\n    <i class="material-icons" data-js-toggle-open>keyboard_arrow_down</i>\n    <i class="material-icons little" data-js-toggle-open>keyboard_arrow_up</i>\n</div>\n<div class="mobile-block">\n    <span data-js-time></span>\n    <a data-js-link>\n        <img src="" alt="preview" data-js-image>\n    </a>\n</div>\n',n},this.JST["tpl-launch-log-item-logs-table"]=function(e){var t,n="",r=_.escape;return n+='<div class="launch-log-items-wrapper" data-js-logs-wrapper>\n    <div class="filters-block clearfix">\n        <div class="log-level-label">'+r(e.text.logs.logLevel)+'</div>\n        <div class="filter-entity-wrapper" data-js-select-filter-slider></div>\n        <label class="rp-checkbox-wrap attachments-filter">\n            <input class="rp-input-checkbox" type="checkbox" data-js-attachments-filter>\n            <span>'+((t=e.text.logs.filterAttachments)==null?"":t)+'</span>\n        </label>\n        <div class="right-block">\n            <div class="min-paging" data-js-paginate-min-container></div>\n            <div class="rp-nav rp-nav-right" data-js-next-error-container></div>\n            <label class="switcher-label">\n                <label class="rp-switcher">\n                    <input type="checkbox" data-js-switch-to-console-view>\n                    <div class="slider"></div>\n                </label>\n                <span class="switcher-text" data-js-switch-to-launch-text>'+((t=e.text.logs.consoleView)==null?"":t)+'</span>\n            </label>\n        </div>\n    </div>\n\n    <div class="rp-table-grid log-grid rp-odd-even rp-table-hover">\n        <div class="row rp-grid-thead fixed_table_header" data-js-fixed-header>\n        </div>\n        <div class="row" data-js-table-container></div>\n\n    </div>\n    <div data-js-paginate-container></div>\n    <div class="preloader launch-log-grid-preloader">\n        <i class="material-icons loader-animation">refresh</i>\n    </div>\n    <div class="no-result-found">\n        <i class="rp-icons rp-icons-warning"></i>\n        <span>'+((t=e.text.ui.noResultsFound)==null?"":t)+"</span>\n    </div>\n</div>\n",n},this.JST["tpl-launch-log-item-next-error"]=function(e){var t,n="",r=_.escape;return n+='<div class="rp-btn rp-btn-default rp-button-with-icon next-error-button hide" data-js-next-error title="'+((t=e.text.logs.nextError)==null?"":t)+'">\n    <i class="material-icons">keyboard_arrow_right</i>\n    <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.logs.nextError)==null?"":t)+'</span>\n    <div class="preloader-wrapper">\n        <div class="custom-preloader">\n            <div class="custom-preloader-1"></div>\n            <div class="custom-preloader-2"></div>\n            <div class="custom-preloader-3"></div>\n        </div>\n    </div>\n</div>\n',n},this.JST["tpl-launch-log-item-table-header"]=function(e){function s(){n+=i.call(arguments,"")}function o(e,t){return'<div class="table-wrapper"><div class="middle-wrapper"><span class="text-overflow"><span class="long-size">'+e+"</span>"+'<span class="short-size" title="'+e+'">'+t+"</span>&nbsp;"+'<div class="sort-icon-wrapper">'+'<i class="material-icons">keyboard_arrow_up</i>'+'<i class="material-icons">keyboard_arrow_down</i>'+"</div>"+"</span>"+"</div>"+"</div>"}var t,n="",r=_.escape,i=Array.prototype.join;return n+='\n<div class="grid-cell attachment-grid-cell rp-grid-th console-th ">\n    '+((t=o("",""))==null?"":t)+'\n</div>\n<div class="grid-cell time-grid-cell rp-grid-th console-th" data-sorter="time">\n    '+((t=o(e.text.launchesHeaders.time,e.text.launchesHeaders.time_short))==null?"":t)+'\n</div>\n<div class="grid-cell message-grid-cell rp-grid-th">\n    <div class="table-wrapper">\n        <div class="middle-wrapper">\n                        <span class="text-overflow">\n                            <span class="long-size">'+((t=e.text.launchesHeaders.message)==null?"":t)+'</span>\n                            <span class="short-size" title="'+((t=e.text.launchesHeaders.message)==null?"":t)+'">'+((t=e.text.launchesHeaders.message_short)==null?"":t)+'</span>&nbsp;\n                            <div class="sort-icon-wrapper">\n                                <i class="material-icons">keyboard_arrow_up</i>\n                                <i class="material-icons">keyboard_arrow_down</i>\n                            </div>\n                        </span>\n            <div class="filter-name-block">\n                <div data-js-name-filter></div>\n                <i class="material-icons">search</i>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="grid-cell attachment-grid-cell rp-grid-th block-th">\n    '+((t=o("",""))==null?"":t)+'\n</div>\n<div class="grid-cell time-grid-cell rp-grid-th block-th" data-sorter="time">\n    '+((t=o(e.text.launchesHeaders.time,e.text.launchesHeaders.time_short))==null?"":t)+"\n</div>\n\n",n},this.JST["tpl-login-versions-item"]=function(e){var t,n="",r=_.escape;return n+='<span class="service-name" data-js-service-name></span>: <span data-js-service-version></span>;\n',n},this.JST["tpl-login-versions"]=function(e){var t,n="",r=_.escape;return n+='<div class="services">\n    <span class="current">'+((t=e.text.login.currentVersion)==null?"":t)+'</span>\n    <span class="list" data-js-build-versions></span>\n    <!--<div class="update-services">-->\n    <!--<i class="rp-icons rp-icons-warning2"></i>-->\n    <!--<span>'+((t=e.text.login.newVersions)==null?"":t)+'</span>-->\n    <!--<span class="update-link">'+((t=e.text.login.updateServices)==null?"":t)+"</span>-->\n    <!--</div>-->\n</div>\n",n},this.JST["tpl-messages-panel"]=function(e){var t,n="",r=_.escape;return n+='<div class="alert alert-danger fade in">\' +\n    <button type="button" class="close" data-dismiss="alert">&times;</button>\n    <h4>'+((t=e.title)==null?"":t)+" "+((t=e.text.messages.code)==null?"":t)+" "+((t=e.code)==null?"":t)+"</h4>\n    "+((t=e.message)==null?"":t)+'\n    <a class="stacktrace" data-toggle="collapse" data-target="#div-stacktrace">'+((t=e.text.messages.details)==null?"":t)+'</a>\n    <div id="div-stacktrace" class="collapse">\n        <div class="col-md-12">\n            '+((t=e.details)==null?"":t)+"\n        </div>\n    </div>\n</div>",n},this.JST["tpl-messages-single"]=function(e){var t,n="",r=_.escape;return n+='<div class="message-fade flash-'+((t=e.clazz)==null?"":t)+'">\n    '+((t=e.message)==null?"":t)+"\n</div>",n},this.JST["tpl-new-login-auth-button"]=function(e){var t,n="",r=_.escape;return n+='<div class="rp-btn rp-btn-submit" data-js-auth-button></div>\n',n},this.JST["tpl-new-login-login"]=function(e){var t,n="",r=_.escape;return n+='<div class="header-mobile">\n    <div class="logo-label"></div>\n    <span class="welcome-msg">'+((t=e.text.login.welcomeMsg)==null?"":t)+'</span>\n</div>\n<span class="welcome-msg">'+((t=e.text.login.welcomeMsg)==null?"":t)+'</span>\n<form class="login-form rp-form" data-js-login-login-form>\n    <div class="external-login hide" data-js-oauth-login>\n        <div data-js-oauth-container></div>\n        <div class="or-block">\n            <div class="or-line"></div>\n            <div class="or">'+((t=e.text.login.or)==null?"":t)+'</div>\n        </div>\n    </div>\n    <label class="rp-field">\n        <div class="icon-wrapper"><i class="material-icons">person_outline</i></div>\n        <input type="text" class="rp-input" placeholder="'+((t=e.text.login.loginPlaceholder)==null?"":t)+'" data-js-login>\n        <span class="validate-hint"></span>\n    </label>\n    <label class="rp-field">\n        <div class="icon-wrapper"><i class="material-icons">lock_outline</i></div>\n        <input type="password" class="rp-input password-field" placeholder="'+((t=e.text.login.password)==null?"":t)+'" data-js-password>\n        <div class="visability-toggler" data-js-toggle-visability>\n            <div class="shown"></div>\n            <div class="hided"></div>\n        </div>\n        <span class="validate-hint"></span>\n        <span class="forgot-password" data-js-forgot-pass>'+((t=e.text.login.forgotPassword)==null?"":t)+'</span>\n        <div class="error-block hide" data-js-error-block>\n            <i class="rp-icons rp-icons-warning"></i>\n            <span class="error">'+((t=e.text.login.error)==null?"":t)+'</span>\n            <span class="error-message" data-js-error-message></span>\n        </div>\n    </label>\n    <button class="rp-btn rp-btn-login" type="submit" data-js-login-btn>'+((t=e.text.login.loginTitle)==null?"":t)+"\n    </button>\n</form>\n\n",n},this.JST["tpl-new-login-reset"]=function(e){var t,n="",r=_.escape;return n+='<div class="header-mobile">\n    <div class="logo-label"></div>\n    <span class="welcome-msg">'+((t=e.text.login.welcomeMsgResetPass)==null?"":t)+'</span>\n</div>\n<span class="welcome-msg">'+((t=e.text.login.welcomeMsgResetPass)==null?"":t)+'</span>\n<form class="reset-form rp-form" data-js-reset-form>\n    <label class="rp-field pass-field">\n        <div class="icon-wrapper"><i class="material-icons">lock_outline</i></div>\n        <input type="password" class="rp-input" placeholder="Password" data-js-password>\n        <div class="visability-toggler" data-js-toogle-visability>\n            <div class="shown"></div>\n            <div class="hided"></div>\n        </div>\n        <span class="validate-hint"></span>\n        <span class="hint">'+((t=e.text.registration.passwordHint)==null?"":t)+'</span>\n    </label>\n    <label class="rp-field confirm-pass-field">\n        <div class="icon-wrapper"><i class="material-icons">lock_outline</i></div>\n        <input type="password" class="rp-input" placeholder="Confirm password" data-js-password-confirm>\n        <div class="visability-toggler" data-js-toogle-visability>\n            <div class="shown"></div>\n            <div class="hided"></div>\n        </div>\n        <span class="validate-hint"></span>\n    </label>\n    <button class="rp-btn rp-btn-login" type="submit" data-js-reset-pass-btn>'+((t=e.text.login.changePassword)==null?"":t)+"\n    </button>\n</form>\n",n},this.JST["tpl-new-login-restore"]=function(e){var t,n="",r=_.escape;return n+='<div class="header-mobile">\n    <div class="logo-label"></div>\n    <span class="welcome-msg">'+((t=e.text.login.welcomeMsgForgotPass)==null?"":t)+'</span>\n</div>\n<span class="welcome-msg">'+((t=e.text.login.welcomeMsgForgotPass)==null?"":t)+'</span>\n<form class="restore-form rp-form" data-js-restore-form>\n    <label class="rp-field">\n        <div class="icon-wrapper"><i class="material-icons">email</i></div>\n        <input type="text" class="rp-input" placeholder="'+((t=e.text.ui.enterEmail)==null?"":t)+'" data-js-email>\n        <span class="validate-hint"></span>\n    </label>\n    <button class="rp-btn rp-btn-cancel" type="button" data-js-cancel-restore-btn>'+((t=e.text.ui.cancel)==null?"":t)+'\n    </button>\n    <button class="rp-btn rp-btn-login" type="submit" data-js-change-pass-btn>'+((t=e.text.login.sendEmail)==null?"":t)+"\n    </button>\n</form>\n\n",n},this.JST["tpl-new-login"]=function(e){var t,n="",r=_.escape;return n+='<div class="login-content">\n    <div class="left-block">\n        <div class="logo-label" data-js-logo></div>\n        <div class="post-wrapper" data-js-twitter-container></div>\n        <div class="separator"></div>\n        <div class="socials-block" data-js-social-block>\n            <a href="https://github.com/reportportal" class="gh-icon" target="_blank"></a>\n            <a href="https://www.facebook.com/ReportPortal.io" class="fb-icon" target="_blank"></a>\n            <a href="http://twitter.com/ReportPortal_io" class="tw-icon" target="_blank"></a>\n            <a href="http://youtube.com/c/ReportPortalCommunity" class="yt-icon" target="_blank"></a>\n            <a href="https://vk.com/reportportal_io" class="vk-icon" target="_blank"></a>\n            <a href="https://reportportal-slack-auto.herokuapp.com/" class="slk-icon" target="_blank"></a>\n            <a href="mailto:support@reportportal.io" class="mail-icon"></a>\n        </div>\n    </div>\n    <div class="right-block">\n        <div class="subpage-container" data-js-subpage-container></div>\n        <div class="service-versions" data-js-service-versions-container></div>\n    </div>\n</div>\n',n},this.JST["tpl-task-list"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<ul class="main-menu">\n    ',_.each(menu,function(e){n+='\n    <li class="menu-item"><a href="'+r(e.url)+'">'+r(e.name)+"</a></li>\n    "}),n+="\n</ul>\n<li><strong>"+r(name)+"</strong> - "+r(date)+"</li>",n},this.JST["tpl-members-action-header"]=function(e){var t,n="",r=_.escape;return n+='<div class="col-md-2 rp-custom-col">\n    <div class="rp-table-th">'+((t=e.text.project.proposedRole)==null?"":t)+'</div>\n</div>\n<div class="col-md-3 rp-custom-col">\n    <div class="rp-table-th">'+((t=e.text.project.projectRole)==null?"":t)+'</div>\n</div>\n<div class="col-md-1 rp-custom-col th-title-action">\n    <div class="rp-table-th">'+((t=e.text.ui.action)==null?"":t)+"</div>\n</div>",n},this.JST["tpl-members-action"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o,u,a,f;o=e.member,u=e.isAdmin,a=o.assigned_projects[e.projectId].projectRole,f=e.canEdit(o,a),n+='\n<div class="col-md-2 clearfix">\n    <div class="rp-info rp-info-padding">\n        '+((t=o.assigned_projects[e.projectId].proposedRole)==null?"":t)+'\n    </div>\n</div><div class="col-md-3 clearfix">\n    ';if(u)n+='\n        <div class="col-sm-12 rp-info rp-info-padding admin-role">\n            '+((t=e.text.admin.privileges)==null?"":t)+"\n        </div>\n    ";else{n+='\n    <div class="rp-btn-group col-sm-10 to-80-width rp-info rp-info-padding select-role">\n        <button data-value="'+((t=a)==null?"":t)+'"\n            type="button"\n            class="rp-btn rp-btn-with-dropdown rp-width-100 dropdown-toggle '+((t=e.getColorClass&&e.getColorClass(o))==null?"":t)+'"\n            data-toggle="dropdown"\n            '+((t=!f||e.isDefaultProject?disabled="disabled":"")==null?"":t)+'>\n            <span class="select-value">'+((t=e.roles[a])==null?"":t)+'</span>\n            <span class="rp-caret"></span>\n        </button>\n        ';if(f&&!e.isDefaultProject){n+='\n        <ul class="dropdown-menu">\n            ';var l=0;n+="\n            ",_.forEach(e.roles,function(r,i){n+="\n                ";var s=l>e.projectRoleIndex?"disabled":"";n+='\n                    <li class="'+((t=s)==null?"":t)+'">\n                        <a href="#"\n                            class="project-roles '+((t=a===i?"active":"")==null?"":t)+" "+((t=s)==null?"":t)+'"\n                            data-value="'+((t=i)==null?"":t)+'">\n                            '+((t=r)==null?"":t)+"\n                        </a>\n                    </li>\n                ",l+=1,n+="\n            "}),n+="\n        </ul>\n        "}n+='\n    </div>\n    <div class="rp-btn-group col-sm-2 rp-info-padding action-info">\n        ',u&&(n+='\n            <i class="material-icons" title="'+((t=e.text.ui.lockedTitle)==null?"":t)+'">lock</i>\n        '),n+="\n        ",!f&&!e.isDefaultProject&&(n+='\n            <i class="material-icons" title="'+((t=e.text.members.lockedPermissionsTitle)==null?"":t)+'">lock</i>\n        '),n+="\n    </div>\n    "}return n+='\n</div><div class="col-md-1 clearfix">\n    <div class="rp-info rp-info-padding memrbers-actions">\n        ',!e.unassignedLock(o)&&!e.isOwnerPersonalProject&&(n+="\n            ",!e.isDefaultProject&&f&&(n+='\n                <button class="rp-btn rp-btn-default rp-button-with-icon member-action" \n                    href="#" data-id="'+((t=o.userId)==null?"":t)+'"\n                    title="'+((t=e.text.members.unAssignTitle)==null?"":t)+'">\n                    <i class="rp-icons rp-icons-unassign"></i>\n                    <span class="hidden-xs rp-btn-val">'+((t=e.text.members.unAssign)==null?"":t)+"</span>\n                </button>\n            "),n+="\n        "),n+="\n    </div>\n</div>",delete e.isOwnerPersonalProject,delete e.member,delete e.isAdmin,n},this.JST["tpl-members-add"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="form-horizontal add-member-form-wrapper">\n    <form id="addMemberForm" name="addMemberForm">\n        <div class="rp-form-group clearfix">\n            <div class="rp-custom-col">\n                <h4 class="common-title">\n                    ',e.type=="users"?n+="\n                    "+((t=e.text.admin.addNewUser)==null?"":t)+"\n                    ":n+="\n                    "+((t=e.text.members.addMemberToProject)==null?"":t)+"\n                    ",n+='\n                </h4>\n            </div>\n        </div>        <div class="rp-form-group clearfix">\n            <label class="col-md-3 col-sm-4 col-xs-12 rp-control-label rp-custom-col control-label obligatory-field" for="username">\n                '+((t=e.text.forms.login)==null?"":t)+'\n            </label>\n            <div class="col-md-4 col-sm-8 col-xs-12 rp-custom-col">\n                <input id="username" name="username" type="text" value="" class="rp-input-default rp-width-100 form-control"/>\n                <div class="error-bottom">\n                    <div class="help-inline"></div>\n                </div>\n            </div>\n            <div class="col-md-5 hidden-sm hidden-xs rp-custom-col"></div>\n        </div>        <div class="rp-form-group clearfix">\n            <label class="col-md-3 col-sm-4 col-xs-12 rp-control-label rp-custom-col control-label obligatory-field" for="fullName">\n                '+((t=e.text.forms.fullName)==null?"":t)+'\n            </label>\n            <div class="col-md-4 col-sm-8 col-xs-12 rp-custom-col">\n                <input id="fullName" name="fullName" type="text" value="" class="rp-input-default rp-width-100 form-control"/>\n                <div class="error-bottom">\n                    <div class="help-inline"></div>\n                </div>\n            </div>\n            <div class="col-md-5 hidden-sm hidden-xs rp-custom-col"></div>\n        </div>        <div class="rp-form-group clearfix">\n            <label class="col-md-3 col-sm-4 col-xs-12 rp-control-label rp-custom-col control-label obligatory-field" for="email">\n                '+((t=e.text.forms.email)==null?"":t)+'\n            </label>\n            <div class="col-md-4 col-sm-8 col-xs-12 rp-custom-col">\n                <input id="email" name="email" type="text" value="" class="rp-input-default rp-width-100 form-control"/>\n                <div class="error-bottom">\n                    <div class="help-inline"></div>\n                </div>\n            </div>\n            <div class="col-md-5 hidden-sm hidden-xs rp-custom-col"></div>\n        </div>        ',e.type=="users"&&(n+='\n        <div class="rp-form-group clearfix">\n            <label class="col-md-3 col-sm-4 col-xs-12 rp-control-label rp-custom-col control-label obligatory-field" for="accountRole">\n                '+((t=e.text.forms.accountRole)==null?"":t)+'\n            </label>\n            <div class="col-md-4 col-sm-8 col-xs-12 rp-custom-col">\n                <div class="rp-btn-group rp-width-100 btn-group input-group">\n                    <button id="accountRole" name="accountRole"\n                        data-value="'+((t=e.defaultAccountRole)==null?"":t)+'"\n                        data-defaultvalue="'+((t=e.defaultAccountRole)==null?"":t)+'"\n                        type="button"\n                        class="rp-btn rp-btn-with-dropdown rp-width-100 dropdown-toggle"\n                        data-toggle="dropdown">\n                        <span class="select-value">'+((t=e.defaultAccountRole)==null?"":t)+'</span>\n                        <span class="rp-caret"></span>\n                    </button>\n                    <ul class="dropdown-menu">\n                        ',_.each(e.accountRoles,function(e){n+='\n                        <li><a href="#" data-value="'+((t=e)==null?"":t)+'">'+((t=e.split("_").join(" "))==null?"":t)+"</a></li>\n                        "}),n+='\n                    </ul>\n                </div>\n                <div class="error-bottom">\n                    <div class="help-inline admin-privileges">\n                        '+((t=e.text.forms.adminPrivileges)==null?"":t)+'\n                    </div>\n                </div>\n            </div>\n            <div class="col-md-5 hidden-sm hidden-xs rp-custom-col"></div>\n        </div>\n        '),n+="        ",e.type=="users"&&(n+='\n        <div class="rp-form-group clearfix">\n            <label class="col-md-3 col-sm-4 col-xs-12 rp-control-label rp-custom-col control-label obligatory-field" for="project">\n                '+((t=e.text.forms.project)==null?"":t)+'\n            </label>\n            <div class="col-md-4 col-sm-8 col-xs-12 rp-custom-col">\n                <select id="project" name="project" class="select2-control">\n                    <option value="" style="display:none;"></option>\n                </select>\n                <div class="error-bottom">\n                    <div class="help-inline"></div>\n                </div>\n            </div>\n            <div class="col-md-5 hidden-sm hidden-xs rp-custom-col"></div>\n        </div>\n        '),n+='\n        <div class="rp-form-group clearfix">\n            <label class="col-md-3 col-sm-4 col-xs-12 rp-control-label rp-custom-col control-label obligatory-field" for="projectRole">\n                '+((t=e.text.forms.projectRole)==null?"":t)+'\n            </label>\n            <div class="col-md-4 col-sm-8 col-xs-12 rp-custom-col">\n                <div class="rp-btn-group rp-width-100">\n                    <button id="projectRole" name="projectRole"\n                        '+((t=e.isDefaultProject?disabled="disabled":"")==null?"":t)+'\n                        data-value="'+((t=e.defaultProjectRole)==null?"":t)+'"\n                        data-defaultvalue="'+((t=e.defaultProjectRole)==null?"":t)+'"\n                        type="button"\n                        class="rp-btn rp-btn-with-dropdown rp-width-100 dropdown-toggle"\n                        data-toggle="dropdown">\n                        <span class="select-value">'+((t=e.defaultProjectRole)==null?"":t)+'</span>\n                        <span class="rp-caret"></span>\n                    </button>\n                    ',e.isDefaultProject||(n+='\n                    <ul class="dropdown-menu">\n                        ',_.each(e.roles,function(e){n+='\n                        <li><a href="#" data-value="'+((t=e)==null?"":t)+'">'+((t=e.split("_").join(" "))==null?"":t)+"</a></li>\n                        "}),n+="\n                    </ul>\n                    "),n+='\n                </div>\n            </div>\n            <div class="col-md-5 hidden-sm hidden-xs rp-custom-col"></div>\n        </div>        <div class="rp-form-group clearfix">\n            <label class="col-md-3 col-sm-4 col-xs-12 rp-control-label rp-custom-col control-label obligatory-field" for="password">\n                '+((t=e.text.forms.password)==null?"":t)+'\n            </label>\n            <div class="col-md-4 col-sm-8 col-xs-12 rp-custom-col">\n                <input id="password" name="password" value="" type="text" class="rp-input-default rp-width-100 form-control"/>\n                <div class="error-bottom">\n                    <div class="help-inline"></div>\n                </div>\n            </div>\n            <div class="col-md-5 hidden-sm hidden-xs rp-custom-col"></div>\n        </div>        <div class="rp-form-group clearfix generate_password-row">\n            <div class="col-md-3 col-sm-4 col-xs-12 rp-custom-col"></div>\n            <div class="col-md-4 col-sm-8 col-xs-12 rp-custom-col to-gen-pass">\n                <a href="#" class="rp-blue-link-undrl rp-link" id="generate_password">\n                    '+((t=e.text.forms.genPassword)==null?"":t)+'\n                </a>\n            </div>\n            <div class="col-md-5 hidden-sm hidden-xs rp-custom-col"></div>\n        </div>        <div class="rp-form-group alert-block clearfix">\n            <div class="col-sm-7 col-md-7">\n                <div id="success-message" class="alert alert-success pull-right" role="alert" style="display: none;">\n                    '+((t=e.text.members.successAddUser)==null?"":t)+'\n                </div>\n            </div>\n        </div>        <div class="rp-form-group clearfix">\n            <div class="col-md-7 col-sm-12 col-xs-12 rp-custom-col">\n                <button type="submit" class="rp-btn rp-btn-submit float-right" id="addUserButton">\n                    '+((t=e.text.ui.add)==null?"":t)+'\n                </button>\n                <button style="display: none;" type="button" disabled="disabled" class="rp-btn rp-btn-submit float-right" id="viewEmail">\n                    '+((t=e.text.ui.viewEmail)==null?"":t)+'\n                </button>\n                <button style="display: none;" type="button" disabled="disabled" class="rp-btn rp-btn-cancel float-right" id="cancelForm">\n                    '+((t=e.text.ui.backForm)==null?"":t)+'\n                </button>\n            </div>\n            <div class="col-md-5 hidden-sm hidden-xs rp-custom-col"></div>\n        </div>\n    </form>\n</div>',n},this.JST["tpl-members-email-modal"]=function(e){var t,n="",r=_.escape;return n+='<div class="form-horizontal members-confirm">\n    <div class="confirm-top">\n        <span>'+((t=e.text.members.linkTo)==null?"":t)+" "+((t=e.text.ui.toolname)==null?"":t)+' <a href="'+r(e.link)+'" class="rp-blue-link-undrl">'+r(e.link)+'</a></span>\n    </div>\n    <div class="form-group">\n        <label class="col-sm-3 control-label">'+((t=e.text.forms.login)==null?"":t)+':</label>\n        <div class="col-sm-3">\n            <span class="confirm-line">'+r(e.data.login)+'</span>\n        </div>\n    </div>    <div class="form-group">\n        <label class="col-sm-3 control-label">'+((t=e.text.forms.fullName)==null?"":t)+':</label>\n        <div class="col-sm-3">\n            <span class="confirm-line">'+r(e.data.full_name)+'</span>\n        </div>\n    </div>    <div class="form-group">\n        <label class="col-sm-3 control-label">'+((t=e.text.forms.email)==null?"":t)+':</label>\n        <div class="col-sm-3">\n            <span class="confirm-line">'+r(e.data.email)+'</span>\n        </div>\n    </div>\n    \n    <div class="form-group">\n        <label class="col-sm-3 control-label">'+((t=e.text.forms.password)==null?"":t)+':</label>\n        <div class="col-sm-3">\n            <span class="confirm-line">'+r(e.data.password)+"</span>\n        </div>\n    </div>\n</div>",n},this.JST["tpl-members-header"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div id="headerBar" class="clearfix">\n    <ul class="rp-nav-left">        ',n+='        <li class="title-holder" id="assignedTitle">\n            <span class="header-alike">'+((t=e.text.members.assignedMembers)==null?"":t)+'</span>\n        </li>\n        <li class="title-holder" id="addTitle">\n            <span class="header-alike">'+((t=e.text.members.addMember)==null?"":t)+'</span>\n        </li>\n        <li class="title-holder" id="inviteTitle">\n            <span class="header-alike">'+((t=e.text.members.inviteMember)==null?"":t)+'</span>\n        </li>\n        <li class="title-holder" id="assignTitle">\n            <span class="header-alike">'+((t=e.text.members.assignTitle)==null?"":t)+"</span>\n        </li>\n    </ul>\n</div>",n},this.JST["tpl-members-invite"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="form-horizontal">\n    <form id="inviteMemberForm" name="inviteMemberForm" class="clearfix">\n        <div class="rp-form-group clearfix">\n            <div class="rp-custom-col">\n                <h4 class="common-title">\n                ',e.type=="users"?n+="\n                "+((t=e.text.admin.inviteNewUser)==null?"":t)+"\n                ":n+="\n                "+((t=e.text.members.inviteMemberToProject)==null?"":t)+"\n                ",n+='\n                </h4>\n            </div>\n        </div>\n        <div id="inviteForm">\n            <div class="rp-form-group clearfix">\n                <label class="col-md-3 col-sm-4 col-xs-12 rp-control-label rp-custom-col control-label obligatory-field" for="email">\n                    '+((t=e.text.forms.email)==null?"":t)+'\n                </label>\n                <div class="col-md-4 col-sm-8 col-xs-12 rp-custom-col">\n                    <input id="email" name="email" type="text" value=""\n                        class="rp-input-default rp-width-100 form-control" />\n                    <div class="error-bottom">\n                        <div class="help-inline"></div>\n                    </div>\n                </div>\n                <div class="col-md-5 hidden-sm hidden-xs rp-custom-col"></div>\n            </div>            ',e.type=="users"&&(n+='\n                <div class="rp-form-group clearfix">\n                    <label for="project"\n                        class="col-md-3 col-sm-4 col-xs-12 rp-control-label rp-custom-col control-label obligatory-field">\n                        '+((t=e.text.forms.project)==null?"":t)+'\n                    </label>\n                    <div class="col-md-4 col-sm-8 col-xs-12 rp-custom-col">\n                        <select id="project" name="project" class="select2-control">\n                            <option value="" style="display:none;"></option>\n                        </select>\n                        <div class="error-bottom">\n                            <div class="help-inline"></div>\n                        </div>\n                    </div>\n                    <div class="col-md-5 hidden-sm hidden-xs rp-custom-col"></div>\n                </div>\n            '),n+='            <div class="rp-form-group clearfix">\n                <label class="col-md-3 col-sm-4 col-xs-12 rp-control-label rp-custom-col obligatory-field"\n                    for="projectRole">\n                    '+((t=e.text.forms.projectRole)==null?"":t)+'\n                </label>\n                <div class="col-md-4 col-sm-8 col-xs-12 rp-custom-col">\n                    <div class="rp-btn-group rp-width-100">\n                        <button type="button"\n                            id="projectRole"\n                            data-defaultvalue="'+((t=e.defaultProjectRole)==null?"":t)+'"\n                            data-value="'+((t=e.defaultProjectRole)==null?"":t)+'"\n                            '+((t=e.isDefaultProject?disabled="disabled":"")==null?"":t)+'\n                            class="rp-btn rp-btn-with-dropdown rp-width-100 dropdown-toggle"\n                            data-toggle="dropdown">\n                            <span class="select-value">'+((t=e.roles[1])==null?"":t)+'</span>\n                            <span class="rp-caret"></span>\n                        </button>\n                        ',e.isDefaultProject||(n+='\n                        <ul class="dropdown-menu">\n                            ',_.each(e.roles,function(r){n+='\n                                <li>\n                                    <a href="#" class="'+((t=r==e.memberOption?"disabled-option":"")==null?"":t)+'" data-value="'+((t=r)==null?"":t)+'">\n                                        '+((t=r.split("_").join(" "))==null?"":t)+"\n                                    </a>\n                                </li>\n                            "}),n+="\n                        </ul>\n                        "),n+='\n                    </div>\n                </div>\n                <div class="col-md-5 hidden-sm hidden-xs rp-custom-col"></div>\n            </div>            <div class="rp-form-group clearfix">\n                <div class="col-md-7 col-sm-12 col-xs-12 rp-custom-col">\n                    <button type="submit" class="rp-btn rp-btn-submit float-right" id="sendInvite">\n                        '+((t=e.text.ui.sendInvite)==null?"":t)+'\n                    </button>\n                </div>\n                <div class="col-md-5 hidden-sm hidden-xs rp-custom-col"></div>\n            </div>\n        </div>        <div id="linkForm" style="display: none;">\n            <div class="rp-form-group clearfix">\n                <label class="col-md-3 col-sm-4 col-xs-12 rp-control-label rp-custom-col">\n                    '+((t=e.text.members.invitationSent)==null?"":t)+'\n                </label>\n                <div class="col-md-4 col-sm-8 col-xs-12 rp-custom-col">\n                    <div style="display: block">\n                        <span class="rp-invite-email" id="inviteEmail"></span>\n                    </div>\n                </div>\n                <div class="col-md-5 hidden-sm hidden-xs rp-custom-col"></div>\n            </div>            <div class="rp-form-group clearfix">\n                <label class="col-md-3 col-sm-4 col-xs-12 rp-control-label rp-custom-col" for="email">\n                    '+((t=e.text.forms.linkInvitation)==null?"":t)+'\n                </label>\n                <div class="col-md-9 col-sm-8 col-xs-12 rp-custom-col">\n                    <input id="inviteLink"\n                        name="inviteLink"\n                        readonly="readonly"\n                        type="text"\n                        class="rp-input-default rp-width-100 form-control"\n                        value="" />\n                </div>\n                <div class="hidden-md hidden-sm hidden-xs rp-custom-col"></div>\n            </div>            <div class="rp-form-group clearfix">\n                <div class="col-md-3 col-sm-4 hidden-xs rp-custom-col"></div>\n                <div class="col-md-9 col-sm-8 col-xs-12 rp-custom-col">\n                    <button type="button"\n                        id="cancelInvite"\n                        style="display: none;"\n                        class="rp-link float-left xs-float-right">\n                        '+((t=e.text.ui.backForm)==null?"":t)+"\n                    </button>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>\n",n},this.JST["tpl-members-list"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return _.forEach(e.members,function(r){n+="\n    ";var i=e.util.isAdmin(r);n+='\n    <div class="row rp-table-row" data-user="'+((t=r.userId)==null?"":t)+'">\n        <div class="col-md-4 clearfix">\n            <div class="rp-member-wrap">\n                <div class="rp-member-img float-left">\n                    <img class="rp-member-avatar" src="'+((t=e.util.updateImagePath(e.imageRoot+r.userId))==null?"":t)+'" />\n                </div>\n                <div class="rp-member-body clearfix">\n                    <div class="user-name text-wrapper ">\n                        <p class="member-name">\n                            ';if(r.full_name){n+="\n                                ";var s=e.searchString?e.textWrapper(r.full_name,e.searchString):r.full_name;n+="\n                                <span>"+((t=s)==null?"":t)+"</span>\n                            "}else{n+="\n                                ";var o=e.searchString?e.textWrapper(r.userId,e.searchString):r.userId;n+="\n                                <span>"+((t=o)==null?"":t)+"</span>\n                            "}n+="\n                            ",e.isGrandAdmin?(n+="\n                                ",i?(n+="\n                                    ",e.util.isYou(r)?n+='\n                                        <span class="label-ellipse label-danger label-size-md">\n                                            '+((t=e.text.ui.admin)==null?"":t)+"\n                                        </span>\n                                    ":n+='\n                                        <a href="#"\n                                            class="label-ellipse label-danger label-size-md change-role"\n                                            data-id="'+((t=r.userId)==null?"":t)+'">\n                                                '+((t=e.text.ui.admin)==null?"":t)+"\n                                        </a>\n                                    ",n+="\n                                "):n+='\n                                    <a href="#"\n                                        class="label-ellipse label-grey label-hover label-size-md change-role"\n                                        data-id="'+((t=r.userId)==null?"":t)+'">\n                                            '+((t=e.text.ui.makeAdmin)==null?"":t)+"\n                                    </a>\n                                ",n+="\n                            "):(n+="\n                                ",i&&(n+='\n                                    <span class="label-ellipse label-danger label-size-md">\n                                        '+((t=e.text.ui.admin)==null?"":t)+"\n                                    </span>\n                                "),n+="\n                            "),n+="\n                            ",e.util.isYou(r)&&(n+='\n                                <span class="label-ellipse label-green label-success label-size-md">\n                                    '+((t=e.text.ui.you)==null?"":t)+"\n                                </span>\n                            "),n+="\n                        </p>\n                        ";if(r.full_name){n+='\n                        <p class="member-id">\n                            ';var o=e.searchString?e.textWrapper(r.userId,e.searchString):r.userId;n+="\n                            <span>"+((t=o)==null?"":t)+"</span>\n                            ",e.isAdmin&&(n+='\n                                <span class="label-ellipse label-danger label-size-md">\n                                    '+((t=e.text.ui.admin)==null?"":t)+"\n                                </span>\n                            "),n+="\n                        </p>\n                        "}n+="\n                        ";if(r.email){n+='\n                        <p class="member-email">\n                            <a href="mailto:'+((t=r.email)==null?"":t)+'" class="rp-link">\n                                ';var u=e.searchString?e.textWrapper(r.email,e.searchString):r.email;n+='\n                                <span class="email-link">'+((t=u)==null?"":t)+"</span>\n                            </a>\n                        </p>\n                        "}n+='\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="col-md-2 clearfix">\n            <div class="rp-info rp-info-padding show-time">\n                ';var a=e.util.dateFormat(r.last_login);n+='\n                <span class="from-now">'+((t=e.util.fromNowFormat(a))==null?"":t)+'</span>\n                <span class="exact-time">'+((t=a)==null?"":t)+"</span>\n            </div>\n        </div>\n        ",e.isAdmin=i,e.member=r,e.isOwnerPersonalProject=e.isPersonalProjectOwner(r),n+="\n        "+((t=e.util.templates(e.actionTpl,e))==null?"":t)+"    </div>\n"}),n+="\n",e.members.length||(n+='\n    <div class="col-sm-12">\n        <h3 class="title-no-data text-center">\n            <i class="rp-icons rp-icons-warning"></i>\n            <span class="warning">'+((t=e.text.infoMessages.noResults)==null?"":t)+"</span>\n        </h3>\n    </div>\n"),n+="\n",n},this.JST["tpl-members-navigation"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="container-fluid">\n    <div class="row">\n        <ul class="nav nav-tabs nav-tabs-custom" role="tablist">\n            <li role="presentation"\n                class="'+((t=!e.query||e.query==="assigned"?"active":"")==null?"":t)+'">\n                <a href="#',e.adminPage&&(n+="administrate/projects/"),n+=((t=e.projectId)==null?"":t)+'/members/assigned"\n                    data-target="#assignedMembers"\n                    aria-controls="home"\n                    role="tab"\n                    data-toggle="tab"\n                    class="tab"\n                    data-query="assigned">\n                    '+((t=e.text.admin.assigned)==null?"":t)+"\n                </a>\n            </li>\n            ",e.canManage&&(n+="\n                ",e.hideAddBlock!==!0&&(n+='\n                <li role="presentation"\n                    class="'+((t=e.query==="add"?"active":"")==null?"":t)+'">\n                    <a href="#',e.adminPage&&(n+="administrate/projects/"),n+=((t=e.projectId)==null?"":t)+'/members/add"\n                        data-target="#addMember"\n                        aria-controls="profile"\n                        role="tab"\n                        data-toggle="tab"\n                        class="tab"\n                        data-query="add">\n                        '+((t=e.text.admin.add)==null?"":t)+"\n                    </a>\n                </li>\n                "),n+='\n                <li role="presentation"\n                    class="'+((t=e.query==="invite"?"active":"")==null?"":t)+'">\n                    <a href="#',e.adminPage&&(n+="administrate/projects/"),n+=((t=e.projectId)==null?"":t)+'/members/invite"\n                        data-target="#inviteMember"\n                        aria-controls="profile"\n                        role="tab"\n                        data-toggle="tab"\n                        class="tab"\n                        data-query="invite">\n                        '+((t=e.text.admin.invite)==null?"":t)+'\n                    </a>\n                </li>\n                <li role="presentation"\n                    class="'+((t=e.query==="assign"?"active":"")==null?"":t)+'">\n                    <a href="#',e.adminPage&&(n+="administrate/projects/"),n+=((t=e.projectId)==null?"":t)+'/members/assign"\n                        data-target="#assignMember"\n                        aria-controls="profile"\n                        role="tab"\n                        data-toggle="tab"\n                        class="tab"\n                        data-query="assign">\n                        '+((t=e.text.admin.assign)==null?"":t)+"\n                    </a>\n                </li>\n            "),n+='\n        </ul>\n        <div class="tab-content">\n            <div role="tabpanel" class="tab-pane form-horizontal '+((t=!e.query||e.query==="assigned"?"active":"")==null?"":t)+'" id="assignedMembers"></div>\n            ',e.canManage&&(n+='\n            <div role="tabpanel" class="tab-pane form-horizontal '+((t=e.query==="add"?"active":"")==null?"":t)+'" id="addMember"></div>\n            <div role="tabpanel" class="tab-pane form-horizontal '+((t=e.query==="invite"?"active":"")==null?"":t)+'" id="inviteMember"></div>\n            <div role="tabpanel" class="tab-pane form-horizontal '+((t=e.query==="assign"?"active":"")==null?"":t)+'" id="assignMember"></div>\n            '),n+="\n        </div>\n    </div>\n</div>",n},this.JST["tpl-members-shell"]=function(e){var t,n="",r=_.escape;return n+='<div class="all-users">\n    <div class="container-fluid rp-margin-reset rp-odd-even rp-members-list rp-table-hover">\n        <div class="row">\n            <div class="rp-table-thead-search clearfix">\n                <div class="col-md-12 col-sm-12 col-xs-12 rp-form-group clearfix">\n                    <label class="rp-control-label rp-table-th-title">\n                        <span>'+((t=e.text.members.titleAllMembers)==null?"":t)+'</span>\n                        (<span class="rp-members-qty">0</span>)\n                    </label>\n                    <div class="rp-input-search-wrap">\n                        <div class="input-filter form-group">\n                            <input type="text"\n                                class="rp-input-search favorites-name-filter form-control"\n                                id="userFilter"\n                                name="userFilter"\n                                placeholder="'+((t=e.grandAdmin?e.projectId?e.text.members.searchNameLogin:e.text.members.searchNameLoginEmail:e.text.members.searchName)==null?"":t)+'"\n                                value="'+r(e.nameFilterValue||"")+'" />\n                            <i class="material-icons">search</i>\n                            <div class="error-bottom">\n                                <div class="help-inline"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>        <div class="row">\n            <div class="rp-table-thead rp-form-group clearfix">\n                <div class="col-md-4 col-sm-4 col-xs-4 rp-custom-col">\n                    <div class="rp-table-th">'+((t=e.text.members.titleNameLoginEmail)==null?"":t)+'</div>\n                </div>\n                <div class="col-md-2 col-sm-2 col-xs-2 rp-custom-col">\n                    <div class="rp-table-th">'+((t=e.text.admin.lastLogin)==null?"":t)+"</div>\n                </div>\n                "+((t=e.util.templates(e.actionTpl))==null?"":t)+'\n            </div>\n        </div>        <div id="membersList" class="clearfix">\n            <div id="popupLoader" class="admin-section">\n                <i class="material-icons loader-animation">refresh</i>\n            </div>\n        </div>    </div>\n    <div class="col-sm-12 project_list_paginate"></div>\n</div>',n},this.JST["tpl-permissions-map"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.id?"":"disabled";return n+='\n<ul class="rp-nav-right rp-nav-tabs" role="tablist">\n    ',e.btnVisible.btnProjectSettings!=0&&(n+='\n    <li role="presentation"\n        class="tab-settings float-right margin-left-10 rp-item-li-fix-height '+((t=e.tab==="settings"?"active":"")==null?"":t)+'">\n        <a href="#administrate/projects/'+((t=e.id)==null?"":t)+'/settings/general"\n           data-target="#projectSettings"\n           data-action="settings"\n           aria-controls="home"\n           role="tab"\n           data-toggle="tab"\n           class="rp-btn rp-btn-default-revers rp-button-with-icon tab">\n            <i class="material-icons">settings</i>\n            <span class="hidden-xs rp-btn-val">'+((t=e.text.ui.settings)==null?"":t)+"</span>\n        </a>\n    </li>\n    "),n+=" ",e.btnVisible.btnProjectMembers!=0&&(n+='\n    <li role="presentation"\n        class="tab-members float-right margin-left-10 rp-item-li-fix-height '+((t=e.tab==="members"?"active":"")==null?"":t)+" "+((t=o)==null?"":t)+'">\n        <a href="#administrate/projects/'+((t=e.id)==null?"":t)+'/members/assigned"\n           data-target="#projectUsers"\n           data-action="members"\n           aria-controls="profile"\n           role="tab"\n           data-toggle="tab"\n           class="rp-btn rp-btn-default-revers rp-button-with-icon tab '+((t=o)==null?"":t)+'">\n            <i class="rp-icons rp-icons-all-users"></i>\n            <span class="hidden-xs rp-btn-val">'+((t=e.text.admin.projectMembers)==null?"":t)+"</span>\n        </a>\n    </li>\n    "),n+="\n</ul>\n",n},this.JST["tpl-user-send-email"]=function(e){var t,n="",r=_.escape;return n+=((t=e.text.members.registeredOn)==null?"":t)+" "+((t=e.text.ui.toolname)==null?"":t)+".\n"+((t="")==null?"":t)+"\n"+((t=e.text.members.useInformation)==null?"":t)+"\n"+((t="")==null?"":t)+"\n"+((t=e.text.members.linkTo)==null?"":t)+" "+((t=e.text.ui.toolname)==null?"":t)+": "+((t=e.link)==null?"":t)+"\n"+((t="")==null?"":t)+"\n"+((t=e.text.forms.login)==null?"":t)+": "+r(e.data.login)+"\n"+((t="")==null?"":t)+"\n"+((t=e.text.forms.password)==null?"":t)+": "+r(e.data.password),n},this.JST["tpl-confirm-addmember"]=function(e){var t,n="",r=_.escape;return n+='<div class="modal fade dialog-shell rp-modal-dialog" id="ConfirmModal" tabindex="-1" role="dialog" aria-labelledby="ConfirmModal" aria-hidden="true">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <h2 class="col-lg-10 col-md-10 col-sm-10 col-xs-10 break-link">\n                    '+((t=e.text.members.viewEmail)==null?"":t)+'\n                </h2>\n                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 panel-action">\n                    <sapn class="close-pop-up" data-dismiss="modal" data-js-close>\n                        <i class="material-icons">clear</i>\n                    </span>\n                </div>\n            </div>\n            <div class="modal-body" id="confirmContent">\n                \n            </div>\n            <div class="modal-footer">\n                <div class="pull-right">\n                    <button type="button" class="btn cancel" data-dismiss="modal">'+((t=e.text.ui.ok)==null?"":t)+'</button>\n                    <a href="#" class="btn ok btn-success" id="btn-send-email">'+((t=e.text.ui.sendEmail)==null?"":t)+"</a>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>",n},this.JST["tpl-delete-dialog"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="modal fade dialog-shell rp-modal-dialog delete-dialog" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\n    <div class="modal-dialog modal-md">\n        <div class="modal-content">\n            <div class="modal-header">\n                <h2 class="col-lg-10 col-md-10 col-sm-10 col-xs-10 break-link">\n                    '+((t=e.text.dialogHeader[e.message])==null?"":t)+'\n                </h2>\n                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 panel-action">\n                    <span class="close-pop-up" data-js-close data-dismiss="modal">\n                        <i class="material-icons">clear</i>\n                    </span>\n                </div>\n            </div>\n            <div class="modal-body">\n                <p>\n                    ',e.format?n+="\n                        "+((t=e.format(e.text.dialog[e.message]))==null?"":t)+"?\n                    ":n+="\n                        "+((t=e.text.dialog[e.message])==null?"":t)+""+r(e.segment)+"?\n                    ",n+='\n                </p>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="rp-btn rp-btn-cancel" data-dismiss="modal">\n                    '+((t=e.cancelButton||e.text.ui.cancel)==null?"":t)+'\n                </button>\n                <button type="button" class="rp-btn rp-btn-danger">\n                    '+((t=e.okButton||e.text.dialog[e.message+"Btn"]||e.text.ui.del)==null?"":t)+"\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n",n},this.JST["tpl-dialog-modal"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="modal fade dialog-shell rp-modal-dialog"\n    id="updateMyProfile"\n    tabindex="-1"\n    role="dialog"\n    aria-labelledby="updateMyProfile"\n    aria-hidden="true">\n    <div class="modal-dialog modal-md">\n        <div class="modal-content">\n            <div class="modal-header">\n                <h2 class="col-lg-10 col-md-10 col-sm-10 col-xs-10 break-link">\n                    '+((t=e.text.ui.warning)==null?"":t)+'!\n                </h2>\n                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 panel-action">\n                    <span class="close-pop-up" data-js-close data-dismiss="modal">\n                        <i class="material-icons">clear</i>\n                    </span>\n                </div>\n            </div>\n            <div class="modal-body clearfix" id="contentModal">\n                <p>'+((t=e.header)==null?"":t)+"</p>\n                <p>"+((t=e.description)==null?"":t)+'</p>\n            </div>\n            <div class="modal-footer ">\n                <div class="pull-right" id="buttonsModal">\n                    ',_.forEach(e.buttons,function(e){n+='\n                        <button type="button"\n                            class="rp-btn rp-btn-cancel"\n                            data-js-'+((t=e.type)==null?"":t)+">\n                            "+((t=e.name)==null?"":t)+"\n                        </button>\n                    "}),n+="\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n",n},this.JST["tpl-modal-with-confirm"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="modal fade dialog-shell rp-modal-dialog '+((t=e.paramModal.additionalClass)==null?"":t)+'"\n    id="ConfirmModal"\n    tabindex="-1"\n    role="dialog"\n    aria-labelledby="ConfirmModal"\n    aria-hidden="true">\n    <div class="modal-dialog modal-'+((t=e.paramModal.sizeModal)==null?"":t)+'">\n        <div class="modal-content">\n            <div class="modal-header">\n                <h2 class="col-lg-10 col-md-10 col-sm-10 col-xs-10 break-link">\n                    '+((t=e.dialogHeader.title)==null?"":t)+'\n                </h2>\n                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 panel-action">\n                    <sapn class="close-pop-up"\n                        title="'+((t=e.text.uiCommonElements.close)==null?"":t)+'"\n                        data-js-close\n                        data-dismiss="modal">\n                        <i class="material-icons">clear</i>\n                    </span>\n                </div>\n            </div>            <div class="modal-body">\n                ',e.paramModal.isFormatText&&(n+="\n                    <p>"+((t=e.dialogBody.txtMessageTop)==null?"":t)+"</p>\n                "),n+="                ",e.paramModal.withConfirm&&(n+='\n                    <p class="no-margin">\n                        <label>\n                            <input type="checkbox" class="rp-input-checkbox confirm">\n                            <span class="font-bold">'+((t=e.dialogBody.txtMessage)==null?"":t)+"</span>\n                        </label>\n                    </p>\n                "),n+="                ",e.paramModal.withConfirm||(n+='\n                    <p class="no-margin">\n                        <span>'+((t=e.dialogBody.txtMessage)==null?"":t)+"</span>\n                    </p>\n                "),n+='\n            </div>            <div class="modal-footer">\n                ',e.dialogFooter.cancelButton&&(n+='\n                    <button type="button"\n                        class="rp-btn rp-btn-cancel"\n                        data-dismiss="modal">\n                        '+((t=e.dialogFooter.cancelButton)==null?"":t)+"\n                    </button>\n                "),n+="\n                ",e.dialogFooter.dangerButton&&(n+='\n                    <button type="button"\n                        class="rp-btn rp-btn-danger"\n                        ',e.paramModal.withConfirm&&(n+=' disabled="disabled" '),n+=" >\n                        "+((t=e.dialogFooter.dangerButton)==null?"":t)+"\n                    </button>\n                "),n+="\n                ",e.dialogFooter.submitButton&&(n+='\n                    <button type="button"\n                        class="rp-btn rp-btn-submit">\n                        '+((t=e.dialogFooter.submitButton)==null?"":t)+"\n                    </button>\n                "),n+="                ",e.dialogFooter.customEvents&&(n+="\n                    "+((t=e.dialogFooter.customEvents)==null?"":t)+"\n                "),n+="\n            </div>\n        </div>\n    </div>\n</div>\n",n},this.JST["tpl-permissions-map-modal"]=function(e){var t,n="",r=_.escape;return n+='<div aria-hidden="true"\n    aria-labelledby="aboutPermissionsLabel"\n    id="aboutPermissions"\n    role="dialog"\n    tabindex="-1"\n    class="modal fade dialog-shell rp-modal-dialog min-padding">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">            <div class="modal-header">\n                <h2 class="col-lg-10 col-md-10 col-sm-10 col-xs-10 break-link">\n                    '+((t=e.text.project.permissionsMap)==null?"":t)+'\n                </h2>\n                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 panel-action">\n                    <sapn class="close-pop-up" data-js-close data-dismiss="modal">\n                        <i class="material-icons">clear</i>\n                    </span>\n                </div>\n            </div>            <div class="modal-body">\n                <div class="table-responsive">\n                    <table class="table table-hover table-striped table-condensed table_permissions"\n                        id="permissionsTable">\n                        <thead class="">\n                            <tr>\n                                <th rowspan="2">'+((t=e.text.permissionMap.actionRole)==null?"":t)+'</th>\n                                <th rowspan="2">'+((t=e.text.ui.admin)==null?"":t)+'</th>\n                                <th rowspan="2">'+((t=e.text.ui.manager)==null?"":t)+'</th>\n                                <th rowspan="2">'+((t=e.text.ui.lead)==null?"":t)+'</th>\n                                <th colspan="2">'+((t=e.text.ui.member)==null?"":t)+'</th>\n                                <th colspan="2">'+((t=e.text.ui.customer)==null?"":t)+"</th>\n                            </tr>\n                            <tr>\n                                <th>"+((t=e.text.permissionMap.owner)==null?"":t)+"</th>\n                                <th>"+((t=e.text.permissionMap.notOwner)==null?"":t)+"</th>\n                                <th>"+((t=e.text.permissionMap.owner)==null?"":t)+"</th>\n                                <th>"+((t=e.text.permissionMap.notOwner)==null?"":t)+"</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <td>"+((t=e.text.permissionMap.accessToManagementSystem)==null?"":t)+'</td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                            </tr>\n                            <tr>\n                                <td>'+((t=e.text.permissionMap.createProject)==null?"":t)+'</td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                            </tr>\n                            <tr>\n                                <td>'+((t=e.text.permissionMap.deleteProject)==null?"":t)+'</td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                            </tr>\n                            <tr>\n                                <td>'+((t=e.text.permissionMap.updateSettings)==null?"":t)+'</td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                            </tr>\n                            <tr>\n                                <td>'+((t=e.text.permissionMap.seeSettings)==null?"":t)+'</td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    '+((t=e.text.ui.create)==null?"":t)+"\n                                    <strong>"+((t=e.text.permissionMap.internal)==null?"":t)+"</strong>\n                                    "+((t=e.text.permissionMap.user)==null?"":t)+'\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    '+((t=e.text.admin.invite)==null?"":t)+"\n                                    <strong>"+((t=e.text.permissionMap.internal)==null?"":t)+"\n                                    </strong>"+((t=e.text.permissionMap.user)==null?"":t)+'\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                    <span class="to-power">*</span>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                    <span class="to-power">*</span>\n                                </td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    '+((t=e.text.permissionMap.unSlashAssign)==null?"":t)+"\n                                    <strong>"+((t=e.text.permissionMap.internal)==null?"":t)+"</strong>\n                                    "+((t=e.text.permissionMap.userToFrom)==null?"":t)+'\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                    <span class="to-power">**</span>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                    <span class="to-power">**</span>\n                                </td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                            </tr>\n                            <tr>\n                                <td>'+((t=e.text.permissionMap.changeUserRole)==null?"":t)+'</td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                    <span class="to-power">*</span>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                    <span class="to-power">*</span>\n                                </td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    '+((t=e.text.ui.del)==null?"":t)+"\n                                    <strong>"+((t=e.text.permissionMap.internal)==null?"":t)+"</strong>\n                                    "+((t=e.text.permissionMap.user)==null?"":t)+'\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                            </tr>\n                            <tr>\n                                <td>'+((t=e.text.permissionMap.seeMembers)==null?"":t)+'</td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    '+((t=e.text.permissionMap.editOwnAccount1)==null?"":t)+'\n                                    <span class="to-power">***</span>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>'+((t=e.text.permissionMap.deleteLaunch)==null?"":t)+'</td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center"></td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center"></td>\n                            </tr>\n                            <tr>\n                                <td>'+((t=e.text.permissionMap.forceFinishLaunch)==null?"":t)+'</td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center"></td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center"></td>\n                            </tr>\n                            <tr>\n                                <td>'+((t=e.text.permissionMap.startAnalysis)==null?"":t)+'</td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>'+((t=e.text.permissionMap.deleteTestItem)==null?"":t)+'</td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center"></td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center"></td>\n                            </tr>\n                            <tr>\n                                <td>'+((t=e.text.permissionMap.moveToDebug)==null?"":t)+'</td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                                <td class="text-center"></td>\n                            </tr>\n                            <tr>\n                                <td>'+((t=e.text.permissionMap.mergeLaunches)==null?"":t)+'</td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center"></td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center"></td>\n                            </tr>\n                            <tr>\n                                <td>'+((t=e.text.permissionMap.workWithFiltersEtc)==null?"":t)+'</td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>'+((t=e.text.permissionMap.readData)==null?"":t)+'</td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                                <td class="text-center success">\n                                    <i class="rp-icons rp-icons-check"></i>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>                <div class="col-xs-12 text-left">'+((t=e.text.permissionMap.oneAttention)==null?"":t)+'</div>\n                <div class="col-xs-12 text-left">'+((t=e.text.permissionMap.twoAttention)==null?"":t)+'</div>\n                <div class="col-xs-12 text-left">'+((t=e.text.permissionMap.threeAttention)==null?"":t)+"</div>\n            </div>\n        </div>\n    </div>\n</div>",n},this.JST["_tpl-modal-footer"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="modal-footer">\n    <div class="footer-buttons">\n        ',_.forEach(e,function(e){n+='\n        <button class="rp-btn '+((t=e.btnClass)==null?"":t)+'" type="button" '+((t=e.label)==null?"":t)+" >\n        "+((t=e.btnText)==null?"":t)+"\n        </button>\n        "}),n+="\n    </div>\n    "+((t=e.includeTemplate("tpl-modal-footer-warning"))==null?"":t)+"\n</div>\n",n},this.JST["_tpl-modal-header"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="modal-header">\n    <h2>'+((t=e.headerText)==null?"":t)+"</h2>\n    ",e.isBeta&&(n+='\n        <div class="beta-badge">'+((t=e.text.project.beta)==null?"":t)+"</div>\n    "),n+='\n    <span class="close-modal"\n          title="'+((t=e.text.uiCommonElements.close)==null?"":t)+'">\n            <i class="material-icons" data-js-cancel>clear</i>\n        </span>\n</div>\n',n},this.JST["_tpl-modal"]=function(e){var t,n="",r=_.escape;return n+='<div class="modal fade dialog-shell rp-modal-dialog" tabindex="-1" role="dialog" aria-hidden="true">\n    <div class="modal-dialog" data-js-scroll-container>\n        <div class="modal-content" data-js-modal-content>\n\n        </div>\n    </div>\n    <div class="modal-loading">\n        <div class="preloader">\n            <i class="material-icons loader-animation">refresh</i>\n        </div>\n    </div>\n</div>',n},this.JST["tpl-modal-add-shared-widget-item"]=function(e){var t,n="",r=_.escape;return n+='<label>\n    <input class="rp-input-radio" type="radio" data-js-widget-select>\n    <span>\n        <span class="filter-name" data-js-widget-name></span>\n        <span class="gadget-name" data-js-gadget-name></span>\n        <span class="owner-name"><i class="material-icons">person</i><span data-js-owner-name></span></span>\n        <span class="widget-description" data-js-description></span>\n    </span>\n</label>\n',n},this.JST["tpl-modal-add-shared-widget"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.widgets.addSharedWidget}))==null?"":t)+'\n<div class="modal-body">\n    <div class="info-block">\n        <div class="preview-block" data-js-preview-block>\n            <h2 data-js-active-widget-name></h2>\n            <div class="widget-preview" data-js-widget-preview></div>\n        </div>\n        '+((t=e.includeTemplate("tpl-modal-footer-warning"))==null?"":t)+'\n    </div>\n    <div class="action-block" data-js-action-block>\n        <h1>'+r(e.text.widgets.selectShared)+'</h1>\n        <div class="shared-widgets-search">\n            <div class="input-filter form-group">\n                <input type="text" class="rp-input-search form-control" data-js-shared-widget-search placeholder="'+r(e.text.widgets.sharedWidgetsSearchPlaceholder)+'" value="">\n                <i class="material-icons">search</i>\n                <div class="validate-hint">\n                </div>\n            </div>\n        </div>\n        <div class="shared-widgets-list-wrapper">\n            <div data-js-widgets-list-scroll>\n                <div class="shared-widgets-list" data-js-widgets-list></div>\n                <div class="shared-widgets-empty hide" data-js-widgets-empty>\n                    <span data-js-empty-message></span>\n                </div>\n            </div>\n        </div>\n        <div class="preloader">\n            <i class="material-icons loader-animation">refresh</i>\n        </div>\n    </div>\n    <div class="buttons-block rp-nav-right">\n        <button class="rp-btn rp-btn-cancel" data-js-cancel>'+r(e.text.ui.cancel)+'</button>\n        <button class="rp-btn rp-btn-submit" data-js-add-widget>'+r(e.text.ui.add)+"</button>\n    </div>\n</div>\n",n},this.JST["tpl-modal-add-widget-configure-widget"]=function(e){var t,n="",r=_.escape;return n+='<div data-js-filter-search></div>\n<div class="criteria-wrapper" data-js-enter-criteria></div>\n',n},this.JST["tpl-modal-add-widget-save-widget"]=function(e){var t,n="",r=_.escape;return n+='<form class="rp-form">\n    <label>\n        <span>'+((t=e.text.ui.name)==null?"":t)+'</span>\n        <input class="rp-input" placeholder="'+((t=e.text.widgets.namePlaceholder)==null?"":t)+'" type="text" data-js-name-input>\n        <span class="validate-hint"></span>\n    </label>\n    <label>\n        <span>'+((t=e.text.ui.description)==null?"":t)+'</span>\n        <textarea class="rp-input" placeholder="'+((t=e.text.widgets.descriptionPlaceholder)==null?"":t)+'" data-js-description></textarea>\n    </label>\n    <label>\n        <span>'+((t=e.text.filter.share)==null?"":t)+'</span>\n        <label class="rp-switcher-big" data-js-shared-control>\n            <span class="turn-on">'+((t=e.text.ui.on)==null?"":t)+'</span>\n            <span class="turn-off">'+((t=e.text.ui.off)==null?"":t)+'</span>\n            <input type="checkbox" data-js-is-shared>\n            <div class="slider"></div>\n        </label>\n    </label>\n</form>\n<div data-js-dashboards-list></div>\n',n},this.JST["tpl-modal-add-widget-select-dashboard-item"]=function(e){var t,n="",r=_.escape;return n+='<span data-js-dashboard-item class="selected-dashboard"><i class="material-icons" data-js-share-icon title="'+((t=e.text.dashboard.dashboardShared)==null?"":t)+'">share</i><span></span></span>',n},this.JST["tpl-modal-add-widget-select-dashboard"]=function(e){var t,n="",r=_.escape;return n+="<h5>"+((t=e.text.widgets.saveWidgetDashboard)==null?"":t)+'</h5>\n<div class="preloader">\n    <i class="material-icons loader-animation">refresh</i>\n</div>\n<div data-js-dashboard-items class="select-dashboard-items hide"></div>\n<div data-js-auto-created class="select-dashboard-auto hide">'+((t=e.text.dashboard.autoCreated)==null?"":t)+"</div>\n",n},this.JST["tpl-modal-add-widget-select-widget"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="widget-select-header" data-js-select-widget-header>\n    <h1 class="caption">'+r(e.text.widgets.selectWidget)+'</h1>\n</div>\n<div class="widget-list">\n    ',_.each(e.widgets,function(e,i){n+="\n    ",e.notShowOnWizard||(n+='\n    <label>\n        <input class="rp-input-radio" type="radio" name="widget-type" value="'+r(i)+'">\n        <span>'+((t=e.gadget_name)==null?"":t)+"</span>\n    </label>\n    "),n+="\n    "}),n+="\n</div>\n",n},this.JST["tpl-modal-add-widget"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.widgets.addNewWidget}))==null?"":t)+'\n<div class="modal-body">\n   <div class="info-block">\n       <ul>\n           <li data-js-step-1-title><span>1</span><span>'+r(e.text.widgets.selectType)+"</span></li>\n           <li data-js-step-2-title><span>2</span><span>"+r(e.text.widgets.configureWidget)+"</span></li>\n           <li data-js-step-3-title><span>3</span><span>"+r(e.text.ui.save)+'</span></li>\n       </ul>\n       <div class="preview-block">\n           <h2 data-js-widget-type></h2>\n           <p data-js-widget-description></p>\n           <div class="widget-preview" data-js-widget-preview></div>\n       </div>\n       '+((t=e.includeTemplate("tpl-modal-footer-warning"))==null?"":t)+'\n   </div>\n    <div class="action-block">\n        <div data-js-step-1>\n            <div class="buttons-block"></div>\n        </div>\n        <div data-js-step-2></div>\n        <div data-js-step-3></div>\n    </div>\n    <div class="buttons-block rp-nav-right">\n        <a class="rp-btn rp-btn-default rp-button-with-icon rp-btn-icon-reverse" data-js-next-second-step>\n            <i class="material-icons">keyboard_arrow_right</i>\n            <span class="rp-btn-val">'+r(e.text.dashboard.nextStep)+'</span>\n        </a>\n        <a class="rp-btn rp-btn-default rp-button-with-icon" data-js-previous-first-step>\n            <i class="material-icons">keyboard_arrow_left</i>\n            <span class="rp-btn-val">'+r(e.text.dashboard.previousStep)+'</span>\n        </a>\n        <a class="rp-btn rp-btn-default rp-button-with-icon rp-btn-icon-reverse" data-js-next-last-step>\n            <i class="material-icons">keyboard_arrow_right</i>\n            <span class="rp-btn-val">'+r(e.text.dashboard.nextStep)+'</span>\n        </a>\n        <a class="rp-btn rp-btn-default rp-button-with-icon" data-js-previous-second-step>\n            <i class="material-icons">keyboard_arrow_left</i>\n            <span class="rp-btn-val">'+r(e.text.dashboard.previousStep)+'</span>\n        </a>\n        <a class="rp-btn rp-btn-submit rp-btn-add" data-js-add-widget>\n            <span>'+r(e.text.ui.add)+"</span>\n        </a>\n    </div>\n</div>\n",n},this.JST["tpl-modal-edit-widget"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.widgets.editWidget}))==null?"":t)+'\n<div class="modal-body">\n    <div class="info-block">\n        <div class="preview-block">\n            <h2 data-js-widget-type></h2>\n            <p data-js-widget-description></p>\n            <div class="widget-preview" data-js-widget-preview></div>\n        </div>\n        '+((t=e.includeTemplate("tpl-modal-footer-warning"))==null?"":t)+'\n    </div>\n    <div class="action-block">\n        <div class="settings-block">\n            <div class="clearfix" data-js-widget-settings></div>\n            <div class="separate"></div>\n            <div class="widget-save-form" data-js-widget-save></div>\n        </div>\n    </div>\n    <div class="buttons-block rp-nav-right">\n        <button class="rp-btn rp-btn-cancel" data-js-cancel>'+r(e.text.ui.cancel)+'</button>\n        <button class="rp-btn rp-btn-submit" data-js-save>'+r(e.text.ui.save)+"</button>\n    </div>\n</div>\n",n},this.JST["tpl-modal-add-widget-setting-filter-search-add"]=function(e){var t,n="",r=_.escape;return n+='<div class="filter-edit-header">\n    <h1 class="caption">'+r(e.text.filter.addNew)+'</h1>\n</div>\n<div class="label-wrapper rp-form">\n    <label>\n        <span>'+((t=e.text.filter.filterName)==null?"":t)+'</span>\n        <input class="rp-input form-control" placeholder="'+((t=e.text.filter.namePlaceholder)==null?"":t)+'" type="text" data-js-name-input>\n        <span class="validate-hint"></span>\n    </label>\n</div>\n\n<div class="edit-block clearfix">\n    <div class="entities-container clearfix" data-js-entities-container></div>\n    <div class="sorting-wrapper">\n        <span>'+r(e.text.ui.sortBy)+':</span>&nbsp;&nbsp;<span data-js-filter-sorting></span>\n    </div>\n\n    <div class="rp-nav-right">\n        <button class="rp-btn rp-btn-cancel" data-js-cancel-edit>'+((t=e.text.ui.cancel)==null?"":t)+'</button>\n        <button class="rp-btn rp-btn-submit rp-btn-add" data-js-ok-edit>'+((t=e.text.ui.add)==null?"":t)+"</button>\n    </div>\n</div>\n\n",n},this.JST["tpl-modal-add-widget-setting-filter-search-edit"]=function(e){var t,n="",r=_.escape;return n+='<div class="filter-edit-header">\n    <h1>'+r(e.text.filter.edit)+'</h1>\n</div>\n<label class="filter-name-label">\n    <input class="rp-input-radio" type="radio" checked="checked" disabled="disabled">\n    <span data-js-filter-name></span>\n</label>\n<div class="edit-block clearfix">\n    <div class="entities-container clearfix" data-js-entities-container></div>\n    <div class="sorting-wrapper">\n        <span>'+r(e.text.ui.sortBy)+':</span>&nbsp;&nbsp;<span data-js-filter-sorting></span>\n    </div>\n\n    <div class="rp-nav-right">\n        <button class="rp-btn rp-btn-cancel" data-js-cancel-edit>'+((t=e.text.ui.cancel)==null?"":t)+'</button>\n        <button class="rp-btn rp-btn-submit" data-js-ok-edit>'+((t=e.text.ui.submit)==null?"":t)+"</button>\n    </div>\n</div>\n\n",n},this.JST["tpl-modal-add-widget-setting-filter-search-item"]=function(e){var t,n="",r=_.escape;return n+='<label>\n    <input class="rp-input-radio" type="radio" data-js-filter-select>\n    <span data-js-filter-info>\n        <span class="filter-name" data-js-filter-name></span>&nbsp;<i class="material-icons" title="'+r(e.text.filters.sharedDescription)+'" data-js-filter-shared>share</i>&nbsp;<i class="material-icons" data-js-filter-not-my>public</i>\n        <span class="filter-options"><span data-js-filter-options></span>&nbsp;<i class="material-icons" data-js-filter-edit>edit</i></span>\n    </span>\n    <span class="filter-not-found hide" data-js-no-filter>\n        <span class="filter-name">'+((t=e.text.widgets.selectedFilterNotFound)==null?"":t)+"</span>\n    </span>\n</label>\n",n},this.JST["tpl-modal-add-widget-setting-filter-search"]=function(e){var t,n="",r=_.escape;return n+='<div class="filter-search-header clearfix">\n    <div class="input-filter form-group">\n        <input type="text" class="rp-input-search favorites-name-filter rp-input-sm form-control" data-js-filter-name-search name="userFilter" placeholder="'+r(e.text.wizard.searchFilterByNAme)+'" value="">\n        <i class="material-icons">search</i>\n        <div class="validate-hint">\n        </div>\n    </div>\n    <a href="#" class="rp-btn rp-btn-default rp-button-with-icon" data-js-add-filter>\n        <i class="rp-icons rp-icons-add-filter"></i>\n        <span class="rp-btn-val">'+r(e.text.dashboard.addFilter)+'</span>\n    </a>\n</div>\n<div class="select-filter-wrapper empty-state" data-js-select-filter-block>\n    <span class="title">'+r(e.text.widgets.chooseFilter)+'</span>\n    <div data-js-select-filter-container></div>\n</div>\n<div class="filter-list-wrapper">\n    <div class="filter-list" data-js-filter-list-scroll>\n        <div data-js-filter-list></div>\n        <div class="preloader">\n            <i class="material-icons loader-animation">refresh</i>\n        </div>\n        <div data-js-filter-empty class="filter-no-data">\n            <p class="no-data-warning">\n                <i class="rp-icons rp-icons-warning"></i>\n                '+((t=e.text.wizard.ownFiltersAbsent)==null?"":t)+' "<span data-js-search-query></span>"\n            </p>\n            <p>'+((t=e.text.ui.checkQuery)==null?"":t)+'</p>\n        </div>\n        <div data-js-filter-none  class="filter-no-data" >\n            <p class="no-data-warning">\n                <i class="rp-icons rp-icons-warning"></i>\n                '+((t=e.text.wizard.projectFiltersAbsent)==null?"":t)+"\n            </p>\n            <p>"+((t=e.text.ui.addFirstFilter)==null?"":t)+'</p>\n        </div>\n    </div>\n    <div class="filter-list-buttons rp-nav-right" data-js-filter-list-buttons>\n        <button class="rp-btn rp-btn-cancel" data-js-cancel-filter>'+r(e.text.ui.cancel)+'</button>\n        <button class="rp-btn rp-btn-submit" data-js-submit-filter>'+r(e.text.ui.submit)+"</button>\n    </div>\n</div>\n\n<div data-js-filter-edit-container></div>\n<div data-js-filter-add-container></div>\n",n},this.JST["tpl-modal-add-widget-setting-filter-selected"]=function(e){var t,n="",r=_.escape;return n+='<div class="preloader">\n    <i class="material-icons loader-animation">refresh</i>\n</div>\n<div data-js-filter-info></div>\n<i class="material-icons filter-edit" data-js-filter-edit>edit</i>',n},this.JST["tpl-modal-add-widget-setting-filters"]=function(e){var t,n="",r=_.escape;return n+="<div data-js-setting-filters-container></div>\n",n},this.JST["tpl-modal-add-widget-setting-custom-column"]=function(e){var t,n="",r=_.escape;return n+="<span>"+((t=e.text.widgets.customColumn)==null?"":t)+' <span data-js-number></span></span>\n<div class="form-group first-input">\n    <input class="rp-input" data-js-name-input placeholder="'+((t=e.text.widgets.columnName)==null?"":t)+'">\n    <div class="validate-hint"></div>\n</div>\n<div class="form-group">\n    <input class="rp-input" data-js-value-input placeholder="'+((t=e.text.widgets.tagPattern)==null?"":t)+'">\n    <div class="validate-hint"></div>\n</div>\n<span class="remove-item">\n    <i class="material-icons" data-js-remove>clear</i>\n</span>\n',n},this.JST["tpl-modal-add-widget-setting-custom-columns"]=function(e){var t,n="",r=_.escape;return n+='<div class="items-container" data-js-items-container></div>\n<div class="description">'+((t=e.text.widgets.customColumnDiscl)==null?"":t)+'</div>\n<div class="add-item">\n    <span data-js-add-item>'+((t=e.text.widgets.addCustomColumn)==null?"":t)+"</span>\n</div>\n\n",n},this.JST["tpl-modal-add-widget-setting-checkbox"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<label class="rp-checkbox-wrap">\n    <input class="rp-input-checkbox" type="checkbox" data-js-checkbox-item>\n    <span data-js-label-name></span>\n    ',e.beta&&(n+='\n        <span class="beta-badge">'+((t=e.text.project.beta)==null?"":t)+"</span>\n    "),n+="\n</label>\n",n},this.JST["tpl-modal-add-widget-setting-drop-down"]=function(e){var t,n="",r=_.escape;return n+='<span data-js-label-name></span>\n<div class="dropdown-container" data-js-drop-down-container></div>\n',n},this.JST["tpl-modal-add-widget-setting-input-items"]=function(e){var t,n="",r=_.escape;return n+='<span data-js-label-name></span>\n<div class="input-wrapper rp-field" data-js-input-wrapper>\n    <input data-js-label-input>\n    <div class="validate-hint" data-js-validate-hint></div>\n</div>\n',n},this.JST["tpl-modal-add-widget-setting-input"]=function(e){var t,n="",r=_.escape;return n+='<div class="form-group input-wrapper">\n    <span>'+r(e.name)+'</span>\n    <input class="rp-input" type="text" data-js-input>\n    <div class="validate-hint"></div>\n</div>\n<div class="input-description" data-js-description></div>\n',n},this.JST["tpl-modal-import-launch"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.dialogHeader.importLaunch}))==null?"":t)+'\n\n<div class="modal-body">\n    <div class="drop-area dropzone" data-js-drop-area>\n        <i class="material-icons icon">file_upload</i>\n    </div>\n    <div class="note-block">\n        <span> '+((t=e.text.ui.note)==null?"":t)+"</span>\n        <span> "+((t=e.text.dialog.msgImportLaunch)==null?"":t)+"</span>\n    </div>\n</div>\n"+((t=e.includeTemplate("_tpl-modal-footer",e.footerButtons))==null?"":t)+"\n",n},this.JST["tpl-modal-add-project"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.admin.addProject}))==null?"":t)+'\n<div class="modal-body">\n    <h4>'+((t=e.text.admin.addNewProject)==null?"":t)+'</h4>\n    <div class="fields">\n        <form class="rp-form">\n            <label>\n                <span class="required">'+((t=e.text.admin.projectName)==null?"":t)+'</span>\n                <input type="text" class="rp-input" data-js-project-name>\n                <span class="validate-hint"></span>\n            </label>\n        </form>\n    </div>\n</div>\n'+((t=e.includeTemplate("_tpl-modal-footer",e.footerButtons))==null?"":t)+"\n",n},this.JST["tpl-modal-add-user"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.members.addMember}))==null?"":t)+'\n<div class="modal-body">\n    <div class="rp-add-user-form">\n        <h4>'+((t=e.text.members.addMemberToProject)==null?"":t)+'</h4>\n        <div class="rp-form" data-js-add-user>\n            <label>\n                <span class="add-user-label required">'+((t=e.text.forms.login)==null?"":t)+'</span>\n                <input data-js-user-login type="text" value="" class="rp-input add-user-field">\n                <span class="validate-hint"></span>\n            </label>\n            <label>\n                <span class="add-user-label required">'+((t=e.text.forms.fullName)==null?"":t)+'</span>\n                <input data-js-user-full-name type="text" value="" class="rp-input add-user-field">\n                <span class="validate-hint"></span>\n            </label>\n            <label>\n                <span class="add-user-label required">'+((t=e.text.forms.email)==null?"":t)+'</span>\n                <input data-js-user-email type="text" value="" class="rp-input add-user-field">\n                <span class="validate-hint"></span>\n            </label>\n            ',e.isUsers&&(n+='\n            <label>\n                <span class="add-user-label required">'+((t=e.text.forms.accountRole)==null?"":t)+'</span>\n                <div class="rp-input add-user-field" data-js-accout-role-dropdown></div>\n                <span class="validate-hint"></span>\n            </label>\n            <label>\n                <span class="add-user-label required">'+((t=e.text.forms.selectProject)==null?"":t)+'</span>\n                <input data-js-user-project type="text" value="" class="rp-input add-user-field">\n                <span class="validate-hint"></span>\n            </label>\n            '),n+='\n            <label>\n                <span class="add-user-label required">'+((t=e.text.forms.projectRole)==null?"":t)+'</span>\n                <div class="rp-input add-user-field" data-js-project-role-dropdown></div>\n                <span class="validate-hint"></span>\n            </label>\n            <label class="password-field">\n                <span class="add-user-label required">'+((t=e.text.forms.password)==null?"":t)+'</span>\n                <input data-js-user-password type="text" value="" class="rp-input add-user-field">\n                <span class="validate-hint"></span>\n            </label>\n            <div class="to-gen-pass">\n                <a data-js-generate-password href="#" class="rp-blue-link-undrl rp-link" id="generate_password">\n                    '+((t=e.text.forms.genPassword)==null?"":t)+"\n                </a>\n            </div>\n        </div>\n    </div>\n</div>\n"+((t=e.includeTemplate("_tpl-modal-footer",e.footerButtons))==null?"":t)+"\n",n},this.JST["tpl-modal-analyse-launches"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.dialogHeader.analyseLaunches}))==null?"":t)+'\n<div class="modal-body">\n    <span class="strategy-title">\n        '+((t=e.text.dialog.analyseLaunchesLabel)==null?"":t)+'\n    </span>\n    <div class="strategy-options" data-js-strategy-options>\n        <label class="strategy-option">\n            <input class="rp-input-radio" type="radio" name="aa-strategy" value="ALL">\n            <span>\n                '+((t=e.text.project.autoAnalysisBaseFirstOpt)==null?"":t)+'\n            </span>\n        </label>\n        <label class="strategy-option">\n            <input class="rp-input-radio" type="radio" name="aa-strategy" value="LAUNCH_NAME">\n            <span>\n                '+((t=e.text.project.autoAnalysisBaseSecondOpt)==null?"":t)+'\n            </span>\n        </label>\n        <label class="strategy-option">\n            <input class="rp-input-radio" type="radio" name="aa-strategy" value="CURRENT_LAUNCH">\n            <span>\n                '+((t=e.text.project.autoAnalysisBaseThirdOpt)==null?"":t)+'\n            </span>\n        </label>\n    </div>\n    <span class="strategy-title">\n        '+((t=e.text.dialog.analyseLaunchesLabel1)==null?"":t)+'\n    </span>\n    <div class="strategy-options" data-js-extended-strategy-options>\n        <label class="rp-checkbox-wrap strategy-option">\n            <input class="rp-input-checkbox" type="checkbox" value="TO_INVESTIGATE">\n            <span>'+((t=e.text.project.autoAnalysisBaseFourthOpt)==null?"":t)+'</span>\n        </label>\n        <label class="rp-checkbox-wrap strategy-option">\n            <input class="rp-input-checkbox" type="checkbox" value="AUTO_ANALYZED">\n            <span>'+((t=e.text.project.autoAnalysisBaseFifthOpt)==null?"":t)+'</span>\n        </label>\n        <label class="rp-checkbox-wrap strategy-option">\n            <input class="rp-input-checkbox" type="checkbox" value="MANUALLY_ANALYZED">\n            <span>'+((t=e.text.project.autoAnalysisBaseSixthOpt)==null?"":t)+"</span>\n        </label>\n    </div>\n</div>\n"+((t=e.includeTemplate("_tpl-modal-footer",e.footerButtons))==null?"":t)+"\n",n},this.JST["tpl-modal-change-password"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.dialogHeader.changePassword}))==null?"":t)+'\n<div class="modal-body">\n    <div class="rp-change-password-from" data-js-change-password>\n        <div class="rp-form-group">\n            <label class="rp-control-label col-sm-3 col-xs-12">'+((t=e.text.userProfile.oldPass)==null?"":t)+'</label>\n            <div class="col-sm-7 col-xs-12">\n                <input data-js-origin-password class="form-control rp-input-default" type="password"\n                       placeholder="'+((t=e.text.userProfile.enterOldPass)==null?"":t)+'"\n                       value="">\n                <div class="help-inline">'+((t=e.text.validation.originalPassRegex)==null?"":t)+'</div>\n            </div>\n        </div>\n        <div data-js-confirm-group>\n            <div class="rp-form-group">\n                <label class="rp-control-label col-sm-3 col-xs-12">'+((t=e.text.userProfile.newPass)==null?"":t)+'</label>\n                <div class="col-sm-7 col-xs-12">\n                    <input data-js-new-password class="form-control rp-input-default" type="password"\n                           placeholder="'+((t=e.text.userProfile.enterNewPass)==null?"":t)+'"\n                           value="">\n                </div>\n            </div>\n            <div class="rp-form-group">\n                <label class="rp-control-label col-sm-3 col-xs-12">'+((t=e.text.userProfile.confirmPass)==null?"":t)+'</label>\n                <div class="col-sm-7 col-xs-12">\n                    <input data-js-confirm-password class="form-control rp-input-default confirm" type="password"\n                           placeholder="'+((t=e.text.userProfile.confirmNewPass)==null?"":t)+'"\n                           value="">\n                    <div class="help-inline"></div>\n                    <div class="show-password">\n                        <label class="rp-checkbox-wrap">\n                            <input data-js-show-password class="rp-input-checkbox" type="checkbox">\n                            <span>'+((t=e.text.login.showPassword)==null?"":t)+"</span>\n                        </label>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"+((t=e.includeTemplate("_tpl-modal-footer",e.footerButtons))==null?"":t)+"\n\n\n\n",n},this.JST["tpl-modal-confirm"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.headerText}))==null?"":t)+'\n<div class="modal-body">\n    <p>'+((t=e.bodyText)==null?"":t)+"</p>\n    ",e.noteText&&(n+='\n        <div class="note-block">\n            <p class="note-title">'+((t=e.text.ui.note)==null?"":t)+':</p>\n            <p class="note-text">'+((t=e.noteText)==null?"":t)+"</p>\n        </div>\n    "),n+="\n</div>\n"+((t=e.includeTemplate("_tpl-modal-footer",e.footerButtons))==null?"":t)+"\n",n},this.JST["tpl-modal-defect-editor"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.dialogHeader.titleEditDefectType}))==null?"":t)+'\n<div class="modal-body">\n    <div class="inline-editor pr-defect-editor">\n        <div class="container-fluid rp-form-group">\n            <label class="rp-control-label rp-defect-type-label" for="selectDefectType">'+((t=e.text.dialog.defectType)==null?"":t)+'</label>\n            <div class="btn-group rp-defect-type-btn-group">\n                ';var o=e.isMultipleEdit?null:e.getDefectType(e.item);return n+='\n                <button id="selectDefectType" data-toggle="dropdown" class="btn rp-defect-type-dropdown dropdown-toggle" value="">\n                    <span style="',o||(n+="display:none;"),n+='" data-js-issue-title title="'+((t=o?o.longName:"")==null?"":t)+'" class="pr-defect-type-badge">\n                        <i data-js-issue-color style="background: '+((t=o?o.color:"")==null?"":t)+'"></i>\n                        <span data-js-issue-name>'+((t=o?o.longName:"")==null?"":t)+'</span>\n                    </span>\n                    <span data-js-noissue-name class="no-issue-name"\n                          style="',o&&(n+="display:none;"),n+='">'+((t=e.text.dialog.choseDefectType)==null?"":t)+'</span>\n                    <span class="caret"></span>\n                </button>\n                <ul class="dropdown-menu rp-defects-menu">\n                    ',_.each(e.defectsGroup,function(i,s){n+="\n                    ";var o=s==0?"12":"3",u=s==0?"12":"6";n+="\n                    ";var a=s==1?"visible-md visible-lg":"",f=s%2==0?"":"visible-sm";n+="\n                    ",s>0&&(n+='\n                    <li role="separator" class="divider '+((t=a)==null?"":t)+'"></li>\n                    <li role="separator" class="divider '+((t=f)==null?"":t)+'"></li>\n                    <li role="separator" class="divider visible-xs-block"></li>\n                    '),n+='\n                    <li class="col-md-'+((t=o)==null?"":t)+" col-sm-"+((t=u)==null?"":t)+' col-xs-12">\n                        ',_.each(e.subDefects[i],function(i){n+="\n                        ";var s=!e.isMultipleEdit&&i.locator==e.getIssueType(e.item)?!0:!1;n+='\n                        <div class="rp-defect-row">\n                            <label title="'+r(i.longName)+'" class="'+((t=s?"selected":"")==null?"":t)+'"\n                                   data-js-select-issue data-locator="'+((t=i.locator)==null?"":t)+'">\n                                <i style="background: '+r(i.color)+'"></i>'+r(i.longName.setMaxLength(20))+"\n                            </label>\n                        </div>\n                        "}),n+="\n                    </li>\n                    "}),n+='\n                </ul>\n            </div>\n            <div class="ignore-aa-switcher-container" data-js-ignore-aa-switcher-container></div>\n        </div>\n        <div class="text-editor" data-js-issue-comment></div>\n        <div class="rp-defect-editor-bottom">\n            ',e.isMultipleEdit&&(n+='\n            <label class="rp-checkbox-wrap replace-comments">\n                <input class="rp-input-checkbox" type="checkbox"  data-js-replace-comment>\n                <span>'+((t=e.text.launches.replaceComments)==null?"":t)+"</span>\n            </label>\n            "),n+='\n            <div class="hot-keys-wrapper">\n                <span class="hot-keys">'+((t=e.text.ui.escToCancel)==null?"":t)+'</span>\n                <span class="hot-keys">'+((t=e.text.ui.ctrlEnterToSubmit)==null?"":t)+'</span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="modal-footer">\n    <div class="footer-buttons">\n        <button class="rp-btn rp-btn-cancel" type="button" data-js-cancel>'+r(e.text.ui.cancel)+'</button>\n        <div class="dropdown-button">\n            <button class="rp-btn rp-btn-submit" type="button" data-js-save >'+r(e.text.ui.save)+'</button>\n            <button class=" rp-btn rp-button-dropdown" data-toggle="dropdown" data-js-dropdown>\n                <i class="material-icons">keyboard_arrow_down</i>\n            </button>\n            <ul class="dropdown-menu" data-js-dropdown-menu>\n                <li data-js-save-post-wrapper>\n                    <a data-js-save-post> '+r(e.text.modalDefectEditor.saveAndPost)+"</a>\n                </li>\n                <li data-js-save-load-wrapper>\n                    <a data-js-save-load>"+r(e.text.modalDefectEditor.saveAndLoad)+"</a>\n                </li>\n                <li data-js-save-load-wrapper>\n                    <a data-js-save-unlink>"+r(e.text.modalDefectEditor.saveAndUnlink)+"</a>\n                </li>\n            </ul>\n        </div>\n    </div>\n    "+((t=e.includeTemplate("tpl-modal-footer-warning"))==null?"":t)+"\n</div>\n",n},this.JST["tpl-modal-edit-dashboard"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.mode=="save"?e.text.dialogHeader.addDashboard:e.text.dialogHeader.editDashboard}))==null?"":t)+'\n<div class="modal-body">\n    <form class="rp-form">\n        <label>\n            <span>'+((t=e.text.ui.name)==null?"":t)+'</span>\n            <input class="rp-input" placeholder="'+((t=e.text.dashboard.namePlaceholder)==null?"":t)+'" type="text"\n                   data-js-name-input>\n            <span class="validate-hint"></span>\n        </label>\n        <label>\n            <span>'+((t=e.text.ui.description)==null?"":t)+'</span>\n            <textarea class="rp-input" placeholder="'+((t=e.text.dashboard.descriptionPlaceholder)==null?"":t)+'" data-js-description></textarea>\n        </label>\n        <div class="rp-field">\n            <span>'+((t=e.text.filter.share)==null?"":t)+'</span>\n            <label class="rp-switcher-big">\n                <span class="turn-on">'+((t=e.text.ui.on)==null?"":t)+'</span>\n                <span class="turn-off">'+((t=e.text.ui.off)==null?"":t)+'</span>\n                <input type="checkbox" data-js-is-shared>\n                <div class="slider"></div>\n            </label>\n        </div>\n    </form>\n\n\n</div>\n</div>\n'+((t=e.includeTemplate("_tpl-modal-footer",e.footerButtons))==null?"":t)+"\n\n\n\n\n",n},this.JST["tpl-modal-edit-user-info"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.dialogHeader.editUserInfo}))==null?"":t)+'\n<div class="modal-body">\n    <div class="rp-edit-user-info">\n        <div class="rp-form">\n            <label>\n                <span>'+((t=e.text.userProfile.userName)==null?"":t)+'</span>\n                <input data-js-full-name class="rp-input" type="text"\n                       placeholder="'+((t=e.text.userProfile.enter)==null?"":t)+" "+((t=e.text.userProfile.userName)==null?"":t)+'">\n                <span class="validate-hint"></span>\n            </label>\n            <label>\n                <span>'+((t=e.text.userProfile.email)==null?"":t)+'</span>\n                <input data-js-user-email class="rp-input" type="text"\n                       placeholder="'+((t=e.text.userProfile.enter)==null?"":t)+" "+((t=e.text.userProfile.email)==null?"":t)+'">\n                <span class="validate-hint"></span>\n            </label>\n        </div>\n    </div>\n</div>\n'+((t=e.includeTemplate("_tpl-modal-footer",e.footerButtons))==null?"":t)+"\n\n\n\n",n},this.JST["tpl-modal-filter-edit"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.mode=="save"?e.text.dialog.addFilter:e.text.dialog.editFilter}))==null?"":t)+'\n\n<div class="modal-body">\n    <label class="name-label modal-field form-group">\n        <span class="field-title">'+((t=e.text.filter.name)==null?"":t)+'</span>\n        <input class="rp-input form-control" placeholder="'+((t=e.text.filter.namePlaceholder)==null?"":t)+'" type="text" data-js-name-input>\n        <span class="validate-hint"></span>\n    </label>\n\n    <label class="description-label modal-field">\n        <div data-js-markdown-container></div>\n    </label>\n    <label class="share-label modal-field form-group">\n        <span class="field-title">'+((t=e.text.filter.share)==null?"":t)+'</span>\n        <label class="rp-switcher-big">\n            <span class="turn-on">'+((t=e.text.ui.on)==null?"":t)+'</span>\n            <span class="turn-off">'+((t=e.text.ui.off)==null?"":t)+'</span>\n            <input type="checkbox" data-js-is-shared>\n            <div class="slider"></div>\n        </label>\n    </label>\n</div>\n\n</div>\n'+((t=e.includeTemplate("_tpl-modal-footer",e.footerButtons))==null?"":t)+"\n\n\n\n\n",n},this.JST["tpl-modal-footer-warning"]=function(e){var t,n="",r=_.escape;return n+='<div class="warning-block" data-js-warning>\n    <div class="warning-block-content">\n        <i class="rp-icons rp-icons-warning"></i>\n        <p data-js-warning-text></p>\n    </div>\n</div>\n',n},this.JST["tpl-modal-force-update"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.userProfile.msgRegenMid}))==null?"":t)+'\n<div class="modal-body">\n    <p class="warning">\n        '+((t=e.text.userProfile.updateUserDataFrom)==null?"":t)+" <span data-js-type></span>:\n        "+((t=e.msg)==null?"":t)+"\n    </p>\n    <p>"+((t=e.text.ui.reloginToApply)==null?"":t)+'</p>\n</div>\n<div class="modal-footer">\n    <button class="rp-btn rp-btn-submit" type="button" data-js-ok>\n        '+((t=e.text.ui.relogin)==null?"":t)+"\n    </button>\n</div>",n},this.JST["tpl-modal-invite-member"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.members.inviteMember}))==null?"":t)+'\n\n<div class="modal-body">\n    <h4>'+((t=e.text.admin.inviteNewUser)==null?"":t)+'</h4>\n\n    <form data-js-invite-form class="rp-form invite-member-form">\n        <label>\n            <span>'+((t=e.text.forms.loginOrEmail)==null?"":t)+'</span>\n            <input class="form-field" data-js-member name="member" type="text" value="">\n        </label>\n        <label>\n            <span>'+((t=e.text.forms.projectRole)==null?"":t)+'</span>\n            <div class="form-field" data-js-role-selector></div>\n        </label>\n    </form>\n\n    <form class="rp-form success-form" data-js-success-form>\n        <label>\n            <span>'+((t=e.text.members.invitationSent)==null?"":t)+'</span>\n            <div class="invite-sent-email" data-js-email-sent></div>\n        </label>\n        <label>\n            <span>'+((t=e.text.forms.linkInvitation)==null?"":t)+'</span>\n            <input class="rp-input" data-js-invite-link name="link" type="text" readonly>\n            <a href="" class="copy-invite-link" data-js-copy-link>'+((t=e.text.forms.copyLink)==null?"":t)+"</a>\n        </label>\n    </form>\n</div>\n"+((t=e.includeTemplate("_tpl-modal-footer",e.footerButtons))==null?"":t)+"\n",n},this.JST["tpl-modal-invite-user"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.members.inviteMember}))==null?"":t)+'\n\n<div class="modal-body">\n    <h4>'+((t=e.text.admin.inviteNewUser)==null?"":t)+'</h4>\n\n    <form autocomplete="off" class="rp-form invite-user-form" data-js-invite-user-form>\n        <label>\n            <span>'+((t=e.text.forms.email)==null?"":t)+'</span>\n            <input class="rp-input" data-js-email name="email" type="text"\n                   placeholder="'+((t=e.text.members.enterEmail)==null?"":t)+'">\n            <span class="validate-hint"></span>\n        </label>\n        <label>\n            <span>'+((t=e.text.forms.selectProject)==null?"":t)+'</span>\n            <input class="rp-input" data-js-user-project name="project" type="text">\n            <span class="validate-hint"></span>\n        </label>\n        <label>\n            <span>'+((t=e.text.forms.projectRole)==null?"":t)+'</span>\n            <div class="role-selector" data-js-role-selector></div>\n        </label>\n    </form>\n\n    <form class="rp-form success-form" data-js-success-form>\n        <label>\n            <span>'+((t=e.text.members.invitationSent)==null?"":t)+'</span>\n            <div class="invite-sent-email" data-js-email-sent></div>\n        </label>\n        <label>\n            <span>'+((t=e.text.forms.linkInvitation)==null?"":t)+'</span>\n            <input class="rp-input" data-js-invite-link name="link" type="text" readonly>\n            <a href="" class="copy-invite-link" data-js-copy-link>'+((t=e.text.forms.copyLink)==null?"":t)+"</a>\n        </label>\n    </form>\n</div>\n"+((t=e.includeTemplate("_tpl-modal-footer",e.footerButtons))==null?"":t)+"\n",n},this.JST["tpl-modal-launch-edit"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.isEditLaunch?e.text.dialog.launchEditor:e.text.dialog.itemEditor;return n+="\n"+((t=e.includeTemplate("_tpl-modal-header",{headerText:o}))==null?"":t)+'\n<div class="modal-body">\n    <h4>'+((t=e.isEditLaunch?e.text.dialog.launchDetails:e.text.dialog.testItemDetails)==null?"":t)+'</h4>\n    <h2 data-js-launch-name></h2>\n    <div class="fields" data-js-edit>\n        <label class="form-group">\n            <span>'+((t=e.text.forms.tags)==null?"":t)+'</span>\n            <div class="tags-wrapper">\n                <input class="rp-input" type="text" placeholder="'+((t=e.text.dialog.launchTagPlaceholder)==null?"":t)+'" data-js-tags>\n            </div>\n        </label>\n        <label class="form-group">\n            <div data-js-markdown-container></div>\n        </label>\n    </div>\n</div>\n'+((t=e.includeTemplate("_tpl-modal-footer",e.footerButtons))==null?"":t)+"\n",n},this.JST["tpl-modal-launches-compare"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.launches.compareLaunches}))==null?"":t)+'\n<div class="modal-body">\n    <div class="preloader">\n        <i class="material-icons loader-animation">refresh</i>\n    </div>\n    <div class="widget-content" data-js-widget-content></div>\n</div>\n<div class="modal-footer">\n    <button class="rp-btn rp-btn-cancel" type="button" data-js-cancel>\n        '+((t=e.text.ui.cancel)==null?"":t)+"\n    </button>\n</div>",n},this.JST["tpl-modal-launches-merge"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.launches.mergeLaunches}))==null?"":t)+'\n<div class="modal-body">\n    <h4>'+((t=e.text.launches.mergeLaunchesSelectTypeTitle)==null?"":t)+'</h4>\n    <div class="select-type-wrapper">\n        <div class="type-buttons">\n            <label>\n                <input name="select-type" type="radio" value="BASIC" data-js-select-type-input>\n                <span>'+((t=e.text.launches.linearMerge)==null?"":t)+'</span>\n            </label>\n            <label>\n                <input name="select-type" type="radio" value="DEEP" data-js-select-type-input>\n                <span>'+((t=e.text.launches.deepMerge)==null?"":t)+'</span>\n            </label>\n        </div>\n        <div class="current-type" data-js-current-type></div>\n    </div>\n    <div class="on-disable-block">\n        <h4>'+((t=e.text.launches.mergeLaunchesModalTitle)==null?"":t)+'</h4>\n        <div class="fields" >\n            <div class="rp-form">\n                <label>\n                    <span>'+((t=e.text.launches.launchName)==null?"":t)+'</span>\n                    <input data-js-merge-name class="rp-input" type="text" value="'+r(e.name)+'">\n                    <span class="validate-hint"></span>\n                </label>\n                <label>\n                    <span>'+((t=e.text.forms.owner)==null?"":t)+'</span>\n                    <input class="rp-input" type="text" value="'+r(e.owner)+'" disabled="disabled">\n                    <span class="validate-hint"></span>\n                </label>\n                <label>\n                    <span>'+((t=e.text.forms.description)==null?"":t)+'</span>\n                    <textarea class="rp-input" rows="3" data-js-description>'+((t=e.description)==null?"":t)+'</textarea>\n                    <span class="validate-hint"></span>\n                </label>\n                <label>\n                    <span>'+((t=e.text.forms.tags)==null?"":t)+'</span>\n                    <input class="rp-input" type="text" data-warning="'+((t=e.text.ui.enterChars)==null?"":t)+'"\n                           placeholder="" value="'+((t=e.tags.join(","))==null?"":t)+'" data-js-merge-tags>\n                    <span class="validate-hint"></span>\n                </label>\n                <label>\n                    <span>'+((t=e.text.forms.startTimeEndTime)==null?"":t)+'</span>\n                    <input class="rp-input half-width" type="text" value="'+r(e.dateFormat(e.startTime))+'" disabled="disabled">\n                    <span class="time-separator">/</span>\n                    <input class="rp-input half-width" type="text" value="'+r(e.dateFormat(e.endTime))+'" disabled="disabled">\n                </label>\n                <div class="rp-field">\n                    <span></span>\n                    <label class="rp-checkbox-wrap">\n                        <input class="rp-input-checkbox" type="checkbox" data-js-extend-checkbox name="extendWithOriginal">\n                        <span>'+((t=e.text.launches.extendWithOriginal)==null?"":t)+"</span>\n                    </label>\n                </div>\n\n            </div>\n\n        </div>\n    </div>\n</div>\n"+((t=e.includeTemplate("_tpl-modal-footer",e.footerButtons))==null?"":t)+"\n",n},this.JST["tpl-modal-load-bug"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.launches.linkIssue,isBeta:true}))==null?"":t)+'\n<div class="modal-body">\n    <h4>'+((t=e.text.launches.addIssueId)==null?"":t)+'</h4>\n\n    <div class="load-items-container">\n        ',e.externalSystems.length>1&&(n+='\n        <label class="bts-label">\n            <span>'+((t=e.text.forms.projectNameIn)==null?"":t)+'</span>\n            <div data-js-bts-selector class="bts-selector"></div>\n        </label>\n        '),n+='\n        <div data-js-load-items-container class="items-container"></div>\n    </div>\n    <div class="rp-btn rp-btn-default rp-button-with-icon add-button" title="'+((t=e.text.bts.addNewIssues)==null?"":t)+'" data-js-add-ticket>\n        <i class="material-icons">add</i>\n        <span class="rp-btn-val">'+((t=e.text.bts.addNewIssue)==null?"":t)+"</span>\n    </div>\n</div>\n"+((t=e.includeTemplate("_tpl-modal-footer",e.footerButtons))==null?"":t)+"\n",n},this.JST["tpl-modal-log-attachment-binary-har"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.dialogHeader.logAttachment}))==null?"":t)+'\n<div class="modal-body" data-js-load-file>\n    <div class="preloader">\n        <i class="material-icons loader-animation">refresh</i>\n    </div>\n    <div class="binary-holder" data-js-binary-holder></div>\n    <div class="error-block" data-js-error-block>\n        <p>'+((t=e.link)==null?"":t)+'</p>\n    </div>\n</div>\n<div class="modal-footer">\n    <button class="rp-btn rp-btn-cancel" type="button" data-js-cancel>\n        '+((t=e.text.ui.close)==null?"":t)+"\n    </button>\n</div>\n\n",n},this.JST["tpl-modal-log-attachment-binary"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.dialogHeader.logAttachment}))==null?"":t)+'\n<div class="modal-body">\n    <div class="preloader">\n        <i class="material-icons loader-animation">refresh</i>\n    </div>\n    <div class="binary-holder" data-js-binary-holder></div>\n</div>\n<div class="modal-footer">\n    <button class="rp-btn rp-btn-cancel" type="button" data-js-cancel>\n        '+((t=e.text.ui.close)==null?"":t)+"\n    </button>\n</div>\n\n",n},this.JST["tpl-modal-log-attachment-image"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.dialogHeader.logAttachment}))==null?"":t)+'\n<div class="modal-body">\n    <div class="preloader">\n        <i class="material-icons loader-animation">refresh</i>\n    </div>\n    <div class="image-holder" data-js-image-block>\n        <div class="image-cell">\n            <img src='+((t=e.imageSrc)==null?"":t)+' alt="" data-js-image>\n        </div>\n    </div>\n</div>\n<div class="modal-footer">\n    <div class="image-rotate" data-js-rotate>\n        <i class="material-icons">rotate_90_degrees_ccw</i>\n        <span>Rotate</span>\n    </div>\n    <button class="rp-btn rp-btn-cancel" type="button" data-js-cancel>\n        '+((t=e.text.ui.close)==null?"":t)+"\n    </button>\n</div>\n",n},this.JST["tpl-modal-permissions-map"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.project.permissionsMap}))==null?"":t)+'\n<div class="modal-body">\n    <div class="rp-permissions-map">\n        <table class="permissions-map-table">\n            <thead>\n            <tr>\n                <th rowspan="2">'+((t=e.text.permissionMap.actionRole)==null?"":t)+'</th>\n                <th rowspan="2">'+((t=e.text.ui.admin)==null?"":t)+'</th>\n                <th rowspan="2" class="roles-th">'+((t=e.text.ui.manager)==null?"":t)+'</th>\n                <th colspan="2" class="roles-th">'+((t=e.text.ui.member)==null?"":t)+'</th>\n                <th rowspan="2" class="roles-th">'+((t=e.text.ui.operator)==null?"":t)+'</th>\n                <th colspan="2" class="roles-th">'+((t=e.text.ui.customer)==null?"":t)+'</th>\n            </tr>\n            <tr>\n                <th class="roles-th">'+((t=e.text.permissionMap.owner)==null?"":t)+'</th>\n                <th class="roles-th">'+((t=e.text.permissionMap.notOwner)==null?"":t)+'</th>\n                <th class="roles-th">'+((t=e.text.permissionMap.owner)==null?"":t)+'</th>\n                <th class="roles-th">'+((t=e.text.permissionMap.notOwner)==null?"":t)+"</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr>\n                <td>"+((t=e.text.permissionMap.accessToManagementSystem)==null?"":t)+'</td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>'+((t=e.text.permissionMap.createProject)==null?"":t)+'</td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>'+((t=e.text.permissionMap.deleteProject)==null?"":t)+'</td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>'+((t=e.text.permissionMap.updateSettings)==null?"":t)+'</td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>'+((t=e.text.permissionMap.seeSettings)==null?"":t)+'</td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission"><i class="rp-icons rp-icons-check"></i></td>\n                <td class="has-permission"><i class="rp-icons rp-icons-check"></i></td>\n                <td class="has-permission"><i class="rp-icons rp-icons-check"></i></td>\n                <td class="has-permission"><i class="rp-icons rp-icons-check"></i></td>\n            </tr>\n            <tr>\n                <td>\n                    '+((t=e.text.ui.create)==null?"":t)+"\n                    "+((t=e.text.permissionMap.internal)==null?"":t)+"\n                    "+((t=e.text.permissionMap.user)==null?"":t)+'\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>\n                    '+((t=e.text.admin.invite)==null?"":t)+"\n                    "+((t=e.text.permissionMap.internal)==null?"":t)+"\n                    "+((t=e.text.permissionMap.user)==null?"":t)+'\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <div class="check-attention">\n                        <i class="rp-icons rp-icons-check"></i>\n                    </div>\n                </td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>\n                    '+((t=e.text.permissionMap.unSlashAssign)==null?"":t)+"\n                    "+((t=e.text.permissionMap.internal)==null?"":t)+"\n                    "+((t=e.text.permissionMap.userToFrom)==null?"":t)+'\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <div class="check-attention">\n                        <i class="rp-icons rp-icons-check"></i>\n                    </div>\n                </td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>'+((t=e.text.permissionMap.changeUserRole)==null?"":t)+'</td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <div class="check-attention">\n                        <i class="rp-icons rp-icons-check"></i>\n                    </div>\n                </td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>\n                    '+((t=e.text.ui.del)==null?"":t)+"\n                    "+((t=e.text.permissionMap.internal)==null?"":t)+"\n                    "+((t=e.text.permissionMap.user)==null?"":t)+'\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>'+((t=e.text.permissionMap.seeMembers)==null?"":t)+'</td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td></td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>\n                    '+((t=e.text.permissionMap.editOwnAccount1)==null?"":t)+'\n                    <span class="attention">*</span>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n            </tr>\n            <tr>\n                <td>'+((t=e.text.permissionMap.deleteLaunch)==null?"":t)+'</td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td></td>\n                <td></td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>'+((t=e.text.permissionMap.forceFinishLaunch)==null?"":t)+'</td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td></td>\n                <td></td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>'+((t=e.text.permissionMap.startAnalysis)==null?"":t)+'</td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n            </tr>\n            <tr>\n                <td>'+((t=e.text.permissionMap.deleteTestItem)==null?"":t)+'</td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td></td>\n                <td></td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>'+((t=e.text.permissionMap.moveToDebug)==null?"":t)+'</td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>'+((t=e.text.permissionMap.mergeLaunches)==null?"":t)+'</td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td></td>\n                <td></td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td></td>\n            </tr>\n            <tr>\n                <td>'+((t=e.text.permissionMap.workWithFiltersEtc)==null?"":t)+'</td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n            </tr>\n            <tr>\n                <td>'+((t=e.text.permissionMap.readData)==null?"":t)+'</td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n                <td class="has-permission">\n                    <i class="rp-icons rp-icons-check"></i>\n                </td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class="permission-attention">\n        <span class="attention">*</span>\n        <span>'+((t=e.text.permissionMap.oneAttention)==null?"":t)+"</span>\n    </div>\n</div>\n",n},this.JST["tpl-modal-post-bug"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.launches.postIssue,isBeta:true}))==null?"":t)+'\n<div class="modal-body">\n    ',e.systems.length>1&&(n+='\n\n            <div class="rp-form-group project-selector-field">\n                <label class="rp-control-label rp-custom-col obligatory-field"\n                    for="targetProject">\n                    '+((t=e.text.bts.projectNameIn)==null?"":t)+'\n                    <span class="text-uppercase">'+((t=e.source)==null?"":t)+'</span>\n                </label>\n                    <div data-js-project-selector class="project-selector"></div>\n                    <div class="p-top-10 label-post-to">\n                        '+((t=e.text.launches.willBePostedTo)==null?"":t)+'\n                        <span id="postToUrl">'+((t=e.systems[0].url)==null?"":t)+"</span>\n                    </div>\n\n            </div>\n\n    "),n+='\n    <div id="dynamicContent" class="bts-fields" data-js-dynamic></div>\n    <div id="requiredFields" class="required-fields-error">\n        <div class="rp-form-group">\n            <div class="help-inline rp-display-block">\n                '+((t=e.text.launches.fillAllRequired)==null?"":t)+'\n            </div>\n        </div>\n    </div>\n\n    <div id="staticContent" class="static-content">\n        ',e.isMultiply||(n+='\n        <div class="rp-form-group include-data" id="includesBlock">\n            <div class="rp-form-title">\n                <span>'+((t=e.text.launches.includeData)==null?"":t)+'</span>\n            </div>\n            <div class="rp-form-group">\n                <div class="switch-field">\n                    <label class="rp-control-label m-bottom-10">\n                        '+((t=e.text.launches.includeAttachments)==null?"":t)+'\n                    </label>\n                    <label class="rp-switcher-big" id="include_data">\n                        <span class="turn-on">'+((t=e.text.ui.on)==null?"":t)+'</span>\n                        <span class="turn-off">'+((t=e.text.ui.off)==null?"":t)+'</span>\n                        <input type="checkbox" data-js-is-included>\n                        <div class="slider"></div>\n                    </label>\n                </div>\n                <div class="switch-field">\n                    <label class="rp-control-label m-bottom-10">\n                        '+((t=e.text.launches.includeLogs)==null?"":t)+'\n                    </label>\n                    <label class="rp-switcher-big" id="include_logs">\n                        <span class="turn-on">'+((t=e.text.ui.on)==null?"":t)+'</span>\n                        <span class="turn-off">'+((t=e.text.ui.off)==null?"":t)+'</span>\n                        <input type="checkbox" data-js-is-included>\n                        <div class="slider"></div>\n                    </label>\n                </div>\n                <div class="switch-field">\n                    <label class="rp-control-label m-bottom-10">\n                        '+((t=e.text.launches.includeComments)==null?"":t)+'\n                    </label>\n                    <label class="rp-switcher-big" id="include_comments">\n                        <span class="turn-on">'+((t=e.text.ui.on)==null?"":t)+'</span>\n                        <span class="turn-off">'+((t=e.text.ui.off)==null?"":t)+'</span>\n                        <input type="checkbox" data-js-is-included>\n                        <div class="slider"></div>\n                    </label>\n                </div>\n            </div>\n        </div>\n        '),n+='\n        <div class="rp-form-group panel-group credentials-section" id="accordion" role="tablist"\n             aria-multiselectable="true">\n            <div class="rp-form-title" role="tab">\n                <a data-toggle="collapse" id="credentialsLink"\n                    class="'+((t=e.collapse?"collapsed":"")==null?"":t)+'"\n                    data-parent="#accordion"\n                    href="#collapseCredentials"\n                    aria-expanded="true"\n                    aria-controls="collapseOne">\n                    '+((t=e.text.launches[e.source+"Credentials"])==null?"":t)+'\n                </a>\n            </div>\n            <div class="clearfix"></div>\n            <div id="collapseCredentials"\n                class="panel-collapse collapse '+((t=e.collapse?"":"in")==null?"":t)+'"\n                role="tabpanel"\n                aria-labelledby="headingOne">\n                <div class="rp-form-group auth-type-selector">\n                    <label class="rp-control-label rp-custom-col">\n                        '+((t=e.text.bts.authorizationType)==null?"":t)+'\n                    </label>\n                    <div class="rp-custom-col dropdown">\n                        <div data-js-auth-selector class="auth-selector"></div>\n                    </div>\n                </div>\n                <div id="authorizationType" class="credentials"></div>\n                ',e.showCredentialsSoft&&e.source!="jira"&&(n+='\n                    <div id="credentialsSoft">\n                            '+((t=e.source==="tfs"?e.text.launches.credentialsSoftTfs:e.text.launches.credentialsSoft)==null?"":t)+"\n                    </div>\n                "),n+='\n            </div>\n        </div>\n        <div class="rp-form-group rp-display-block credentials-error-block">\n            <div class="help-inline rp-display-block">\n                <div id="credentialsWrong" class="credentials-wrong"\n                    data-credentials="'+((t=e.text.bts.errorCredentials)==null?"":t)+'"\n                    data-fields="'+((t=e.text.launches.problemInteracting)==null?"":t)+'"\n                    data-general="'+((t=e.text.launches.problemGeneral)==null?"":t)+'"\n                    data-fill="'+((t=e.text.launches.fillAllRequired)==null?"":t)+'">\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'+((t=e.includeTemplate("_tpl-modal-footer",e.footerButtons))==null?"":t)+"\n",n},this.JST["tpl-modal-regenerate-uuid"]=function(e){var t,n="",r=_.escape;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.dialogHeader.regenerateUUID}))==null?"":t)+'\n<div class="modal-body">\n    <p class="warning">\n        <strong>'+((t=e.text.userProfile.msgRegenMid)==null?"":t)+"</strong>\n    </p>\n    <p>"+((t=e.text.userProfile.msgRegenFoot)==null?"":t)+'.</p>\n\n</div>\n<div class="modal-footer">\n    <button class="rp-btn rp-btn-cancel" type="button" data-js-cancel>\n        '+((t=e.text.ui.cancel)==null?"":t)+'\n    </button>\n    <button class="rp-btn rp-btn-submit" type="button" data-js-ok>\n        '+((t=e.text.ui.ok)==null?"":t)+"\n    </button>\n</div>",n},this.JST["tpl-modal-step-item-details"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+=((t=e.includeTemplate("_tpl-modal-header",{headerText:e.text.dialogHeader.testItemsDetails}))==null?"":t)+'\n<div class="modal-body">\n    <p class="item-name" data-js-item-name></p>\n    <div class="item-info">\n        <label class="item-label">'+((t=e.text.dialog.testUID)==null?"":t)+'<span data-js-uid></span></label>\n    </div>\n    <div class="item-info">\n        <label class="item-label item-duration">'+((t=e.text.dialog.testDuration)==null?"":t)+'<span data-js-duration></span></label>\n        <label class="item-label item-tags" data-js-tags-container>'+((t=e.text.dialog.testTags)==null?"":t)+'<span data-js-tags></span></label>\n    </div>\n    <div class="item-info">\n        <div data-js-parametres-container>\n            <label class="item-label item-paremetres" data-js-parametres-label>'+((t=e.text.dialog.testParametres)==null?"":t)+"</label>\n            <div data-js-parametres>\n                <table>\n                    <tr>\n                        <th>"+((t=e.text.dialog.key)==null?"":t)+"</th>\n                        ",_.each(e.params,function(e){n+="\n                        <td>"+((t=e.key)==null?"":t)+"</td>\n                        "}),n+="\n                    </tr>\n                    <tr>\n                        <th>"+((t=e.text.dialog.value)==null?"":t)+"</th>\n                        ",_.each(e.params,function(e){n+="\n                        <td><p>"+((t=e.value)==null?"":t)+"</p></td>\n                        "}),n+='\n                    </tr>\n                </table>\n            </div>\n        </div>\n    </div>\n    <div class="item-info item-description" data-js-description-container>\n        <label class="item-label ">'+((t=e.text.dialog.testDescription)==null?"":t)+'</label>\n        <div data-js-description></div>\n        <div class="accordion-block">\n            <i class="material-icons" data-js-toggle-open-description>keyboard_arrow_down</i>\n            <i class="material-icons little" data-js-toggle-open-description>keyboard_arrow_up</i>\n        </div>\n    </div>\n    <div class="item-info item-stack-trace" data-js-stack-trace-container>\n        <label class="item-label item-description">'+((t=e.text.dialog.testStacktrace)==null?"":t)+'</label>\n        <div class="preloader activity-preloader">\n            <i class="material-icons loader-animation">refresh</i>\n        </div>\n        <div class="stack-trace-message" data-js-stack-trace></div>\n        <div class="accordion-block">\n            <i class="material-icons" data-js-toggle-open-stacktrace>keyboard_arrow_down</i>\n            <i class="material-icons little" data-js-toggle-open-stacktrace>keyboard_arrow_up</i>\n        </div>\n    </div>\n</div>\n'+((t=e.includeTemplate("_tpl-modal-footer",e.footerButtons))==null?"":t)+"\n\n",n},this.JST["tpl-model-load-bug-item"]=function(e){var t,n="",r=_.escape;return n+='<label class="link-label form-group">\n    <span class="row-title">'+((t=e.text.bts.linkToIssue)==null?"":t)+'</span>\n    <input class="rp-input form-control" type="text" placeholder="'+((t=e.text.launches.issueLink)==null?"":t)+'" data-js-link-input>\n    <span class="validate-hint"></span>\n</label>\n<label class="issue-label form-group">\n    <span class="row-title">'+((t=e.text.bts.issueId)==null?"":t)+'</span>\n    <input class="rp-input form-control" type="text" placeholder="'+((t=e.text.launches.issueId)==null?"":t)+'" data-js-issue-input>\n    <span class="validate-hint"></span>\n</label>\n<span class="remove-row" data-js-remove-row>\n    <i class="material-icons">clear</i>\n</span>\n',n},this.JST["tpl-bts-auth-type"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.access?"":'disabled="disabled"';return n+="\n",e.systemAuth==="BASIC"||e.systemAuth==="NTLM"?(n+='\n<div id="basicBlock">\n    <div class="rp-form-group">\n        <label class="rp-control-label obligatory-field" for="username">\n            '+((t=e.text.bts.userName)==null?"":t)+'\n        </label>\n        <input type="text" class="rp-input-default form-control bts-property required-value" id="username"\n               value="'+r(e.username||"")+'" '+((t=o)==null?"":t)+' />\n        <span class="help-inline"></span>\n    </div>\n    <div class="rp-form-group">\n        <label class="rp-control-label obligatory-field" for="password">\n            '+((t=e.text.bts.password)==null?"":t)+'\n        </label>\n        <input type="password" class="rp-input-default form-control bts-property required-value" id="password" '+((t=o)==null?"":t)+'\n        value="'+r(e.hasPassword?e.defaultPassword:"")+'" />\n        <span class="help-inline"></span>\n    </div>\n    ',e.systemAuth==="NTLM"&&(n+='\n    <div class="rp-form-group">\n        <label class="rp-control-label obligatory-field" for="domain">\n            '+((t=e.text.bts.domain)==null?"":t)+'\n        </label>\n        <input type="text" class="rp-input-default bts-property" id="domain"\n               value="'+r(e.domain||"")+'" '+((t=o)==null?"":t)+' />\n        <span class="help-inline"></span>\n    </div>\n    '),n+="\n</div>\n"):e.systemAuth==="APIKEY"?n+='\n<div id="accessKeyBlock" class="access-key-block">\n    <div class="rp-form-group">\n        <label class="rp-control-label obligatory-field" for="accessKey">\n            '+((t=e.text.bts.apiKey)==null?"":t)+'\n        </label>\n        <textarea type="text" class="rp-input-default bts-property" id="accessKey" '+((t=o)==null?"":t)+" >"+r(e.accessKey||"")+'</textarea>\n        <span class="help-inline"></span>\n    </div>\n</div>\n':n+='\n<div id="oauthBlock">\n    <div class="rp-form-group">\n        <label class="rp-control-label obligatory-field" for="accessKey">\n            '+((t=e.text.bts.oAuthToken)==null?"":t)+'\n        </label>\n        <input type="text" class="rp-input-default bts-property" id="accessKey" '+((t=o)==null?"":t)+'\n        placeholder="xxxxxxxxx-xxxxxxxxx-xxxxxxx" value="'+r(e.accessKey||"")+'" />\n        <span class="help-inline"></span>\n    </div>\n</div>\n',n+="\n",n},this.JST["tpl-bts-instance"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.access?"":'disabled="disabled"';return n+='\n<div id="btsBlock" class="bts-block">\n    <div id="propertiesWrapper" class="bts-properties">\n        <div class="rp-form-group clearfix">\n            <label class="rp-control-label obligatory-field" for="url">\n                '+((t=e.text.bts.linkTo)==null?"":t)+'\n            </label>\n            <input class="rp-input-default bts-property" id="url"\n                   value="'+r(e.url||"")+'" '+((t=o)==null?"":t)+'>\n            <span class="help-inline"></span>\n            ',e.access&&(n+='\n            <div class="bts-properties-controls">\n                <a href="javascript:void(0);"\n                   class="edit-item"\n                   id="editBtsProperties"\n                   alt="'+((t=e.text.ui.edit)==null?"":t)+'"\n                   title="'+((t=e.text.ui.edit)==null?"":t)+'">\n                    <i class="material-icons">edit</i>\n                </a>\n                <a href="javascript:void(0);"\n                   class="delete-item"\n                   id="deleteInstance"\n                   alt="'+((t=e.text.bts.removeProject)==null?"":t)+'"\n                   title="'+((t=e.text.bts.removeProject)==null?"":t)+'">\n                    <i class="rp-icons rp-icons-cancel"></i>\n                </a>\n            </div>\n            '),n+='\n        </div>\n        <div class="rp-form-group clearfix">\n            <label class="rp-control-label obligatory-field" for="project">\n                '+((t=e.text.bts[e.projectType])==null?"":t)+'\n            </label>\n            <input class="rp-input-default form-control rp-width-100 bts-property" id="project"\n                   value="'+r(e.project||"")+'" '+((t=o)==null?"":t)+' />\n            <span class="help-inline"></span>\n        </div>\n        <div class="rp-form-group clearfix">\n            <label class="rp-control-label">\n                '+((t=e.text.bts.authorizationType)==null?"":t)+'\n            </label>\n            <div class="bts-property" data-js-auth-type-selector></div>\n        </div>\n        <div id="authorizationType" class="credentials clearfix"></div>\n    </div>\n    <div class="clearfix">\n        <div class="btn-controls rp-form-group">\n            <div class="reset-fields-warning" id="resetFieldsWarning">\n                <div class="err-hint">'+((t=e.text.bts.fieldsReset)==null?"":t)+'</div>\n            </div>\n        </div>\n    </div>\n    <div class="rp-form-group clearfix">\n        <div class="submit-properties" id="submitPropertiesBlock">\n            <button class="rp-btn rp-btn-submit float-right rp-btn-indent-left"\n            '+((t=o)==null?"":t)+'\n            id="submitBtsProperties">\n            '+((t=e.text.ui.submit)==null?"":t)+'\n            </button>\n            <button class="cancel-bts-properties rp-btn rp-btn-cancel float-right rp-btn-indent-left"\n            '+((t=o)==null?"":t)+'\n            id="cancelBtsProperties">\n            '+((t=e.text.ui.cancel)==null?"":t)+'\n            </button>\n        </div>\n    </div>\n    <div id="externalError" class="external-error alert alert-danger"\n         data-casual="'+((t=e.text.bts.errorInteracting)==null?"":t)+'"\n         data-noproject="'+((t=e.text.bts.projectNotFound)==null?"":t)+'"></div>\n    <div class="fields-loader" data-js-issue-type-loader>\n        <div class="loader">\n            <i class="material-icons loader-animation">autorenew</i>\n        </div>\n    </div>\n    <div id="fieldsWrapper" class="bts-fields-wrapper" data-js-bts-fields-wrapper>\n        <div class="rp-form-group clearfix"><!--DO NOT REMOVE--></div>\n        <div class="rp-form-group clearfix title-block-wrapper edit-title">\n            <h4 class="common-title">'+((t=e.text.bts.selectType)==null?"":t)+'</h4>\n        </div>\n        <div class="rp-form-group clearfix title-block-wrapper not-edit-title">\n            <h4 class="common-title">'+((t=e.text.bts.defaultProperties)==null?"":t)+'</h4>\n        </div>\n        <div class="rp-form-group clearfix group-title-block">\n            <div class="inputs-caption">\n                <span class="title-block">'+((t=e.text.bts.defaultValue)==null?"":t)+'</span>\n            </div>\n            <div class="checkboxes-caption">\n                <span class="title-block">'+((t=e.text.bts.showFields)==null?"":t)+'</span>\n            </div>\n        </div>\n\n        <div class="bts-fields edit-field">\n            <div class="rp-form-group">\n                <label class="bts-field-label rp-control-label obligatory-field custom-style-1">Issue Type</label>\n                <div class="bts-field-input custom-style-1">\n                    <div data-js-issue-type-select></div>\n                </div>\n                <div class="bts-field-checkbox">\n                    <label class="rp-checkbox-wrap">\n                        <input type="checkbox" class="rp-input-checkbox form-control default-selector" data-type="issuetype" checked disabled="">\n                        <span class="span-empty"></span>\n                    </label>\n                </div>\n\n            </div>\n        </div>\n\n\n        <div class="rp-form-group clearfix title-block-wrapper edit-title">\n            <h4 class="common-title">'+((t=e.text.bts.defaultProperties)==null?"":t)+'</h4>\n        </div>\n        <div id="fieldsLoader" class="fields-loader">\n            <div class="loader">\n                <i class="material-icons loader-animation">autorenew</i>\n            </div>\n        </div>\n        <div id="dynamicFields" class="bts-fields"></div>\n        <div class="rp-form-group clearfix btn-controls fields-controls">\n            <button class="rp-btn rp-btn-submit float-right rp-btn-indent-left"\n            '+((t=o)==null?"":t)+' id="submitFields">\n            '+((t=e.text.ui.submit)==null?"":t)+'\n            </button>\n            <button class="rp-btn rp-btn-cancel float-right rp-btn-indent-left"\n            '+((t=o)==null?"":t)+' id="updateFields">\n            '+((t=e.text.ui.update)==null?"":t)+'\n            </button>\n            <button class="cancel-fields rp-btn rp-btn-cancel float-right rp-btn-indent-left"\n            '+((t=o)==null?"":t)+' id="cancelFields">\n            '+((t=e.text.ui.cancel)==null?"":t)+'\n            </button>\n        </div>\n    </div>\n\n    <div class="mobile-disabling-cover"></div>\n</div>\n',n},this.JST["tpl-bts-multi-selector"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="bts-instance-wrapper">\n    <ul role="tablist" class="nav-tabs-bts-instances clearfix">\n        <li class="bts-instance-title">\n                    <span>\n                        '+((t=e.text.bts.btsInstances)==null?"":t)+"\n                    </span>\n        </li>\n        ",_.forEach(e.systems,function(r,i){n+='\n        <li class="bts-name-project '+((t=i===e.index?"active":"")==null?"":t)+'">\n            <a class="tab bts-instance" data-index="'+((t=i)==null?"":t)+'" id="'+((t=r.id||"")==null?"":t)+'" href="#">\n                '+((t=r.project)==null?"":t)+"\n            </a>\n        </li>\n        "}),n+="\n        ",e.systems.length||(n+='\n        <li class="bts-name-project active">\n            <a class="tab bts-instance">'+((t=e.text.project.newProject)==null?"":t)+"</a>\n        </li>\n        "),n+='\n        <li class="bts-name-project bts-name-new-project '+((t=!e.systems.length||!e.access?"disabled":"")==null?"":t)+'">\n            <a class="tab bts-instance close-add">\n                '+((t=e.text.project.newProject)==null?"":t)+'\n                <span class="close-add-action">\n                            <i class="material-icons">clear</i>\n                        </span>\n            </a>\n        </li>\n        <li class="bts-instance-action '+((t=!e.systems.length||!e.access?"disabled":"")==null?"":t)+'">\n            <a href="#" class="tab bts-instance add-new rp-link rp-link-with-icon">\n                <i class="material-icons">add</i>\n                <span>'+((t=e.text.bts.btsAddNewInstance)==null?"":t)+"</span>\n            </a>\n        </li>\n    </ul>\n</div>\n",n},this.JST["tpl-bts-wrapper"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.access?"":'disabled="disabled"';return n+='\n<div class="bts-general-settings">\n    <div class="rp-form-group bts-selector">\n        <label class="rp-control-label">\n            '+((t=e.text.project.bts)==null?"":t)+'\n        </label>\n        <div class="rp-btn-group" data-js-bts-switcher></div>\n        <span class="no-bts-found hide" data-js-no-bts-message>'+r(e.text.bts.btsNotFound)+'</span>\n    </div>\n    <div class="rp-form-group tbs-change-warning-block">\n        <div id="tbsChangeWarning" class="bts-change-warning rp-help-block rp-text-danger">\n            '+((t=e.text.bts.tbsChangeWarning)==null?"":t)+'\n        </div>\n    </div>\n    <div class="mobile-disabling-cover"></div>\n</div>\n<div id="btsInstance" class="bts-instance-container">\n    <div id="instanceHead" class="clearfix instance-head"></div>\n    <div id="instanceBody" class="clearfix instance-body"></div>\n</div>\n',n},this.JST["tpl-defect-subType"]=function(e){var t,n="",r=_.escape;return n+='<div class="dt-body-item dt-row"  id=\''+((t=e.id)==null?"":t)+"' data-defect-type=\""+((t=e.type)==null?"":t)+'"></div>',n},this.JST["tpl-defect-type-item-edit"]=function(e){var t,n="",r=_.escape;return n+='<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">\n    <input type="text"\n        class="rp-input rp-input-long-name"\n        data-type="longName"\n        placeholder="'+((t=e.text.project.inputValLongName)==null?"":t)+'"\n        value="'+r(e.longName)+'" />\n</div>\n<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">\n    <input type="text"\n        class="rp-input rp-input-short-name"\n        data-type="shortName"\n        placeholder="'+((t=e.text.project.inputValShortName)==null?"":t)+'"\n        value="'+r(e.shortName)+'" />\n</div>\n<div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 holder-color-picker"></div>\n<div class="col-xs-5 col-sm-5 col-md-5 col-lg-5 edit-panel">\n    <a href="#" class="save-item">\n        <i class="rp-icons rp-icons-ok"></i>\n    </a>\n    <a href="#" class="cancel-item">\n        <i class="rp-icons rp-icons-cancel"></i>\n    </a>\n</div>\n',n},this.JST["tpl-defect-type-item"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="col-xs-7 col-sm-4 col-md-4 col-lg-4" data-type="longName">\n    <div class="dt-full-name">\n        <label class="dt-tag-wrap" data-js-defect-type>\n            <span class="dt-tag-point" style="background-color: '+((t=e.model.color)==null?"":t)+';"></span>\n            <span class="dt-tag-name">'+((t=e.model.longName)==null?"":t)+'</span>\n            <div class="locator-tooltip-wrapper">\n                <div class="locator-tooltip-content">\n                    <span>'+r(e.text.ui.locator)+': </span>\n                    <span class="locator">'+((t=e.model.locator)==null?"":t)+'</span>\n                </div>\n            </div>\n        </label>\n    </div>\n</div>\n<div class="col-xs-3 col-sm-2 col-md-2 col-lg-2" data-type="shortName">\n    <div class="shortening-difect-id">\n        '+((t=e.model.shortName)==null?"":t)+'\n    </div>\n</div>\n<div class="col-xs-2 col-sm-1 col-md-1 col-lg-1" data-type="color">\n    <div class="dt-point-wrap">\n        <span class="dt-tag-point" style="background-color: '+((t=e.model.color)==null?"":t)+';"></span>\n    </div>\n</div>\n<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 dt-edit-cell">\n    ',!e.first&&e.edit&&(n+='\n        <a href="#" class="edit-item">\n            <i class="material-icons">edit</i>\n        </a>\n        <a href="#" class="delete-item">\n            <i class="rp-icons rp-icons-cancel"></i>\n        </a>\n    '),n+='\n</div>\n<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 dt-diagramm-cell">\n    ',e.first&&(n+='\n        <div class="chart-container" data-js-chart-container></div>\n    '),n+="\n</div>\n",n},this.JST["tpl-defect-type-main-view"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="rp-defect-types form-group">\n    <div class="dt-form-group-header">\n        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 title-defect-name">\n            <span>'+((t=e.text.project.nav.defectName)==null?"":t)+'</span>\n        </div>\n        <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 title-abbreviation">\n            <span>'+((t=e.text.project.nav.abbreviation)==null?"":t)+'</span>\n        </div>\n        <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">\n            <span>'+((t=e.text.project.nav.color)==null?"":t)+'</span>\n        </div>\n        <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 title-diagram">\n            <span>'+((t=e.text.project.nav.diagram)==null?"":t)+"</span>\n        </div>\n    </div>    <div class=\"dt-form-group-body\" id='types'>\n        ",_.each(e.order,function(r,i){r!=="text"&&(n+='                <div class="dt-content-item-title">\n                    ',r=="product_bug"&&(n+="\n                        <span>"+((t=e.text.project.titleGroup.titleProductBug)==null?"":t)+"</span>\n                    "),n+="                    ",r=="automation_bug"&&(n+="\n                        <span>"+((t=e.text.project.titleGroup.titleAutomationBug)==null?"":t)+"</span>\n                    "),n+="                    ",r=="system_issue"&&(n+="\n                        <span>"+((t=e.text.project.titleGroup.titleSystemIssue)==null?"":t)+"</span>\n                    "),n+="                    ",r=="no_defect"&&(n+="\n                        <span>"+((t=e.text.project.titleGroup.titleNoDefect)==null?"":t)+"</span>\n                    "),n+="                    ",r=="to_investigate"&&(n+="\n                        <span>"+((t=e.text.project.titleGroup.titleToInvestigate)==null?"":t)+"</span>\n                    "),n+='\n                </div>                <div class="dt-content-item-wrap" id="'+((t=r)==null?"":t)+'"></div>\n            ')}),n+='        <div id="chart" class="collection-colors">\n            <h4>'+((t=e.text.project.ExplChosenColors)==null?"":t)+'</h4>\n            <div class="colors-chart-container" data-js-colors-chart></div>\n        </div>        <div class="dt-form-group-footer">\n            ',e.edit&&(n+='\n                <a href="javascript:void(0);" id="reset-color" class="rp-link float-right" title="">'+((t=e.text.project.LinkResetToDefaultColors)==null?"":t)+"</a>\n            "),n+="\n        </div>\n    </div>\n</div>\n",n},this.JST["tpl-defect-type"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="controll-panel">\n    ',e.edit&&(n+='\n            <button type="button" class="rp-btn rp-btn-default rp-button-with-icon not-small add-item" data-add-item="'+((t=e.name)==null?"":t)+'">\n                <i class="material-icons">add</i>\n                <span class="rp-btn-val">'+((t=e.text.project.addSubType)==null?"":t)+'</span>\n            </button>\n            <p style="display: inline-block ',e.addLeft==0&&(n+="display:none"),n+='"><span>'+((t=e.addLeft)==null?"":t)+"</span>"+((t=e.text.project.canBeAdded)==null?"":t)+'</p>\n            <p style="display: inline-block ',e.addLeft>0&&(n+="display:none"),n+='"> '+((t=e.text.project.limitReached)==null?"":t)+"</p>\n    "),n+="\n</div>\n",n},this.JST["tpl-dynamic-fields"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.access?"":'disabled="disabled"';return n+="\n",_.forEach(e.collection,function(i){n+='\n        <div class="rp-form-group">\n            ';var s=i.required?"obligatory-field":"";n+='\n            <label\n                    class="bts-field-label rp-control-label '+((t=s)==null?"":t)+" "+((t=e.update?"custom-style-1":"custom-style-2")==null?"":t)+'" for="'+r(i.id)+'">\n                '+r(i.fieldName)+'\n            </label>\n            <div class="bts-field-input '+((t=e.update?"custom-style-1":"custom-style-2")==null?"":t)+'">\n                ';var u=e.disabled.indexOf(i.id)!==-1?'disabled="disabled"':"";n+="\n                ";if(i.definedValues&&i.definedValues.length){n+="\n                    ";if(i.fieldType==="array")n+='\n                            <div class="b-users-typeahead">\n                                <input class="rp-input-default rp-width-100 users-typeahead default-value" data-type="'+((t=i.fieldType)==null?"":t)+'" data-name="'+((t=i.fieldName)==null?"":t)+'" id="'+((t=i.id)==null?"":t)+'" value="'+((t=i.value?i.value.join(","):"")==null?"":t)+'" '+((t=o)==null?"":t)+">\n                            </div>\n                    ";else{n+="\n                        ";if(i.definedValues.length>10){n+="\n                            ";var a=i.value?i.value[0]:"";n+='\n                            <select id="'+r(i.id)+'" data-id="'+r(i.id.replaceAll(".",""))+'" class="to-100-width">\n                                <option value="">'+((t=e.text.ui.selectValue)==null?"":t)+"</option>\n                                ",_.forEach(i.definedValues,function(e){n+='\n                                    <option value="'+((t=e.valueId||e.valueName)==null?"":t)+'" '+((t=(e.valueId||e.valueName)===a?"selected":"")==null?"":t)+">"+((t=e.valueName)==null?"":t)+"</option>\n                                "}),n+="\n                            </select>\n                        "}else{n+="\n                        ";var f=i.value?i.value[0]:i.definedValues[0].valueName||"";n+='\n                        <div data-js-field-with-dropdown="'+r(i.id)+'"></div>\n                        '}n+="\n                    "}n+="\n                "}else n+="\n                    ",i.fieldType==="Html"?n+="\n                        <textarea "+((t=o)==null?"":t)+' class="form-control default-value '+((t=i.required?"required-value":"")==null?"":t)+'"\n                            data-name="'+((t=i.fieldName)==null?"":t)+'"\n                            data-type="'+((t=i.fieldType)==null?"":t)+'"\n                            id="'+r(i.id)+'" data-id="'+r(i.id.replaceAll(".",""))+'"\n                            '+((t=u)==null?"":t)+" >"+r(i.value?i.value[0]:"")+"</textarea>\n                    ":n+='\n                        <input type="text" '+((t=o)==null?"":t)+' class="rp-input-default rp-width-100 form-control default-value '+((t=i.required?"required-value":"")==null?"":t)+'"\n                                data-name="'+((t=i.fieldName)==null?"":t)+'"\n                                data-type="'+((t=i.fieldType)==null?"":t)+'"\n                               id="'+r(i.id)+'" data-id="'+r(i.id.replaceAll(".",""))+'" value="'+r(i.value?i.value[0]:"")+'" '+((t=u)==null?"":t)+" />\n                    ",n+='\n                    <span class="help-inline"></span>\n                ';n+="\n            </div>\n            ";if(e.update){n+='\n                <div class="bts-field-checkbox">\n                    <label class="rp-checkbox-wrap">\n                        ';var l=i.checked||i.required||e.editable?"checked=checked":"";n+="\n                        ";var c=i.required?"disabled":"";n+='\n                        <input type="checkbox" class="rp-input-checkbox form-control default-selector" data-type="'+((t=i.fieldType)==null?"":t)+'" '+((t=o)==null?"":t)+" "+((t=l)==null?"":t)+" "+((t=c)==null?"":t)+' />\n                        <span class="span-empty"></span>\n                    </label>\n                </div>\n            '}n+="\n        </div>\n"}),n+="\n",e.collection||(n+='\n    <div class="alert alert-warning custom-position">\n        '+((t=e.text.bts.configureFields)==null?"":t)+"\n    </div>\n"),n+="\n",n},this.JST["tpl-project-general-info"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="container-fluid general-info">\n    <div class="row">\n        <div class="col-sm-12">\n            <span class="data-number">'+((t=e.info.launchesQuantity)==null?"":t)+"</span>\n            ",e.info.launchesQuantity==1?n+='\n                <span class="data-text">'+((t=e.text.admin.launchesQuantitySingular)==null?"":t)+"</span>\n            ":n+='\n                <span class="data-text">'+((t=e.text.admin.launchesQuantity)==null?"":t)+"</span>\n            ",n+='\n        </div>\n        <div class="col-sm-12">\n            <span class="data-number">'+((t=e.info.launchesPerWeek)==null?"":t)+"</span>\n            ",e.info.launchesPerWeek==1?n+='\n                <span class="data-text">'+((t=e.text.admin.launchesAverageSingular)==null?"":t)+"</span>\n            ":n+='\n                <span class="data-text">'+((t=e.text.admin.launchesAverage)==null?"":t)+"</span>\n            ",n+='\n        </div>\n        <div class="col-sm-12">\n            <span class="data-number">'+((t=e.info.usersQuantity)==null?"":t)+"</span>\n            ",e.info.usersQuantity==1?n+='\n                <span class="data-text">'+((t=e.text.admin.usersQuantitySingular)==null?"":t)+"</span>\n            ":n+='\n                <span class="data-text">'+((t=e.text.admin.usersQuantity)==null?"":t)+"</span>\n            ",n+="\n        </div>\n        ",e.hasValidBtsSystem&&(n+='\n        <div class="col-sm-12">\n            <span class="data-number">'+((t=e.info.uniqueTickets)==null?"":t)+"</span>\n            ",e.info.uniqueTickets>1?n+='\n                <span class="data-text">'+((t=e.text.admin.uniqueBugs)==null?"":t)+"</span>\n            ":n+='\n                <span class="data-text">'+((t=e.text.admin.uniqueBugs)==null?"":t)+"</span>\n            ",n+="\n        </div>\n        "),n+="\n    </div>\n</div>",n},this.JST["tpl-project-launch-owners"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="col-sm-12 col-xs-12 project-content">\n    <!-- <table class="table table-striped"> -->\n    <div class="row">\n        <table class="table">\n            <!-- \n                <thead>\n                    <tr>\n                        <th colspan="2">'+((t=e.text.admin.memberName)==null?"":t)+"</th>\n                        <th>"+((t=e.text.admin.numberOfLaunches)==null?"":t)+"</th>\n                    </tr>\n                </thead>\n            -->\n            <tbody>\n                ",e.launchesPerUser&&e.launchesPerUser.length?(n+="\n                    ",_.forEach(e.launchesPerUser,function(e){n+="\n                        <tr>\n                            <td>"+((t=e.fullName)==null?"":t)+"</td>\n                            <td>"+((t=e.count)==null?"":t)+"</td>\n                        </tr>\n                    "}),n+="\n                "):n+='\n                    <tr>\n                        <td colspan="2">\n                            <h3 class="title-no-data text-center">\n                                <i class="rp-icons rp-icons-warning m-right-10"></i>\n                                <span class="warning">'+((t=e.text.admin.noLaunchesPerformed)==null?"":t)+"</span>\n                            </h3>\n                        </td>\n                    </tr>\n                ",n+="\n            </tbody>\n        </table>\n    </div>\n</div>\n",n},this.JST["tpl-project-settings-auto-analysis"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.access?"":'disabled="disabled"';return n+='\n\n<div class="rp-form-group">\n    <label class="aa-switcher-label rp-control-label rp-custom-col">\n        '+((t=e.text.project.autoAnalysis)==null?"":t)+'\n    </label>\n    <div class="aa-switcher rp-custom-col">\n        <label class="rp-switcher-big">\n            <span class="turn-on">'+((t=e.text.ui.on)==null?"":t)+'</span>\n            <span class="turn-off">'+((t=e.text.ui.off)==null?"":t)+'</span>\n            <input type="checkbox" data-js-is-auto-analyze>\n            <div class="slider"></div>\n        </label>\n    </div>\n    <div class=" rp-custom-col rp-text-description">\n        <div class="rp-help-block">'+((t=e.text.project.autoAnalysisOnOff)==null?"":t)+'</div>\n    </div>\n</div>\n<div class="rp-form-group" data-js-aa-base-block>\n    <label class="rp-control-label rp-custom-col">\n        '+((t=e.text.project.autoAnalysisBase)==null?"":t)+'\n    </label>\n    <div class="rp-custom-col">\n        <div class="aa-strategy-option">\n            <label class="aa-strategy-selector">\n                <input class="rp-input-radio" type="radio" name="aa-strategy" value="LAUNCH_NAME">\n                <span>'+((t=e.text.project.autoAnalysisBaseSecondOpt)==null?"":t)+'</span>\n            </label>\n            <span class="rp-help-block">'+((t=e.text.project.autoAnalysisBaseFirstTip)==null?"":t)+'</span>\n        </div>\n        <div class="aa-strategy-option">\n            <label class="aa-strategy-selector">\n                <input class="rp-input-radio" type="radio" name="aa-strategy" value="ALL">\n                <span>'+((t=e.text.project.autoAnalysisBaseFirstOpt)==null?"":t)+'</span>\n            </label>\n            <span class="rp-help-block">'+((t=e.text.project.autoAnalysisBaseSecondTip)==null?"":t)+'</span>\n        </div>\n    </div>\n</div>\n\n<div class="aa-mode-togler">\n    <div class="rp-form-group">\n        <label class="rp-control-label rp-custom-col">\n            '+((t=e.text.project.autoAnalysisMode)==null?"":t)+'\n        </label>\n        <div class="rp-custom-col" data-js-mode-switcher></div>\n    </div>\n    <div class="rp-form-group">\n        <label class="rp-control-label rp-custom-col">\n            '+((t=e.text.project.autoAnalysisMinShouldMatch)==null?"":t)+'\n        </label>\n        <div class="rp-custom-col rp-field">\n            <i class="percent-ic">%</i>\n            <input class="rp-input form-control"  type="text" data-js-match-input data-js-mode-param>\n            <span class="validate-hint"></span>\n        </div>\n        <div class="rp-custom-col rp-text-description">\n            <span class=" rp-help-block">'+((t=e.text.project.matchDescription)==null?"":t)+'</span>\n        </div>\n    </div>\n    <div class="rp-form-group">\n        <label class="rp-control-label rp-custom-col">\n            '+((t=e.text.project.autoAnalysisMinDocFreq)==null?"":t)+'\n        </label>\n        <div class="rp-custom-col rp-field">\n            <input class="rp-input form-control"  type="text" data-js-doc-freq-input data-js-mode-param>\n            <span class="validate-hint"></span>\n        </div>\n        <div class="rp-custom-col rp-text-description">\n            <span class="rp-help-block">'+((t=e.text.project.docFreqDescription)==null?"":t)+'</span>\n        </div>\n    </div>\n    <div class="rp-form-group">\n        <label class="rp-control-label rp-custom-col">\n            '+((t=e.text.project.autoAnalysisMinTermFreq)==null?"":t)+'\n        </label>\n        <div class="rp-custom-col rp-field">\n            <input class="rp-input form-control"  type="text" data-js-term-freq-input data-js-mode-param>\n            <span class="validate-hint"></span>\n        </div>\n        <div class="rp-custom-col rp-text-description">\n            <span class="rp-help-block">'+((t=e.text.project.termFreqDescription)==null?"":t)+'</span>\n        </div>\n    </div>\n    <div class="rp-form-group">\n        <label class="rp-control-label rp-custom-col">\n            '+((t=e.text.project.autoAnalysisNumberOfLog)==null?"":t)+'\n        </label>\n        <div class="rp-custom-col rp-field " data-js-numder-str-input></div>\n        <div class="rp-custom-col rp-text-description">\n            <span class="rp-help-block">'+((t=e.text.project.strNumberDescription)==null?"":t)+'</span>\n        </div>\n    </div>\n</div>\n<div class="rp-form-group rp-wrap-button">\n    <div class="submit-col rp-custom-col">\n        <button type="submit" class="rp-btn rp-btn-submit" data-js-submit-settings '+((t=o)==null?"":t)+">"+((t=e.text.ui.submit)==null?"":t)+'</button>\n    </div>\n</div>\n<div class="index-actions">\n    <div class="index-actions-title">\n        <p>'+((t=e.text.project.indexActions)==null?"":t)+'</p>\n    </div>\n    <div class="rp-form-group">\n        <div class="rp-custom-col index-action-description">\n            <p>'+((t=e.text.project.removeIndexDescription)==null?"":t)+'</p>\n        </div>\n        <div class="rp-custom-col">\n            <div class="rp-btn rp-btn-default" data-js-remove-index>\n                <span class="rp-btn-val">'+((t=e.text.project.removeIndex)==null?"":t)+'</span>\n            </div>\n        </div>\n    </div>\n    <div class="rp-form-group">\n        <div class="rp-custom-col index-action-description">\n            <p>'+((t=e.text.project.generateIndexDescription)==null?"":t)+'</p>\n        </div>\n        <div class="rp-custom-col">\n            <div class="rp-btn rp-btn-default" data-js-generate-index>\n                <span class="rp-btn-val">'+((t=e.text.project.generateIndex)==null?"":t)+'</span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="mobile-disabling-cover"></div>\n\n',n},this.JST["tpl-project-settings-demo-data"]=function(e){var t,n="",r=_.escape;return n+='<div class="rp-form-group demo-data-mobile-title">'+((t=e.text.project.generateDataMobile)==null?"":t)+'</div>\n<div class="rp-form-group demo-data-details">\n    <h4>'+((t=e.text.project.generateDemoDataTitle)==null?"":t)+"</h4>\n    <ul>\n        <li>"+((t=e.text.project.generateDemoDataLaunches)==null?"":t)+"</li>\n        <li>"+((t=e.text.project.generateDemoDataDashboard)==null?"":t)+"</li>\n        <li>"+((t=e.text.project.generateDemoDataFilter)==null?"":t)+'</li>\n    </ul>\n</div>\n<form class="rp-form">\n    <div class="demo-data-form" data-js-demo-data-form>\n        <label class="rp-field">\n            <span>'+((t=e.text.project.postfixLabel)==null?"":t)+'</span>\n            <input data-js-demo-data-postfix placeholder="'+((t=e.text.project.postfixPlaceHolder)==null?"":t)+'"\n                   name="postfix_name" value="" class="rp-input">\n            <span class="validate-hint"></span>\n        </label>\n    </div>\n    <div class="rp-form-group rp-wrap-button">\n        <button type="button" class="rp-btn rp-btn-submit" data-js-demo-data-submit>\n            '+((t=e.text.project.generateDemoData)==null?"":t)+'\n        </button>\n        <button type="button" class="rp-btn rp-btn-submit demo-data-submit-mobile" disabled="disabled">\n            '+((t=e.text.project.generateDemoData)==null?"":t)+'\n        </button>\n    </div>\n</form>\n<div class="rp-form-group demo-data-loader" style="display: none;" data-js-demo-data-loader>\n    <div class="preloader" data-js-preloader-launch-body>\n        <i class="material-icons loader-animation">refresh</i>\n    </div>\n    <span>'+((t=e.text.project.generationDataInProgress)==null?"":t)+'</span>\n</div>\n<div class="rp-form-group demo-data-warning-block">\n        <span class="demo-data-warning">\n            <i class="material-icons">warning</i>\n            <span>'+((t=e.text.ui.warningSm)==null?"":t)+"!</span>\n        </span><br>\n    "+((t=e.text.project.removeDemoData)==null?"":t)+"\n</div>\n",n},this.JST["tpl-project-settings-general"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.access?"":'disabled="disabled"';return n+='<div class="rp-form-group">\n    <label class="col-md-3 col-sm-4 col-xs-12 rp-control-label rp-custom-col" for="project_name">\n        '+((t=e.text.project.name)==null?"":t)+'\n    </label>\n    <div class="col-md-4 col-sm-8 col-xs-12 rp-custom-col">\n        <input id="project_name" value="'+((t=e.currentProject||"")==null?"":t)+'" class="rp-input-default rp-width-100" disabled="disabled">\n    </div>\n    <div class="col-md-5 col-sm-12 col-xs-12 rp-custom-col rp-text-description"></div>\n</div>\n<div class="rp-form-group">\n    <label class="col-md-3 col-sm-4 col-xs-12 rp-control-label rp-custom-col">\n        '+((t=e.text.project.launchTimeout)==null?"":t)+'\n    </label>\n    <div class="col-md-4 col-sm-8 col-xs-12 rp-custom-col">\n        <div data-js-selector="interruptedJob"></div>\n    </div>\n    <div class="col-md-5 col-sm-12 col-xs-12 rp-custom-col rp-text-description">\n        <span class="rp-help-block">'+((t=e.text.project.scheduleForInterupt)==null?"":t)+'</span>\n    </div>\n</div>\n<div class="rp-form-group">\n    <label class="col-md-3 col-sm-4 col-xs-12 rp-control-label rp-custom-col">\n        '+((t=e.text.project.keepLogs)==null?"":t)+'\n    </label>\n    <div class="col-md-4 col-sm-8 col-xs-12 rp-custom-col">\n        <div data-js-selector="keepLogs"></div>\n    </div>\n    <div class="col-md-5 col-sm-12 col-xs-12 rp-custom-col rp-text-description">\n        <span class="rp-help-block">'+((t=e.text.project.howKeepLogs)==null?"":t)+'</span>\n    </div>\n</div>\n<div class="rp-form-group">\n    <label class="col-md-3 col-sm-4 col-xs-12 rp-control-label rp-custom-col">\n        '+((t=e.text.project.keepScreen)==null?"":t)+'\n    </label>\n    <div class="col-md-4 col-sm-8 col-xs-12 rp-custom-col">\n        <div data-js-selector="keepScreenshots"></div>\n    </div>\n    <div class="col-md-5 col-sm-12 col-xs-12 rp-custom-col rp-text-description">\n        <span class="rp-help-block">'+((t=e.text.project.howKeepScreen)==null?"":t)+'</span>\n    </div>\n</div>\n\n<div class="rp-form-group rp-wrap-button">\n    <div class="col-md-7 col-sm-12 col-xs-12 rp-custom-col">\n        <button type="submit" class="rp-btn rp-btn-submit rp-btn-right" id="submit-settings" '+((t=o)==null?"":t)+">"+((t=e.text.ui.submit)==null?"":t)+'</button>\n    </div>\n    <div class="col-md-5 rp-custom-col hidden-xs hidden-sm"></div>\n</div>\n<div class="mobile-disabling-cover"></div>\n',n},this.JST["tpl-project-settings-header"]=function(e){var t,n="",r=_.escape;return n+='<div class="project-settings-header">\n    <div class="project-settings-breadcrumbs" data-js-main-breadcrumbs></div>\n</div>\n',n},this.JST["tpl-project-settings-notifications-item"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.access?"":'disabled="disabled"';n+="\n";if(e.addRule){n+='\n    <div class="email-case-item local-item" data-email-case-id='+((t=e.newCase.id||e.caseId)==null?"":t)+'>\n        <div class="rp-form-group notification-rule">\n            <div class="col-md-3 col-sm-3 col-xs-12 rp-custom-col">\n                <div class="email-case-title">\n                    <div class="remove-email-item-label">\n                        <div class="remove-email-item" ',e.access||(n+='style="display: none"'),n+='>\n                            <i class="rp-btn-custom rp-btn-close"></i>\n                        </div>\n                        '+((t=e.text.project.rule)==null?"":t)+" "+((t=e.emailCases.length)==null?"":t)+'\n                    </div>\n                </div>\n            </div>\n            <div class="col-md-9 col-sm-9 col-xs-12 rp-custom-col">\n                <div class="duplicate-error">'+((t=e.text.project.duplicateEmailCase)==null?"":t)+'</div>\n            </div>\n        </div>\n\n        <div class="rp-form-group recipients-wrap">\n            <label class="col-md-3 col-sm-3 col-xs-12 rp-control-label rp-custom-col">\n                '+((t=e.text.project.emailRecipients)==null?"":t)+'\n            </label>\n            <div class="col-md-4 col-sm-9 col-xs-12 rp-custom-col">\n                <div class="b-users-typeahead">\n                    <input placeholder="'+((t=e.text.project.enterRecipients)==null?"":t)+'" class="users-typeahead recipients" '+((t=o)==null?"":t)+'>\n                </div>\n                <div class="error-block help-inline-pos-right"></div><!-- dell class - help-inline -->\n            </div>\n            <div class="col-md-5 hidden-sm hidden-xs"></div>\n        </div>\n\n        <div class="rp-form-group checkbox-launch-owner-wrap">\n            <div class="col-md-3 col-sm-3 hidden-xs"></div>\n            <div class="col-md-9 col-sm-9 col-xs-12 rp-custom-col">\n                <div class="checkbox-launch-owner">\n                    ';var u=_.find(e.newCase.recipients,function(e){return e==="OWNER"});n+='\n                    <label class="rp-checkbox-wrap">\n                        <input '+((t=o)==null?"":t)+' class="launchOwner rp-input-checkbox" type="checkbox" ',u&&e.emailEnabled&&(n+='checked="checked"'),n+=' value="OWNER">\n                        <span>'+((t=e.text.project.launchOwnerDescription)==null?"":t)+'</span>\n                    </label>\n                    <div class="error-block"></div><!-- dell class - help-inline -->\n                </div>\n            </div>\n        </div>\n\n        <div class="rp-form-group">\n            <label class="col-md-3 col-sm-3 col-xs-12 rp-control-label rp-custom-col">\n                '+((t=e.text.project.emailInCase)==null?"":t)+'\n            </label>\n            <div class="col-md-4 col-sm-9 col-xs-12 rp-custom-col">\n                <div data-js-case-dropdown></div>\n            </div>\n            <div class="col-md-5 hidden-xs hidden-sm"></div>\n        </div>\n\n        <div class="rp-form-group rp-note-and">\n            <div class="col-md-3 col-sm-3 hidden-xs"></div>\n            <div class="col-md-9 col-sm-9 col-xs-12 rp-custom-col">\n                <span>'+((t=e.text.comparators.andb)==null?"":t)+'</span>\n            </div>\n        </div>\n\n        <div class="rp-form-group">\n            <label class="col-md-3 col-sm-3 col-xs-12 rp-control-label rp-custom-col">\n                <span class="mobile-note-and">'+((t=e.text.comparators.andb)==null?"":t)+"</span>\n                "+((t=e.text.project.launchesNames)==null?"":t)+'\n            </label>\n            <div class="col-md-4 col-sm-9 col-xs-12 rp-custom-col">\n                <div class="b-users-typeahead">\n                    <input placeholder="'+((t=e.text.project.selectLaunchNames)==null?"":t)+'" class="users-typeahead launches launchNames" '+((t=o)==null?"":t)+'>\n                </div>\n                <div class="error-block"></div><!-- dell class - help-inline -->\n            </div>\n            <div class="col-md-5 col-sm-9 col-xs-12 rp-custom-col rp-comment-block">\n                <span class="rp-help-block">\n                    '+((t=e.text.project.sendLaunchNames)==null?"":t)+'\n                </span><!-- dell class - help-inline -->\n            </div>\n        </div>\n\n        <div class="rp-form-group rp-note-and">\n            <div class="col-md-3 col-sm-3 hidden-xs"></div>\n            <div class="col-md-9 col-sm-9 col-xs-12 rp-custom-col">\n                <span>'+((t=e.text.comparators.andb)==null?"":t)+'</span>\n            </div>\n        </div>\n\n        <div class="rp-form-group">\n            <label class="col-md-3 col-sm-3 col-xs-12 rp-control-label rp-custom-col">\n                <span class="mobile-note-and">'+((t=e.text.comparators.andb)==null?"":t)+"</span>\n                "+((t=e.text.forms.tags)==null?"":t)+'\n            </label>\n            <div class="col-md-4 col-sm-9 col-xs-12 rp-custom-col">\n                <div class="b-users-typeahead">\n                    <input placeholder="'+((t=e.text.project.selectTags)==null?"":t)+'" class="users-typeahead tags" '+((t=o)==null?"":t)+'>\n                </div>\n                <div class="error-block"></div><!-- dell class - help-inline -->\n            </div>\n            <div class="col-md-5 col-sm-9 col-xs-12 rp-custom-col rp-comment-block">\n                <span class="rp-help-block">\n                    '+((t=e.text.project.sendTags)==null?"":t)+'\n                </span>\n            </div>\n        </div>\n\n        <div class="rp-form-group rp-wrap-underline">\n            <div class="rp-underline"></div>\n        </div>\n    </div>\n'}else n+="\n    ",_.forEach(e.emailCases,function(r){n+='\n        <div class="email-case-item" data-email-case-id='+((t=r.id)==null?"":t)+'>\n            <div class="rp-form-group notification-rule">\n                <div class="col-md-3 col-sm-3 col-xs-12 rp-custom-col">\n                    <div class="email-case-title">\n                        <div class="checkbox">\n                            <label class="email-case-label '+((t=o?"disabled":"")==null?"":t)+'">\n                                <input '+((t=o)==null?"":t)+' name="remove-email-case" class="remove-email-case rp-input-checkbox" value="'+((t=r.id)==null?"":t)+'" type="checkbox"/>\n                                <span class="ruleName title-block">\n                                    '+((t=e.text.project.rule)==null?"":t)+" "+((t=+r.id+1)==null?"":t)+'\n                                </span>\n                            </label>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-md-9 col-sm-9 col-xs-12 rp-custom-col">\n                    <div class="duplicate-error">'+((t=e.text.project.duplicateEmailCase)==null?"":t)+'</div>\n                </div>\n            </div>            <div class="rp-form-group recipients-wrap">\n                <label class="col-md-3 col-sm-3 col-xs-12 rp-control-label rp-custom-col">\n                    '+((t=e.text.project.emailRecipients)==null?"":t)+'\n                </label>\n                <div class="col-md-4 col-sm-9 col-xs-12 rp-custom-col">\n                    <div class="b-users-typeahead">\n                        <input placeholder="'+((t=e.text.project.enterRecipients)==null?"":t)+'" class="users-typeahead recipients" '+((t=o)==null?"":t)+'>\n                        <div class="error-block help-inline-pos-right"></div><!-- dell class - help-inline -->\n                    </div>\n                </div>\n                <div class="col-md-5 hidden-sm hidden-xs"></div>\n            </div>            <div class="rp-form-group checkbox-launch-owner-wrap">\n                <div class="col-md-3 col-sm-3 hidden-xs"></div>\n                <div class="col-md-9 col-sm-9 col-xs-12 rp-custom-col">\n                    <div class="checkbox-launch-owner">\n                        ';var i=_.find(r.recipients,function(e){return e==="OWNER"});n+='\n                        <label class="rp-checkbox-wrap">\n                            <input '+((t=o)==null?"":t)+' class="launchOwner rp-input-checkbox" type="checkbox" ',i&&(n+='checked="checked"'),n+=' value="OWNER">\n                            <span>'+((t=e.text.project.launchOwnerDescription)==null?"":t)+'</span>\n                        </label>\n                        <div class="error-block help-inline-pos-right"></div><!-- dell class - help-inline -->\n                    </div>\n                </div>\n            </div>            <div class="rp-form-group">\n                <label class="col-md-3 col-sm-3 col-xs-12 rp-control-label rp-custom-col">\n                    '+((t=e.text.project.emailInCase)==null?"":t)+'\n                </label>\n                <div class="col-md-4 col-sm-9 col-xs-12 rp-custom-col">\n                    <div data-js-case-dropdown></div>\n                </div>\n                <div class="col-md-5 hidden-xs hidden-sm"></div>\n            </div>\n\n            <div class="rp-form-group rp-note-and">\n                <div class="col-md-3 col-sm-3 hidden-xs"></div>\n                <div class="col-md-9 col-sm-9 col-xs-12 rp-custom-col">\n                    <span>'+((t=e.text.comparators.andb)==null?"":t)+'</span>\n                </div>\n            </div>\n\n            <div class="rp-form-group">\n                <label class="col-md-3 col-sm-3 col-xs-12 rp-control-label rp-custom-col">\n                    <span class="mobile-note-and">'+((t=e.text.comparators.andb)==null?"":t)+"</span>\n                    "+((t=e.text.project.launchesNames)==null?"":t)+'\n                </label>\n                <div class="col-md-4 col-sm-9 col-xs-12 rp-custom-col">\n                    <div class="b-users-typeahead">\n                        <input placeholder="'+((t=e.text.project.selectLaunchNames)==null?"":t)+'" class="users-typeahead launches launchNames" '+((t=o)==null?"":t)+'>\n                    </div>\n                    <div class="error-block"></div><!-- dell class - help-inline -->\n                </div>\n                <div class="col-md-5 col-sm-9 col-xs-12 rp-custom-col rp-comment-block">\n                    <span class="rp-help-block">\n                        '+((t=e.text.project.sendLaunchNames)==null?"":t)+'\n                    </span><!-- dell class - help-inline -->\n                </div>\n            </div>            <div class="rp-form-group rp-note-and">\n                <div class="col-md-3 col-sm-3 hidden-xs"></div>\n                <div class="col-md-9 col-sm-9 col-xs-12 rp-custom-col">\n                    <span>'+((t=e.text.comparators.andb)==null?"":t)+'</span>\n                </div>\n            </div>            <div class="rp-form-group">\n                <label class="col-md-3 col-sm-3 col-xs-12 rp-control-label rp-custom-col">\n                    <span class="mobile-note-and">'+((t=e.text.comparators.andb)==null?"":t)+"</span>\n                    "+((t=e.text.forms.tags)==null?"":t)+'\n                </label>\n                <div class="col-md-4 col-sm-9 col-xs-12 rp-custom-col">\n                    <div class="b-users-typeahead">\n                        <input placeholder="'+((t=e.text.project.selectTags)==null?"":t)+'" class="users-typeahead tags" '+((t=o)==null?"":t)+'>\n                    </div>\n                    <div class="error-block"></div><!-- dell class - help-inline -->\n                </div>\n                <div class="col-md-5 col-sm-9 col-xs-12 rp-custom-col rp-comment-block">\n                    <span class="rp-help-block">\n                        '+((t=e.text.project.sendTags)==null?"":t)+'\n                    </span><!-- dell class - help-inline -->\n                </div>\n            </div>            <div class="rp-form-group rp-wrap-underline">\n                <div class="rp-underline"></div>\n            </div>\n        </div>    '}),n+="\n";return n+="\n",n},this.JST["tpl-project-settings-notifications"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.access?"":'disabled="disabled"';return n+='\n<div class="rp-form-group clearfix">\n    <label class="col-md-3 col-sm-3 col-xs-12 rp-control-label rp-custom-col">\n        '+((t=e.text.project.emailNotifications)==null?"":t)+'\n    </label>\n    <div class="col-md-4 col-sm-9 col-xs-12 rp-custom-col">\n        <div data-js-email-notifications-switcher></div>\n    </div>\n    <div class="col-md-5 col-sm-9 col-xs-12 rp-custom-col rp-comment-block">\n        <span class="rp-help-block">'+((t=e.text.project.sendNotification)==null?"":t)+'</span>\n    </div>\n</div>\n<div id="emailNotificationsSettings" class="email-notifications-settings" ',e.isEmailEnabled||(n+='style="display: none"'),n+='>\n    <div class="rp-form-group clearfix">\n        <label class="col-md-3 col-sm-3 col-xs-12 rp-control-label rp-custom-col rp-point-required" for="from">\n            '+((t=e.text.project.from)==null?"":t)+'\n        </label>\n        <div class="col-md-4 col-sm-9 col-xs-12 rp-custom-col">\n            <input type="text" disabled class="rp-input bts-property" id="from" value="'+r(e.fromAddress||"")+'" '+((t=o)==null?"":t)+' />\n            <span class="help-inline"></span>\n        </div>\n        <div class="col-md-5 hidden-sm hidden-xs rp-custom-col"></div>\n    </div>\n    <div class="rp-form-group clearfix rp-wrap-underline">\n        <div class="rp-underline"></div>\n    </div>\n    <div id="notificationArray" class="notification-array"></div>\n    <div class="rp-form-group clearfix notification-add-block" ',e.access||(n+='style="display: none"'),n+='>\n        <label class="col-md-3 col-sm-3 col-xs-12 rp-control-label rp-custom-col"></label>\n        <div class="col-md-3 col-sm-9 rp-custom-col">\n            <button type="button" class="rp-btn rp-btn-default rp-button-with-icon not-small add-item" id="add-notification-rule" '+((t=o)==null?"":t)+'>\n                <i class="material-icons">add</i>\n                <span class="rp-btn-val">'+((t=e.text.project.addRule)==null?"":t)+'</span>\n            </button>\n        </div>\n        <div class="col-md-6 hidden-sm hidden-xs rp-custom-col"></div>\n    </div>\n</div>\n<div class="rp-form-group clearfix notification-submit-block">\n    <div class="col-md-7 col-sm-12 col-xs-12 rp-custom-col">\n        <button type="submit" class="rp-btn rp-btn-submit float-right" id="submit-notifications" '+((t=o)==null?"":t)+">"+((t=e.text.ui.submit)==null?"":t)+'</button>\n    </div>\n    <div class="col-md-5 hidden-sm hidden-xs rp-custom-col"></div>\n</div>\n<div class="mobile-disabling-cover"></div>\n',n},this.JST["tpl-project-settings-shell"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="print">\n    <p>'+r(e.text.dashboard.project)+": <span>"+r(e.projectName)+"</span></p>\n    <p>"+r(e.text.admin.titleSettings)+'</span></p>\n</div>\n<ul class="nav-tabs-custom clearfix">\n    <li class="'+((t=e.tab==="general"?"active":"")==null?"":t)+'">\n        <a href="#" class="tab settings" data-js-tab-action="general">\n            '+((t=e.text.project.generalTab)==null?"":t)+'\n        </a>\n    </li>\n    <li class="'+((t=e.tab==="notifications"?"active":"")==null?"":t)+'">\n        <a href="#" class="tab settings" data-js-tab-action="notifications">\n            '+((t=e.text.project.notificationsTab)==null?"":t)+'\n        </a>\n    </li>\n    <li class="'+((t=e.tab==="bts"?"active":"")==null?"":t)+'">\n        <a href="#" class="tab settings" data-js-tab-action="bts">\n            '+((t=e.text.project.btsTab)==null?"":t)+'\n            <span class="label label-above label-success">'+((t=e.text.project.beta)==null?"":t)+'</span>\n        </a>\n    </li>\n    <li class="'+((t=e.tab==="defect"?"active":"")==null?"":t)+'">\n        <a href="#" class="tab settings" data-js-tab-action="defect">\n            '+((t=e.text.project.defectTypes)==null?"":t)+'\n        </a>\n    </li>\n    <li class="'+((t=e.tab==="autoAnalysis"?"active":"")==null?"":t)+'">\n        <a href="#" class="tab settings" data-js-tab-action="autoAnalysis">\n            '+((t=e.text.project.autoAnalysisSettings)==null?"":t)+"\n        </a>\n    </li>\n    ",e.generateDemoDataAccess&&(n+='\n    <li class="'+((t=e.tab==="demoData"?"active":"")==null?"":t)+'">\n        <a href="#" class="tab settings" data-js-tab-action="demoData">\n            '+((t=e.text.project.demoDataSettings)==null?"":t)+"\n        </a>\n    </li>\n    "),n+='\n</ul>\n<div data-js-nav-tabs-mobile class="nav-tabs-mobile"></div>\n<div data-js-tab-content class="tab-content"></div>\n\n',n},this.JST["tpl-project-widget-unable-load"]=function(e){var t,n="",r=_.escape;return n+='<div class="no-data-error">\n    '+((t=e.text.project.unableLoadData)==null?"":t)+"\n</div>",n},this.JST["tpl-projectinfo-header"]=function(e){var t,n="",r=_.escape;return n+='<div id="headerBar" class="clearfix">\n    <ul class="rp-nav-left">\n        <li class="title-holder">\n            <span class="header-alike">'+r(e.projectId)+"</span>\n        </li>\n    </ul>\n</div>",n},this.JST["tpl-projectinfo-page"]=function(e){var t,n="",r=_.escape;return n+='<div class="container-fluid" id="ProjectInfo">\n    <div class="row">\n        <div class="col-sm-12 col-md-9">\n            <div class="row row-custom">\n                <div class="col-sm-12 col-md-4 item-col-custom">\n                    <div class="project-widget">\n                        <h4 class="project-item-info-title">'+((t=e.text.widgets.generalInfo)==null?"":t)+'</h4>\n                        <div id="general_info" class="widget-content">\n                            <div class="widget-body widget-chart">\n                                <div class="loading-widget loader" style="display: block;">\n                                    <i class="material-icons loader-animation">autorenew</i>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-sm-12 col-md-4 item-col-custom">\n                    <div class="project-widget">\n                        <h4 class="project-item-info-title">'+((t=e.text.widgets.launchesOwners)==null?"":t)+'</h4>\n                        <div id="launches_owners" class="widget-content">\n                            <div class="widget-body widget-chart">\n                                <div class="loading-widget loader" style="display: block;">\n                                    <i class="material-icons loader-animation">autorenew</i>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-sm-12 col-md-4 item-col-custom">\n                    <div class="project-widget">\n                        <h4 class="project-item-info-title">'+((t=e.text.widgets.lastLaunchStats)==null?"":t)+'</h4>\n                        <div id="last_launch" class="widget-content">\n                            <div class="widget-body widget-chart">\n                                <div class="loading-widget loader" style="display: block;">\n                                    <i class="material-icons loader-animation">autorenew</i>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-sm-12 col-md-4 item-col-custom">\n                    <div class="project-widget">\n                        <h4 class="project-item-info-title">'+((t=e.text.widgets.numberLaunches)==null?"":t)+'</h4>\n                        <div id="launches_quantity" class="widget-content">\n                            <div class="widget-body widget-chart">\n                                <div class="loading-widget loader" style="display: block;">\n                                    <i class="material-icons loader-animation">autorenew</i>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-sm-12 col-md-4 item-col-custom">\n                    <div class="project-widget">\n                        <h4 class="project-item-info-title">'+((t=e.text.widgets.launchStats)==null?"":t)+'</h4>\n                        <div id="issues_chart" class="widget-content">\n                            <div class="widget-body widget-chart">\n                                <div class="loading-widget loader" style="display: block;">\n                                    <i class="material-icons loader-animation">autorenew</i>\n                                </div>\n                            </div>\n                        </div>\n                    </div>                </div>\n                <div class="col-sm-12 col-md-4 item-col-custom">\n                    <div class="project-widget">\n                        <h4 class="project-item-info-title">'+((t=e.text.widgets.percentageOfInvestigationsChart)==null?"":t)+'</h4>\n                        <div id="investigated" class="widget-content">\n                            <div class="widget-body widget-chart">\n                                <div class="loading-widget loader" style="display: block;">\n                                    <i class="material-icons loader-animation">autorenew</i>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-sm-12 col-md-4 item-col-custom">\n                    <div class="project-widget">\n                        <h4 class="project-item-info-title">'+((t=e.text.widgets.percentageOfProductBugs)==null?"":t)+'</h4>\n                        <div id="total-widget-bugs_percentage" class="average-percent"></div>\n                        <div id="bugs_percentage" class="widget-content">\n                            <div class="widget-body widget-chart">\n                                <div class="loading-widget loader" style="display: block;">\n                                    <i class="material-icons loader-animation">autorenew</i>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-sm-12 col-md-4 item-col-custom">\n                    <div class="project-widget">\n                        <h4 class="project-item-info-title">'+((t=e.text.widgets.percentageOfSystemIssues)==null?"":t)+'</h4>\n                        <div id="total-widget-system_issues_percentage" class="average-percent"></div>\n                        <div id="system_issues_percentage" class="widget-content">\n                            <div class="widget-body widget-chart">\n                                <div class="loading-widget loader" style="display: block;">\n                                    <i class="material-icons loader-animation">autorenew</i>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-sm-12 col-md-4 item-col-custom">\n                    <div class="project-widget">\n                        <h4 class="project-item-info-title">'+((t=e.text.widgets.percentageOfAutoBugs)==null?"":t)+'</h4>\n                        <div id="total-widget-auto_bugs_percentage" class="average-percent"></div>\n                        <div id="auto_bugs_percentage" class="widget-content">\n                            <div class="widget-body widget-chart">\n                                <div class="loading-widget loader" style="display: block;">\n                                    <i class="material-icons loader-animation">autorenew</i>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="col-sm-12 col-md-3">\n            <div class="project-widget">\n                <h4 class="project-item-info-title">'+((t=e.text.widgets.projectActivityPanel)==null?"":t)+'</h4>\n                <div id="activities" class="widget-content" style="height: 980px;">\n                    <div class="widget-body widget-chart" style="max-height: none;">\n                        <div class="loading-widget loader" style="display: block;">\n                            <i class="material-icons loader-animation">autorenew</i>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n',n},this.JST["tpl-project-events-item-value"]=function(e){var t,n="",r=_.escape;return n+='<span class="value-field-name">'+((t=e.valueFieldName)==null?"":t)+': </span>\n<span class="value">'+((t=e.value)==null?"":t)+"</span>\n",n},this.JST["tpl-project-events-table-item"]=function(e){var t,n="",r=_.escape;return n+='<div class="grid-cell time-grid-cell" data-js-time-format>\n    <span class="from-now" data-js-time-from-now></span>\n    <span class="time-exact" data-js-time-exact></span>\n</div>\n<div class="grid-cell user-grid-cell">\n    <span class="user" data-js-user></span>\n</div>\n<div class="grid-cell action-grid-cell">\n    <span class="action" data-js-action></span>\n</div>\n<div class="grid-cell object-type-grid-cell">\n    <span class="object-type" data-js-object-type></span>\n</div>\n<div class="grid-cell object-name-grid-cell">\n    <span class="object-name" data-js-object-name></span>\n</div>\n<div class="grid-cell old-val-grid-cell" data-js-old-val></div>\n<div class="grid-cell new-val-grid-cell" data-js-new-val></div>\n',n},this.JST["tpl-project-events-table"]=function(e){function s(){n+=i.call(arguments,"")}function o(e,t){return'<div class="table-wrapper"><div class="middle-wrapper"><span class="text-overflow"><div class="filter-icon-wrapper"><i class="rp-icons rp-icons-filter"></i></div>&nbsp;<span class="long-size">'+e+"</span>"+'<span class="short-size" title="'+e+'">'+t+"</span>&nbsp;"+'<div class="sort-icon-wrapper">'+'<i class="material-icons">keyboard_arrow_up</i>'+'<i class="material-icons">keyboard_arrow_down</i>'+"</div>"+"</span>"+"</div>"+"</div>"}var t,n="",r=_.escape,i=Array.prototype.join;return n+='\n\n<div class="rp-table-grid project-events-grid rp-table-hover" data-js-table-container>\n    <div class="row rp-grid-thead" data-js-fixed-header>\n        <div class="grid-cell time-grid-cell rp-grid-th" data-sorter="last_modified" data-filter="last_modified">\n            '+((t=o(e.text.projectEvents.tableHeaders.time,e.text.projectEvents.tableHeaders.time_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell user-grid-cell rp-grid-th" data-sorter="userRef" data-filter="userRef">\n            '+((t=o(e.text.projectEvents.tableHeaders.user,e.text.projectEvents.tableHeaders.user_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell action-grid-cell rp-grid-th" data-sorter="actionType" data-filter="actionType">\n            '+((t=o(e.text.projectEvents.tableHeaders.action,e.text.projectEvents.tableHeaders.action_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell object-type-grid-cell rp-grid-th" data-sorter="objectType" data-filter="objectType">\n            '+((t=o(e.text.projectEvents.tableHeaders.objectType,e.text.projectEvents.tableHeaders.objectType_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell object-name-grid-cell rp-grid-th" data-sorter="name" data-filter="name">\n            '+((t=o(e.text.projectEvents.tableHeaders.objectName,e.text.projectEvents.tableHeaders.objectName_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell old-val-grid-cell rp-grid-th" data-sorter="history$oldValue" data-filter="history$oldValue">\n            '+((t=o(e.text.projectEvents.tableHeaders.oldVal,e.text.projectEvents.tableHeaders.oldVal_short))==null?"":t)+'\n        </div>\n        <div class="grid-cell new-val-grid-cell rp-grid-th" data-sorter="history$newValue" data-filter="history$newValue">\n            '+((t=o(e.text.projectEvents.tableHeaders.newVal,e.text.projectEvents.tableHeaders.newVal_short))==null?"":t)+'\n        </div>\n    </div>\n    <div class="preloader" data-js-preloader>\n        <i class="material-icons loader-animation">refresh</i>\n    </div>\n    <div class="no-result-found" data-js-no-results>\n        <i class="rp-icons rp-icons-warning"></i>\n        <span>'+((t=e.text.ui.noResultsFound)==null?"":t)+'</span>\n    </div>\n    <div class="events-items" data-js-items-container></div>\n    <div data-js-paginate-container></div>\n</div>\n',n},this.JST["tpl-project-events"]=function(e){var t,n="",r=_.escape;return n+='<div class="events-page-wrapper">\n    <div class="refine-wrapper clearfix">\n        <span class="refine-label hidden-xs">'+((t=e.text.filters.refine)==null?"":t)+'</span>\n        <div data-js-refine-entities></div>\n    </div>\n    <div class="rp-btn rp-btn-default rp-button-with-icon refresh-btn" title="'+((t=e.text.ui.refresh)==null?"":t)+'" data-js-refresh>\n        <i class="material-icons">autorenew</i>\n        <span class="rp-btn-val hidden-sm hidden-xs">'+((t=e.text.ui.refresh)==null?"":t)+'</span>\n    </div>\n    <div class="events-table-container" data-js-events-table-container></div>\n</div>\n\n',n},this.JST["tpl-project-members-empty"]=function(e){var t,n="",r=_.escape;return n+='<div class="project-empty-members">\n    <h3 class="title-no-data text-center">\n        <i class="rp-icons rp-icons-warning"></i>\n        <span class="warning">'+((t=e.text.infoMessages.noResults)==null?"":t)+"</span>\n    </h3>\n    <div></div>\n</div>",n},this.JST["tpl-project-members-header"]=function(e){var t,n="",r=_.escape;return n+='<div id="headerBar" class="clearfix">\n    <ul class="rp-nav-left">\n        <li class="title-holder">\n            <span class="header-alike">\n                '+((t=e.text.members.projectMembers)==null?"":t)+"\n            </span>\n        </li>\n    </ul>\n</div>",n},this.JST["tpl-project-members-item"]=function(e){var t,n="",r=_.escape;return n+='<div class="grid-cell name-grid-cell">\n    <div class="member-wrap">\n        <div class="member-avatar">\n            <img data-js-member-avatar src=""/>\n        </div>\n        <div class="member-info">\n            <div class="member-info-wrap">\n                <p class="member-name" data-js-member-name></p>\n                <p class="member-you" data-js-member-you>'+((t=e.text.ui.you)==null?"":t)+'</p>\n                <p class="member-admin" data-js-member-admin>'+((t=e.text.ui.admin)==null?"":t)+'</p>\n                <a class="make-admin" data-js-make-admin>'+((t=e.text.ui.makeAdmin)==null?"":t)+'</a>\n                <br>\n                <p class="member-login" data-js-member-login></p>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="grid-cell login-grid-cell">\n    <div class="member-title-mobile">'+((t=e.text.admin.lastLogin)==null?"":t)+':</div>\n    <div class="login-time show-time" data-js-login-time>\n        <span class="from-now" data-js-time-from-now></span>\n        <span class="exact-time" data-js-time-exact></span>\n    </div>\n</div>\n<div class="grid-cell role-grid-cell">\n    <div class="member-select-role" data-js-select-roles></div>\n    <div class="member-role-mobile">\n        <div class="member-title-mobile">'+((t=e.text.project.projectRole)==null?"":t)+':</div>\n        <span data-js-member-role-mobile></span>\n    </div>\n    <div data-js-admin-role class="admin-role">\n        '+((t=e.text.admin.privileges)==null?"":t)+'\n    </div>\n</div>\n<div class="grid-cell action-grid-cell">\n    <div class="members-actions">\n        <button data-js-member-unassign class="rp-btn rp-btn-default rp-button-with-icon" href="#"\n                title="'+((t=e.text.members.unAssignTitle)==null?"":t)+'">\n            <i class="rp-icons rp-icons-unassign"></i>\n            <span class="hidden-xs rp-btn-val">'+((t=e.text.members.unAssign)==null?"":t)+"</span>\n        </button>\n    </div>\n</div>\n",n},this.JST["tpl-project-members-shell"]=function(e){var t,n="",r=_.escape;return n+='<div class="print">\n    <p>'+r(e.text.dashboard.project)+": <span>"+r(e.projectName)+"</span></p>\n    <p>"+r(e.text.members.title)+'</p>\n</div>\n<div class="project-members-actions">\n    <div class="project-members-filter">\n        <div class="rp-input-search-wrap">\n            <div class="input-filter form-group">\n                <input type="text" class="rp-input-search form-control" id="membersFilter" name="membersFilter" placeholder="" data-js-members-search>\n                <i class="material-icons">search</i>\n                <div class="error-bottom">\n                    <div class="help-inline"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="project-members-buttons">\n        <button type="button" class="rp-btn rp-btn-default rp-button-with-icon not-small" data-js-add-user>\n            <i class="rp-icons rp-icons-add-user"></i>\n            <span class="rp-btn-val">'+r(e.text.members.addMember)+'</span>\n        </button>\n        <button type="button" class="rp-btn rp-btn-default rp-button-with-icon not-small" data-js-invite-user>\n            <i class="rp-icons rp-icons-invite-user"></i>\n            <span class="rp-btn-val">'+r(e.text.members.inviteMember)+'</span>\n        </button>\n        <button type="button" class="rp-btn rp-btn-default rp-button-with-icon not-small" data-js-permissions>\n            <i class="material-icons">lock_open</i>\n            <span class="rp-btn-val">'+r(e.text.members.permissionsMap)+'</span>\n        </button>\n    </div>\n</div>\n<div class="project-members-table rp-table-grid show-from-now" data-js-members-table>\n    <div class="row rp-grid-thead">\n        <div class="rp-grid-th grid-cell name-grid-cell">\n            <div class="table-wrapper">\n                <div class="middle-wrapper">\n                    <span class="rp-grid-th-name">'+((t=e.text.members.titleNameLogin)==null?"":t)+'</span>\n                </div>\n            </div>\n        </div>\n        <div class="rp-grid-th grid-cell login-grid-cell">\n            <div class="table-wrapper">\n                <div class="middle-wrapper">\n                    <span class="rp-grid-th-name">'+((t=e.text.admin.lastLogin)==null?"":t)+'</span>\n                </div>\n            </div>\n        </div>\n        <div class="rp-grid-th grid-cell role-grid-cell">\n            <div class="table-wrapper">\n                <div class="middle-wrapper">\n                    <span class="rp-grid-th-name">'+((t=e.text.project.projectRole)==null?"":t)+'</span>\n                </div>\n            </div>\n        </div>\n        <div class="rp-grid-th grid-cell action-grid-cell">\n            <div class="table-wrapper">\n                <div class="middle-wrapper action-right">\n                    <span class="rp-grid-th-name">'+((t=e.text.ui.action)==null?"":t)+"</span>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div data-js-members-list></div>\n</div>\n<div data-js-members-paginate></div>\n",n},this.JST["tpl-project-members"]=function(e){var t,n="",r=_.escape;return n+="<div data-js-members></div>",n},this.JST["tpl-user-search-result"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="user-search-result-wrap" title="'+((t=e.user.title)==null?"":t)+'">\n    <div class="user-avatar">\n        <img src="'+((t=e.imagePath)==null?"":t)+'">\n        <i class="material-icons">mail_outline</i>\n    </div>\n    <div class="user-search-info">\n        <p class="user-search-name">'+((t=e.user.name)==null?"":t)+'</p>\n        <p class="user-search-login"><span class="invite-pref">'+((t=e.text.members.invitePref)==null?"":t)+"</span>"+((t=e.user.id)==null?"":t)+'</p>\n        <p class="user-search-send-email">'+((t=e.text.members.sendInvite)==null?"":t)+'</p>\n        <i class="material-icons user-add">add</i>\n        ',e.user.isAddedUser?n+='\n        <i class="material-icons user-added user-disabled">done</i>\n        ':e.user.isExternalUser&&(n+='\n        <i class="material-icons user-added user-disabled">not_interested</i>\n        '),n+="\n    </div>\n</div>\n",n},this.JST["tpl-register-messages"]=function(e){var t,n="",r=_.escape;return n+='<div class="invitation-fail">\n    <div class="logo-label" data-js-logo></div>\n    <div class="caption">'+((t=e.text.registration.failCaption)==null?"":t)+'</div>\n    <div class="backlink"><span>Visit </span><a href="http://reportportal.io">ReportPortal.io</a></div>\n</div>\n',n},this.JST["tpl-register"]=function(e){var t,n="",r=_.escape;return n+='<div class="registration-content">\n    <div class="left-block">\n        <div class="logo-label" data-js-logo></div>\n        <div class="caption">'+((t=e.text.registration.caption)==null?"":t)+'</div>\n    </div>\n    <div class="right-block">\n        <span class="welcome-msg">'+((t=e.text.registration.welcomeMsg)==null?"":t)+'</span>\n        <div class="header-mobile">\n            <div class="logo-label " data-js-logo></div>\n            <div class="caption">'+((t=e.text.registration.welcomeMsg)==null?"":t)+'</div>\n        </div>\n        <form class="registration-form rp-form" data-js-register-form>\n            <label class="rp-field">\n                <div class="icon-wrapper"><i class="material-icons">person_outline</i></div>\n                <input type="text" class="rp-input" placeholder="Login" data-js-login>\n                <span class="validate-hint"></span>\n                <span class="hint">'+((t=e.text.registration.loginHint)==null?"":t)+'</span>\n            </label>\n            <label class="rp-field">\n                <div class="icon-wrapper"><i class="material-icons">person</i></div>\n                <input type="text" class="rp-input" placeholder="Full name" data-js-name>\n                <span class="validate-hint"></span>\n                <span class="hint">'+((t=e.text.registration.nameHint)==null?"":t)+'</span>\n            </label>\n            <label class="rp-field email-field">\n                <div class="icon-wrapper"><i class="material-icons">email</i></div>\n                <input type="text" class="rp-input" data-js-email disabled>\n                <span class="validate-hint"></span>\n            </label>\n            <label class="rp-field pass-field">\n                <div class="icon-wrapper"><i class="material-icons">lock_outline</i></div>\n                <input type="password" class="rp-input" placeholder="Password" data-js-password>\n                <div class="visability-toggler" data-js-toogle-visability>\n                    <div class="shown"></div>\n                    <div class="hided"></div>\n                </div>\n                <span class="validate-hint"></span>\n                <span class="hint">'+((t=e.text.registration.passwordHint)==null?"":t)+'</span>\n            </label>\n            <label class="rp-field confirm-pass-field">\n                <div class="icon-wrapper"><i class="material-icons">lock_outline</i></div>\n                <input type="password" class="rp-input" placeholder="Confirm password" data-js-password-confirm>\n                <div class="visability-toggler" data-js-toogle-visability>\n                    <div class="shown"></div>\n                    <div class="hided"></div>\n                </div>\n                <span class="validate-hint"></span>\n            </label>\n            <div class="buttons">\n                <button class="rp-btn rp-btn-cancel" type="button" data-js-cancel>\n                    '+((t=e.text.ui.reset)==null?"":t)+'\n                </button>\n                <button class="rp-btn rp-btn-login" type="submit" data-js-register>\n                    '+((t=e.text.ui.register)==null?"":t)+"\n                </button>\n            </div>\n        </form>\n    </div>\n</div>\n\n",n},this.JST["tpl-container"]=function(e){var t,n="",r=_.escape;return n+='<div class="panel rp-main-panel">\n    <div id="contentHeader" class="panel-heading rp-panel-heading clearfix"></div>\n    <div id="dynamic-content" class="panel-body"></div>\n<!--    <button type="button"\n        title="'+((t=e.text.dashboard.exitFullscreen)==null?"":t)+'"\n        class="close fullscreen-close">\n        <i class="material-icons">clear</i>\n    </button>-->\n</div>',n},this.JST["tpl-footer"]=function(e){var t,n="",r=_.escape;return n+='<div class="back-to-top">\n    <a title="'+((t=e.text.ui.backToTop)==null?"":t)+'" global-back-top>\n        <i class="material-icons">arrow_upward</i>\n        <span>'+((t=e.text.ui.backToTop)==null?"":t)+'</span>\n    </a>\n</div>\n\n<ul class="breadcrumbs">\n    <li>\n        <a data-js-fork-us href="https://github.com/reportportal/reportportal" target="_blank">\n            Fork us on GitHub\n        </a>\n    </li>\n    <li>\n        <a data-js-chat-slack href="https://reportportal-slack-auto.herokuapp.com/" target="_blank">\n            '+((t=e.text.footer.chatSlack)==null?"":t)+'\n        </a>\n    </li>\n    <li>\n        <a data-js-contact-us href="mailto:support@reportportal.io">\n            '+((t=e.text.footer.contactUs)==null?"":t)+'\n        </a>\n    </li>\n    <li>\n        <a data-js-epam href="http://www.epam.com" target="_blank">\n            '+((t=e.text.footer.epam)==null?"":t)+'\n        </a>\n    </li>\n    <li>\n        <a data-js-docs href="http://reportportal.io/#documentation" target="_blank">\n            '+((t=e.text.footer.docs)==null?"":t)+'\n        </a>\n    </li>\n    <!--<li>-->\n        <!--<a data-js-api href="swagger-ui.html" target="_blank">-->\n            <!--'+((t=e.text.footer.api)==null?"":t)+'-->\n        <!--</a>-->\n    <!--</li>-->\n</ul>\n<div class="pull-left">\n    '+((t=e.text.ui.build)==null?"":t)+': <span id="buildVersion">XXXXXXX</span>\n</div>\n<div class="copyright pull-left">\n    &copy; <span class="footer-copy">'+((t=e.text.topMenu.reportPortal)==null?"":t)+"</span>\n    2018 &nbsp; &nbsp;"+((t=e.text.ui.allRights)==null?"":t)+"\n</div>\n",n},this.JST["tpl-header"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<nav class="navbar rp-navbar-header" role="navigation">\n    <!-- Brand and toggle get grouped for better mobile display -->\n    <div class="navbar-header visible-xs mobile-main-header">\n        <div class="button-menu-open" data-js-toogle-menu>\n            <div class="menu-icon-part"></div>\n            <div class="menu-icon-part"></div>\n            <div class="menu-icon-part"></div>\n        </div>\n        <div class="rp-logo"></div>\n    </div>\n    <!-- Collect the nav links, forms, and other content for toggling -->\n    <div class="navbar-collapse" id="navbar-header-collapse">\n        <ul class="nav navbar-nav navbar-right rp-navbar-right rp-header-nav hidden-xs">\n            <li class="dropdown">\n                <a href="#" class="dropdown-toggle hidden-xs rp-user-navigator" data-toggle="dropdown" data-js-user-dropdown>\n                    <div class="user-login-wrap float-left">\n                        ',e.isAdmin&&(n+='\n                            <div class="user-status">\n                                <span class="user-status-text">'+((t=e.text.topMenu.admin)==null?"":t)+"</span>\n                            </div>\n                        "),n+='\n                        <div class="user-name name2 text-uppercase custom-width2">\n                            '+r(e.user.user_login)+'\n                        </div>\n                    </div>\n                    <div class="user-avatar-wrap float-left">\n                        <img class="avatar"\n                            id="profileImage"\n                            src="'+((t=e.util.updateImagePath(e.user.image))==null?"":t)+'"\n                            alt="'+((t=e.text.ui.avatar)==null?"":t)+'" />\n                    </div>\n                    <i class="material-icons arrow_drop_down">arrow_drop_down</i>\n                </a>\n                <ul class="dropdown-menu rp-mobile-position clearfix" role="menu" id="userNavigator">\n                    <li class="col-xs-6 col-sm-12">\n                        <a href="#user-profile" class="mem-set user-id" data-js-profile-page-link>\n                            <span class="custom-padding">'+((t=e.text.topMenu.profile)==null?"":t)+"</span>\n                        </a>\n                    </li>\n                    ",e.isAdmin&&(n+='\n                        <li class="col-xs-6 col-sm-12">\n                            <a href="#administrate" id="administrate" class="admin-section" data-js-administrate-page-link>\n                                <span class="custom-padding">'+((t=e.text.topMenu.administrate)==null?"":t)+"</span>\n                            </a>\n                        </li>\n                    "),n+='\n                    <li class="col-xs-6 col-sm-12">\n                        <a href="#api" data-js-api-page-link>\n                            <span class="custom-padding">'+((t=e.text.topMenu.api)==null?"":t)+'</span>\n                        </a>\n                    </li>\n                    <li class="col-xs-6 col-sm-12">\n                        <a href="#" data-js-logout>\n                            <span class="custom-padding">'+((t=e.text.topMenu.logout)==null?"":t)+'</span>\n                        </a>\n                    </li>\n                </ul>\n            </li>\n        </ul>\n        <ul class="nav navbar-nav rp-navbar-left rp-header-nav rp-projects-block">\n            <li class="dropdown clearfix" id="projectSelector">\n                <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-js-project-dropdown>\n                    <span class="selected-project" title="'+((t=e.text.topMenu.activeProjTitle)==null?"":t)+'">\n                        '+r(e.project.projectId)+'\n                    </span>\n                    <i class="material-icons">keyboard_arrow_down</i>\n                </a>\n                <ul class="dropdown-menu user-projects rp-mobile-position clearfix" role="menu">\n                    ',_.each(e.projects,function(r){n+="\n                        ";var i=r===e.project.projectId?"active":"";n+='\n                        <li class="col-xs-12 col-sm-12 text-uppercase"\n                            id="project-'+((t=r)==null?"":t)+'">\n                            <a class=" rp-desktop"\n                                href="#"\n                                data-href="'+((t=r)==null?"":t)+'">\n                                '+((t=r)==null?"":t)+"\n                            </a>\n                        </li>\n                    "}),n+="\n                </ul>\n            </li>\n            ",e.canDebug&&(n+='\n                <li id="members"\n                    data-id="members"\n                    title="'+((t=e.text.topMenu.members)==null?"":t)+'"\n                    class="members">\n                    <a href="#'+r(e.project.projectId)+'/members" class="mem-set" data-js-members-icon>\n                        <i class="rp-icons rp-icons-all-users"></i>\n                    </a>\n                </li>\n            '),n+='\n            <li id="settings"\n                data-id="settings"\n                title="'+((t=e.text.topMenu.settings)==null?"":t)+'"\n                class="settings">\n                <a href="#'+r(e.project.projectId)+'/settings" class="mem-set" data-js-settings-icon>\n                    <i class="material-icons">settings</i>\n                </a>\n            </li>\n        </ul>\n    </div>\n    <!-- /.navbar-collapse -->\n</nav>\n',n},this.JST["tpl-sidebar"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;n+='<div class="sidebar-close" data-js-sidebar-close></div>\n<div class="sidebar-content">\n    <a href="#'+((t=e.projectUrl)==null?"":t)+'" class="logo">\n        <i class="sprite sprite-logo"></i>\n        <!-- <span>< % = data.text.topMenu.reportPortal % ></span> -->\n    </a>\n    <nav data-js-scroll-container ',e.isAdmin||(n+=' class="for-common-user" '),n+=' >\n\n    <ul class="main-menu">\n        ',n+='\n        <li>\n            <a href="#'+r(e.projectUrl)+'/dashboard" id="dashboard">\n                ',e.isNewYear?n+='\n                    <i class="new-year-icon new-year-dashboard"></i>\n                ':n+='\n                    <i class="rp-icons rp-icons-dashboard fsize-18"></i>\n                ',n+="\n                <span>"+((t=e.text.topMenu.dashboard)==null?"":t)+"</span>\n            </a>\n        </li>\n        <li>\n            ";var o="#"+e.projectUrl+"/launches/all";return n+='\n            <a href="'+r(o)+'" id="launches">\n                ',e.isNewYear?n+='\n                    <i class="new-year-icon new-year-launches"></i>\n                ':n+='\n                    <i class="rp-icons rp-icons-launches fsize-23"></i>\n                ',n+="\n                <span>"+((t=e.text.topMenu.launches)==null?"":t)+'</span>\n            </a>\n        </li>\n        <li>\n            <a href="#'+r(e.projectUrl)+'/filters" id="filters">\n                ',e.isNewYear?n+='\n                    <i class="new-year-icon new-year-filters"></i>\n                ':n+='\n                    <i class="rp-icons rp-icons-filter fsize-20"></i>\n                ',n+="\n                <span>"+((t=e.text.topMenu.filters)==null?"":t)+"</span>\n            </a>\n        </li>\n        ",e.canDebug&&(n+='\n        <li>\n            <a href="#'+r(e.projectUrl)+'/userdebug/all" id="userdebug">\n                ',e.isNewYear?n+='\n                    <i class="new-year-icon new-year-debug"></i>\n                ':n+='\n                    <i class="rp-icons rp-icons-eye fsize-17"></i>\n                ',n+="\n                <span>"+((t=e.text.topMenu.debug)==null?"":t)+"</span>\n            </a>\n        </li>\n        "),n+='\n    </ul>\n    <ul class="user-menu">\n        <li class="col-xs-6 col-sm-12">\n            <a href="#user-profile" class="mem-set user-id">\n                <i class="material-icons">person</i>\n                <span class="custom-padding">'+((t=e.text.topMenu.profile)==null?"":t)+"</span>\n            </a>\n        </li>\n        ",e.isAdmin&&(n+='\n        <li class="col-xs-6 col-sm-12">\n            <a href="#administrate" id="administrate" class="admin-section" data-js-administrate-page-link>\n                <i class="material-icons">tune</i>\n                <span class="custom-padding">'+((t=e.text.topMenu.administrate)==null?"":t)+"</span>\n            </a>\n        </li>\n        "),n+='\n        <li class="col-xs-6 col-sm-12">\n            <a href="" data-js-logout>\n                <i class="rp-icons rp-icons-logout fsize-23"></i>\n                <span class="custom-padding">'+((t=e.text.topMenu.logout)==null?"":t)+'</span>\n            </a>\n        </li>\n    </ul>\n\n    </nav>\n    <a id="back-top" class="hidden-xs" title="'+((t=e.text.ui.backToTop)==null?"":t)+'" style="display: none;" global-back-top>\n        <nobr>\n            <span id="btt-span">'+((t=e.text.ui.backToTop)==null?"":t)+"</span>\n        </nobr>\n    </a>\n</div>\n",n},this.JST["tpl-launch-item-info-tooltip"]=function(e){var t,n="",r=_.escape;return n+='<div class="grid-cell name-grid-cell">\n    <div class="name-grid-overflow">\n        <h5 class="rp-grid-name">\n            <a href="" data-js-name-link><span data-js-name></span><span data-js-launch-number></span></a>&nbsp;&nbsp;<i class="item-edit-icon material-icons" data-js-item-edit>edit</i>\n        </h5>\n        <ul class="rp-grid-tags">\n            <li class="rp-item-duration" >\n                <span data-js-item-status></span>\n                <span>&nbsp;&nbsp;|&nbsp;&nbsp;<span data-js-time-from-now></span></span>\n            </li>\n            <li title="Owner" class="rp-launch-owner owner" data-js-owner-block>\n                <i class="material-icons">person</i>\n                <a data-js-owner-name></a>\n            </li>\n            <li class="rp-launch-tags" data-js-tags-container>\n                <i class="rp-icons rp-icons-ticket"></i>\n                <span data-js-tags></span>\n            </li>\n            <li data-js-step-block>\n                <span>@</span><span data-js-method-type></span>&nbsp;&nbsp;|&nbsp;&nbsp;<span data-js-status></span>\n            </li>\n        </ul>\n        <div class="rp-grid-description" data-js-description></div>\n    </div>\n</div>\n',n},this.JST["tpl-launch-step-ticket-tooltip"]=function(e){var t,n="",r=_.escape;return n+='<img data-js-preloader src="img/time-in-progress.gif" />\n<span class="ui-tooltip-message" data-js-tooltip-message></span>\n',n},this.JST["tpl-launch-suite-duration-tooltip"]=function(e){var t,n="",r=_.escape;return n+='<div class="duration-tooltip">\n        <span>'+((t=e.message)==null?"":t)+"</span>\n</div>",n},this.JST["tpl-launch-suite-executions-tooltip"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="executions-tooltip">\n    <ul class="stats-tip-list">\n        ',_.each(e.stats,function(e){n+='\n        <li class="stats-tip">\n            <span class="status">'+((t=e.type)==null?"":t)+'</span>\n            <span class="percents">'+((t=e.stats)==null?"":t)+"%</span>\n        </li>\n        "}),n+="\n    </ul>\n</div>\n",n},this.JST["tpl-profile-regenerate-uuid"]=function(e){var t,n="",r=_.escape;return n+='<div class="regenerate-uuid-tooltip">\n    '+((t=e.text.userProfile.msgRegenTop)==null?"":t)+'\n    <br>\n    <span class="uuid-warning">'+((t=e.text.userProfile.msgRegenMid)==null?"":t)+"</span>\n    <br>\n    "+((t=e.text.userProfile.msgRegenFoot)==null?"":t)+"\n</div>",n},this.JST["tpl-simple-tooltip"]=function(e){var t,n="",r=_.escape;return n+='<div class="message-container">'+((t=e.message)==null?"":t)+"</div>\n",n},this.JST["tpl-user-change-pass"]=function(e){var t,n="",r=_.escape;return n+='<div id="changePass" class="row">\n    <h3 class="page-title text-capitalize col-xs-12">\n        <span class="profile_name">'+((t=e.user_login)==null?"":t)+'</span>\n    </h3>\n    <span class="form-group col-sm-12">\n        <input id="originalPass" class="form-control" type="password" placeholder="'+((t=e.text.userProfile.oldPass)==null?"":t)+'" value="">\n        <span class="help-inline">'+((t=e.text.validation.originalPassRegex)==null?"":t)+'</span>\n    </span>\n    <span class="form-group col-sm-12" id="confirmGroup">\n        <input id="newPass" class="form-control m-bottom-15" type="password"  placeholder="'+((t=e.text.login.newPassword)==null?"":t)+'" value="">\n        <input id="newPassComfirm" class="form-control confirm" type="password" placeholder="'+((t=e.text.login.confirmNewPassword)==null?"":t)+'" value="">\n        <div class="form-inline p-top-10 clearfix">\n            <label class="text-muted small pull-left"><input type="checkbox" id="showPass" class="" /> '+((t=e.text.login.showPassword)==null?"":t)+'</label>\n        </div>\n        <span class="help-inline"></span>\n    </span>\n    <div class="form-inline col-sm-12 p-top-10 p-bottom-10 clearfix">\n        <input type="button" id="submit_change" value="'+((t=e.text.login.changePassword)==null?"":t)+'" class="btn-create btn btn-info pull-right disabled">\n        <input type="button" id="cancel_change" value="'+((t=e.text.ui.cancel)==null?"":t)+'" class="btn btn-default m-right-10 pull-right">\n    </div>\n</div>',n},this.JST["tpl-user-edit-info"]=function(e){var t,n="",r=_.escape;return n+='<div id="infoEditor" class="row">\n    <h3 class="page-title text-capitalize col-xs-12">\n        <span class="profile_name">'+((t=e.user_login)==null?"":t)+'</span>\n    </h3>\n    <span class="form-group col-sm-12">\n        <input id="fullName" class="form-control" type="text" value="'+((t=e.fullName)==null?"":t)+'">\n        <span class="help-inline"></span>\n    </span>\n    <span class="form-group col-sm-12">\n        <input id="email" class="form-control" type="text" maxlength="128" value="'+((t=e.email)==null?"":t)+'">\n        <span class="help-inline"></span>\n    </span>\n    <div class="form-inline col-sm-12 p-top-10 p-bottom-10 clearfix">\n        <input type="button" id="submit_info" value="'+((t=e.text.ui.save)==null?"":t)+'" class="btn-create btn btn-info pull-right disabled">\n        <input type="button" id="cancel_info" value="'+((t=e.text.ui.cancel)==null?"":t)+'" class="btn btn-default m-right-10 pull-right">\n    </div>\n</div>',n},this.JST["tpl-user-page-header"]=function(e){var t,n="",r=_.escape;return n+='<div id="headerBar" class="clearfix">\n    <ul class="rp-nav-left">\n        <li class="title-holder">\n            <span class="header-alike link-as-element">'+((t=e.text.userProfile.userProfile)==null?"":t)+"</span>\n        </li>\n    </ul>\n</div>",n},this.JST["tpl-user-page-view"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="content pr-user-profile row">\n    <div class="col-xs-12 col-md-6">\n        <div class="media">\n            <div class="media_wrapper col-sm-12">\n                <div class="row">\n                    <div class="media_image col-sm-3">\n                        <div id="avatarWrapper" class="'+((t=e.photo_loaded?"active":"")==null?"":t)+'">\n                            <div id="remove-image" class="remove-image">\n                                <div class="remove-image-wrap">\n                                    <i class="material-icons mi-close">close</i>\n                                </div>\n                            </div>\n                            <img class="img-thumbnail avatar"\n                                id="userProfileAvatar"\n                                data-original="'+((t=e.image)==null?"":t)+'"\n                                src="'+((t=e.image)==null?"":t)+'"\n                                alt="'+((t=e.text.ui.avatar)==null?"":t)+'" />\n                        </div>\n                        ',e.account_type==="INTERNAL"&&(n+='\n                        <form id="fileUploadForm">\n                            <span class="btn btn-file btn-salad-bg m-top-10">\n                                '+((t=e.text.userProfile.selectPhoto)==null?"":t)+'\n                                <input type="file"\n                                    id="imgSelector"\n                                    name="file"\n                                    accept="image/gif, image/jpeg, image/png"\n                                    title="'+((t=e.text.userProfile.selectPhoto)==null?"":t)+'" />\n                            </span>\n                            <input type="submit"\n                                class="btn btn-salad-bg m-top-10"\n                                id="submitPhoto"\n                                value="'+((t=e.text.userProfile.savePhoto)==null?"":t)+'"\n                                title="'+((t=e.text.userProfile.savePhoto)==null?"":t)+'" />\n                        </form>\n                        <span id="wrongImageMessage"\n                            class="alert alert-danger col-sm-12 m-top-10">\n                            '+((t=e.text.validation.wrongImage)==null?"":t)+"\n                        </span>\n                        "),n+='\n                    </div>\n                    <div class="col-sm-9">\n                        ',e.account_type==="INTERNAL"&&(n+='\n                        <div class="col-sm-12 text-right" id="updateButtons">\n                            <button class="btn btn-salad-bg m-top-10 m-right-15" id="editInfo">\n                                '+((t=e.text.userProfile.editInfo)==null?"":t)+'\n                            </button>\n                            <button class="btn btn-salad-bg m-top-10" id="changePassword">\n                                '+((t=e.text.login.changePassword)==null?"":t)+"\n                            </button>\n                        </div>\n                        "),n+='\n                        <div class="row" id="staticInfo">\n                            <h3 class="page-title text-capitalize col-xs-12">\n                                <span class="profile_name text-wrapper">'+((t=e.user_login)==null?"":t)+'</span>\n                                <small class="profile_full_name multiple-spaces text-wrapper p-bottom-10">'+((t=e.fullName)==null?"":t)+'</small>\n                                <small class="profile_mail text-lowercase">'+((t=e.email)==null?"":t)+'</small>\n                            </h3>\n                            <div class="profile_form form-group container-fluid row">\n                                <label for="user_uuid" class="col-sm-1 control-label">'+((t=e.text.userProfile.UUID)==null?"":t)+'</label>\n                                <div class="col-sm-11" id="keyHolder">\n                                    <div class="col-xs-10 col-sm-10" data-js-block-is-token>\n                                        <div class="row">\n                                            <input type="text" value="'+((t=e.label)==null?"":t)+'" size="40" readonly="readonly" name="user[uuid]" id="user_uuid" class="form-control col-sm-12" data-js-input-token>\n                                            <div class="row">\n                                                <span class="help-block col-sm-12">\n                                                    '+((t=e.text.userProfile.msgUUIDTop)==null?"":t)+'\n                                                </span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="col-xs-2 col-sm-2">\n                                        <span class="help-block b-update-uudi postooltip">\n                                            <button id="update-uuid"\n                                                type="button"\n                                                name="update-uuid"\n                                                class="btn btn-default btn-save"\n                                                data-toggle="tooltip"\n                                                title="'+((t=e.text.userProfile.msgRegenTop)==null?"":t)+"\n                                                    <br>\n                                                    <br>\n                                                    <span style='color: red;'>\n                                                        "+((t=e.text.userProfile.msgRegenMid)==null?"":t)+"\n                                                    </span>\n                                                    <br>\n                                                    "+((t=e.text.userProfile.msgRegenFoot)==null?"":t)+'\n                                                ">\n                                                <i class="material-icons mi-autorenew">autorenew</i>\n                                            </button>\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="profile_project_list row">\n            <div id="project-list" class="container-fluid col-sm-12">\n                <div class="project_list_wrapper">\n                    <div class="project_list_header row">\n                        <div class="project_roles col-sm-7">\n                            '+((t=e.text.userProfile.projectAndRoles)==null?"":t)+':\n                        </div>\n                        <div class="col-sm-5">\n                            <small class="pull-right">\n                                '+((t=_.size(e.projects))==null?"":t)+""+((t=e.text.userProfile.ofThem)==null?"":t)+'\n                            </small>\n                        </div>\n                    </div>\n                    <div class="padded">\n                        <div id="projects" class="list-group">\n                            ',_.each(e.projects,function(i,s){n+='\n                                <div class="project project-row list-group-item ',s==e.defaultProject&&(n+="active default_project"),n+='">\n                                    <h5 class="list-group-item-heading uppercase col-sm-7">\n                                        <strong class="break-link">'+r(s)+'</strong>\n                                    </h5>\n                                    <p class="list-group-item-text col-sm-5">'+((t=i.projectRole)==null?"":t)+"</p>\n                                </div>\n                            "}),n+='\n                        </div>\n                    </div>\n                </div>\n                <div id="actionsUserProfile" class="actions form-group row text-right"></div>\n            </div>\n        </div>\n    </div>\n    <div class="code_editor form-group col-xs-12 col-md-6 pull-right"\n        data-js-block-is-token\n        style="position: static;">\n        <ul class="nav nav-pills nav-justified config-pills">\n            <li class="active">\n                <a href="#testng">'+((t=e.text.userProfile.testNG)==null?"":t)+'</a>\n            </li>\n            <li>\n                <a href="#ruby">'+((t=e.text.userProfile.ruby)==null?"":t)+'</a>\n            </li>\n            <li>\n                <a href="#soap">'+((t=e.text.userProfile.soapUI)==null?"":t)+'</a>\n            </li>\n            <li>\n                <a href="#.net">'+((t=e.text.userProfile.donNet)==null?"":t)+'</a>\n            </li>\n        </ul>\n        <div class="">\n            <div class="config-container">\n                <div id="user-config"></div>\n            </div>\n        </div>\n        <a href="'+((t=e.certificateUrl)==null?"":t)+'"\n            class="rp-blue-link"\n            ',n+='\n            download\n            target="_blank"\n            id="certificate">\n            '+((t=e.text.userProfile.downloadCertificate)==null?"":t)+"\n        </a>\n    </div>\n</div>\n",n},this.JST["tpl-user-profile-view"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.account_type==="INTERNAL";return n+='\n<div class="content rp-user-profile row">\n    <div class="print">\n        <p>'+((t=e.text.userProfile.userProfile)==null?"":t)+'</p>\n    </div>\n    <div class="col-xs-12 col-md-6">\n        <h2 class="user-profile-title">'+((t=e.text.userProfile.personalInfo)==null?"":t)+'</h2>\n        <div class="user-profile-info">\n            <div class="user-profile-photo '+((t=e.photo_loaded?"active":"")==null?"":t)+'">\n                <img class="user-avatar" data-js-user-img data-original="'+((t=e.image)==null?"":t)+'" src="'+((t=e.image)==null?"":t)+'" alt="'+((t=e.text.ui.avatar)==null?"":t)+'" />\n            </div>\n            ',o?n+='\n                <div class="user-change-password">\n                    <button type="button" class="rp-btn rp-btn-default" data-js-change-password>\n                        '+((t=e.text.login.changePassword)==null?"":t)+"\n                    </button>\n                </div>\n            ":e.account_type!=="LDAP"&&(n+='\n                <div class="user-change-password" id="updateButtons">\n                    <button type="button" class="rp-btn rp-btn-default" data-js-force-update>\n                        '+((t=e.text.userProfile.forceUpdate)==null?"":t)+"\n                    </button>\n                </div>\n            "),n+='\n            <div class="user-info-content">\n                <div class="user-info-id"><span data-js-user-login></span></div>\n                <div class="user-info-name">\n                    <span class="user-edit">\n                        <span data-js-user-name>'+((t=e.fullName)==null?"":t)+"</span>\n                        ",o&&(n+='\n                            <i title="'+((t=e.text.userProfile.editInfo)==null?"":t)+'" data-js-edit-name class="material-icons">edit</i>\n                        '),n+='\n                    </span>\n                </div>\n                <div class="user-info-mail">\n                    <span class="user-edit">\n                        <span data-js-user-email class="user-mail"></span>\n                        ',o&&(n+='\n                            <i title="'+((t=e.text.userProfile.editInfo)==null?"":t)+'" data-js-edit-email class="material-icons">edit</i>\n                        '),n+="\n                    </span>\n                </div>\n                ",o&&(n+='\n                <div class="user-edit-photo">\n                    <form  data-js-upload-photo-form>\n                        <div class="" data-js-edit-photo>\n                            <span class="rp-btn rp-btn-default user-upload-photo-btn">\n                                '+((t=e.text.userProfile.uploadPhoto)==null?"":t)+'\n                                <input data-js-select-photo type="file" name="file" accept="image/gif, image/jpeg, image/png" title="'+((t=e.text.userProfile.selectPhoto)==null?"":t)+'" />\n                            </span>\n                            <span class="user-remove-photo '+((t=e.photo_loaded?"active":"")==null?"":t)+'" data-js-remove-photo>'+((t=e.text.userProfile.removePhoto)==null?"":t)+'</span>\n                        </div>\n                        <div class="upload-photo-form" data-js-upload-block>\n                            <button data-js-submit-photo type="submit" class="rp-btn rp-btn-default">\n                                '+((t=e.text.userProfile.savePhoto)==null?"":t)+'\n                            </button>\n                        </div>\n                        <div data-js-photo-error class="photo-error-message">'+((t=e.text.validation.wrongImage)==null?"":t)+"</div>\n                    </form>\n                </div>\n                "),n+='\n            </div>\n        </div>\n        <div class="user-projects-list">\n            <div class="user-projects-throw">\n                <div class="col-sm-8 col-xs-12">\n                    <h2>'+((t=e.text.userProfile.projectAndRoles)==null?"":t)+" ("+((t=_.size(e.projects))==null?"":t)+')</h2>\n                </div>\n                <div class="col-sm-4 user-projects-roles">'+((t=e.text.userProfile.projectRole)==null?"":t)+"</div>\n            </div>\n            ",_.each(e.projects,function(e,i){n+='\n                <div class="user-projects-row">\n                    <div class="col-sm-8 col-xs-12"><span class="project-name">'+r(i)+'</span></div>\n                    <div class="col-sm-4 col-xs-12">'+((t=e.projectRole)==null?"":t)+"</div>\n                </div>\n            "}),n+='\n        </div>\n        <div class="change-language-block clearfix">\n            <span>'+((t=e.text.userProfile.language)==null?"":t)+'</span>\n            <div class="dropdown-container">\n                <span data-js-language-container></span>\n                <span class="discl hide" data-js-disclamer>\n                    <span class="note">'+((t=e.text.ui.note)==null?"":t)+"</span>\n                    "+((t=e.text.userProfile.reloadPage)==null?"":t)+'</span>\n            </div>\n        </div>\n    </div>\n    <div class="col-xs-12 col-md-6" data-js-block-is-token>\n        <h2 class="user-profile-title">'+((t=e.text.userProfile.uuidTitle)==null?"":t)+'</h2>\n        <div class="user-uuid-form">\n            <label for="user_uuid" class="control-label user-uuid-label">'+((t=e.text.userProfile.UUID)==null?"":t)+'</label>\n            <div class="user-uuid-button">\n                <button data-js-update-token type="button" class="rp-btn rp-btn-default">\n                    '+((t=e.text.userProfile.regenerateBtn)==null?"":t)+'\n                </button>\n            </div>\n            <div class="user-uuid-field" data-js-block-is-token>\n                <input type="text" value="'+((t=e.apiToken)==null?"":t)+'" size="40" readonly="readonly" name="user_uuid" id="user_uuid" class="form-control" data-js-input-token>\n            </div>\n            <div class="user-uuid-help-block">\n                '+((t=e.text.userProfile.msgUUIDTop)==null?"":t)+'\n            </div>\n        </div>\n        <div class="user-config-editor">\n            <h2 class="user-profile-title">'+((t=e.text.userProfile.configExamples)==null?"":t)+'</h2>\n            <ul class="config-pills" data-js-config-tab>\n                <li class="active">\n                    <a href="#testng">'+((t=e.text.userProfile.java)==null?"":t)+'</a>\n                </li>\n                <li>\n                    <a href="#ruby">'+((t=e.text.userProfile.ruby)==null?"":t)+'</a>\n                </li>\n                <li>\n                    <a href="#soap">'+((t=e.text.userProfile.soapUI)==null?"":t)+'</a>\n                </li>\n                <li>\n                    <a href="#.net">'+((t=e.text.userProfile.donNet)==null?"":t)+'</a>\n                </li>\n                <li>\n                    <a href="#nodeJS">'+((t=e.text.userProfile.nodeJS)==null?"":t)+'</a>\n                </li>\n            </ul>\n            <div class="user-config-container">\n                <div data-js-editor class="config-container"></div>\n            </div>\n        </div>\n    </div>\n</div>\n',n},this.JST["tpl-widget-cumulative-trend-tooltip"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="tooltip-header">\n    <span class="group-name">'+r(e.groupName)+'</span>\n</div>\n<div class="tooltip-body">\n    ',_.each(e.items,function(e){n+='\n        <div class="item-wrapper">\n            <div class="color-mark" style="background-color: '+((t=e.color)==null?"":t)+';"></div>\n            <div class="item-name">'+r(e.name)+'</div>\n            <div class="item-value">'+r(e.value)+"</div>\n        </div>\n    "}),n+="\n</div>\n",n},this.JST["tpl-widget-cumulative-trend"]=function(e){var t,n="",r=_.escape;return n+='<div class="preloader show" data-js-preloader-cumulative-widget>\n    <i class="material-icons loader-animation">refresh</i>\n</div>\n<div class="widget-wrapper" data-js-chart-container></div>\n\n',n},this.JST["tpl-widget-failed-cases-trend-chart-tooltip"]=function(e){var t,n="",r=_.escape;return n+='<div class="launch-name">'+r(e.launchName)+" #"+r(e.launchNumber)+'</div>\n<div class="launch-start-time">'+r(e.startTime)+'</div>\n<div class="item-wrapper">\n    <div class="color-mark"></div>\n    <div class="item-name">'+r(e.text.launchesHeaders.failed)+'</div>:\n    <div class="item-cases">\n        <span>'+r(e.itemCases)+"</span>\n        <span>"+r(e.text.widgets.casesLabel)+"</span>\n    </div>\n</div>\n",n},this.JST["tpl-widget-failed-cases-trend-chart"]=function(e){var t,n="",r=_.escape;return n+='<div class="widget-wrapper" data-js-chart-container></div>\n',n},this.JST["tpl-widget-flaky-test-cases-table-item"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="row">\n    <div class="col col-name"><span data-js-link="'+r(e.link)+'">'+r(e.name)+'</span></div>\n    <div class="col col-count">\n        <div class="count">'+r(e.count)+'</div>\n        <div class="matrix">\n            <div class="squares-wrapper">\n                ',_.each(e.statuses,function(e){n+='\n                <div class="square '+r(e.toLowerCase())+'"></div>\n                '}),n+='\n            </div>\n        </div>\n    </div>\n    <div class="col col-percents">'+r(e.percents)+'</div>\n    <div class="col col-date" data-js-date>\n        <span class="absolute">'+r(e.date)+'</span>\n        <span class="relative">'+r(e.dateFrom)+"</span>\n    </div>\n</div>\n\n",n},this.JST["tpl-widget-flaky-test-cases-table"]=function(e){var t,n="",r=_.escape;return n+='<div class="widget-wrapper">\n    <div class="info-block">'+r(e.text.launches.launchName)+": <span>"+r(e.name)+'</span></div>\n    <div class="flaky-table">\n        <div class="scroll-wrapper" data-js-scroll>\n            <div class="flaky-table-header">\n                <div class="col col-name">'+r(e.text.widgets.testCase)+'</div>\n                <div class="col col-count">\n                    <span class="full">'+r(e.text.widgets.switchingInExec)+'</span>\n                    <span class="short">'+r(e.text.widgets.switchingInExecShort)+'</span>\n                </div>\n                <div class="col col-percents">\n                    <span class="full">'+r(e.text.widgets.ofSwitching)+'</span>\n                    <span class="short">'+r(e.text.widgets.ofSwitchingShort)+'</span>\n                </div>\n                <div class="col col-date">'+r(e.text.widgets.lastSwitch)+'</div>\n            </div>\n            <div class="flaky-table-body" data-js-items-container></div>\n        </div>\n    </div>\n</div>\n',n},this.JST["tpl-widget-investigated-trend-chart-tooltip"]=function(e){var t,n="",r=_.escape;return n+='<div class="launch-name">'+r(e.launchName)+" #"+r(e.launchNumber)+'</div>\n<div class="launch-start-time">'+r(e.startTime)+'</div>\n<div class="item-wrapper">\n    <div class="color-mark" style="background-color: '+((t=e.color)==null?"":t)+';"></div>\n    <div class="item-name">'+r(e.itemName)+'</div>:\n    <div class="item-cases">\n        <span>'+r(e.itemCases)+"%</span>\n    </div>\n</div>\n",n},this.JST["tpl-widget-investigated-trend-chart"]=function(e){var t,n="",r=_.escape;return n+='<div class="widget-wrapper" data-js-chart-container></div>\n',n},this.JST["tpl-widget-launch-statistics-chart-tooltip"]=function(e){var t,n="",r=_.escape;return n+='<div class="launch-name">'+r(e.launchName)+" #"+r(e.launchNumber)+'</div>\n<div class="launch-start-time">'+r(e.startTime)+'</div>\n<div class="item-wrapper">\n    <div class="color-mark" style="background-color: '+((t=e.color)==null?"":t)+';"></div>\n    <div class="item-name">'+r(e.itemName)+'</div>:\n    <div class="item-cases">\n        <span>'+r(e.itemCases)+"</span>\n        <span>"+r(e.text.widgets.casesLabel)+"</span>\n    </div>\n</div>\n",n},this.JST["tpl-widget-launch-statistics-chart"]=function(e){var t,n="",r=_.escape;return n+='<div class="widget-wrapper" data-js-chart-container></div>\n',n},this.JST["tpl-widget-launches-comparison-chart-tooltip"]=function(e){var t,n="",r=_.escape;return n+='<div class="launch-name">'+r(e.launchName)+" #"+r(e.launchNumber)+'</div>\n<div class="launch-start-time">'+r(e.startTime)+'</div>\n<div class="item-wrapper">\n    <div class="color-mark" style="background-color: '+((t=e.color)==null?"":t)+';"></div>\n    <div class="item-name">'+r(e.itemName)+'</div>:\n    <div class="item-cases">\n        <span>'+r(e.itemCases)+"%</span>\n    </div>\n</div>\n",n},this.JST["tpl-widget-launches-comparison-chart"]=function(e){var t,n="",r=_.escape;return n+='<div class="widget-wrapper" data-js-chart-container></div>\n',n},this.JST["tpl-widget-launches-duration-chart-tooltip"]=function(e){var t,n="",r=_.escape;return n+='<div class="launch-name">'+r(e.launchName)+" #"+r(e.launchNumber)+'</div>\n<div class="launch-duration">'+r(e.isInterrupted?e.text.widgets.launchInterrupted:e.duration)+"</div>\n",n},this.JST["tpl-widget-launches-duration-chart"]=function(e){var t,n="",r=_.escape;return n+='<div class="widget-wrapper" data-js-chart-container></div>\n',n},this.JST["tpl-widget-most-failed-test-cases-table-item"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="row">\n    <div class="col col-name"><span data-js-link="'+r(e.link)+'">'+r(e.name)+'</span></div>\n    <div class="col col-count">\n        <div class="count">'+r(e.count)+'</div>\n        <div class="matrix">\n            <div class="squares-wrapper">\n                ',_.each(e.isFailed,function(e){n+='\n                <div class="square ',e&&(n+=" failed "),n+='"></div>\n                '}),n+='\n            </div>\n        </div>\n    </div>\n    <div class="col col-percents">'+r(e.percents)+'</div>\n    <div class="col col-date" data-js-date>\n        <span class="absolute">'+r(e.date)+'</span>\n        <span class="relative">'+r(e.dateFrom)+"</span>\n    </div>\n</div>\n\n",n},this.JST["tpl-widget-most-failed-test-cases-table"]=function(e){var t,n="",r=_.escape;return n+='<div class="widget-wrapper">\n    <div class="info-block">\n        <p>'+r(e.text.launches.launchName)+": <span>"+r(e.name)+"</span></p>\n        <p>"+r(e.text.widgets.basedOn)+": <span>"+r(e.issueType)+'</span></p>\n    </div>\n    <div class="most-failed-table">\n        <div class="scroll-wrapper" data-js-scroll>\n            <div class="most-failed-table-header">\n                <div class="col col-name">'+r(e.text.widgets.testCase)+'</div>\n                <div class="col col-count">\n                    <span class="full">'+r(e.text.widgets.issuesInExec)+'</span>\n                    <span class="short">'+r(e.text.widgets.issuesInExecShort)+'</span>\n                </div>\n                <div class="col col-percents">\n                    <span class="full">'+r(e.text.widgets.ofIssues)+'</span>\n                    <span class="short">'+r(e.text.widgets.ofIssuesShort)+'</span>\n                </div>\n                <div class="col col-date">'+r(e.text.widgets.lastIssue)+'</div>\n            </div>\n            <div class="most-failed-table-body" data-js-items-container></div>\n        </div>\n    </div>\n</div>\n',n},this.JST["tpl-widget-time-consuming-bar-tooltip"]=function(e){var t,n="",r=_.escape;return n+='<div class="item-name">'+r(e.name)+' </div>\n<div class="duration">\n    <i data-js-status-icon="" class="material-icons">query_builder</i>\n    '+r(e.duration)+'</div>\n<div class="start-time">'+r(e.startTime)+"</div>\n\n",n},this.JST["tpl-widget-time-consuming-bar"]=function(e){var t,n="",r=_.escape;return n+='<div class="widget-wrapper" data-js-bar-container>\n</div>\n',n},this.JST["tpl-widget-time-consuming-table-item"]=function(e){var t,n="",r=_.escape;return n+='<div class="row">\n    <div class="col col-name"><a data-js-name></a></div>\n    <div class="col col-status" data-js-status></div>\n    <div class="col col-duration" data-js-duration></div>\n    <div class="col col-start" data-js-start-time-container>\n        <div class="hoverFullTime">\n                <span class="timeMoment timeHover">\n                    '+((t=e.moment(e.dateFormat(e.start_time)).fromNow())==null?"":t)+'\n                </span>\n            <div class="time-full timeHover hidden">\n                <span>'+((t=e.dateFormat(e.start_time))==null?"":t)+'</span>\n            </div>\n            <span class="time-ms hidden">'+((t=e.start_time)==null?"":t)+"</span>\n        </div>\n    </div>\n</div>\n",n},this.JST["tpl-widget-time-consuming-table"]=function(e){var t,n="",r=_.escape;return n+='<div class="widget-wrapper">\n    <div class="info-block">'+r(e.text.launches.launchName)+": <span>"+r(e.lastLaunch[0].name)+'</span></div>\n        <div class="items-table">\n            <div class="scroll-wrapper" data-js-scroll-table>\n                <div class="table-header">\n                     <div class="col col-name">'+r(e.text.widgets.testCase)+'</div>\n                     <div class="col col-status">'+r(e.text.widgets.status)+'</div>\n                     <div class="col col-duration">'+r(e.text.widgets.duration)+'</div>\n                     <div class="col col-start">'+r(e.text.widgets.startTime)+'</div>\n                </div>\n                <div class="table-body" data-js-items-container>\n\n                </div>\n        </div>\n    </div>\n</div>\n',n},this.JST["tpl-widget-not-passed-cases-trend-chart-tooltip"]=function(e){var t,n="",r=_.escape;return n+='<div class="launch-name">'+r(e.launchName)+" #"+r(e.launchNumber)+'</div>\n<div class="launch-start-time">'+r(e.startTime)+'</div>\n<div class="item-wrapper">\n    <div class="color-mark"></div>\n    <div class="item-name">'+r(e.text.widgets.not_passed)+'</div>:\n    <div class="item-cases">\n        <span>'+r(e.itemCases)+"</span>\n    </div>\n</div>\n",n},this.JST["tpl-widget-not-passed-cases-trend-chart"]=function(e){var t,n="",r=_.escape;return n+='<div class="widget-wrapper" data-js-chart-container></div>\n',n},this.JST["tpl-widget-overall-statistics-donut"]=function(e){var t,n="",r=_.escape;return n+='<div class="left-widget-wrapper widget-wrapper" data-js-left-chart-container></div>\n<div class="right-widget-wrapper widget-wrapper" data-js-right-chart-container></div>\n',n},this.JST["tpl-widget-overall-statistics-trend-item"]=function(e){var t,n="",r=_.escape;return n+='<div class="item-wrapper">\n    <div class="item-val" data-js-item-val>'+((t=e.val)==null?"":t)+'</div>\n    <div class="item-title" data-js-item-title="'+((t=e.title)==null?"":t)+'">\n        <div class="color-mark" style="background-color: '+((t=e.color)==null?"":t)+'"></div>\n        '+((t=e.title)==null?"":t)+"\n    </div>\n</div>\n",n},this.JST["tpl-widget-overall-statistics-trend"]=function(e){var t,n="",r=_.escape;return n+='<div class="left-widget-wrapper widget-wrapper" >\n    <div class="chart-container" data-js-left-chart-container>\n        <div class="align-wrapper">\n            <div class="total" data-js-total>\n                <div class="total-value" data-js-total-value></div>\n                <div class="total-title">'+((t=e.text.widgets.pieTotal)==null?"":t)+'</div>\n            </div>\n            <div class="bar" data-js-bar>\n                <div class="bar-item bar-passed" data-js-bar-passed></div>\n                <div class="bar-item bar-failed" data-js-bar-failed></div>\n                <div class="bar-item bar-skipped" data-js-bar-skipped></div>\n            </div>\n            <div class="legend-wrapper" data-js-legend-wrapper>\n                <div class="legend-item legend-passed" data-js-legend-passed>\n                    <div class="legend-val" data-js-legend-passed-val></div>\n                    <div class="legend-title">'+((t=e.text.launchesHeaders.passed)==null?"":t)+'</div>\n                </div>\n                <div class="legend-item legend-failed" data-js-legend-failed>\n                    <div class="legend-val" data-js-legend-failed-val></div>\n                    <div class="legend-title">'+((t=e.text.launchesHeaders.failed)==null?"":t)+'</div>\n                </div>\n                <div class="legend-item legend-skipped" data-js-legend-skipped>\n                    <div class="legend-val" data-js-legend-skipped-val></div>\n                    <div class="legend-title">'+((t=e.text.launchesHeaders.skipped)==null?"":t)+'</div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="right-widget-wrapper widget-wrapper" >\n    <div class="chart-container" data-js-right-chart-container></div>\n</div>\n',n},this.JST["tpl-product-status-filter-name"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<h5 class="rp-grid-name">\n    <a data-js-name-link><span data-js-name></span></span></a>\n</h5>\n<ul class="rp-grid-tags">\n    <li class="launch-status-wrapper" title="'+((t=e.text.widgets.launchesOnFilter+e.length)==null?"":t)+'">\n        ',_.each(e,function(e){n+='\n        <div class="item_status '+((t=e==="PASSED"?"status_passed":"")==null?"":t)+'"></div>\n        '}),n+="\n    </li>\n</ul>\n",n},this.JST["tpl-product-status-launch-name"]=function(e){var t,n="",r=_.escape;return n+='<h5 class="rp-grid-name">\n    <a href="" data-js-name-link><span data-js-name></span><span data-js-launch-number></span></a>\n</h5>\n<ul class="rp-grid-tags">\n    <li class="rp-item-duration" >\n        <span data-js-item-status></span>\n    </li>\n</ul>\n',n},this.JST["tpl-product-status-widget-header"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<tr class="rp-grid-thead">\n    ',_.each(e,function(e){n+='\n    <th class="rp-grid-th type-cell-'+r(e.type)+'">'+((t=e.text)==null?"":t)+"</th>\n    "}),n+="\n</tr>\n",n},this.JST["tpl-product-status-widget-row-filter"]=function(e){var t,n="",r=_.escape;return n+='<td class="type-cell-filter" colspan="'+((t=e.colspan)==null?"":t)+'" >'+((t=e.text.ui.filter)==null?"":t)+': <span class="filter-name">'+r(e.name)+"</span></td>\n",n},this.JST["tpl-product-status-widget-row"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return _.each(e,function(e){n+='\n<td class="type-cell-'+((t=e.type)==null?"":t)+'" data-js-cell-'+((t=e.type)==null?"":t)+" >"+((t=e.text)==null?"":t)+"</td>\n"}),n+="\n",n},this.JST["tpl-product-status-widget"]=function(e){var t,n="",r=_.escape;return n+='<div class="preloader show" data-js-preloader-product-widget>\n    <i class="material-icons loader-animation">refresh</i>\n</div>\n<div class="table-wrapper" data-js-table-wrapper>\n    <table class="rp-table-grid" data-js-table-container></table>\n</div>\n\n',n},this.JST["tpl-widget-project-info-chart-tooltip"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="period">'+r(e.period)+"</div>\n",e.showCount&&(n+='\n    <div class="count-block">\n        <span class="count">'+r(e.count)+'</span>\n        <span class="measure">'+r(e.measure)+"</div>\n    </div>\n"),n+="\n",e.showRate&&(n+='\n    <div class="rate-block">\n        <div class="color-mark" style="background-color: '+((t=e.color)==null?"":t)+';"></div>\n        <span class="rate-name">'+r(e.name)+': </span>\n        <span class="percentage">'+r(e.percentage)+"</span>\n    </div>\n"),n+="\n",n},this.JST["tpl-widget-project-info-chart"]=function(e){var t,n="",r=_.escape;return n+="<div data-js-chart-container></div>\n",n},this.JST["tpl-widget-project-info-double-chart"]=function(e){var t,n="",r=_.escape;return n+='<div class="left-widget-wrapper widget-wrapper" data-js-left-chart-container></div>\n<div class="right-widget-wrapper widget-wrapper" data-js-right-chart-container></div>\n',n},this.JST["tpl-widget-test-cases-growth-trend-chart-tooltip"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="launch-name">'+r(e.launchName)+" #"+r(e.launchNumber)+'</div>\n<div class="launch-start-time">'+r(e.startTime)+'</div>\n<div class="item-wrapper">\n    <div class="item-cases">\n        <div class="item-cases-growth">\n            ',e.growth<0?n+="\n                "+r(e.text.widgets.growTestCases)+': <span class="decrease">'+r(e.growth)+"</span>\n            ":e.growth>0?n+="\n                "+r(e.text.widgets.growTestCases)+': <span class="increase">+'+r(e.growth)+"</span>\n            ":n+="\n                "+r(e.text.widgets.growTestCases)+": <span>"+r(e.growth)+"</span>\n            ",n+='\n        </div>\n        <div class="item-cases-total">\n            '+r(e.text.widgets.totalTestCases)+": <span>"+r(e.total)+"</span>\n        </div>\n    </div>\n</div>\n",n},this.JST["tpl-widget-test-cases-growth-trend-chart"]=function(e){var t,n="",r=_.escape;return n+='<div class="widget-wrapper" data-js-chart-container></div>\n',n},this.JST["tpl-launches-table-tooltip-defects"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;n+='<div class="tooltip defects-tooltip">\n    <div class="tooltip-inner">\n        <div class="defects-tip-content container-fluid">\n            ',e.noSubDefects||(n+='\n            <div class="defects-tip-title row">\n                <div class="col-sm-12">\n                    <div class="col-sm-10">\n                        <span class="defects-tip-color" style="background: '+r(e.color)+'"></span>\n                        '+((t=e.text.infoLine[e.type])==null?"":t)+'\n                    </div>\n                    <div class="col-sm-2">\n                        <span class="tip-total-bugs">\n                            ',e.noTotalLink?n+="\n                                "+((t=e.total)==null?"":t)+"\n                            ":n+='\n                                <a href="'+r(e.url?e.url:_.isFunction(e.urlResolver)?e.urlResolver(e.type,e.item,e.tab):"")+'" class="rp-link">'+((t=e.total)==null?"":t)+"</a>\n                            ",n+="\n                        </span>\n                    </div>\n                </div>\n            </div>\n            "),n+="\n            ";if(!_.isEmpty(e.defects)&&e.type!=="to_investigate"||e.noSubDefects)n+='\n            <ul class="defects-tip-list ',e.noSubDefects&&(n+="defects-tip-no-defects"),n+='">\n                ',_.each(e.defects,function(e){n+='\n                <li class="row">\n                    <div class="col-sm-12">\n                        <div class="col-sm-10">\n                            <span class="defects-tip-color" style="background: '+r(e.color)+'"></span>\n                            '+r(e.longName)+'\n                        </div>\n                        <div class="col-sm-2">\n                            '+((t=e.val)==null?"":t)+"\n                        </div>\n                    </div>\n                </li>\n                "}),n+="\n            </ul>\n            ";return n+="\n        </div>\n    </div>\n</div>",n},this.JST["tpl-widget-activity-stream"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="project-activity-panel">\n    ',_.isEmpty(e.dates)||(n+="\n    ",_.each(e.dates,function(i){n+='\n    <div class="activity-date-header">\n        '+((t=i.dayTitle)==null?"":t)+"\n    </div>\n    ",_.each(i.items,function(i){n+='\n    <div class="activity-item">\n        ',i.actionType!=="create_user"&&(n+='\n        <div class="activity-avatar">\n            <img src="'+((t=e.methodUpdateImagePath(e.imageRoot()+i.userRef.split(" ").join("_")))==null?"":t)+'" class="avatar" alt="'+((t=i.userRef)==null?"":t)+'" />\n        </div>\n        '),n+='\n        <div class="activity-item-summary-wrap">\n        <div class="activity-item-summary">\n            ',i.actionType=="create_user"&&i.objectType=="user"&&(n+="\n                <strong>"+r(i.loggedObjectRef)+'</strong>,\n                <span style="text-transform: lowercase;">'+((t=e.text.members.welcomeTo)==null?"":t)+"</span>\n                "+((t=e.text.ui.toolname)==null?"":t)+"!\n            "),n+="\n            ",i.actionType!=="create_user"&&(n+='\n                <strong class="activity-item-user">'+((t=i.userRef)==null?"":t)+"</strong>\n            "),n+="\n            ",i.objectType=="launch"&&(n+="\n                "+((t=e.text.widgets[i.actionType])==null?"":t)+"\n                ",i.actionType!=="delete_launch"&&!_.isEmpty(i.name)?n+='\n                    <a class="rp-blue-link-undrl" target="_blank"\n                       href="#'+((t=e.properties.projectUrl)==null?"":t)+"/launches/all/"+((t=i.loggedObjectRef)==null?"":t)+'">\n                       '+r(i.name)+"</a>.\n                ":n+="\n                    "+r(i.name)+".\n                ",n+="\n            "),n+="\n            ";if(i.objectType=="widget"||i.objectType=="dashboard"||i.objectType=="userFilter")n+="\n                "+((t=e.text.widgets[i.actionType])==null?"":t)+"\n                <strong>"+r(i.name)+"</strong>.\n            ";n+="\n            ",i.objectType=="defect_type"&&(n+="\n                "+((t=e.text.widgets[i.actionType])==null?"":t)+"\n                ",i.actionType=="delete_defect"?n+="\n                    "+((t=e.text.widgets.defectType)==null?"":t)+'\n                    <a class="rp-blue-link-undrl"\n                        target="_blank"\n                        href="#'+((t=e.properties.projectUrl)==null?"":t)+'/settings/defect">\n                        '+((t=i.name)==null?"":t)+"\n                    </a>\n                ":n+='\n                    <a class="rp-blue-link-undrl"\n                        target="_blank"\n                        href="#'+((t=e.properties.projectUrl)==null?"":t)+'/settings/defect">\n                        '+((t=e.text.widgets.defectTypes)==null?"":t)+"\n                    </a>\n                ",n+="\n            "),n+="\n            ";if(i.objectType=="externalSystem"){n+="\n                ";var s=e.getBts(i.name),o=s.type,u=s.name;n+="\n                "+((t=e.text.widgets[i.actionType])==null?"":t)+"\n                "+((t=o)==null?"":t)+"\n                ",i.actionType=="update_bts"&&(n+="\n                    "+r(u)+'\n                    <a class="rp-blue-link-undrl" target="_blank" href="#'+((t=e.properties.projectUrl)==null?"":t)+'/settings/bts">\n                        '+((t=e.text.widgets.properties)==null?"":t)+"</a>.\n                "),n+="\n                ",i.actionType=="delete_bts"&&(n+="\n                    ",u&&(n+='\n                    <a class="rp-blue-link-undrl"\n                        target="_blank"\n                        href="#'+((t=e.properties.projectUrl)==null?"":t)+'/settings/bts">\n                        '+r(u)+"\n                    </a>\n                    "),n+="\n                    "+((t=e.text.ui.from)==null?"":t)+"\n                    "+((t=e.text.widgets.project)==null?"":t)+".\n                "),n+="\n                ",i.actionType=="create_bts"&&(n+='\n                    <a class="rp-blue-link-undrl"\n                        target="_blank"\n                        href="#'+((t=e.properties.projectUrl)==null?"":t)+'/settings/bts">\n                        '+r(u)+"\n                    </a>.\n                "),n+="\n            "}n+="\n            ";if(i.objectType=="testItem"&&i.actionType.indexOf("issue")>0){n+="\n                "+((t=e.text.widgets[i.actionType])==null?"":t)+"\n                ";var a=e.getTickets(i);n+="\n                ",_.each(a,function(r,i){n+="\n                    ";var s=e.getTicketUrlId(r),o=s.id,u=s.url,f=a.length,l=f>1&&i<f-1?",":"";n+="\n                    ",u?n+='\n                    <a class="rp-blue-link-undrl"\n                        target="_blank"\n                        href="'+((t=u)==null?"":t)+'">\n                        '+((t=o)==null?"":t)+"\n                    </a>\n                    "+((t=l)==null?"":t)+"\n                    ":n+="\n                        "+((t=o)==null?"":t)+"\n                        "+((t=l)==null?"":t)+"\n                    ",n+="\n                "}),n+="\n                "+((t=i.actionType!=="unlink_issue"?e.text.ui.to:e.text.ui.from)==null?"":t)+"\n                "+((t=e.text.widgets.testItem)==null?"":t)+'\n                <span data-js-item-id="'+((t=i.loggedObjectRef)==null?"":t)+'">\n                    <span class="loading-indicator"></span>\n                </span>.\n            '}n+="\n            ",i.objectType=="email"&&(n+="\n                "+((t=e.text.widgets[i.actionType])==null?"":t)+'\n                <a class="rp-blue-link-undrl"\n                    target="_blank"\n                    href="#'+((t=e.properties.projectUrl)==null?"":t)+'/settings/notifications">\n                    '+((t=e.text.widgets.emailNotifications)==null?"":t)+"</a>.\n            "),n+="\n            ",i.objectType=="index"&&(n+="\n            "+((t=e.text.widgets[i.actionType])==null?"":t)+'\n            <a class="rp-blue-link-undrl"\n               target="_blank"\n               href="#'+((t=e.properties.projectUrl)==null?"":t)+'/settings/autoAnalysis">\n                '+((t=e.text.widgets.aaConfig)==null?"":t)+"</a>:\n                "+((t=e.text.activity[i.actionType])==null?"":t)+".\n            "),n+="\n            ";if(i.objectType=="project"){n+="\n                <span>\n                    "+((t=e.text.widgets[i.actionType])==null?"":t)+'\n                    <a class="rp-blue-link-undrl"\n                        target="_blank"\n                        href="#'+((t=e.properties.projectUrl)==null?"":t)+'/settings">\n                        '+((t=e.text.widgets.propertiesProj)==null?"":t)+"</a>:\n                </span>\n                ";var f=_.size(i.history),l=0;n+="\n                ",_.each(i.history,function(i,s){n+="\n                    ",l++,n+="\n                    ",i.newValue&&i.oldValue?n+="\n                        "+((t=e.text.activity[s])==null?"":t)+"\n                        "+((t=e.text.ui.from)==null?"":t)+"\n                        "+r(e.replaceValues(i.oldValue))+"\n                        "+((t=e.text.ui.to)==null?"":t)+"\n                        "+r(e.replaceValues(i.newValue))+""+((t=l<f?",":".")==null?"":t)+"\n                    ":n+="\n                        "+((t=e.text.activity[s])==null?"":t)+""+((t=l<f?",":"")==null?"":t)+".\n                    ",n+="\n                "}),n+="\n            "}n+="\n            ";if(i.objectType=="a-analysis"){n+="\n            <span>\n                    "+((t=e.text.widgets[i.actionType])==null?"":t)+'\n                    <a class="rp-blue-link-undrl"\n                       target="_blank"\n                       href="#'+((t=e.properties.projectUrl)==null?"":t)+'/settings/autoAnalysis">\n                        '+((t=e.text.widgets.aaProperties)==null?"":t)+"</a>:\n                </span>\n            ";var f=_.size(i.history),l=0;n+="\n            ",_.each(i.history,function(i,s){n+="\n            ",l++,n+="\n            "+((t=e.text.activity[s]||s)==null?"":t)+"\n            "+((t=e.text.ui.from)==null?"":t)+"\n            "+r(e.replaceValues(i.oldValue))+"\n            "+((t=e.text.ui.to)==null?"":t)+"\n            "+r(e.replaceValues(i.newValue))+""+((t=l<f?",":".")==null?"":t)+"\n            "}),n+="\n            "}n+='\n        </div>\n        <div class="activity-item-info">\n            <span class="hoverFullTime">\n                <span class="timeMoment timeHover">'+((t=i.momentTime)==null?"":t)+'</span>\n                <span class="time-full timeHover hidden">\n                    at '+((t=i.fullTime)==null?"":t)+'\n                </span>\n                <span class="time-ms hidden">'+((t=i.last_modified)==null?"":t)+"</span>\n            </span>\n        </div>\n        </div>\n    </div>\n    "}),n+="\n    "}),n+="\n    "),n+='\n    <div class="mobile-disabling-cover"></div>\n</div>\n\n',n},this.JST["tpl-widget-bug-table-item"]=function(e){var t,n="",r=_.escape;return n+='\n<div class="bug-item"\n     data-item-id="'+((t=e.testItemId)==null?"":t)+'"><span class="loading-indicator"></span></div>',n},this.JST["tpl-widget-bug-table-list"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;n+='<div class="uniq-bugs-row">\n    <div class="uniq-bugs-id">\n        <strong id="bugId-'+((t=e.item.bugId)==null?"":t)+'" class="bugs-id">'+((t=e.item.bugId)==null?"":t)+'</strong>\n    </div>\n    <div class="uniq-bugs-item" data-js-bugs-item> </div>\n    <div class="uniq-bugs-date">\n        ';var o=e.item.time?new Date(e.item.time):null;return n+="\n        ",o&&(n+='\n            <div class="hoverFullTime">\n                <span class="timeMoment timeHover">\n                    '+((t=e.moment(e.dateFormat(o)).fromNow())==null?"":t)+'\n                </span>\n                <div class="time-full timeHover hidden">\n                    <span>'+((t=e.dateFormat(o))==null?"":t)+'</span>\n                </div>\n                <span class="time-ms hidden">'+((t=o)==null?"":t)+"</span>\n            </div>\n        "),n+='\n    </div>\n    <div class="uniq-bugs-user">\n        ',e.item.name&&(n+='\n            <div class="bugs-avatar">\n                <img src="'+((t=e.methodUpdateImagePath(e.imageRoot()+e.item.name))==null?"":t)+'"\n                    class="avatar"\n                    alt="'+((t=e.item.name)==null?"":t)+'"/>\n            </div>\n            <strong class="owner-name">'+r(e.item.name.split("_").join(" ").capitalize())+"</strong>\n        "),n+="\n    </div>\n</div>\n",n},this.JST["tpl-widget-bug-table"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return e.items&&!_.isEmpty(e.items)&&(n+='\n<div class="uniq-bugs-table rp-table-hover">\n    <div class="uniq-bugs-head">\n        <div class="uniq-bugs-id uniq-bugs-th">\n            <span class="uniq-bugs-th-name">'+((t=e.text.widgets.bugId)==null?"":t)+'</span>\n        </div>\n        <div class="uniq-bugs-item uniq-bugs-th">\n            <span class="uniq-bugs-th-name">'+((t=e.text.widgets.foundIn)==null?"":t)+'</span>\n        </div>\n        <div class="uniq-bugs-date uniq-bugs-th">\n            <span class="uniq-bugs-th-name">'+((t=e.text.widgets.submitDate)==null?"":t)+'</span>\n        </div>\n        <div class="uniq-bugs-user uniq-bugs-th">\n            <span class="uniq-bugs-th-name">'+((t=e.text.widgets.submitter)==null?"":t)+'</span>\n        </div>\n    </div>\n    <div class="uniq-bugs-list" data-js-bugs-list></div>\n    <div class="mobile-disabling-cover"></div>\n</div>\n'),n+="\n",n},this.JST["tpl-widget-error"]=function(e){var t,n="",r=_.escape;return n+='<div class="error-table">\n    <div class="error-content">'+((t=e.message)==null?"":t)+"</div>\n</div>\n",n},this.JST["tpl-widget-filters-table-item"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join,o=e.projectUrl;id=e.item.id,n+='\n<div class="overflow-wrapper">\n    <div class="col-xs-12 col-sm-5 nopadding">\n        <div class="col-xs-12 col-sm-6">\n            <div class="name-grid-overflow">\n                <i class="accordion-arrow rp-icons rp-icons-expand" data-js-toggle-open></i>\n                <h5 class="rp-grid-name">\n                    <a class="navigateable rp-blue-link-undrl" href="" data-js-name-link><span data-js-name></span> #<span\n                        data-js-launch-number></span></a>\n                </h5>\n                <ul class="rp-grid-tags">\n                    ',e.item.user&&(n+='\n                    <li title="Owner" class="rp-launch-owner owner">\n                        <i class="material-icons">person</i>\n                        <a href="#'+r(o)+"/launches/all?page.page=1&amp;page.sort=start_time,DESC&amp;page.size=50&filter.in.user="+r(e.item.user)+'"\n                           data-js-user-tag data-tag="'+r(e.item.user)+'">'+r(e.item.user)+"</a>\n                    </li>\n                    "),n+="\n                    ";var u=e.item.tags;n+="\n                    ",u&&(n+='\n                    <li class="rp-launch-tags" data-js-tags-container>\n                        <i class="rp-icons rp-icons-ticket"></i>\n                        ',_.each(u.split(","),function(e){n+='\n                        <a href="#'+r(o)+"/launches/all?page.page=1&amp;page.sort=start_time,DESC&amp;page.size=50&filter.has.tags="+r(e)+'"\n                           data-js-tag data-tag="'+r(e)+'" class="text-muted tag">'+r(e)+"</a>\n                        "}),n+="\n                    </li>\n                    "),n+='\n                </ul>\n                <div class="rp-grid-description" data-js-description></div>\n            </div>\n        </div>\n        <div class="col-xs-12 col-sm-2 ftp-cols">\n            ',e.item.status&&(n+='\n            <div class="rp-table-td">\n                <span class="visible-xs-inline showTimeTip"><b>'+((t=e.text.launches.prefixStatus)==null?"":t)+"</b></span>\n                "+((t=e.text.launchStatus[e.item.status])==null?"":t)+"\n            </div>\n            "),n+='\n        </div>\n        <div class="col-xs-6 col-sm-2 show-time ftp-cols">\n            ';if(e.criteria.start_time){n+="\n            ";if(e.item.startTime){n+="\n            ";var a=parseInt(e.item.startTime),f=e.dateFormat(a);n+='\n            <div class="hoverFullTime">\n                        <span class="visible-xs-inline showTimeTip"><b>'+((t=e.text.launches.prefixStartTime)==null?"":t)+'</b></span>\n                <span class="timeMoment timeHover">'+((t=e.moment(f).fromNow())==null?"":t)+'</span>\n                <span class="time-full timeHover hidden">'+((t=f)==null?"":t)+'</span>\n                <span class="time-ms hidden">'+((t=a)==null?"":t)+"</span>\n            </div>\n            "}n+="\n            "}n+='\n        </div>\n        <div class="col-xs-6 col-sm-2 ftp-cols">\n            ';if(e.criteria.end_time){n+="\n            ";if(e.item.end_time){n+="\n            ";var a=parseInt(e.item.end_time),f=e.dateFormat(a);n+='\n            <div class="hoverFullTime">\n                            <span class="visible-xs-inline showTimeTip"><b>'+((t=e.text.launches.finishTime)==null?"":t)+'</b></span>\n                <span class="timeMoment timeHover">'+((t=e.moment(f).fromNow())==null?"":t)+'</span>\n                <span class="time-full timeHover hidden">'+((t=f)==null?"":t)+'</span>\n                <span class="time-ms hidden">'+((t=a)==null?"":t)+"</span>\n            </div>\n            "}else e.item.status=="IN_PROGRESS"&&(n+='\n            <img alt="'+((t=e.text.launches.inProgress)==null?"":t)+'" src="img/time-in-progress.gif"\n                 title="'+((t=e.text.launches.inProgress)==null?"":t)+'">\n            ');n+="\n            "}n+='\n        </div>\n    </div>\n    <div class="accordion-block">\n        <i class="material-icons" data-js-toggle-open="">keyboard_arrow_down</i>\n        <i class="material-icons little" data-js-toggle-open="">keyboard_arrow_up</i>\n    </div>\n</div>\n<div class="statistics-block">\n    <div class="col-xs-12 col-sm-5 nopadding empty-coll"></div>\n    <div class="col-xs-12 col-sm-7 nopadding rp-mobile-padding">\n        <div class="col-xs-12 col-sm-6 nopadding">\n            ';if(e.criteria.total){n+="\n            ";var l=e.item.statistics$executions$total;n+='\n            <div class="col-xs-3 col-sm-3 ftp-cols rp-info rp-colors total">\n                <div class="filter-tb-td">\n                    ',l&&l!=="0"?n+='\n                    <a class="cases-view rp-blue-link-undrl"\n                       href="'+((t=e.allCasesUrl("total"))==null?"":t)+'">'+((t=l)==null?"":t)+'</a>\n                    <p class="visible-xs cell-name">'+((t=e.text.launchesHeaders.total)==null?"":t)+"</p>\n                    ":n+='\n                    <span class="text-muted visible-xs-inline">0</span>\n                    <p class="visible-xs cell-name">'+((t=e.text.launchesHeaders.total)==null?"":t)+"</p>\n                    ",n+="\n                </div>\n            </div>\n            "}n+="\n            ";if(e.criteria.passed){n+="\n            ";var c=e.item.statistics$executions$passed;n+='\n            <div class="col-xs-3 col-sm-3 ftp-cols rp-info rp-colors passed">\n                <div class="filter-tb-td">\n                    ',c&&c!=="0"?n+='\n                    <a class="cases-view rp-blue-link-undrl"\n                       href="'+((t=e.allCasesUrl("passed"))==null?"":t)+'">'+((t=c)==null?"":t)+'</a>\n                    <p class="visible-xs cell-name">'+((t=e.text.launchesHeaders.passed)==null?"":t)+"</p>\n                    ":n+='\n                    <span class="text-muted visible-xs-inline">0</span>\n                    <p class="visible-xs cell-name">'+((t=e.text.launchesHeaders.passed)==null?"":t)+"</p>\n                    ",n+="\n                </div>\n            </div>\n            "}n+="\n            ";if(e.criteria.failed){n+="\n            ";var h=e.item.statistics$executions$failed;n+='\n            <div class="col-xs-3 col-sm-3 ftp-cols rp-info rp-colors failed">\n                <div class="filter-tb-td">\n                    ',h&&h!=="0"?n+='\n                    <a class="cases-view rp-blue-link-undrl"\n                       href="'+((t=e.allCasesUrl("failedPlusInterrupted"))==null?"":t)+'">'+((t=h)==null?"":t)+'</a>\n                    <p class="visible-xs cell-name">'+((t=e.text.launchesHeaders.failed)==null?"":t)+"</p>\n                    ":n+='\n                    <span class="text-muted visible-xs-inline">0</span>\n                    <p class="visible-xs cell-name">'+((t=e.text.launchesHeaders.failed)==null?"":t)+"</p>\n                    ",n+="\n                </div>\n            </div>\n            "}n+="\n            ";if(e.criteria.skipped){n+="\n            ";var p=e.item.statistics$executions$skipped;n+='\n            <div class="col-xs-3 col-sm-3 ftp-cols rp-info rp-colors skipped">\n                <div class="filter-tb-td">\n                    ',p&&p!=="0"?n+='\n                    <a class="cases-view rp-blue-link-undrl"\n                       href="'+((t=e.allCasesUrl("skipped"))==null?"":t)+'">'+((t=p)==null?"":t)+'</a>\n                    <p class="visible-xs cell-name">'+((t=e.text.launchesHeaders.skipped)==null?"":t)+"</p>\n                    ":n+='\n                    <span class="text-muted visible-xs-inline">0</span>\n                    <p class="visible-xs cell-name">'+((t=e.text.launchesHeaders.skipped)==null?"":t)+"</p>\n                    ",n+="\n                </div>\n            </div>\n            "}n+='\n        </div>\n        <div class="col-xs-12 col-sm-6 nopadding">\n            ';if(e.criteria.product_bug){n+="\n            ";var d=e.item.statistics$defects$product_bug;n+='\n            <div class="col-xs-3 col-sm-3 ftp-cols rp-info rp-colors pb">\n                <div class="filter-tb-td">\n                    ';if(d&&d.total){n+="\n                    ";var l=d.total,v="product_bug",m=e.allCasesUrl(v),g=d;n+='\n                    <div class="launch-suite-defects" data-js-launch-defect data-defect-type="'+((t=v)==null?"":t)+'"\n                         id="'+((t=e.widgetId)==null?"":t)+"-defect-"+((t=id)==null?"":t)+"-"+((t=v)==null?"":t)+'">\n                        <a href="'+r(m)+'" class="chart-overflow">\n                            <div class="chart-container" data-js-chart></div>\n                            <div class="total-overflow">\n                                        <span class="pr-grid-defect-total"\n                                              style="border-color: '+((t=e.getDefectColor(g,v,e.defectTypes))==null?"":t)+'">\n                                            '+((t=l)==null?"":t)+'\n                                        </span>\n                            </div>\n                        </a>\n                    </div>\n                            <span class="visible-xs cases-view ">\n                                <a href="'+r(m)+'" class="rp-blue-link-undrl"\n                                   data-id="'+r(id)+'">\n                                    '+r(l)+'\n                                </a>\n                            </span>\n                    <p class="visible-xs cell-name">'+((t=e.text.launchesHeaders.product_bug)==null?"":t)+"</p>\n                    "}else n+='\n                    <span class="text-muted visible-xs-inline">0</span>\n                    <p class="visible-xs cell-name">'+((t=e.text.launchesHeaders.product_bug)==null?"":t)+"</p>\n                    ";n+="\n                </div>\n            </div>\n            "}n+="\n            ";if(e.criteria.automation_bug){n+="\n            ";var y=e.item.statistics$defects$automation_bug;n+='\n            <div class="col-xs-3 col-sm-3 ftp-cols rp-info rp-colors ab">\n                <div class="filter-tb-td">\n                    ';if(y&&y.total){n+="\n                    ";var l=y.total,v="automation_bug",m=e.allCasesUrl(v),g=y;n+='\n                    <div class="launch-suite-defects" data-js-launch-defect data-defect-type="'+((t=v)==null?"":t)+'"\n                         id="'+((t=e.widgetId)==null?"":t)+"-defect-"+((t=id)==null?"":t)+"-"+((t=v)==null?"":t)+'">\n                        <a href="'+r(m)+'" class="chart-overflow">\n                            <div class="chart-container" data-js-chart></div>\n                            <div class="total-overflow">\n                                        <span class="pr-grid-defect-total"\n                                              style="border-color: '+((t=e.getDefectColor(g,v,e.defectTypes))==null?"":t)+'">\n                                            '+((t=l)==null?"":t)+'\n                                        </span>\n                            </div>\n                        </a>\n                    </div>\n                            <span class="visible-xs cases-view ">\n                                <a href="'+r(m)+'" class="rp-blue-link-undrl"\n                                   data-id="'+r(id)+'">\n                                    '+r(l)+'\n                                </a>\n                            </span>\n                    <p class="visible-xs cell-name">'+((t=e.text.launchesHeaders.automation_bug)==null?"":t)+"</p>\n                    "}else n+='\n                    <span class="text-muted visible-xs-inline">0</span>\n                    <p class="visible-xs cell-name">'+((t=e.text.launchesHeaders.automation_bug)==null?"":t)+"</p>\n                    ";n+="\n                </div>\n            </div>\n            "}n+="\n            ";if(e.criteria.system_issue){n+="\n            ";var b=e.item.statistics$defects$system_issue;n+='\n            <div class="col-xs-3 col-sm-3 ftp-cols rp-info rp-colors si">\n                <div class="filter-tb-td">\n                    ';if(b&&b.total){n+="\n                    ";var l=b.total,v="system_issue",m=e.allCasesUrl(v),g=b;n+='\n                    <div class="launch-suite-defects" data-js-launch-defect data-defect-type="'+((t=v)==null?"":t)+'"\n                         id="'+((t=e.widgetId)==null?"":t)+"-defect-"+((t=id)==null?"":t)+"-"+((t=v)==null?"":t)+'">\n                        <a href="'+r(m)+'" class="chart-overflow">\n                            <div class="chart-container" data-js-chart></div>\n                            <div class="total-overflow">\n                                        <span\n                                            style="border-color: '+((t=e.getDefectColor(g,v,e.defectTypes))==null?"":t)+'">\n                                            '+((t=l)==null?"":t)+'\n                                        </span>\n                            </div>\n                        </a>\n                    </div>\n                            <span class="visible-xs cases-view ">\n                                <a href="'+r(m)+'" class="rp-blue-link-undrl"\n                                   data-id="'+r(id)+'">\n                                    '+r(l)+'\n                                </a>\n                            </span>\n                    <p class="visible-xs cell-name">'+((t=e.text.launchesHeaders.system_issue)==null?"":t)+"</p>\n                    "}else n+='\n                    <span class="text-muted visible-xs-inline">0</span>\n                    <p class="visible-xs cell-name">'+((t=e.text.launchesHeaders.system_issue)==null?"":t)+"</p>\n                    ";n+="\n                </div>\n            </div>\n            "}n+="\n            ";if(e.criteria.to_investigate){n+='\n            <div class="col-xs-3 col-sm-3 ftp-cols rp-info rp-colors ti">\n                <div class="filter-tb-td">\n                    ';var w=e.item.statistics$defects$to_investigate;n+="\n                    ";if(w&&w.total){n+="\n                    ";var l=w.total,v="to_investigate",m=e.allCasesUrl(v),g=w,E=e.getDefectColor(g,v,e.defectTypes);n+='\n                    <a href="'+r(m)+'"\n                       style="background: '+((t=E)==null?"":t)+"; border-color: "+((t=E)==null?"":t)+'"\n                       class="rp-ti-badge hidden-xs-inline" data-id="'+r(id)+'">\n                        '+r(l)+'\n                    </a>\n                    <a class="cases-view rp-blue-link-undrl visible-xs-inline"\n                       href="'+r(m)+'">\n                        '+((t=l)==null?"":t)+'\n                    </a>\n                    <p class="visible-xs cell-name">'+((t=e.text.launchesHeaders.to_investigate)==null?"":t)+"</p>\n                    "}else n+='\n                    <span class="text-muted visible-xs-inline">0</span>\n                    <p class="visible-xs cell-name">'+((t=e.text.launchesHeaders.to_investigate)==null?"":t)+"</p>\n                    ";n+="\n                </div>\n            </div>\n            "}return n+="\n        </div>\n    </div>\n</div>\n",n},this.JST["tpl-widget-filters-table"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="launches-table-panel" data-js-launches-table>\n    ',e.noItems||(n+='\n    <div class="container-fluid">\n        <div class="row rp-grid-thead hidden-xs">\n            <div class="col-xs-12 col-sm-5 nopadding">\n                <div class="col-xs-12 col-sm-6">\n                    <div class="rp-grid-th">\n                        <span class="rp-grid-th-name">'+((t=e.text.launchesHeaders.name)==null?"":t)+'</span>\n                    </div>\n                </div>\n                <div class="col-xs-12 col-sm-2 ftp-cols">\n                    ',e.criteria.status&&(n+='\n                    <div class="rp-grid-th"><span class="rp-grid-th-name">'+((t=e.text.filterNameById.status)==null?"":t)+"</span>\n                    </div>\n                    "),n+='\n                </div>\n                <div class="col-xs-6 col-sm-2 ftp-cols">\n                    ',e.criteria.start_time&&(n+='\n                    <div class="rp-grid-th"><span\n                        class="rp-grid-th-name">'+((t=e.text.launchesHeaders.start_time)==null?"":t)+"</span></div>\n                    "),n+='\n                </div>\n                <div class="col-xs-6 col-sm-2 ftp-cols">\n                    ',e.criteria.end_time&&(n+='\n                    <div class="rp-grid-th"><span\n                        class="rp-grid-th-name">'+((t=e.text.launchesHeaders.end_time)==null?"":t)+"</span></div>\n                    "),n+='\n                </div>\n            </div>\n            <div class="col-xs-12 col-sm-7 nopadding">\n                <div class="col-xs-12 col-sm-6 nopadding">\n                    ',e.criteria.total&&(n+='\n                    <div class="col-xs-3 col-sm-3 ftp-cols">\n                        <div class="rp-grid-th"><span\n                            class="rp-grid-th-name">'+((t=e.text.launchesHeaders.total)==null?"":t)+"</span></div>\n                    </div>\n                    "),n+="\n                    ",e.criteria.passed&&(n+='\n                    <div class="col-xs-3 col-sm-3 ftp-cols">\n                        <div class="rp-grid-th"><span\n                            class="rp-grid-th-name">'+((t=e.text.launchesHeaders.passed)==null?"":t)+"</span></div>\n                    </div>\n                    "),n+="\n                    ",e.criteria.failed&&(n+='\n                    <div class="col-xs-3 col-sm-3 ftp-cols">\n                        <div class="rp-grid-th"><span\n                            class="rp-grid-th-name">'+((t=e.text.launchesHeaders.failed)==null?"":t)+"</span></div>\n                    </div>\n                    "),n+="\n                    ",e.criteria.skipped&&(n+='\n                    <div class="col-xs-3 col-sm-3 ftp-cols">\n                        <div class="rp-grid-th"><span\n                            class="rp-grid-th-name">'+((t=e.text.launchesHeaders.skipped)==null?"":t)+"</span></div>\n                    </div>\n                    "),n+='\n                </div>\n                <div class="col-xs-12 col-sm-6 nopadding">\n                    ',e.criteria.product_bug&&(n+='\n                    <div class="col-xs-3 col-sm-3 ftp-cols">\n                        <div class="rp-grid-th"><span class="rp-grid-th-name">'+((t=e.text.launchesHeaders.product_bug)==null?"":t)+"</span>\n                        </div>\n                    </div>\n                    "),n+="\n                    ",e.criteria.automation_bug&&(n+='\n                    <div class="col-xs-3 col-sm-3 ftp-cols">\n                        <div class="rp-grid-th"><span class="rp-grid-th-name">'+((t=e.text.launchesHeaders.automation_bug)==null?"":t)+"</span>\n                        </div>\n                    </div>\n                    "),n+="\n                    ",e.criteria.system_issue&&(n+='\n                    <div class="col-xs-3 col-sm-3 ftp-cols">\n                        <div class="rp-grid-th"><span class="rp-grid-th-name">'+((t=e.text.launchesHeaders.system_issue)==null?"":t)+"</span>\n                        </div>\n                    </div>\n                    "),n+="\n                    ",e.criteria.to_investigate&&(n+='\n                    <div class="col-xs-3 col-sm-3 ftp-cols" style="overflow: hidden;">\n                        <div class="rp-grid-th"><span class="rp-grid-th-name">'+((t=e.text.launchesHeaders.to_investigate)==null?"":t)+"</span>\n                        </div>\n                    </div>\n                    "),n+="\n                </div>\n            </div>\n        </div>\n        <div data-js-items></div>\n    </div>\n    "),n+='\n    <div class="mobile-disabling-cover"></div>\n</div>\n',n},this.JST["tpl-widget-invalid-data"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="widget-invalid-data" data-js-edit-invalid-data>\n    <div class="widget-invalid-text">\n        '+((t=e.text.widgets.haveInvalidCriteria.replace("%%%",e.qty?e.qty:"").replace("$$$",e.text.widgets[e.qty>1?"criteria":"criterion"]))==null?"":t)+"\n    </div>\n    ",e.canEdit&&(n+="\n    <div>"+((t=e.text.widgets.pleaseUpdateWidget)==null?"":t)+"</div>\n    "),n+="\n</div>\n",n},this.JST["tpl-widget-launch-execution-and-issue-statistics"]=function(e){var t,n="",r=_.escape;return n+='<div class="left-widget-wrapper widget-wrapper" data-js-left-chart-container></div>\n<div class="right-widget-wrapper widget-wrapper" data-js-right-chart-container></div>\n',n},this.JST["tpl-widget-passing-rate-per-launch"]=function(e){var t,n="",r=_.escape;return n+='<div class="widget-wrapper" data-js-chart-container></div>\n',n},this.JST["tpl-widget-passing-rate-summary"]=function(e){var t,n="",r=_.escape;return n+='<div class="widget-wrapper" data-js-chart-container></div>\n',n},this.JST["tpl-widget-statistics-panel"]=function(e){function s(){n+=i.call(arguments,"")}var t,n="",r=_.escape,i=Array.prototype.join;return n+='<div class="statistics-panel ',e.invalid&&(n+="widget-invalid"),n+='">\n    ',e.invalid&&(n+="\n    "+((t=e.invalidDataMessage)==null?"":t)+"\n    "),n+="\n    ",e.statistics&&!_.isEmpty(e.statistics)&&(!_.isEmpty(e.statistics.defects)||!_.isEmpty(e.statistics.executions))&&(n+="\n    ",_.isEmpty(e.statistics.executions)||(n+='\n    <div class="stats-row">\n        ',_.each(e.statistics.executions,function(e){n+='\n        <div class="stats-cols">\n            <div class="statictic-block" style="border-left-color: '+((t=e.color)==null?"":t)+'">\n                <h2>'+((t=e.value)==null?"":t)+"</h2>\n                <p>"+((t=e.key)==null?"":t)+"</p>\n            </div>\n        </div>\n        "}),n+="\n    </div>\n    "),n+="\n    ",_.isEmpty(e.statistics.defects)||(n+='\n    <div class="stats-row">\n        ',_.each(e.statistics.defects,function(e){n+='\n        <div class="stats-cols">\n            <div class="statictic-block"\n                 style="border-left-color: '+r(e.color)+"; ",e.seriesId=="invalid"&&(n+="color: "+r(e.color)),n+='">\n                <h2>'+((t=e.value)==null?"":t)+"</h2>\n                <p>"+((t=e.key)==null?"":t)+"</p>\n            </div>\n        </div>\n        "}),n+="\n    </div>\n    "),n+='\n    <div class="mobile-disabling-cover"></div>\n    '),n+="\n</div>\n",n},this.JST}),define("app",["require","underscore","localization","localization"],function(e){"use strict";var t=e("underscore"),n=e("localization"),r=e("localization"),i=function(){return{secureContext:!1,projectsDropDownVisible:8,dynamicDropDownVisible:10,objectsOnFavorites:50,objectsOnPage:50,objectsOnPageLogs:250,userInputDelay:500,userFilterDelay:500,scrollTrackerDelay:100,scrollTrackerTrashHold:250,objectsOnUsers:50,membersAtATime:20,defaultProject:null,apiVersion:"../api/v1/",userUrl:"../api/v1/user/",user:null,fullUser:null,fullscreenMode:!1,loginView:null,router:null,deletingLaunches:[],cacheDelays:{getMembers:3e5,getAssignableMembers:3e5},projectUrl:"/api/v1/project/",project:{},projectId:null,defaultProjectsSettings:{listView:"list",sorting:"name",sortingDirection:"asc",search:""},currentProjectsSettings:{listView:"",sorting:"",sortingDirection:"",search:""},projectRoles:["CUSTOMER","OPERATOR","MEMBER","PROJECT_MANAGER"],defaultProjectRole:"MEMBER",projectRolesEnum:{customer:"CUSTOMER",operator:"OPERATOR",member:"MEMBER",project_manager:"PROJECT_MANAGER"},accountRoles:["USER","ADMINISTRATOR"],defaultAccountRole:"USER",accountRolesEnum:{user:"USER",administrator:"ADMINISTRATOR"},accountTypesEnum:{internal:"INTERNAL"},btsEnum:{jira:"JIRA",tfs:"TFS",rally:"RALLY"},breadcrumbMode:{expanded:"expanded"},commentAnchor:"",dashboardNameSize:{min:3,max:128},maxDashboards:50,maxWidgetsOnDashboard:20,defaultWidgetWidth:12,minWidgetWidth:4,defaultWidgetHeight:7,minWidgetHeight:4,widgetGridCellHeight:60,widgetGridVerticalMargin:15,itemsAutoRefresh:6e4,inProgressAutoRefresh:15e3,historyItemsToLoad:30,defaultHistoryDepth:10,defaultTabId:"allCases",autocompletePageSize:10,contextName:null,preferences:null,dateTimeFormat:"yy-mm-dd",dateRangeFullFormat:"HH:mm MM/DD/YY",dateRangeFormat:"MM/DD/YY",widgetTimeFormat:"YYYY-MM-DD",session:{},forms:{nameRange:[1,128],fullNameRange:[3,256],passwordRange:[4,25],itemDescriptionMax:1024,tagsMin:3,tagsMax:1024,triggerMin:3,filterName:[3,128],filterUser:3,projectNameRange:[3,256]},launchVerifyDelay:3e3,launchStatus:{inProgress:"IN_PROGRESS",stopped:"STOPPED",interrupted:"INTERRUPTED",reseted:"RESETED",skipped:"SKIPPED"},defectsGroupSorted:["TO_INVESTIGATE","PRODUCT_BUG","AUTOMATION_BUG","SYSTEM_ISSUE","NO_DEFECT"],defaultColors:{total:"#489BEB",passed:"#87b77b",failed:"#f36c4a",skipped:"#bdc7cc",automationBug:"#f7d63e",automation_bug:"#f7d63e",noDefect:"#777777",no_defect:"#777777",productBug:"#ec3900",product_bug:"#ec3900",systemIssue:"#0274d1",system_issue:"#0274d1",toInvestigate:"#ffb743",to_investigate:"#ffb743",investigated:"#87b87f",duration:"#507fd5",interrupted:"#a94442",notPassed:"#CD1B00",negative:"#e52e2e",zero:"#486192",positive:"#63c93b",invalid:"#ff3222",numberLaunches:"#0F55FF"},patterns:{email:/^[a-z0-9._%+-]+@([a-z0-9_-]+\.)+[a-z0-9]{2,}$/i,emailInternal:"^((?!(@epam.com)).)*$",emailWrong:/wrong email/i,login:/^[0-9a-zA-Z-_.]{1,128}$/,fullName:/^[a-z0-9._-\s\u0400-\u04FF]{3,256}$/i,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9\.])?)+[a-zA-Z]{2,6}$/,originalPass:/^(.){4,25}$/,onlyIntegers:/^\d+$/,doubles:/^[0-9]+(\.[0-9]+)?$/,inputLink:/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,urlT:/(http|https):\/\/[a-z0-9\-_]+(\.[a-z0-9\-_]+)+([a-z0-9\-\.,@\?^=%&;:/~\+#]*[a-z0-9\-@\?^=%&;/~\+#])?/i,htmlError:/<\/body>/i,getBodyContent:/<body[^>]*>((.|[\n\r])*)<\/body>/im,replaceBodyTag:/<\/?body[^>]*>/gi,hostandIP:/((^\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\s*$)|(^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$))|(^\s*((?=.{1,255}$)(?=.*[A-Za-z].*)[0-9A-Za-z](?:(?:[0-9A-Za-z]|\b-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|\b-){0,61}[0-9A-Za-z])?)*)\s*$)/,defectsLocator:/AB001|PB001|SI001|ND001|TI001/,symbolsLogin:/^[0-9a-zA-Z-_]+$/,symbolsFullName:/^[0-9a-zA-Zа-яА-Я-_. ]+$/},restorationStamp:"?reset=",commentsSeparator:"\n&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;&#8801;\n",logStrNumberAutoAnalyze:[{name:"2",value:"2"},{name:"3",value:"3"},{name:"4",value:"4"},{name:"5",value:"5"},{name:r.ui.all,value:"-1"}],autoAnalysisAccuracy:{CLASSIC:{minShouldMatch:"95",minDocFreq:"1",minTermFreq:"1",numberOfLogLines:"-1"},MODERATE:{minShouldMatch:"80",minDocFreq:"1",minTermFreq:"1",numberOfLogLines:"5"},LIGHT:{minShouldMatch:"60",minDocFreq:"1",minTermFreq:"1",numberOfLogLines:"3"}},forSettings:{defaultPassword:"11111111",projectNotFoundPattern:"No project could be found",analyzerMode:"LAUNCH_NAME",accuracyMode:"MODERATE",projectSpecific:[{name:"DEFAULT",value:"DEFAULT"},{name:"BDD",value:"BDD"}],interruptedJob:[{name:r.forSettings.hour1,value:"1 hour"},{name:r.forSettings.hour3,value:"3 hours"},{name:r.forSettings.hour6,value:"6 hours"},{name:r.forSettings.hour12,value:"12 hours"},{name:r.forSettings.day1,value:"1 day"},{name:r.forSettings.week1,value:"1 week"}],keepLogs:[{name:r.forSettings.week2,value:"2 weeks"},{name:r.forSettings.month1,value:"1 month"},{name:r.forSettings.month3,value:"3 months"},{name:r.forSettings.month6,value:"6 months"},{name:r.forSettings.forever,value:"forever"}],keepScreenshots:[{name:r.forSettings.week1,value:"1 week"},{name:r.forSettings.week2,value:"2 weeks"},{name:r.forSettings.week3,value:"3 weeks"},{name:r.forSettings.month1,value:"1 month"},{name:r.forSettings.month3,value:"3 months"},{name:r.forSettings.forever,value:"forever"}],btsList:[{name:"JIRA",value:"JIRA"},{name:"RALLY",value:"RALLY"}],btsJIRA:{multiple:!0,disabledForEdit:["issuetype"],credentialsErrorPattern:"Unauthorized (401)",logsAmount:50,authorizationType:[{name:n.ui.BASIC,value:"BASIC"}],ticketType:[{name:"STORY",value:"STORY"},{name:"BUG",value:"BUG"},{name:"IMPROVEMENT",value:"IMPROVEMENT"}],defaultSeverity:[{name:"BLOCKER",value:"BLOCKER"},{name:"CRITICAL",value:"CRITICAL"},{name:"MAJOR",value:"MAJOR"},{name:"MINOR",value:"MINOR"},{name:"TRIVIAL",value:"TRIVIAL"}],canUseRPAuthorization:!0},btsTFS:{credentialsErrorPattern:"Access denied connecting to TFS",authorizationType:[{name:n.ui.NTLM,value:"NTLM"}],ticketType:[{name:"BUG",value:"BUG"}],disabledForEdit:[],canUseRPAuthorization:!0},btsRALLY:{authorizationType:[{name:n.ui.APIKEY,value:"APIKEY"}],ticketType:[{name:"BUG",value:"BUG"}],disabledForEdit:[],canUseRPAuthorization:!1},emailInCase:[{value:"ALWAYS",name:r.bts.always},{value:"TO_INVESTIGATE",name:r.bts.launchHasInvestigate},{value:"FAILED",name:r.bts.launchHasIssue},{value:"MORE_10",name:r.bts.more10},{value:"MORE_20",name:r.bts.more20},{value:"MORE_50",name:r.bts.more50}]},forAdminSettings:{protocol:[{value:"smtp",name:"SMTP"}],defaultProtocol:"smtp"},widgetCriteria:{launch_statistics_exec:["Passed","Failed","Skipped","Total"],launch_statistics_issue:["Product.Bug","Automation.Bug","System.Issue","Total"],investigated_trend:["Product.Bug","Automation.Bug","System.Issue","To.Investigate"]},minNameLength:3,maxNameLength:55,authTypes:{gitHub:"github",activeDirectory:"ad",ldap:"ldap"}}},s=null,o=function(){return s||(s=i()),s},u=function(){s=null};return{getInstance:o,clear:u}}),define("dataUrlResolver",["app"],function(e){"use strict";var t=e.getInstance(),n=function(){return"/uat/sso/me/apitoken"},r=function(){return"/uat/sso/me"},i=function(e){return"/uat/sso/oauth/token?grant_type=password&password="+e.password+"&username="+e.login},s=function(){return"/composite/info"},o=function(){return t.apiVersion+t.project.projectId||t.userModel.get("defaultProject")},u=function(){return t.apiVersion+"project/"+(t.project.projectId||t.userModel.get("defaultProject"))},a=function(){var e=new Date;return t.apiVersion+"data/userphoto?v="+e.getTime()+"&id="},f=function(e){var t=e.join(",");return o()+"/filter/filters?ids="+t},l=function(e){return e?o()+"/filter"+e:o()+"/filter"},c=function(e){return l()+"/"+e},h=function(){return l()+"/names"},p=function(){return h()+"?is_shared=true"},d=function(){return l()+"/own"},v=function(){return l()+"/shared"},m=function(){return o()+"/widget/names/shared"},g=function(e){return o()+"/widget/shared?page.size=10&page.page="+(e&&e.page?e.page:1)},y=function(e){return o()+"/widget/shared/search?term="+(e&&e.term?e.term:"")+"&page.size=10&page.page="+(e&&e.page?e.page:1)},b=function(e){return l()+"/"+e},w=function(){return"#"+t.project.projectId+"/filters"},E=function(){var e=t.userModel.toJSON();return t.apiVersion+"project/"+(t.project.projectId||e.defaultProject)+"/preference/"+e.name},S=function(e){return t.projectUrl+(e||t.project.projectId||t.userModel.get("defaultProject"))},x=function(){return"#"+t.project.projectId+"/launches"},T=function(){return"#"+t.project.projectId+"/userdebug"},N=function(e){return x()+"/all?"+e},C=function(){return o()+"/launch"},k=function(){return C()+"/merge"},L=function(){return C()+"/update"},A=function(){return C()+"/stop"},O=function(e){return o()+"/launch/tags?filter.cnt.tags="+encodeURIComponent(e)},M=function(e){return o()+"/launch/names?filter.cnt.name="+encodeURIComponent(e)},_=function(e,t){return o()+"/launch/owners?filter.cnt.user="+encodeURI(e)+(t?"&mode="+t:"")},D=function(e){return t.apiVersion+"project/"+t.project.projectId+"/usernames?filter.cnt.users="+encodeURI(e)},P=function(e,t){return o()+"/item/tags?launch="+t.replace("all-cases-for-","")+"&filter.cnt.tags="+encodeURI(e)},H=function(e){return o()+"/launch/"+e+"/update"},B=function(e){return o()+"/launch/"+e},j=function(e){return o()+"/item/"+e+"/update"},F=function(e){return o()+"/item/"+e},I=function(){return o()+"/launch/analyze"},q=function(e){return o()+"/launch/"+e+"/stop"},R=function(e){return e=e||t.project.projectId,t.apiVersion+"project/"+e},U=function(e){return e=e||t.project.projectId,t.apiVersion+"project/"+e+"/emailconfig"},z=function(){return t.apiVersion+"project/"+t.project.projectId+"/index"},W=function(){return o()+"/external-system"},X=function(e){return o()+"/external-system/"+e},V=function(){return o()+"/external-system/clear"},$=function(e){return R()+"/users"+(e?"?page.page=1&page.size=50&page.sort=login,ASC&filter.cnt.name="+e:"")},J=function(e){return R()+"/users"+(e?"?page.page=1&page.size=50&page.sort=login,ASC&filter.cnt.email="+e:"")},K=function(e){return R(e)+"/unassign"},Q=function(e){return R(e)+"/assign"},G=function(){return o()+"/widget"},Y=function(){return o()+"/widget/preview"},Z=function(){return o()+"/widget/empty"},et=function(){return u()+"/widget"},tt=function(e){return G()+"/"+e},nt=function(e){return et()+"/"+e},rt=function(){return o()+"/widget/names/all"},it=function(e){return o()+"/item/"+e},st=function(e){return o()+"/item/items?ids="+e.join(",")},ot=function(e){return o()+"/item/history/?ids="+e+"&history_depth=10"},ut=function(e){return o()+"/activity/item/"+e},at=function(){return o()+"/dashboard"},ft=function(e){return at()+"/"+e},lt=function(){return at()+"/shared?page.page=1&page.size=300"},ct=function(e){return"#"+t.project.projectId+"/dashboard"+(e?"/"+e:"")},ht=function(){return o()+"/favorites"},pt=function(e){return ht()+"?resource_id="+e+"&resource_type=DASHBOARD"},dt=function(e){return o()+"/launch/compare?ids="+e},vt=function(e,t){var n=o()+"/external-system/"+e+"/fields-set";return t&&(n+="?issuetype="+t),n},mt=function(e){return o()+"/external-system/"+e+"/issue_types"},gt=function(e){return o()+"/external-system/"+e+"/ticket"},yt=function(){return wt()+"/issue/add"},bt=function(e,t){return o()+"/external-system/"+t+"/ticket/"+e},wt=function(){return o()+"/item"},Et=function(e,t){return wt()+"/history?ids="+e.toString()+"&history_depth="+t},St=function(e,t){return window.location.hash+"/history?ids="+e.join(",")+"&history_depth="+t},xt=function(){return t.apiVersion+"project"},Tt=function(e){return xt()+"/"+e},Nt=function(e){return t.apiVersion+"settings/"+e},Ct=function(e){return t.apiVersion+"settings/"+e+"/email"},kt=function(e){return t.apiVersion+"settings/"+e+"/email"},Lt=function(e){return e==="github"?"/uat/settings/default/oauth/"+e:"/uat/settings/auth/"+e},At=function(e){return xt()+"/list"+(e||"")},Ot=function(e){return At()+"/"+e},Mt=function(){return t.apiVersion+"user"},_t=function(){return Mt()+"/"+t.userModel.get("name")},Dt=function(){return t.apiVersion+"user/bid"},Pt=function(e){return t.apiVersion+"user/registration?uuid="+e},Ht=function(e){return t.apiVersion+"user/registration?uuid="+e},Bt=function(e){return e?t.apiVersion+"user/all?"+e:t.apiVersion+"user/all"},jt=function(e){var e=e,n=t.apiVersion+"user/",r="",i="";return e||(e={}),e.page||(e.page=1),e.size||(e.size=10),e.search?(n+="search/",r="&page.sort=login,ASC",i="&term="+e.search):(n+="all",r="&page.sort=login,ASC"),n+"?page.page="+e.page+"&page.size="+e.size+r+i},Ft=function(e){var e=e,n=t.apiVersion+"project/"+(t.project.projectId||t.userModel.get("defaultProject"))+"/usernames/",r="",i="";return e||(e={}),e.page||(e.page=1),e.size||(e.size=10),e.search?(n+="search/",r="&page.sort=login,ASC",i="&term="+e.search):(n+="all",r="&page.sort=login,ASC"),n+"?page.page="+e.page+"&page.size="+e.size+r+i},It=function(e){return t.apiVersion+"user/"+e},qt=function(){return t.apiVersion+"user/registration/info"},Rt=function(){return xt()+"/names"},Ut=function(e,t){return R(e)+"/users"+t},zt=function(e,t){return R(e)+"/assignable"+t},Wt=function(e){return"#"+t.project.projectId+"/members/"+e},Xt=function(e){return o()+"/launch/status?ids="+e},Vt=function(e,t){return"#administrate/project-details/"+e+"?interval="+t},$t=function(e,t){return Ot(e)+"?interval="+t+"M"},Jt=function(){return t.apiVersion+"user/password/restore"},Kt=function(e){return e=e?"/"+e:"",t.apiVersion+"user/password/reset"+e},Qt=function(){return t.apiVersion+"user/password/change"},Gt=function(e,t,n){return Tt(e)+"/widget/"+t+"?interval="+n+"M"},Yt=function(){return"/launches/all/all-cases-for-"},Zt=function(){return"?page.page=1&page.sort=start_time,ASC&filter.eq.has_childs=false&"},en=function(){return"?page.page=1&page.sort=start_time,ASC&"},tn=function(){return o()+"/data/"},nn=function(e){var n=t.userModel.get("token"),r="";return n&&(r="?access_token="+n.split(" ")[1]),o()+"/data/"+e+r},rn=function(){return t.apiVersion+"data/photo"},sn=function(){return t.apiVersion+"user/uuid"},on=function(e){return"/uat/sso/me/"+e+"/synchronize"},un=function(e,n){return t.apiVersion+t.project.projectId+"/launch/"+e+"/report?view="+(n||"xls")},an=function(e){return t.apiVersion+e+"/settings/"},fn=function(e){return t.apiVersion+e+"/settings/sub-type/"},ln=function(e,t){switch(e){case"suit":case"test":e="item";break;case"launch":e=t?e+"/mode":e;break;default:}return o()+"/"+e},cn=function(){return o()+"/log"},hn=function(e,t){return ln(e)+"/"+t},pn=function(){return t.apiVersion+"demo/"+t.project.projectId},dn=function(){return t.apiVersion+"settings/default/analytics"},vn=function(){var e=t.userModel.get("token");return o()+"/launch/import"+"?access_token="+e.split(" ")[1]},mn=function(e){return o()+"/activity"+e};return{getApiToken:n,userLogout:r,userLogin:i,getRegistryInfo:s,getAvatar:a,getProjectBase:o,getChartProjectBase:u,getFilters:f,saveFilter:l,filterNames:h,filterNamesShared:p,widgetNamesShared:m,ownFilters:d,sharedFilters:v,widgetsShared:g,getPreferences:E,getProject:S,updateFilter:b,filtersBase:w,launchesBase:x,getLaunchStop:A,userDebugBade:T,updateLaunchUrl:H,deleteLaunchUrl:B,updateTestItemUrl:j,deleteTestItemUrl:F,launchAnalyzeUrl:I,launchFinishUrl:q,tabUrl:N,getLaunchBase:C,getMerge:k,getLaunchUpdate:L,queryByTags:O,queryByLaunchName:M,userAutoCompleteUrl:_,autocompleteUserUrl:D,tagsLaunchAutoCompleteUrl:P,updateProject:R,updateEmailProjectSettings:U,indexAction:z,createExternalSystem:W,updateExternalSystem:X,clearExternalSystem:V,projectUsers:$,getBtsTicket:bt,updateProjectUnassign:K,updateProjectAssign:Q,widget:G,widgetPreview:Y,emptyWidget:Z,chart:et,widgetById:tt,chartById:nt,widgetNames:rt,itemByKey:it,itemsByKeys:st,loadHistory:ot,loadActivityItems:ut,dashboard:at,dashboardById:ft,dashboardShared:lt,redirectToDashboard:ct,favorites:ht,favoritesByResourceId:pt,compareByIds:dt,btsFields:vt,btsTypes:mt,postBug:gt,loadBugs:yt,itemBase:wt,historyGrid:Et,historyGridUrl:St,adminProjectRoot:xt,adminProjectRootId:Tt,adminProjects:At,adminProject:Ot,getAdminSettings:Nt,setAdminSettings:Ct,deleteEmailSettings:kt,projectDetailsWidgets:Gt,addMemberUrl:Mt,userUrl:_t,sendInviteUrl:Dt,validateRegisterBidUrl:Ht,registerUserUrl:Pt,filterById:c,userInfoValidation:qt,allUsersUrl:Bt,searchUsersUrl:jt,searchUsersSafe:Ft,modifyUserUrl:It,getProjectNames:Rt,getMembers:Ut,getAssignableMembers:zt,getMembersTab:Wt,checkStatusUpdate:Xt,detailsInterval:Vt,detailsIntervalCall:$t,initPassChange:Jt,submitPassReset:Kt,submitPassChange:Qt,uploadPhoto:rn,getFile:tn,getFileById:nn,generateUUID:sn,updateExternalProfile:on,exportLaunchUrl:un,getDefectTypes:an,postDefectTypes:fn,getGridUrl:ln,getLogsUrl:cn,getLaunchItemUrl:hn,userByEmail:J,postDemoDataUrl:pn,adminAuthSettings:Lt,toggleAnalytics:dn,importLaunch:vn,getProjectEvents:mn,sharedWidgetSearch:y}}),define("callService",["require","exports","module","jquery","util"],function(e,t,n){"use strict";var r=e("jquery"),i=function(t,n,i,s,o){var u=e("util"),i=s?i:i?JSON.stringify(i):{},a={type:t,url:n,data:i};return o&&(a.beforeSend=function(e){e.persistant=!0,u.ajaxBeforeSend(e)}),r.ajax(a)};return{call:i}}),define("validators",["require","jquery","localization","dataUrlResolver","callService"],function(e){"use strict";var t=e("jquery"),n=e("localization"),r=e("dataUrlResolver"),i=e("callService"),s={},o=function(e,t){var r;t.isCaseSensitive?r=t.source.indexOf(e)!==-1:r=t.source.indexOf(e.toLowerCase())!==-1;if(r)return n.validation[t.type+"Duplication"]},u=function(e,t){var r=e.length;return r===0?n.validation[t.type+"Required"]||n.validation.requiredDefault:null},a=function(e,t){return s[t.type]||(s[t.type]=t.pattern instanceof RegExp?t.pattern:new RegExp(t.pattern,t.arg)),s[t.type].test(""+e)?null:t.message||n.validation[t.type]},f=function(e,t,r){var i=e.length;return i===0||d(i,t)?r.replaceTemplate(n.validation[t.type+"Length"],t.min,t.max):null},l=function(e,t,r){var i=e.length;return v(i,t)?r.replaceTemplate(n.validation[t.type+"MaxLength"],t.max):null},c=function(e,t,r){var i=h(e),s=parseInt(e,10);return!e.length||!i||s<t.min||s>t.max?r.replaceTemplate(n.validation[t.type+"Length"],t.min,t.max):null},h=function(e){return Number(e)==e&&e%1===0},p=function(e,t,r){var i=e.length;return i===0?null:d(i,t)?r.replaceTemplate(n.validation[t.type+"Length"],t.min,t.max):null},d=function(e,t){return e<t.min||e>t.max},v=function(e,t){return e>t.max},m=function(e){var n=t.Deferred();return i.call("GET",r.userInfoValidation()+"?email="+e).done(function(e){var t={valid:!e.is};n.resolve(t)}).fail(function(){n.resolve({valid:!1})}),n.promise()},g=function(e){var n=t.Deferred();return i.call("GET",r.userInfoValidation()+"?username="+e).done(function(e){var t={valid:!e.is};n.resolve(t)}).fail(function(){n.resolve({valid:!1})}),n.promise()};return{minMaxNumberRequired:c,noDuplications:o,required:u,matchRegex:a,minMaxRequired:f,minMaxNotRequired:p,remoteEmail:m,remoteLogin:g}}),define("coreService",["jquery","dataUrlResolver","callService"],function(e,t,n){"use strict";var r=n.call,i=function(){return r("GET",t.getApiToken())},s=function(){return r("POST",t.getApiToken())},o=function(){return r("DELETE",t.userLogout())},u=function(e){return r("POST",t.userLogin(e))},a=function(){return r("GET",t.getRegistryInfo())},f=function(){return r("GET",t.getPreferences())},l=function(e){return r("PUT",t.getPreferences(),e)},c=function(e){return r("GET",e)},h=function(){return r("GET",t.getProject())},p=function(e){return r("GET",t.autocompleteUserUrl(e))},d=function(e){return r("GET",t.userByEmail(e))},v=function(e){return r("GET",t.dashboardById(e))},m=function(){return r("GET",t.dashboard())},g=function(e){return r("POST",t.dashboard(),e)},y=function(e,n){var i=t.dashboardById(e);return r("DELETE",i)},b=function(e){return r("DELETE",t.favoritesByResourceId(e))},w=function(e,n){return r("PUT",t.dashboardById(e),n)},E=function(){return r("GET",t.dashboardShared())},S=function(e){return r("POST",t.dashboard(),e)},x=function(e){return r("POST",t.favorites(),{resource_id:e,resource_type:"DASHBOARD"})},T=function(e){return r("POST",t.widget(),e)},N=function(e){return r("POST",t.emptyWidget(),e)},C=function(e,n){return r("PUT",t.widgetById(n),e)},k=function(e,n){return r("PUT",t.dashboardById(n),{addWidget:e})},L=function(e,n){return r("PUT",t.dashboardById(n),{updateWidgets:e})},A=function(e,n){return r("GET",t.getBtsTicket(e,n))},O=function(e){return r("PUT",t.itemBase(),e)},M=function(e){return r("GET",t.compareByIds(e))},_=function(e){return r("GET",t.widgetsShared(e))},D=function(e){return r("GET",t.sharedWidgetSearch(e))},P=function(e){return r("GET",t.widgetById(e))},H=function(e){return r("GET",t.saveFilter(e))},B=function(){return r("GET",t.ownFilters())},j=function(){return r("GET",t.filterNames())},F=function(){return r("GET",t.sharedFilters())},I=function(e){return r("GET",t.getFilters(e))},q=function(){return r("GET",t.widgetNames())},R=function(e,n){return r("GET",t.getProjectBase()+"/"+e+"?"+n)},U=function(e){return r("POST",t.widgetPreview(),e)},z=function(e){return r("GET",e)},W=function(e){return r("GET",t.getProjectBase()+"/widget/"+e)},X=function(e){return r("PUT",t.userUrl(),{default_project:e},null,!0)},V=function(e){return r("GET",t.addMemberUrl()+"/"+e)},$=function(){return r("GET",t.addMemberUrl())},J=function(e){return r("GET",t.addMemberUrl()+"/"+e+"/projects")},K=function(e){return r("PUT",t.updateProject(),e)},Q=function(){return r("PUT",t.indexAction())},G=function(){return r("DELETE",t.indexAction())},Y=function(e){return r("PUT",t.updateEmailProjectSettings(),e)},Z=function(e){return delete e.id,r("POST",t.createExternalSystem(),e)},et=function(e){var n=e.id;return delete e.id,r("PUT",t.updateExternalSystem(n),e)},tt=function(e){return r("DELETE",t.updateExternalSystem(e))},nt=function(){return r("DELETE",t.clearExternalSystem())},rt=function(e,n){return r("GET",t.btsFields(e,n))},it=function(e){return r("GET",t.btsTypes(e))},st=function(e,n){return r("POST",t.postBug(n),e)},ot=function(e){return r("PUT",t.loadBugs(),e)},ut=function(e,n){return r("PUT",t.updateLaunchUrl(n),e)},at=function(e,n){return r("PUT",t.updateTestItemUrl(n),e)},ft=function(e,n,i){return r("POST",t.launchAnalyzeUrl(),{analyze_items_mode:i,analyzer_mode:n,launch_id:e},null,!0)},lt=function(e){return r("POST",t.getMerge(),e)},ct=function(e){return r("PUT",t.launchFinishUrl(e),{end_time:(new Date).getTime()})},ht=function(e){return r("PUT",t.itemBase(),e)},pt=function(e,n,i){return n=n||"queryByTags",r("GET",t[n](e.term,i))},dt=function(e,n){return r("GET",t.historyGrid(e,n))},vt=function(e){return r("GET",t.itemByKey(e))},mt=function(e){return r("GET",t.loadHistory(e))},gt=function(e){return r("GET",t.loadActivityItems(e))},yt=function(e){return r("GET",t.checkStatusUpdate(e))},bt=function(e){return r("POST",t.initPassChange(),{email:e})},wt=function(e,n){return r("POST",t.submitPassReset(),{password:e,uuid:n})},Et=function(e){return r("POST",t.submitPassChange(),e)},St=function(e){return r("GET",t.submitPassReset(e))},xt=function(e){return r("PUT",t.userUrl(),e)},Tt=function(){return r("DELETE",t.uploadPhoto())},Nt=function(){return r("PUT",t.generateUUID())},Ct=function(e){return r("POST",t.updateExternalProfile(e))},kt=function(e){return r("GET",t.queryByLaunchName(e.term))},Lt=function(e){return r("GET",t.itemByKey(e))},At=function(e){return r("GET",t.itemsByKeys(e))},Ot=function(e,n){return r("GET",t.getLaunchItemUrl(e,n))},Mt=function(e){return r("DELETE",t.deleteLaunchUrl(e),null,null,!0)},_t=function(e){return r("DELETE",t.deleteTestItemUrl(e),null,null,!0)},Dt=function(e){return r("GET",t.getDefectTypes(e))},Pt=function(e,n){return r("POST",t.postDefectTypes(e),n)},Ht=function(e,n){return r("PUT",t.postDefectTypes(e),n)},Bt=function(e,n){return r("DELETE",t.postDefectTypes(e)+n)},jt=function(e){return r("POST",t.postDemoDataUrl(),e)},Ft=function(e){return r("PUT",t.toggleAnalytics(),e)},It=function(e){return r("GET",t.getProjectEvents(e))};return{getApiToken:i,generateApiToken:s,userLogout:o,userLogin:u,getRegistryInfo:a,getPreferences:f,putPreferences:l,getProfileImage:c,getProject:h,getProjectUsersById:p,getProjectDashboard:v,getProjectDashboards:m,getSharedWidgets:_,getSharedWidgetData:P,getOwnFilters:B,getSharedFilters:F,getFilterNames:j,getFilterData:I,createDashboard:g,deleteDashboard:y,deleteDeletedByOwnerDashboard:b,updateDashboard:w,getSharedDashboards:E,addOwnDashboard:S,addSharedDashboard:x,getBtsTicket:A,updateDefect:O,getCompare:M,updateLaunch:ut,updateTestItem:at,startLaunchAnalyze:ft,mergeLaunches:lt,finishLaunch:ct,removeTicket:ht,searchTags:pt,searchLaunches:kt,getHistoryData:dt,getDefectItem:vt,loadHistory:mt,loadActivityItems:gt,saveFilter:H,saveWidget:T,saveEmptyWidget:N,updateWidget:C,addWidgetToDashboard:k,updateWidgetsOnDashboard:L,getWidgetNames:q,getWidgetData:R,getWidgetPreviewData:U,loadWidget:z,getTestItemInfo:Lt,getTestItemsInfo:At,getLaunchItem:Ot,loadDashboardWidget:W,updateProject:K,updateEmailProjectSettings:Y,generateIndex:Q,removeIndex:G,updateDefaultProject:X,getUserInfo:V,getCurrentUser:$,getUserAssignedProjects:J,createExternalSystem:Z,updateExternalSystem:et,deleteExternalSystem:tt,clearExternalSystem:nt,getBtsFields:rt,postBugToBts:st,loadBugs:ot,getBtsTypes:it,checkForStatusUpdate:yt,initializePassChange:bt,submitPassReset:wt,submitProfileInfo:xt,submitPassChange:Et,validateRestorationKey:St,deletePhoto:Tt,generateUUID:Nt,externalForceUpdate:Ct,deleteLaunch:Mt,deleteTestItem:_t,getDefectTypes:Dt,postDefectTypes:Pt,putDefectType:Ht,deleteDefectType:Bt,getUserByEmail:d,generateDemoData:jt,toggleAnalytics:Ft,getProjectEvents:It,sharedWidgetSearch:D}}),function(e){typeof define=="function"&&define.amd?define("baron",["jquery"],e):typeof exports=="object"?e(require("jquery")):e(jQuery)}(function(e){(function(t,n){"use strict";function h(e){var r,i,s=!!e,o={$:t.jQuery,direction:"v",barOnCls:"_scrollbar",resizeDebounce:0,event:function(t,n,r,i){e.$(t)[i||"on"](n,r)},cssGuru:!1,impact:"scroller",position:"static"};e=e||{};for(var u in o)e[u]===n&&(e[u]=o[u]);r=e.$&&this instanceof e.$,e._chain?i=e.root:r?e.root=i=this:e.$?i=e.$(e.root||e.scroller):i=[];var a=new h.fn.constructor(i,e,s);return a.autoUpdate&&a.autoUpdate(),a}function p(e,r){var i=0;if(e.length===n||e===t)e=[e];while(e[i])r.call(this,e[i],i),i++}function d(){return(new Date).getTime()}function v(n,r,i){n._eventHandlers=n._eventHandlers||[{element:n.scroller,handler:function(e){n.scroll(e)},type:"scroll"},{element:n.root,handler:function(){n.update()},type:"transitionend animationend"},{element:n.scroller,handler:function(){n.update()},type:"keyup"},{element:n.bar,handler:function(t){t.preventDefault(),n.selection(),n.drag.now=1,n.draggingCls&&e(n.root).addClass(n.draggingCls)},type:"touchstart mousedown"},{element:document,handler:function(){n.selection(1),n.drag.now=0,n.draggingCls&&e(n.root).removeClass(n.draggingCls)},type:"mouseup blur touchend"},{element:document,handler:function(e){e.button!=2&&n._pos0(e)},type:"touchstart mousedown"},{element:document,handler:function(e){n.drag.now&&n.drag(e)},type:"mousemove touchmove"},{element:t,handler:function(){n.update()},type:"resize"},{element:n.root,handler:function(){n.update()},type:"sizeChange"},{element:n.clipper,handler:function(){n.clipperOnScroll()},type:"scroll"}],p(n._eventHandlers,function(e){e.element&&r(e.element,e.type,e.handler,i)})}function m(e,t,n,r){var i="data-baron-"+t+"-id";if(n=="on")e.setAttribute(i,r);else{if(n!="off")return e.getAttribute(i);e.removeAttribute(i)}}function g(e){var t=new E.prototype.constructor(e);return v(t,e.event,"on"),m(t.root,e.direction,"on",o.length),o.push(t),t.update(),t}function y(e){var t={};e=e||{};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function b(e){var t=y(e);return t.event=function(t,n,r,i){p(t,function(t){e.event(t,n,r,i)})},t}function w(e){if(this.events&&this.events[e])for(var t=0;t<this.events[e].length;t++){var n=Array.prototype.slice.call(arguments,1);this.events[e][t].apply(this,n)}}var r=typeof window!="undefined",i=h,s=["left","top","right","bottom","width","height"],o=[],u={v:{x:"Y",pos:s[1],oppos:s[3],crossPos:s[0],crossOpPos:s[2],size:s[5],crossSize:s[4],crossMinSize:"min-"+s[4],crossMaxSize:"max-"+s[4],client:"clientHeight",crossClient:"clientWidth",scrollEdge:"scrollLeft",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},h:{x:"X",pos:s[0],oppos:s[2],crossPos:s[1],crossOpPos:s[3],size:s[4],crossSize:s[5],crossMinSize:"min-"+s[5],crossMaxSize:"max-"+s[5],client:"clientWidth",crossClient:"clientHeight",scrollEdge:"scrollTop",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"}},a=17,f=15,l=/[\s\S]*Macintosh[\s\S]*\) Gecko[\s\S]*/,c=l.test(t.navigator&&t.navigator.userAgent);h.fn={constructor:function(e,t,n){var r=y(t);r.event=function(e,n,r,i){p(e,function(e){t.event(e,n,r,i)})},this.length=0,p.call(this,e,function(e,t){var n=m(e,r.direction),i=+n;if(i==i&&n!==null&&o[i])this[t]=o[i];else{var s=y(r);if(r.root&&r.scroller){s.scroller=r.$(r.scroller,e);if(!s.scroller.length)return}else s.scroller=e;s.root=e,this[t]=g(s)}this.length=t+1}),this.params=r},dispose:function(){var e=this.params;p(this,function(t,n){t.dispose(e),o[n]=null}),this.params=null},update:function(){var e=arguments;p(this,function(t,n){t.update.apply(t,e)})},baron:function(e){return e.root=[],this.params.root&&(e.scroller=this.params.scroller),p.call(this,this,function(t){e.root.push(t.root)}),e.direction=this.params.direction=="v"?"h":"v",e._chain=!0,h(e)}};var E={};E.prototype={_debounce:function(e,t){var n=this,r,i,s=function(){if(n._disposed){clearTimeout(r),r=n=null;return}var o=d()-i;o<t&&o>=0?r=setTimeout(s,t-o):(r=null,e())};return function(){i=d(),r||(r=setTimeout(s,t))}},constructor:function(e){function g(e,t){return r(e,t)[0]}function y(e){var t=this.barMinSize||20;e>0&&e<t&&(e=t),this.bar&&r(this.bar).css(this.origin.size,parseInt(e,10)+"px")}function b(e){if(this.bar){var t=r(this.bar).css(this.origin.pos),n=+e+"px";n&&n!=t&&r(this.bar).css(this.origin.pos,n)}}function E(){return o[this.origin.client]-this.barTopLimit-this.bar[this.origin.offset]}function S(e){return e*E.call(this)+this.barTopLimit}function x(e){return(e-this.barTopLimit)/E.call(this)}function T(){return!1}var r,i,s,o,l,h,p,v,m;v=p=d(),r=this.$=e.$,this.event=e.event,this.events={},this.root=e.root,this.scroller=g(e.scroller),this.bar=g(e.bar,this.root),o=this.track=g(e.track,this.root),!this.track&&this.bar&&(o=this.bar.parentNode),this.clipper=this.scroller.parentNode,this.direction=e.direction,this.rtl=e.rtl,this.origin=u[this.direction],this.barOnCls=e.barOnCls,this.scrollingCls=e.scrollingCls,this.draggingCls=e.draggingCls,this.impact=e.impact,this.position=e.position,this.rtl=e.rtl,this.barTopLimit=0,this.resizeDebounce=e.resizeDebounce,this.cursor=function(e){return e["client"+this.origin.x]||(((e.originalEvent||e).touches||{})[0]||{})["page"+this.origin.x]},this.pos=function(e){var t="page"+this.origin.x+"Offset",r=this.scroller[t]?t:this.origin.scroll;return e!==n&&(this.scroller[r]=e),this.scroller[r]},this.rpos=function(e){var t=this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client],n;return e?n=this.pos(e*t):n=this.pos(),n/(t||1)},this.barOn=function(e){this.barOnCls&&(e||this.scroller[this.origin.client]>=this.scroller[this.origin.scrollSize]?r(this.root).hasClass(this.barOnCls)&&r(this.root).removeClass(this.barOnCls):r(this.root).hasClass(this.barOnCls)||r(this.root).addClass(this.barOnCls))},this._pos0=function(e){s=this.cursor(e)-i},this.drag=function(e){var t=x.call(this,this.cursor(e)-s),n=this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client];this.scroller[this.origin.scroll]=t*n},this.selection=function(e){this.event(document,"selectpos selectstart",T,e?"off":"on")},this.resize=function(){function s(){var t=e.scroller[e.origin.crossOffset],n=e.scroller[e.origin.crossClient],i=0;c?i=f:n>0&&t===0&&(t=n+a);if(t){e.barOn();if(e.impact=="scroller"){var s=t-n+i;if(e.position=="static"){var o=e.$(e.scroller).css(e.origin.crossSize),u=e.clipper[e.origin.crossClient]+s+"px";o!=u&&e._setCrossSizes(e.scroller,u)}else{var l={},h=e.rtl?"Left":"Right";e.direction=="h"&&(h="Bottom"),l["padding"+h]=s+"px",e.$(e.scroller).css(l)}}else{var o=r(e.clipper).css(e.origin.crossSize),u=n+"px";o!=u&&e._setCrossSizes(e.clipper,u)}}Array.prototype.unshift.call(arguments,"resize"),w.apply(e,arguments),v=d()}var e=this,t=e.resizeDebounce===n?300:e.resizeDebounce,i=0;d()-v<t&&(clearTimeout(l),i=t),i?l=setTimeout(s,i):s()},this.updatePositions=function(){var e,t=this;t.bar&&(e=(o[t.origin.client]-t.barTopLimit)*t.scroller[t.origin.client]/t.scroller[t.origin.scrollSize],parseInt(m,10)!=parseInt(e,10)&&(y.call(t,e),m=e),i=S.call(t,t.rpos()),b.call(t,i)),Array.prototype.unshift.call(arguments,"scroll"),w.apply(t,arguments),p=d()},this.scroll=function(){var e=this;e.updatePositions(),e.scrollingCls&&(h||e.$(e.root).addClass(e.scrollingCls),clearTimeout(h),h=setTimeout(function(){e.$(e.root).removeClass(e.scrollingCls),h=n},300))},this.clipperOnScroll=function(){this.rtl?this.clipper[this.origin.scrollEdge]=this.clipper[this.origin.scrollSize]:this.clipper[this.origin.scrollEdge]=0},this._setCrossSizes=function(e,t){var n={};n[this.origin.crossSize]=t,n[this.origin.crossMinSize]=t,n[this.origin.crossMaxSize]=t},this._dumbCss=function(t){if(e.cssGuru)return;var n=t?"hidden":null,r=t?"none":null;this.$(this.clipper).css({overflow:n,msOverflowStyle:r,position:this.position=="static"?"":"relative"});var i=t?"scroll":null,s=this.direction=="v"?"y":"x",o={};o["overflow-"+s]=i,o["box-sizing"]="border-box",o.margin="0",o.border="0",this.position=="absolute"&&(o.position="absolute",o.top="0",this.direction=="h"?o.left=o.right="0":(o.bottom="0",o.right=this.rtl?"0":"",o.left=this.rtl?"":"0")),this.$(this.scroller).css(o)},this._dumbCss(!0);if(c){var N="paddingRight",C={},k=t.getComputedStyle(this.scroller)[[N]],L=this.scroller[this.origin.crossOffset]-this.scroller[this.origin.crossClient];e.direction=="h"?N="paddingBottom":e.rtl&&(N="paddingLeft");var A=parseInt(k,10);A!=A&&(A=0),C[N]=f+A+"px",r(this.scroller).css(C)}return this},update:function(e){return w.call(this,"upd",e),this.resize(1),this.updatePositions(),this},dispose:function(e){v(this,this.event,"off"),m(this.root,e.direction,"off"),e.direction=="v"?this._setCrossSizes(this.scroller,""):this._setCrossSizes(this.clipper,""),this._dumbCss(!1),this.barOn(!0),w.call(this,"dispose"),this._disposed=!0},on:function(e,t,n){var r=e.split(" ");for(var i=0;i<r.length;i++)r[i]=="init"?t.call(this,n):(this.events[r[i]]=this.events[r[i]]||[],this.events[r[i]].push(function(e){t.call(this,e||n)}))}},h.fn.constructor.prototype=h.fn,E.prototype.constructor.prototype=E.prototype,h.noConflict=function(){return t.baron=i,h},h.version="2.2.4",typeof module!="undefined"?(module.exports=h,require("./fix"),require("./pull"),require("./controls"),require("./autoUpdate")):(window.baron=h,e&&e.fn&&(e.fn.baron=h))})(this),function(e,t){var n;typeof module!="undefined"?n=require("./core.js"):n=e.baron;var r=function(e){function p(e,i,o){var u=o==1?"pos":"oppos";r<(s.minView||0)&&(i=t),this.$(n[e]).css(this.origin.pos,"").css(this.origin.oppos,"").removeClass(s.outside),i!==t&&(i+="px",this.$(n[e]).css(this.origin[u],i).addClass(s.outside))}function d(e){try{i=document.createEvent("WheelEvent"),i.initWebKitWheelEvent(e.originalEvent.wheelDeltaX,e.originalEvent.wheelDeltaY),f.dispatchEvent(i),e.preventDefault()}catch(e){}}function v(e){var t;for(var i in e)s[i]=e[i];n=this.$(s.elements,this.scroller);if(n){r=this.scroller[this.origin.client];for(var f=0;f<n.length;f++){t={},t[this.origin.size]=n[f][this.origin.offset],n[f].parentNode!==this.scroller&&this.$(n[f].parentNode).css(t),t={},t[this.origin.crossSize]=n[f].parentNode[this.origin.crossClient],this.$(n[f]).css(t),r-=n[f][this.origin.offset],a[f]=n[f].parentNode[this.origin.offsetPos],o[f]=o[f-1]||0,u[f]=u[f-1]||Math.min(a[f],0),n[f-1]&&(o[f]+=n[f-1][this.origin.offset],u[f]+=n[f-1][this.origin.offset]);if(f!=0||a[f]!=0)this.event(n[f],"mousewheel",d,"off"),this.event(n[f],"mousewheel",d)}s.limiter&&n[0]&&(this.track&&this.track!=this.scroller?(t={},t[this.origin.pos]=n[0].parentNode[this.origin.offset],this.$(this.track).css(t)):this.barTopLimit=n[0].parentNode[this.origin.offset],this.scroll()),s.limiter===!1&&(this.barTopLimit=0)}var p={element:n,handler:function(){var e=c(this)[0].parentNode,t=e.offsetTop,r;for(var i=0;i<n.length;i++)n[i]===this&&(r=i);var u=t-o[r];s.scroll?s.scroll({x1:h.scroller.scrollTop,x2:u}):h.scroller.scrollTop=u},type:"click"};s.clickable&&(this._eventHandlers.push(p),l(p.element,p.type,p.handler,"on"))}var n,r,s={outside:"",inside:"",before:"",after:"",past:"",future:"",radius:0,minView:0},o=[],u=[],a=[],f=this.scroller,l=this.event,c=this.$,h=this;this.on("init",v,e);var m=[],g=[];this.on("init scroll",function(){var e,i,f;if(n){var l;for(var c=0;c<n.length;c++){e=0,a[c]-this.pos()<u[c]+s.radius?(e=1,i=o[c]):a[c]-this.pos()>u[c]+r-s.radius?(e=2,i=this.scroller[this.origin.client]-n[c][this.origin.offset]-o[c]-r):(e=3,i=t),f=!1;if(a[c]-this.pos()<u[c]||a[c]-this.pos()>u[c]+r)f=!0;if(e!=m[c]||f!=g[c])p.call(this,c,i,e),m[c]=e,g[c]=f,l=!0}if(l)for(c=0;c<n.length;c++)m[c]==1&&s.past&&this.$(n[c]).addClass(s.past).removeClass(s.future),m[c]==2&&s.future&&this.$(n[c]).addClass(s.future).removeClass(s.past),m[c]==3?((s.future||s.past)&&this.$(n[c]).removeClass(s.past).removeClass(s.future),s.inside&&this.$(n[c]).addClass(s.inside)):s.inside&&this.$(n[c]).removeClass(s.inside),m[c]!=m[c+1]&&m[c]==1&&s.before?this.$(n[c]).addClass(s.before).removeClass(s.after):m[c]!=m[c-1]&&m[c]==2&&s.after?this.$(n[c]).addClass(s.after).removeClass(s.before):this.$(n[c]).removeClass(s.before).removeClass(s.after),s.grad&&(g[c]?this.$(n[c]).addClass(s.grad):this.$(n[c]).removeClass(s.grad))}}),this.on("resize upd",function(e){v.call(this,e&&e.fix)})};n.fn.fix=function(e){var t=0;while(this[t])r.call(this[t],e),t++;return this}}(this),function(e){var t;typeof module!="undefined"?t=require("./core"):t=e.baron;var n=e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver||null,r=function(){function r(){e.root[e.origin.offset]?s():i()}function i(){if(t)return;t=setInterval(function(){e.root[e.origin.offset]&&(s(),e.update())},300)}function s(){clearInterval(t),t=null}var e=this,t;if(this._au)return;var o=e._debounce(function(){e.update()},300);this._observer=new n(function(){r(),e.update(),o()}),this.on("init",function(){e._observer.observe(e.root,{childList:!0,subtree:!0,characterData:!0}),r()}),this.on("dispose",function(){e._observer.disconnect(),s(),delete e._observer}),this._au=!0};t.fn.autoUpdate=function(e){if(!n)return this;var t=0;while(this[t])r.call(this[t],e),t++;return this}}(this),function(e,t){var n;typeof module!="undefined"?n=require("./core"):n=e.baron;var r=function(e){var t,n,r,i,s=this,o;i=e.screen||.9,e.forward&&(t=this.$(e.forward,this.clipper),o={element:t,handler:function(){var t=s.pos()+(e.delta||30);s.pos(t)},type:"click"},this._eventHandlers.push(o),this.event(o.element,o.type,o.handler,"on")),e.backward&&(n=this.$(e.backward,this.clipper),o={element:n,handler:function(){var t=s.pos()-(e.delta||30);s.pos(t)},type:"click"},this._eventHandlers.push(o),this.event(o.element,o.type,o.handler,"on")),e.track&&(e.track===!0?r=this.track:r=this.$(e.track,this.clipper)[0],r&&(o={element:r,handler:function(e){if(e.target!=r)return;var t=e["offset"+s.origin.x],n=s.bar[s.origin.offsetPos],o=0;t<n?o=-1:t>n+s.bar[s.origin.offset]&&(o=1);var u=s.pos()+o*i*s.scroller[s.origin.client];s.pos(u)},type:"mousedown"},this._eventHandlers.push(o),this.event(o.element,o.type,o.handler,"on")))};n.fn.controls=function(e){var t=0;while(this[t])r.call(this[t],e),t++;return this}}(this)}),function(e){typeof define=="function"&&define.amd?define("cookie",["jquery"],e):typeof exports=="object"?e(require("jquery")):e(jQuery)}(function(e){function n(e){return u.raw?e:encodeURIComponent(e)}function r(e){return u.raw?e:decodeURIComponent(e)}function i(e){return n(u.json?JSON.stringify(e):String(e))}function s(e){e.indexOf('"')===0&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(t," ")),u.json?JSON.parse(e):e}catch(n){}}function o(t,n){var r=u.raw?t:s(t);return e.isFunction(n)?n(r):r}var t=/\+/g,u=e.cookie=function(t,s,a){if(s!==undefined&&!e.isFunction(s)){a=e.extend({},u.defaults,a);if(typeof a.expires=="number"){var f=a.expires,l=a.expires=new Date;l.setTime(+l+f*864e5)}return document.cookie=[n(t),"=",i(s),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}var c=t?undefined:{},h=document.cookie?document.cookie.split("; "):[];for(var p=0,d=h.length;p<d;p++){var v=h[p].split("="),m=r(v.shift()),g=v.join("=");if(t&&t===m){c=o(g,s);break}!t&&(g=o(g))!==undefined&&(c[m]=g)}return c};u.defaults={},e.removeCookie=function(t,n){return e.cookie(t)===undefined?!1:(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),define("util",["require","exports","module","jquery","backbone","nprogress","localization","moment","templates","app","validators","coreService","baron","cookie","select2"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("nprogress"),o=e("localization"),u=e("moment"),a=e("templates"),f=e("app"),l=e("validators"),c=e("coreService");e("baron"),e("cookie"),e("select2");var h=f.getInstance(),p=!1,d=!1,v,m=[],g={};return _.extend(g,{templates:function(e,t){var t=t||{};t.text=o,t.includeTemplate=g.templates;var n=a[e];if(n){var r=a[e](t);return r}return""},getDocumentationHtml:function(){var e=r.Deferred();return r.ajax({type:"GET",dataType:"html",url:"compiled/documentation.html",success:function(t){e.resolve(r(t))}}),e.promise()},checkWidthScroll:function(){var e=document.createElement("div");e.style.overflowY="scroll",e.style.width="50px",e.style.height="50px",e.style.visibility="hidden",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;document.body.removeChild(e),t!=0&&r("body").addClass("no-zero-scroll")},isMobileNavigator:function(){return d||(d=navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i)!==null),d},extendStings:function(){if(p)return;String.prototype.replaceAll=function(e,t){return this.split(e).join(t)},String.prototype.stringToHexColor=function(){for(var e=0,t=0;e<this.length;t=this.charCodeAt(e++)+((t<<5)-t));for(var e=0,n="#";e<3;n+=("00"+(t>>e++*8&255).toString(16)).slice(-2));return n},String.prototype.escapeHtml=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},String.prototype.escapeScript=function(){return this.replace(/(?!<code>)*<script*>*(?!<\/code>)/gi," ")},String.prototype.indentSpases=function(){return this.replace(/^ +/gm,function(e){return e.replace(/ /g,"&nbsp;")})},String.prototype.replaceNewLines=function(){return this.replace(/\\r\\n/g,"<br>")},String.prototype.replaceTabs=function(){return this.replace(/\t/g,"").replace(/&#9;/g,"").replace(/&#x09;/g,"")},String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.ltrim=function(){return this.replace(/^\s+/,"")},String.prototype.rtrim=function(){return this.replace(/\s+$/,"")},String.prototype.fulltrim=function(){return this.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ")},String.prototype.capitalize=function(){return this.toLowerCase().replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},String.prototype.capitalizeName=function(){return this.replace("_"," ").toLowerCase().replace(/(?:_|\b)(\w)/g,function(e,t){return t.toUpperCase()})},String.prototype.getCapitalizedOnly=function(){return this.replace(/[^A-Z]/g,"")},String.prototype.escapeLessDirection=function(){return this.replace("filter.lte.","filter.gte.")},String.prototype.escapeNaN=function(){return this.toUpperCase()==="NAN"?"0":this},String.prototype.setMaxLength=function(e){return this.length>e?this.slice(0,e-3)+"...":this},String.prototype.escapeRE=function(e){return this.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},p=!0},extendArrays:function(){Array.prototype.equals&&console.warn("Overriding existing Array.prototype.equals. Possible causes: New API defines the method, there's a framework conflict or you've got double inclusions in your code."),Array.prototype.equals=function(e){if(!e)return!1;if(this.length!=e.length)return!1;for(var t=0,n=this.length;t<n;t++)if(this[t]instanceof Array&&e[t]instanceof Array){if(!this[t].equals(e[t]))return!1}else if(this[t]!=e[t])return!1;return!0},Object.defineProperty(Array.prototype,"equals",{enumerable:!1})},appendTooltip:function(e,t,n,i){t.uitooltip({position:{my:"left top",at:"left bottom+5",of:n,collision:"fit"},show:{effect:"none",delay:500,duration:0},hide:{effect:"none",duration:0},items:":not([disabled])",content:e,open:function(e,t){setTimeout(function(){r(e.currentTarget).attr("aria-describedby")&&i&&i()},500)}}),r(".ui-helper-hidden-accessible").remove()},textWrapper:function(e,t){if(!e)return"";var n=new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"ig");return e.replace(n,"<mark>$&</mark>")},replaceOccurrences:function(e){return function(t){var n=t.trim();for(var r=0;r<e.length;r++)n=n.replace("%%%",_.escape(e[r]));return n}},replaceTemplate:function(e){var t=e;for(var n=1;n<arguments.length;n++)t=t.replace("%%%",arguments[n]);return t},shimBind:function(){Function.prototype.bind||(Function.prototype.bind=function(e){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e||window,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i})},ajaxBeforeSend:function(e){e.setRequestHeader("Authorization",h.fullscreenMode?h.userModel.get("apiToken"):h.userModel.get("token")),e.setRequestHeader("X-XSRF-TOKEN",r.cookie("XSRF-TOKEN")),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),this.addXhrToPool(e)},trackAjaxCalls:function(){var e=this;r.ajaxSetup({dataType:"json",contentType:"application/json;charset=UTF-8",beforeSend:this.ajaxBeforeSend.bind(this),complete:function(t){e.removeXhrFromPool(t)}}),r(window.document).ajaxStart(function(){s.start()}).ajaxComplete(function(){s.done()}).ajaxError(function(e,t,n,r){if(g.validateForLogOut(t))return!1}),window.isActive=!0,r(window).focus(function(){this.isActive=!0}),r(window).blur(function(){this.isActive=!1})},validateForLogOut:function(e){return e.status===401?(h.userModel.get("auth")&&this.addMessage({clazz:"alert",message:o.failMessages.sessionExpired}),h.userModel&&h.userModel.clearSession(),r(".modal").modal("hide"),!0):!1},updateImagePath:function(e){var t=h.userModel.get("token");if(!t)return e;var n=t.split(" ")[1];return n?(~e.indexOf("?")?e+="&":e+="?",e+"access_token="+n):e},clearXhrPool:function(){var e=_.clone(m);_.forEach(e,function(e,t){e&&!e.persistant&&e.abort()})},addXhrToPool:function(e){m.push(e)},removeXhrFromPool:function(e){var t=m.indexOf(e);t>-1&&m.splice(t,1)},setupMessagesTracker:function(e){var t=this;t.messages=e},addMessage:function(e){var t=this;if(!this.messages)return;e.message=e.message.indexOf("\n<html>\n")>-1?e.message.substr(0,e.message.indexOf("\n<html>\n")):e.message,this.messages.collection&&this.messages.collection.add(new i.Model({clazz:e.clazz,message:r.trim(e.message.replaceAll("] ["," ")).replace(/^\[|\]$/g,"")})),_.delay(function(){t.clearMessage()},1e4)},clearMessage:function(){this.messages&&this.messages.close()},hideMessagePanel:function(){var e=this;r('.cancel, [type="cancel"]').on("click",function(){e.hideMessage()})},hideMessage:function(){r(".message-fade",this.messages.$el).is(":visible")&&this.messages.close()},setupBaronScroll:function(e,t,n){var i,s=null,o=n&&n.direction?n.direction:"v",u='<div class="baron baron__root baron__clipper"><div class="baron_scroller" tabindex="-1"></div></div>',a=null;t?(e.wrapInner(u),a=e.children(".baron_scroller").children(".baron__root")):(e.wrap(u),a=e.parent(".baron_scroller").parent(".baron__root"));if(a&&r("body").hasClass("no-zero-scroll")){if(o==="v"||o==="m")a.append('<div class="baron__track baron__track-vertical"><div class="baron__free"><div class="baron__bar baron__bar-vertical"></div></div></div>'),s=a.baron({cssGuru:!0,root:".baron",barOnCls:"_scrollbar_vertical",scroller:".baron_scroller",bar:".baron__bar-vertical",scrollingCls:"_scrolling",draggingCls:"_dragging",direction:"v"});if(o==="h"||o==="m")a.append('<div class="baron__track baron__track-horizontal"><div class="baron__free"><div class="baron__bar baron__bar-horizontal"></div></div></div>'),a.baron({cssGuru:!0,root:".baron",barOnCls:"_scrollbar_horizontal",scroller:".baron_scroller",bar:".baron__bar-horizontal",scrollingCls:"_scrolling",draggingCls:"_dragging",direction:"h"})}return i=e.parent(".baron_scroller"),i.length&&(i.get(0).baron=s),i},setupBaronScrollSize:function(e,t){var n=e.children(),r=e.parent(".baron__root");n.css({maxHeight:"none"});var i=n.height();i<25&&(i=25),t&&i>t.maxHeight&&(i=t.maxHeight,r.addClass("_scrollbar")),r.height(i),t&&t.changeWidth&&r.width(n.width());var s=e.get(0).baron;s&&s.update()},setupSelect2WhithScroll:function(e,t){return e.one("select2-open",function(e){r("#select2-drop input.select2-input").on("input",function(t){r(this).val().trim().length<3&&g.setupBaronScrollSize(e.currentTarget.$scrollEl,{maxHeight:200})})}),e.on("select2-open select2-loaded",function(t){t.currentTarget.$scrollEl||(t.currentTarget.$scrollEl=g.setupBaronScroll(r("ul.select2-results").last()),e.select2("setScrollContainer",t.currentTarget.$scrollEl)),g.setupBaronScrollSize(t.currentTarget.$scrollEl,{maxHeight:200})}),e.select2(t)},setEqualHeightRow:function(e){r(e).responsiveEqualHeightGrid()},scrollToHighlight:function(e,t){e=h.commentAnchor||e;if(!e)return;t&&(e=e.replace("log-for-","").replace("all-cases-for-",""));var n=r("#"+e),i=0;n.length&&(i=n.get(0).offsetTop,n.addClass("reset-transition"),n.effect("highlight",{},3e3)),h.mainScrollElement.animate({scrollTop:i-r(window).height()/2.5},200),setTimeout(function(){n.removeClass("reset-transition")},3500),h.commentAnchor=""},setupBackTop:function(){r("body").on("click","[global-back-top]",function(){return h.mainScrollElement.animate({scrollTop:0},100),!1}),r.subscribe("scroll:greater:than:100",function(){var e=r("[global-back-top]");e.length&&!e.is(":visible")&&e.show()}),r.subscribe("scroll:less:than:100",function(){var e=r("[global-back-top]");e.length&&e.is(":visible")&&e.fadeOut()})},setupWindowEvents:function(){h.mainScrollElement.on("scroll.global",function(e){var t={top:e.currentTarget.scrollTop,height:r(window).height()};r.publish("scroll:change",t),e.currentTarget.scrollTop>100?r.publish("scroll:greater:than:100",t):r.publish("scroll:less:than:100",t)}),r(window).on("resize.global",function(){r.publish("window:resize",{height:r(window).height(),width:r(window).width()})}),r(document).on("click","a",function(e){r(e.currentTarget).is(":disabled")&&e.preventDefault()})},dropDownHandler:function(e){e.preventDefault();var t=r(e.currentTarget),n=t.text();t.closest(".btn-group, .rp-btn-group").find(".select-value:first").text(t.text()),t.closest("ul").find(".active").removeClass("active"),t.parent().addClass("active")},attachSelectAllFlipper:function(e){r("label",e).click(function(e){e.stopPropagation(),r(e.currentTarget).closest(".dropdown-menu").find(".check-all").removeClass("checked")}),r(".check-all",e).click(function(e){e.preventDefault();var t=r(e.currentTarget),n=!t.hasClass("checked"),i=n?"add":"remove";t.closest(".dropdown-menu").find(".selectable").prop("checked",n),t[i+"Class"]("checked")})},hoverFullTime:function(e){r(".hoverFullTime",e).parent().hover(function(){r(this).find(".time-full").toggleClass("hidden"),r(this).find(".timeMoment").toggleClass("hidden")},function(){r(this).find(".time-full").toggleClass("hidden"),r(this).find(".timeMoment").toggleClass("hidden")}),r(".hoverFullTime .timeHover",e).mouseup(function(){r(".timeHover").toggleClass("hidden")})},timeFormat:function(e,t,n){var r=parseInt((t-e)/1e3,10),i=Math.floor(r/86400),s=Math.floor((r-i*86400)/3600),o=Math.floor((r-i*86400-s*3600)/60),u=r-i*86400-s*3600-o*60,a="";return i>0&&(a=a+i+"d "),s>0&&(a=a+s+"h "),o>0&&(a=a+o+"m",!i&&!s&&u&&(a+=" "+u+"s")),a===""&&u>0?a=u+"s":a===""&&u===0&&(a=n?(t-e)/1e3+"s":Math.round((t-e)/10)/100+"s"),a},dateFormat:function(e,t){var n=new Date(e),r=n.getMonth()+1,i=n.getDate(),s=n.getHours(),o=n.getMinutes(),u=n.getSeconds(),a=n.getTimezoneOffset()/60*-1;a.toString().indexOf("-")===-1?a="UTC+"+a:a="UTC"+a;var f=function(e){return String(e).length<2?"0"+e:e};return n.getFullYear()+"-"+f(r)+"-"+f(i)+" "+f(s)+":"+f(o)+":"+f(u)+(t?" "+a:"")},fromNowFormat:function(e){return u(e).fromNow()},daysFromNow:function(e){return this.fromNowFormat(this.dateFormat(e))},daysBetween:function(e,t){var n=864e5,r=e.getTime(),i=t.getTime(),s=Math.abs(r-i);return Math.round(s/n)},replaceLink:function(e){var t=e.match(/(((ftp|https?):\/\/)[\-\w@:%_\+.~#?,&\/\/=]+)/g);return _.each(t,function(t){e=e.replace(new RegExp(t,"g"),'<a target="_blank" href="'+t+'">'+t+"</a>")}),e},make:function(e,t,n){n=n||"append";var i=_.uniqueId();return t[n]("<"+e+' id="'+i+'"></'+e+">"),r("#"+i)},ajaxFailMessenger:function(e,t,n){var r="",i=n||"";if(e&&e.statusText==="abort")return;if(e&&e.status===401)return;if(e){try{r=JSON.parse(e.responseText)}catch(s){t&&(i=o.failMessages[t])}e.status===409||e.status===422?i=r.message||o.failMessages.duplicatedRecourse:t?r&&r.message&&(i=o.failMessages[t]+" : "+r.message):r&&r.message&&(i=r.message)}else i=(o.failMessages[t]||o.failMessages.defaults)+(i?" : "+i:"");this.addMessage({clazz:"alert",message:i||o.failMessages.defaults})},ajaxSuccessMessenger:function(e,t){var n=o.successMessages[e]||o.successMessages.defaults;t&&(n=n.replace("%%%",t)),this.addMessage({clazz:"success",message:n})},ajaxInfoMessenger:function(e){this.addMessage({clazz:"notice",message:o.infoMessages[e]||o.infoMessages.defaults})},getDialog:function(e){r(".rp-modal-dialog").remove(),console.log("Modal "+e.name);var t=r("<div>"+this.templates(e.name,e.data)+"</div>").find(".dialog-shell").unwrap().appendTo("body"),n=r(".modal-dialog",t);return this.setupBaronScroll(n),r(".baron_scroller",t).attr("data-js-close",!0),t.click(function(e){var n=r(e.target);n.is("[data-js-close]")&&t.modal("hide")}),t},showAnswerDialog:function(e){var t=r.Deferred(),n=g.getDialog({name:"tpl-dialog-modal",data:e});return n.modal("show"),n.on("hidden.bs.modal",function(){n.remove(),n=null}),r("[data-js-submit]",n).click(function(){t.resolve()}),r("[data-js-cancel]",n).click(function(){t.reject()}),t.always(function(){n.modal("hide")}),t.promise()},confirmDeletionDialog:function(e){var t=this;this.deleteDialog||(this.deleteDialog=g.getDialog({name:"tpl-delete-dialog",data:{message:e.message,okButton:e.okButton,cancelButton:e.cancelButton,format:e.format?g.replaceOccurrences.call(null,e.format):null}}),this.deleteDialog.on("click",".rp-btn-danger",function(){e.callback(),t.deleteDialog.modal("hide")}).on("click",".rp-btn-cancel",function(){e.cancelCallback&&e.cancelCallback()}).on("hidden.bs.modal",function(){r(this).data("modal",null),t.deleteDialog.off().remove(),t.deleteDialog=null,e=null})),this.deleteDialog.modal("show")},getExternalSystem:function(e){var t=h.project.configuration.externalSystem[0].systemType||"";return e?t.toLocaleLowerCase():t},hasValidBtsSystem:function(){return h.project&&h.project.configuration&&h.project.configuration.externalSystem.length},canPostToJira:function(){return g.hasValidBtsSystem()&&_.any(h.project.configuration.externalSystem,function(e){return e.fields&&e.fields.length})},mapContentTypeToIcon:function(e){var t="";switch(e){case"text/plain":t="fa-file-text";break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":t="fa-file-excel-o";break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":t="fa-file-word-o";break;case"video/mp4":t="fa-file-movie-o";break;default:t="fa-file"}return t},getLocalSharedIcon:function(){return'<span class="share-icon-wrapper"><i class="material-icons" title="'+o.launches.filterIsShared+'">share</i>'+"</span>"},updateLaunchesHref:function(e){e=e||"#"+h.project.projectId+"/launches/all",r("#launches").attr("href",e)},updateDebugHref:function(e){var t=r("#userdebug"),n=t.attr("href"),i="&filter.in.user=";if(e){var s=n.split(i);s[1]=e,t.attr("href",s.join(i))}else{var o=n.indexOf(i);o>=0&&t.attr("href",n.slice(0,o))}},getValidationMessage:function(e){return o.validation[e]},getCopyName:function(e){return o.ui.copy+" "+e},isAdmin:function(e){return e=e||h.userModel.toJSON(),e.userRole===h.accountRolesEnum.administrator},isCustomer:function(){return h.userModel.get("projects")[h.project.projectId]&&h.userModel.get("projects")[h.project.projectId].projectRole===h.projectRolesEnum.customer},mergeByProperty:function(e,t,n){return _.each(t,function(t){var r=_.find(e,function(e){return e[n]===t[n]});r?_.extend(r,t):e.push(t)}),e},isInPrivilegedGroup:function(){if(g.isAdmin())return!0;var e=h.userModel.get("projects")[h.project.projectId]&&h.userModel.get("projects")[h.project.projectId].projectRole;return e===h.projectRolesEnum.project_manager},hasExternalSystem:function(){return h.project.configuration.externalSystem.length},isUnassignedLock:function(e,t){return!e},isDeleteLock:function(e){return e&&e.entryType&&e.entryType!=="INTERNAL"?!0:!1},canManageMembers:function(){var e=!1;if(this.isAdmin(h.userModel.toJSON()))e=!0;else{var t=h.userModel.get("projects")[h.project.projectId].projectRole,n=_.indexOf(h.projectRoles,t);e=n>1}return e},isYou:function(e){return e.userId===h.userModel.get("name")},getRolesMap:function(){var e={};return _.forEach(h.projectRoles,function(t){e[t]=t.split("_").join(" ")}),e},validForCollapsibleMessage:function(e){var t=e.level==="TRACE"||e.level==="DEBUG"||e.level==="ERROR",n=null;if(t){var r=e.message.match(/(>)\s*(<)(\/*)/g);if(r&&r.length>8)console.log("matchXML"),n=g.beautifyText(e.message).split("<!--!>"),n.push("xml");else{var i=e.message.split(/\n/g);i&&i.length>5&&(n=[i.slice(0,5).join("<br>"),i.slice(5).join("<br>")])}}return n},matchForXML:function(e){var t=e.message.match(/<.*?>/g);return t&&t.length>8?this.beautifyText(e.message).replace("<!--!>",""):!1},beautifyText:function(e){function t(e){var t="",n=/(>)(<)(\/*)/g;e=e.replace(n,"$1\r\n$2$3");var r=0;return _.forEach(e.split("\r\n"),function(e,n){var i=0;e.match(/.+<\/\w[^>]*>$/)?i=0:e.match(/^<\/\w/)?r!=0&&(r-=1):e.match(/^<\w[^>]*[^\/]>.*$/)?i=1:i=0;var s="";for(var o=0;o<r;o++)s+="  ";t+=s+e+"\r\n",r+=i,n===4&&(t+="<!--!>")}),t}return t(e)},flipActiveLi:function(e){e.closest(".btn-group, .rp-btn-group").find(".select-value:first").text(e.text()),e.closest("ul").find(".active").removeClass("active"),e.addClass("active")},hintValidator:function(e,t){var n=e.closest(".form-group, .rp-form-group, label, .rp-field"),i=r("> .validate-hint",n),s=[],o=function(e){e&&i.html(e).addClass("show-hint")},u=function(){i.removeClass("show-hint")},a=_.debounce(function(){e.trigger("validation:success")},500),f=function(){var t="",i="";return _.each(s,function(s){var u=s.options.noTrim?e.val():e.val().trim();s.options.remote?u&&r.when(s.validate(u,s.options,g)).done(function(r){r.valid||(i=s.options.message,t+=i+"</br>",n.addClass("validate-error")),e.data("validate-error",r.valid),o(t),e.trigger("validation::change")}):(i=s.validate(u,s.options,g),i&&(t=t?t:i+"</br>"))}),t?n.addClass("validate-error"):(a(),n.removeClass("validate-error")),e.data("validate-error",t),t},c=_.isArray(t)?t:[t];_.each(c,function(t){t.max&&(t.validator==="minMaxNumberRequired"?e.attr("maxlength",t.max.toString().length):e.attr("maxlength",t.max)),l[t.validator]&&s.push({validate:l[t.validator],options:t})}),e.on("keyup",function(e){if(!(!e.keyCode||e.keyCode!==9&&e.keyCode!==37&&e.keyCode!==38&&e.keyCode!==39&&e.keyCode!==40))return;var t=f();t?o(t):u()}).on("paste",function(){r(this).trigger("keyup")}).on("focus",function(){r(this).trigger("keyup")}).on("validate",function(){f()}).on("validate:error",function(){n.addClass("validate-error")}).on("blur",function(){u()})},bootValidator:function(e,t,n){e.data("valid",!0).data("was",e.val());var i=e.closest(".form-group, .rp-form-group");t&&t.max&&e.attr("maxLength",t.max);var s=r(".help-inline:first",i),o=s.hasClass("error-hint"),u=[],a=null,f,c;f=function(t){t?(i.addClass("has-error"),s.html(t),o&&s.fadeIn(100),e.data("valid",!1)):(i.removeClass("has-error"),e.data("valid",!0),o&&s.fadeOut(100))},c=function(){var t="";_.forEach(u,function(n){var i=n.options.noTrim?e.val():e.val().trim();if(n.options.remote)r.when(n.type(i,n.options)).done(function(r){if(!r.valid){var i=n.options.message;t+=i+"</br>"}f(t),e.trigger("validation::change")});else{var s=n.type(i,n.options,g);s&&(t=t?t:s+"</br>"),f(t)}})},_.isArray(t)||(t=[t]),_.forEach(t,function(e){typeof e=="function"?u.push(e):typeof e=="object"&&l[e.validator]&&u.push({type:l[e.validator],options:e})}),e.on("validate",function(){c()}).on("keydown",function(t){t.keyCode===13&&(i.hasClass("has-error")||e.trigger("validation::submit::success")),t.keyCode===27&&e.trigger("validation::escape")}).on("keyup",function(t){if(!(!t.keyCode||t.keyCode!==9&&t.keyCode!==37&&t.keyCode!==38&&t.keyCode!==39&&t.keyCode!==40))return;clearTimeout(a),a=setTimeout(function(){c();var t=i.hasClass("has-error"),n=e.val().trim();e.trigger("validation::change",{valid:!t,value:n,dirty:e.data("was")!=n}),!t&&e.data("was",n),a=null},_.isEmpty(n)?h.userFilterDelay:n.userFilterDelay)}).on("change",function(){}).on("paste",function(){r(this).trigger("keyup")}).on("focus",function(){o&&!e.data("valid")&&s.fadeIn(100)}).on("blur",function(){r(this).trigger("keyup"),o&&s.fadeOut(100)}).on("remove",function(){clearTimeout(a),t=null,e=null,i=null,s=null,o=null,u=null,a=null})},configRegexValidation:function(e,t){e.on("keyup",function(){var n=!1;h.patterns[t].test(e.val())?(e.parent().removeClass("has-error"),e.next().hide(),n=!0):(e.parent().addClass("has-error"),e.next().show()),e.data("valid",n),e.trigger("validation::change",{valid:n})}).on("remove",function(){e=null})},confirmValidator:function(e){var t=r(".help-inline:first",e.holder),n=r("input:first",e.holder),i=r(".confirm",e.holder),s,u,a,f=function(){u={valid:n.val()===i.val()},s=o.validation.confirmMatch},l=function(){u={valid:a.length>=e.min&&a.length<=e.max},s=o.validation.confirmMinMax};e.holder.on("keyup","input[type=password], input[type=text]",function(o){var c=r(this);a=c.val(),c.hasClass("confirm")?e.firstCheckLength?(l(),u.valid&&f()):(f(),u.valid&&l()):e.firstCheckLength?(l(),u.valid&&i.val()!=""&&f()):(l(),u.valid&&f()),u.valid?(u.value=a,e.holder.removeClass("has-error")):(e.holder.addClass("has-error"),t.text(s));if(!n.val()||!i.val())u.valid=!1;e.holder.trigger("validation::change",u)}).on("remove",function(){e.holder=null,e=null,t=null,n=null,i=null,s=null,u=null,a=null})},attachCounter:function(e,t){var n=e.closest(".form-group, .rp-form-group").find(t.selector+":first");n.length&&e.on("keyup",function(t){n.text(e.val().length)}).on("remove",function(){t=null,n=null,e=null})},validateEmail:function(e){var t=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,})+$/;return t.test(e)},getRoot:function(){return this.root||(this.root=window.location.href.split("#")[0]),this.root},addSymbolsValidation:function(){var e=this;r.validator.addMethod("symbols",function(e,t,n){return n.test(e)}),r.validator.addMethod("email",function(t,n,r){return e.validateEmail(t)})},setProfileUrl:function(){h.userModel.set("image",g.updateImagePath(h.apiVersion+"data/photo?"+h.userModel.get("name")+"?at="+Date.now()))},clearLaunchesActiveFilter:function(){h.preferences.active="",r("#launches").attr("href","#"+h.project.projectId+"/launches/all")},getTicketUrlId:function(e){var t=h.patterns.urlT,n=e.search(t),r={id:e,url:null};return n>=0&&(r={id:e.slice(0,n-1),url:e.slice(n)}),r},getIssueTypes:function(){return["product_bug","automation_bug","system_issue","no_defect","to_investigate"]},getDefaultColor:function(e){var t,n=_.map(e.split("_"),function(e,t){return t?e.capitalize():e});return e=n.join(""),t=h.defaultColors[e],t||(t="#"+(Math.random()*16777215<<0).toString(16)),t},sortSubDefects:function(e,t){var n=h.patterns.defectsLocator;return n.test(e.locator)?-1:n.test(t.locator)?1:e.longName<t.longName?-1:e.longName>t.longName?1:0},getSubDefectsLocators:function(e,t){var n=[];return _.each(t,function(t){t.typeRef==e.toUpperCase()&&n.push(t.locator)}),n},getDefectCls:function(e){var t="",n=e.split("_");return t=n.length==1?n[0].slice(0,1):n.length==2?n[0][0]+n[1][0]:"",t},setupSelect2Tags:function(e,t){t=t||{};var n=e.data("warning"),i=[],s=null;this.setupSelect2WhithScroll(e,{formatInputTooShort:function(e,t){return n},tags:!0,multiple:!0,noResizeSearch:t.noResizeSearch?t.noResizeSearch:!1,dropdownCssClass:t.dropdownCssClass||"",minimumInputLength:t.min||1,maximumInputLength:128,formatResultCssClass:function(e){if((i.length==0||_.indexOf(i,e.text)<0)&&r(".select2-input.select2-active").val()==e.text)return"exact-match"},initSelection:function(e,t){var n=e.val().split(","),r=_.map(n,function(e){return e=e.trim(),{id:e,text:e}});t(r)},createSearchChoice:function(e,n){return!t.noCreateNew&&_.filter(n,function(t){return t.text.localeCompare(e)===0}).length===0?{id:e,text:e}:null},query:function(e){if(e.term==="?")return;var n={results:[]};t.startSearch&&e.term.length<t.startSearch?(i=[],n.results.push({id:e.term,text:e.term}),e.callback(n)):(clearTimeout(s),s=setTimeout(function(){c.searchTags(e,t.type,t.mode).done(function(t){var r=_.isObject(t)&&t.content?"user":"default",t=r=="default"?t:t.content,i=[];_.forEach(t,function(e){r=="user"?(n.results.push({id:e.userId,text:e.full_name}),e=e.full_name):n.results.push({id:e,text:e}),i.push(e)}),e.callback(n)}).fail(function(e){this.ajaxFailMessenger(e)})},h.userFilterDelay))}}),e.on("remove",function(){n=null,e=null,t=null,s&&(clearTimeout(s),s=null)})},getDefaultRequestParams:function(){var e={launch:function(){return{"page.page":1,"page.size":h.objectsOnPage,"page.sort":"start_time,DESC"}},suit:function(){return{"page.page":1,"page.size":h.objectsOnPage,"page.sort":"start_time,ASC","filter.eq.launch":null,"filter.size.path":0}},test:function(){return{"page.page":1,"page.size":h.objectsOnPage,"page.sort":"start_time,ASC"}},log:function(){return{"filter.eq.item":null,"page.page":1,"page.size":h.objectsOnPageLogs,"page.sort":"time,ASC"}},allcases:function(e,t,n){var r={"filter.eq.has_childs":!1,"page.page":1,"page.size":h.objectsOnPage,"page.sort":"start_time,ASC"};return n>2?r["filter.in.path"]=t:r["filter.eq.launch"]=t,e&&(r["filter.in.type"]="STEP"),r},history:function(){return!1}};return e}}),g}),function(e,t){"undefined"!=typeof exports?module.exports=t(require("underscore"),require("backbone")):"function"==typeof define&&define.amd?define("backbone-epoxy",["underscore","backbone"],t):t(e._,e.Backbone)}(this,function(e,t){function n(e,t,n){return e._super.prototype[t].apply(e,n)}function r(t,n,i,s){for(var o in n)if(n.hasOwnProperty(o)){var u=n[o];if(t.hasComputed(o)){if(s.length&&e.contains(s,o))throw"Recursive setter: "+s.join(" > ");u=t.c()[o].set(u),u&&E(u)&&(i=r(t,u,i,s.concat(o)))}else i[o]=u}return i}function i(t,n,r,i){r=r||{},r.get&&w(r.get)&&(r._get=r.get),r.set&&w(r.set)&&(r._set=r.set),delete r.get,delete r.set,e.extend(this,r),this.model=t,this.name=n,this.deps=this.deps||[],i||this.init()}function s(t){return w(t)?t():(E(t)&&(t=e.clone(t),e.each(t,function(e,n){t[n]=s(e)})),t)}function o(e){return w(e)?{set:e}:e}function u(t){return function(){var n=arguments,r=w(t)?t:t.get,i=t.set;return function(t){return b(t)?r.apply(this,e.map(n,s)):n[0]((i?i:r).call(this,t))}}}function a(t,n,r,i,s){return(t=e.result(t,i))?(x(t)?(s=s?s+"_":"",n["$"+i]=function(){return D&&D.push([t,"change"]),t},e.each(t.toJSON({computed:!0}),function(e,i){n[s+i]=function(e){return f(t,i,e,r)}})):T(t)&&(n["$"+i]=function(){return D&&D.push([t,"reset add remove sort update"]),t}),t):void 0}function f(t,n,r,i){if(D&&D.push([t,"change:"+n]),!b(r)){if(!E(r)||S(r)||e.isDate(r)){var s=r;r={},r[n]=s}return i&&i.save?t.save(r,i):t.set(r,i)}return t.get(n)}function l(e,t){if(":el"===t||":scope"===t)return e.$el;var n=e.$(t);return e.$el.is(t)&&(n=n.add(e.$el)),n}function c(t,n,r,i,s,o){try{var u=A[r]||(A[r]=Function("$f","$c","with($f){with($c){return{"+r+"}}}")),a=u(o,i)}catch(f){throw'Error parsing bindings: "'+r+'"\n>> '+f}var l=e.map(e.union(a.events||[],["change"]),function(e){return e+".epoxy"}).join(" ");e.each(a,function(e,r){if(s.hasOwnProperty(r))t.b().push(new v(t,n,s[r],e,l,i,a));else if(!_.hasOwnProperty(r))throw'binding handler "'+r+'" is not defined.'})}function h(e,t,n){return e&&e.hasOwnProperty(t)?b(n)?s(e[t]):e[t](n):void 0}function p(e,t){var n=[];if(t&&e)for(var r=0,i=t.length;i>r;r++)n.push(t[r]in e?e[t[r]]():null);return n}function d(e){var t=[];for(var n in e){var r=e[n];E(r)&&(r="{"+d(r)+"}"),H.test(n)||B.test(n)||(n='"'+n+'"'),t.push(n+":"+r)}return t.join(",")}function v(t,n,r,i,o,u,a){var f=this,l=n[0].tagName.toLowerCase(),c="input"==l||"select"==l||"textarea"==l||"true"==n.prop("contenteditable"),h=[],p=function(e){f.$el&&f.set(f.$el,s(i),e)};if(f.view=t,f.$el=n,f.evt=o,e.extend(f,r),i=f.init(f.$el,s(i),u,a)||i,D=h,p(),D=null,c&&r.get&&w(i)&&f.$el.on(o,function(e){i(f.get(f.$el,s(i),e))}),h.length)for(var d=0,v=h.length;v>d;d++)f.listenTo(h[d][0],h[d][1],p)}var m,g=t.Epoxy={},y=Array.prototype,b=e.isUndefined,w=e.isFunction,E=e.isObject,S=e.isArray,x=function(e){return e instanceof t.Model},T=function(e){return e instanceof t.Collection},N=function(){},C={mixin:function(e){e=e||{};for(var t in this.prototype)"bindings"===t&&e.bindings||this.prototype.hasOwnProperty(t)&&"constructor"!==t&&(e[t]=this.prototype[t]);return e}},k=["computeds"];g.Model=t.Model.extend({_super:t.Model,constructor:function(t,r){e.extend(this,e.pick(r||{},k)),n(this,"constructor",arguments),this.initComputeds(this.attributes,r)},getCopy:function(t){return e.clone(this.get(t))},get:function(e){return m&&m.push(["change:"+e,this]),this.hasComputed(e)?this.c()[e].get():n(this,"get",arguments)},set:function(t,i,s){var o=t;o&&!E(o)?(o={},o[t]=i):s=i,s=s||{};var u=this._setting=[];s.unset||(o=r(this,o,{},[])),delete this._setting;var a=n(this,"set",[o,s]);return s.silent||(!this.hasChanged()&&u.length&&this.trigger("change",this),e.each(u,function(e){this.trigger.apply(this,e)},this)),a},toJSON:function(t){var r=n(this,"toJSON",arguments);return t&&t.computed&&e.each(this.c(),function(e,t){r[t]=e.value}),r},destroy:function(){return this.clearComputeds(),n(this,"destroy",arguments)},c:function(){return this._c||(this._c={})},initComputeds:function(t){this.clearComputeds();var n=e.result(this,"computeds")||{};n=e.extend(n,e.pick(t||{},e.keys(n))),e.each(n,function(e,t){e._init=1,this.addComputed(t,e)},this),e.invoke(this.c(),"init")},addComputed:function(e,t,n){this.removeComputed(e);var r=t,s=r._init;if(w(t)){var o=2;r={},r._get=t,w(n)&&(r._set=n,o++),r.deps=y.slice.call(arguments,o)}return this.c()[e]=new i(this,e,r,s),this},hasComputed:function(e){return this.c().hasOwnProperty(e)},removeComputed:function(e){return this.hasComputed(e)&&(this.c()[e].dispose(),delete this.c()[e]),this},clearComputeds:function(){for(var e in this.c())this.removeComputed(e);return this},modifyArray:function(e,t,n){var r=this.get(e);if(S(r)&&w(y[t])){var i=y.slice.call(arguments,2),s=y[t].apply(r,i);return n=n||{},n.silent||this.trigger("change:"+e+" change",this,y,n),s}return null},modifyObject:function(e,t,n,r){var i=this.get(e),s=!1;return E(i)?(r=r||{},b(n)&&i.hasOwnProperty(t)?(delete i[t],s=!0):i[t]!==n&&(i[t]=n,s=!0),s&&!r.silent&&this.trigger("change:"+e+" change",this,i,r),i):null}},C),e.extend(i.prototype,t.Events,{init:function(){var t={},n=m=[];this.get(!0),m=null,n.length&&(e.each(n,function(n){var r=n[0],i=n[1];t[r]?e.contains(t[r],i)||t[r].push(i):t[r]=[i]}),e.each(t,function(t,n){for(var r=0,i=t.length;i>r;r++)this.listenTo(t[r],n,e.bind(this.get,this,!0))},this))},val:function(e){return this.model.get(e)},get:function(t){if(t===!0&&this._get){var n=this._get.apply(this.model,e.map(this.deps,this.val,this));this.change(n)}return this.value},set:function(e){if(this._get){if(this._set)return this._set.apply(this.model,arguments);throw"Cannot set read-only computed attribute."}return this.change(e),null},change:function(t){if(!e.isEqual(t,this.value)){this.value=t;var n=["change:"+this.name,this.model,t];this.model._setting?this.model._setting.push(n):(n[0]+=" change",this.model.trigger.apply(this.model,n))}},dispose:function(){this.stopListening(),this.off(),this.model=this.value=null}});var L={optionText:"label",optionValue:"value"},A={},O={attr:o(function(e,t){e.attr(t)}),checked:o({get:function(t,n,r){t.length>1&&(t=t.filter(r.target));var i=!!t.prop("checked"),s=t.val();if(this.isRadio(t))return s;if(S(n)){n=n.slice();var o=e.indexOf(n,s);return i&&0>o?n.push(s):!i&&o>-1&&n.splice(o,1),n}return i},set:function(t,n){t.length>1&&(t=t.filter('[value="'+n+'"]'));var r=!!n;this.isRadio(t)?r=n==t.val():S(n)&&(r=e.contains(n,t.val())),t.prop("checked",r)},isRadio:function(e){return"radio"===e.attr("type").toLowerCase()}}),classes:o(function(t,n){e.each(n,function(e,n){t.toggleClass(n,!!e)})}),collection:o({init:function(e,t,n,r){if(this.i=r.itemView?this.view[r.itemView]:this.view.itemView,!T(t))throw'Binding "collection" requires a Collection.';if(!w(this.i))throw'Binding "collection" requires an itemView.';this.v={}},set:function(t,n,r){var i,s=this.v,o=this.i,u=n.models,a=D;if(D=null,r=r||n,x(r))if(s.hasOwnProperty(r.cid))s[r.cid].remove(),delete s[r.cid];else{s[r.cid]=i=new o({model:r,collectionView:this.view});var f=e.indexOf(u,r),l=t.children();l.length>f?l.eq(f).before(i.$el):t.append(i.$el)}else if(T(r)){var c=u.length===e.size(s)&&n.every(function(e){return s.hasOwnProperty(e.cid)});t.children().detach();var h=document.createDocumentFragment();c?n.each(function(e){h.appendChild(s[e.cid].el)}):(this.clean(),n.each(function(e){s[e.cid]=i=new o({model:e,collectionView:this.view}),h.appendChild(i.el)},this)),t.append(h)}D=a},clean:function(){for(var e in this.v)this.v.hasOwnProperty(e)&&(this.v[e].remove(),delete this.v[e])}}),css:o(function(e,t){e.css(t)}),disabled:o(function(e,t){e.prop("disabled",!!t)}),enabled:o(function(e,t){e.prop("disabled",!t)}),html:o(function(e,t){e.html(t)}),options:o({init:function(e,t,n,r){this.e=r.optionsEmpty,this.d=r.optionsDefault,this.v=r.value},set:function(t,n){var r=this,i=s(r.e),o=s(r.d),u=s(r.v),a=T(n)?n.models:n,f=a.length,l=!0,c="";f||o||!i?(o&&(a=[o].concat(a)),e.each(a,function(e){c+=r.opt(e,f)})):(c+=r.opt(i,f),l=!1),t.html(c).prop("disabled",!l).val(u),0>t[0].selectedIndex&&t.children().length&&(t[0].selectedIndex=0);var h=t.val();r.v&&!e.isEqual(u,h)&&r.v(h)},opt:function(e){var t=e,n=e,r=L.optionText,i=L.optionValue;return E(e)&&(t=x(e)?e.get(r):e[r],n=x(e)?e.get(i):e[i]),['<option value="',n,'">',t,"</option>"].join("")},clean:function(){this.d=this.e=this.v=0}}),template:o({init:function(t,n,r){var i=t.find("script,template");return this.t=e.template(i.length?i.html():t.html()),S(n)?e.pick(r,n):void 0},set:function(e,t){t=x(t)?t.toJSON({computed:!0}):t,e.html(this.t(t))},clean:function(){this.t=null}}),text:o({get:function(e){return e.text()},set:function(e,t){e.text(t)}}),toggle:o(function(e,t){e.toggle(!!t)}),value:o({get:function(e){return e.val()},set:function(e,t){try{e.val()+""!=t+""&&e.val(t)}catch(n){}}})},M={all:u(function(){for(var e=arguments,t=0,n=e.length;n>t;t++)if(!e[t])return!1;return!0}),any:u(function(){for(var e=arguments,t=0,n=e.length;n>t;t++)if(e[t])return!0;return!1}),length:u(function(e){return e.length||0}),none:u(function(){for(var e=arguments,t=0,n=e.length;n>t;t++)if(e[t])return!1;return!0}),not:u(function(e){return!e}),format:u(function(e){for(var t=arguments,n=1,r=t.length;r>n;n++)e=e.replace(RegExp("\\$"+n,"g"),t[n]);return e}),select:u(function(e,t,n){return e?t:n}),csv:u({get:function(e){return e+="",e?e.split(","):[]},set:function(e){return S(e)?e.join(","):e}}),integer:u(function(e){return e?parseInt(e,10):0}),decimal:u(function(e){return e?parseFloat(e):0})},_={events:1,itemView:1,optionsDefault:1,optionsEmpty:1};g.binding={allowedParams:_,addHandler:function(e,t){O[e]=o(t)},addFilter:function(e,t){M[e]=u(t)},config:function(t){e.extend(L,t)},emptyCache:function(){A={}}};var D,P=["viewModel","bindings","bindingFilters","bindingHandlers","bindingSources","computeds"];g.View=t.View.extend({_super:t.View,constructor:function(t){e.extend(this,e.pick(t||{},P)),n(this,"constructor",arguments),this.applyBindings()},b:function(){return this._b||(this._b=[])},bindings:"data-bind",setterOptions:null,applyBindings:function(){this.removeBindings();var n=this,r=e.clone(e.result(n,"bindingSources")),i=n.bindings,s=n.setterOptions,f=e.clone(O),h=e.clone(M),v=n._c={};e.each(e.result(n,"bindingHandlers")||{},function(e,t){f[t]=o(e)}),e.each(e.result(n,"bindingFilters")||{},function(e,t){h[t]=u(e)}),n.model=a(n,v,s,"model"),n.viewModel=a(n,v,s,"viewModel"),n.collection=a(n,v,s,"collection"),n.collection&&n.collection.view&&(n.itemView=n.collection.view),r&&(e.each(r,function(e,t){r[t]=a(r,v,s,t,t)}),n.bindingSources=r),e.each(e.result(n,"computeds")||{},function(e,t){var r=w(e)?e:e.get,i=e.set,s=e.deps;v[t]=function(e){return!b(e)&&i?i.call(n,e):r.apply(n,p(n._c,s))}}),E(i)?e.each(i,function(e,t){var r=l(n,t);E(e)&&(e=d(e)),r.length&&c(n,r,e,v,f,h)}):l(n,"["+i+"]").each(function(){var e=t.$(this);c(n,e,e.attr(i),v,f,h)})},getBinding:function(e){return h(this._c,e)},setBinding:function(e,t){return h(this._c,e,t)},removeBindings:function(){if(this._c=null,this._b)for(;this._b.length;)this._b.pop().dispose()},remove:function(){this.removeBindings(),n(this,"remove",arguments)}},C);var H=/^[a-z_$][a-z0-9_$]*$/i,B=/^\s*(["']).*\1\s*$/;return e.extend(v.prototype,t.Events,{init:N,get:N,set:N,clean:N,dispose:function(){this.clean(),this.stopListening(),this.$el.off(this.evt),this.$el=this.view=null}}),g}),define("model/URLParamsModel",["require","exports","module","backbone","app"],function(e,t,n){var r=e("backbone"),i=e("app"),s=i.getInstance(),o=r.Model.extend({"default":{},initialize:function(){this.listenTo(this,"change",this.onChange),this.parseURL()},parseURL:function(){try{var e=decodeURI(window.location.hash).split("?");this.mainHash=e[0];var t=e[1];if(!t)return this.clear({silent:!0}),!1;var n=this,r=t.split("&");r.forEach(function(e){var t=e.split("=");n.set(t[0],t[1],{silent:!0})})}catch(i){}},delaySet:function(e){var t=this;setTimeout(function(){t.set(e)},0)},_getQueryString:function(){var e=[],t=this.toJSON();for(var n in t)t[n]!=null&&e.push(n+"="+encodeURIComponent(t[n]));return e.join("&")},onChange:function(e,t){if(this.mainHash!=window.location.hash.split("?")[0]){console.log("URLParamsModel: error, main hash it was changed");return}var n=this._getQueryString();if(!s.router)return;s.router.navigate(this.mainHash+"?"+n,{trigger:!1,replace:!0})}});return o}),define("model/SingletonURLParamsModel",["require","model/URLParamsModel"],function(e){"use strict";var t=null,n=e("model/URLParamsModel"),r=function(){return t?t.parseURL():t=new n,t};return r}),define("model/AppModel",["require","underscore","backbone-epoxy","coreService"],function(e){"use strict";var t=e("underscore"),n=e("backbone-epoxy"),r=e("coreService"),i=n.Model.extend({defaults:{projectId:null,type:"",externalSystem:"[]"},computeds:{isBtsAdded:{deps:["externalSystem"],get:function(){var e=this.getArr("externalSystem");return e&&!e.length?!1:!0}},isBtsConfigure:{deps:["isBtsAdded","externalSystem"],get:function(e){var n;return e?(n=this.getArr("externalSystem"),t.any(n,function(e){return e.fields&&e.fields.length})?!0:!1):!1}}},initialize:function(){},isPersonalProject:function(){return this.get("configuration")?this.get("configuration").entryType==="PERSONAL":null},isInternalProject:function(){return this.get("configuration")?this.get("configuration").entryType==="INTERNAL":null},update:function(){var e=this;return r.getProject().done(function(t){e.parse(t)})},parse:function(e){e.externalSystem="",e.configuration&&e.configuration.externalSystem&&(e.externalSystem=JSON.stringify(e.configuration.externalSystem)),this.set(e)},getArr:function(e){var t=this.get(e);try{return JSON.parse(t)}catch(n){return[]}},setArr:function(e,t){this.set(e,JSON.stringify(t))}});return i}),define("model/SingletonAppModel",["require","model/AppModel"],function(e){"use strict";var t=null,n=e("model/AppModel"),r=function(){return t||(t=new n),t};return r}),define("model/RegistryInfoModel",["require","backbone-epoxy","jquery","underscore","coreService"],function(e){var t=e("backbone-epoxy"),n=e("jquery"),r=e("underscore"),i=e("coreService"),s=t.Model.extend({defaults:{services:{}},computeds:{isAnalyzerOn:{deps:["services"],get:function(e){return e&&e.API&&e.API.extensions&&e.API.extensions.analyzer&&e.API.extensions.analyzer.length?!0:!1}},analyticsExtensions:{deps:["services"],get:function(e){return e&&e.API&&e.API.extensions&&e.API.extensions.analytics?e.API.extensions.analytics:{}}},sendStatistics:{deps:["analyticsExtensions"],get:function(e){return e.all&&e.all.enabled}},uiBuildVersion:{deps:["services"],get:function(e){return e&&e.UI&&e.UI.build?e.UI.build.version:""}},authExtensions:{deps:["services"],get:function(e){return e&&e.UAT&&e.UAT.auth_extensions?e.UAT.auth_extensions:{}}},autGithubExtensions:{deps:["services"],get:function(e){return e&&e.UAT&&e.UAT.auth_extensions&&e.UAT.auth_extensions.github?e.UAT.auth_extensions.github:{}}},bugTrackingExtensions:{deps:["services"],get:function(e){return e&&e.API&&e.API.extensions&&e.API.extensions.bugtracking?e.API.extensions.bugtracking:[]}},activitiesEventsTypes:{deps:["services"],get:function(e){return e&&e.API&&e.API.metadata&&e.API.metadata.activitiesEventType?e.API.metadata.activitiesEventType:[]}},activitiesObjectTypes:{deps:["services"],get:function(e){return e&&e.API&&e.API.metadata&&e.API.metadata.activitiesObjectType?e.API.metadata.activitiesObjectType:[]}},isEpamInstance:{deps:["authExtensions"],get:function(e){return!!e.epam}},isDemo:{deps:["services"],get:function(e){return e&&e.API&&e.API.environment&&e.API.environment.instance_type&&e.API.environment.instance_type==="demo"?!0:!1}},getTriggersIn:{deps:["services"],get:function(e){return e&&e.API&&e.API.jobs&&e.API.jobs.flushingDataTrigger&&e.API.jobs.flushingDataTrigger.triggersIn?e.API.jobs.flushingDataTrigger.triggersIn:null}}},initialize:function(){var e=this;this.ready=n.Deferred(),this.update().always(function(){e.ready.resolve()})},update:function(){var e=this;return i.getRegistryInfo().done(function(t){e.set({services:t})})}});return s}),define("model/SingletonRegistryInfoModel",["require","model/RegistryInfoModel"],function(e){"use strict";var t=null,n=e("model/RegistryInfoModel"),r=function(){return t||(t=new n),t};return r}),define("model/UserModel",["require","exports","module","jquery","backbone-epoxy","util","app","coreService","model/SingletonURLParamsModel","model/SingletonAppModel","model/SingletonRegistryInfoModel","cookie"],function(e,t,n){var r=e("jquery"),i=e("backbone-epoxy"),s=e("util"),o=e("app"),u=e("coreService"),a=e("model/SingletonURLParamsModel"),f=e("model/SingletonAppModel"),l=e("model/SingletonRegistryInfoModel");e("cookie");var c=o.getInstance(),h=null,p=function(){return h||(h=new d),h},d=i.Model.extend({defaults:{auth:!1,user_login:null,access_token:null,redirectUrl:null,projects:null,defaultProject:null,label:null,name:"anonymous",fullName:"",email:null,account_type:null,userRole:null,image:null,photo_loaded:!1,lastInsideHash:null,token:"Basic dWk6dWltYW4=",apiToken:null},computeds:{isAdmin:{deps:["userRole"],get:function(e){return e===c.accountRolesEnum.administrator}}},initialize:function(){this.ready=r.Deferred(),this.listenTo(this,"change:lastInsideHash",this.onChangeLastInsideHash),this.set({token:this.getToken()}),this.listenTo(this,"change:token",this.onChangeToken),this.appModel=new f,this.infoModel=new l},checkAuthUrl:function(){var e=new a;e.get("access_token")&&e.get("token_type")&&(this.set({token:e.get("token_type")+" "+e.get("access_token")}),this.loginSuccess())},isAuth:function(){var e=this,t=r.Deferred();return this.ready.done(function(){e.get("auth")?t.resolve():t.reject()}),t.promise()},onChangeToken:function(e,t){window.localStorage&&t&&window.localStorage.setItem("session_token",t)},getToken:function(){return window.localStorage?window.localStorage.getItem("session_token"):this.defaults.token},onChangeLastInsideHash:function(e,t){window.localStorage&&t&&window.localStorage.setItem(this.get("name")+"_lastInsideHash",t)},clearLastInsidePage:function(){this.set({lastInsideHash:null}),window.localStorage&&window.localStorage.removeItem(this.get("name")+"_lastInsideHash")},getLastInsideHashStorage:function(){if(!window.localStorage)return!1;var e=window.localStorage.getItem(this.get("name")+"_lastInsideHash");return e==="null"?!1:e},getAnonymousHash:function(){if(!window.localStorage)return!1;var e=window.localStorage.getItem("anonymous_lastInsideHash");return window.localStorage.removeItem("anonymous_lastInsideHash"),e==="null"||e==="#null"?!1:e},isValidNotEmptyJSON:function(e){if(!e.length)return!1;var t=e;return t=t.replace(/\\["\\\/bfnrtu]/g,"@"),t=t.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]"),t=t.replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(t)},getApiToken:function(){var e=this;u.getApiToken().done(function(t){e.set({apiToken:"bearer "+t.access_token})}).fail(function(){u.generateApiToken().done(function(t){e.set({apiToken:"bearer "+t.access_token})})})},load:function(){var e=this;this.updateInfo().done(function(t,n,r){e.isValidNotEmptyJSON(r.responseText)?(e.getApiToken(),e.updateProjects().done(function(){e.infoModel.get("isDemo")?e.set({lastInsideHash:e.getAnonymousHash()||e.getLastInsideHashStorage()||e.getDefaultHashForDemo()}):e.set({lastInsideHash:e.getAnonymousHash()||e.getLastInsideHashStorage()||e.getDefaultProjectHash()}),e.set({auth:!0}),e.ready.resolve()}).fail(function(){e.set(e.defaults),e.ready.resolve()})):(e.clearSession(),s.ajaxFailMessenger(null,"defaults"))}).fail(function(t){!e.isValidNotEmptyJSON(t.responseText)&&e.getToken()!=="Basic dWk6dWltYW4="&&(e.clearSession(),s.ajaxFailMessenger(null,"defaults")),e.set(e.defaults),setTimeout(function(){e.ready.resolve()})})},parse:function(e){return{defaultProject:e.default_project,label:e.uuid,name:e.userId,fullName:e.full_name,email:e.email,account_type:e.account_type,userRole:e.userRole,photo_loaded:e.photo_loaded,image:c.apiVersion+"data/photo?"+e.userId+"?at="+Date.now(),user_login:e.userId}},updateInfo:function(){var e=this;return u.getCurrentUser().done(function(t){e.set(e.parse(t))})},updateProjects:function(){var e=r.Deferred(),t=this;return this.get("name")?(u.getUserAssignedProjects(this.get("name")).done(function(n){t.set({projects:n}),e.resolve(n)}).fail(function(){e.reject()}),e.promise()):(e.reject(),e.promise())},getDefaultProjectHash:function(){return"#"+this.get("defaultProject")},getDefaultHashForDemo:function(){return"#"+this.get("defaultProject")+"/launches/all"},clearSession:function(){this.set(this.defaults)},login:function(e,t){e=e.toLowerCase();var n=this;return this.trigger("login::loader::show"),u.userLogin({login:e,password:t}).done(function(e){n.set({token:e.token_type+" "+e.access_token}),n.loginSuccess()}).fail(function(e){n.clearSession(),s.ajaxFailMessenger(e,"defaults")})},loginSuccess:function(){this.set("redirectUrl",null),s.ajaxSuccessMessenger("signedIn"),this.load()},hasPermissions:function(e){var t=this.get("projects")[this.appModel.get("projectId")];if(s.isAdmin(c.userModel.toJSON()))return!0;if(!t)return!1;var n=t.projectRole;e=e||n;var r=_.indexOf(c.projectRoles,n),i=_.indexOf(c.projectRoles,e),o=!1;return r>2&&(o=r>=i),o},getRoleForCurrentProject:function(){var e=null,t="";return this.get("projects")&&(e=this.get("projects")[this.appModel.get("projectId")]),e&&(t=e.projectRole),t},logout:function(){s.clearXhrPool(),u.userLogout(),c.project={},this.clearSession()}});return p}),define("message",["backbone","util"],function(e,t){"use strict";var n=e.View.extend({tpl:"tpl-messages-panel",initialize:function(){this.collection=new e.Collection,this.collection.on("add",this.render,this)},render:function(){this.$el.empty();if(this.collection.length!==0){var e=this.collection.pop(),n=t.templates(this.tpl,e.toJSON());this.$el.append(n)}},events:{"click: button.close":"close"},close:function(e){this.$el.empty()}}),r=n.extend({tpl:"tpl-messages-single",initialize:function(){this.collection=new e.Collection,this.collection.on("add",this.render,this)},render:function(){this.$el.empty();if(this.collection.length!==0){var e=this.collection.pop(),n=t.templates(this.tpl,e.toJSON());this.$el.html(n),e.get("clazz")!=="alert"&&setTimeout(function(){$(".message-fade",this.$el).fadeOut(500)},5e3)}},events:{click:"close"},close:function(e){this.$el.find(".message-fade").fadeOut(500)}});return{MessagePanel:n,Success:r}}),define("storage/UserStorage",["require","exports","module","storage/Storage","jquery","model/UserModel"],function(e,t,n){"use strict";var r=e("storage/Storage"),i=e("jquery"),s=e("model/UserModel"),o=r.extend({defaults:{startTimeFormat:""},initialize:function(){this.user=new s,this.saveKey="",this.listenTo(this,"change",this.onChangeSettings);var e=this;this.ready=i.Deferred(),this.user.ready.done(function(){e.onChangeUserState(e.user,e.user.get("auth")),e.listenTo(e.user,"change:auth",e.onChangeUserState.bind(e)),e.ready.resolve()})},onChangeUserState:function(e,t){if(!t)return this.clear({silent:!0}),this.set(this.defaults,{silent:!0}),this.saveKey="",!1;this.saveKey=this.user.get("name")+"_settings";var n=this.getItem(this.saveKey);try{var r=JSON.parse(n);this.set(r,{silent:!0})}catch(i){console.log("UserStorage: failed parse JSON"),console.log(i.message)}},onChangeSettings:function(){var e=this;this.user.isAuth().done(function(){e.setItem(e.saveKey,JSON.stringify(e.toJSON()))})}});return o}),define("storage/SingletonUserStorage",["require","storage/UserStorage"],function(e){"use strict";var t=null,n=e("storage/UserStorage"),r=function(){return t||(t=new n),t};return r}),define("sections/header",["require","jquery","backbone","underscore","util","model/UserModel","storage/SingletonUserStorage","model/SingletonAppModel","app","localization"],function(e){"use strict";var t=e("jquery"),n=e("backbone"),r=e("underscore"),i=e("util"),s=e("model/UserModel"),o=e("storage/SingletonUserStorage"),u=e("model/SingletonAppModel"),a=e("app"),f=e("localization"),l=a.getInstance(),c=n.View.extend({el:"#topHeader",events:{"click .user-projects a":"changeProject","click [data-js-logout]":"onClickLogout","click [data-js-toogle-menu]":"onClickMenuOpen","click [data-js-administrate-page-link]":"onClickAdminLink","click [data-js-members-icon]":"onClickMembersIcon","click [data-js-settings-icon]":"onClickSettingsIcon","click [data-js-user-dropdown]":"onClickUserDropdown","click [data-js-profile-page-link]":"onClickProfileLink","click [data-js-project-dropdown]":"onClickProjectDropdown","click [data-js-api-page-link]":"onClickApiLink"},initialize:function(e){this.tpl=e.tpl,this.lastURL=e.lastURL,this.currentPage=e.currentPage,this.isAdminPage=e.isAdminPage,this.appModel=new u,this.project=this.appModel.attributes,this.canDebug=i.isAdmin()||!i.isCustomer(),this.userModel=new s,this.userStorage=new o,this.listenTo(l.router,"route",this.updateActiveLink)},update:function(e){if(this.currentPage!==e.contextName){this.currentPage=e.contextName;if(e.contextName==="project-details"){this.$el.find("[data-js-admin-header-crumb]").html(this.project&&this.project.projectId?" / "+this.project.projectId:"");return}this.$el.find("[data-js-admin-header-crumb]").html(" / "+this.getCrumbPart(e.contextName))}},getCrumbPart:function(e){switch(e){case"projects":return f.admin.titleAllProjects;case"users":return f.admin.users;case"settings":return f.admin.serverSettings;default:}},render:function(){var e=this,n=this.userModel.toJSON();return this.$el.html(i.templates(this.tpl,{lastURL:this.lastURL,project:this.project,currentPage:this.currentPage,projects:r.keys(this.userModel.get("projects")).sort(),user:n,isAdmin:i.isAdmin(n),canDebug:this.canDebug,util:i})).show(),this.contentProjects=t(".user-projects",this.$el),this.scrollerProjects=i.setupBaronScroll(this.contentProjects),this.blockHeightProjects=this.scrollerProjects.parent(".baron__root"),this.$el.find('#projectSelector a[data-href="'+this.project.projectId+'"]').parent().addClass("active"),this.updateActiveLink(),t("#projectSelector",e.$el).on("shown.bs.dropdown",function(){var n=e.contentProjects.height(),r=t("#project-"+e.project.projectId);n>607&&(n=607,e.blockHeightProjects.addClass("_scrollbar")),e.blockHeightProjects.height(n).width(e.contentProjects.width()).addClass("open"),e.scrollerProjects.addClass("open"),r.length&&e.scrollerProjects.scrollTop(r.position().top-40)}),t("#projectSelector",e.$el).on("hide.bs.dropdown",function(){e.scrollerProjects.removeClass("open"),e.blockHeightProjects.removeClass("open").height(0)}),this.isAdminPage&&(this.currentPage==="project-details"?this.$el.find("[data-js-admin-header-crumb]").html(this.project&&this.project.projectId?" / "+this.project.projectId:""):this.$el.find("[data-js-admin-header-crumb]").html(" / "+this.getCrumbPart(this.currentPage))),this},setLastActivePage:function(){var e=n.history.getFragment();e==="user-profile"?this.userStorage.set("lastActiveURL",this.project.projectId):this.userStorage.set("lastActiveURL",e)},onClickLogout:function(e){l.trackingDispatcher.trackEventNumber(9),e.preventDefault(),e.stopPropagation(),this.userModel.logout()},onClickMembersIcon:function(){l.trackingDispatcher.trackEventNumber(4)},onClickSettingsIcon:function(){l.trackingDispatcher.trackEventNumber(5)},onClickUserDropdown:function(){l.trackingDispatcher.trackEventNumber(6)},onClickProfileLink:function(){l.trackingDispatcher.trackEventNumber(7)},onClickAdminLink:function(){l.trackingDispatcher.trackEventNumber(8),this.setLastActivePage()},onClickProjectDropdown:function(){l.trackingDispatcher.trackEventNumber(10)},onClickApiLink:function(){l.trackingDispatcher.trackEventNumber(514)},updateActiveLink:function(){this.clearActives(),this.currentHash="#"+n.history.getFragment().split("?")[0].split("/",2).join("/"),this.currentHash==="#"+this.project.projectId&&(this.currentHash+="/dashboard"),this.currentHash==="#"+this.project.projectId+"/"&&(this.currentHash+="dashboard"),this.currentHash==="#administrate"&&(this.currentHash+="/projects"),this.$el.find('a[href^="'+this.currentHash+'"]',this.$el).addClass("active"),this.$el.find('#projectSelector a[data-href="'+this.project.projectId+'"]').parent().addClass("active")},clearActives:function(){t("a.active",this.$el).removeClass("active")},changeProject:function(e){var n;e.preventDefault(),n=t(e.currentTarget);if(n.parent().hasClass("active"))return;l.userModel.set("bts",null),l.trackingDispatcher.trackEventNumber(11),l.router.navigate(n.attr("data-href"),{trigger:!0})},onClickMenuOpen:function(){t("body").toggleClass("menu-open")},onDestroy:function(){this.$el.html(""),delete this}});return c}),define("controlers/_eventListener",["require","underscore","backbone"],function(e){var t=e("underscore"),n=e("backbone"),r=function(){this.initialize.apply(this,arguments)};return r.extend=n.Model.extend,t.extend(r.prototype,n.Events,{initialize:function(){},events:{}}),r}),define("controlers/_eventReducer",["require","underscore","backbone"],function(e){var t=e("underscore"),n=e("backbone"),r=function(){this.initialize.apply(this,arguments)};return r.extend=n.Model.extend,t.extend(r.prototype,n.Events,{initialize:function(){}}),r}),define("controlers/filterControler/FilterReducer",["require","underscore","controlers/_eventReducer","coreService","callService","dataUrlResolver","util"],function(e){var t=e("underscore"),n=e("controlers/_eventReducer"),r=e("coreService"),i=e("callService"),s=i.call,o=e("dataUrlResolver"),u=e("util"),a=n.extend({initialize:function(e){this.listener=e,this.events=this.listener.events,this.listenTo(this.listener,this.events.ON_LOAD_FILTERS,this.loadFilters),this.listenTo(this.listener,this.events.ON_REMOVE_FILTER,this.removeFilter),this.listenTo(this.listener,this.events.ON_SET_FILTER,this.setFilter),this.listenTo(this.listener,this.events.ON_ADD_FILTER,this.addFilter),this.listenTo(this.listener,this.events.ON_CHANGE_IS_LAUNCH,this.changeIsLaunch),this.listenTo(this.listener,this.events.ON_LOAD_FILTER,this.loadFilter)},loadFilter:function(e){var t=this;t.listener.trigger(t.events.FILTER_LOAD_START,e),s("GET",o.getFilters([e])).always(function(){t.listener.trigger(t.events.FILTER_LOAD_END,e)}).done(function(n){var r=n[0];r&&t.listener.trigger(t.events.SET_FILTER,{id:e,data:r})})},changeIsLaunch:function(e){this.listener.trigger(this.events.CHANGE_IS_LAUNCH,e)},addFilter:function(e){var t=this,n=e.data;s("POST",o.saveFilter(),{elements:[e.data]}).done(function(r){u.ajaxSuccessMessenger("savedFilter"),t.listener.trigger(t.events.ADD_FILTER,{cid:e.cid,id:r[0].id,data:e.data}),e.isLaunch&&(n.id=r[0].id,t.listener.trigger(t.events.CHANGE_IS_LAUNCH,{data:n,isLaunch:!0}))}).fail(function(e){u.ajaxFailMessenger(e,"savedFilter")})},setFilter:function(e){var t=this;t.listener.trigger(t.events.FILTER_LOAD_START,e.id),s("PUT",o.filterById(e.id),e.data).always(function(){t.listener.trigger(t.events.FILTER_LOAD_END,e.id)}).done(function(){u.ajaxSuccessMessenger("editFilter"),t.listener.trigger(t.events.SET_FILTER,{id:e.id,data:e.data})}).fail(function(e){u.ajaxFailMessenger(e,"editFilter")})},loadFilters:function(e){var t=this;t.listener.trigger(t.events.FILTERS_LOAD_START),r.saveFilter(e).always(function(){t.listener.trigger(t.events.FILTERS_LOAD_END)}).done(function(e){t.listener.trigger(t.events.LOAD_FILTERS,e)})},removeFilter:function(e){var t=this;t.listener.trigger(t.events.FILTER_LOAD_START,e),s("DELETE",o.filterById(e)).always(function(){t.listener.trigger(t.events.FILTER_LOAD_END,e)}).done(function(){u.ajaxSuccessMessenger("deleteFilter"),t.listener.trigger(t.events.REMOVE_FILTER,e)}).fail(function(e){u.ajaxFailMessenger(e,"editFilter")})}});return a}),define("controlers/filterControler/FilterListener",["require","controlers/_eventListener","controlers/filterControler/FilterReducer"],function(e){var t=e("controlers/_eventListener"),n=e("controlers/filterControler/FilterReducer"),r=null,i=t.extend({events:{ON_LOAD_FILTERS:1,FILTERS_LOAD_START:2,FILTERS_LOAD_END:3,LOAD_FILTERS:4,ON_REMOVE_FILTER:5,REMOVE_FILTER:6,FILTER_LOAD_START:7,FILTER_LOAD_END:8,ON_SET_FILTER:9,SET_FILTER:10,ON_ADD_FILTER:11,ADD_FILTER:12,ON_CHANGE_IS_LAUNCH:13,CHANGE_IS_LAUNCH:14,ON_LOAD_FILTER:15},initialize:function(){this.reducer=new n(this)}}),s=function(){return r||(r=new i),r};return s}),define("defectType/DefectTypeModel",["require","exports","module","backbone-epoxy"],function(e,t,n){"use strict";var r=e("backbone-epoxy"),i=r.Model.extend({defaults:{color:"",locator:"",longName:"",shortName:"",typeRef:"",mainType:!1},computeds:{reverseColor:{deps:["lightColor"],get:function(e){return e<50?"#fff":"#464547"}},lightColor:{deps:["color"],get:function(e){var t=/^#?([a-f\d]{1,2})([a-f\d]{1,2})([a-f\d]{1,2})$/i.exec(e),n=t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null;return n?(n.r*.8+n.g+n.b*.2)/510*100:0}}},validate:function(e,t){var n=[];_.each(e,function(e,t){var r={key:t,valid:!0,reason:[]};if(t==="links"||t==="locator"||t==="mainType")return;if(!e.length){r.valid=!1,r.reason.push("fieldRequired"),n.push(r);return}t==="longName"&&(e.length<3||e.length>55)&&(r.valid=!1,r.reason.push("defectName")),t==="shortName"&&e.length>4&&(r.valid=!1,r.reason.push("defectShortName")),r.valid||n.push(r)},this);if(n.length)return n},toUpdateItem:function(){var e=this.toJSON();return delete e.links,delete e.mainType,e.locator!=="newItem"&&(e.id=e.locator),delete e.locator,e}});return i}),define("defectType/DefectTypeCollection",["require","exports","module","backbone","jquery","underscore","coreService","defectType/DefectTypeModel","model/SingletonAppModel","app","util"],function(e,t,n){"use strict";var r=e("backbone"),i=e("jquery"),s=e("underscore"),o=e("coreService"),u=e("defectType/DefectTypeModel"),a=e("model/SingletonAppModel"),f=e("app"),l=f.getInstance(),c=r.Collection.extend({model:u,initialize:function(){this.Util=e("util"),this.appModel=new a,this.ready=i.Deferred(),this.listenTo(this.appModel,"change:projectId",this.update),this.appModel.get("projectId")&&this.update(),this.on("add",this.onAdd),this.on("remove",this.onRemove),this.on("change",this.onChange),this.on("resetColors",this.onResetColors)},update:function(){var e=this;return o.getDefectTypes(this.appModel.get("projectId")).done(function(t){e.reset(e.parse(t)),e.ready.resolve()})},getDefectType:function(e){var t=null,n=this.toJSON();return s.isEmpty(n)||(t=s.find(n,function(t){return t.locator===e})),t},getDefectByLocator:function(e){var t=this.where({locator:e});return t.length>=1?t[0]:null},getMainColorByType:function(e){var t=this.findWhere({typeRef:e.toUpperCase(),mainType:!0});return t?t.get("color"):this.Util.getDefaultColor(e)},checkForSubDefects:function(){return this.length>5},parse:function(e){var t=[];if(!e.subTypes)return t;for(var n in e.subTypes)s.each(e.subTypes[n],function(e,n){n==0&&(e.mainType=!0),t.push(e)});return t},onAdd:function(e){var t=e.toUpdateItem(),n=this;o.postDefectTypes(this.appModel.get("projectId"),t).done(function(r){var i=t.typeRef.toLowerCase()+":added";e.set({locator:r.id}),n.trigger(i,r),n.Util.ajaxSuccessMessenger(r.msg)}).error(function(e){n.update(),n.Util.ajaxFailMessenger(e)})},onRemove:function(e){o.deleteDefectType(this.appModel.get("projectId"),e.get("locator"))},onResetColors:function(){var e={},t=this,n=l.patterns.defectsLocator,r=[];s.each(this.models,function(t,i){var s=t.toUpdateItem();if(n.test(s.id)){e[s.typeRef.toLowerCase()]=s.color;return}if(s.color===e[s.typeRef.toLowerCase()])return;s.color=e[s.typeRef.toLowerCase()],r.push(s)},this),s.isEmpty(r)||i.when(this.updateDefectTypes(r)).done(function(){t.update()})},onChange:function(e){e.changed.locator||this.updateDefectTypes([e.toUpdateItem()])},updateDefectTypes:function(e){var t=this,n=i.Deferred();return o.putDefectType(this.appModel.get("projectId"),{ids:e}).done(function(e){t.Util.ajaxSuccessMessenger(e.msg)}).error(function(e){t.update(),t.Util.ajaxFailMessenger(e)}).always(function(){n.resolve()}),n}});return c}),define("defectType/SingletonDefectTypeCollection",["require","exports","module","defectType/DefectTypeCollection"],function(e,t,n){"use strict";var r=e("defectType/DefectTypeCollection"),i,s=function(){return i||(i=new r),i};return s}),function(e,t){if(typeof define=="function"&&define.amd)define("daterangepicker",["moment","jquery","exports"],function(n,r,i){e.daterangepicker=t(e,i,n,r)});else if(typeof exports!="undefined"){var n=require("moment"),r;try{r=require("jquery")}catch(i){r=window.jQuery;if(!r)throw new Error("jQuery dependency not found")}t(e,exports,n,r)}else e.daterangepicker=t(e,{},e.moment,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,r){var i=function(e,t,n){this.parentEl="body",this.element=r(e),this.isShowing=!1,this.oldDynamicUpdate=!1,this.dynamicUpdate=!1;var i='<div class="daterangepicker dropdown-menu"><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"></label><input class="input-mini" type="text" name="daterangepicker_start" value="" /></div><div class="daterangepicker_end_input"><label for="daterangepicker_end"></label><input class="input-mini" type="text" name="daterangepicker_end" value="" /></div></div></div><div class="calendar-overflow"><div class="calendar right"></div><div class="calendar left"></div><div class="dynamic_update"><label><input class="rp-input-checkbox" type="checkbox"/><span>'+t.dynamicUpdateText+"</span>"+"</label>"+"<p>"+t.locale.timeRangeChange+"</p>"+"</div>"+'<div class="pull-right block-buttons">'+'<button class="rp-btn rp-btn-cancel" data-js-cancel></button>'+'<button class="rp-btn rp-btn-submit" data-js-submit disabled="disabled"></button>'+"</div>"+"</div>"+"</div>";if(typeof t!="object"||t===null)t={};this.parentEl=typeof t=="object"&&t.parentEl&&r(t.parentEl).length?r(t.parentEl):r(this.parentEl),this.container=r(i).appendTo(this.parentEl),this.setOptions(t,n);var s=this.container;r.each(this.buttonClasses,function(e,t){s.find("button").addClass(t)}),this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel),this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel),this.container.find("[data-js-submit]").html(this.locale.applyLabel),this.container.find("[data-js-cancel]").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",r.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",r.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",r.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",r.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",r.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",r.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",r.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.ampmselect",r.proxy(this.updateTime,this)),this.container.find(".dynamic_update input").change(r.proxy(this.changeDynamicRange,this)),this.container.on("click.daterangepicker","[data-js-submit]",r.proxy(this.clickApply,this)).on("click.daterangepicker","[data-js-cancel]",r.proxy(this.clickCancel,this)),this.container.find(".ranges").on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",r.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",r.proxy(this.inputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",r.proxy(this.inputsKeydown,this)).on("click.daterangepicker","li",r.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",r.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",r.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":r.proxy(this.show,this),"focus.daterangepicker":r.proxy(this.show,this),"keyup.daterangepicker":r.proxy(this.updateFromControl,this)}):this.element.on("click.daterangepicker",r.proxy(this.toggle,this)),t.dynamicUpdate&&this.setDynamicRange(!0)};i.prototype={constructor:i,setOptions:function(e,t){this.startDate=n().startOf("day"),this.endDate=n().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.buttonClasses=["btn","btn-small btn-sm"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:n.weekdaysMin(),monthNames:n.monthsShort(),firstDay:n.localeData()._week.dow},this.cb=function(){},typeof e.format=="string"&&(this.format=e.format),typeof e.separator=="string"&&(this.separator=e.separator),typeof e.startDate=="string"&&(this.startDate=n(e.startDate,this.format)),typeof e.endDate=="string"&&(this.endDate=n(e.endDate,this.format)),typeof e.minDate=="string"&&(this.minDate=n(e.minDate,this.format)),typeof e.maxDate=="string"&&(this.maxDate=n(e.maxDate,this.format)),typeof e.startDate=="object"&&(this.startDate=n(e.startDate)),typeof e.endDate=="object"&&(this.endDate=n(e.endDate)),typeof e.minDate=="object"&&(this.minDate=n(e.minDate)),typeof e.maxDate=="object"&&(this.maxDate=n(e.maxDate)),typeof e.applyClass=="string"&&(this.applyClass=e.applyClass),typeof e.cancelClass=="string"&&(this.cancelClass=e.cancelClass),typeof e.dateLimit=="object"&&(this.dateLimit=e.dateLimit),typeof e.locale=="object"&&(typeof e.locale.daysOfWeek=="object"&&(this.locale.daysOfWeek=e.locale.daysOfWeek.slice()),typeof e.locale.monthNames=="object"&&(this.locale.monthNames=e.locale.monthNames.slice()),typeof e.locale.firstDay=="number"&&(this.locale.firstDay=e.locale.firstDay),typeof e.locale.applyLabel=="string"&&(this.locale.applyLabel=e.locale.applyLabel),typeof e.locale.cancelLabel=="string"&&(this.locale.cancelLabel=e.locale.cancelLabel),typeof e.locale.fromLabel=="string"&&(this.locale.fromLabel=e.locale.fromLabel),typeof e.locale.toLabel=="string"&&(this.locale.toLabel=e.locale.toLabel),typeof e.locale.weekLabel=="string"&&(this.locale.weekLabel=e.locale.weekLabel),typeof e.locale.customRangeLabel=="string"&&(this.locale.customRangeLabel=e.locale.customRangeLabel)),typeof e.opens=="string"&&(this.opens=e.opens),typeof e.showWeekNumbers=="boolean"&&(this.showWeekNumbers=e.showWeekNumbers),typeof e.buttonClasses=="string"&&(this.buttonClasses=[e.buttonClasses]),typeof e.buttonClasses=="object"&&(this.buttonClasses=e.buttonClasses),typeof e.showDropdowns=="boolean"&&(this.showDropdowns=e.showDropdowns),typeof e.singleDatePicker=="boolean"&&(this.singleDatePicker=e.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),typeof e.timePicker=="boolean"&&(this.timePicker=e.timePicker),typeof e.timePickerIncrement=="number"&&(this.timePickerIncrement=e.timePickerIncrement),typeof e.timePicker12Hour=="boolean"&&(this.timePicker12Hour=e.timePicker12Hour);if(this.locale.firstDay!=0){var i=this.locale.firstDay;while(i>0)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),i--}var s,o,u;if(typeof e.startDate=="undefined"&&typeof e.endDate=="undefined"&&r(this.element).is("input[type=text]")){var a=r(this.element).val(),f=a.split(this.separator);s=o=null,f.length==2?(s=n(f[0],this.format),o=n(f[1],this.format)):this.singleDatePicker&&(s=n(a,this.format),o=n(a,this.format)),s!==null&&o!==null&&(this.startDate=s,this.endDate=o)}if(typeof e.ranges=="object"){for(u in e.ranges){s=n(e.ranges[u][0]),o=n(e.ranges[u][1]),this.minDate&&s.isBefore(this.minDate)&&(s=n(this.minDate)),this.maxDate&&o.isAfter(this.maxDate)&&(o=n(this.maxDate));if(this.minDate&&o.isBefore(this.minDate)||this.maxDate&&s.isAfter(this.maxDate))continue;this.ranges[u]=[s,o]}var l="<ul>";for(u in this.ranges)l+="<li>"+u+"</li>";l+="<li>"+this.locale.customRangeLabel+"</li>",l+="</ul>",this.container.find(".ranges ul").remove(),this.container.find(".ranges").prepend(l)}typeof t=="function"&&(this.cb=t),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.singleDatePicker?(this.opens="right",this.container.addClass("single"),this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),this.timePicker?this.container.find(".ranges .daterangepicker_start_input, .ranges .daterangepicker_end_input").hide():this.container.find(".ranges").hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.removeClass("single"),this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show()),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.oldChosenLabel=this.chosenLabel,this.leftCalendar={month:n([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute()]),calendar:[]},this.rightCalendar={month:n([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute()]),calendar:[]};if(this.opens=="right"){var c=this.container.find(".calendar.left"),h=this.container.find(".calendar.right");h.hasClass("single")&&(h.removeClass("single"),c.addClass("single")),c.removeClass("left").addClass("right"),h.removeClass("right").addClass("left"),this.singleDatePicker&&(c.show(),h.hide())}typeof e.ranges=="undefined"&&!this.singleDatePicker&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.updateView(),this.updateCalendars()},setStartDate:function(e){typeof e=="string"&&(this.startDate=n(e,this.format)),typeof e=="object"&&(this.startDate=n(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.oldStartDate=this.startDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},setEndDate:function(e){typeof e=="string"&&(this.endDate=n(e,this.format)),typeof e=="object"&&(this.endDate=n(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.oldEndDate=this.endDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button[data-js-submit]").removeAttr("disabled"):this.container.find("button[data-js-submit]").attr("disabled","disabled")},updateFromControl:function(){if(!this.element.is("input"))return;if(!this.element.val().length)return;var e=this.element.val().split(this.separator),t=null,r=null;e.length===2&&(t=n(e[0],this.format),r=n(e[1],this.format));if(this.singleDatePicker||t===null||r===null)t=n(this.element.val(),this.format),r=t;if(r.isBefore(t))return;this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=t,this.endDate=r,(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate))&&this.notify(),this.updateCalendars()},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var e={top:0,left:0},t=r(window).width();this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},t=this.parentEl[0].clientWidth+this.parentEl.offset().left);if(this.opens=="left")this.container.css({top:this.element.offset().top+this.element.outerHeight()-e.top,right:t-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9});else{this.container.css({top:this.element.offset().top+this.element.outerHeight()-e.top,left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>r(window).width()&&this.container.css({left:"auto",right:0});var n=178;this.container.hasClass("show-calendar")&&(n=620),this.container.outerWidth()<n&&r(window).width()-t>=n-this.container.outerWidth()&&this.container.css({right:this.parentEl.outerWidth()-n})}},toggle:function(e){this.element.hasClass("active")?this.hide():this.show()},show:function(e){if(this.isShowing)return;this.element.addClass("active"),this.container.show(),this._outsideClickProxy=r.proxy(function(e){this.outsideClick(e)},this),r(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),this.isShowing=!0,this.checkDynamicUpdate(),this.element.trigger("show.daterangepicker",this),this.move()},outsideClick:function(e){var t=r(e.target);if(t.closest(this.element).length||t.closest(this.container).length||t.closest(".calendar-date").length)return;this.hide()},hide:function(e){if(!this.isShowing)return;r(document).off("mousedown.daterangepicker").off("click.daterangepicker","[data-toggle=dropdown]").off("focusin.daterangepicker"),this.element.removeClass("active"),this.container.hide(),(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate)||this.oldDynamicUpdate!=this.dynamicUpdate)&&this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.oldDynamicUpdate=this.dynamicUpdate,this.isShowing=!1,this.element.trigger("hide.daterangepicker",this)},enterRange:function(e){var t=e.target.innerHTML;if(t==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[t];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.format))}},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},inputsChanged:function(e){var t=r(e.target),i=n(t.val(),this.format);if(!i.isValid())return;var s,o;t.attr("name")==="daterangepicker_start"?(s=i,o=this.endDate):(s=this.startDate,o=i),this.setCustomDates(s,o)},inputsKeydown:function(e){e.keyCode===13&&(this.inputsChanged(e),this.notify())},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)):this.element.is("input")&&this.element.val(this.endDate.format(this.format))},clickRange:function(e){var t=e.target.innerHTML;this.chosenLabel=t;if(t==this.locale.customRangeLabel)this.container.find(".ranges li").removeClass("active"),this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars();else{var n=this.ranges[t];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this)}},clickPrev:function(e){var t=r(e.target).parents(".calendar");t.hasClass("left")?this.leftCalendar.month.subtract(1,"month"):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){var t=r(e.target).parents(".calendar");t.hasClass("left")?this.leftCalendar.month.add(1,"month"):this.rightCalendar.month.add(1,"month"),this.updateCalendars()},hoverDate:function(e){var t=r(e.target).attr("data-title"),n=t.substr(1,1),i=t.substr(3,1),s=r(e.target).parents(".calendar");s.hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[n][i].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[n][i].format(this.format))},setCustomDates:function(e,t){this.chosenLabel=this.locale.customRangeLabel;if(e.isAfter(t)){var r=this.endDate.diff(this.startDate);t=n(e).add(r,"ms")}this.startDate=e,this.endDate=t,this.updateView(),this.updateCalendars(!0)},clickDate:function(e){var t=r(e.target).attr("data-title"),i=t.substr(1,1),s=t.substr(3,1),o=r(e.target).parents(".calendar"),u,a;if(o.hasClass("left")){u=this.leftCalendar.calendar[i][s],a=this.endDate;if(typeof this.dateLimit=="object"){var f=n(u).add(this.dateLimit).startOf("day");a.isAfter(f)&&(a=f)}}else{u=this.startDate,a=this.rightCalendar.calendar[i][s];if(typeof this.dateLimit=="object"){var l=n(a).subtract(this.dateLimit).startOf("day");u.isBefore(l)&&(u=l)}}this.singleDatePicker&&o.hasClass("left")?a=u.clone():this.singleDatePicker&&o.hasClass("right")&&(u=a.clone()),o.find("td").removeClass("active"),r(e.target).addClass("active"),this.setCustomDates(u,a),this.timePicker||a.endOf("day"),this.singleDatePicker&&!this.timePicker&&this.clickApply()},clickApply:function(e){this.updateInputText(),this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.chosenLabel=this.oldChosenLabel,this.updateView(),this.updateCalendars(),this.hide(),this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(e){var t=r(e.target).closest(".calendar").hasClass("left"),n=t?"left":"right",i=this.container.find(".calendar."+n),s=parseInt(i.find(".monthselect").val(),10),o=i.find(".yearselect").val();this[n+"Calendar"].month.month(s).year(o),this.updateCalendars()},updateTime:function(e){var t=r(e.target).closest(".calendar"),n=t.hasClass("left"),i=parseInt(t.find(".hourselect").val(),10),s=parseInt(t.find(".minuteselect").val(),10);if(this.timePicker12Hour){var o=t.find(".ampmselect").val();o==="PM"&&i<12&&(i+=12),o==="AM"&&i===12&&(i=0)}if(n){var u=this.startDate.clone();u.hour(i),u.minute(s),this.startDate=u,this.leftCalendar.month.hour(i).minute(s)}else{var a=this.endDate.clone();a.hour(i),a.minute(s),this.endDate=a,this.rightCalendar.month.hour(i).minute(s)}this.updateFormInputs(),this.updateCalendars()},updateCalendars:function(e){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),"left"),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),"right"),this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate,this.locale.fromLabel)),this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.singleDatePicker?this.minDate:this.startDate,this.maxDate,this.locale.toLabel)),this.container.find(".ranges li").removeClass("active");var t=!0,n=0;for(var r in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[r][0])&&this.endDate.isSame(this.ranges[r][1])&&(t=!1,e||(this.chosenLabel=this.container.find(".ranges li:eq("+n+")").addClass("active").html())):this.startDate.format("YYYY-MM-DD")==this.ranges[r][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[r][1].format("YYYY-MM-DD")&&(t=!1,e||(this.chosenLabel=this.container.find(".ranges li:eq("+n+")").addClass("active").html())),n++;if(t||e)this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars()},setDynamicRange:function(e){r(".dynamic_update input",this.container).prop("checked",e),this.dynamicUpdat=e,this.oldDynamicUpdat=e},changeDynamicRange:function(e){var t=r(".dynamic_update input",this.container).is(":checked"),n=r(".dynamic_update",this.container);t?n.addClass("checked"):n.removeClass("checked"),this.dynamicUpdate=t,this.element.trigger("changeDynamicRange",t)},checkDynamicUpdate:function(){this.changeDynamicRange()},buildCalendar:function(e,t,r,i,s){var o=n([t,e]).daysInMonth(),u=n([t,e,1]),a=n([t,e,o]),f=n(u).subtract(1,"month").month(),l=n(u).subtract(1,"month").year(),c=n([l,f]).daysInMonth(),h=u.day(),p,d=[];d.firstDay=u,d.lastDay=a;for(p=0;p<6;p++)d[p]=[];var v=c-h+this.locale.firstDay+1;v>c&&(v-=7),h==this.locale.firstDay&&(v=c-6);var m=n([l,f,v,12,i]),g,y;for(p=0,g=0,y=0;p<42;p++,g++,m=n(m).add(24,"hour"))p>0&&g%7===0&&(g=0,y++),d[y][g]=m.clone().hour(r),m.hour(12);return d},renderDropdowns:function(e,t,n){var r=e.month(),i='<select class="monthselect">',s=!1,o=!1;for(var u=0;u<12;u++)(!s||u>=t.month())&&(!o||u<=n.month())&&(i+="<option value='"+u+"'"+(u===r?" selected='selected'":"")+">"+this.locale.monthNames[u]+"</option>");i+="</select>";var a=e.year(),f=n&&n.year()||a+5,l=t&&t.year()||a-50,c='<select class="yearselect">';for(var h=l;h<=f;h++)c+='<option value="'+h+'"'+(h===a?' selected="selected"':"")+">"+h+"</option>";return c+="</select>",i+c},renderCalendar:function(e,t,n,i,s){var o='<div class="calendar-date">';o+='<table class="table-condensed">',o+="<thead>",o+="<tr>",this.showWeekNumbers&&(o+="<th></th>"),!n||n.isBefore(e.firstDay)?o+='<th class="prev available"><i class="material-icons">keyboard_arrow_left</i></th>':o+="<th></th>";var u=this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY");this.showDropdowns&&(u=this.renderDropdowns(e[1][1],n,i)),o+='<th colspan="5" class="month">'+u+"</th>",!i||i.isAfter(e.lastDay)?o+='<th class="next available"><i class="material-icons">keyboard_arrow_right</i></th>':o+="<th></th>",o+="</tr>",o+="<tr>",this.showWeekNumbers&&(o+='<th class="week">'+this.locale.weekLabel+"</th>"),r.each(this.locale.daysOfWeek,function(e,t){o+="<th>"+t+"</th>"}),o+="</tr>",o+="</thead>",o+="<tbody>";for(var a=0;a<6;a++){o+="<tr>",this.showWeekNumbers&&(o+='<td class="week">'+e[a][0].week()+"</td>");for(var f=0;f<7;f++){var l="available ";l+=e[a][f].month()==e[1][1].month()?"":"off",n&&e[a][f].isBefore(n,"day")||i&&e[a][f].isAfter(i,"day")?l=" off disabled ":e[a][f].format("YYYY-MM-DD")==t.format("YYYY-MM-DD")?(l+=" active ",e[a][f].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(l+=" start-date "),e[a][f].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(l+=" end-date ")):e[a][f]>=this.startDate&&e[a][f]<=this.endDate&&(l+=" in-range ",e[a][f].isSame(this.startDate)&&(l+=" start-date "),e[a][f].isSame(this.endDate)&&(l+=" end-date "));var c="r"+a+"c"+f;o+='<td class="'+l.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+c+'">'+e[a][f].date()+"</td>"}o+="</tr>"}o+="</tbody>",o+="</table>",o+="</div>";var h;if(this.timePicker){o+='<div class="calendar-time"><label>'+s+"</label>"+'<div class="rp-select"><select class="hourselect">';var p=0,d=23,v=t.hour();this.timePicker12Hour&&(p=1,d=12,v>=12&&(v-=12),v===0&&(v=12));for(h=p;h<=d;h++)h==v?o+='<option value="'+h+'" selected="selected">'+h+"</option>":o+='<option value="'+h+'">'+h+"</option>";o+='</select><div class="icon material-icons">keyboard_arrow_down</div></div> : ',o+='<div class="rp-select"><select class="minuteselect">';for(h=0;h<60;h+=this.timePickerIncrement){var m=h;m<10&&(m="0"+m),h==t.minute()?o+='<option value="'+h+'" selected="selected">'+m+"</option>":o+='<option value="'+h+'">'+m+"</option>"}o+='</select> <div class="icon material-icons">keyboard_arrow_down</div></div>',this.timePicker12Hour&&(o+='<div class="rp-select"><select class="ampmselect">',t.hour()>=12?o+='<option value="AM">AM</option><option value="PM" selected="selected">PM</option>':o+='<option value="AM" selected="selected">AM</option><option value="PM">PM</option>',o+='</select><div class="icon material-icons">keyboard_arrow_down</div></div>'),o+="</div>"}return o},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData("daterangepicker")}},r.fn.daterangepicker=function(e,t){return this.each(function(){var n=r(this);n.data("daterangepicker")&&n.data("daterangepicker").remove(),n.data("daterangepicker",new i(n,e,t))}),this}}),define("filterEntities/FilterEntities",["require","jquery","underscore","backbone-epoxy","util","localization","moment","coreService","app","daterangepicker"],function(e){"use strict";function F(e,r){r=r||{};var o=e.data("warning"),a=[],l=null;return e.on("remove",function(){o=null,e=null,r=null,l&&(clearTimeout(l),l=null)}),i.setupSelect2WhithScroll(e,{formatInputTooShort:function(e,t){return o},tags:!0,multiple:!0,noResizeSearch:r.noResizeSearch?r.noResizeSearch:!1,dropdownCssClass:r.dropdownCssClass||"",minimumInputLength:r.min||1,maximumInputLength:128,newButton:s.ui.new,formatResultCssClass:function(e){if((a.length==0||n.indexOf(a,e.text)<0)&&t(".select2-input.select2-active").val()==e.text)return"exact-match"},initSelection:function(e,t){var r=e.val().split(","),i=n.map(r,function(e){return e=e.trim(),{id:e,text:e}});t(i)},createSearchChoice:function(e,t){return!r.noCreateNew&&n.filter(t,function(t){return t.text.localeCompare(e)===0}).length===0?{id:e,text:e}:null},query:function(e){if(e.term==="?")return;var t={results:[]};r.startSearch&&e.term.length<r.startSearch?(a=[],t.results.push({id:e.term,text:e.term}),e.callback(t)):(clearTimeout(l),l=setTimeout(function(){u.searchTags(e,r.type,r.mode).done(function(r){var i=n.isObject(r)&&r.content?"user":"default",r=i=="default"?r:r.content,s=[];n.forEach(r,function(e){i=="user"?(t.results.push({id:e.userId,text:e.full_name}),e=e.full_name):t.results.push({id:e,text:e}),s.push(e)}),e.callback(t)}).fail(function(e){i.ajaxFailMessenger(e)})},f.userFilterDelay))}})}var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("localization"),o=e("moment"),u=e("coreService"),a=e("app");e("daterangepicker");var f=a.getInstance(),l=r.Model.extend({defaults:{value:"",valueMinLength:0,valueMaxLength:18,valueOnlyDigits:!0,required:!1,visible:!1,id:"",name:"",label:"",condition:"",options:[],hint:"",invalid:!1,subEntity:!1},computeds:{getLabel:{deps:["id","label"],get:function(e,t){return t?t:s.filterNameById[e]}},getName:{deps:["id","name"],get:function(e,t){return t?t:s.filterNameById[e]}}},getInfo:function(){return{filtering_field:this.get("id"),condition:this.get("condition"),value:this.get("value")}}}),c=r.View.extend({className:"filter-option-input",template:"tpl-entity-input",events:{"click [data-js-clear-input]":"onClickClearInput","keyup [data-js-input]":"onKeyUp","focus [data-js-input]":"validateInput","focusout [data-js-input]":"hideValidate"},bindings:{"[data-js-input]":"validateValue: value, attr: {maxlength: valueMaxLength}",":el":'classes: {"has-error": invalid}'},bindingHandlers:{validateValue:{set:function(e,t){e.val(t)},get:function(e,t,n){var r=e.val();if(this.view.validate(r))return r}}},onKeyUp:function(e){this.validate(t(e.currentTarget).val())&&this.debounceChange()},validateInput:function(e){this.validate(t(e.currentTarget).val())},hideValidate:function(){this.model.set({hint:""})},initialize:function(){this.valid=!0,this.listenTo(this.model,"focus",this.onTriggerFocus),this.render(),this.debounceChange=n.debounce(function(){t("[data-js-input]",this.$el).trigger("change")}.bind(this),800)},onTriggerFocus:function(){t("[data-js-input]",this.$el).focus()},validate:function(e){if(this.model.get("valueOnlyDigits")&&!/^[0-9]*$/.test(e))return this.model.set({hint:s.validation.filterStaticsDigitsOnly,invalid:!0}),!1;if(e.length<this.model.get("valueMinLength")){var t=!0;return e.length==0&&(t=!1),this.model.set({hint:s.ui.minPrefix+" "+this.model.get("valueMinLength")+" "+s.ui.minSufix3,invalid:t}),e==""?!0:!1}return e.length>this.model.get("valueMaxLength")?(this.model.set({hint:"No more then "+this.model.get("valueMaxLength")+" symbols allowed.",invalid:!0}),!1):(this.model.set({hint:"",invalid:!1}),!0)},render:function(){this.$el.html(i.templates(this.template,{}))},onClickClearInput:function(){this.model.set({value:""})}}),h=r.View.extend({template:"tpl-entity-conditions",className:"input-group-sm filter-option-select",bindings:{"[data-js-condition-selected]":"html:conditionText(condition)"},bindingFilters:{conditionText:function(e){return s.filterShortCut[e]}},events:{"click .option-menu > li > a":"changeOptions"},initialize:function(){this.render(),this.listenTo(this.model,"change:condition",function(e,n){var r=t("[data-js-condition-list] > li",this.$el);r.removeClass("active"),t.each(r,function(e,r){var i=t(r);t("a",i).data("value")===n&&i.addClass("active")})})},render:function(){this.$el.html(i.templates(this.template,this.model.toJSON()))},hideMenu:function(){this.$el.removeClass("open")},changeOptions:function(e){e.preventDefault(),this.model.set("condition",t(e.currentTarget).data("value"))}}),p=r.View.extend({className:"filter-option-input",template:"tpl-entity-tag",bindings:{"[data-js-tag-input]":"value: value"},events:{"focus .select2-search-field input":"onFocus"},initialize:function(e){this.type=e.type,this.startSearch=e.startSearch,this.warning=e.warning,this.render(),this.listenTo(this.model,"change:value",this.onChangeValue)},render:function(){this.$el.html(i.templates(this.template,{warning:this.warning})),this.applyBindings(),this.select2el=F(t("[data-js-tag-input]",this.$el),{type:this.type,mode:this.model.get("mode"),noResizeSearch:!0,startSearch:this.startSearch})},onChangeValue:function(e,t){this.select2el.val(t).trigger("change")},onFocus:function(){this.trigger("tags-in-focus")}}),d=r.View.extend({className:"filter-option-input",template:"tpl-entity-time-range",initialize:function(){this.render(),this.listenTo(this.model,"focus",this.onTriggerFocus)},onTriggerFocus:function(){t("span.timerange",this.$el).data("daterangepicker").show()},parseValue:function(e){function l(e,t){function n(e){var t=o().startOf("day").unix(),n=parseInt(e);return(n*60+t)*1e3}i.push(o(n(e)).format(f.dateRangeFullFormat)),i.push(o(n(t)).format(f.dateRangeFullFormat))}var t=s.filters.any,r=!1,i=[];if(!e)i=[o().subtract(29,"days"),o()];else{t=e.replace(/^0;1439;/,"TODAY;").replace(/^-1440;-1;/,"YESTERDAY;").replace(/^-10080;-1;/,"LAST_7_DAYS;").replace(/^-43200;-1;/,"LAST_30_DAYS;");var u=t.split(","),a=t.split(";");u.length>1?(n.forEach(u,function(e){i.push(o(parseInt(e)).format(f.dateRangeFullFormat))}),t=i.join(" - ")):a.length>2?(l(a[0],a[1]),r=!0,t=i.join(" - ")):a.length>1&&(t=a[0].split("_").join(" ").capitalize(),i.push(this.ranges[t][0]),i.push(this.ranges[t][1]))}return{valueStr:t,date:i,dynamicUpdateRange:r}},render:function(){this.$el.html(i.templates(this.template,{})),this.ranges={},this.ranges[s.filters.timeRangeToday]=[o().startOf("day"),o().endOf("day")],this.ranges[s.filters.timeRangeLast2Days]=[o().subtract(1,"days").startOf("day"),o()],this.ranges[s.filters.timeRangeLast7Days]=[o().subtract(7,"days").startOf("day"),o()],this.ranges[s.filters.timeRangeLast30Days]=[o().subtract(30,"days").startOf("day"),o()];var e=this.parseValue(this.model.get("value"));t("[data-js-input]",this.$el).text(e.valueStr),this.listenTo(this.model,"change:value",this.onChangeValue);var n=f.dateRangeFullFormat,r=this;t("span.timerange",this.$el).daterangepicker({parentEl:this.$el,startDate:o(e.date[0],n),endDate:o(e.date[1],n),minDate:"01/01/00",maxDate:"12/31/50",dynamicUpdate:e.dynamicUpdateRange,showDropdowns:!1,showWeekNumbers:!1,timePicker:!0,timePickerIncrement:1,timePicker12Hour:!1,ranges:this.ranges,buttonClasses:["btn btn-default btn-default"],applyClass:"btn-sm btn-success",cancelClass:"btn-sm rp-btn-danger pull-right ",format:f.dateRangeFormat,dynamicUpdateText:s.filters.dynamicUpdate,separator:" "+s.ui.to+" ",locale:{timeRangeChange:s.ui.timeRangeChange,applyLabel:s.ui.submit,cancelLabel:s.ui.cancel,fromLabel:s.ui.from,toLabel:s.ui.to,customRangeLabel:s.filters.timeCustomRange,daysOfWeek:s.ui.daysShort,monthNames:s.ui.months,firstDay:1}},function(e,t){if(e.unix()>t.unix())return;var n=!0;for(var i in this.ranges)if(o(this.ranges[i][0]).isSame(o(e))&&o(this.ranges[i][1]).isSame(o(t))){n=!1;break}var s="";if(!n||r.dynamicUpdateRange){var u=(new Date).toString().match(/([-\+][0-9]+)\s/)[1],a=";"+u,f=o().startOf("day").unix();s=parseInt((e.unix()-f)/60)+";"+parseInt((t.unix()-f)/60)+a}else s=e.unix()*1e3+","+t.unix()*1e3;r.model.set({value:s})}).on("show.daterangepicker",function(e,n){r.model.get("value")==""&&(t("div.ranges li",this.$el).removeClass("active"),t("div.daterangepicker",this.$el).removeClass("show-calendar"))}).on("showCalendar.daterangepicker",function(e,t){}).on("changeDynamicRange",function(e,t){r.dynamicUpdateRange=t})},onChangeValue:function(e,n){var r=this.parseValue(n);t("[data-js-input]",this.$el).text(r.valueStr)}}),v=r.View.extend({className:"filter-option-input",template:"tpl-entity-invalid",bindings:{"[data-js-input]":"value: value"},initialize:function(){this.render()},render:function(){this.$el.html(i.templates(this.template,{}))}}),m=r.View.extend({className:"input-group-btn btn-group-fix-font filter-entities-select",template:"tpl-entity-select",events:{"change input[data-subtype]":"onChangeMainType","change input[data-maintype]":"onChangeSubType","click [data-js-toggle-all]":"onClickToggle","change .rp-input-checkbox":"onChangeState","click .dropdown-menu li":"preventHide"},initialize:function(){this.render(),this.initState(),this.listenTo(this.model,"changeState",this.initState)},render:function(){this.$el.html(i.templates(this.template,this.model.toJSON())),this.applyBindings()},preventHide:function(e){e.stopPropagation()},onChangeMainType:function(e){var n=t(e.currentTarget).is(":checked"),r=t(e.currentTarget).data("subtype"),i=t('input[data-maintype="'+r+'"]',this.$el);i.prop("checked",n)},onClickToggle:function(){var e=!0,r=this,i=t("input[type=checkbox]",this.$el);i.each(function(){t(this).is(":checked")||(e=!1)}),i.prop("checked",!e),e||n.each(t(".rp-input-checkbox[data-subtype]",this.$el),function(e){r.onChangeMainType({currentTarget:t(e).get(0)})}),this.onChangeState()},initState:function(){var e=this,r=this.model.get("value").split(","),i=this.model.get("value");n.each(t(".rp-input-checkbox",this.$el),function(e){var s=t(e);i==="All"?s.prop("checked",!0):s.prop("checked",n.contains(r,s.data("value")))}),n.each(t(".rp-input-checkbox[data-subtype]",this.$el),function(r){var i=t(r),s=i.data("value").split(","),o=!0;n.each(s,function(n){var r=t(".rp-input-checkbox[data-value="+n+"]",e.$el);if(!r||!r.is(":checked"))return o=!1,!1}),o&&(i.prop("checked",!0),e.onChangeMainType({currentTarget:i.get(0)}))}),this.onChangeState()},onChangeSubType:function(){var e=this;n.each(t(".rp-input-checkbox[data-subtype]",this.$el),function(r){t(r).prop("checked",n.every(t(".rp-input-checkbox[data-maintype="+t(r).data("subtype")+"]",e.$el),function(e){return t(e).prop("checked")}))})},onChangeState:function(){var e=[],r=[],i=this;n.each(t("[data-js-option]",this.$el),function(s){var o=t(s);o.is(":checked")?(e.push(o.data("name")),r.push(o.data("value"))):n.each(t('[data-maintype="'+o.data("subtype")+'"]',i.$el),function(n){var i=t(n);i.is(":checked")&&(e.push(i.data("name")),r.push(i.data("value")))})}),this.model.set({value:r.join(",")}),t("[data-js-value]",this.$el).text(e.join(", ")||"")}}),g=r.View.extend({className:"input-group-btn btn-group-fix-font filter-entities-dropdown",template:"tpl-filter-entity-dropdown",bindings:{"[data-js-value]":"validateValue: value"},bindingHandlers:{validateValue:{set:function(e,t){var r=n.find(this.view.model.get("options"),function(e){return e.value===""+t});r&&e.text(r.name)}}},events:{"click a.value-selector":"onLabelClick"},initialize:function(){this.render()},render:function(){this.$el.html(i.templates(this.template,this.model.toJSON())),this.applyBindings()},onLabelClick:function(e){e.preventDefault();var n=t(e.currentTarget),r=""+n.data("value");this.model.set({value:r})}}),y=r.View.extend({initialize:function(e){this.$el=(new p({model:this.model,type:e.type||"userAutoCompleteUrl",startSearch:f.forms.triggerMin,warning:s.ui.minPrefix+" 3 "+s.ui.minSufix3})).$el}}),b=r.View.extend({template:"tpl-entity-base",events:{"click [data-js-remove]":"onClickRemove"},bindings:{"[data-js-name]":"text: getName","[data-js-remove]":"classes: {hide: required}","[data-js-hint]":"text: hint, classes: {hide: not(hint)}"},initialize:function(){this.render()},render:function(){this.$el.html(i.templates(this.template,{})),this.$content=t("[data-js-content]",this.$el),this.onRender()},onClickRemove:function(){this.model.set({visible:!1})},onRender:function(){}}),w=b.extend({onRender:function(){this.$content.append((new c({model:this.model})).$el)}}),E=b.extend({onRender:function(){this.$content.append((new h({model:this.model})).$el),this.$content.append((new c({model:this.model})).$el)}}),S=b.extend({onRender:function(){this.$content.append((new y({model:this.model})).$el)}}),x=b.extend({onRender:function(){this.$content.append((new y({model:this.model,type:"autocompleteUserUrl"})).$el)}}),T=b.extend({onRender:function(){var e=new h({model:this.model}),t=new p({model:this.model,noResizeSearch:!0,startSearch:1,warning:s.ui.enterChars});this.listenTo(t,"tags-in-focus",function(){e.hideMenu()}),this.$content.append(e.$el),this.$content.append(t.$el)}}),N=b.extend({onRender:function(){this.$content.append((new d({model:this.model})).$el)}}),C=b.extend({onRender:function(){this.$content.append((new v({model:this.model})).$el)}}),k=b.extend({onRender:function(){this.$content.append((new m({model:this.model})).$el)}}),L=b.extend({onRender:function(){this.$content.append((new g({model:this.model})).$el)}}),A=l.extend({view:w}),O=l.extend({view:E}),M=l.extend({view:S}),_=l.extend({view:x}),D=l.extend({view:T}),P=l.extend({view:N}),H=l.extend({view:C}),B=l.extend({view:k}),j=l.extend({view:L});return{EntityInputModel:A,EntityConditionInputModel:O,EntityOwnerTagModel:M,EntityMemberTagModel:_,EntityConditionTagModel:D,EntityTimeRangeModel:P,EntityInvalidModel:H,EntitySelectModel:B,EntityDropDownModel:j,Model:l,UserTagEntityView:y,TagEntityView:p}}),define("filters/FilterModel",["require","underscore","backbone-epoxy","model/SingletonAppModel","defectType/SingletonDefectTypeCollection","localization","moment","app","controlers/filterControler/FilterListener","filterEntities/FilterEntities"],function(e){"use strict";var t=e("underscore"),n=e("backbone-epoxy"),r=e("model/SingletonAppModel"),i=e("defectType/SingletonDefectTypeCollection"),s=e("localization"),o=e("moment"),u=e("app"),a=e("controlers/filterControler/FilterListener"),f=u.getInstance(),l=new r,c=e("filterEntities/FilterEntities"),h=n.Model.extend({defaults:{name:"",description:"",entities:"",selection_parameters:'{"is_asc": false, "sorting_column": "start_time,number"}',owner:"",share:"",id:"",type:"launch",newEntities:"",newSelectionParameters:"",curPage:1,isLaunch:!1,active:!1,url:"",temp:!1,load:!1},computeds:{optionsString:{deps:["entities","selection_parameters"],get:function(e,t){var n=this.getParametersObj(),r="("+this.getFilterOptions(this.getEntitiesObj(),s.comparators)+")",i=n&&this.getLastKey(n.sorting_column);return i&&(r+=s.favorites.sortedBy+" "+s.launchesHeaders[i.split(",")[0]]),r}},notMyFilter:{deps:["owner"],get:function(e){return e!==f.userModel.get("name")}},sharedByTitle:{deps:["owner"],get:function(e){return s.filters.sharedBy+" "+e}},isAskSorting:{deps:["selection_parameters","newSelectionParameters"],get:function(){var e=this.getParametersObj();return e.is_asc}},sortingColumn:{deps:["selection_parameters","newSelectionParameters"],get:function(){var e=this.getParametersObj();return e.sorting_column}},isLaunchString:{deps:["isLaunch"],get:function(e){return e?s.ui.on:s.ui.off}}},initialize:function(e){this.filterListener=new a,this.filterEvents=this.filterListener.events,this.context=e&&e.context||"",this.context==="projectEvents"&&this.set("selection_parameters",'{"is_asc": false, "sorting_column": "last_modified"}'),this.listenTo(this,"change:id",this.computedsUrl),this.listenTo(l,"change:projectId",this.computedsUrl.bind(this)),this.listenTo(this,"change:temp",this.onChangeTemp),this.computedsUrl(),this.listenTo(this.filterListener,this.filterEvents.FILTER_LOAD_START,this.onLoadStartFilter),this.listenTo(this.filterListener,this.filterEvents.FILTER_LOAD_END,this.onLoadEndFilter),this.listenTo(this.filterListener,this.filterEvents.SET_FILTER,this.onSetFilter),this.listenTo(this.filterListener,this.filterEvents.ADD_FILTER,this.onAddFilter)},getLastKey:function(e){if(e)return e=e.split("$"),e.length>1?e[e.length-1]:e[0]},getFilterOptions:function(e,n){var r=this;if(!e||!e.length)return"";if(e){var i=t.map(e,function(e){e.filtering_field==="start_time"&&(e.value=(new c.EntityTimeRangeModel(e)).getInfo().value,~e.value.indexOf(",")||~e.value.indexOf(";")?e.condition="":e.condition="eq");var t=r.getSmartKey(e.filtering_field);return t?e.value===""?"":[t," ",e.is_negative?n.not:"",n[e.condition]||""," ",e.filtering_field==="tags"?e.value:r.clearValue(e.value)].join(""):'<span style="color: #ff3222"><b>Invalid</b></span>'},{});return i.join(n.andb)}},clearValue:function(e){var t=e,n=t.split(","),r=t.split(";"),i;return n.length===2?t=this.getTimeString(n[0],n[1]):r.length===3&&(i=o().startOf("day").unix()*1e3,t=this.getTimeString(i+parseInt(r[0],10)*6e4,i+parseInt(r[1],10)*6e4)+" (dynamic)"),t.escapeHtml()},getTimeString:function(e,t){var n="",r=f.dateRangeFullFormat,i=o(parseInt(e,10)),u=o(parseInt(t,10));return i.isValid()&&u.isValid()&&(n=s.ui.from+" "+i.format(r)+" "+s.ui.to+" "+u.format(r)),n},getSmartKey:function(e){var t=new i,n=e.split("$"),r=n.pop(),o=n.shift(),u=n.pop(),a=t.findWhere({locator:r});if(!e)return"";if(s.filterNameById[e]){if(o==="statistics"){var f=t.where({typeRef:u.toUpperCase()});return f.length===1?f[0].get("longName"):s.filterNameById[e]}return s.filterNameById[e]}if(a)return a.get("longName");var l=o+"$"+n[0]+"$"+u;return s.filterNameById[l]?r.capitalizeName():!1},getEntitiesObj:function(){try{return this.get("newEntities")?JSON.parse(this.get("newEntities")):JSON.parse(this.get("entities"))}catch(e){return[]}},getParametersObj:function(){var e;try{return this.get("newSelectionParameters")?(e=JSON.parse(this.get("newSelectionParameters")),e.orders&&(e.is_asc=e.orders[0].is_asc,e.sorting_column=t.map(e.orders,function(e){return e.sorting_column}).join(","),delete e.orders),e):(e=JSON.parse(this.get("selection_parameters")),e.orders&&(e.is_asc=e.orders[0].is_asc,e.sorting_column=t.map(e.orders,function(e){return e.sorting_column}).join(","),delete e.orders),e)}catch(n){return{}}},getOptions:function(){var e=[],n=this.getParametersObj(),r="ASC";return t.each(this.getEntitiesObj(),function(t){t.value&&e.push("filter."+t.condition+"."+t.filtering_field+"="+encodeURIComponent(t.value))}),n.is_asc||(r="DESC"),e.push("page.sort="+n.sorting_column+"%2C"+r),e},computedsUrl:function(){var e=this.context==="userdebug"?"/userdebug/":"/launches/";this.set({url:"#"+l.get("projectId")+e+this.get("id")})},getDataFromServer:function(e){var n=this.clone(),r,i,s,o=[];return e&&n.set(e),r=n.getEntitiesObj(),i=n.getParametersObj(),r.length||r.push({condition:"cnt",filtering_field:"name",value:""}),t.each(i.sorting_column.split(","),function(e){o.push({is_asc:i.is_asc,sorting_column:e})}),s={name:n.get("name"),entities:r,share:n.get("share"),selection_parameters:{orders:o,page_number:i.page_number},type:n.get("type")},n.get("description")&&(s.description=n.get("description")),n.destroy(),s},parseServerData:function(e){this.set({name:e.name,description:e.description||"",entities:JSON.stringify(e.entities),share:e.share,selection_parameters:JSON.stringify(e.selection_parameters),owner:e.owner||this.get("owner"),type:e.type,newEntities:"",newSelectionParameters:""})},onAddFilter:function(e){this.cid===e.cid&&(this.parseServerData(e.data),this.set({id:e.id}))},onSetFilter:function(e){this.get("id")===e.id&&this.parseServerData(e.data)},onLoadStartFilter:function(e){e===this.get("id")&&this.set({load:!0})},onLoadEndFilter:function(e){e===this.get("id")&&this.set({load:!1})}});return h}),define("filters/LaunchFilterCollection",["require","backbone","filters/FilterModel","callService","dataUrlResolver","jquery","underscore","app","util","defectType/SingletonDefectTypeCollection","controlers/filterControler/FilterListener"],function(e){"use strict";var t=e("backbone"),n=e("filters/FilterModel"),r=e("callService"),i=e("dataUrlResolver"),s=e("jquery"),o=e("underscore"),u=e("app"),a=e("util"),f=e("defectType/SingletonDefectTypeCollection"),l=e("controlers/filterControler/FilterListener"),c=u.getInstance(),h=r.call,p=t.Collection.extend({model:n,initialize:function(){this.filterListener=new l,this.filterEvents=this.filterListener.events,this.listenTo(this.filterListener,this.filterEvents.REMOVE_FILTER,this.onRemoveFilter),this.listenTo(this.filterListener,this.filterEvents.CHANGE_IS_LAUNCH,this.onChangeIsLaunch),this.ready=s.Deferred()},onChangeIsLaunch:function(e){var t=e.data.id;e.isLaunch?this.get(t)?this.get(t).set({temp:!1}):this.add(e.data):this.remove(t),h("PUT",i.getPreferences(),{filters:this.getFiltersId()}).done(function(e){c.preferences=e,a.ajaxSuccessMessenger("savedLaunchFilter")}).fail(function(e){a.ajaxFailMessenger(e,"savedLaunchFilter")})},onRemoveFilter:function(e){var t=this.get(e);t&&(this.remove(t),!t.get("temp")&&t.get("owner")&&h("PUT",i.getPreferences(),{filters:this.getFiltersId()}))},getFiltersId:function(){var e=[];return o.each(this.models,function(t){t.id&&!t.get("temp")&&e.push(t.id)}),e},saveFilter:function(e,t){var n=e.getDataFromServer();n.type="launch",h("POST",i.saveFilter(),{elements:[n]}).done(function(e){t(e)})},onChangeLaunchFilter:function(e){},parse:function(e){var t=this;return e?this.update(e).always(function(){t.ready.resolve()}):(this.reset([]),this.ready.resolve(),this.ready)},update:function(e){var t=s.Deferred(),n=this;return e||(e=o.map(this.models,function(e){return e.get("id")})),h("GET",i.getFilters(e)).done(function(e){(new f).ready.done(function(){n.destroyModels(),n.reset(o.map(e,function(e){return e.isLaunch=!0,e.type="launch",e.entities=JSON.stringify(e.entities),e.selection_parameters=JSON.stringify(e.selection_parameters),e})),t.resolve()})}),t},generateTempModel:function(e){var t=e||{},n="New_filter",r=n,i=1;while(this.findWhere({name:r}))r=n+i,i++;return t.id=r,t.name=r,t.temp=!0,t.isLaunch=!0,t.owner=c.userModel.get("name"),this.add(t)},activateFilter:function(e){var t=s.Deferred(),n=this;return this.ready.done(function(){o.each(n.models,function(e){e.set({active:!1})});var r=n.findWhere({id:e});r?(r.set({active:!0}),t.resolve(r)):t.reject(),n.trigger("change:activeFilter",r)}),t.promise()}});return p}),define("filters/SingletonLaunchFilterCollection",["require","exports","module","filters/LaunchFilterCollection"],function(e,t,n){"use strict";var r=e("filters/LaunchFilterCollection"),i,s=function(){return i||(i=new r),i};return s}),define("storageService",["require","exports","module","jquery","app"],function(e,t,n){"use strict";var r=e("jquery"),i=e("app"),s=i.getInstance(),o=window.localStorage||{},u=window.sessionStorage||{},a=function(){var e=s.project.projectId,t={};return t[e]={activeDashboard:{}},o.setItem(s.userModel.get("name"),JSON.stringify(t)),t},f=function(){var e=JSON.parse(o.getItem(s.userModel.get("name")));return e||(e=a()),e},l=function(e){o.setItem(s.userModel.get("name"),JSON.stringify(e))},c=function(){var e=f();return e[s.project.projectId]?e[s.project.projectId].activeDashboard:{}},h=function(e){var t=f();return t[s.project.projectId]?t[s.project.projectId][e]:null},p=function(e,t){var n=f();if(!n[s.project.projectId]){var r={};r[e]=50,n[s.project.projectId]=r}n[s.project.projectId][e]=t,l(n)},d=function(e){var t=f();t[s.project.projectId]||(t[s.project.projectId]={}),t[s.project.projectId].startTimeMode=e,l(t)},v=function(){var e=f();return e[s.project.projectId]?e[s.project.projectId].startTimeMode:null},m=function(e){var t=f();t[s.project.projectId]||(t[s.project.projectId]={activeDashboard:{}}),t[s.project.projectId].activeDashboard=e,l(t)},g=function(e){o.setItem("directLinkDash",e)},y=function(){return o.getItem("directLinkDash")},b=function(e){var t=f();t[s.project.projectId]||(t[s.project.projectId]={debugUser:{}}),t[s.project.projectId].debugUser=e,l(t)},w=function(){var e=f();return e[s.project.projectId]?e[s.project.projectId].debugUser:null},E=function(){return o.getItem("current_login")},S=function(e){e&&o.setItem("current_login",e)},x=function(){return o.getItem("breadcrumb_mode")},T=function(e){e?o.setItem("breadcrumb_mode",e):o.removeItem("breadcrumb_mode")},N=function(){var e=f(),t=s.project.projectId;return e[t]?e[t].bts:{}},C=function(e){var t=f(),n=s.project.projectId;t[n]||(t[n]={}),t[n].bts||(t[n].bts={}),t[n].bts[e.id]=e,l(t)},k=function(e){var t=f(),n=s.project.projectId;t[n]||(t[n]={}),t[n].preconditionMethodsStatus=e,l(t)},L=function(){var e=f(),t=s.project.projectId;return e[t]?e[t].preconditionMethodsStatus||"show":"show"},A=function(){var e=s.project.projectId,t=JSON.parse(u.getItem(e));return t||(t={},t[e]={}),t},O=function(e){var t=s.project.projectId;u.setItem(t,JSON.stringify(e))},M=function(e,t){var n=D(),r=s.project.projectId,i=A();t=="add"?n.push(e):n=_.without(n,e),i[r].deletingLaunches||(i[r].deletingLaunches=[]),i[r].deletingLaunches=n,O(i)},D=function(){var e=A(),t=s.project.projectId,n=e[t]&&e[t].deletingLaunches?e[t].deletingLaunches:[];return n};return{getActiveDashboard:c,setActiveDashboard:m,setDebugUser:b,getDebugUser:w,getCurrentLogin:E,setCurrentLogin:S,getBreadcrumbMode:x,setBreadcrumbMode:T,getItemsCount:h,setItemsCount:p,getBtsCredentials:N,setBtsCredentials:C,getDirectLinkDashboard:y,setDirectLinkDashboard:g,setPreconditionMethodsStatus:k,getPreconditionMethodsStatus:L,updateDeletingLaunches:M,getDeletingLaunches:D,setStartTimeMode:d,getStartTimeMode:v}}),define("core/components",["require","exports","module","jquery","backbone","util","app","storageService","model/SingletonURLParamsModel","storage/SingletonUserStorage","backbone-epoxy"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("util"),o=e("app"),u=e("storageService"),a=e("model/SingletonURLParamsModel"),f=e("storage/SingletonUserStorage"),l=e("backbone-epoxy"),c=o.getInstance(),h=function(e){e.stopListening(),e.unbind(),e.model&&(e.model.unbind("change",e.render,e),e.model=null),e.collection&&(e.collection.reset(),e.collection=null),e.vent&&(e.vent.off(),e.vent=null),e.$tags&&(e.$tags.select2("destroy"),e.$tags=null,r("body > #select2-drop-mask, body > .select2-sizer").remove())},p=l.View.extend({destroy:function(){h(this),this.$el&&this.$el.off().empty(),this.$el=null,delete this}}),d=i.View.extend({destroy:function(){h(this),this.$el&&this.$el.off().empty(),this.remove()}}),v=i.Collection.extend({parse:function(e){return this.page=e.page,e.content?e.content:e}}),m=i.Model.extend({initialize:function(e){this.objectsType=e&&e.objectsType?e.objectsType:"objectsOnPage",this.clear()},loadObjectsCount:function(e){var t=u.getItemsCount(e);t&&(c[e]=t)},setTab:function(e){e&&(this.get("tab")["tab.id"]=e)},getTab:function(){return this.get("tab")["tab.id"]},setPage:function(e){this.get("paging")["page.page"]=e},getPage:function(){return this.get("paging")["page.page"]},setPageSize:function(e){this.get("pageSize")["page.size"]=parseInt(e)},getPageSize:function(){return this.get("pageSize")["page.size"]},setSortInfo:function(e,t){this.set("sorting",{dataIndex:e.replace(/\$/g,"."),direction:t}),this.get("sortingParam")["page.sort"]=e.replace(/\./g,"$")+","+t},getSortInfo:function(){return this.get("sorting")},setFilters:function(e){this.set("filters",e)},getFilters:function(){return this.get("filters")},hasDifference:function(e){if(e.length!==this.get("filters"))return!0;for(var t=0;t<e.length;t++){var n=this.get("filters")[t];if(n.id!==e[t].id||n.value!==e[t].value)return!0}return!1},toJSON:function(e){e=e||{};var t=_.extend({},this.get("paging"),this.get("sortingParam"),this.get("pageSize"),this.get("tab"),e);return _.each(this.get("filters"),function(e){var n=e.id.indexOf("tags")>-1?e.value.split(", ").join(","):e.value;t[e.id]=n}),t},toURLSting:function(){if(_.isEmpty(this.attributes))return"";var e=[];_.each([this.get("paging"),this.get("sortingParam"),this.get("pageSize"),this.get("tab")],function(t){for(var n in t)(_.has(t,n)||t[n])&&e.push(n+"="+t[n])}),_.forEach(this.get("filters"),function(t){if(t){var n=t.id.indexOf("tags")>-1?t.value.split(", ").join(","):t.value;e.push(t.id+"="+encodeURIComponent(n))}});var t="";return _.each(e,function(e,n,r){t+=e,n!=r.length-1&&(t+="&")}),t},hasFiltersWithValue:function(){var e=!1;return _.forEach(this.get("filters"),function(t){if(t.value&&t.value!=="Any")return e=!0,!1}),e},clear:function(e){e&&(this.objectsType=e),this.set("tab",{"tab.id":"allCases"}),this.set("paging",{"page.page":1}),this.set("pageSize",{"page.size":c[this.objectsType]}),this.set("sorting",{}),this.set("sortingParam",{}),this.set("filters",[])},apply:function(e){var t=e.split("&");this.clear(),_.each(t,function(e){var t=e.split("=");t[0]=="page.size"?this.setPageSize(t[1]):t[0]=="page.page"?this.setPage(t[1]):t[0]=="page.sort"?this.setSortInfo(t[1].split(",")[0],t[1].split(",")[1]):t[0]=="tab.id"?this.setTab(t[1]):this.get("filters").push({id:t[0],value:decodeURIComponent(t[1])})},this)}}),g=d.extend({initialize:function(e){this.model=e.model,this.minPaging=e.minMode||!1,this.showPageCount=0,r(window).on("resize."+this.cid,this.onResizeWindow.bind(this)),this.onResizeWindow()},tpl:"tpl-components-paging",render:function(){var e=this.model.get("totalPages"),t=this.model.get("number"),n=this.model.get("totalElements"),i=this.model.get("size"),o={from:n===0?0:(t-1)*i+1,to:e===t?n:i*t,totalElements:n,totalPages:e,active:t,objectsOnPage:i,minPaging:this.minPaging},u=parseInt(this.showPageCount/2);if(e>1){var a;e<=this.showPageCount?a=_.range(1,e+1):t<=u?a=_.range(1,this.showPageCount+1):t>=e-u?a=_.range(e-(this.showPageCount-1),e+1):a=_.range(t-(u-1),t+u+1),o=_.extend({showControls:!0,pages:a,hasNext:t!==e,hasPrevious:t!==1},o)}else o=_.extend({showControls:!1,pages:[],hasNext:!1,hasPrevious:!1},o);return this.$el.html(s.templates(this.tpl,o)),this.pageSize=r("[data-js-per-page-input]",this.$el),this.pageSizeStatic=r("[data-js-per-page]",this.$el),this},onResizeWindow:function(){var e=10;r(window).width()<930&&(e=5),e!=this.showPageCount&&(this.showPageCount?(this.showPageCount=e,this.render()):this.showPageCount=e)},first:function(e){e.preventDefault(),this.model.get("number")!==1&&this.trigger("page",1)},last:function(e){e.preventDefault(),this.model.get("number")!==this.model.get("totalPages")&&this.trigger("page",this.model.get("totalPages"))},previous:function(e){e.preventDefault(),this.model.get("number")!==1&&this.trigger("page",this.model.get("number")-1)},next:function(e){e.preventDefault(),this.model.get("number")!==this.model.get("totalPages")&&this.trigger("page",this.model.get("number")+1)},page:function(e){e.preventDefault();var t=Number(r(e.currentTarget).text());this.model.get("number")!==t&&this.trigger("page",t)},events:{"click .first":"first","click .previous":"previous","click .next":"next","click .last":"last","click .page":"page","click [data-js-per-page]":"showItemsPerPageControl","keyup [data-js-per-page-input]":"onKeyUpPageSize","change [data-js-per-page-input]":"hideItemsPerPageControl"},scrollToTop:function(e){c.mainScrollElement.animate({scrollTop:0},100)},showItemsPerPageControl:function(e){r(e.currentTarget).hide(),this.pageSize.val("").show().focus()},hideItemsPerPageControl:function(e){this.pageSize.hide(),this.pageSizeStatic.show(),this.applyPaging(!0)},onKeyUpPageSize:function(e){var t=this.pageSize.val(),n=/[^0-9]/g,r=t.replace(n,"");this.pageSize.val(r),this.trigger("keyUpPageSize",r),e.keyCode===13&&this.pageSize.change()},applyPaging:function(e){var t=parseInt(this.pageSize.val());c.trackingDispatcher.trackEventNumber(357),t&&t!==this.model.get("size")&&(this.pageSizeStatic.text(t),e&&this.trigger("count",t)),this.pageSize.val("")},destroy:function(){r(window).off("resize."+this.cid),d.prototype.destroy.call(this)}}),y=g.extend({initialize:function(e){this.ready=r.Deferred(),g.prototype.initialize.call(this,e);if(!e.pageType){console.log("PagingToolbarSaveLocal: page type is not defined");return}this.pageType=e.pageType,this.urlModel=new a,this.userSettings=new f;var t=this;this.userSettings.ready.done(function(){t.setSettings(),t.ready.resolve()}),this.listenTo(this,"page",this.onChangePage),this.listenTo(this,"count",this.onChangeSize)},onChangePage:function(e){this.model.set({number:e}),this.pagingToSettings(),this.scrollToTop()},onChangeSize:function(e){e>300&&(e=300),this.model.set({number:1,size:e}),this.pagingToSettings(),this.scrollToTop()},setSettings:function(){if(this.urlModel.get("page.page")&&this.urlModel.get("page.size")){this.userSettings.set(this.pageType,{"page.size":this.urlModel.get("page.size")}),this.model.set({number:this.urlModel.get("page.page"),size:this.urlModel.get("page.size")});return}var e=this.getSettingsStorageData();if(e){this.urlModel.delaySet(e),this.model.set({number:e["page.page"]||1,size:e["page.size"]});return}var t={"page.page":1,"page.size":50};this.model.get("size")||this.model.set("size",t["page.size"]),this.model.get("number")||this.model.set("number",t["page.page"])},getSettingsStorageData:function(){return this.userSettings.get(this.pageType)},pagingToSettings:function(){this.urlModel.set({"page.page":this.model.get("number"),"page.size":this.model.get("size")}),this.userSettings.set(this.pageType,{"page.size":this.urlModel.get("page.size")})}}),b=g.extend({initialize:function(e){g.prototype.initialize.call(this,e),this.pageType=e.pageType,this.listenTo(this,"keyUpPageSize",this.onUserTypes),this.listenTo(this,"count",this.onChangeCount)},onUserTypes:function(e){if(e&&this.pageType=="objectsOnPage"){var t=c.preferences.filters,n=c.preferences.active;if(n){var r=n.split("?"),i=r[1],o=i.split("&"),u=_.findIndex(o,function(e){return e.indexOf("page.size")>=0}),a=o[u].split("="),f;a[1]=e,o[u]=a.join("="),r[1]=o.join("&"),f=r.join("?"),s.updateLaunchesHref(f)}}},onChangeCount:function(e){c[this.pageType]=e,u.setItemsCount(this.pageType,e)},applyPaging:function(e){var t=parseInt(this.pageSize.val());t&&t!==this.model.get("size")&&(this.pageSizeStatic.text(t),this.trigger("page",1,t),e&&this.trigger("count",t)),this.pageSize.val("")},onKeyUpPageSize:function(e){var t=this.pageSize.val(),n=/[^0-9]/g,r=t.replace(n,"");this.pageSize.val(r),this.trigger("keyUpPageSize",r),e.keyCode===13&&this.applyPaging(!0)}}),w=d.extend({tpl:"tpl-dialog-shell",btnTpl:"tpl-dialog-buttons",initialize:function(e){this.size=e.size||"md",this.headerTxt=e.headerTxt||"launchEditor",this.actionTxt=e.actionTxt||"",this.dismissTxt=e.dismissTxt||"",this.inSubmit=!1,this.hideDismiss=_.isUndefined(e.hideDismiss)?!1:e.hideDismiss,this.actionStatus=_.isUndefined(e.actionStatus)?!1:e.actionStatus,e.btnTpl&&(this.btnTpl=e.btnTpl),e.contentTpl&&(this.contentTpl=e.contentTpl)},render:function(e){var t=e||{};return this.$el=s.getDialog({name:this.tpl,data:{size:this.size,headerTxt:this.headerTxt,isBeta:t.isBeta}}),r("#buttonsModal",this.$el).html(s.templates(this.btnTpl,{dismissTxt:this.dismissTxt,actionTxt:this.actionTxt,hideDismiss:this.hideDismiss,actionStatus:this.actionStatus})),this.$actionBtn=r("#actionBtnDialog",this.$el),this.$content=r("#contentModal",this.$el),this.$loader=r("#dialogShellLoader",this.$el),this.$el.modal("show"),this},events:{"hidden.bs.modal":"destroy","shown.bs.modal":"shown","click #actionBtnDialog:not(.disabled)":"submit","keydown input":"trackForEnter"},shown:function(){},done:function(){this.$el.modal("hide")},trackForEnter:function(e){e.keyCode===13&&!this.$actionBtn.hasClass("disabled")&&!this.inSubmit&&this.submit()},destroy:function(){this.$el.data("modal",null),d.prototype.destroy.call(this)}}),E=w.extend({initialize:function(e){w.prototype.initialize.call(this,e),this.contentTpl=e.contentTpl,this.data=e.data,this.callback=e.callback,this.afterRenderCallback=e.afterRenderCallback,this.destroyCallback=e.destroyCallback,this.shownCallback=e.shownCallback},render:function(){return w.prototype.render.call(this),this.$content.html(s.templates(this.contentTpl,this.data)),_.isFunction(this.afterRenderCallback)&&this.afterRenderCallback(),this.delegateEvents(),this},submit:function(){this.callback(this.done.bind(this))},shown:function(){_.isFunction(this.shownCallback)&&this.shownCallback()},destroy:function(){_.isFunction(this.destroyCallback)&&(this.destroyCallback(),this.destroyCallback=null),this.afterRenderCallback&&(this.afterRenderCallback=null),this.shownCallback&&(this.shownCallback=null),this.callback=null,this.data=null,w.prototype.destroy.call(this)}});return{GridsStore:v,RequestParameters:m,PagingToolbar:g,PagingToolbarSaveUser:y,PagingToolbarConfigSave:b,BaseView:p,RemovableView:d,DialogShell:w,DialogWithCallBack:E}}),define("components/MainBreadcrumbsComponent",["require","exports","module","jquery","backbone","backbone-epoxy","util"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("util"),u=s.Model.extend({defaults:{name:"",link:""}}),a=i.Collection.extend({model:u}),f=s.View.extend({tagName:"li",template:"tpl-component-main-breadcrumbs-item",bindings:{"[data-js-link]":"attr: {href: link}, text: name","[data-js-name]":"text: name"},initialize:function(){this.render()},render:function(){this.$el.html(o.templates(this.template,{}))},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.remove()}}),l=s.View.extend({tagName:"ul",className:"main-breadcrumbs",events:{},initialize:function(e){this.renderedViews=[],this.collection=new a,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"add",this.addItem),this.listenTo(this.collection,"remove",this.render),e.data&&this.collection.reset(e.data)},render:function(){_.each(this.renderedViews,function(e){e.destroy()}),this.renderedViews=[];var e=this;_.each(this.collection.models,function(t){e.addItem(t)})},addItem:function(e){var t=new f({model:e});this.renderedViews.push(t),this.$el.append(t.$el)},destroy:function(){this.collection.reset([]),this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.html(""),delete this}});return l}),define("filters/FilterCollection",["require","backbone","underscore","filters/FilterModel","filters/SingletonLaunchFilterCollection","defectType/SingletonDefectTypeCollection","controlers/filterControler/FilterListener"],function(e){"use strict";var t=e("backbone"),n=e("underscore"),r=e("filters/FilterModel"),i=e("filters/SingletonLaunchFilterCollection"),s=e("defectType/SingletonDefectTypeCollection"),o=e("controlers/filterControler/FilterListener"),u=t.Collection.extend({model:r,initialize:function(){this.filterListener=new o,this.filterEvents=this.filterListener.events,this.launchFilterCollection=new i,this.defectTypeCollection=new s,this.listenTo(this.filterListener,this.filterEvents.REMOVE_FILTER,this.onRemoveFilter)},onRemoveFilter:function(e){var t=this.get(e);t&&this.remove(t)},parse:function(e){var t=this;this.launchFilterCollection.ready.done(function(){t.defectTypeCollection.ready.done(function(){t.reset(n.map(e,function(e){var n=e,r=t.launchFilterCollection.get(e.id);return r&&(n.isLaunch=!0),n.entities=JSON.stringify(e.entities),n.selection_parameters=JSON.stringify(e.selection_parameters),n}))})})}});return u}),define("modals/_modalView",["require","backbone-epoxy","util","jquery","localization","app"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=e("jquery"),i=e("localization"),s=e("app"),o=s.getInstance(),u=t.View.extend({templateWrapper:"_tpl-modal",enableHide:!0,showWarningBlock:function(e){r("[data-js-warning-text]",this.$el).html(e),r("[data-js-warning]",this.$el).addClass("activate")},hideWarningBlock:function(){r("[data-js-warning-text]",this.$el).html(""),r("[data-js-warning]",this.$el).removeClass("activate")},disableHideBackdrop:function(){this.enableHide=!1},enableHideBackdrop:function(){this.enableHide=!0},show:function(){var e=this;return this.listenTo(o.router,"beforeRoute",function(t){o.router.skipNextRoute=!0,e.hide()}),this.modalBlock=!0,this.closeAsync=r.Deferred(),r(".rp-modal-dialog, .modal-backdrop").remove(),this.$modalWrapper=r(n.templates(this.templateWrapper,{})),this.className&&(this.$modalWrapper.addClass(this.className),this.$el.removeClass(this.className).addClass("modal-content-wrapper")),r("body").append(this.$modalWrapper),r("[data-js-modal-content]",this.$modalWrapper).html(this.$el),n.setupBaronScroll(r("[data-js-scroll-container]",this.$modalWrapper)),r(".baron_scroller",this.$modalWrapper).attr("data-js-cancel-backdrop",!0),this.$modalWrapper.on("shown.bs.modal",function(){e.onShown&&e.onShown()}).on("hide.bs.modal",function(){e.destroy()}).modal("show").click(function(t){var n=r(t.target);n.is("[data-js-cancel]")&&e.hide(),n.is("[data-js-cancel-backdrop]")&&(e.enableHide?e.hide():e.showWarningBlock(i.dialog.warningForDefect))}).keydown(function(t){t.keyCode===27&&e.hide()}),this.attachKeyActions(),e.onShow&&e.onShow(),this.closeAsync},attachKeyActions:function(){r(window).on("keydown.modal",function(e){(e.ctrlKey&&e.keyCode===13||e.metaKey&&e.keyCode===13)&&this.onKeySuccess()}.bind(this))},hide:function(){this.$modalWrapper&&this.$modalWrapper.modal("hide"),this.closeAsync&&this.closeAsync.reject()},onKeySuccess:function(){this.successClose()},showLoading:function(){this.$modalWrapper&&(this.$modalWrapper.addClass("load"),this.$modalWrapper.width(),this.$modalWrapper.addClass("animate"))},hideLoading:function(){this.$modalWrapper&&this.$modalWrapper.removeClass("load animate")},successClose:function(e){this.$modalWrapper&&this.$modalWrapper.modal("hide"),this.closeAsync&&this.closeAsync.resolve(e)},onDestroy:function(){this.onHide&&this.onHide(),r(window).off("keydown.modal"),delete this}});return u}),define("modals/modalConfirm",["require","jquery","modals/_modalView","util","localization"],function(e){"use strict";var t=e("jquery"),n=e("modals/_modalView"),r=e("util"),i=e("localization"),s=n.extend({template:"tpl-modal-confirm",className:"modal-confirm",events:{"click [data-js-ok]":"onClickSuccess"},initialize:function(e){this.render(e),this.confirmFunction=e.confirmFunction},render:function(e){var t=[{btnText:e.cancelButtonText,btnClass:"rp-btn-cancel",label:"data-js-cancel"},{btnText:e.okButtonText,btnClass:e.okButtonText===i.ui.move||e.okButtonText===i.ui.update||e.okButtonText===i.dialog.changeRoleBtn||e.okButtonText===i.ui.include||e.okButtonText===i.ui.unlink||e.okButtonText===i.ui.generate?"rp-btn-submit":"rp-btn-danger",label:"data-js-ok"}];e.footerButtons=t,this.$el.html(r.templates(this.template,e)),e.confirmText&&this.showWarningBlock(e.confirmText)},onClickSuccess:function(){var e=this;if(!this.confirmFunction){e.successClose();return}this.showLoading(),this.confirmFunction().done(function(){e.closeAsync&&e.closeAsync.resolve()}).fail(function(t){e.closeAsync&&e.closeAsync.resolve(t)}).always(function(){e.hide()})}});return s}),function(e){if(typeof exports=="object"&&typeof module!="undefined")module.exports=e();else if(typeof define=="function"&&define.amd)define("simplemde",[],e);else{var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t=this,t.SimpleMDE=e()}}(function(){var e,t,n;return function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return i(n?n:t)},l,l.exports,r,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,n,r){(function(i){typeof r=="object"&&typeof n=="object"?i(t("../../lib/codemirror")):typeof e=="function"&&e.amd?e(["../../lib/codemirror"],i):i(CodeMirror)})(function(e){function t(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function n(e){t(e);var n=e.state.placeholder=document.createElement("pre");n.style.cssText="height: 0; overflow: visible",n.className="CodeMirror-placeholder";var r=e.getOption("placeholder");typeof r=="string"&&(r=document.createTextNode(r)),n.appendChild(r),e.display.lineSpace.insertBefore(n,e.display.lineSpace.firstChild)}function r(e){s(e)&&n(e)}function i(e){var r=e.getWrapperElement(),i=s(e);r.className=r.className.replace(" CodeMirror-empty","")+(i?" CodeMirror-empty":""),i?n(e):t(e)}function s(e){return e.lineCount()===1&&e.getLine(0)===""}e.defineOption("placeholder","",function(n,s,o){var u=o&&o!=e.Init;if(s&&!u)n.on("blur",r),n.on("change",i),n.on("swapDoc",i),i(n);else if(!s&&u){n.off("blur",r),n.off("change",i),n.off("swapDoc",i),t(n);var a=n.getWrapperElement();a.className=a.className.replace(" CodeMirror-empty","")}s&&!n.hasFocus()&&r(n)})})},{"../../lib/codemirror":5}],2:[function(t,n,r){(function(i){typeof r=="object"&&typeof n=="object"?i(t("../../lib/codemirror")):typeof e=="function"&&e.amd?e(["../../lib/codemirror"],i):i(CodeMirror)})(function(e){"use strict";var t=/^(\s*)(>[> ]*|- \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,n=/^(\s*)(>[> ]*|- \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,r=/[*+-]\s/;e.commands.newlineAndIndentContinueMarkdownList=function(i){if(i.getOption("disableInput"))return e.Pass;var s=i.listSelections(),o=[];for(var u=0;u<s.length;u++){var a=s[u].head,f=i.getStateAfter(a.line),l=f.list!==!1,c=f.quote!==0,h=i.getLine(a.line),p=t.exec(h);if(!s[u].empty()||!l&&!c||!p){i.execCommand("newlineAndIndent");return}if(n.test(h))i.replaceRange("",{line:a.line,ch:0},{line:a.line,ch:a.ch+1}),o[u]="\n";else{var d=p[1],v=p[5],m=r.test(p[2])||p[2].indexOf(">")>=0?p[2].replace("x"," "):parseInt(p[3],10)+1+p[4];o[u]="\n"+d+m+v}}i.replaceSelections(o)}})},{"../../lib/codemirror":5}],3:[function(t,n,r){(function(i){typeof r=="object"&&typeof n=="object"?i(t("../../lib/codemirror")):typeof e=="function"&&e.amd?e(["../../lib/codemirror"],i):i(CodeMirror)})(function(e){"use strict";e.overlayMode=function(t,n,r){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(r){return{base:e.copyState(t,r.base),overlay:e.copyState(n,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(e,i){if(e!=i.streamSeen||Math.min(i.basePos,i.overlayPos)<e.start)i.streamSeen=e,i.basePos=i.overlayPos=e.start;return e.start==i.basePos&&(i.baseCur=t.token(e,i.base),i.basePos=e.pos),e.start==i.overlayPos&&(e.pos=e.start,i.overlayCur=n.token(e,i.overlay),i.overlayPos=e.pos),e.pos=Math.min(i.basePos,i.overlayPos),i.overlayCur==null?i.baseCur:i.baseCur!=null&&i.overlay.combineTokens||r&&i.overlay.combineTokens==null?i.baseCur+" "+i.overlayCur:i.overlayCur},indent:t.indent&&function(e,n){return t.indent(e.base,n)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){var i,s;return t.blankLine&&(i=t.blankLine(e.base)),n.blankLine&&(s=n.blankLine(e.overlay)),s==null?i:r&&i!=null?i+" "+s:s}}}})},{"../../lib/codemirror":5}],4:[function(t,n,r){(function(i){typeof r=="object"&&typeof n=="object"?i(t("../../lib/codemirror")):typeof e=="function"&&e.amd?e(["../../lib/codemirror"],i):i(CodeMirror)})(function(e){"use strict";function t(e){e.operation(function(){f(e)})}function n(e){e.state.markedSelection.length&&e.operation(function(){u(e)})}function o(e,t,n,o){if(s(t,n)==0)return;var u=e.state.markedSelection,a=e.state.markedSelectionStyle;for(var f=t.line;;){var l=f==t.line?t:i(f,0),c=f+r,h=c>=n.line,p=h?n:i(c,0),d=e.markText(l,p,{className:a});o==null?u.push(d):u.splice(o++,0,d);if(h)break;f=c}}function u(e){var t=e.state.markedSelection;for(var n=0;n<t.length;++n)t[n].clear();t.length=0}function a(e){u(e);var t=e.listSelections();for(var n=0;n<t.length;n++)o(e,t[n].from(),t[n].to())}function f(e){if(!e.somethingSelected())return u(e);if(e.listSelections().length>1)return a(e);var t=e.getCursor("start"),n=e.getCursor("end"),i=e.state.markedSelection;if(!i.length)return o(e,t,n);var f=i[0].find(),l=i[i.length-1].find();if(!f||!l||n.line-t.line<r||s(t,l.to)>=0||s(n,f.from)<=0)return a(e);while(s(t,f.from)>0)i.shift().clear(),f=i[0].find();s(t,f.from)<0&&(f.to.line-t.line<r?(i.shift().clear(),o(e,t,f.to,0)):o(e,t,f.from,0));while(s(n,l.to)<0)i.pop().clear(),l=i[i.length-1].find();s(n,l.to)>0&&(n.line-l.from.line<r?(i.pop().clear(),o(e,l.from,n)):o(e,l.to,n))}e.defineOption("styleSelectedText",!1,function(r,i,s){var o=s&&s!=e.Init;i&&!o?(r.state.markedSelection=[],r.state.markedSelectionStyle=typeof i=="string"?i:"CodeMirror-selectedtext",a(r),r.on("cursorActivity",t),r.on("change",n)):!i&&o&&(r.off("cursorActivity",t),r.off("change",n),u(r),r.state.markedSelection=r.state.markedSelectionStyle=null)});var r=8,i=e.Pos,s=e.cmpPos})},{"../../lib/codemirror":5}],5:[function(t,n,r){(function(t,i){typeof r=="object"&&typeof n!="undefined"?n.exports=i():typeof e=="function"&&e.amd?e(i):t.CodeMirror=i()})(this,function(){"use strict";function S(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function T(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function N(e,t){return T(e).appendChild(t)}function C(e,t,n,r){var i=document.createElement(e);n&&(i.className=n),r&&(i.style.cssText=r);if(typeof t=="string")i.appendChild(document.createTextNode(t));else if(t)for(var s=0;s<t.length;++s)i.appendChild(t[s]);return i}function L(e,t){t.nodeType==3&&(t=t.parentNode);if(e.contains)return e.contains(t);do{t.nodeType==11&&(t=t.host);if(t==e)return!0}while(t=t.parentNode)}function A(){var e;try{e=document.activeElement}catch(t){e=document.body||null}while(e&&e.root&&e.root.activeElement)e=e.root.activeElement;return e}function O(e,t){var n=e.className;S(t).test(n)||(e.className+=(n?" ":"")+t)}function M(e,t){var n=e.split(" ");for(var r=0;r<n.length;r++)n[r]&&!S(n[r]).test(t)&&(t+=" "+n[r]);return t}function D(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function P(e,t,n){t||(t={});for(var r in e)e.hasOwnProperty(r)&&(n!==!1||!t.hasOwnProperty(r))&&(t[r]=e[r]);return t}function H(e,t,n,r,i){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var s=r||0,o=i||0;;){var u=e.indexOf("	",s);if(u<0||u>=t)return o+(t-s);o+=u-s,o+=n-o%n,s=u+1}}function B(){this.id=null}function j(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function z(e,t,n){for(var r=0,i=0;;){var s=e.indexOf("	",r);s==-1&&(s=e.length);var o=s-r;if(s==e.length||i+o>=t)return r+Math.min(o,t-i);i+=s-r,i+=n-i%n,r=s+1;if(i>=t)return r}}function X(e){while(W.length<=e)W.push(V(W)+" ");return W[e]}function V(e){return e[e.length-1]}function $(e,t){var n=[];for(var r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function J(e,t,n){var r=0,i=n(t);while(r<e.length&&n(e[r])<=i)r++;e.splice(r,0,t)}function K(){}function Q(e,t){var n;return Object.create?n=Object.create(e):(K.prototype=e,n=new K),t&&P(t,n),n}function Y(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||G.test(e))}function Z(e,t){return t?t.source.indexOf("\\w")>-1&&Y(e)?!0:t.test(e):Y(e)}function et(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function nt(e){return e.charCodeAt(0)>=768&&tt.test(e)}function rt(e,t,r){var i=this;this.input=r,i.scrollbarFiller=C("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=C("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=C("div",null,"CodeMirror-code"),i.selectionDiv=C("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=C("div",null,"CodeMirror-cursors"),i.measure=C("div",null,"CodeMirror-measure"),i.lineMeasure=C("div",null,"CodeMirror-measure"),i.lineSpace=C("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=C("div",[C("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=C("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=C("div",null,null,"position: absolute; height: "+F+"px; width: 1px;"),i.gutters=C("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=C("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=C("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),s&&o<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),!u&&(!n||!v)&&(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,r.init(i)}function it(e,t){t-=e.first;if(t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");var n=e;while(!n.lines)for(var r=0;;++r){var i=n.children[r],s=i.chunkSize();if(t<s){n=i;break}t-=s}return n.lines[t]}function st(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var s=e.text;i==n.line&&(s=s.slice(0,n.ch)),i==t.line&&(s=s.slice(t.ch)),r.push(s),++i}),r}function ot(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function ut(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function at(e){if(e.parent==null)return null;var t=e.parent,n=j(t.lines,e);for(var r=t.parent;r;t=r,r=r.parent)for(var i=0;;++i){if(r.children[i]==t)break;n+=r.children[i].chunkSize()}return n+t.first}function ft(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],s=i.height;if(t<s){e=i;continue e}t-=s,n+=i.chunkSize()}return n}while(!e.lines);var o=0;for(;o<e.lines.length;++o){var u=e.lines[o],a=u.height;if(t<a)break;t-=a}return n+o}function lt(e,t){return t>=e.first&&t<e.first+e.size}function ct(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ht(e,t){if(!(this instanceof ht))return new ht(e,t);this.line=e,this.ch=t}function pt(e,t){return e.line-t.line||e.ch-t.ch}function dt(e){return ht(e.line,e.ch)}function vt(e,t){return pt(e,t)<0?t:e}function mt(e,t){return pt(e,t)<0?e:t}function gt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function yt(e,t){if(t.line<e.first)return ht(e.first,0);var n=e.first+e.size-1;return t.line>n?ht(n,it(e,n).text.length):bt(t,it(e,t.line).text.length)}function bt(e,t){var n=e.ch;return n==null||n>t?ht(e.line,t):n<0?ht(e.line,0):e}function wt(e,t){var n=[];for(var r=0;r<t.length;r++)n[r]=yt(e,t[r]);return n}function xt(){Et=!0}function Tt(){St=!0}function Nt(e,t,n){this.marker=e,this.from=t,this.to=n}function Ct(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function kt(e,t){var n;for(var r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Lt(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function At(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var s=e[i],o=s.marker,u=s.from==null||(o.inclusiveLeft?s.from<=t:s.from<t);if(u||s.from==t&&o.type=="bookmark"&&(!n||!s.marker.insertLeft)){var a=s.to==null||(o.inclusiveRight?s.to>=t:s.to>t);(r||(r=[])).push(new Nt(o,s.from,a?null:s.to))}}return r}function Ot(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var s=e[i],o=s.marker,u=s.to==null||(o.inclusiveRight?s.to>=t:s.to>t);if(u||s.from==t&&o.type=="bookmark"&&(!n||s.marker.insertLeft)){var a=s.from==null||(o.inclusiveLeft?s.from<=t:s.from<t);(r||(r=[])).push(new Nt(o,a?null:s.from-t,s.to==null?null:s.to-t))}}return r}function Mt(e,t){if(t.full)return null;var n=lt(e,t.from.line)&&it(e,t.from.line).markedSpans,r=lt(e,t.to.line)&&it(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,s=t.to.ch,o=pt(t.from,t.to)==0,u=At(n,i,o),a=Ot(r,s,o),f=t.text.length==1,l=V(t.text).length+(f?i:0);if(u)for(var c=0;c<u.length;++c){var h=u[c];if(h.to==null){var p=Ct(a,h.marker);p?f&&(h.to=p.to==null?null:p.to+l):h.to=i}}if(a)for(var d=0;d<a.length;++d){var v=a[d];v.to!=null&&(v.to+=l);if(v.from==null){var m=Ct(u,v.marker);m||(v.from=l,f&&(u||(u=[])).push(v))}else v.from+=l,f&&(u||(u=[])).push(v)}u&&(u=_t(u)),a&&a!=u&&(a=_t(a));var g=[u];if(!f){var y=t.text.length-2,b;if(y>0&&u)for(var w=0;w<u.length;++w)u[w].to==null&&(b||(b=[])).push(new Nt(u[w].marker,null,null));for(var E=0;E<y;++E)g.push(b);g.push(a)}return g}function _t(e){for(var t=0;t<e.length;++t){var n=e[t];n.from!=null&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Dt(e,t,n){var r=null;e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;n.readOnly&&(!r||j(r,n)==-1)&&(r||(r=[])).push(n)}});if(!r)return null;var i=[{from:t,to:n}];for(var s=0;s<r.length;++s){var o=r[s],u=o.find(0);for(var a=0;a<i.length;++a){var f=i[a];if(pt(f.to,u.from)<0||pt(f.from,u.to)>0)continue;var l=[a,1],c=pt(f.from,u.from),h=pt(f.to,u.to);(c<0||!o.inclusiveLeft&&!c)&&l.push({from:f.from,to:u.from}),(h>0||!o.inclusiveRight&&!h)&&l.push({from:u.to,to:f.to}),i.splice.apply(i,l),a+=l.length-1}}return i}function Pt(e){var t=e.markedSpans;if(!t)return;for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}function Ht(e,t){if(!t)return;for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}function Bt(e){return e.inclusiveLeft?-1:0}function jt(e){return e.inclusiveRight?1:0}function Ft(e,t){var n=e.lines.length-t.lines.length;if(n!=0)return n;var r=e.find(),i=t.find(),s=pt(r.from,i.from)||Bt(e)-Bt(t);if(s)return-s;var o=pt(r.to,i.to)||jt(e)-jt(t);return o?o:t.id-e.id}function It(e,t){var n=St&&e.markedSpans,r;if(n)for(var i=void 0,s=0;s<n.length;++s)i=n[s],i.marker.collapsed&&(t?i.from:i.to)==null&&(!r||Ft(r,i.marker)<0)&&(r=i.marker);return r}function qt(e){return It(e,!0)}function Rt(e){return It(e,!1)}function Ut(e,t,n,r,i){var s=it(e,t),o=St&&s.markedSpans;if(o)for(var u=0;u<o.length;++u){var a=o[u];if(!a.marker.collapsed)continue;var f=a.marker.find(0),l=pt(f.from,n)||Bt(a.marker)-Bt(i),c=pt(f.to,r)||jt(a.marker)-jt(i);if(l>=0&&c<=0||l<=0&&c>=0)continue;if(l<=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?pt(f.to,n)>=0:pt(f.to,n)>0)||l>=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?pt(f.from,r)<=0:pt(f.from,r)<0))return!0}}function zt(e){var t;while(t=qt(e))e=t.find(-1,!0).line;return e}function Wt(e){var t,n;while(t=Rt(e))e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function Xt(e,t){var n=it(e,t),r=zt(n);return n==r?t:at(r)}function Vt(e,t){if(t>e.lastLine())return t;var n=it(e,t),r;if(!$t(e,n))return t;while(r=Rt(n))n=r.find(1,!0).line;return at(n)+1}function $t(e,t){var n=St&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i){r=n[i];if(!r.marker.collapsed)continue;if(r.from==null)return!0;if(r.marker.widgetNode)continue;if(r.from==0&&r.marker.inclusiveLeft&&Jt(e,t,r))return!0}}function Jt(e,t,n){if(n.to==null){var r=n.marker.find(1,!0);return Jt(e,r.line,Ct(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,s=0;s<t.markedSpans.length;++s){i=t.markedSpans[s];if(i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(i.to==null||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Jt(e,t,i))return!0}}function Kt(e){e=zt(e);var t=0,n=e.parent;for(var r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var s=n.parent;s;n=s,s=n.parent)for(var o=0;o<s.children.length;++o){var u=s.children[o];if(u==n)break;t+=u.height}return t}function Qt(e){if(e.height==0)return 0;var t=e.text.length,n,r=e;while(n=qt(r)){var i=n.find(0,!0);r=i.from.line,t+=i.from.ch-i.to.ch}r=e;while(n=Rt(r)){var s=n.find(0,!0);t-=r.text.length-s.from.ch,r=s.to.line,t+=r.text.length-s.to.ch}return t}function Gt(e){var t=e.display,n=e.doc;t.maxLine=it(n,n.first),t.maxLineLength=Qt(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=Qt(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function Yt(e,t,n,r){if(!e)return r(t,n,"ltr");var i=!1;for(var s=0;s<e.length;++s){var o=e[s];if(o.from<n&&o.to>t||t==n&&o.to==t)r(Math.max(o.from,t),Math.min(o.to,n),o.level==1?"rtl":"ltr"),i=!0}i||r(t,n,"ltr")}function Zt(e){return e.level%2?e.to:e.from}function en(e){return e.level%2?e.from:e.to}function tn(e){var t=cn(e);return t?Zt(t[0]):0}function nn(e){var t=cn(e);return t?en(V(t)):e.text.length}function rn(e,t,n){var r=e[0].level;return t==r?!0:n==r?!1:t<n}function on(e,t){var n;sn=null;for(var r=0;r<e.length;++r){var i=e[r];if(i.from<t&&i.to>t)return r;if(i.from==t||i.to==t){if(n!=null)return rn(e,i.level,e[n].level)?(i.from!=i.to&&(sn=n),r):(i.from!=i.to&&(sn=r),n);n=r}}return n}function un(e,t,n,r){if(!r)return t+n;do t+=n;while(t>0&&nt(e.text.charAt(t)));return t}function an(e,t,n,r){var i=cn(e);if(!i)return fn(e,t,n,r);var s=on(i,t),o=i[s],u=un(e,t,o.level%2?-n:n,r);for(;;){if(u>o.from&&u<o.to)return u;if(u==o.from||u==o.to)return on(i,u)==s?u:(o=i[s+=n],n>0==o.level%2?o.to:o.from);o=i[s+=n];if(!o)return null;n>0==o.level%2?u=un(e,o.to,-1,r):u=un(e,o.from,1,r)}}function fn(e,t,n,r){var i=t+n;if(r)while(i>0&&nt(e.text.charAt(i)))i+=n;return i<0||i>e.text.length?null:i}function cn(e){var t=e.order;return t==null&&(t=e.order=ln(e.text)),t}function dn(e,t){return e._handlers&&e._handlers[t]||hn}function vn(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var s=j(i,n);s>-1&&(r[t]=i.slice(0,s).concat(i.slice(s+1)))}}}function mn(e,t){var n=dn(e,t);if(!n.length)return;var r=Array.prototype.slice.call(arguments,2);for(var i=0;i<n.length;++i)n[i].apply(null,r)}function gn(e,t,n){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),mn(e,n||t.type,e,t),xn(t)||t.codemirrorIgnore}function yn(e){var t=e._handlers&&e._handlers.cursorActivity;if(!t)return;var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]);for(var r=0;r<t.length;++r)j(n,t[r])==-1&&n.push(t[r])}function bn(e,t){return dn(e,t).length>0}function wn(e){e.prototype.on=function(e,t){pn(this,e,t)},e.prototype.off=function(e,t){vn(this,e,t)}}function En(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Sn(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function xn(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==0}function Tn(e){En(e),Sn(e)}function Nn(e){return e.target||e.srcElement}function Cn(e){var t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),m&&e.ctrlKey&&t==1&&(t=3),t}function An(e){if(Ln==null){var t=C("span","​");N(e,C("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(Ln=t.offsetWidth<=1&&t.offsetHeight>2&&!(s&&o<8))}var n=Ln?C("span","​"):C("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Mn(e){if(On!=null)return On;var t=N(e,document.createTextNode("AخA")),n=k(t,0,1).getBoundingClientRect(),r=k(t,1,2).getBoundingClientRect();return T(e),!n||n.left==n.right?!1:On=r.right-n.right<3}function Bn(e){if(Hn!=null)return Hn;var t=N(e,C("span","x")),n=t.getBoundingClientRect(),r=k(t,0,1).getBoundingClientRect();return Hn=Math.abs(n.left-r.left)>1}function In(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),jn[e]=t}function qn(e,t){Fn[e]=t}function Rn(e){if(typeof e=="string"&&Fn.hasOwnProperty(e))e=Fn[e];else if(e&&typeof e.name=="string"&&Fn.hasOwnProperty(e.name)){var t=Fn[e.name];typeof t=="string"&&(t={name:t}),e=Q(t,e),e.name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Rn("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Rn("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function Un(e,t){t=Rn(t);var n=jn[t.name];if(!n)return Un(e,"text/plain");var r=n(e,t);if(zn.hasOwnProperty(t.name)){var i=zn[t.name];for(var s in i){if(!i.hasOwnProperty(s))continue;r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=i[s]}}r.name=t.name,t.helperType&&(r.helperType=t.helperType);if(t.modeProps)for(var o in t.modeProps)r[o]=t.modeProps[o];return r}function Wn(e,t){var n=zn.hasOwnProperty(e)?zn[e]:zn[e]={};P(t,n)}function Xn(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Vn(e,t){var n;while(e.innerMode){n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}}function $n(e,t,n){return e.startState?e.startState(t,n):!0}function Kn(e,t,n,r){var i=[e.state.modeGen],s={};rr(e,t.text,e.doc.mode,n,function(e,t){return i.push(e,t)},s,r);var o=function(n){var r=e.state.overlays[n],o=1,u=0;rr(e,t.text,r.mode,!0,function(e,t){var n=o;while(u<e){var s=i[o];s>e&&i.splice(o,1,e,i[o+1],s),o+=2,u=Math.min(e,s)}if(!t)return;if(r.opaque)i.splice(n,o-n,e,"overlay "+t),o=n+2;else for(;n<o;n+=2){var a=i[n+1];i[n+1]=(a?a+" ":"")+"overlay "+t}},s)};for(var u=0;u<e.state.overlays.length;++u)o(u);return{styles:i,classes:s.bgClass||s.textClass?s:null}}function Qn(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=Gn(e,at(t)),i=Kn(e,t,t.text.length>e.options.maxHighlightLength?Xn(e.doc.mode,r):r);t.stateAfter=r,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Gn(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var s=ir(e,t,n),o=s>r.first&&it(r,s-1).stateAfter;return o?o=Xn(r.mode,o):o=$n(r.mode),r.iter(s,t,function(n){Yn(e,n.text,o);var u=s==t-1||s%5==0||s>=i.viewFrom&&s<i.viewTo;n.stateAfter=u?Xn(r.mode,o):null,++s}),n&&(r.frontier=s),o}function Yn(e,t,n,r){var i=e.doc.mode,s=new Jn(t,e.options.tabSize);s.start=s.pos=r||0,t==""&&Zn(i,n);while(!s.eol())er(i,s,n),s.start=s.pos}function Zn(e,t){if(e.blankLine)return e.blankLine(t);if(!e.innerMode)return;var n=Vn(e,t);if(n.mode.blankLine)return n.mode.blankLine(n.state)}function er(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=Vn(e,n).mode);var s=e.token(t,n);if(t.pos>t.start)return s}throw new Error("Mode "+e.name+" failed to advance stream.")}function tr(e,t,n,r){var i=function(e){return{start:l.start,end:l.pos,string:l.current(),type:u||null,state:e?Xn(s.mode,f):f}},s=e.doc,o=s.mode,u;t=yt(s,t);var a=it(s,t.line),f=Gn(e,t.line,n),l=new Jn(a.text,e.options.tabSize),c;r&&(c=[]);while((r||l.pos<t.ch)&&!l.eol())l.start=l.pos,u=er(o,l,f),r&&c.push(i(!0));return r?c:i()}function nr(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";t[r]==null?t[r]=n[2]:(new RegExp("(?:^|s)"+n[2]+"(?:$|s)")).test(t[r])||(t[r]+=" "+n[2])}return e}function rr(e,t,n,r,i,s,o){var u=n.flattenSpans;u==null&&(u=e.options.flattenSpans);var a=0,f=null,l=new Jn(t,e.options.tabSize),c,h=e.options.addModeClass&&[null];t==""&&nr(Zn(n,r),s);while(!l.eol()){l.pos>e.options.maxHighlightLength?(u=!1,o&&Yn(e,t,r,l.pos),l.pos=t.length,c=null):c=nr(er(n,l,r,h),s);if(h){var p=h[0].name;p&&(c="m-"+(c?p+" "+c:p))}if(!u||f!=c){while(a<l.start)a=Math.min(l.start,a+5e3),i(a,f);f=c}l.start=l.pos}while(a<l.pos){var d=Math.min(l.pos,a+5e3);i(d,f),a=d}}function ir(e,t,n){var r,i,s=e.doc,o=n?-1:t-(e.doc.mode.innerMode?1e3:100);for(var u=t;u>o;--u){if(u<=s.first)return s.first;var a=it(s,u-1);if(a.stateAfter&&(!n||u<=s.frontier))return u;var f=H(a.text,null,e.options.tabSize);if(i==null||r>f)i=u-1,r=f}return i}function sr(e,t,n){this.text=e,Ht(this,t),this.height=n?n(this):1}function or(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),Pt(e),Ht(e,n);var i=r?r(e):1;i!=e.height&&ut(e,i)}function ur(e){e.parent=null,Pt(e)}function lr(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?fr:ar;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function cr(e,t){var n=C("span",null,null,u?"padding-right: .1px":null),r={pre:C("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(s||u)&&e.getOption("lineWrapping")};n.setAttribute("role","presentation"),r.pre.setAttribute("role","presentation"),t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;r.pos=0,r.addToken=pr,Mn(e.display.measure)&&(a=cn(o))&&(r.addToken=vr(r.addToken,a)),r.map=[];var f=t!=e.display.externalMeasured&&at(o);gr(o,r,Qn(e,o,f)),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=M(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=M(o.styleClasses.textClass,r.textClass||""))),r.map.length==0&&r.map.push(0,0,r.content.appendChild(An(e.display.measure))),i==0?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(u){var l=r.content.lastChild;if(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))r.content.className="cm-tab-wrap-hack"}return mn(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=M(r.pre.className,r.textClass||"")),r}function hr(e){var t=C("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function pr(e,t,n,r,i,u,a){if(!t)return;var f=e.splitSpaces?dr(t,e.trailingSpace):t,l=e.cm.state.specialChars,c=!1,h;if(!l.test(t))e.col+=t.length,h=document.createTextNode(f),e.map.push(e.pos,e.pos+t.length,h),s&&o<9&&(c=!0),e.pos+=t.length;else{h=document.createDocumentFragment();var p=0;for(;;){l.lastIndex=p;var d=l.exec(t),v=d?d.index-p:t.length-p;if(v){var m=document.createTextNode(f.slice(p,p+v));s&&o<9?h.appendChild(C("span",[m])):h.appendChild(m),e.map.push(e.pos,e.pos+v,m),e.col+=v,e.pos+=v}if(!d)break;p+=v+1;var g=void 0;if(d[0]=="	"){var y=e.cm.options.tabSize,b=y-e.col%y;g=h.appendChild(C("span",X(b),"cm-tab")),g.setAttribute("role","presentation"),g.setAttribute("cm-text","	"),e.col+=b}else d[0]=="\r"||d[0]=="\n"?(g=h.appendChild(C("span",d[0]=="\r"?"␍":"␤","cm-invalidchar")),g.setAttribute("cm-text",d[0]),e.col+=1):(g=e.cm.options.specialCharPlaceholder(d[0]),g.setAttribute("cm-text",d[0]),s&&o<9?h.appendChild(C("span",[g])):h.appendChild(g),e.col+=1);e.map.push(e.pos,e.pos+1,g),e.pos++}}e.trailingSpace=f.charCodeAt(t.length-1)==32;if(n||r||i||c||a){var w=n||"";r&&(w+=r),i&&(w+=i);var E=C("span",[h],w,a);return u&&(E.title=u),e.content.appendChild(E)}e.content.appendChild(h)}function dr(e,t){if(e.length>1&&!/  /.test(e))return e;var n=t,r="";for(var i=0;i<e.length;i++){var s=e.charAt(i);s==" "&&n&&(i==e.length-1||e.charCodeAt(i+1)==32)&&(s=" "),r+=s,n=s==" "}return r}function vr(e,t){return function(n,r,i,s,o,u,a){i=i?i+" cm-force-border":"cm-force-border";var f=n.pos,l=f+r.length;for(;;){var c=void 0;for(var h=0;h<t.length;h++){c=t[h];if(c.to>f&&c.from<=f)break}if(c.to>=l)return e(n,r,i,s,o,u,a);e(n,r.slice(0,c.to-f),i,s,null,u,a),s=null,r=r.slice(c.to-f),f=c.to}}}function mr(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function gr(e,t,n){var r=e.markedSpans,i=e.text,s=0;if(!r){for(var o=1;o<n.length;o+=2)t.addToken(t,i.slice(s,s=n[o]),lr(n[o+1],t.cm.options));return}var u=i.length,a=0,f=1,l="",c,h,p=0,d,v,m,g,y;for(;;){if(p==a){d=v=m=g=h="",y=null,p=Infinity;var b=[],w=void 0;for(var E=0;E<r.length;++E){var S=r[E],x=S.marker;x.type=="bookmark"&&S.from==a&&x.widgetNode?b.push(x):S.from<=a&&(S.to==null||S.to>a||x.collapsed&&S.to==a&&S.from==a)?(S.to!=null&&S.to!=a&&p>S.to&&(p=S.to,v=""),x.className&&(d+=" "+x.className),x.css&&(h=(h?h+";":"")+x.css),x.startStyle&&S.from==a&&(m+=" "+x.startStyle),x.endStyle&&S.to==p&&(w||(w=[])).push(x.endStyle,S.to),x.title&&!g&&(g=x.title),x.collapsed&&(!y||Ft(y.marker,x)<0)&&(y=S)):S.from>a&&p>S.from&&(p=S.from)}if(w)for(var T=0;T<w.length;T+=2)w[T+1]==p&&(v+=" "+w[T]);if(!y||y.from==a)for(var N=0;N<b.length;++N)mr(t,0,b[N]);if(y&&(y.from||0)==a){mr(t,(y.to==null?u+1:y.to)-a,y.marker,y.from==null);if(y.to==null)return;y.to==a&&(y=!1)}}if(a>=u)break;var C=Math.min(u,p);for(;;){if(l){var k=a+l.length;if(!y){var L=k>C?l.slice(0,C-a):l;t.addToken(t,L,c?c+d:d,m,a+L.length==p?v:"",g,h)}if(k>=C){l=l.slice(C-a),a=C;break}a=k,m=""}l=i.slice(s,s=n[f++]),c=lr(n[f++],t.cm.options)}}}function yr(e,t,n){this.line=t,this.rest=Wt(t),this.size=this.rest?at(V(this.rest))-n+1:1,this.node=this.text=null,this.hidden=$t(e,t)}function br(e,t,n){var r=[],i;for(var s=t;s<n;s=i){var o=new yr(e.doc,it(e.doc,s),s);i=s+o.size,r.push(o)}return r}function Er(e){wr?wr.ops.push(e):e.ownsGroup=wr={ops:[e],delayedCallbacks:[]}}function Sr(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)while(i.cursorActivityCalled<i.cursorActivityHandlers.length)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function xr(e,t){var n=e.ownsGroup;if(!n)return;try{Sr(n)}finally{wr=null,t(n)}}function Nr(e,t){var n=dn(e,t);if(!n.length)return;var r=Array.prototype.slice.call(arguments,2),i;wr?i=wr.delayedCallbacks:Tr?i=Tr:(i=Tr=[],setTimeout(Cr,0));var s=function(e){i.push(function(){return n[e].apply(null,r)})};for(var o=0;o<n.length;++o)s(o)}function Cr(){var e=Tr;Tr=null;for(var t=0;t<e.length;++t)e[t]()}function kr(e,t,n,r){for(var i=0;i<t.changes.length;i++){var s=t.changes[i];s=="text"?Mr(e,t):s=="gutter"?Dr(e,t,n,r):s=="class"?_r(t):s=="widget"&&Pr(e,t,r)}t.changes=null}function Lr(e){return e.node==e.text&&(e.node=C("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),s&&o<8&&(e.node.style.zIndex=2)),e.node}function Ar(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;t&&(t+=" CodeMirror-linebackground");if(e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=Lr(e);e.background=n.insertBefore(C("div",null,t),n.firstChild)}}function Or(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):cr(e,t)}function Mr(e,t){var n=t.text.className,r=Or(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,_r(t)):n&&(t.text.className=n)}function _r(e){Ar(e),e.line.wrapClass?Lr(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function Dr(e,t,n,r){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null);if(t.line.gutterClass){var i=Lr(t);t.gutterBackground=C("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),i.insertBefore(t.gutterBackground,t.text)}var s=t.line.gutterMarkers;if(e.options.lineNumbers||s){var o=Lr(t),u=t.gutter=C("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");e.display.input.setUneditable(u),o.insertBefore(u,t.text),t.line.gutterClass&&(u.className+=" "+t.line.gutterClass),e.options.lineNumbers&&(!s||!s["CodeMirror-linenumbers"])&&(t.lineNumber=u.appendChild(C("div",ct(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px")));if(s)for(var a=0;a<e.options.gutters.length;++a){var f=e.options.gutters[a],l=s.hasOwnProperty(f)&&s[f];l&&u.appendChild(C("div",[l],"CodeMirror-gutter-elt","left: "+r.gutterLeft[f]+"px; width: "+r.gutterWidth[f]+"px"))}}}function Pr(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,r.className=="CodeMirror-linewidget"&&t.node.removeChild(r);Br(e,t,n)}function Hr(e,t,n,r){var i=Or(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),_r(t),Dr(e,t,n,r),Br(e,t,r),t.node}function Br(e,t,n){jr(e,t.line,t,n,!0);if(t.rest)for(var r=0;r<t.rest.length;r++)jr(e,t.rest[r],t,n,!1)}function jr(e,t,n,r,i){if(!t.widgets)return;var s=Lr(n);for(var o=0,u=t.widgets;o<u.length;++o){var a=u[o],f=C("div",[a.node],"CodeMirror-linewidget");a.handleMouseEvents||f.setAttribute("cm-ignore-events","true"),Fr(a,f,n,r),e.display.input.setUneditable(f),i&&a.above?s.insertBefore(f,n.gutter||n.text):s.appendChild(f),Nr(a,"redraw")}}function Fr(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Ir(e){if(e.height!=null)return e.height;var t=e.doc.cm;if(!t)return 0;if(!L(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),N(t.display.measure,C("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function qr(e,t){for(var n=Nn(t);n!=e.wrapper;n=n.parentNode)if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==e.sizer&&n!=e.mover)return!0}function Rr(e){return e.lineSpace.offsetTop}function Ur(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function zr(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=N(e.measure,C("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return!isNaN(r.left)&&!isNaN(r.right)&&(e.cachedPaddingH=r),r}function Wr(e){return F-e.display.nativeBarWidth}function Xr(e){return e.display.scroller.clientWidth-Wr(e)-e.display.barWidth}function Vr(e){return e.display.scroller.clientHeight-Wr(e)-e.display.barHeight}function $r(e,t,n){var r=e.options.lineWrapping,i=r&&Xr(e);if(!t.measure.heights||r&&t.measure.width!=i){var s=t.measure.heights=[];if(r){t.measure.width=i;var o=t.text.firstChild.getClientRects();for(var u=0;u<o.length-1;u++){var a=o[u],f=o[u+1];Math.abs(a.bottom-f.bottom)>2&&s.push((a.bottom+f.top)/2-n.top)}}s.push(n.bottom-n.top)}}function Jr(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(at(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Kr(e,t){t=zt(t);var n=at(t),r=e.display.externalMeasured=new yr(e.doc,t,n);r.lineN=n;var i=r.built=cr(e,r);return r.text=i.pre,N(e.display.lineMeasure,i.pre),r}function Qr(e,t,n,r){return Zr(e,Yr(e,t),n,r)}function Gr(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Ci(e,t)];var n=e.display.externalMeasured;if(n&&t>=n.lineN&&t<n.lineN+n.size)return n}function Yr(e,t){var n=at(t),r=Gr(e,n);r&&!r.text?r=null:r&&r.changes&&(kr(e,r,n,Ei(e)),e.curOp.forceUpdate=!0),r||(r=Kr(e,t));var i=Jr(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Zr(e,t,n,r,i){t.before&&(n=-1);var s=n+(r||""),o;return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||($r(e,t.view,t.rect),t.hasHeights=!0),o=ri(e,t,n,r),o.bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function ti(e,t,n){var r,i,s,o,u,a;for(var f=0;f<e.length;f+=3){u=e[f],a=e[f+1];if(t<u)i=0,s=1,o="left";else if(t<a)i=t-u,s=i+1;else if(f==e.length-3||t==a&&e[f+3]>t)s=a-u,i=s-1,t>=a&&(o="right");if(i!=null){r=e[f+2],u==a&&n==(r.insertLeft?"left":"right")&&(o=n);if(n=="left"&&i==0)while(f&&e[f-2]==e[f-3]&&e[f-1].insertLeft)r=e[(f-=3)+2],o="left";if(n=="right"&&i==a-u)while(f<e.length-3&&e[f+3]==e[f+4]&&!e[f+5].insertLeft)r=e[(f+=3)+2],o="right";break}}return{node:r,start:i,end:s,collapse:o,coverStart:u,coverEnd:a}}function ni(e,t){var n=ei;if(t=="left"){for(var r=0;r<e.length;r++)if((n=e[r]).left!=n.right)break}else for(var i=e.length-1;i>=0;i--)if((n=e[i]).left!=n.right)break;return n}function ri(e,t,n,r){var i=ti(t.map,n,r),u=i.node,a=i.start,f=i.end,l=i.collapse,c;if(u.nodeType==3){for(var h=0;h<4;h++){while(a&&nt(t.line.text.charAt(i.coverStart+a)))--a;while(i.coverStart+f<i.coverEnd&&nt(t.line.text.charAt(i.coverStart+f)))++f;s&&o<9&&a==0&&f==i.coverEnd-i.coverStart?c=u.parentNode.getBoundingClientRect():c=ni(k(u,a,f).getClientRects(),r);if(c.left||c.right||a==0)break;f=a,a-=1,l="right"}s&&o<11&&(c=ii(e.display.measure,c))}else{a>0&&(l=r="right");var p;e.options.lineWrapping&&(p=u.getClientRects()).length>1?c=p[r=="right"?p.length-1:0]:c=u.getBoundingClientRect()}if(s&&o<9&&!a&&(!c||!c.left&&!c.right)){var d=u.parentNode.getClientRects()[0];d?c={left:d.left,right:d.left+wi(e.display),top:d.top,bottom:d.bottom}:c=ei}var v=c.top-t.rect.top,m=c.bottom-t.rect.top,g=(v+m)/2,y=t.view.measure.heights,b=0;for(;b<y.length-1;b++)if(g<y[b])break;var w=b?y[b-1]:0,E=y[b],S={left:(l=="right"?c.right:c.left)-t.rect.left,right:(l=="left"?c.left:c.right)-t.rect.left,top:w,bottom:E};return!c.left&&!c.right&&(S.bogus=!0),e.options.singleCursorHeightPerLine||(S.rtop=v,S.rbottom=m),S}function ii(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Bn(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function si(e){if(e.measure){e.measure.cache={},e.measure.heights=null;if(e.rest)for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}}function oi(e){e.display.externalMeasure=null,T(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)si(e.display.view[t])}function ui(e){oi(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function ai(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function fi(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function li(e,t,n,r,i){if(!i&&t.widgets)for(var s=0;s<t.widgets.length;++s)if(t.widgets[s].above){var o=Ir(t.widgets[s]);n.top+=o,n.bottom+=o}if(r=="line")return n;r||(r="local");var u=Kt(t);r=="local"?u+=Rr(e.display):u-=e.display.viewOffset;if(r=="page"||r=="window"){var a=e.display.lineSpace.getBoundingClientRect();u+=a.top+(r=="window"?0:fi());var f=a.left+(r=="window"?0:ai());n.left+=f,n.right+=f}return n.top+=u,n.bottom+=u,n}function ci(e,t,n){if(n=="div")return t;var r=t.left,i=t.top;if(n=="page")r-=ai(),i-=fi();else if(n=="local"||!n){var s=e.display.sizer.getBoundingClientRect();r+=s.left,i+=s.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:r-o.left,top:i-o.top}}function hi(e,t,n,r,i){return r||(r=it(e.doc,t.line)),li(e,r,Qr(e,r,t.ch,i),n)}function pi(e,t,n,r,i,s){function o(t,o){var u=Zr(e,i,t,o?"right":"left",s);return o?u.left=u.right:u.right=u.left,li(e,r,u,n)}function u(e,t){var n=a[t],r=n.level%2;return e==Zt(n)&&t&&n.level<a[t-1].level?(n=a[--t],e=en(n)-(n.level%2?0:1),r=!0):e==en(n)&&t<a.length-1&&n.level<a[t+1].level&&(n=a[++t],e=Zt(n)-n.level%2,r=!1),r&&e==n.to&&e>n.from?o(e-1):o(e,r)}r=r||it(e.doc,t.line),i||(i=Yr(e,r));var a=cn(r),f=t.ch;if(!a)return o(f);var l=on(a,f),c=u(f,l);return sn!=null&&(c.other=u(f,sn)),c}function di(e,t){var n=0;t=yt(e.doc,t),e.options.lineWrapping||(n=wi(e.display)*t.ch);var r=it(e.doc,t.line),i=Kt(r)+Rr(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function vi(e,t,n,r){var i=ht(e,t);return i.xRel=r,n&&(i.outside=!0),i}function mi(e,t,n){var r=e.doc;n+=e.display.viewOffset;if(n<0)return vi(r.first,0,!0,-1);var i=ft(r,n),s=r.first+r.size-1;if(i>s)return vi(r.first+r.size-1,it(r,s).text.length,!0,1);t<0&&(t=0);var o=it(r,i);for(;;){var u=gi(e,o,i,t,n),a=Rt(o),f=a&&a.find(0,!0);if(!a||!(u.ch>f.from.ch||u.ch==f.from.ch&&u.xRel>0))return u;i=at(o=f.to.line)}}function gi(e,t,n,r,i){function f(r){var i=pi(e,ht(n,r),"line",t,a);return o=!0,s>i.bottom?i.left-u:s<i.top?i.left+u:(o=!1,i.left)}var s=i-Kt(t),o=!1,u=2*e.display.wrapper.clientWidth,a=Yr(e,t),l=cn(t),c=t.text.length,h=tn(t),p=nn(t),d=f(h),v=o,m=f(p),g=o;if(r>m)return vi(n,p,g,1);for(;;){if(l?p==h||p==an(t,h,1):p-h<=1){var y=r<d||r-d<=m-r?h:p,b=y==h?v:g,w=r-(y==h?d:m);if(g&&!l&&!/\s/.test(t.text.charAt(y))&&w>0&&y<t.text.length&&a.view.measure.heights.length>1){var E=Zr(e,a,y,"right");s<=E.bottom&&s>=E.top&&Math.abs(r-E.right)<w&&(b=!1,y++,w=r-E.right)}while(nt(t.text.charAt(y)))++y;var S=vi(n,y,b,w<-1?-1:w>1?1:0);return S}var x=Math.ceil(c/2),T=h+x;if(l){T=h;for(var N=0;N<x;++N)T=an(t,T,1)}var C=f(T);if(C>r){p=T,m=C;if(g=o)m+=1e3;c=x}else h=T,d=C,v=o,c-=x}}function bi(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(yi==null){yi=C("pre");for(var t=0;t<49;++t)yi.appendChild(document.createTextNode("x")),yi.appendChild(C("br"));yi.appendChild(document.createTextNode("x"))}N(e.measure,yi);var n=yi.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),T(e.measure),n||1}function wi(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=C("span","xxxxxxxxxx"),n=C("pre",[t]);N(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Ei(e){var t=e.display,n={},r={},i=t.gutters.clientLeft;for(var s=t.gutters.firstChild,o=0;s;s=s.nextSibling,++o)n[e.options.gutters[o]]=s.offsetLeft+s.clientLeft+i,r[e.options.gutters[o]]=s.clientWidth;return{fixedPos:Si(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Si(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function xi(e){var t=bi(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/wi(e.display)-3);return function(i){if($t(e.doc,i))return 0;var s=0;if(i.widgets)for(var o=0;o<i.widgets.length;o++)i.widgets[o].height&&(s+=i.widgets[o].height);return n?s+(Math.ceil(i.text.length/r)||1)*t:s+t}}function Ti(e){var t=e.doc,n=xi(e);t.iter(function(e){var t=n(e);t!=e.height&&ut(e,t)})}function Ni(e,t,n,r){var i=e.display;if(!n&&Nn(t).getAttribute("cm-not-content")=="true")return null;var s,o,u=i.lineSpace.getBoundingClientRect();try{s=t.clientX-u.left,o=t.clientY-u.top}catch(t){return null}var a=mi(e,s,o),f;if(r&&a.xRel==1&&(f=it(e.doc,a.line).text).length==a.ch){var l=H(f,f.length,e.options.tabSize)-f.length;a=ht(a.line,Math.max(0,Math.round((s-zr(e.display).left)/wi(e.display))-l))}return a}function Ci(e,t){if(t>=e.display.viewTo)return null;t-=e.display.viewFrom;if(t<0)return null;var n=e.display.view;for(var r=0;r<n.length;r++){t-=n[r].size;if(t<0)return r}}function ki(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Li(e,t){var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),s=r.selection=document.createDocumentFragment();for(var o=0;o<n.sel.ranges.length;o++){if(t===!1&&o==n.sel.primIndex)continue;var u=n.sel.ranges[o];if(u.from().line>=e.display.viewTo||u.to().line<e.display.viewFrom)continue;var a=u.empty();(a||e.options.showCursorWhenSelecting)&&Ai(e,u.head,i),a||Oi(e,u,s)}return r}function Ai(e,t,n){var r=pi(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(C("div"," ","CodeMirror-cursor"));i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px";if(r.other){var s=n.appendChild(C("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=r.other.left+"px",s.style.top=r.other.top+"px",s.style.height=(r.other.bottom-r.other.top)*.85+"px"}}function Oi(e,t,n){function f(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),s.appendChild(C("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(n==null?a-e:n)+"px;\n                             height: "+(r-t)+"px"))}function l(t,n,r){function h(n,r){return hi(e,ht(t,n),"div",s,r)}var s=it(i,t),o=s.text.length,l,c;return Yt(cn(s),n||0,r==null?o:r,function(e,t,i){var s=h(e,"left"),p,d,v;if(e==t)p=s,d=v=s.left;else{p=h(t-1,"right");if(i=="rtl"){var m=s;s=p,p=m}d=s.left,v=p.right}n==null&&e==0&&(d=u),p.top-s.top>3&&(f(d,s.top,null,s.bottom),d=u,s.bottom<p.top&&f(d,s.bottom,null,p.top)),r==null&&t==o&&(v=a);if(!l||s.top<l.top||s.top==l.top&&s.left<l.left)l=s;if(!c||p.bottom>c.bottom||p.bottom==c.bottom&&p.right>c.right)c=p;d<u+1&&(d=u),f(d,p.top,v-d,p.bottom)}),{start:l,end:c}}var r=e.display,i=e.doc,s=document.createDocumentFragment(),o=zr(e.display),u=o.left,a=Math.max(r.sizerWidth,Xr(e)-r.sizer.offsetLeft)-o.right,c=t.from(),h=t.to();if(c.line==h.line)l(c.line,c.ch,h.ch);else{var p=it(i,c.line),d=it(i,h.line),v=zt(p)==zt(d),m=l(c.line,c.ch,v?p.text.length+1:null).end,g=l(h.line,v?0:null,h.ch).start;v&&(m.top<g.top-2?(f(m.right,m.top,null,m.bottom),f(u,g.top,g.left,g.bottom)):f(m.right,m.top,g.left-m.right,m.bottom)),m.bottom<g.top&&f(u,m.bottom,null,g.top)}n.appendChild(s)}function Mi(e){if(!e.state.focused)return;var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}function _i(e){e.state.focused||(e.display.input.focus(),Pi(e))}function Di(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Hi(e))},100)}function Pi(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1);if(e.options.readOnly=="nocursor")return;e.state.focused||(mn(e,"focus",e,t),e.state.focused=!0,O(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),u&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Mi(e)}function Hi(e,t){if(e.state.delayingBlurEvent)return;e.state.focused&&(mn(e,"blur",e,t),e.state.focused=!1,x(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150)}function Bi(e){var t=e.display,n=t.view;if(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))return;var r=Si(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,s=r+"px";for(var o=0;o<n.length;o++)if(!n[o].hidden){e.options.fixedGutter&&(n[o].gutter&&(n[o].gutter.style.left=s),n[o].gutterBackground&&(n[o].gutterBackground.style.left=s));var u=n[o].alignable;if(u)for(var a=0;a<u.length;a++)u[a].style.left=s}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}function ji(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=ct(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(C("div",[C("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=i.firstChild.offsetWidth,o=i.offsetWidth-s;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(s,r.lineGutter.offsetWidth-o)+1,r.lineNumWidth=r.lineNumInnerWidth+o,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Hs(e),!0}return!1}function Fi(e){var t=e.display,n=t.lineDiv.offsetTop;for(var r=0;r<t.view.length;r++){var i=t.view[r],u=void 0;if(i.hidden)continue;if(s&&o<8){var a=i.node.offsetTop+i.node.offsetHeight;u=a-n,n=a}else{var f=i.node.getBoundingClientRect();u=f.bottom-f.top}var l=i.line.height-u;u<2&&(u=bi(t));if(l>.001||l<-0.001){ut(i.line,u),Ii(i.line);if(i.rest)for(var c=0;c<i.rest.length;c++)Ii(i.rest[c])}}}function Ii(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function qi(e,t,n){var r=n&&n.top!=null?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Rr(e));var i=n&&n.bottom!=null?n.bottom:r+e.wrapper.clientHeight,s=ft(t,r),o=ft(t,i);if(n&&n.ensure){var u=n.ensure.from.line,a=n.ensure.to.line;u<s?(s=u,o=ft(t,Kt(it(t,u))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=o&&(s=ft(t,Kt(it(t,a))-e.wrapper.clientHeight),o=a)}return{from:s,to:Math.max(o,s+1)}}function Ri(e,t){if(Math.abs(e.doc.scrollTop-t)<2)return;e.doc.scrollTop=t,n||Ds(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),n&&Ds(e),ks(e,100)}function Ui(e,t,n){if(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)return;t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,Bi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t)}function Xi(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),n==null&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:n==null&&(n=e.wheelDelta),{x:t,y:n}}function Vi(e){var t=Xi(e);return t.x*=Wi,t.y*=Wi,t}function $i(e,t){var r=Xi(t),i=r.x,s=r.y,o=e.display,a=o.scroller,f=a.scrollWidth>a.clientWidth,c=a.scrollHeight>a.clientHeight;if(!(i&&f||s&&c))return;if(s&&m&&u)e:for(var h=t.target,p=o.view;h!=a;h=h.parentNode)for(var d=0;d<p.length;d++)if(p[d].node==h){e.display.currentWheelTarget=h;break e}if(i&&!n&&!l&&Wi!=null){s&&c&&Ri(e,Math.max(0,Math.min(a.scrollTop+s*Wi,a.scrollHeight-a.clientHeight))),Ui(e,Math.max(0,Math.min(a.scrollLeft+i*Wi,a.scrollWidth-a.clientWidth))),(!s||s&&c)&&En(t),o.wheelStartX=null;return}if(s&&Wi!=null){var v=s*Wi,g=e.doc.scrollTop,y=g+o.wrapper.clientHeight;v<0?g=Math.max(0,g+v-50):y=Math.min(e.doc.height,y+v+50),Ds(e,{top:g,bottom:y})}zi<20&&(o.wheelStartX==null?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=i,o.wheelDY=s,setTimeout(function(){if(o.wheelStartX==null)return;var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null;if(!n)return;Wi=(Wi*zi+n)/(zi+1),++zi},200)):(o.wheelDX+=i,o.wheelDY+=s))}function Ji(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Ur(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Wr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function Gi(e,t){t||(t=Ji(e));var n=e.display.barWidth,r=e.display.barHeight;Yi(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Fi(e),Yi(e,Ji(e)),n=e.display.barWidth,r=e.display.barHeight}function Yi(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function es(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&x(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Zi[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),pn(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){n=="horizontal"?Ui(e,t):Ri(e,t)},e),e.display.scrollbars.addClass&&O(e.display.wrapper,e.display.scrollbars.addClass)}function ts(e,t){if(gn(e,"scrollCursorIntoView"))return;var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1);if(i!=null&&!p){var s=C("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Rr(e.display))+"px;\n                         height: "+(t.bottom-t.top+Wr(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(s),s.scrollIntoView(i),e.display.lineSpace.removeChild(s)}}function ns(e,t,n,r){r==null&&(r=0);var i;for(var s=0;s<5;s++){var o=!1;i=pi(e,t);var u=!n||n==t?i:pi(e,n),a=is(e,Math.min(i.left,u.left),Math.min(i.top,u.top)-r,Math.max(i.left,u.left),Math.max(i.bottom,u.bottom)+r),f=e.doc.scrollTop,l=e.doc.scrollLeft;a.scrollTop!=null&&(Ri(e,a.scrollTop),Math.abs(e.doc.scrollTop-f)>1&&(o=!0)),a.scrollLeft!=null&&(Ui(e,a.scrollLeft),Math.abs(e.doc.scrollLeft-l)>1&&(o=!0));if(!o)break}return i}function rs(e,t,n,r,i){var s=is(e,t,n,r,i);s.scrollTop!=null&&Ri(e,s.scrollTop),s.scrollLeft!=null&&Ui(e,s.scrollLeft)}function is(e,t,n,r,i){var s=e.display,o=bi(e.display);n<0&&(n=0);var u=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:s.scroller.scrollTop,a=Vr(e),f={};i-n>a&&(i=n+a);var l=e.doc.height+Ur(s),c=n<o,h=i>l-o;if(n<u)f.scrollTop=c?0:n;else if(i>u+a){var p=Math.min(n,(h?l:i)-a);p!=u&&(f.scrollTop=p)}var d=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:s.scroller.scrollLeft,v=Xr(e)-(e.options.fixedGutter?s.gutters.offsetWidth:0),m=r-t>v;return m&&(r=t+v),t<10?f.scrollLeft=0:t<d?f.scrollLeft=Math.max(0,t-(m?0:10)):r>v+d-3&&(f.scrollLeft=r+(m?0:10)-v),f}function ss(e,t,n){(t!=null||n!=null)&&us(e),t!=null&&(e.curOp.scrollLeft=(e.curOp.scrollLeft==null?e.doc.scrollLeft:e.curOp.scrollLeft)+t),n!=null&&(e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+n)}function os(e){us(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?ht(t.line,t.ch-1):t,r=ht(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function us(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=di(e,t.from),r=di(e,t.to),i=is(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function fs(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++as},Er(e.curOp)}function ls(e){var t=e.curOp;xr(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;cs(e)})}function cs(e){var t=e.ops;for(var n=0;n<t.length;n++)hs(t[n]);for(var r=0;r<t.length;r++)ps(t[r]);for(var i=0;i<t.length;i++)ds(t[i]);for(var s=0;s<t.length;s++)vs(t[s]);for(var o=0;o<t.length;o++)ms(t[o])}function hs(e){var t=e.cm,n=t.display;Os(t),e.updateMaxLine&&Gt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new As(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function ps(e){e.updatedDisplay=e.mustUpdate&&Ms(e.cm,e.update)}function ds(e){var t=e.cm,n=t.display;e.updatedDisplay&&Fi(t),e.barMeasure=Ji(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Qr(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Wr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Xr(t)));if(e.updatedDisplay||e.selectionChanged)e.preparedSelection=n.input.prepareSelection(e.focus)}function vs(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Ui(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==A()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Gi(t,e.barMeasure),e.updatedDisplay&&Bs(t,e.barMeasure),e.selectionChanged&&Mi(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&_i(e.cm)}function ms(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&_s(t,e.update),n.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(n.wheelStartX=n.wheelStartY=null),e.scrollTop!=null&&(n.scroller.scrollTop!=e.scrollTop||e.forceScroll)&&(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),e.scrollLeft!=null&&(n.scroller.scrollLeft!=e.scrollLeft||e.forceScroll)&&(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,Bi(t));if(e.scrollToPos){var i=ns(t,yt(r,e.scrollToPos.from),yt(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&ts(t,i)}var s=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(s)for(var u=0;u<s.length;++u)s[u].lines.length||mn(s[u],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&mn(o[a],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&mn(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function gs(e,t){if(e.curOp)return t();fs(e);try{return t()}finally{ls(e)}}function ys(e,t){return function(){if(e.curOp)return t.apply(e,arguments);fs(e);try{return t.apply(e,arguments)}finally{ls(e)}}}function bs(e){return function(){if(this.curOp)return e.apply(this,arguments);fs(this);try{return e.apply(this,arguments)}finally{ls(this)}}}function ws(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);fs(t);try{return e.apply(this,arguments)}finally{ls(t)}}}function Es(e,t,n,r){t==null&&(t=e.doc.first),n==null&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;r&&n<i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0;if(t>=i.viewTo)St&&Xt(e.doc,t)<i.viewTo&&xs(e);else if(n<=i.viewFrom)St&&Vt(e.doc,n+r)>i.viewFrom?xs(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)xs(e);else if(t<=i.viewFrom){var s=Ts(e,n,n+r,1);s?(i.view=i.view.slice(s.index),i.viewFrom=s.lineN,i.viewTo+=r):xs(e)}else if(n>=i.viewTo){var o=Ts(e,t,t,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):xs(e)}else{var u=Ts(e,t,t,-1),a=Ts(e,n,n+r,1);u&&a?(i.view=i.view.slice(0,u.index).concat(br(e,u.lineN,a.lineN)).concat(i.view.slice(a.index)),i.viewTo+=r):xs(e)}var f=i.externalMeasured;f&&(n<f.lineN?f.lineN+=r:t<f.lineN+f.size&&(i.externalMeasured=null))}function Ss(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null);if(t<r.viewFrom||t>=r.viewTo)return;var s=r.view[Ci(e,t)];if(s.node==null)return;var o=s.changes||(s.changes=[]);j(o,n)==-1&&o.push(n)}function xs(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Ts(e,t,n,r){var i=Ci(e,t),s,o=e.display.view;if(!St||n==e.doc.first+e.doc.size)return{index:i,lineN:n};var u=e.display.viewFrom;for(var a=0;a<i;a++)u+=o[a].size;if(u!=t){if(r>0){if(i==o.length-1)return null;s=u+o[i].size-t,i++}else s=u-t;t+=s,n+=s}while(Xt(e.doc,n)!=n){if(i==(r<0?0:o.length-1))return null;n+=r*o[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function Ns(e,t,n){var r=e.display,i=r.view;i.length==0||t>=r.viewTo||n<=r.viewFrom?(r.view=br(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=br(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Ci(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(br(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Ci(e,n)))),r.viewTo=n}function Cs(e){var t=e.display.view,n=0;for(var r=0;r<t.length;r++){var i=t[r];!i.hidden&&(!i.node||i.changes)&&++n}return n}function ks(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,D(Ls,e))}function Ls(e){var t=e.doc;t.frontier<t.first&&(t.frontier=t.first);if(t.frontier>=e.display.viewTo)return;var n=+(new Date)+e.options.workTime,r=Xn(t.mode,Gn(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(s){if(t.frontier>=e.display.viewFrom){var o=s.styles,u=s.text.length>e.options.maxHighlightLength,a=Kn(e,s,u?Xn(t.mode,r):r,!0);s.styles=a.styles;var f=s.styleClasses,l=a.classes;l?s.styleClasses=l:f&&(s.styleClasses=null);var c=!o||o.length!=s.styles.length||f!=l&&(!f||!l||f.bgClass!=l.bgClass||f.textClass!=l.textClass);for(var h=0;!c&&h<o.length;++h)c=o[h]!=s.styles[h];c&&i.push(t.frontier),s.stateAfter=u?r:Xn(t.mode,r)}else s.text.length<=e.options.maxHighlightLength&&Yn(e,s.text,r),s.stateAfter=t.frontier%5==0?Xn(t.mode,r):null;++t.frontier;if(+(new Date)>n)return ks(e,e.options.workDelay),!0}),i.length&&gs(e,function(){for(var t=0;t<i.length;t++)Ss(e,i[t],"text")})}function Os(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Wr(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Wr(e)+"px",t.scrollbarsClipped=!0)}function Ms(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return xs(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&Cs(e)==0)return!1;ji(e)&&(xs(e),t.dims=Ei(e));var i=r.first+r.size,s=Math.max(t.visible.from-e.options.viewportMargin,r.first),o=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<s&&s-n.viewFrom<20&&(s=Math.max(r.first,n.viewFrom)),n.viewTo>o&&n.viewTo-o<20&&(o=Math.min(i,n.viewTo)),St&&(s=Xt(e.doc,s),o=Vt(e.doc,o));var u=s!=n.viewFrom||o!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Ns(e,s,o),n.viewOffset=Kt(it(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var a=Cs(e);if(!u&&a==0&&!t.force&&n.renderedView==n.view&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo))return!1;var f=A();return a>4&&(n.lineDiv.style.display="none"),Ps(e,n.updateLineNumbers,t.dims),a>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,f&&A()!=f&&f.offsetHeight&&f.focus(),T(n.cursorDiv),T(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,u&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ks(e,400)),n.updateLineNumbers=null,!0}function _s(e,t){var n=t.viewport;for(var r=!0;;r=!1){if(!r||!e.options.lineWrapping||t.oldDisplayWidth==Xr(e)){n&&n.top!=null&&(n={top:Math.min(e.doc.height+Ur(e.display)-Vr(e),n.top)}),t.visible=qi(e.display,e.doc,n);if(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break}if(!Ms(e,t))break;Fi(e);var i=Ji(e);ki(e),Gi(e,i),Bs(e,i)}t.signal(e,"update",e);if(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo}function Ds(e,t){var n=new As(e,t);if(Ms(e,n)){Fi(e),_s(e,n);var r=Ji(e);ki(e),Gi(e,r),Bs(e,r),n.finish()}}function Ps(e,t,n){function a(t){var n=t.nextSibling;return u&&m&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}var r=e.display,i=e.options.lineNumbers,s=r.lineDiv,o=s.firstChild,f=r.view,l=r.viewFrom;for(var c=0;c<f.length;c++){var h=f[c];if(!h.hidden)if(!h.node||h.node.parentNode!=s){var p=Hr(e,h,l,n);s.insertBefore(p,o)}else{while(o!=h.node)o=a(o);var d=i&&t!=null&&t<=l&&h.lineNumber;h.changes&&(j(h.changes,"gutter")>-1&&(d=!1),kr(e,h,l,n)),d&&(T(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(ct(e.options,l)))),o=h.node.nextSibling}l+=h.size}while(o)o=a(o)}function Hs(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Bs(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Wr(e)+"px"}function js(e){var t=e.display.gutters,n=e.options.gutters;T(t);var r=0;for(;r<n.length;++r){var i=n[r],s=t.appendChild(C("div",null,"CodeMirror-gutter "+i));i=="CodeMirror-linenumbers"&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",Hs(e)}function Fs(e){var t=j(e.gutters,"CodeMirror-linenumbers");t==-1&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function Is(e,t){this.ranges=e,this.primIndex=t}function qs(e,t){this.anchor=e,this.head=t}function Rs(e,t){var n=e[t];e.sort(function(e,t){return pt(e.from(),t.from())}),t=j(e,n);for(var r=1;r<e.length;r++){var i=e[r],s=e[r-1];if(pt(s.to(),i.from())>=0){var o=mt(s.from(),i.from()),u=vt(s.to(),i.to()),a=s.empty()?i.from()==i.head:s.from()==s.head;r<=t&&--t,e.splice(--r,2,new qs(a?u:o,a?o:u))}}return new Is(e,t)}function Us(e,t){return new Is([new qs(e,t||e)],0)}function zs(e){return e.text?ht(e.from.line+e.text.length-1,V(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function Ws(e,t){if(pt(e,t.from)<0)return e;if(pt(e,t.to)<=0)return zs(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=zs(t).ch-t.to.ch),ht(n,r)}function Xs(e,t){var n=[];for(var r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new qs(Ws(i.anchor,t),Ws(i.head,t)))}return Rs(n,e.sel.primIndex)}function Vs(e,t,n){return e.line==t.line?ht(n.line,e.ch-t.ch+n.ch):ht(n.line+(e.line-t.line),e.ch)}function $s(e,t,n){var r=[],i=ht(e.first,0),s=i;for(var o=0;o<t.length;o++){var u=t[o],a=Vs(u.from,i,s),f=Vs(zs(u),i,s);i=u.to,s=f;if(n=="around"){var l=e.sel.ranges[o],c=pt(l.head,l.anchor)<0;r[o]=new qs(c?f:a,c?a:f)}else r[o]=new qs(a,a)}return new Is(r,e.sel.primIndex)}function Js(e){e.doc.mode=Un(e.options,e.doc.modeOption),Ks(e)}function Ks(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,ks(e,100),e.state.modeGen++,e.curOp&&Es(e)}function Qs(e,t){return t.from.ch==0&&t.to.ch==0&&V(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Gs(e,t,n,r){function i(e){return n?n[e]:null}function s(e,n,i){or(e,n,i,r),Nr(e,"change",e,t)}function o(e,t){var n=[];for(var s=e;s<t;++s)n.push(new sr(f[s],i(s),r));return n}var u=t.from,a=t.to,f=t.text,l=it(e,u.line),c=it(e,a.line),h=V(f),p=i(f.length-1),d=a.line-u.line;if(t.full)e.insert(0,o(0,f.length)),e.remove(f.length,e.size-f.length);else if(Qs(e,t)){var v=o(0,f.length-1);s(c,c.text,p),d&&e.remove(u.line,d),v.length&&e.insert(u.line,v)}else if(l==c)if(f.length==1)s(l,l.text.slice(0,u.ch)+h+l.text.slice(a.ch),p);else{var m=o(1,f.length-1);m.push(new sr(h+l.text.slice(a.ch),p,r)),s(l,l.text.slice(0,u.ch)+f[0],i(0)),e.insert(u.line+1,m)}else if(f.length==1)s(l,l.text.slice(0,u.ch)+f[0]+c.text.slice(a.ch),i(0)),e.remove(u.line+1,d);else{s(l,l.text.slice(0,u.ch)+f[0],i(0)),s(c,h+c.text.slice(a.ch),p);var g=o(1,f.length-1);d>1&&e.remove(u.line+1,d-1),e.insert(u.line+1,g)}Nr(e,"change",e,t)}function Ys(e,t,n){function r(e,i,s){if(e.linked)for(var o=0;o<e.linked.length;++o){var u=e.linked[o];if(u.doc==i)continue;var a=s&&u.sharedHist;if(n&&!a)continue;t(u.doc,a),r(u.doc,e,a)}}r(e,null,!0)}function Zs(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Ti(e),Js(e),e.options.lineWrapping||Gt(e),e.options.mode=t.modeOption,Es(e)}function eo(e){this.done=[],this.undone=[],this.undoDepth=Infinity,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function to(e,t){var n={from:dt(t.from),to:zs(t),text:st(e,t.from,t.to)};return ao(e,n,t.from.line,t.to.line+1),Ys(e,function(e){return ao(e,n,t.from.line,t.to.line+1)},!0),n}function no(e){while(e.length){var t=V(e);if(!t.ranges)break;e.pop()}}function ro(e,t){if(t)return no(e.done),V(e.done);if(e.done.length&&!V(e.done).ranges)return V(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),V(e.done)}function io(e,t,n,r){var i=e.history;i.undone.length=0;var s=+(new Date),o,u;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||t.origin.charAt(0)=="*"))&&(o=ro(i,i.lastOp==r)))u=V(o.changes),pt(t.from,t.to)==0&&pt(t.from,u.to)==0?u.to=zs(t):o.changes.push(to(e,t));else{var a=V(i.done);(!a||!a.ranges)&&uo(e.sel,i.done),o={changes:[to(e,t)],generation:i.generation},i.done.push(o);while(i.done.length>i.undoDepth)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,u||mn(e,"historyAdded")}function so(e,t,n,r){var i=t.charAt(0);return i=="*"||i=="+"&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function oo(e,t,n,r){var i=e.history,s=r&&r.origin;n==i.lastSelOp||s&&i.lastSelOrigin==s&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==s||so(e,s,V(i.done),t))?i.done[i.done.length-1]=t:uo(t,i.done),i.lastSelTime=+(new Date),i.lastSelOrigin=s,i.lastSelOp=n,r&&r.clearRedo!==!1&&no(i.undone)}function uo(e,t){var n=V(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ao(e,t,n,r){var i=t["spans_"+e.id],s=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[s]=n.markedSpans),++s})}function fo(e){if(!e)return null;var t;for(var n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function lo(e,t){var n=t["spans_"+e.id];if(!n)return null;var r=[];for(var i=0;i<t.text.length;++i)r.push(fo(n[i]));return r}function co(e,t){var n=lo(e,t),r=Mt(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var s=n[i],o=r[i];if(s&&o)e:for(var u=0;u<o.length;++u){var a=o[u];for(var f=0;f<s.length;++f)if(s[f].marker==a.marker)continue e;s.push(a)}else o&&(n[i]=o)}return n}function ho(e,t,n){var r=[];for(var i=0;i<e.length;++i){var s=e[i];if(s.ranges){r.push(n?Is.prototype.deepCopy.call(s):s);continue}var o=s.changes,u=[];r.push({changes:u});for(var a=0;a<o.length;++a){var f=o[a],l=void 0;u.push({from:f.from,to:f.to,text:f.text});if(t)for(var c in f)(l=c.match(/^spans_(\d+)$/))&&j(t,Number(l[1]))>-1&&(V(u)[c]=f[c],delete f[c])}}return r}function po(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(r){var s=pt(n,i)<0;s!=pt(r,i)<0?(i=n,n=r):s!=pt(n,r)<0&&(n=r)}return new qs(i,n)}return new qs(r||n,n)}function vo(e,t,n,r){Eo(e,new Is([po(e,e.sel.primary(),t,n)],0),r)}function mo(e,t,n){var r=[];for(var i=0;i<e.sel.ranges.length;i++)r[i]=po(e,e.sel.ranges[i],t[i],null);var s=Rs(r,e.sel.primIndex);Eo(e,s,n)}function go(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Eo(e,Rs(i,e.sel.primIndex),r)}function yo(e,t,n,r){Eo(e,Us(t,n),r)}function bo(e,t,n){var r={ranges:t.ranges,update:function(t){var n=this;this.ranges=[];for(var r=0;r<t.length;r++)n.ranges[r]=new qs(yt(e,t[r].anchor),yt(e,t[r].head))},origin:n&&n.origin};return mn(e,"beforeSelectionChange",e,r),e.cm&&mn(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Rs(r.ranges,r.ranges.length-1):t}function wo(e,t,n){var r=e.history.done,i=V(r);i&&i.ranges?(r[r.length-1]=t,So(e,t,n)):Eo(e,t,n)}function Eo(e,t,n){So(e,t,n),oo(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function So(e,t,n){if(bn(e,"beforeSelectionChange")||e.cm&&bn(e.cm,"beforeSelectionChange"))t=bo(e,t,n);var r=n&&n.bias||(pt(t.primary().head,e.sel.primary().head)<0?-1:1);xo(e,No(e,t,r,!0)),(!n||n.scroll!==!1)&&e.cm&&os(e.cm)}function xo(e,t){if(t.equals(e.sel))return;e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,yn(e.cm)),Nr(e,"cursorActivity",e)}function To(e){xo(e,No(e,e.sel,null,!1),q)}function No(e,t,n,r){var i;for(var s=0;s<t.ranges.length;s++){var o=t.ranges[s],u=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[s],a=ko(e,o.anchor,u&&u.anchor,n,r),f=ko(e,o.head,u&&u.head,n,r);if(i||a!=o.anchor||f!=o.head)i||(i=t.ranges.slice(0,s)),i[s]=new qs(a,f)}return i?Rs(i,t.primIndex):t}function Co(e,t,n,r,i){var s=it(e,t.line);if(s.markedSpans)for(var o=0;o<s.markedSpans.length;++o){var u=s.markedSpans[o],a=u.marker;if((u.from==null||(a.inclusiveLeft?u.from<=t.ch:u.from<t.ch))&&(u.to==null||(a.inclusiveRight?u.to>=t.ch:u.to>t.ch))){if(i){mn(a,"beforeCursorEnter");if(a.explicitlyCleared){if(!s.markedSpans)break;--o;continue}}if(!a.atomic)continue;if(n){var f=a.find(r<0?1:-1),l=void 0;if(r<0?a.inclusiveRight:a.inclusiveLeft)f=Lo(e,f,-r,f&&f.line==t.line?s:null);if(f&&f.line==t.line&&(l=pt(f,n))&&(r<0?l<0:l>0))return Co(e,f,t,r,i)}var c=a.find(r<0?-1:1);if(r<0?a.inclusiveLeft:a.inclusiveRight)c=Lo(e,c,r,c.line==t.line?s:null);return c?Co(e,c,t,r,i):null}}return t}function ko(e,t,n,r,i){var s=r||1,o=Co(e,t,n,s,i)||!i&&Co(e,t,n,s,!0)||Co(e,t,n,-s,i)||!i&&Co(e,t,n,-s,!0);return o?o:(e.cantEdit=!0,ht(e.first,0))}function Lo(e,t,n,r){return n<0&&t.ch==0?t.line>e.first?yt(e,ht(t.line-1)):null:n>0&&t.ch==(r||it(e,t.line)).text.length?t.line<e.first+e.size-1?ht(t.line+1,0):null:new ht(t.line,t.ch+n)}function Ao(e){e.setSelection(ht(e.firstLine(),0),ht(e.lastLine()),q)}function Oo(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,s){t&&(r.from=yt(e,t)),n&&(r.to=yt(e,n)),i&&(r.text=i),s!==undefined&&(r.origin=s)}),mn(e,"beforeChange",e,r),e.cm&&mn(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Mo(e,t,n){if(e.cm){if(!e.cm.curOp)return ys(e.cm,Mo)(e,t,n);if(e.cm.state.suppressEdits)return}if(bn(e,"beforeChange")||e.cm&&bn(e.cm,"beforeChange")){t=Oo(e,t,!0);if(!t)return}var r=Et&&!n&&Dt(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)_o(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else _o(e,t)}function _o(e,t){if(t.text.length==1&&t.text[0]==""&&pt(t.from,t.to)==0)return;var n=Xs(e,t);io(e,t,n,e.cm?e.cm.curOp.id:NaN),Ho(e,t,n,Mt(e,t));var r=[];Ys(e,function(e,n){!n&&j(r,e.history)==-1&&(qo(e.history,t),r.push(e.history)),Ho(e,t,null,Mt(e,t))})}function Do(e,t,n){if(e.cm&&e.cm.state.suppressEdits&&!n)return;var r=e.history,i,s=e.sel,o=t=="undo"?r.done:r.undone,u=t=="undo"?r.undone:r.done,a=0;for(;a<o.length;a++){i=o[a];if(n?i.ranges&&!i.equals(e.sel):!i.ranges)break}if(a==o.length)return;r.lastOrigin=r.lastSelOrigin=null;for(;;){i=o.pop();if(!i.ranges)break;uo(i,u);if(n&&!i.equals(e.sel)){Eo(e,i,{clearRedo:!1});return}s=i}var f=[];uo(s,u),u.push({changes:f,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;var l=bn(e,"beforeChange")||e.cm&&bn(e.cm,"beforeChange"),c=function(n){var r=i.changes[n];r.origin=t;if(l&&!Oo(e,r,!1))return o.length=0,{};f.push(to(e,r));var s=n?Xs(e,r):V(o);Ho(e,r,s,co(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:zs(r)});var u=[];Ys(e,function(e,t){!t&&j(u,e.history)==-1&&(qo(e.history,r),u.push(e.history)),Ho(e,r,null,co(e,r))})};for(var h=i.changes.length-1;h>=0;--h){var p=c(h);if(p)return p.v}}function Po(e,t){if(t==0)return;e.first+=t,e.sel=new Is($(e.sel.ranges,function(e){return new qs(ht(e.anchor.line+t,e.anchor.ch),ht(e.head.line+t,e.head.ch))}),e.sel.primIndex);if(e.cm){Es(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Ss(e.cm,r,"gutter")}}function Ho(e,t,n,r){if(e.cm&&!e.cm.curOp)return ys(e.cm,Ho)(e,t,n,r);if(t.to.line<e.first){Po(e,t.text.length-1-(t.to.line-t.from.line));return}if(t.from.line>e.lastLine())return;if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Po(e,i),t={from:ht(e.first,0),to:ht(t.to.line+i,t.to.ch),text:[V(t.text)],origin:t.origin}}var s=e.lastLine();t.to.line>s&&(t={from:t.from,to:ht(s,it(e,s).text.length),text:[t.text[0]],origin:t.origin}),t.removed=st(e,t.from,t.to),n||(n=Xs(e,t)),e.cm?Bo(e.cm,t,r):Gs(e,t,r),So(e,n,q)}function Bo(e,t,n){var r=e.doc,i=e.display,s=t.from,o=t.to,u=!1,a=s.line;e.options.lineWrapping||(a=at(zt(it(r,s.line))),r.iter(a,o.line+1,function(e){if(e==i.maxLine)return u=!0,!0})),r.sel.contains(t.from,t.to)>-1&&yn(e),Gs(r,t,n,xi(e)),e.options.lineWrapping||(r.iter(a,s.line+t.text.length,function(e){var t=Qt(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,u=!1)}),u&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,s.line),ks(e,400);var f=t.text.length-(o.line-s.line)-1;t.full?Es(e):s.line==o.line&&t.text.length==1&&!Qs(e.doc,t)?Ss(e,s.line,"text"):Es(e,s.line,o.line+1,f);var l=bn(e,"changes"),c=bn(e,"change");if(c||l){var h={from:s,to:o,text:t.text,removed:t.removed,origin:t.origin};c&&Nr(e,"change",e,h),l&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function jo(e,t,n,r,i){r||(r=n);if(pt(r,n)<0){var s=r;r=n,n=s}typeof t=="string"&&(t=e.splitLines(t)),Mo(e,{from:n,to:r,text:t,origin:i})}function Fo(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Io(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i],o=!0;if(s.ranges){s.copied||(s=e[i]=s.deepCopy(),s.copied=!0);for(var u=0;u<s.ranges.length;u++)Fo(s.ranges[u].anchor,t,n,r),Fo(s.ranges[u].head,t,n,r);continue}for(var a=0;a<s.changes.length;++a){var f=s.changes[a];if(n<f.from.line)f.from=ht(f.from.line+r,f.from.ch),f.to=ht(f.to.line+r,f.to.ch);else if(t<=f.to.line){o=!1;break}}o||(e.splice(0,i+1),i=0)}}function qo(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;Io(e.done,n,r,i),Io(e.undone,n,r,i)}function Ro(e,t,n,r){var i=t,s=t;return typeof t=="number"?s=it(e,gt(e,t)):i=at(t),i==null?null:(r(s,i)&&e.cm&&Ss(e.cm,i,n),s)}function Uo(e){var t=this;this.lines=e,this.parent=null;var n=0;for(var r=0;r<e.length;++r)e[r].parent=t,n+=e[r].height;this.height=n}function zo(e){var t=this;this.children=e;var n=0,r=0;for(var i=0;i<e.length;++i){var s=e[i];n+=s.chunkSize(),r+=s.height,s.parent=t}this.size=n,this.height=r,this.parent=null}function Wo(e,t,n){var r=this;if(n)for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);this.doc=e,this.node=t}function Xo(e,t,n){Kt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&ss(e,null,n)}function Vo(e,t,n,r){var i=new Wo(e,n,r),s=e.cm;return s&&i.noHScroll&&(s.display.alignWidgets=!0),Ro(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);i.insertAt==null?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t;if(s&&!$t(e,t)){var r=Kt(t)<e.scrollTop;ut(t,t.height+Ir(i)),r&&ss(s,null,i.height),s.curOp.forceUpdate=!0}return!0}),i}function Jo(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++$o}function Ko(e,t,n,r,i){if(r&&r.shared)return Go(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return ys(e.cm,Ko)(e,t,n,r,i);var s=new Jo(e,i),o=pt(t,n);r&&P(r,s,!1);if(o>0||o==0&&s.clearWhenEmpty!==!1)return s;s.replacedWith&&(s.collapsed=!0,s.widgetNode=C("span",[s.replacedWith],"CodeMirror-widget"),s.widgetNode.setAttribute("role","presentation"),r.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(s.widgetNode.insertLeft=!0));if(s.collapsed){if(Ut(e,t.line,t,n,s)||t.line!=n.line&&Ut(e,n.line,t,n,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");Tt()}s.addToHistory&&io(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var u=t.line,a=e.cm,f;e.iter(u,n.line+1,function(e){a&&s.collapsed&&!a.options.lineWrapping&&zt(e)==a.display.maxLine&&(f=!0),s.collapsed&&u!=t.line&&ut(e,0),Lt(e,new Nt(s,u==t.line?t.ch:null,u==n.line?n.ch:null)),++u}),s.collapsed&&e.iter(t.line,n.line+1,function(t){$t(e,t)&&ut(t,0)}),s.clearOnEnter&&pn(s,"beforeCursorEnter",function(){return s.clear()}),s.readOnly&&(xt(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),s.collapsed&&(s.id=++$o,s.atomic=!0);if(a){f&&(a.curOp.updateMaxLine=!0);if(s.collapsed)Es(a,t.line,n.line+1);else if(s.className||s.title||s.startStyle||s.endStyle||s.css)for(var l=t.line;l<=n.line;l++)Ss(a,l,"text");s.atomic&&To(a.doc),Nr(a,"markerAdded",a,s)}return s}function Qo(e,t){var n=this;this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=n}function Go(e,t,n,r,i){r=P(r),r.shared=!1;var s=[Ko(e,t,n,r,i)],o=s[0],u=r.widgetNode;return Ys(e,function(e){u&&(r.widgetNode=u.cloneNode(!0)),s.push(Ko(e,yt(e,t),yt(e,n),r,i));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;o=V(s)}),new Qo(s,o)}function Yo(e){return e.findMarks(ht(e.first,0),e.clipPos(ht(e.lastLine())),function(e){return e.parent})}function Zo(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),s=e.clipPos(i.from),o=e.clipPos(i.to);if(pt(s,o)){var u=Ko(e,s,o,r.primary,r.primary.type);r.markers.push(u),u.parent=r}}}function eu(e){var t=function(t){var n=e[t],r=[n.primary.doc];Ys(n.primary.doc,function(e){return r.push(e)});for(var i=0;i<n.markers.length;i++){var s=n.markers[i];j(r,s.doc)==-1&&(s.parent=null,n.markers.splice(i--,1))}};for(var n=0;n<e.length;n++)t(n)}function iu(e){var t=this;uu(t);if(gn(t,e)||qr(t.display,e))return;En(e),s&&(ru=+(new Date));var n=Ni(t,e,!0),r=e.dataTransfer.files;if(!n||t.isReadOnly())return;if(r&&r.length&&window.FileReader&&window.File){var i=r.length,o=Array(i),u=0,a=function(e,r){if(t.options.allowDropFileTypes&&j(t.options.allowDropFileTypes,e.type)==-1)return;var s=new FileReader;s.onload=ys(t,function(){var e=s.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e;if(++u==i){n=yt(t.doc,n);var a={from:n,to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Mo(t.doc,a),wo(t.doc,Us(n,zs(a)))}}),s.readAsText(e)};for(var f=0;f<i;++f)a(r[f],f)}else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1){t.state.draggingText(e),setTimeout(function(){return t.display.input.focus()},20);return}try{var l=e.dataTransfer.getData("Text");if(l){var c;t.state.draggingText&&!t.state.draggingText.copy&&(c=t.listSelections()),So(t.doc,Us(n,n));if(c)for(var h=0;h<c.length;++h)jo(t.doc,"",c[h].anchor,c[h].head,"drag");t.replaceSelection(l,"around","paste"),t.display.input.focus()}}catch(e){}}}function su(e,t){if(s&&(!e.state.draggingText||+(new Date)-ru<100)){Tn(t);return}if(gn(e,t)||qr(e.display,t))return;t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove";if(t.dataTransfer.setDragImage&&!c){var n=C("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",l&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),l&&n.parentNode.removeChild(n)}}function ou(e,t){var n=Ni(e,t);if(!n)return;var r=document.createDocumentFragment();Ai(e,n,r),e.display.dragCursor||(e.display.dragCursor=C("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),N(e.display.dragCursor,r)}function uu(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function au(e){if(!document.body.getElementsByClassName)return;var t=document.body.getElementsByClassName("CodeMirror");for(var n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function lu(){if(fu)return;cu(),fu=!0}function cu(){var e;pn(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,au(hu)},100))}),pn(window,"blur",function(){return au(Hi)})}function hu(e){var t=e.display;if(t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth)return;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}function yu(e){var t=e.split(/-(?!$)/);e=t[t.length-1];var n,r,i,s;for(var o=0;o<t.length-1;o++){var u=t[o];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))n=!0;else if(/^(c|ctrl|control)$/i.test(u))r=!0;else{if(!/^s(hift)?$/i.test(u))throw new Error("Unrecognized modifier name: "+u);i=!0}}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),s&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function bu(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if(r=="..."){delete e[n];continue}var i=$(n.split(" "),yu);for(var s=0;s<i.length;s++){var o=void 0,u=void 0;s==i.length-1?(u=i.join(" "),o=r):(u=i.slice(0,s+1).join(" "),o="...");var a=t[u];if(!a)t[u]=o;else if(a!=o)throw new Error("Inconsistent bindings for "+u)}delete e[n]}for(var f in t)e[f]=t[f];return e}function wu(e,t,n,r){t=xu(t);var i=t.call?t.call(e,r):t[e];if(i===!1)return"nothing";if(i==="...")return"multi";if(i!=null&&n(i))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return wu(e,t.fallthrough,n,r);for(var s=0;s<t.fallthrough.length;s++){var o=wu(e,t.fallthrough[s],n,r);if(o)return o}}}function Eu(e){var t=typeof e=="string"?e:pu[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function Su(e,t){if(l&&e.keyCode==34&&e["char"])return!1;var n=pu[e.keyCode],r=n;return r==null||e.altGraphKey?!1:(e.altKey&&n!="Alt"&&(r="Alt-"+r),(w?e.metaKey:e.ctrlKey)&&n!="Ctrl"&&(r="Ctrl-"+r),(w?e.ctrlKey:e.metaKey)&&n!="Cmd"&&(r="Cmd-"+r),!t&&e.shiftKey&&n!="Shift"&&(r="Shift-"+r),r)}function xu(e){return typeof e=="string"?gu[e]:e}function Tu(e,t){var n=e.doc.sel.ranges,r=[];for(var i=0;i<n.length;i++){var s=t(n[i]);while(r.length&&pt(s.from,V(r).to)<=0){var o=r.pop();if(pt(o.from,s.from)<0){s.from=o.from;break}}r.push(s)}gs(e,function(){for(var t=r.length-1;t>=0;t--)jo(e.doc,"",r[t].from,r[t].to,"+delete");os(e)})}function Cu(e,t){var n=it(e.doc,t),r=zt(n);r!=n&&(t=at(r));var i=cn(r),s=i?i[0].level%2?nn(r):tn(r):0;return ht(t,s)}function ku(e,t){var n,r=it(e.doc,t);while(n=Rt(r))r=n.find(1,!0).line,t=null;var i=cn(r),s=i?i[0].level%2?tn(r):nn(r):r.text.length;return ht(t==null?at(r):t,s)}function Lu(e,t){var n=Cu(e,t.line),r=it(e.doc,n.line),i=cn(r);if(!i||i[0].level==0){var s=Math.max(0,r.text.search(/\S/)),o=t.line==n.line&&t.ch<=s&&t.ch;return ht(n.line,o?0:s)}return n}function Au(e,t,n){if(typeof t=="string"){t=Nu[t];if(!t)return!1}e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=I}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function Ou(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=wu(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&wu(t,e.options.extraKeys,n,e)||wu(t,e.options.keyMap,n,e)}function _u(e,t,n,r){var i=e.state.keySeq;if(i){if(Eu(t))return"handled";Mu.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var s=Ou(e,t,r);s=="multi"&&(e.state.keySeq=t),s=="handled"&&Nr(e,"keyHandled",e,t,n);if(s=="handled"||s=="multi")En(n),Mi(e);return i&&!s&&/\'$/.test(t)?(En(n),!0):!!s}function Du(e,t){var n=Su(t,!0);return n?t.shiftKey&&!e.state.keySeq?_u(e,"Shift-"+n,t,function(t){return Au(e,t,!0)})||_u(e,n,t,function(t){if(typeof t=="string"?/^go[A-Z]/.test(t):t.motion)return Au(e,t)}):_u(e,n,t,function(t){return Au(e,t)}):!1}function Pu(e,t,n){return _u(e,"'"+n+"'",t,function(t){return Au(e,t,!0)})}function Bu(e){var t=this;t.curOp.focus=A();if(gn(t,e))return;s&&o<11&&e.keyCode==27&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=n==16||e.shiftKey;var r=Du(t,e);l&&(Hu=r?n:null,!r&&n==88&&!Pn&&(m?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),n==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)&&ju(t)}function ju(e){function n(e){if(e.keyCode==18||!e.altKey)x(t,"CodeMirror-crosshair"),vn(document,"keyup",n),vn(document,"mouseover",n)}var t=e.display.lineDiv;O(t,"CodeMirror-crosshair"),pn(document,"keyup",n),pn(document,"mouseover",n)}function Fu(e){e.keyCode==16&&(this.doc.sel.shift=!1),gn(this,e)}function Iu(e){var t=this;if(qr(t.display,e)||gn(t,e)||e.ctrlKey&&!e.altKey||m&&e.metaKey)return;var n=e.keyCode,r=e.charCode;if(l&&n==Hu){Hu=null,En(e);return}if(l&&(!e.which||e.which<10)&&Du(t,e))return;var i=String.fromCharCode(r==null?n:r);if(i=="\b")return;if(Pu(t,e,i))return;t.display.input.onKeyPress(e)}function qu(e){var t=this,n=t.display;if(gn(t,e)||n.activeTouch&&n.input.supportsTouch())return;n.input.ensurePolled(),n.shift=e.shiftKey;if(qr(n,e)){u||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));return}if($u(t,e))return;var r=Ni(t,e);window.focus();switch(Cn(e)){case 1:t.state.selectingText?t.state.selectingText(e):r?zu(t,e,r):Nn(e)==n.scroller&&En(e);break;case 2:u&&(t.state.lastMiddleDown=+(new Date)),r&&vo(t.doc,r),setTimeout(function(){return n.input.focus()},20),En(e);break;case 3:E?Ju(t,e):Di(t)}}function zu(e,t,n){s?setTimeout(D(_i,e),0):e.curOp.focus=A();var r=+(new Date),i;Uu&&Uu.time>r-400&&pt(Uu.pos,n)==0?i="triple":Ru&&Ru.time>r-400&&pt(Ru.pos,n)==0?(i="double",Uu={time:r,pos:n}):(i="single",Ru={time:r,pos:n});var o=e.doc.sel,u=m?t.metaKey:t.ctrlKey,a;e.options.dragDrop&&kn&&!e.isReadOnly()&&i=="single"&&(a=o.contains(n))>-1&&(pt((a=o.ranges[a]).from(),n)<0||n.xRel>0)&&(pt(a.to(),n)>0||n.xRel<0)?Wu(e,t,n,u):Xu(e,t,n,i,u)}function Wu(e,t,n,r){var i=e.display,a=+(new Date),f=ys(e,function(l){u&&(i.scroller.draggable=!1),e.state.draggingText=!1,vn(document,"mouseup",f),vn(i.scroller,"drop",f),Math.abs(t.clientX-l.clientX)+Math.abs(t.clientY-l.clientY)<10&&(En(l),!r&&+(new Date)-200<a&&vo(e.doc,n),u||s&&o==9?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});u&&(i.scroller.draggable=!0),e.state.draggingText=f,f.copy=m?t.altKey:t.ctrlKey,i.scroller.dragDrop&&i.scroller.dragDrop(),pn(document,"mouseup",f),pn(i.scroller,"drop",f)}function Xu(e,t,n,r,i){function d(t){if(pt(p,t)==0)return;p=t;if(r=="rect"){var i=[],s=e.options.tabSize,l=H(it(o,n.line).text,n.ch,s),c=H(it(o,t.line).text,t.ch,s),h=Math.min(l,c),d=Math.max(l,c);for(var v=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));v<=m;v++){var g=it(o,v).text,y=z(g,h,s);h==d?i.push(new qs(ht(v,y),ht(v,y))):g.length>y&&i.push(new qs(ht(v,y),ht(v,z(g,d,s))))}i.length||i.push(new qs(n,n)),Eo(o,Rs(f.ranges.slice(0,a).concat(i),a),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=u,w=b.anchor,E=t;if(r!="single"){var S;r=="double"?S=e.findWordAt(t):S=new qs(ht(t.line,0),yt(o,ht(t.line+1,0))),pt(S.anchor,w)>0?(E=S.head,w=mt(b.from(),S.anchor)):(E=S.anchor,w=vt(b.to(),S.head))}var x=f.ranges.slice(0);x[a]=new qs(yt(o,w),E),Eo(o,Rs(x,a),R)}}function y(t){var n=++m,i=Ni(e,t,!0,r=="rect");if(!i)return;if(pt(i,p)!=0){e.curOp.focus=A(),d(i);var u=qi(s,o);(i.line>=u.to||i.line<u.from)&&setTimeout(ys(e,function(){m==n&&y(t)}),150)}else{var a=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;a&&setTimeout(ys(e,function(){if(m!=n)return;s.scroller.scrollTop+=a,y(t)}),50)}}function b(t){e.state.selectingText=!1,m=Infinity,En(t),s.input.focus(),vn(document,"mousemove",w),vn(document,"mouseup",E),o.history.lastSelOrigin=null}var s=e.display,o=e.doc;En(t);var u,a,f=o.sel,l=f.ranges;i&&!t.shiftKey?(a=o.sel.contains(n),a>-1?u=l[a]:u=new qs(n,n)):(u=o.sel.primary(),a=o.sel.primIndex);if(g?t.shiftKey&&t.metaKey:t.altKey)r="rect",i||(u=new qs(n,n)),n=Ni(e,t,!0,!0),a=-1;else if(r=="double"){var c=e.findWordAt(n);e.display.shift||o.extend?u=po(o,u,c.anchor,c.head):u=c}else if(r=="triple"){var h=new qs(ht(n.line,0),yt(o,ht(n.line+1,0)));e.display.shift||o.extend?u=po(o,u,h.anchor,h.head):u=h}else u=po(o,u,n);i?a==-1?(a=l.length,Eo(o,Rs(l.concat([u]),a),{scroll:!1,origin:"*mouse"})):l.length>1&&l[a].empty()&&r=="single"&&!t.shiftKey?(Eo(o,Rs(l.slice(0,a).concat(l.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),f=o.sel):go(o,a,u,R):(a=0,Eo(o,new Is([u],0),R),f=o.sel);var p=n,v=s.wrapper.getBoundingClientRect(),m=0,w=ys(e,function(e){Cn(e)?y(e):b(e)}),E=ys(e,b);e.state.selectingText=E,pn(document,"mousemove",w),pn(document,"mouseup",E)}function Vu(e,t,n,r){var i,s;try{i=t.clientX,s=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&En(t);var o=e.display,u=o.lineDiv.getBoundingClientRect();if(s>u.bottom||!bn(e,n))return xn(t);s-=u.top-o.viewOffset;for(var a=0;a<e.options.gutters.length;++a){var f=o.gutters.childNodes[a];if(f&&f.getBoundingClientRect().right>=i){var l=ft(e.doc,s),c=e.options.gutters[a];return mn(e,n,e,l,c,t),xn(t)}}}function $u(e,t){return Vu(e,t,"gutterClick",!0)}function Ju(e,t){if(qr(e.display,t)||Ku(e,t))return;if(gn(e,t,"contextmenu"))return;e.display.input.onContextMenu(t)}function Ku(e,t){return bn(e,"gutterContextMenu")?Vu(e,t,"gutterContextMenu",!1):!1}function Qu(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ui(e)}function ea(e){function n(n,r,i,s){e.defaults[n]=r,i&&(t[n]=s?function(e,t,n){n!=Gu&&i(e,t,n)}:i)}var t=e.optionHandlers;e.defineOption=n,e.Init=Gu,n("value","",function(e,t){return e.setValue(t)},!0),n("mode",null,function(e,t){e.doc.modeOption=t,Js(e)},!0),n("indentUnit",2,Js,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(e){Ks(e),ui(e),Es(e)},!0),n("lineSeparator",null,function(e,t){e.doc.lineSep=t;if(!t)return;var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var s=e.text.indexOf(t,i);if(s==-1)break;i=s+t.length,n.push(ht(r,s))}r++});for(var i=n.length-1;i>=0;i--)jo(e.doc,t,n[i],ht(n[i].line,n[i].ch+t.length))}),n("specialChars",/[\u0000-\u001f\u007f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("	")?"":"|	"),"g"),n!=Gu&&e.refresh()}),n("specialCharPlaceholder",hr,function(e){return e.refresh()},!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),n("rtlMoveVisually",!y),n("wholeLineUpdateBefore",!0),n("theme","default",function(e){Qu(e),ta(e)},!0),n("keyMap","default",function(e,t,n){var r=xu(t),i=n!=Gu&&xu(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),n("extraKeys",null),n("lineWrapping",!1,ra,!0),n("gutters",[],function(e){Fs(e.options),ta(e)},!0),n("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?Si(e.display)+"px":"0",e.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(e){return Gi(e)},!0),n("scrollbarStyle","native",function(e){es(e),Gi(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),n("lineNumbers",!1,function(e){Fs(e.options),ta(e)},!0),n("firstLineNumber",1,ta,!0),n("lineNumberFormatter",function(e){return e},ta,!0),n("showCursorWhenSelecting",!1,ki,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("readOnly",!1,function(e,t){t=="nocursor"?(Hi(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),n("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),n("dragDrop",!0,na),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,ki,!0),n("singleCursorHeightPerLine",!0,ki,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Ks,!0),n("addModeClass",!1,Ks,!0),n("pollInterval",100),n("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),n("historyEventDelay",1250),n("viewportMargin",10,function(e){return e.refresh()},!0),n("maxHighlightLength",1e4,Ks,!0),n("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),n("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),n("autofocus",null)}function ta(e){js(e),Es(e),Bi(e)}function na(e,t,n){var r=n&&n!=Gu;if(!t!=!r){var i=e.display.dragFunctions,s=t?pn:vn;s(e.display.scroller,"dragstart",i.start),s(e.display.scroller,"dragenter",i.enter),s(e.display.scroller,"dragover",i.over),s(e.display.scroller,"dragleave",i.leave),s(e.display.scroller,"drop",i.drop)}}function ra(e){e.options.lineWrapping?(O(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(x(e.display.wrapper,"CodeMirror-wrap"),Gt(e)),Ti(e),Es(e),ui(e),setTimeout(function(){return Gi(e)},100)}function ia(e,t){var n=this;if(!(this instanceof ia))return new ia(e,t);this.options=t=t?P(t):{},P(Yu,t,!1),Fs(t);var r=t.value;typeof r=="string"&&(r=new nu(r,t.mode,null,t.lineSeparator)),this.doc=r;var i=new ia.inputStyles[t.inputStyle](this),a=this.display=new rt(e,r,i);a.wrapper.CodeMirror=this,js(this),Qu(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),es(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new B,keySeq:null,specialChars:null},t.autofocus&&!v&&a.input.focus(),s&&o<11&&setTimeout(function(){return n.display.input.reset(!0)},20),sa(this),lu(),fs(this),this.curOp.forceUpdate=!0,Zs(this,r),t.autofocus&&!v||this.hasFocus()?setTimeout(D(Pi,this),20):Hi(this);for(var f in Zu)Zu.hasOwnProperty(f)&&Zu[f](n,t[f],Gu);ji(this),t.finishInit&&t.finishInit(this);for(var l=0;l<oa.length;++l)oa[l](n);ls(this),u&&t.lineWrapping&&getComputedStyle(a.lineDiv).textRendering=="optimizelegibility"&&(a.lineDiv.style.textRendering="auto")}function sa(e){function i(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),r=t.activeTouch,r.end=+(new Date))}function u(e){if(e.touches.length!=1)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function a(e,t){if(t.left==null)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var t=e.display;pn(t.scroller,"mousedown",ys(e,qu)),s&&o<11?pn(t.scroller,"dblclick",ys(e,function(t){if(gn(e,t))return;var n=Ni(e,t);if(!n||$u(e,t)||qr(e.display,t))return;En(t);var r=e.findWordAt(n);vo(e.doc,r.anchor,r.head)})):pn(t.scroller,"dblclick",function(t){return gn(e,t)||En(t)}),E||pn(t.scroller,"contextmenu",function(t){return Ju(e,t)});var n,r={end:0};pn(t.scroller,"touchstart",function(i){if(!gn(e,i)&&!u(i)){t.input.ensurePolled(),clearTimeout(n);var s=+(new Date);t.activeTouch={start:s,moved:!1,prev:s-r.end<=300?r:null},i.touches.length==1&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}}),pn(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),pn(t.scroller,"touchend",function(n){var r=t.activeTouch;if(r&&!qr(t,n)&&r.left!=null&&!r.moved&&new Date-r.start<300){var s=e.coordsChar(t.activeTouch,"page"),o;!r.prev||a(r,r.prev)?o=new qs(s,s):!r.prev.prev||a(r,r.prev.prev)?o=e.findWordAt(s):o=new qs(ht(s.line,0),yt(e.doc,ht(s.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),En(n)}i()}),pn(t.scroller,"touchcancel",i),pn(t.scroller,"scroll",function(){t.scroller.clientHeight&&(Ri(e,t.scroller.scrollTop),Ui(e,t.scroller.scrollLeft,!0),mn(e,"scroll",e))}),pn(t.scroller,"mousewheel",function(t){return $i(e,t)}),pn(t.scroller,"DOMMouseScroll",function(t){return $i(e,t)}),pn(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){gn(e,t)||Tn(t)},over:function(t){gn(e,t)||(ou(e,t),Tn(t))},start:function(t){return su(e,t)},drop:ys(e,iu),leave:function(t){gn(e,t)||uu(e)}};var f=t.input.getField();pn(f,"keyup",function(t){return Fu.call(e,t)}),pn(f,"keydown",ys(e,Bu)),pn(f,"keypress",ys(e,Iu)),pn(f,"focus",function(t){return Pi(e,t)}),pn(f,"blur",function(t){return Hi(e,t)})}function ua(e,t,n,r){var i=e.doc,s;n==null&&(n="add"),n=="smart"&&(i.mode.indent?s=Gn(e,t):n="prev");var o=e.options.tabSize,u=it(i,t),a=H(u.text,null,o);u.stateAfter&&(u.stateAfter=null);var f=u.text.match(/^\s*/)[0],l;if(!r&&!/\S/.test(u.text))l=0,n="not";else if(n=="smart"){l=i.mode.indent(s,u.text.slice(f.length),u.text);if(l==I||l>150){if(!r)return;n="prev"}}n=="prev"?t>i.first?l=H(it(i,t-1).text,null,o):l=0:n=="add"?l=a+e.options.indentUnit:n=="subtract"?l=a-e.options.indentUnit:typeof n=="number"&&(l=a+n),l=Math.max(0,l);var c="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(l/o);p;--p)h+=o,c+="	";h<l&&(c+=X(l-h));if(c!=f)return jo(i,c,ht(t,0),ht(t,f.length),"+input"),u.stateAfter=null,!0;for(var d=0;d<i.sel.ranges.length;d++){var v=i.sel.ranges[d];if(v.head.line==t&&v.head.ch<f.length){var m=ht(t,f.length);go(i,d,new qs(m,m));break}}}function fa(e){aa=e}function la(e,t,n,r,i){var s=e.doc;e.display.shift=!1,r||(r=s.sel);var o=e.state.pasteIncoming||i=="paste",u=_n(t),a=null;if(o&&r.ranges.length>1)if(aa&&aa.text.join("\n")==t){if(r.ranges.length%aa.text.length==0){a=[];for(var f=0;f<aa.text.length;f++)a.push(s.splitLines(aa.text[f]))}}else u.length==r.ranges.length&&(a=$(u,function(e){return[e]}));var l;for(var c=r.ranges.length-1;c>=0;c--){var h=r.ranges[c],p=h.from(),d=h.to();h.empty()&&(n&&n>0?p=ht(p.line,p.ch-n):e.state.overwrite&&!o?d=ht(d.line,Math.min(it(s,d.line).text.length,d.ch+V(u).length)):aa&&aa.lineWise&&aa.text.join("\n")==t&&(p=d=ht(p.line,0))),l=e.curOp.updateInput;var v={from:p,to:d,text:a?a[c%a.length]:u,origin:i||(o?"paste":e.state.cutIncoming?"cut":"+input")};Mo(e.doc,v),Nr(e,"inputRead",e,v)}t&&!o&&ha(e,t),os(e),e.curOp.updateInput=l,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function ca(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),!t.isReadOnly()&&!t.options.disableInput&&gs(t,function(){return la(t,n,0,null,"paste")}),!0}function ha(e,t){if(!e.options.electricChars||!e.options.smartIndent)return;var n=e.doc.sel;for(var r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)continue;var s=e.getModeAt(i.head),o=!1;if(s.electricChars){for(var u=0;u<s.electricChars.length;u++)if(t.indexOf(s.electricChars.charAt(u))>-1){o=ua(e,i.head.line,"smart");break}}else s.electricInput&&s.electricInput.test(it(e.doc,i.head.line).text.slice(0,i.head.ch))&&(o=ua(e,i.head.line,"smart"));o&&Nr(e,"electricInput",e,i.head.line)}}function pa(e){var t=[],n=[];for(var r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,s={anchor:ht(i,0),head:ht(i+1,0)};n.push(s),t.push(e.getRange(s.anchor,s.head))}return{text:t,ranges:n}}function da(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function va(){var e=C("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=C("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return u?e.style.width="1000px":e.setAttribute("wrap","off"),d&&(e.style.border="1px solid black"),da(e),t}function ma(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];if(r[e]==n&&e!="mode")return;r[e]=n,t.hasOwnProperty(e)&&ys(this,t[e])(this,n,i),mn(this,"optionChange",this,e)},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](xu(e))},removeKeyMap:function(e){var t=this.state.keyMaps;for(var n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:bs(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");J(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,Es(this)}),removeOverlay:bs(function(e){var t=this,n=this.state.overlays;for(var r=0;r<n.length;++r){var i=n[r].modeSpec;if(i==e||typeof e=="string"&&i.name==e){n.splice(r,1),t.state.modeGen++,Es(t);return}}}),indentLine:bs(function(e,t,n){typeof t!="string"&&typeof t!="number"&&(t==null?t=this.options.smartIndent?"smart":"prev":t=t?"add":"subtract"),lt(this.doc,e)&&ua(this,e,t,n)}),indentSelection:bs(function(e){var t=this,n=this.doc.sel.ranges,r=-1;for(var i=0;i<n.length;i++){var s=n[i];if(!s.empty()){var o=s.from(),u=s.to(),a=Math.max(r,o.line);r=Math.min(t.lastLine(),u.line-(u.ch?0:1))+1;for(var f=a;f<r;++f)ua(t,f,e);var l=t.doc.sel.ranges;o.ch==0&&n.length==l.length&&l[i].from().ch>0&&go(t.doc,i,new qs(o,l[i].to()),q)}else s.head.line>r&&(ua(t,s.head.line,e,!0),r=s.head.line,i==t.doc.sel.primIndex&&os(t))}}),getTokenAt:function(e,t){return tr(this,e,t)},getLineTokens:function(e,t){return tr(this,ht(e),t,!0)},getTokenTypeAt:function(e){e=yt(this.doc,e);var t=Qn(this,it(this.doc,e.line)),n=0,r=(t.length-1)/2,i=e.ch,s;if(i==0)s=t[2];else for(;;){var o=n+r>>1;if((o?t[o*2-1]:0)>=i)r=o;else{if(!(t[o*2+1]<i)){s=t[o*2+2];break}n=o+1}}var u=s?s.indexOf("overlay "):-1;return u<0?s:u==0?null:s.slice(0,u-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=this,i=[];if(!n.hasOwnProperty(t))return i;var s=n[t],o=this.getModeAt(e);if(typeof o[t]=="string")s[o[t]]&&i.push(s[o[t]]);else if(o[t])for(var u=0;u<o[t].length;u++){var a=s[o[t][u]];a&&i.push(a)}else o.helperType&&s[o.helperType]?i.push(s[o.helperType]):s[o.name]&&i.push(s[o.name]);for(var f=0;f<s._global.length;f++){var l=s._global[f];l.pred(o,r)&&j(i,l.val)==-1&&i.push(l.val)}return i},getStateAfter:function(e,t){var n=this.doc;return e=gt(n,e==null?n.first+n.size-1:e),Gn(this,e+1,t)},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return e==null?n=r.head:typeof e=="object"?n=yt(this.doc,e):n=e?r.from():r.to(),pi(this,n,t||"page")},charCoords:function(e,t){return hi(this,yt(this.doc,e),t||"page")},coordsChar:function(e,t){return e=ci(this,e,t||"page"),mi(this,e.left,e.top)},lineAtHeight:function(e,t){return e=ci(this,{top:e,left:0},t||"page").top,ft(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r=!1,i;if(typeof e=="number"){var s=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>s&&(e=s,r=!0),i=it(this.doc,e)}else i=e;return li(this,i,{top:0,left:0},t||"page",n).top+(r?this.doc.height-Kt(i):0)},defaultTextHeight:function(){return bi(this.display)},defaultCharWidth:function(){return wi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var s=this.display;e=pi(this,yt(this.doc,e));var o=e.bottom,u=e.left;t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),s.sizer.appendChild(t);if(r=="over")o=e.top;else if(r=="above"||r=="near"){var a=Math.max(s.wrapper.clientHeight,this.doc.height),f=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);(r=="above"||e.bottom+t.offsetHeight>a)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=a&&(o=e.bottom),u+t.offsetWidth>f&&(u=f-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="",i=="right"?(u=s.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):(i=="left"?u=0:i=="middle"&&(u=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=u+"px"),n&&rs(this,u,o,u+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:bs(Bu),triggerOnKeyPress:bs(Iu),triggerOnKeyUp:Fu,execCommand:function(e){if(Nu.hasOwnProperty(e))return Nu[e].call(null,this)},triggerElectric:bs(function(e){ha(this,e)}),findPosH:function(e,t,n,r){var i=this,s=1;t<0&&(s=-1,t=-t);var o=yt(this.doc,e);for(var u=0;u<t;++u){o=ga(i.doc,o,s,n,r);if(o.hitSide)break}return o},moveH:bs(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?ga(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},U)}),deleteH:bs(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Tu(this,function(n){var i=ga(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=this,s=1,o=r;t<0&&(s=-1,t=-t);var u=yt(this.doc,e);for(var a=0;a<t;++a){var f=pi(i,u,"div");o==null?o=f.left:f.left=o,u=ya(i,f,s,n);if(u.hitSide)break}return u},moveV:bs(function(e,t){var n=this,r=this.doc,i=[],s=!this.display.shift&&!r.extend&&r.sel.somethingSelected();r.extendSelectionsBy(function(o){if(s)return e<0?o.from():o.to();var u=pi(n,o.head,"div");o.goalColumn!=null&&(u.left=o.goalColumn),i.push(u.left);var a=ya(n,u,e,t);return t=="page"&&o==r.sel.primary()&&ss(n,null,hi(n,a,"div").top-u.top),a},U);if(i.length)for(var o=0;o<r.sel.ranges.length;o++)r.sel.ranges[o].goalColumn=i[o]}),findWordAt:function(e){var t=this.doc,n=it(t,e.line).text,r=e.ch,i=e.ch;if(n){var s=this.getHelper(e,"wordChars");(e.xRel<0||i==n.length)&&r?--r:++i;var o=n.charAt(r),u=Z(o,s)?function(e){return Z(e,s)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Z(e)};while(r>0&&u(n.charAt(r-1)))--r;while(i<n.length&&u(n.charAt(i)))++i}return new qs(ht(e.line,r),ht(e.line,i))},toggleOverwrite:function(e){if(e!=null&&e==this.state.overwrite)return;(this.state.overwrite=!this.state.overwrite)?O(this.display.cursorDiv,"CodeMirror-overwrite"):x(this.display.cursorDiv,"CodeMirror-overwrite"),mn(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==A()},isReadOnly:function(){return!!this.options.readOnly||!!this.doc.cantEdit},scrollTo:bs(function(e,t){(e!=null||t!=null)&&us(this),e!=null&&(this.curOp.scrollLeft=e),t!=null&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Wr(this)-this.display.barHeight,width:e.scrollWidth-Wr(this)-this.display.barWidth,clientHeight:Vr(this),clientWidth:Xr(this)}},scrollIntoView:bs(function(e,t){e==null?(e={from:this.doc.sel.primary().head,to:null},t==null&&(t=this.options.cursorScrollMargin)):typeof e=="number"?e={from:ht(e,0),to:null}:e.from==null&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0;if(e.from.line!=null)us(this),this.curOp.scrollToPos=e;else{var n=is(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:bs(function(e,t){var n=this,r=function(e){return typeof e=="number"||/^\d+$/.test(String(e))?e+"px":e};e!=null&&(this.display.wrapper.style.width=r(e)),t!=null&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&oi(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Ss(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,mn(this,"refresh",this)}),operation:function(e){return gs(this,e)},refresh:bs(function(){var e=this.display.cachedTextHeight;Es(this),this.curOp.forceUpdate=!0,ui(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),Hs(this),(e==null||Math.abs(e-bi(this.display))>.5)&&Ti(this),mn(this,"refresh",this)}),swapDoc:bs(function(e){var t=this.doc;return t.cm=null,Zs(this,e),ui(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Nr(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},wn(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,s){e.registerHelper(t,r,s),n[t]._global.push({pred:i,val:s})}}function ga(e,t,n,r,i){function f(){var t=s+n;return t<e.first||t>=e.first+e.size?!1:(s=t,a=it(e,t))}function l(e){var t=(i?an:fn)(a,o,n,!0);if(t==null){if(!!e||!f())return!1;i?o=(n<0?nn:tn)(a):o=n<0?a.text.length:0}else o=t;return!0}var s=t.line,o=t.ch,u=n,a=it(e,s);if(r=="char")l();else if(r=="column")l(!0);else if(r=="word"||r=="group"){var c=null,h=r=="group",p=e.cm&&e.cm.getHelper(t,"wordChars");for(var d=!0;;d=!1){if(n<0&&!l(!d))break;var v=a.text.charAt(o)||"\n",m=Z(v,p)?"w":h&&v=="\n"?"n":!h||/\s/.test(v)?null:"p";h&&!d&&!m&&(m="s");if(c&&c!=m){n<0&&(n=1,l());break}m&&(c=m);if(n>0&&!l(!d))break}}var g=ko(e,ht(s,o),t,u,!0);return pt(t,g)||(g.hitSide=!0),g}function ya(e,t,n,r){var i=e.doc,s=t.left,o;if(r=="page"){var u=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),a=Math.max(u-.5*bi(e.display),3);o=(n>0?t.bottom:t.top)+n*a}else r=="line"&&(o=n>0?t.bottom+3:t.top-3);var f;for(;;){f=mi(e,s,o);if(!f.outside)break;if(n<0?o<=0:o>=i.height){f.hitSide=!0;break}o+=n*5}return f}function wa(e,t){var n=Gr(e,t.line);if(!n||n.hidden)return null;var r=it(e.doc,t.line),i=Jr(n,r,t.line),s=cn(r),o="left";if(s){var u=on(s,t.ch);o=u%2?"right":"left"}var a=ti(i.map,t.ch,o);return a.offset=a.collapse=="right"?a.end:a.start,a}function Ea(e,t){return t&&(e.bad=!0),e}function Sa(e,t,n,r,i){function a(e){return function(t){return t.id==e}}function f(t){if(t.nodeType==1){var n=t.getAttribute("cm-text");if(n!=null){n==""?s+=t.textContent.replace(/\u200b/g,""):s+=n;return}var l=t.getAttribute("cm-marker"),c;if(l){var h=e.findMarks(ht(r,0),ht(i+1,0),a(+l));h.length&&(c=h[0].find())&&(s+=st(e.doc,c.from,c.to).join(u));return}if(t.getAttribute("contenteditable")=="false")return;for(var p=0;p<t.childNodes.length;p++)f(t.childNodes[p]);/^(pre|div|p)$/i.test(t.nodeName)&&(o=!0)}else if(t.nodeType==3){var d=t.nodeValue;if(!d)return;o&&(s+=u,o=!1),s+=d}}var s="",o=!1,u=e.doc.lineSeparator();for(;;){f(t);if(t==n)break;t=t.nextSibling}return s}function xa(e,t,n){var r;if(t==e.display.lineDiv){r=e.display.lineDiv.childNodes[n];if(!r)return Ea(e.clipPos(ht(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var s=e.display.view[i];if(s.node==r)return Ta(s,t,n)}}function Ta(e,t,n){function l(t,n,r){for(var i=-1;i<(f?f.length:0);i++){var s=i<0?a.map:f[i];for(var o=0;o<s.length;o+=3){var u=s[o+2];if(u==t||u==n){var l=at(i<0?e.line:e.rest[i]),c=s[o]+r;if(r<0||u!=t)c=s[o+(r?1:0)];return ht(l,c)}}}}var r=e.text.firstChild,i=!1;if(!t||!L(r,t))return Ea(ht(at(e.line),0),!0);if(t==r){i=!0,t=r.childNodes[n],n=0;if(!t){var s=e.rest?V(e.rest):e.line;return Ea(ht(at(s),s.text.length),i)}}var o=t.nodeType==3?t:null,u=t;!o&&t.childNodes.length==1&&t.firstChild.nodeType==3&&(o=t.firstChild,n&&(n=o.nodeValue.length));while(u.parentNode!=r)u=u.parentNode;var a=e.measure,f=a.maps,c=l(o,u,n);if(c)return Ea(c,i);for(var h=u.nextSibling,p=o?o.nodeValue.length-n:0;h;h=h.nextSibling){c=l(h,h.firstChild,0);if(c)return Ea(ht(c.line,c.ch-p),i);p+=h.textContent.length}for(var d=u.previousSibling,v=n;d;d=d.previousSibling){c=l(d,d.firstChild,-1);if(c)return Ea(ht(c.line,c.ch+v),i);v+=d.textContent.length}}function Ca(e,t){function r(){e.value=a.getValue()}t=t?P(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder);if(t.autofocus==null){var n=A();t.autofocus=n==e||e.getAttribute("autofocus")!=null&&n==document.body}var i;if(e.form){pn(e.form,"submit",r);if(!t.leaveSubmitMethodAlone){var s=e.form;i=s.submit;try{var o=s.submit=function(){r(),s.submit=i,s.submit(),s.submit=o}}catch(u){}}}t.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(vn(e.form,"submit",r),typeof e.form.submit=="function"&&(e.form.submit=i))}},e.style.display="none";var a=ia(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return a}function ka(e){e.off=vn,e.on=pn,e.wheelEventPixels=Vi,e.Doc=nu,e.splitLines=_n,e.countColumn=H,e.findColumn=z,e.isWordChar=Y,e.Pass=I,e.signal=mn,e.Line=sr,e.changeEnd=zs,e.scrollbarModel=Zi,e.Pos=ht,e.cmpPos=pt,e.modes=jn,e.mimeModes=Fn,e.resolveMode=Rn,e.getMode=Un,e.modeExtensions=zn,e.extendMode=Wn,e.copyState=Xn,e.startState=$n,e.innerMode=Vn,e.commands=Nu,e.keyMap=gu,e.keyName=Su,e.isModifierKey=Eu,e.lookupKey=wu,e.normalizeKeyMap=bu,e.StringStream=Jn,e.SharedTextMarker=Qo,e.TextMarker=Jo,e.LineWidget=Wo,e.e_preventDefault=En,e.e_stopPropagation=Sn,e.e_stop=Tn,e.addClass=O,e.contains=L,e.rmClass=x,e.keyNames=pu}var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),s=r||i,o=s&&(r?document.documentMode||6:i[1]),u=/WebKit\//.test(e),a=u&&/Qt\/\d+\.\d+/.test(e),f=/Chrome\//.test(e),l=/Opera\//.test(e),c=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),d=/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),v=d||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),m=d||/Mac/.test(t),g=/\bCrOS\b/.test(e),y=/win/i.test(t),b=l&&e.match(/Version\/(\d*\.\d*)/);b&&(b=Number(b[1])),b&&b>=15&&(l=!1,u=!0);var w=m&&(a||l&&(b==null||b<12.11)),E=n||s&&o>=9,x=function(e,t){var n=e.className,r=S(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}},k;document.createRange?k=function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:k=function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var _=function(e){e.select()};d?_=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:s&&(_=function(e){try{e.select()}catch(t){}}),B.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var F=30,I={toString:function(){return"CodeMirror.Pass"}},q={scroll:!1},R={origin:"*mouse"},U={origin:"+move"},W=[""],G=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,tt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Et=!1,St=!1,sn=null,ln=function(){function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":n==8204?"b":"L"}function f(e,t,n){this.level=e,this.from=t,this.to=n}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,s=/[LRr]/,o=/[Lb1n]/,u=/[1n]/,a="L";return function(e){if(!r.test(e))return!1;var t=e.length,l=[];for(var c=0;c<t;++c)l.push(n(e.charCodeAt(c)));for(var h=0,p=a;h<t;++h){var d=l[h];d=="m"?l[h]=p:p=d}for(var v=0,m=a;v<t;++v){var g=l[v];g=="1"&&m=="r"?l[v]="n":s.test(g)&&(m=g,g=="r"&&(l[v]="R"))}for(var y=1,b=l[0];y<t-1;++y){var w=l[y];w=="+"&&b=="1"&&l[y+1]=="1"?l[y]="1":w==","&&b==l[y+1]&&(b=="1"||b=="n")&&(l[y]=b),b=w}for(var E=0;E<t;++E){var S=l[E];if(S==",")l[E]="N";else if(S=="%"){var x=void 0;for(x=E+1;x<t&&l[x]=="%";++x);var T=E&&l[E-1]=="!"||x<t&&l[x]=="1"?"1":"N";for(var N=E;N<x;++N)l[N]=T;E=x-1}}for(var C=0,k=a;C<t;++C){var L=l[C];k=="L"&&L=="1"?l[C]="L":s.test(L)&&(k=L)}for(var A=0;A<t;++A)if(i.test(l[A])){var O=void 0;for(O=A+1;O<t&&i.test(l[O]);++O);var M=(A?l[A-1]:a)=="L",_=(O<t?l[O]:a)=="L",D=M||_?"L":"R";for(var P=A;P<O;++P)l[P]=D;A=O-1}var H=[],B;for(var j=0;j<t;)if(o.test(l[j])){var F=j;for(++j;j<t&&o.test(l[j]);++j);H.push(new f(0,F,j))}else{var I=j,q=H.length;for(++j;j<t&&l[j]!="L";++j);for(var R=I;R<j;)if(u.test(l[R])){I<R&&H.splice(q,0,new f(1,I,R));var U=R;for(++R;R<j&&u.test(l[R]);++R);H.splice(q,0,new f(2,U,R)),I=R}else++R;I<j&&H.splice(q,0,new f(1,I,j))}return H[0].level==1&&(B=e.match(/^\s+/))&&(H[0].from=B[0].length,H.unshift(new f(0,0,B[0].length))),V(H).level==1&&(B=e.match(/\s+$/))&&(V(H).to-=B[0].length,H.push(new f(0,t-B[0].length,t))),H[0].level==2&&H.unshift(new f(1,H[0].to,H[0].to)),H[0].level!=V(H).level&&H.push(new f(H[0].level,t,t)),H}}(),hn=[],pn=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||hn).concat(n)}},kn=function(){if(s&&o<9)return!1;var e=C("div");return"draggable"in e||"dragDrop"in e}(),Ln,On,_n="\n\nb".split(/\n/).length!=3?function(e){var t=0,n=[],r=e.length;while(t<=r){var i=e.indexOf("\n",t);i==-1&&(i=e.length);var s=e.slice(t,e.charAt(i-1)=="\r"?i-1:i),o=s.indexOf("\r");o!=-1?(n.push(s.slice(0,o)),t+=o+1):(n.push(s),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Dn=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0},Pn=function(){var e=C("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),Hn=null,jn={},Fn={},zn={},Jn=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Jn.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos),n;typeof e=="string"?n=t==e:n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){var t=this.pos;while(this.eat(e));return this.pos>t},eatSpace:function(){var e=this,t=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++e.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=H(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return H(this.string,null,this.tabSize)-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if(typeof e!="string"){var s=this.string.slice(this.pos).match(e);return s&&s.index>0?null:(s&&t!==!1&&(this.pos+=s[0].length),s)}var r=function(e){return n?e.toLowerCase():e},i=this.string.substr(this.pos,e.length);if(r(i)==r(e))return t!==!1&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}},wn(sr),sr.prototype.lineNo=function(){return at(this)};var ar={},fr={},wr=null,Tr=null,ei={left:0,right:0,top:0,bottom:0},yi,zi=0,Wi=null;s?Wi=-0.53:n?Wi=15:f?Wi=-0.7:c&&(Wi=-1/3);var Ki=function(e,t,n){this.cm=n;var r=this.vert=C("div",[C("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=C("div",[C("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(i),pn(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),pn(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&o<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ki.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var s=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+s+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(r==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Ki.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},Ki.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},Ki.prototype.zeroWidthHack=function(){var e=m&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new B,this.disableVert=new B},Ki.prototype.enableZeroWidthBar=function(e,t){function n(){var r=e.getBoundingClientRect(),i=document.elementFromPoint(r.left+1,r.bottom-1);i!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},Ki.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Qi=function(){};Qi.prototype.update=function(){return{bottom:0,right:0}},Qi.prototype.setScrollLeft=function(){},Qi.prototype.setScrollTop=function(){},Qi.prototype.clear=function(){};var Zi={"native":Ki,"null":Qi},as=0,As=function(e,t,n){var r=e.display;this.viewport=t,this.visible=qi(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Xr(e),this.force=n,this.dims=Ei(e),this.events=[]};As.prototype.signal=function(e,t){bn(e,t)&&this.events.push(arguments)},As.prototype.finish=function(){var e=this;for(var t=0;t<this.events.length;t++)mn.apply(null,e.events[t])},Is.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var r=t.ranges[n],i=e.ranges[n];if(pt(r.anchor,i.anchor)!=0||pt(r.head,i.head)!=0)return!1}return!0},deepCopy:function(){var e=this,t=[];for(var n=0;n<this.ranges.length;n++)t[n]=new qs(dt(e.ranges[n].anchor),dt(e.ranges[n].head));return new Is(t,this.primIndex)},somethingSelected:function(){var e=this;for(var t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},contains:function(e,t){var n=this;t||(t=e);for(var r=0;r<this.ranges.length;r++){var i=n.ranges[r];if(pt(t,i.from())>=0&&pt(e,i.to())<=0)return r}return-1}},qs.prototype={from:function(){return mt(this.anchor,this.head)},to:function(){return vt(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}},Uo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){var n=this;for(var r=e,i=e+t;r<i;++r){var s=n.lines[r];n.height-=s.height,ur(s),Nr(s,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){var r=this;this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=r},iterN:function(e,t,n){var r=this;for(var i=e+t;e<i;++e)if(n(r.lines[e]))return!0}},zo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var n=this;this.size-=t;for(var r=0;r<this.children.length;++r){var i=n.children[r],s=i.chunkSize();if(e<s){var o=Math.min(t,s-e),u=i.height;i.removeInner(e,o),n.height-=u-i.height,s==o&&(n.children.splice(r--,1),i.parent=null);if((t-=o)==0)break;e=0}else e-=s}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Uo))){var a=[];this.collapse(a),this.children=[new Uo(a)],this.children[0].parent=this}},collapse:function(e){var t=this;for(var n=0;n<this.children.length;++n)t.children[n].collapse(e)},insertInner:function(e,t,n){var r=this;this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var s=r.children[i],o=s.chunkSize();if(e<=o){s.insertInner(e,t,n);if(s.lines&&s.lines.length>50){var u=s.lines.length%25+25;for(var a=u;a<s.lines.length;){var f=new Uo(s.lines.slice(a,a+=25));s.height-=f.height,r.children.splice(++i,0,f),f.parent=r}s.lines=s.lines.slice(0,u),r.maybeSpill()}break}e-=o}},maybeSpill:function(){if(this.children.length<=10)return;var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new zo(t);if(!e.parent){var r=new zo(e.children);r.parent=e,e.children=[r,n],e=r}else{e.size-=n.size,e.height-=n.height;var i=j(e.parent.children,e);e.parent.children.splice(i+1,0,n)}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()},iterN:function(e,t,n){var r=this;for(var i=0;i<this.children.length;++i){var s=r.children[i],o=s.chunkSize();if(e<o){var u=Math.min(t,o-e);if(s.iterN(e,u,n))return!0;if((t-=u)==0)break;e=0}else e-=o}}},wn(Wo),Wo.prototype.clear=function(){var e=this,t=this.doc.cm,n=this.line.widgets,r=this.line,i=at(r);if(i==null||!n)return;for(var s=0;s<n.length;++s)n[s]==e&&n.splice(s--,1);n.length||(r.widgets=null);var o=Ir(this);ut(r,Math.max(0,r.height-o)),t&&gs(t,function(){Xo(t,r,-o),Ss(t,i,"widget")})},Wo.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var r=Ir(this)-e;if(!r)return;ut(n,n.height+r),t&&gs(t,function(){t.curOp.forceUpdate=!0,Xo(t,n,r)})};var $o=0;wn(Jo),Jo.prototype.clear=function(){var e=this;if(this.explicitlyCleared)return;var t=this.doc.cm,n=t&&!t.curOp;n&&fs(t);if(bn(this,"clear")){var r=this.find();r&&Nr(this,"clear",r.from,r.to)}var i=null,s=null;for(var o=0;o<this.lines.length;++o){var u=e.lines[o],a=Ct(u.markedSpans,e);t&&!e.collapsed?Ss(t,at(u),"text"):t&&(a.to!=null&&(s=at(u)),a.from!=null&&(i=at(u))),u.markedSpans=kt(u.markedSpans,a),a.from==null&&e.collapsed&&!$t(e.doc,u)&&t&&ut(u,bi(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var f=0;f<this.lines.length;++f){var l=zt(e.lines[f]),c=Qt(l);c>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}i!=null&&t&&this.collapsed&&Es(t,i,s+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&To(t.doc)),t&&Nr(t,"markerCleared",t,this),n&&ls(t),this.parent&&this.parent.clear()},Jo.prototype.find=function(e,t){var n=this;e==null&&this.type=="bookmark"&&(e=1);var r,i;for(var s=0;s<this.lines.length;++s){var o=n.lines[s],u=Ct(o.markedSpans,n);if(u.from!=null){r=ht(t?o:at(o),u.from);if(e==-1)return r}if(u.to!=null){i=ht(t?o:at(o),u.to);if(e==1)return i}}return r&&{from:r,to:i}},Jo.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;if(!e||!n)return;gs(n,function(){var r=e.line,i=at(e.line),s=Gr(n,i);s&&(si(s),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0;if(!$t(t.doc,r)&&t.height!=null){var o=t.height;t.height=null;var u=Ir(t)-o;u&&ut(r,r.height+u)}})},Jo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||j(t.maybeHiddenMarkers,this)==-1)&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Jo.prototype.detachLine=function(e){this.lines.splice(j(this.lines,e),1);if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},wn(Qo),Qo.prototype.clear=function(){var e=this;if(this.explicitlyCleared)return;this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();Nr(this,"clear")},Qo.prototype.find=function(e,t){return this.primary.find(e,t)};var tu=0,nu=function(e,t,n,r){if(!(this instanceof nu))return new nu(e,t,n,r);n==null&&(n=0),zo.call(this,[new Uo([new sr("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var i=ht(n,0);this.sel=Us(i),this.history=new eo(null),this.id=++tu,this.modeOption=t,this.lineSep=r,this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),Gs(this,{from:i,to:i,text:e}),Eo(this,Us(i),q)};nu.prototype=Q(zo.prototype,{constructor:nu,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){var n=0;for(var r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ot(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:ws(function(e){var t=ht(this.first,0),n=this.first+this.size-1;Mo(this,{from:t,to:ht(n,it(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),Eo(this,Us(t))}),replaceRange:function(e,t,n,r){t=yt(this,t),n=n?yt(this,n):t,jo(this,e,t,n,r)},getRange:function(e,t,n){var r=st(this,yt(this,e),yt(this,t));return n===!1?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(lt(this,e))return it(this,e)},getLineNumber:function(e){return at(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=it(this,e)),zt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return yt(this,e)},getCursor:function(e){var t=this.sel.primary(),n;return e==null||e=="head"?n=t.head:e=="anchor"?n=t.anchor:e=="end"||e=="to"||e===!1?n=t.to():n=t.from(),n},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ws(function(e,t,n){yo(this,yt(this,typeof e=="number"?ht(e,t||0):e),null,n)}),setSelection:ws(function(e,t,n){yo(this,yt(this,e),yt(this,t||e),n)}),extendSelection:ws(function(e,t,n){vo(this,yt(this,e),t&&yt(this,t),n)}),extendSelections:ws(function(e,t){mo(this,wt(this,e),t)}),extendSelectionsBy:ws(function(e,t){var n=$(this.sel.ranges,e);mo(this,wt(this,n),t)}),setSelections:ws(function(e,t,n){var r=this;if(!e.length)return;var i=[];for(var s=0;s<e.length;s++)i[s]=new qs(yt(r,e[s].anchor),yt(r,e[s].head));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),Eo(this,Rs(i,t),n)}),addSelection:ws(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new qs(yt(this,e),yt(this,t||e))),Eo(this,Rs(r,r.length-1),n)}),getSelection:function(e){var t=this,n=this.sel.ranges,r;for(var i=0;i<n.length;i++){var s=st(t,n[i].from(),n[i].to());r=r?r.concat(s):s}return e===!1?r:r.join(e||this.lineSeparator())},getSelections:function(e){var t=this,n=[],r=this.sel.ranges;for(var i=0;i<r.length;i++){var s=st(t,r[i].from(),r[i].to());e!==!1&&(s=s.join(e||t.lineSeparator())),n[i]=s}return n},replaceSelection:function(e,t,n){var r=[];for(var i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:ws(function(e,t,n){var r=this,i=[],s=this.sel;for(var o=0;o<s.ranges.length;o++){var u=s.ranges[o];i[o]={from:u.from(),to:u.to(),text:r.splitLines(e[o]),origin:n}}var a=t&&t!="end"&&$s(this,i,t);for(var f=i.length-1;f>=0;f--)Mo(r,i[f]);a?wo(this,a):this.cm&&os(this.cm)}),undo:ws(function(){Do(this,"undo")}),redo:ws(function(){Do(this,"redo")}),undoSelection:ws(function(){Do(this,"undo",!0)}),redoSelection:ws(function(){Do(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){var e=this.history,t=0,n=0;for(var r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new eo(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:ho(this.history.done),undone:ho(this.history.undone)}},setHistory:function(e){var t=this.history=new eo(this.history.maxGeneration);t.done=ho(e.done.slice(0),null,!0),t.undone=ho(e.undone.slice(0),null,!0)},setGutterMarker:ws(function(e,t,n){return Ro(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&et(r)&&(e.gutterMarkers=null),!0})}),clearGutter:ws(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Ro(t,n,"gutter",function(){return n.gutterMarkers[e]=null,et(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!lt(this,e))return null;t=e,e=it(this,e);if(!e)return null}else{t=at(e);if(t==null)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ws(function(e,t,n){return Ro(this,e,t=="gutter"?"gutter":"class",function(e){var r=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(!e[r])e[r]=n;else{if(S(n).test(e[r]))return!1;e[r]+=" "+n}return!0})}),removeLineClass:ws(function(e,t,n){return Ro(this,e,t=="gutter"?"gutter":"class",function(e){var r=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(n==null)e[r]=null;else{var s=i.match(S(n));if(!s)return!1;var o=s.index+s[0].length;e[r]=i.slice(0,s.index)+(!s.index||o==i.length?"":" ")+i.slice(o)||null}return!0})}),addLineWidget:ws(function(e,t,n){return Vo(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Ko(this,yt(this,e),yt(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=yt(this,e),Ko(this,e,e,n,"bookmark")},findMarksAt:function(e){e=yt(this,e);var t=[],n=it(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(i.from==null||i.from<=e.ch)&&(i.to==null||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=yt(this,e),t=yt(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(s){var o=s.markedSpans;if(o)for(var u=0;u<o.length;u++){var a=o[u];!(a.to!=null&&i==e.line&&e.ch>=a.to||a.from==null&&i!=e.line||a.from!=null&&i==t.line&&a.from>=t.ch)&&(!n||n(a.marker))&&r.push(a.marker.parent||a.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)n[r].from!=null&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var s=i.text.length+r;if(s>e)return t=e,!0;e-=s,++n}),yt(this,ht(n,t))},indexFromPos:function(e){e=yt(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new nu(ot(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<n&&(n=e.to);var r=new nu(ot(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Zo(r,Yo(this)),r},unlinkDoc:function(e){var t=this;e instanceof ia&&(e=e.doc);if(this.linked)for(var n=0;n<this.linked.length;++n){var r=t.linked[n];if(r.doc!=e)continue;t.linked.splice(n,1),e.unlinkDoc(t),eu(Yo(t));break}if(e.history==this.history){var i=[e.id];Ys(e,function(e){return i.push(e.id)},!0),e.history=new eo(null),e.history.done=ho(this.history.done,i),e.history.undone=ho(this.history.undone,i)}},iterLinkedDocs:function(e){Ys(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):_n(e)},lineSeparator:function(){return this.lineSep||"\n"}}),nu.prototype.eachLine=nu.prototype.iter;var ru=0,fu=!1,pu={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};for(var du=0;du<10;du++)pu[du+48]=pu[du+96]=String(du);for(var vu=65;vu<=90;vu++)pu[vu]=String.fromCharCode(vu);for(var mu=1;mu<=12;mu++)pu[mu+111]=pu[mu+63235]="F"+mu;var gu={};gu.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},gu.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},gu.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},gu.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},gu["default"]=m?gu.macDefault:gu.pcDefault;var Nu={selectAll:Ao,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),q)},killLine:function(e){return Tu(e,function(t){if(t.empty()){var n=it(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:ht(t.head.line+1,0)}:{from:t.head,to:ht(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Tu(e,function(t){return{from:ht(t.from().line,0),to:yt(e.doc,ht(t.to().line+1,0))}})},delLineLeft:function(e){return Tu(e,function(e){return{from:ht(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return Tu(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){return Tu(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ht(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ht(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Cu(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Lu(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return ku(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},U)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},U)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Lu(e,t.head):r},U)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){var t=[],n=e.listSelections(),r=e.options.tabSize;for(var i=0;i<n.length;i++){var s=n[i].from(),o=H(e.getLine(s.line),s.ch,r);t.push(X(r-o%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return gs(e,function(){var t=e.listSelections(),n=[];for(var r=0;r<t.length;r++){if(!t[r].empty())continue;var i=t[r].head,s=it(e.doc,i.line).text;if(s){i.ch==s.length&&(i=new ht(i.line,i.ch-1));if(i.ch>0)i=new ht(i.line,i.ch+1),e.replaceRange(s.charAt(i.ch-1)+s.charAt(i.ch-2),ht(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var o=it(e.doc,i.line-1).text;o&&(i=new ht(i.line,1),e.replaceRange(s.charAt(0)+e.doc.lineSeparator()+o.charAt(o.length-1),ht(i.line-1,o.length-1),i,"+transpose"))}}n.push(new qs(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return gs(e,function(){var t=e.listSelections();for(var n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);os(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Mu=new B,Hu=null,Ru,Uu,Gu={toString:function(){return"CodeMirror.Init"}},Yu={},Zu={};ia.defaults=Yu,ia.optionHandlers=Zu;var oa=[];ia.defineInitHook=function(e){return oa.push(e)};var aa=null,ba=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new B,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};ba.prototype.init=function(e){function s(e){if(gn(r,e))return;if(r.somethingSelected())fa({lineWise:!1,text:r.getSelections()}),e.type=="cut"&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=pa(r);fa({lineWise:!0,text:t.text}),e.type=="cut"&&r.operation(function(){r.setSelections(t.ranges,0,q),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var s=aa.text.join("\n");e.clipboardData.setData("Text",s);if(e.clipboardData.getData("Text")==s){e.preventDefault();return}}var o=va(),u=o.firstChild;r.display.lineSpace.insertBefore(o,r.display.lineSpace.firstChild),u.value=aa.text.join("\n");var a=document.activeElement;_(u),setTimeout(function(){r.display.lineSpace.removeChild(o),a.focus(),a==i&&n.showPrimarySelection()},50)}var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;da(i,r.options.spellcheck),pn(i,"paste",function(e){if(gn(r,e)||ca(e,r))return;o<=11&&setTimeout(ys(r,function(){n.pollContent()||Es(r)}),20)}),pn(i,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),pn(i,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),pn(i,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),pn(i,"touchstart",function(){return n.forceCompositionEnd()}),pn(i,"input",function(){t.composing||t.readFromDOMSoon()}),pn(i,"copy",s),pn(i,"cut",s)},ba.prototype.prepareSelection=function(){var e=Li(this.cm,!1);return e.focus=this.cm.state.focused,e},ba.prototype.showSelection=function(e,t){if(!e||!this.cm.display.view.length)return;(e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e)},ba.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),r=xa(this.cm,e.anchorNode,e.anchorOffset),i=xa(this.cm,e.focusNode,e.focusOffset);if(r&&!r.bad&&i&&!i.bad&&pt(mt(r,i),t.from())==0&&pt(vt(r,i),t.to())==0)return;var s=wa(this.cm,t.from()),o=wa(this.cm,t.to());if(!s&&!o)return;var u=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(!s)s={node:u[0].measure.map[2],offset:0};else if(!o){var f=u[u.length-1].measure,l=f.maps?f.maps[f.maps.length-1]:f.map;o={node:l[l.length-1],offset:l[l.length-2]-l[l.length-3]}}var c;try{c=k(s.node,s.offset,o.offset,o.node)}catch(h){}c&&(!n&&this.cm.state.focused?(e.collapse(s.node,s.offset),c.collapsed||(e.removeAllRanges(),e.addRange(c))):(e.removeAllRanges(),e.addRange(c)),a&&e.anchorNode==null?e.addRange(a):n&&this.startGracePeriod()),this.rememberSelection()},ba.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},ba.prototype.showMultipleSelections=function(e){N(this.cm.display.cursorDiv,e.cursors),N(this.cm.display.selectionDiv,e.selection)},ba.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},ba.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return L(this.div,t)},ba.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},ba.prototype.blur=function(){this.div.blur()},ba.prototype.getField=function(){return this.div},ba.prototype.supportsTouch=function(){return!0},ba.prototype.receivedFocus=function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():gs(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},ba.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},ba.prototype.pollSelection=function(){if(!this.composing&&this.readDOMTimeout==null&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=xa(t,e.anchorNode,e.anchorOffset),r=xa(t,e.focusNode,e.focusOffset);n&&r&&gs(t,function(){Eo(t.doc,Us(n,r),q);if(n.bad||r.bad)t.curOp.selectionChanged=!0})}},ba.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();r.ch==0&&r.line>e.firstLine()&&(r=ht(r.line-1,it(e.doc,r.line-1).length)),i.ch==it(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=ht(i.line+1,0));if(r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var s,o,u;r.line==t.viewFrom||(s=Ci(e,r.line))==0?(o=at(t.view[0].line),u=t.view[0].node):(o=at(t.view[s].line),u=t.view[s-1].node.nextSibling);var a=Ci(e,i.line),f,l;a==t.view.length-1?(f=t.viewTo-1,l=t.lineDiv.lastChild):(f=at(t.view[a+1].line)-1,l=t.view[a+1].node.previousSibling);if(!u)return!1;var c=e.doc.splitLines(Sa(e,u,l,o,f)),h=st(e.doc,ht(o,0),ht(f,it(e.doc,f).text.length));while(c.length>1&&h.length>1)if(V(c)==V(h))c.pop(),h.pop(),f--;else{if(c[0]!=h[0])break;c.shift(),h.shift(),o++}var p=0,d=0,v=c[0],m=h[0],g=Math.min(v.length,m.length);while(p<g&&v.charCodeAt(p)==m.charCodeAt(p))++p;var y=V(c),b=V(h),w=Math.min(y.length-(c.length==1?p:0),b.length-(h.length==1?p:0));while(d<w&&y.charCodeAt(y.length-d-1)==b.charCodeAt(b.length-d-1))++d;c[c.length-1]=y.slice(0,y.length-d).replace(/^\u200b+/,""),c[0]=c[0].slice(p).replace(/\u200b+$/,"");var E=ht(o,p),S=ht(f,h.length?V(h).length-d:0);if(c.length>1||c[0]||pt(E,S))return jo(e.doc,c,E,S,"+input"),!0},ba.prototype.ensurePolled=function(){this.forceCompositionEnd()},ba.prototype.reset=function(){this.forceCompositionEnd()},ba.prototype.forceCompositionEnd=function(){if(!this.composing)return;clearTimeout(this.readDOMTimeout),this.composing=null,this.pollContent()||Es(this.cm),this.div.blur(),this.div.focus()},ba.prototype.readFromDOMSoon=function(){var e=this;if(this.readDOMTimeout!=null)return;this.readDOMTimeout=setTimeout(function(){e.readDOMTimeout=null;if(e.composing){if(!e.composing.done)return;e.composing=null}(e.cm.isReadOnly()||!e.pollContent())&&gs(e.cm,function(){return Es(e.cm)})},80)},ba.prototype.setUneditable=function(e){e.contentEditable="false"},ba.prototype.onKeyPress=function(e){e.preventDefault(),this.cm.isReadOnly()||ys(this.cm,la)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0)},ba.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},ba.prototype.onContextMenu=function(){},ba.prototype.resetPosition=function(){},ba.prototype.needsContentAttribute=!0;var Na=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new B,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null};Na.prototype.init=function(e){function a(e){if(gn(r,e))return;if(r.somethingSelected())fa({lineWise:!1,text:r.getSelections()}),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,u.value=aa.text.join("\n"),_(u));else{if(!r.options.lineWiseCopyCut)return;var t=pa(r);fa({lineWise:!0,text:t.text}),e.type=="cut"?r.setSelections(t.ranges,null,q):(n.prevInput="",u.value=t.text.join("\n"),_(u))}e.type=="cut"&&(r.state.cutIncoming=!0)}var t=this,n=this,r=this.cm,i=this.wrapper=va(),u=this.textarea=i.firstChild;e.wrapper.insertBefore(i,e.wrapper.firstChild),d&&(u.style.width="0px"),pn(u,"input",function(){s&&o>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),pn(u,"paste",function(e){if(gn(r,e)||ca(e,r))return;r.state.pasteIncoming=!0,n.fastPoll()}),pn(u,"cut",a),pn(u,"copy",a),pn(e.scroller,"paste",function(t){if(qr(e,t)||gn(r,t))return;r.state.pasteIncoming=!0,n.focus()}),pn(e.lineSpace,"selectstart",function(t){qr(e,t)||En(t)}),pn(u,"compositionstart",function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),pn(u,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},Na.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Li(e);if(e.options.moveInputWithCursor){var i=pi(e,n.sel.primary().head,"div"),s=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+o.top-s.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+o.left-s.left))}return r},Na.prototype.showSelection=function(e){var t=this.cm,n=t.display;N(n.cursorDiv,e.cursors),N(n.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Na.prototype.reset=function(e){if(this.contextMenuPending)return;var t,n,r=this.cm,i=r.doc;if(r.somethingSelected()){this.prevInput="";var u=i.sel.primary();t=Pn&&(u.to().line-u.from().line>100||(n=r.getSelection()).length>1e3);var a=t?"-":n||r.getSelection();this.textarea.value=a,r.state.focused&&_(this.textarea),s&&o>=9&&(this.hasSelection=a)}else e||(this.prevInput=this.textarea.value="",s&&o>=9&&(this.hasSelection=null));this.inaccurateSelection=t},Na.prototype.getField=function(){return this.textarea},Na.prototype.supportsTouch=function(){return!1},Na.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!v||A()!=this.textarea))try{this.textarea.focus()}catch(e){}},Na.prototype.blur=function(){this.textarea.blur()},Na.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Na.prototype.receivedFocus=function(){this.slowPoll()},Na.prototype.slowPoll=function(){var e=this;if(this.pollingFast)return;this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Na.prototype.fastPoll=function(){function n(){var r=t.poll();!r&&!e?(e=!0,t.polling.set(60,n)):(t.pollingFast=!1,t.slowPoll())}var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,n)},Na.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Dn(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(s&&o>=9&&this.hasSelection===i||m&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var u=i.charCodeAt(0);u==8203&&!r&&(r="​");if(u==8666)return this.reset(),this.cm.execCommand("undo")}var a=0,f=Math.min(r.length,i.length);while(a<f&&r.charCodeAt(a)==i.charCodeAt(a))++a;return gs(t,function(){la(t,i.slice(a),r.length-a,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Na.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Na.prototype.onKeyPress=function(){s&&o>=9&&(this.hasSelection=null),this.fastPoll()},Na.prototype.onContextMenu=function(e){function m(){if(i.selectionStart!=null){var e=n.somethingSelected(),s="​"+(e?i.value:"");i.value="⇚",i.value=s,t.prevInput=e?"":"​",i.selectionStart=1,i.selectionEnd=s.length,r.selForContextMenu=n.doc.sel}}function g(){t.contextMenuPending=!1,t.wrapper.style.cssText=p,i.style.cssText=h,s&&o<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=f);if(i.selectionStart!=null){(!s||s&&o<9)&&m();var e=0,u=function(){r.selForContextMenu==n.doc.sel&&i.selectionStart==0&&i.selectionEnd>0&&t.prevInput=="​"?ys(n,Ao)(n):e++<10?r.detectingSelectAll=setTimeout(u,500):r.input.reset()};r.detectingSelectAll=setTimeout(u,200)}}var t=this,n=t.cm,r=n.display,i=t.textarea,a=Ni(n,e),f=r.scroller.scrollTop;if(!a||l)return;var c=n.options.resetSelectionOnContextMenu;c&&n.doc.sel.contains(a)==-1&&ys(n,Eo)(n.doc,Us(a),q);var h=i.style.cssText,p=t.wrapper.style.cssText;t.wrapper.style.cssText="position: absolute";var d=t.wrapper.getBoundingClientRect();i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-d.top-5)+"px; left: "+(e.clientX-d.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var v;u&&(v=window.scrollY),r.input.focus(),u&&window.scrollTo(null,v),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=!0,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),s&&o>=9&&m();if(E){Tn(e);var y=function(){vn(window,"mouseup",y),setTimeout(g,20)};pn(window,"mouseup",y)}else setTimeout(g,50)},Na.prototype.readOnlyChanged=function(e){e||this.reset()},Na.prototype.setUneditable=function(){},Na.prototype.needsContentAttribute=!1,ea(ia),ma(ia);var La="iter insert remove copy getEditor constructor".split(" ");for(var Aa in nu.prototype)nu.prototype.hasOwnProperty(Aa)&&j(La,Aa)<0&&(ia.prototype[Aa]=function(e){return function(){return e.apply(this.doc,arguments)}}(nu.prototype[Aa]));return wn(nu),ia.inputStyles={textarea:Na,contenteditable:ba},ia.defineMode=function(e){!ia.defaults.mode&&e!="null"&&(ia.defaults.mode=e),In.apply(this,arguments)},ia.defineMIME=qn,ia.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),ia.defineMIME("text/plain","null"),ia.defineExtension=function(e,t){ia.prototype[e]=t},ia.defineDocExtension=function(e,t){nu.prototype[e]=t},ia.fromTextArea=Ca,ka(ia),ia.version="5.23.0",ia})},{}],6:[function(t,n,r){(function(i){typeof r=="object"&&typeof n=="object"?i(t("../../lib/codemirror"),t("../markdown/markdown"),t("../../addon/mode/overlay")):typeof e=="function"&&e.amd?e(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],i):i(CodeMirror)})(function(e){"use strict";var t=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;e.defineMode("gfm",function(n,r){function s(e){return e.code=!1,null}var i=0,o={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,n){n.combineTokens=null;if(n.codeBlock)return e.match(/^```+/)?(n.codeBlock=!1,null):(e.skipToEnd(),null);e.sol()&&(n.code=!1);if(e.sol()&&e.match(/^```+/))return e.skipToEnd(),n.codeBlock=!0,null;if(e.peek()==="`"){e.next();var s=e.pos;e.eatWhile("`");var o=1+e.pos-s;return n.code?o===i&&(n.code=!1):(i=o,n.code=!0),null}if(n.code)return e.next(),null;if(e.eatSpace())return n.ateSpace=!0,null;if(e.sol()||n.ateSpace){n.ateSpace=!1;if(r.gitHubSpice!==!1){if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))return n.combineTokens=!0,"link";if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return n.combineTokens=!0,"link"}}return e.match(t)&&e.string.slice(e.start-2,e.start)!="]("&&(e.start==0||/\W/.test(e.string.charAt(e.start-1)))?(n.combineTokens=!0,"link"):(e.next(),null)},blankLine:s},u={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:"```",strikethrough:!0};for(var a in r)u[a]=r[a];return u.name="markdown",e.overlayMode(e.getMode(n,u),o)},"markdown"),e.defineMIME("text/x-gfm","gfm")})},{"../../addon/mode/overlay":3,"../../lib/codemirror":5,"../markdown/markdown":7}],7:[function(t,n,r){(function(i){typeof r=="object"&&typeof n=="object"?i(t("../../lib/codemirror"),t("../xml/xml"),t("../meta")):typeof e=="function"&&e.amd?e(["../../lib/codemirror","../xml/xml","../meta"],i):i(CodeMirror)})(function(e){"use strict";e.defineMode("markdown",function(t,n){function s(n){if(e.findModeByName){var r=e.findModeByName(n);r&&(n=r.mime||r.mimes[0])}var i=e.getMode(t,n);return i.name=="null"?null:i}function v(e,t,n){return t.f=t.inline=n,n(e,t)}function m(e,t,n){return t.f=t.block=n,n(e,t)}function g(e){return!e||!/\S/.test(e.string)}function y(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,i&&e.f==w&&(e.f=N,e.block=b),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine=null,null}function b(t,r){var i=t.sol(),u=r.list!==!1,p=r.indentedCode;r.indentedCode=!1,u&&(r.indentationDiff>=0?(r.indentationDiff<4&&(r.indentation-=r.indentationDiff),r.list=null):r.indentation>0?r.list=null:r.list=!1);var m=null;if(r.indentationDiff>=4)return t.skipToEnd(),p||g(r.prevLine)?(r.indentation-=4,r.indentedCode=!0,o.code):null;if(t.eatSpace())return null;if((m=t.match(c))&&m[1].length<=6)return r.header=m[1].length,n.highlightFormatting&&(r.formatting="header"),r.f=r.inline,x(r);if(!g(r.prevLine)&&!r.quote&&!u&&!p&&(m=t.match(h)))return r.header=m[0].charAt(0)=="="?1:2,n.highlightFormatting&&(r.formatting="header"),r.f=r.inline,x(r);if(t.eat(">"))return r.quote=i?1:r.quote+1,n.highlightFormatting&&(r.formatting="quote"),t.eatSpace(),x(r);if(t.peek()==="[")return v(t,r,O);if(t.match(a,!0))return r.hr=!0,o.hr;if(m=t.match(f)){var y=m[1]?"ol":"ul";r.indentation=t.column()+t.current().length,r.list=!0;while(r.listStack&&t.column()<r.listStack[r.listStack.length-1])r.listStack.pop();return r.listStack.push(r.indentation),n.taskLists&&t.match(l,!1)&&(r.taskList=!0),r.f=r.inline,n.highlightFormatting&&(r.formatting=["list","list-"+y]),x(r)}return n.fencedCodeBlocks&&(m=t.match(d,!0))?(r.fencedChars=m[1],r.localMode=s(m[2]),r.localMode&&(r.localState=e.startState(r.localMode)),r.f=r.block=E,n.highlightFormatting&&(r.formatting="code-block"),r.code=-1,x(r)):v(t,r,r.inline)}function w(t,n){var s=r.token(t,n.htmlState);if(!i){var o=e.innerMode(r,n.htmlState);if(o.mode.name=="xml"&&o.state.tagStart===null&&!o.state.context&&o.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)n.f=N,n.block=b,n.htmlState=null}return s}function E(e,t){return t.fencedChars&&e.match(t.fencedChars,!1)?(t.localMode=t.localState=null,t.f=t.block=S,null):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),o.code)}function S(e,t){e.match(t.fencedChars),t.block=b,t.f=N,t.fencedChars=null,n.highlightFormatting&&(t.formatting="code-block"),t.code=1;var r=x(t);return t.code=0,r}function x(e){var t=[];if(e.formatting){t.push(o.formatting),typeof e.formatting=="string"&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)t.push(o.formatting+"-"+e.formatting[r]),e.formatting[r]==="header"&&t.push(o.formatting+"-"+e.formatting[r]+"-"+e.header),e.formatting[r]==="quote"&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(o.formatting+"-"+e.formatting[r]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;e.linkHref?t.push(o.linkHref,"url"):(e.strong&&t.push(o.strong),e.em&&t.push(o.em),e.strikethrough&&t.push(o.strikethrough),e.linkText&&t.push(o.linkText),e.code&&t.push(o.code),e.image&&t.push(o.image),e.imageAltText&&t.push(o.imageAltText,"link"),e.imageMarker&&t.push(o.imageMarker)),e.header&&t.push(o.header,o.header+"-"+e.header),e.quote&&(t.push(o.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(o.quote+"-"+e.quote):t.push(o.quote+"-"+n.maxBlockquoteDepth));if(e.list!==!1){var i=(e.listStack.length-1)%3;i?i===1?t.push(o.list2):t.push(o.list3):t.push(o.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function T(e,t){return e.match(p,!0)?x(t):undefined}function N(t,i){var s=i.text(t,i);if(typeof s!="undefined")return s;if(i.list)return i.list=null,x(i);if(i.taskList){var u=t.match(l,!0)[1]!=="x";return u?i.taskOpen=!0:i.taskClosed=!0,n.highlightFormatting&&(i.formatting="task"),i.taskList=!1,x(i)}i.taskOpen=!1,i.taskClosed=!1;if(i.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(i.formatting="header"),x(i);var a=t.sol(),f=t.next();if(i.linkTitle){i.linkTitle=!1;var c=f;f==="("&&(c=")"),c=(c+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var h="^\\s*(?:[^"+c+"\\\\]+|\\\\\\\\|\\\\.)"+c;if(t.match(new RegExp(h),!0))return o.linkHref}if(f==="`"){var p=i.formatting;n.highlightFormatting&&(i.formatting="code"),t.eatWhile("`");var d=t.current().length;if(i.code==0)return i.code=d,x(i);if(d==i.code){var v=x(i);return i.code=0,v}return i.formatting=p,x(i)}if(i.code)return x(i);if(f==="\\"){t.next();if(n.highlightFormatting){var g=x(i),y=o.formatting+"-escape";return g?g+" "+y:y}}if(f==="!"&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return i.imageMarker=!0,i.image=!0,n.highlightFormatting&&(i.formatting="image"),x(i);if(f==="["&&i.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return i.imageMarker=!1,i.imageAltText=!0,n.highlightFormatting&&(i.formatting="image"),x(i);if(f==="]"&&i.imageAltText){n.highlightFormatting&&(i.formatting="image");var g=x(i);return i.imageAltText=!1,i.image=!1,i.inline=i.f=k,g}if(f==="["&&t.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,!1)&&!i.image)return i.linkText=!0,n.highlightFormatting&&(i.formatting="link"),x(i);if(f==="]"&&i.linkText&&t.match(/\(.*?\)| ?\[.*?\]/,!1)){n.highlightFormatting&&(i.formatting="link");var g=x(i);return i.linkText=!1,i.inline=i.f=k,g}if(f==="<"&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=C,n.highlightFormatting&&(i.formatting="link");var g=x(i);return g?g+=" ":g="",g+o.linkInline}if(f==="<"&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=C,n.highlightFormatting&&(i.formatting="link");var g=x(i);return g?g+=" ":g="",g+o.linkEmail}if(f==="<"&&t.match(/^(!--|[a-z]+(?:\s+[a-z_:.\-]+(?:\s*=\s*[^ >]+)?)*\s*>)/i,!1)){var b=t.string.indexOf(">",t.pos);if(b!=-1){var E=t.string.substring(t.start,b);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(E)&&(i.md_inside=!0)}return t.backUp(1),i.htmlState=e.startState(r),m(t,i,w)}if(f==="<"&&t.match(/^\/\w*?>/))return i.md_inside=!1,"tag";var S=!1;if(!n.underscoresBreakWords&&f==="_"&&t.peek()!=="_"&&t.match(/(\w)/,!1)){var T=t.pos-2;if(T>=0){var N=t.string.charAt(T);N!=="_"&&N.match(/(\w)/,!1)&&(S=!0)}}if(f==="*"||f==="_"&&!S){if(!a||t.peek()!==" "){if(i.strong===f&&t.eat(f)){n.highlightFormatting&&(i.formatting="strong");var v=x(i);return i.strong=!1,v}if(!i.strong&&t.eat(f))return i.strong=f,n.highlightFormatting&&(i.formatting="strong"),x(i);if(i.em===f){n.highlightFormatting&&(i.formatting="em");var v=x(i);return i.em=!1,v}if(!i.em)return i.em=f,n.highlightFormatting&&(i.formatting="em"),x(i)}}else if(f===" ")if(t.eat("*")||t.eat("_")){if(t.peek()===" ")return x(i);t.backUp(1)}if(n.strikethrough)if(f==="~"&&t.eatWhile(f)){if(i.strikethrough){n.highlightFormatting&&(i.formatting="strikethrough");var v=x(i);return i.strikethrough=!1,v}if(t.match(/^[^\s]/,!1))return i.strikethrough=!0,n.highlightFormatting&&(i.formatting="strikethrough"),x(i)}else if(f===" "&&t.match(/^~~/,!0)){if(t.peek()===" ")return x(i);t.backUp(2)}return f===" "&&(t.match(/ +$/,!1)?i.trailingSpace++:i.trailingSpace&&(i.trailingSpaceNewLine=!0)),x(i)}function C(e,t){var r=e.next();if(r===">"){t.f=t.inline=N,n.highlightFormatting&&(t.formatting="link");var i=x(t);return i?i+=" ":i="",i+o.linkInline}return e.match(/^[^>]+/,!0),o.linkInline}function k(e,t){if(e.eatSpace())return null;var r=e.next();return r==="("||r==="["?(t.f=t.inline=A(r==="("?")":"]",0),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,x(t)):"error"}function A(e){return function(t,r){var i=t.next();if(i===e){r.f=r.inline=N,n.highlightFormatting&&(r.formatting="link-string");var s=x(r);return r.linkHref=!1,s}return t.match(L[e]),r.linkHref=!0,x(r)}}function O(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=M,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,x(t)):v(e,t,N)}function M(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=_,n.highlightFormatting&&(t.formatting="link");var r=x(t);return t.linkText=!1,r}return e.match(/^([^\]\\]|\\.)+/,!0),o.linkText}function _(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),e.peek()===undefined?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=N,o.linkHref+" url")}var r=e.getMode(t,"text/html"),i=r.name=="null";n.highlightFormatting===undefined&&(n.highlightFormatting=!1),n.maxBlockquoteDepth===undefined&&(n.maxBlockquoteDepth=0),n.underscoresBreakWords===undefined&&(n.underscoresBreakWords=!0),n.taskLists===undefined&&(n.taskLists=!1),n.strikethrough===undefined&&(n.strikethrough=!1),n.tokenTypeOverrides===undefined&&(n.tokenTypeOverrides={});var o={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var u in o)o.hasOwnProperty(u)&&n.tokenTypeOverrides[u]&&(o[u]=n.tokenTypeOverrides[u]);var a=/^([*\-_])(?:\s*\1){2,}\s*$/,f=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,l=/^\[(x| )\](?=\s)/,c=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,h=/^ *(?:\={1,}|-{1,})\s*$/,p=/^[^#!\[\]*_\\<>` "'(~]+/,d=new RegExp("^("+(n.fencedCodeBlocks===!0?"~~~+|```+":n.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)"),L={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\\]]|\\.)*\])*?(?=\])/},D={startState:function(){return{f:b,prevLine:null,thisLine:null,block:b,htmlState:null,indentation:0,inline:N,text:T,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(r,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkTitle:t.linkTitle,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,header:t.header,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedChars:t.fencedChars}},token:function(e,t){t.formatting=!1;if(e!=t.thisLine){var n=t.header||t.hr;t.header=0,t.hr=!1;if(e.match(/^\s*$/,!0)||n){y(t);if(!n)return null;t.prevLine=null}t.prevLine=t.thisLine,t.thisLine=e,t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var r=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;t.indentationDiff=Math.min(r-t.indentation,4),t.indentation=t.indentation+t.indentationDiff;if(r>0)return null}return t.f(e,t)},innerMode:function(e){return e.block==w?{state:e.htmlState,mode:r}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:D}},blankLine:y,getType:x,closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return D},"xml"),e.defineMIME("text/x-markdown","markdown")})},{"../../lib/codemirror":5,"../meta":8,"../xml/xml":9}],8:[function(t,n,r){(function(i){typeof r=="object"&&typeof n=="object"?i(t("../lib/codemirror")):typeof e=="function"&&e.amd?e(["../lib/codemirror"],i):i(CodeMirror)})(function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.mime==t)return r;if(r.mimes)for(var i=0;i<r.mimes.length;i++)if(r.mimes[i]==t)return r}if(/\+xml$/.test(t))return e.findModeByMIME("application/xml");if(/\+json$/.test(t))return e.findModeByMIME("application/json")},e.findModeByExtension=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.ext)for(var i=0;i<r.ext.length;i++)if(r.ext[i]==t)return r}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.file&&r.file.test(t))return r}var i=t.lastIndexOf("."),s=i>-1&&t.substring(i+1,t.length);if(s)return e.findModeByExtension(s)},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.name.toLowerCase()==t)return r;if(r.alias)for(var i=0;i<r.alias.length;i++)if(r.alias[i].toLowerCase()==t)return r}}})},{"../lib/codemirror":5}],9:[function(t,n,r){(function(i){typeof r=="object"&&typeof n=="object"?i(t("../../lib/codemirror")):typeof e=="function"&&e.amd?e(["../../lib/codemirror"],i):i(CodeMirror)})(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",function(r,i){function c(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if(r=="<")return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(d("atom","]]>")):null:e.match("--")?n(d("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(v(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=d("meta","?>"),"meta"):(f=e.eat("/")?"closeTag":"openTag",t.tokenize=h,"tag bracket");if(r=="&"){var i;return e.eat("#")?e.eat("x")?i=e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):i=e.eatWhile(/[\d]/)&&e.eat(";"):i=e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),i?"atom":"error"}return e.eatWhile(/[^&<]/),null}function h(e,t){var n=e.next();if(n==">"||n=="/"&&e.eat(">"))return t.tokenize=c,f=n==">"?"endTag":"selfcloseTag","tag bracket";if(n=="=")return f="equals",null;if(n=="<"){t.tokenize=c,t.state=b,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=p(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function p(e){var t=function(t,n){while(!t.eol())if(t.next()==e){n.tokenize=h;break}return"string"};return t.isInAttribute=!0,t}function d(e,t){return function(n,r){while(!n.eol()){if(n.match(t)){r.tokenize=c;break}n.next()}return e}}function v(e){return function(t,n){var r;while((r=t.next())!=null){if(r=="<")return n.tokenize=v(e+1),n.tokenize(t,n);if(r==">"){if(e==1){n.tokenize=c;break}return n.tokenize=v(e-1),n.tokenize(t,n)}}return"meta"}}function m(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n;if(o.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)this.noIndent=!0}function g(e){e.context&&(e.context=e.context.prev)}function y(e,t){var n;for(;;){if(!e.context)return;n=e.context.tagName;if(!o.contextGrabbers.hasOwnProperty(n)||!o.contextGrabbers[n].hasOwnProperty(t))return;g(e)}}function b(e,t,n){return e=="openTag"?(n.tagStart=t.column(),w):e=="closeTag"?E:b}function w(e,t,n){return e=="word"?(n.tagName=t.current(),l="tag",T):(l="error",w)}function E(e,t,n){if(e=="word"){var r=t.current();return n.context&&n.context.tagName!=r&&o.implicitlyClosed.hasOwnProperty(n.context.tagName)&&g(n),n.context&&n.context.tagName==r||o.matchClosing===!1?(l="tag",S):(l="tag error",x)}return l="error",x}function S(e,t,n){return e!="endTag"?(l="error",S):(g(n),b)}function x(e,t,n){return l="error",S(e,t,n)}function T(e,t,n){if(e=="word")return l="attribute",N;if(e=="endTag"||e=="selfcloseTag"){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,e=="selfcloseTag"||o.autoSelfClosers.hasOwnProperty(r)?y(n,r):(y(n,r),n.context=new m(n,r,i==n.indented)),b}return l="error",T}function N(e,t,n){return e=="equals"?C:(o.allowMissing||(l="error"),T(e,t,n))}function C(e,t,n){return e=="string"?k:e=="word"&&o.allowUnquoted?(l="string",T):(l="error",T(e,t,n))}function k(e,t,n){return e=="string"?k:T(e,t,n)}var s=r.indentUnit,o={},u=i.htmlMode?t:n;for(var a in u)o[a]=u[a];for(var a in i)o[a]=i[a];var f,l;return c.isInText=!0,{startState:function(e){var t={tokenize:c,state:b,indented:e||0,tagName:null,tagStart:null,context:null};return e!=null&&(t.baseIndent=e),t},token:function(e,t){!t.tagName&&e.sol()&&(t.indented=e.indentation());if(e.eatSpace())return null;f=null;var n=t.tokenize(e,t);return(n||f)&&n!="comment"&&(l=null,t.state=t.state(f||n,e,t),l&&(n=l=="error"?n+" error":l)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+s;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=h&&t.tokenize!=c)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return o.multilineTagIndentPastTag!==!1?t.tagStart+t.tagName.length+2:t.tagStart+s*(o.multilineTagIndentFactor||1);if(o.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var u=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(u&&u[1])while(i){if(i.tagName==u[2]){i=i.prev;break}if(!o.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(u)while(i){var a=o.contextGrabbers[i.tagName];if(!a||!a.hasOwnProperty(u[2]))break;i=i.prev}while(i&&i.prev&&!i.startOfLine)i=i.prev;return i?i.indent+s:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:o.htmlMode?"html":"xml",helperType:o.htmlMode?"html":"xml",skipAttribute:function(e){e.state==C&&(e.state=T)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},{"../../lib/codemirror":5}],10:[function(t,n,r){(function(t){(function(){function i(e){this.tokens=[],this.tokens.links={},this.options=e||d.defaults,this.rules=t.normal,this.options.gfm&&(this.options.tables?this.rules=t.tables:this.rules=t.gfm)}function o(e,t){this.options=t||d.defaults,this.links=e,this.rules=s.normal,this.renderer=this.options.renderer||new u,this.renderer.options=this.options;if(!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=s.breaks:this.rules=s.gfm:this.options.pedantic&&(this.rules=s.pedantic)}function u(e){this.options=e||{}}function a(e){this.tokens=[],this.token=null,this.options=e||d.defaults,this.options.renderer=this.options.renderer||new u,this.renderer=this.options.renderer,this.renderer.options=this.options}function f(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(e,t){return t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function c(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,i),n):new RegExp(e,t)}}function h(){}function p(e){var t=1,n,r;for(;t<arguments.length;t++){n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}function d(e,t,n){if(n||typeof t=="function"){n||(n=t,t=null),t=p({},d.defaults,t||{});var r=t.highlight,s,o,u=0;try{s=i.lex(e,t)}catch(l){return n(l)}o=s.length;var c=function(e){if(e)return t.highlight=r,n(e);var i;try{i=a.parse(s,t)}catch(o){e=o}return t.highlight=r,e?n(e):n(null,i)};if(!r||r.length<3)return c();delete t.highlight;if(!o)return c();for(;u<s.length;u++)(function(e){return e.type!=="code"?--o||c():r(e.text,e.lang,function(t,n){if(t)return c(t);if(n==null||n===e.text)return--o||c();e.text=n,e.escaped=!0,--o||c()})})(s[u]);return}try{return t&&(t=p({},d.defaults,t)),a.parse(i.lex(e,t),t)}catch(l){l.message+="\nPlease report this to https://github.com/chjj/marked.";if((t||d.defaults).silent)return"<p>An error occured:</p><pre>"+f(l.message+"",!0)+"</pre>";throw l}}var t={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:h,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:h,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:h,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};t.bullet=/(?:[*+-]|\d+\.)/,t.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,t.item=c(t.item,"gm")(/bull/g,t.bullet)(),t.list=c(t.list)(/bull/g,t.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+t.def.source+")")(),t.blockquote=c(t.blockquote)("def",t.def)(),t._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",t.html=c(t.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,t._tag)(),t.paragraph=c(t.paragraph)("hr",t.hr)("heading",t.heading)("lheading",t.lheading)("blockquote",t.blockquote)("tag","<"+t._tag)("def",t.def)(),t.normal=p({},t),t.gfm=p({},t.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),t.gfm.paragraph=c(t.paragraph)("(?!","(?!"+t.gfm.fences.source.replace("\\1","\\2")+"|"+t.list.source.replace("\\1","\\3")+"|")(),t.tables=p({},t.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),i.rules=t,i.lex=function(e,t){var n=new i(t);return n.lex(e)},i.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},i.prototype.token=function(e,n,r){var e=e.replace(/^ +$/gm,""),i,s,o,u,a,f,l,c,h;while(e){if(o=this.rules.newline.exec(e))e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"});if(o=this.rules.code.exec(e)){e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});continue}if(o=this.rules.fences.exec(e)){e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});continue}if(o=this.rules.heading.exec(e)){e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});continue}if(n&&(o=this.rules.nptable.exec(e))){e=e.substring(o[0].length),f={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")};for(c=0;c<f.align.length;c++)/^ *-+: *$/.test(f.align[c])?f.align[c]="right":/^ *:-+: *$/.test(f.align[c])?f.align[c]="center":/^ *:-+ *$/.test(f.align[c])?f.align[c]="left":f.align[c]=null;for(c=0;c<f.cells.length;c++)f.cells[c]=f.cells[c].split(/ *\| */);this.tokens.push(f);continue}if(o=this.rules.lheading.exec(e)){e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[2]==="="?1:2,text:o[1]});continue}if(o=this.rules.hr.exec(e)){e=e.substring(o[0].length),this.tokens.push({type:"hr"});continue}if(o=this.rules.blockquote.exec(e)){e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,n,!0),this.tokens.push({type:"blockquote_end"});continue}if(o=this.rules.list.exec(e)){e=e.substring(o[0].length),u=o[2],this.tokens.push({type:"list_start",ordered:u.length>1}),o=o[0].match(this.rules.item),i=!1,h=o.length,c=0;for(;c<h;c++)f=o[c],l=f.length,f=f.replace(/^ *([*+-]|\d+\.) +/,""),~f.indexOf("\n ")&&(l-=f.length,f=this.options.pedantic?f.replace(/^ {1,4}/gm,""):f.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&c!==h-1&&(a=t.bullet.exec(o[c+1])[0],u!==a&&!(u.length>1&&a.length>1)&&(e=o.slice(c+1).join("\n")+e,c=h-1)),s=i||/\n\n(?!\s*$)/.test(f),c!==h-1&&(i=f.charAt(f.length-1)==="\n",s||(s=i)),this.tokens.push({type:s?"loose_item_start":"list_item_start"}),this.token(f,!1,r),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"});continue}if(o=this.rules.html.exec(e)){e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(o[1]==="pre"||o[1]==="script"||o[1]==="style"),text:o[0]});continue}if(!r&&n&&(o=this.rules.def.exec(e))){e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};continue}if(n&&(o=this.rules.table.exec(e))){e=e.substring(o[0].length),f={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(c=0;c<f.align.length;c++)/^ *-+: *$/.test(f.align[c])?f.align[c]="right":/^ *:-+: *$/.test(f.align[c])?f.align[c]="center":/^ *:-+ *$/.test(f.align[c])?f.align[c]="left":f.align[c]=null;for(c=0;c<f.cells.length;c++)f.cells[c]=f.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(f);continue}if(n&&(o=this.rules.paragraph.exec(e))){e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:o[1].charAt(o[1].length-1)==="\n"?o[1].slice(0,-1):o[1]});continue}if(o=this.rules.text.exec(e)){e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});continue}if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}return this.tokens};var s={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:h,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)\B/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:h,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};s._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,s._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,s.link=c(s.link)("inside",s._inside)("href",s._href)(),s.reflink=c(s.reflink)("inside",s._inside)(),s.normal=p({},s),s.pedantic=p({},s.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),s.gfm=p({},s.normal,{escape:c(s.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:c(s.text)("]|","~]|")("|","|https?://|")()}),s.breaks=p({},s.gfm,{br:c(s.br)("{2,}","*")(),text:c(s.gfm.text)("{2,}","*")()}),o.rules=s,o.output=function(e,t,n){var r=new o(t,n);return r.output(e)},o.prototype.output=function(e){var t="",n,r,i,s;while(e){if(s=this.rules.escape.exec(e)){e=e.substring(s[0].length),t+=s[1];continue}if(s=this.rules.autolink.exec(e)){e=e.substring(s[0].length),s[2]==="@"?(r=s[1].charAt(6)===":"?this.mangle(s[1].substring(7)):this.mangle(s[1]),i=this.mangle("mailto:")+r):(r=f(s[1]),i=r),t+=this.renderer.link(i,null,r);continue}if(!this.inLink&&(s=this.rules.url.exec(e))){e=e.substring(s[0].length),r=f(s[1]),i=r,t+=this.renderer.link(i,null,r);continue}if(s=this.rules.tag.exec(e)){!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),e=e.substring(s[0].length),t+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):f(s[0]):s[0];continue}if(s=this.rules.link.exec(e)){e=e.substring(s[0].length),this.inLink=!0,t+=this.outputLink(s,{href:s[2],title:s[3]}),this.inLink=!1;continue}if((s=this.rules.reflink.exec(e))||(s=this.rules.nolink.exec(e))){e=e.substring(s[0].length),n=(s[2]||s[1]).replace(/\s+/g," "),n=this.links[n.toLowerCase()];if(!n||!n.href){t+=s[0].charAt(0),e=s[0].substring(1)+e;continue}this.inLink=!0,t+=this.outputLink(s,n),this.inLink=!1;continue}if(s=this.rules.strong.exec(e)){e=e.substring(s[0].length),t+=this.renderer.strong(this.output(s[2]||s[1]));continue}if(s=this.rules.em.exec(e)){e=e.substring(s[0].length),t+=this.renderer.em(this.output(s[2]||s[1]));continue}if(s=this.rules.code.exec(e)){e=e.substring(s[0].length),t+=this.renderer.codespan(f(s[2],!0));continue}if(s=this.rules.br.exec(e)){e=e.substring(s[0].length),t+=this.renderer.br();continue}if(s=this.rules.del.exec(e)){e=e.substring(s[0].length),t+=this.renderer.del(this.output(s[1]));continue}if(s=this.rules.text.exec(e)){e=e.substring(s[0].length),t+=this.renderer.text(f(this.smartypants(s[0])));continue}if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}return t},o.prototype.outputLink=function(e,t){var n=f(t.href),r=t.title?f(t.title):null;return e[0].charAt(0)!=="!"?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,f(e[1]))},o.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},o.prototype.mangle=function(e){if(!this.options.mangle)return e;var t="",n=e.length,r=0,i;for(;r<n;r++)i=e.charCodeAt(r),Math.random()>.5&&(i="x"+i.toString(16)),t+="&#"+i+";";return t},u.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);r!=null&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+f(t,!0)+'">'+(n?e:f(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:f(e,!0))+"\n</code></pre>"},u.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},u.prototype.html=function(e){return e},u.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},u.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},u.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},u.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},u.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},u.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n"+"<tbody>\n"+t+"</tbody>\n"+"</table>\n"},u.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},u.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},u.prototype.strong=function(e){return"<strong>"+e+"</strong>"},u.prototype.em=function(e){return"<em>"+e+"</em>"},u.prototype.codespan=function(e){return"<code>"+e+"</code>"},u.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},u.prototype.del=function(e){return"<del>"+e+"</del>"},u.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(l(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(i){return""}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0)return""}var s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>",s},u.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r},u.prototype.text=function(e){return e},a.parse=function(e,t,n){var r=new a(t,n);return r.parse(e)},a.prototype.parse=function(e){this.inline=new o(e.links,this.options,this.renderer),this.tokens=e.reverse();var t="";while(this.next())t+=this.tok();return t},a.prototype.next=function(){return this.token=this.tokens.pop()},a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},a.prototype.parseText=function(){var e=this.token.text;while(this.peek().type==="text")e+="\n"+this.next().text;return this.inline.output(e)},a.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e="",t="",n,r,i,s,o;i="";for(n=0;n<this.token.header.length;n++)s={header:!0,align:this.token.align[n]},i+=this.renderer.tablecell(this.inline.output(this.token.header[n]),{header:!0,align:this.token.align[n]});e+=this.renderer.tablerow(i);for(n=0;n<this.token.cells.length;n++){r=this.token.cells[n],i="";for(o=0;o<r.length;o++)i+=this.renderer.tablecell(this.inline.output(r[o]),{header:!1,align:this.token.align[o]});t+=this.renderer.tablerow(i)}return this.renderer.table(e,t);case"blockquote_start":var t="";while(this.next().type!=="blockquote_end")t+=this.tok();return this.renderer.blockquote(t);case"list_start":var t="",u=this.token.ordered;while(this.next().type!=="list_end")t+=this.tok();return this.renderer.list(t,u);case"list_item_start":var t="";while(this.next().type!=="list_item_end")t+=this.token.type==="text"?this.parseText():this.tok();return this.renderer.listitem(t);case"loose_item_start":var t="";while(this.next().type!=="list_item_end")t+=this.tok();return this.renderer.listitem(t);case"html":var a=!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},h.exec=h,d.options=d.setOptions=function(e){return p(d.defaults,e),d},d.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new u,xhtml:!1},d.Parser=a,d.parser=a.parse,d.Renderer=u,d.Lexer=i,d.lexer=i.lex,d.InlineLexer=o,d.inlineLexer=o.output,d.parse=d,typeof n!="undefined"&&typeof r=="object"?n.exports=d:typeof e=="function"&&e.amd?e(function(){return d}):this.marked=d}).call(function(){return this||(typeof window!="undefined"?window:t)}())}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],11:[function(e,t,n){var r=e("codemirror");r.commands.tabAndIndentMarkdownList=function(e){var t=e.listSelections(),n=t[0].head,r=e.getStateAfter(n.line),i=r.list!==!1;if(i){e.execCommand("indentMore");return}if(e.options.indentWithTabs)e.execCommand("insertTab");else{var s=Array(e.options.tabSize+1).join(" ");e.replaceSelection(s)}},r.commands.shiftTabAndUnindentMarkdownList=function(e){var t=e.listSelections(),n=t[0].head,r=e.getStateAfter(n.line),i=r.list!==!1;if(i){e.execCommand("indentLess");return}if(e.options.indentWithTabs)e.execCommand("insertTab");else{var s=Array(e.options.tabSize+1).join(" ");e.replaceSelection(s)}}},{codemirror:5}],12:[function(e,t,n){"use strict";function l(e){return s?e=e.replace("Ctrl","Cmd"):e=e.replace("Cmd","Ctrl"),e}function c(e,t,n){e=e||{};var r=document.createElement("a");return t=t==undefined?!0:t,e.title&&t&&(r.title=p(e.title,e.action,n),s&&(r.title=r.title.replace("Ctrl","⌘"),r.title=r.title.replace("Alt","⌥"))),r.tabIndex=-1,r.className=e.className,r}function h(){var e=document.createElement("i");return e.className="separator",e.innerHTML="|",e}function p(e,t,n){var r,i=e;return t&&(r=a(t),n[r]&&(i+=" ("+l(n[r])+")")),i}function d(e,t){t=t||e.getCursor("start");var n=e.getTokenAt(t);if(!n.type)return{};var r=n.type.split(" "),i={},s,o;for(var u=0;u<r.length;u++)s=r[u],s==="strong"?i.bold=!0:s==="variable-2"?(o=e.getLine(t.line),/^\s*\d+\.\s/.test(o)?i["ordered-list"]=!0:i["unordered-list"]=!0):s==="atom"?i.quote=!0:s==="em"?i.italic=!0:s==="quote"?i.quote=!0:s==="strikethrough"?i.strikethrough=!0:s==="comment"?i.code=!0:s==="link"?i.link=!0:s==="tag"?i.image=!0:s.match(/^header(\-[1-6])?$/)&&(i[s.replace("header","heading")]=!0);return i}function m(e){var t=e.codemirror;t.setOption("fullScreen",!t.getOption("fullScreen")),t.getOption("fullScreen")?(v=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=v;var n=t.getWrapperElement();/fullscreen/.test(n.previousSibling.className)?n.previousSibling.className=n.previousSibling.className.replace(/\s*fullscreen\b/,""):n.previousSibling.className+=" fullscreen";var r=e.toolbarElements.fullscreen;/active/.test(r.className)?r.className=r.className.replace(/\s*active\s*/g,""):r.className+=" active";var i=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(i.className)&&B(e)}function g(e){R(e,"bold",e.options.blockStyles.bold)}function y(e){R(e,"italic",e.options.blockStyles.italic)}function b(e){R(e,"strikethrough","~~")}function w(e){function n(e){if(typeof e!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof e+": "+e;return e.styles&&e.styles[2]&&e.styles[2].indexOf("formatting-code-block")!==-1}function r(e){return e.state.base.base||e.state.base}function i(e,t,i,s,o){i=i||e.getLineHandle(t),s=s||e.getTokenAt({line:t,ch:1}),o=o||!!i.text&&e.getTokenAt({line:t,ch:i.text.length-1});var u=s.type?s.type.split(" "):[];return o&&r(o).indentedCode?"indented":u.indexOf("comment")===-1?!1:r(s).fencedChars||r(o).fencedChars||n(i)?"fenced":"single"}function s(e,t,n,r){var i=t.line+1,s=n.line+1,o=t.line!==n.line,u=r+"\n",a="\n"+r;o&&s++,o&&n.ch===0&&(a=r+"\n",s--),F(e,!1,[u,a]),e.setSelection({line:i,ch:0},{line:s,ch:0})}var t=e.options.blockStyles.code,o=e.codemirror,u=o.getCursor("start"),a=o.getCursor("end"),f=o.getTokenAt({line:u.line,ch:u.ch||1}),l=o.getLineHandle(u.line),c=i(o,u.line,l,f),h,p,d;if(c==="single"){var v=l.text.slice(0,u.ch).replace("`",""),m=l.text.slice(u.ch).replace("`","");o.replaceRange(v+m,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),u.ch--,u!==a&&a.ch--,o.setSelection(u,a),o.focus()}else if(c==="fenced")if(u.line!==a.line||u.ch!==a.ch){for(h=u.line;h>=0;h--){l=o.getLineHandle(h);if(n(l))break}var g=o.getTokenAt({line:h,ch:1}),y=r(g).fencedChars,b,w,E,S;n(o.getLineHandle(u.line))?(b="",w=u.line):n(o.getLineHandle(u.line-1))?(b="",w=u.line-1):(b=y+"\n",w=u.line),n(o.getLineHandle(a.line))?(E="",S=a.line,a.ch===0&&(S+=1)):a.ch!==0&&n(o.getLineHandle(a.line+1))?(E="",S=a.line+1):(E=y+"\n",S=a.line+1),a.ch===0&&(S-=1),o.operation(function(){o.replaceRange(E,{line:S,ch:0},{line:S+(E?0:1),ch:0}),o.replaceRange(b,{line:w,ch:0},{line:w+(b?0:1),ch:0})}),o.setSelection({line:w+(b?1:0),ch:0},{line:S+(b?1:-1),ch:0}),o.focus()}else{var x=u.line;n(o.getLineHandle(u.line))&&(i(o,u.line+1)==="fenced"?(h=u.line,x=u.line+1):(p=u.line,x=u.line-1));if(h===undefined)for(h=x;h>=0;h--){l=o.getLineHandle(h);if(n(l))break}if(p===undefined){d=o.lineCount();for(p=x;p<d;p++){l=o.getLineHandle(p);if(n(l))break}}o.operation(function(){o.replaceRange("",{line:h,ch:0},{line:h+1,ch:0}),o.replaceRange("",{line:p-1,ch:0},{line:p,ch:0})}),o.focus()}else if(c==="indented"){if(u.line!==a.line||u.ch!==a.ch)h=u.line,p=a.line,a.ch===0&&p--;else{for(h=u.line;h>=0;h--){l=o.getLineHandle(h);if(l.text.match(/^\s*$/))continue;if(i(o,h,l)!=="indented"){h+=1;break}}d=o.lineCount();for(p=u.line;p<d;p++){l=o.getLineHandle(p);if(l.text.match(/^\s*$/))continue;if(i(o,p,l)!=="indented"){p-=1;break}}}var T=o.getLineHandle(p+1),N=T&&o.getTokenAt({line:p+1,ch:T.text.length-1}),C=N&&r(N).indentedCode;C&&o.replaceRange("\n",{line:p+1,ch:0});for(var k=h;k<=p;k++)o.indentLine(k,"subtract");o.focus()}else{var L=u.line===a.line&&u.ch===a.ch&&u.ch===0,A=u.line!==a.line;L||A?s(o,u,a,t):F(o,!1,["`","`"])}}function E(e){var t=e.codemirror;q(t,"quote")}function S(e){var t=e.codemirror;I(t,"smaller")}function x(e){var t=e.codemirror;I(t,"bigger")}function T(e){var t=e.codemirror;I(t,undefined,1)}function N(e){var t=e.codemirror;I(t,undefined,2)}function C(e){var t=e.codemirror;I(t,undefined,3)}function k(e){var t=e.codemirror;q(t,"unordered-list")}function L(e){var t=e.codemirror;q(t,"ordered-list")}function A(e){var t=e.codemirror;U(t)}function O(e){var t=e.codemirror,n=d(t),r=e.options,i="http://";if(r.promptURLs){i=prompt(r.promptTexts.link);if(!i)return!1}F(t,n.link,r.insertTexts.link,i)}function M(e){var t=e.codemirror,n=d(t),r=e.options,i="http://";if(r.promptURLs){i=prompt(r.promptTexts.image);if(!i)return!1}F(t,n.image,r.insertTexts.image,i)}function _(e){var t=e.codemirror,n=d(t),r=e.options;F(t,n.table,r.insertTexts.table)}function D(e){var t=e.codemirror,n=d(t),r=e.options;F(t,n.image,r.insertTexts.horizontalRule)}function P(e){var t=e.codemirror;t.undo(),t.focus()}function H(e){var t=e.codemirror;t.redo(),t.focus()}function B(e){var t=e.codemirror,n=t.getWrapperElement(),r=n.nextSibling,i=e.toolbarElements["side-by-side"],s=!1;/editor-preview-active-side/.test(r.className)?(r.className=r.className.replace(/\s*editor-preview-active-side\s*/g,""),i.className=i.className.replace(/\s*active\s*/g,""),n.className=n.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){t.getOption("fullScreen")||m(e),r.className+=" editor-preview-active-side"},1),i.className+=" active",n.className+=" CodeMirror-sided",s=!0);var o=n.lastChild;if(/editor-preview-active/.test(o.className)){o.className=o.className.replace(/\s*editor-preview-active\s*/g,"");var u=e.toolbarElements.preview,a=n.previousSibling;u.className=u.className.replace(/\s*active\s*/g,""),a.className=a.className.replace(/\s*disabled-for-preview*/g,"")}var f=function(){r.innerHTML=e.options.previewRender(e.value(),r)};t.sideBySideRenderingFunction||(t.sideBySideRenderingFunction=f),s?(r.innerHTML=e.options.previewRender(e.value(),r),t.on("update",t.sideBySideRenderingFunction)):t.off("update",t.sideBySideRenderingFunction),t.refresh()}function j(e){var t=e.codemirror,n=t.getWrapperElement(),r=n.previousSibling,i=e.options.toolbar?e.toolbarElements.preview:!1,s=n.lastChild;if(!s||!/editor-preview/.test(s.className))s=document.createElement("div"),s.className="editor-preview",n.appendChild(s);/editor-preview-active/.test(s.className)?(s.className=s.className.replace(/\s*editor-preview-active\s*/g,""),i&&(i.className=i.className.replace(/\s*active\s*/g,""),r.className=r.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){s.className+=" editor-preview-active"},1),i&&(i.className+=" active",r.className+=" disabled-for-preview")),s.innerHTML=e.options.previewRender(e.value(),s);var o=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(o.className)&&B(e)}function F(e,t,n,r){if(/editor-preview-active/.test(e.getWrapperElement().lastChild.className))return;var i,s=n[0],o=n[1],u=e.getCursor("start"),a=e.getCursor("end");r&&(o=o.replace("#url#",r)),t?(i=e.getLine(u.line),s=i.slice(0,u.ch),o=i.slice(u.ch),e.replaceRange(s+o,{line:u.line,ch:0})):(i=e.getSelection(),e.replaceSelection(s+i+o),u.ch+=s.length,u!==a&&(a.ch+=s.length)),e.setSelection(u,a),e.focus()}function I(e,t,n){if(/editor-preview-active/.test(e.getWrapperElement().lastChild.className))return;var r=e.getCursor("start"),i=e.getCursor("end");for(var s=r.line;s<=i.line;s++)(function(r){var i=e.getLine(r),s=i.search(/[^#]/);t!==undefined?s<=0?t=="bigger"?i="###### "+i:i="# "+i:s==6&&t=="smaller"?i=i.substr(7):s==1&&t=="bigger"?i=i.substr(2):t=="bigger"?i=i.substr(1):i="#"+i:n==1?s<=0?i="# "+i:s==n?i=i.substr(s+1):i="# "+i.substr(s+1):n==2?s<=0?i="## "+i:s==n?i=i.substr(s+1):i="## "+i.substr(s+1):s<=0?i="### "+i:s==n?i=i.substr(s+1):i="### "+i.substr(s+1),e.replaceRange(i,{line:r,ch:0},{line:r,ch:99999999999999})})(s);e.focus()}function q(e,t){if(/editor-preview-active/.test(e.getWrapperElement().lastChild.className))return;var n=d(e),r=e.getCursor("start"),i=e.getCursor("end"),s={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},o={quote:"> ","unordered-list":"* ","ordered-list":"1. "};for(var u=r.line;u<=i.line;u++)(function(r){var i=e.getLine(r);n[t]?i=i.replace(s[t],"$1"):i=o[t]+i,e.replaceRange(i,{line:r,ch:0},{line:r,ch:99999999999999})})(u);e.focus()}function R(e,t,n,r){if(/editor-preview-active/.test(e.codemirror.getWrapperElement().lastChild.className))return;r=typeof r=="undefined"?n:r;var i=e.codemirror,s=d(i),o,u=n,a=r,f=i.getCursor("start"),l=i.getCursor("end");s[t]?(o=i.getLine(f.line),u=o.slice(0,f.ch),a=o.slice(f.ch),t=="bold"?(u=u.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),a=a.replace(/(\*\*|__)/,"")):t=="italic"?(u=u.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),a=a.replace(/(\*|_)/,"")):t=="strikethrough"&&(u=u.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),a=a.replace(/(\*\*|~~)/,"")),i.replaceRange(u+a,{line:f.line,ch:0},{line:f.line,ch:99999999999999}),t=="bold"||t=="strikethrough"?(f.ch-=2,f!==l&&(l.ch-=2)):t=="italic"&&(f.ch-=1,f!==l&&(l.ch-=1))):(o=i.getSelection(),t=="bold"?(o=o.split("**").join(""),o=o.split("__").join("")):t=="italic"?(o=o.split("*").join(""),o=o.split("_").join("")):t=="strikethrough"&&(o=o.split("~~").join("")),i.replaceSelection(u+o+a),f.ch+=n.length,l.ch=f.ch+o.length),i.setSelection(f,l),i.focus()}function U(e){if(/editor-preview-active/.test(e.getWrapperElement().lastChild.className))return;var t=e.getCursor("start"),n=e.getCursor("end"),r;for(var i=t.line;i<=n.line;i++)r=e.getLine(i),r=r.replace(/^[ ]*([# ]+|\*|\-|[> ]+|[0-9]+(.|\)))[ ]*/,""),e.replaceRange(r,{line:i,ch:0},{line:i,ch:99999999999999})}function z(e,t){for(var n in t)t.hasOwnProperty(n)&&(t[n]instanceof Array?e[n]=t[n].concat(e[n]instanceof Array?e[n]:[]):t[n]!==null&&typeof t[n]=="object"&&t[n].constructor===Object?e[n]=z(e[n]||{},t[n]):e[n]=t[n]);return e}function W(e){for(var t=1;t<arguments.length;t++)e=z(e,arguments[t]);return e}function X(e){var t=/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,n=e.match(t),r=0;if(n===null)return r;for(var i=0;i<n.length;i++)n[i].charCodeAt(0)>=19968?r+=n[i].length:r+=1;return r}function Q(e){e=e||{},e.parent=this;var t=!0;e.autoDownloadFontAwesome===!1&&(t=!1);if(e.autoDownloadFontAwesome!==!0){var n=document.styleSheets;for(var r=0;r<n.length;r++){if(!n[r].href)continue;n[r].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(t=!1)}}if(t){var i=document.createElement("link");i.rel="stylesheet",i.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(i)}if(e.element)this.element=e.element;else if(e.element===null){console.log("SimpleMDE: Error. No element was found.");return}if(e.toolbar===undefined){e.toolbar=[];for(var s in V)V.hasOwnProperty(s)&&(s.indexOf("separator-")!=-1&&e.toolbar.push("|"),(V[s].default===!0||e.showIcons&&e.showIcons.constructor===Array&&e.showIcons.indexOf(s)!=-1)&&e.toolbar.push(s))}e.hasOwnProperty("status")||(e.status=["autosave","lines","words","cursor"]),e.previewRender||(e.previewRender=function(e){return this.parent.markdown(e)}),e.parsingConfig=W({highlightFormatting:!0},e.parsingConfig||{}),e.insertTexts=W({},$,e.insertTexts||{}),e.promptTexts=J,e.blockStyles=W({},K,e.blockStyles||{}),e.shortcuts=W({},u,e.shortcuts||{}),e.autosave!=undefined&&e.autosave.unique_id!=undefined&&e.autosave.unique_id!=""&&(e.autosave.uniqueId=e.autosave.unique_id),this.options=e,this.render(),e.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(e.initialValue)}function G(){if(typeof localStorage!="object")return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(e){return!1}return!0}var r=e("codemirror");e("codemirror/addon/edit/continuelist.js"),e("./codemirror/tablist"),e("codemirror/mode/markdown/markdown.js"),e("codemirror/addon/mode/overlay.js"),e("codemirror/addon/display/placeholder.js"),e("codemirror/addon/selection/mark-selection.js"),e("codemirror/mode/gfm/gfm.js"),e("codemirror/mode/xml/xml.js");var i=e("marked"),s=/Mac/.test(navigator.platform),o={toggleBold:g,toggleItalic:y,drawLink:O,toggleHeadingSmaller:S,toggleHeadingBigger:x,drawImage:M,toggleBlockquote:E,toggleOrderedList:L,toggleUnorderedList:k,toggleCodeBlock:w,togglePreview:j,toggleStrikethrough:b,toggleHeading1:T,toggleHeading2:N,toggleHeading3:C,cleanBlock:A,drawTable:_,drawHorizontalRule:D,undo:P,redo:H,toggleSideBySide:B,toggleFullScreen:m},u={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},a=function(e){for(var t in o)if(o[t]===e)return t;return null},f=function(){var e=!1;return function(t){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))e=!0}(navigator.userAgent||navigator.vendor||window.opera),e},v="",V={bold:{name:"bold",action:g,className:"fa fa-bold",title:"Bold","default":!0},italic:{name:"italic",action:y,className:"fa fa-italic",title:"Italic","default":!0},strikethrough:{name:"strikethrough",action:b,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:S,className:"fa fa-header",title:"Heading","default":!0},"heading-smaller":{name:"heading-smaller",action:S,className:"fa fa-header fa-header-x fa-header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:x,className:"fa fa-header fa-header-x fa-header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:T,className:"fa fa-header fa-header-x fa-header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:N,className:"fa fa-header fa-header-x fa-header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:C,className:"fa fa-header fa-header-x fa-header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:w,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:E,className:"fa fa-quote-left",title:"Quote","default":!0},"unordered-list":{name:"unordered-list",action:k,className:"fa fa-list-ul",title:"Generic List","default":!0},"ordered-list":{name:"ordered-list",action:L,className:"fa fa-list-ol",title:"Numbered List","default":!0},"clean-block":{name:"clean-block",action:A,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:O,className:"fa fa-link",title:"Create Link","default":!0},image:{name:"image",action:M,className:"fa fa-picture-o",title:"Insert Image","default":!0},table:{name:"table",action:_,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:D,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:j,className:"fa fa-eye no-disable",title:"Toggle Preview","default":!0},"side-by-side":{name:"side-by-side",action:B,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side","default":!0},fullscreen:{name:"fullscreen",action:m,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen","default":!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide","default":!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:P,className:"fa fa-undo no-disable",title:"Undo"},redo:{name:"redo",action:H,className:"fa fa-repeat no-disable",title:"Redo"}},$={link:["[","](#url#)"],image:["![](","#url#)"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},J={link:"URL for the link:",image:"URL of the image:"},K={bold:"**",code:"```",italic:"*"};Q.prototype.markdown=function(e){if(i){var t={};return this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?t.breaks=!1:t.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0&&window.hljs&&(t.highlight=function(e){return window.hljs.highlightAuto(e).value}),i.setOptions(t),i(e)}},Q.prototype.render=function(e){e||(e=this.element||document.getElementsByTagName("textarea")[0]);if(this._rendered&&this._rendered===e)return;this.element=e;var t=this.options,n=this,i={};for(var s in t.shortcuts)t.shortcuts[s]!==null&&o[s]!==null&&function(e){i[l(t.shortcuts[e])]=function(){o[e](n)}}(s);i.Enter="newlineAndIndentContinueMarkdownList",i.Tab="tabAndIndentMarkdownList",i["Shift-Tab"]="shiftTabAndUnindentMarkdownList",i.Esc=function(e){e.getOption("fullScreen")&&m(n)},document.addEventListener("keydown",function(e){e=e||window.event,e.keyCode==27&&n.codemirror.getOption("fullScreen")&&m(n)},!1);var u,a;u=t.parsingConfig,u.name="gfm",u.gitHubSpice=!1,this.codemirror=r.fromTextArea(e,{mode:u,backdrop:a,theme:"paper",tabSize:t.tabSize!=undefined?t.tabSize:2,indentUnit:t.tabSize!=undefined?t.tabSize:2,indentWithTabs:t.indentWithTabs===!1?!1:!0,lineNumbers:!1,autofocus:t.autofocus===!0?!0:!1,extraKeys:i,lineWrapping:t.lineWrapping===!1?!1:!0,allowDropFileTypes:["text/plain"],placeholder:t.placeholder||e.getAttribute("placeholder")||"",styleSelectedText:t.styleSelectedText!=undefined?t.styleSelectedText:!0});if(t.forceSync===!0){var f=this.codemirror;f.on("change",function(){f.save()})}this.gui={},t.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),t.status!==!1&&(this.gui.statusbar=this.createStatusbar()),t.autosave!=undefined&&t.autosave.enabled===!0&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var c=this.codemirror;setTimeout(function(){c.refresh()}.bind(c),0)},Q.prototype.autosave=function(){if(G()){var e=this;if(this.options.autosave.uniqueId==undefined||this.options.autosave.uniqueId==""){console.log("SimpleMDE: You must set a uniqueId to use the autosave feature");return}e.element.form!=null&&e.element.form!=undefined&&e.element.form.addEventListener("submit",function(){localStorage.removeItem("smde_"+e.options.autosave.uniqueId)}),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,e.value());var t=document.getElementById("autosaved");if(t!=null&&t!=undefined&&t!=""){var n=new Date,r=n.getHours(),i=n.getMinutes(),s="am",o=r;o>=12&&(o=r-12,s="pm"),o==0&&(o=12),i=i<10?"0"+i:i,t.innerHTML="Autosaved: "+o+":"+i+" "+s}this.autosaveTimeoutId=setTimeout(function(){e.autosave()},this.options.autosave.delay||1e4)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},Q.prototype.clearAutosavedValue=function(){if(G()){if(this.options.autosave==undefined||this.options.autosave.uniqueId==undefined||this.options.autosave.uniqueId==""){console.log("SimpleMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},Q.prototype.createSideBySide=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.nextSibling;if(!n||!/editor-preview-side/.test(n.className))n=document.createElement("div"),n.className="editor-preview-side",t.parentNode.insertBefore(n,t.nextSibling);var r=!1,i=!1;return e.on("scroll",function(e){if(r){r=!1;return}i=!0;var t=e.getScrollInfo().height-e.getScrollInfo().clientHeight,s=parseFloat(e.getScrollInfo().top)/t,o=(n.scrollHeight-n.clientHeight)*s;n.scrollTop=o}),n.onscroll=function(){if(i){i=!1;return}r=!0;var t=n.scrollHeight-n.clientHeight,s=parseFloat(n.scrollTop)/t,o=(e.getScrollInfo().height-e.getScrollInfo().clientHeight)*s;e.scrollTo(0,o)},n},Q.prototype.createToolbar=function(e){e=e||this.options.toolbar;if(!e||e.length===0)return;var t;for(t=0;t<e.length;t++)V[e[t]]!=undefined&&(e[t]=V[e[t]]);var n=document.createElement("div");n.className="editor-toolbar";var r=this,i={};r.toolbar=e;for(t=0;t<e.length;t++){if(e[t].name=="guide"&&r.options.toolbarGuideIcon===!1)continue;if(r.options.hideIcons&&r.options.hideIcons.indexOf(e[t].name)!=-1)continue;if(!(e[t].name!="fullscreen"&&e[t].name!="side-by-side"||!f()))continue;if(e[t]==="|"){var s=!1;for(var o=t+1;o<e.length;o++)e[o]!=="|"&&(!r.options.hideIcons||r.options.hideIcons.indexOf(e[o].name)==-1)&&(s=!0);if(!s)continue}(function(e){var t;e==="|"?t=h():t=c(e,r.options.toolbarTips,r.options.shortcuts),e.action&&(typeof e.action=="function"?t.onclick=function(t){t.preventDefault(),e.action(r)}:typeof e.action=="string"&&(t.href=e.action,t.target="_blank")),i[e.name||e]=t,n.appendChild(t)})(e[t])}r.toolbarElements=i;var u=this.codemirror;u.on("cursorActivity",function(){var e=d(u);for(var t in i)(function(t){var n=i[t];e[t]?n.className+=" active":t!="fullscreen"&&t!="side-by-side"&&(n.className=n.className.replace(/\s*active\s*/g,""))})(t)});var a=u.getWrapperElement();return a.parentNode.insertBefore(n,a),n},Q.prototype.createStatusbar=function(e){e=e||this.options.status;var t=this.options,n=this.codemirror;if(!e||e.length===0)return;var r=[],i,s,o;for(i=0;i<e.length;i++){s=undefined,o=undefined;if(typeof e[i]=="object")r.push({className:e[i].className,defaultValue:e[i].defaultValue,onUpdate:e[i].onUpdate});else{var u=e[i];u==="words"?(o=function(e){e.innerHTML=X(n.getValue())},s=function(e){e.innerHTML=X(n.getValue())}):u==="lines"?(o=function(e){e.innerHTML=n.lineCount()},s=function(e){e.innerHTML=n.lineCount()}):u==="cursor"?(o=function(e){e.innerHTML="0:0"},s=function(e){var t=n.getCursor();e.innerHTML=t.line+":"+t.ch}):u==="autosave"&&(o=function(e){t.autosave!=undefined&&t.autosave.enabled===!0&&e.setAttribute("id","autosaved")}),r.push({className:u,defaultValue:o,onUpdate:s})}}var a=document.createElement("div");a.className="editor-statusbar";for(i=0;i<r.length;i++){var f=r[i],l=document.createElement("span");l.className=f.className,typeof f.defaultValue=="function"&&f.defaultValue(l),typeof f.onUpdate=="function"&&this.codemirror.on("update",function(e,t){return function(){t.onUpdate(e)}}(l,f)),a.appendChild(l)}var c=this.codemirror.getWrapperElement();return c.parentNode.insertBefore(a,c.nextSibling),a},Q.prototype.value=function(e){return e===undefined?this.codemirror.getValue():(this.codemirror.getDoc().setValue(e),this)},Q.toggleBold=g,Q.toggleItalic=y,Q.toggleStrikethrough=b,Q.toggleBlockquote=E,Q.toggleHeadingSmaller=S,Q.toggleHeadingBigger=x,Q.toggleHeading1=T,Q.toggleHeading2=N,Q.toggleHeading3=C,Q.toggleCodeBlock=w,Q.toggleUnorderedList=k,Q.toggleOrderedList=L,Q.cleanBlock=A,Q.drawLink=O,Q.drawImage=M,Q.drawTable=_,Q.drawHorizontalRule=D,Q.undo=P,Q.redo=H,Q.togglePreview=j,Q.toggleSideBySide=B,Q.toggleFullScreen=m,Q.prototype.toggleBold=function(){g(this)},Q.prototype.toggleItalic=function(){y(this)},Q.prototype.toggleStrikethrough=function(){b(this)},Q.prototype.toggleBlockquote=function(){E(this)},Q.prototype.toggleHeadingSmaller=function(){S(this)},Q.prototype.toggleHeadingBigger=function(){x(this)},Q.prototype.toggleHeading1=function(){T(this)},Q.prototype.toggleHeading2=function(){N(this)},Q.prototype.toggleHeading3=function(){C(this)},Q.prototype.toggleCodeBlock=function(){w(this)},Q.prototype.toggleUnorderedList=function(){k(this)},Q.prototype.toggleOrderedList=function(){L(this)},Q.prototype.cleanBlock=function(){A(this)},Q.prototype.drawLink=function(){O(this)},Q.prototype.drawImage=function(){M(this)},Q.prototype.drawTable=function(){_(this)},Q.prototype.drawHorizontalRule=function(){D(this)},Q.prototype.undo=function(){P(this)},Q.prototype.redo=function(){H(this)},Q.prototype.togglePreview=function(){j(this)},Q.prototype.toggleSideBySide=function(){B(this)},Q.prototype.toggleFullScreen=function(){m(this)},Q.prototype.isPreviewActive=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.lastChild;return/editor-preview-active/.test(n.className)},Q.prototype.isSideBySideActive=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.nextSibling;return/editor-preview-active-side/.test(n.className)},Q.prototype.isFullscreenActive=function(){var e=this.codemirror;return e.getOption("fullScreen")},Q.prototype.getState=function(){var e=this.codemirror;return d(e)},Q.prototype.toTextArea=function(){var e=this.codemirror,t=e.getWrapperElement();t.parentNode&&(this.gui.toolbar&&t.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&t.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&t.parentNode.removeChild(this.gui.sideBySide)),e.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=undefined,this.clearAutosavedValue())},t.exports=Q},{"./codemirror/tablist":11,codemirror:5,"codemirror/addon/display/placeholder.js":1,"codemirror/addon/edit/continuelist.js":2,"codemirror/addon/mode/overlay.js":3,"codemirror/addon/selection/mark-selection.js":4,"codemirror/mode/gfm/gfm.js":6,"codemirror/mode/markdown/markdown.js":7,"codemirror/mode/xml/xml.js":9,marked:10}]},{},[12])(12)}),define("components/markdown/SingletonMarkdownObject",["require","exports","module","jquery","simplemde"],function(e,t,n){"use strict";var r=e("jquery"),i=null,s=e("simplemde"),o=r("<div><textarea></textarea></div>"),u=function(){return i||(i=new s({autoDownloadFontAwesome:!1,element:r("textarea",o).get(0),blockStyles:{bold:"**",italic:"*",code:"`"}})),i};return u}),define("components/markdown/MarkdownViewer",["require","jquery","backbone-epoxy","components/markdown/SingletonMarkdownObject"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("components/markdown/SingletonMarkdownObject"),i=n.View.extend({className:"markdown-viewer",events:{},initialize:function(e){this.simpleMDE=new r,this.update(e.text)},update:function(e){var n,r=document.createElement("div"),i=this;e?(n=this.simpleMDE.markdown(e.escapeHtml().indentSpases().replace("_","&#95;")),r.innerHTML=n,t("img",r).each(function(){this.onload=function(){i.trigger("load")}}),t("a",r).each(function(){t(this).attr({target:"_blank"})}),t("code",r).each(function(){t(this).html(t(this).text())}),this.$el.html(r.innerHTML)):this.$el.html("")}});return i}),define("components/markdown/MarkdownEditor",["require","jquery","backbone-epoxy","simplemde","components/markdown/MarkdownViewer","util","localization"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("simplemde"),i=e("components/markdown/MarkdownViewer"),s=e("util"),o=e("localization"),u=n.View.extend({className:"markdown-editor",template:"tpl-markdown-editor",events:{},initialize:function(e){var n=e||{},s=this;this.render(),n.value&&t("[data-js-text-area]",this.$el).val(n.value),this.simplemde=new r({element:t("[data-js-text-area]",this.$el).get(0),status:!1,autoDownloadFontAwesome:!1,toolbar:[{name:"heading-1",action:r.toggleHeading1,className:"icon-header-1",title:o.ui.markdownBigHeading},{name:"heading-2",action:r.toggleHeading2,className:"icon-header-2",title:o.ui.markdownMediumHeading},{name:"heading-3",action:r.toggleHeading3,className:"icon-header-3",title:o.ui.markdownSmallHeading},{name:"clean-block",action:r.cleanBlock,className:"icon-clean-block",title:o.ui.markdownClean},"|",{name:"bold",action:r.toggleBold,className:"icon-bold",title:o.ui.markdownBold},{name:"italic",action:r.toggleItalic,className:"icon-italic",title:o.ui.markdownItalic},{name:"strikethrough",action:r.toggleStrikethrough,className:"icon-strikethrough",title:o.ui.markdownStrikethrough},"|",{name:"unordered-list",action:r.toggleUnorderedList,className:"icon-unordered-list",title:o.ui.markdownGeneric},{name:"ordered-list",action:r.toggleOrderedList,className:"icon-ordered-list",title:o.ui.markdownNumbered},"|",{name:"image",action:r.drawImage,className:"icon-image",title:o.ui.markdownImage},{name:"link",action:r.drawLink,className:"icon-link",title:o.ui.markdownLink},"|",{name:"quote",action:r.toggleBlockquote,className:"icon-quote",title:o.ui.markdownQuote},{name:"code",action:r.toggleCodeBlock,className:"icon-code",title:o.ui.markdownCode},"|",{name:"preview",action:r.togglePreview,className:"icon-preview no-disable",title:o.ui.markdownPreview}],placeholder:n.placeholder||"",spellChecker:!1,blockStyles:{bold:"**",italic:"*",code:"`"},previewRender:function(e){var t=new i({text:e}),n=t.$el.html();return t.destroy(),n}}),this.simplemde.codemirror.on("change",function(){s.trigger("change",s.simplemde.value())}),this.simplemde.codemirror.on("focus",function(){s.$el.addClass("focused")}),this.simplemde.codemirror.on("blur",function(){s.$el.removeClass("focused")})},render:function(){this.$el.html(s.templates(this.template,{}))},update:function(){this.setValue(this.getValue())},getValue:function(){return this.simplemde.value()},setValue:function(e){this.simplemde.value(e)}});return u}),define("modals/modalFilterEdit",["require","jquery","underscore","modals/_modalView","backbone-epoxy","util","coreService","app","components/markdown/MarkdownEditor","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("modals/_modalView"),i=e("backbone-epoxy"),s=e("util"),o=e("coreService"),u=e("app"),a=e("components/markdown/MarkdownEditor"),f=e("localization"),l=u.getInstance(),c=r.extend({template:"tpl-modal-filter-edit",className:"modal-filter-edit",bindings:{"[data-js-name-input]":"value: updateName","[data-js-is-shared]":"checked: share","[data-js-description]":"value: description"},events:{"click [data-js-ok]":"onClickOk","click [data-js-close]":"onClickClose","click [data-js-cancel]":"onClickCancel","change [data-js-name-input]":"disableHideBackdrop","change [data-js-is-shared]":"disableHideBackdrop"},computeds:{updateName:{deps:["name"],get:function(e){return e.trim()},set:function(e){this.model.set("name",e.trim())}}},initialize:function(e){var t=[],r=this,s=e.filterModel;this.model=new i.Model({name:s.get("name"),share:s.get("share"),description:s.get("description")}),this.render(e),this.markdownEditorSetup(),this.listenTo(this.model,"change:description",this.onChangeDescription),this.listenTo(this.model,"change:share",this.onChangeShared),o.getFilterNames().done(function(e){n.each(e,function(e){e.name!==r.model.get("name")&&t.push(e.name)})}).always(function(){r.addValidators(t)})},markdownEditorSetup:function(){var e=this;this.markdownEditor=new a({value:this.model.get("description"),placeholder:f.filter.descriptionPlaceholder}),t("[data-js-markdown-container]",this.$el).html(this.markdownEditor.$el),this.listenTo(this.markdownEditor,"change",function(t){e.model.set({description:t}),this.disableHideBackdrop()})},addValidators:function(e){s.hintValidator(t("[data-js-name-input]",this.$el),[{validator:"minMaxRequired",type:"filterName",min:3,max:128},{validator:"noDuplications",type:"filterName",source:e,isCaseSensitive:!0}]),s.hintValidator(t("[data-js-description]",this.$el),{validator:"maxRequired",type:"filterDescription",max:256})},render:function(e){var t=[{btnText:f.ui.cancel,btnClass:"rp-btn-cancel",label:"data-js-cancel"},{btnText:e.mode=="save"?f.ui.add:f.ui.update,btnClass:"rp-btn-submit",label:"data-js-ok"}];e.footerButtons=t,this.$el.html(s.templates(this.template,e))},onShown:function(){this.markdownEditor.update()},onHide:function(){this.markdownEditor.destroy()},onKeySuccess:function(){t("[data-js-ok]",this.$el).focus().trigger("click")},onChangeDescription:function(){l.trackingDispatcher.trackEventNumber(248),this.disableHideBackdrop()},onChangeShared:function(){l.trackingDispatcher.trackEventNumber(249),this.disableHideBackdrop()},onClickClose:function(){l.trackingDispatcher.trackEventNumber(247)},onClickCancel:function(){l.trackingDispatcher.trackEventNumber(250)},validate:function(){return!t("[data-js-description]",this.$el).trigger("validate").data("validate-error")&&!t("[data-js-name-input]",this.$el).trigger("validate").data("validate-error")},onClickOk:function(){if(!this.validate())return;l.trackingDispatcher.trackEventNumber(251),this.successClose(this.model)}});return c}),define("favorites/FavoritesItemView",["require","jquery","backbone-epoxy","util","modals/modalConfirm","localization","app","controlers/filterControler/FilterListener","modals/modalFilterEdit","components/markdown/MarkdownViewer"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("modals/modalConfirm"),s=e("localization"),o=e("app"),u=e("controlers/filterControler/FilterListener"),a=e("modals/modalFilterEdit"),f=e("components/markdown/MarkdownViewer"),l=o.getInstance(),c=n.View.extend({className:"row rp-table-row",template:"tpl-favorite-item",events:{"click [data-js-remove]":"onClickRemove","click [data-js-filter-edit]":"onClickEdit","click [data-js-filter-shared]":"onClickShared","click [data-js-filter-link]":"onClickName"},bindings:{":el":'classes: {"not-owner": notMyFilter}',"[data-js-filter-link]":"text: name, attr: {href: url}","[data-js-filter-options]":"html: optionsString","[data-js-owner]":"text: owner","[data-js-filter-shared]":"classes: {hide: not(share)}, attr: {disabled: notMyFilter}","[data-js-switch-to-launch]":"checked: isLaunch","[data-js-switch-to-launch-mobile]":"checked: isLaunch","[data-js-switch-to-launch-text]":"text: isLaunchString","[data-js-remove]":"attr: {disabled: not(canRemove)}, classes: {disabled: not(canRemove)}","[data-js-filter-shared-icon]":"classes: {disabled: notMyFilter}"},computeds:{canRemove:{deps:["notMyFilter"],get:function(e){return l.userModel.get("isAdmin")||l.userModel.getRoleForCurrentProject()===l.projectRolesEnum.project_manager||!e}}},initialize:function(){this.filterListener=new u,this.filterEvents=this.filterListener.events,this.render(),this.setupMarkdownViewer(),this.listenTo(this.model,"change:isLaunch",this.onSwitchOnLaunches),this.listenTo(this.model,"remove",this.destroy)},render:function(){this.$el.html(r.templates(this.template,{}))},setupMarkdownViewer:function(){var e=this;this.markdownViewer=new f({text:this.model.get("description")}),t("[data-js-description]",this.$el).html(this.markdownViewer.$el),this.listenTo(this.model,"change:description",function(t,n){e.markdownViewer.update(n)})},onSwitchOnLaunches:function(e,t){l.trackingDispatcher.trackEventNumber(243),this.filterListener.trigger(this.filterEvents.ON_CHANGE_IS_LAUNCH,{data:this.model.attributes,isLaunch:t})},onClickRemove:function(){var e=this,n;n=new i({headerText:s.dialogHeader.deleteFilter,bodyText:r.replaceTemplate(s.dialog.deleteFilter,this.model.get("name").escapeHtml()),confirmText:this.model.get("notMyFilter")?s.dialog.deleteFilterDangerConfirmText:"",okButtonDanger:!0,cancelButtonText:s.ui.cancel,okButtonText:s.ui.delete}),n.show().done(function(){e.filterListener.trigger(e.filterEvents.ON_REMOVE_FILTER,e.model.get("id"))}),l.trackingDispatcher.trackEventNumber(244),n.$el.on("click",function(e){var n=t(e.target),r=n.is("[data-js-cancel]"),i=n.is("[data-js-ok]"),s=n.is("[data-js-close]")||n.is("[data-js-close] i");s?l.trackingDispatcher.trackEventNumber(252):r?l.trackingDispatcher.trackEventNumber(253):i&&l.trackingDispatcher.trackEventNumber(254)})},onClickShared:function(){l.trackingDispatcher.trackEventNumber(246),this.onEditMainInfo()},onClickEdit:function(){l.trackingDispatcher.trackEventNumber(245),this.onEditMainInfo()},onEditMainInfo:function(){var e=this,t=new a({mode:"edit",filterModel:this.model});t.show().done(function(t){e.filterListener.trigger(e.filterEvents.ON_SET_FILTER,{id:e.model.get("id"),data:e.model.getDataFromServer(t.attributes)})})},onClickName:function(){l.trackingDispatcher.trackEventNumber(242)},onDestroy:function(){this.markdownViewer.destroy(),this.$el.remove()}});return c}),define("favorites/favorites",["require","controlers/filterControler/FilterListener","defectType/SingletonDefectTypeCollection","model/SingletonAppModel","filters/SingletonLaunchFilterCollection","jquery","underscore","backbone","backbone-epoxy","app","core/components","util","components/MainBreadcrumbsComponent","filters/FilterCollection","localization","favorites/FavoritesItemView"],function(e){"use strict";var t=e("controlers/filterControler/FilterListener"),n=e("defectType/SingletonDefectTypeCollection"),r=e("model/SingletonAppModel"),i=e("filters/SingletonLaunchFilterCollection"),s=e("jquery"),o=e("underscore"),u=e("backbone"),a=e("backbone-epoxy"),f=e("app"),l=e("core/components"),c=e("util"),h=e("components/MainBreadcrumbsComponent"),p=e("filters/FilterCollection"),d=e("localization"),v=e("favorites/FavoritesItemView"),m=f.getInstance(),g=new r,y=a.View.extend({template:"tpl-favorite-page",templateHeader:"tpl-favorites-header",events:{"keyup [data-js-filter-name]":"debounceChange","change [data-js-filter-name]":"onChangeFilterName","click [data-js-link-launch]":"onClickLinkLaunch","click [data-js-add-filter]":"onClickAddFilter"},bindings:{"[data-js-filter-name]":"attr: {disabled: empty}","[data-js-empty-block]":"classes: {hide: not(empty)}","[data-js-filter-paginate]":"classes: {hide: any(empty, notFound)}","[data-js-not-found]":"classes: {hide: not(notFound)}","[data-js-search-value]":"text: search"},initialize:function(e){var n=e.context;this.filterListener=new t,this.filterEvents=this.filterListener.events,this.model=new u.Model({search:"",empty:!1,notFound:!1}),this.renderViews=[],this.collection=new p,this.launchFilterCollection=new i,this.listenTo(this.collection,"reset",this.renderCollection),this.listenTo(this.collection,"remove",this.onRemoveFilter),this.$header=n.getMainView().$header,this.$el=n.getMainView().$body,this.debounceChange=o.debounce(function(){s("[data-js-filter-name]",this.$el).trigger("change")}.bind(this),800),this.listenTo(this.filterListener,this.filterEvents.FILTERS_LOAD_START,this.onStartLoad),this.listenTo(this.filterListener,this.filterEvents.FILTERS_LOAD_END,this.onEndLoad),this.listenTo(this.filterListener,this.filterEvents.LOAD_FILTERS,this.onSetFilters)},render:function(){var e=new n;return this.mainBreadcrumbs=new h({data:[{name:d.favorites.title,link:""}]}),this.$header.html(this.mainBreadcrumbs.$el),e.ready.done(function(){var e=this;this.$el.html(c.templates(this.template,{projectName:m.project.projectId})),this.$filterName=s("[data-js-filter-name]",this.$el),this.$filterList=s("[data-js-filter-list]",this.$el),this.$filterPaginate=s("[data-js-filter-paginate]",this.$el),c.hintValidator(this.$filterName,[{validator:"minMaxNotRequired",type:"filterName",min:3,max:128}]),this.paging=new l.PagingToolbarSaveUser({el:this.$filterPaginate,model:new u.Model,pageType:"filters"}),this.listenTo(this.paging,"page",this.onPage),this.listenTo(this.paging,"count",this.onPageCount),this.paging.ready.done(function(){e.searchString="",e.paging.urlModel.get("filter.cnt.name")&&(e.model.set({search:e.paging.urlModel.get("filter.cnt.name")}),e.$filterName.val(e.model.get("search"))),e.listenTo(e.model,"change:search",e.onChangeModelSearch),e.updateFilters()}),this.applyBindings()}.bind(this)),this},onStartLoad:function(){this.collection.reset([]),this.paging.$el.html(""),s("#filter-page",this.$el).addClass("load")},onEndLoad:function(){s("#filter-page",this.$el).removeClass("load")},onSetFilters:function(e){this.paging.model.set(e.page),this.paging.render(),e.content.length?this.model.set({empty:!1,notFound:!1}):this.model.get("search")?this.model.set({empty:!1,notFound:!0}):this.model.set({empty:!0,notFound:!1}),this.collection.parse(e.content)},onChangeModelSearch:function(){this.paging.trigger("page",1)},onChangeFilterName:function(){var e;s("[data-js-filter-name]",this.$el).data("validate-error")||(e=s("[data-js-filter-name]",this.$el).val(),m.trackingDispatcher.trackEventNumber(240),this.paging.urlModel.set({"filter.cnt.name":e}),this.model.set({search:e}),this.searchString=e)},onPage:function(){this.changeFilters()},onPageCount:function(){this.changeFilters()},changeFilters:function(){this.updateFilters()},onRemoveFilter:function(){this.updateFilters()},updateFilters:function(){this.filterListener.trigger(this.filterEvents.ON_LOAD_FILTERS,this.getQueryString({search:encodeURIComponent(this.model.get("search")),page:this.paging.model.get("number"),size:this.paging.model.get("size")}))},update:function(){this.updateFilters()},getQueryString:function(e){var t=e,n;return t||(t={}),t.page||(t.page=1),t.size||(t.size=10),n="?page.sort=name&page.page="+t.page+"&page.size="+t.size,t.search&&(n+="&filter.cnt.name="+t.search),n},renderCollection:function(){this.$filterList.html(""),o.each(this.renderViews,function(e){e.destroy()}),this.renderViews=[],o.each(this.collection.models,function(e){var t=new v({model:e,collection:this.collection});this.$filterList.append(t.$el),this.renderViews.push(t)},this)},onClickLinkLaunch:function(e){var t;e.preventDefault(),t=g.get("projectId")+"/launches/all",m.router.navigate(t,{trigger:!0})},onClickAddFilter:function(e){var t=s(e.currentTarget),n;t.closest("[data-js-empty-block]").length?m.trackingDispatcher.trackEventNumber(255):m.trackingDispatcher.trackEventNumber(241),n=this.launchFilterCollection.generateTempModel(),m.router.navigate(n.get("url"),{trigger:!0})},onDestroy:function(){this.$header.empty(),this.mainBreadcrumbs&&this.mainBreadcrumbs.destroy(),this.collection.destroy(!0),o.each(this.renderViews,function(e){e.destroy()})}});return{ContentView:y}}),define("tooltips/SimpleTooltipView",["require","exports","module","jquery","backbone-epoxy","util","localization"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone-epoxy"),s=e("util"),o=e("localization"),u=i.View.extend({template:"tpl-simple-tooltip",className:"simple-tooltip",initialize:function(e){this.render(e)},render:function(e){this.$el.html(s.templates(this.template,{message:e.message})),e.width&&this.$el.css({width:e.width})},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.remove(),delete this}});return u}),define("launches/FilterLabelView",["require","jquery","backbone-epoxy","util","app","controlers/filterControler/FilterListener","localization","tooltips/SimpleTooltipView","components/markdown/MarkdownViewer"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("app"),s=e("controlers/filterControler/FilterListener"),o=e("localization"),u=e("tooltips/SimpleTooltipView"),a=e("components/markdown/MarkdownViewer"),f=i.getInstance(),l=n.View.extend({tagName:"a",className:"filter-item",template:"tpl-launch-filter-label",events:{"click [data-js-filter-close]":"onClickRemove",click:"onClickLabel",dblclick:"showCriteria"},bindings:{"[data-js-filter-shared]":"classes: {hide: any(not(share), notMyFilter)}","[data-js-filter-name]":"text: filterName(name, id)","[data-js-filter-comment]":"classes: {hide: not(description)}","[data-js-filter-not-my]":"classes: {hide: not(notMyFilter)}","[data-js-filter-not-save]":"classes: {hide: all(not(temp), not(newEntities), not(newSelectionParameters))}",":el":"attr: {href: url}, classes: {active: active}"},bindingFilters:{filterName:function(e,t){return t==="all"?o.launches.noFilter:e}},initialize:function(){this.filterListener=new s,this.filterEvents=this.filterListener.events,this.render(),this.setTooltip(),this.listenTo(this.model,"change",this.update)},onClickLabel:function(e){e.preventDefault(),f.router.navigate(this.model.get("url"),{trigger:!0})},showCriteria:function(e){e.preventDefault(),this.trigger("showCriteria")},setTooltip:function(){var e=this;this.model.get("description")&&r.appendTooltip(function(){return e.markdownViewer&&e.markdownViewer.destroy(),e.markdownViewer=new a({text:e.model.get("description")}),e.markdownViewer.$el},t("[data-js-filter-comment]",this.$el)),r.appendTooltip(function(){var e=new u({message:o.launches.filterIsSharedByOtherUser});return e.$el},t("[data-js-filter-not-my]",this.$el)),r.appendTooltip(function(){var e=new u({message:o.launches.filterIsShared});return e.$el},t("[data-js-filter-shared]",this.$el)),r.appendTooltip(function(){var e=new u({message:o.filters.notSaveDescription});return e.$el},t("[data-js-filter-not-save]",this.$el))},update:function(){this.setTooltip()},render:function(){this.$el.html(r.templates(this.template,{}))},onClickRemove:function(){this.filterListener.trigger(this.filterEvents.ON_CHANGE_IS_LAUNCH,{data:this.model.attributes,isLaunch:!1}),this.destroy()},onDestroy:function(){this.markdownViewer&&this.markdownViewer.destroy(),this.$el.remove(),delete this}});return l}),define("filterEntities/FilterEntitiesResolver",["require","exports","module","underscore","jquery","backbone","filterEntities/FilterEntities","defectType/SingletonDefectTypeCollection","model/SingletonRegistryInfoModel","localization"],function(e,t,n){"use strict";var r=e("underscore"),i=e("jquery"),s=e("backbone"),o=e("filterEntities/FilterEntities"),u=e("defectType/SingletonDefectTypeCollection"),a=e("model/SingletonRegistryInfoModel"),f=e("localization"),l=null,c=function(){var e=[new o.EntityConditionInputModel({id:"statistics$executions$total",condition:"gte",options:L()}),new o.EntityConditionInputModel({id:"statistics$executions$passed",condition:"gte",options:L()}),new o.EntityConditionInputModel({id:"statistics$executions$failed",condition:"gte",options:L()}),new o.EntityConditionInputModel({id:"statistics$executions$skipped",condition:"gte",options:L()})];return e=e.concat(h("product_bug")),e=e.concat(h("automation_bug")),e=e.concat(h("system_issue")),e=e.concat(h("to_investigate")),e},h=function(e){var t=p(e),n=r.map(t,function(t){return new o.EntityConditionInputModel({id:"statistics$defects$"+e+"$"+t.get("locator"),condition:"gte",label:t.get("longName"),name:f.filterNameById[e]+" "+t.get("shortName"),subEntity:!0,options:L()})}),i=f.favorites.total+" "+f.filterNamePluralById[e];return n.length==1&&(i=n[0].get("label"),n=[]),n.unshift(new o.EntityConditionInputModel({id:"statistics$defects$"+e+"$total",condition:"gte",label:i,name:i,subEntity:!1,options:L()})),n},p=function(e){return l.filter(function(t){return t.get("typeRef").toUpperCase()==e.toUpperCase()})},d=function(e){var t=p(e);return r.map(t,function(t){return{name:t.get("longName"),value:t.get("locator"),subOption:!0,mainType:e}})},v=function(e){var t=[];return r.each(e,function(e){var n=d(e),i=r.map(n,function(e){return e.value}),s=i.join(",");n.length<=1?t.push({name:f.filterNameById[e],value:s}):(t.push({name:"All "+f.filterNamePluralById[e],value:s,subType:e}),t=t.concat(n))}),t},m=function(){var e=[{name:"All",value:"All"}];return e=e.concat(v(["to_investigate","product_bug","automation_bug","system_issue","no_defect"])),[new o.EntitySelectModel({id:"type",condition:"in",values:[{name:f.testTableMethodTypes.ALL,value:"All"},{name:f.testTableMethodTypes.BEFORE_SUITE,value:"BEFORE_SUITE"},{name:f.testTableMethodTypes.BEFORE_GROUPS,value:"BEFORE_GROUPS"},{name:f.testTableMethodTypes.BEFORE_CLASS,value:"BEFORE_CLASS"},{name:f.testTableMethodTypes.BEFORE_TEST,value:"BEFORE_TEST"},{name:f.testTableMethodTypes.TEST,value:"TEST"},{name:f.testTableMethodTypes.BEFORE_METHOD,value:"BEFORE_METHOD"},{name:f.testTableMethodTypes.STEP,value:"STEP"},{name:f.testTableMethodTypes.AFTER_METHOD,value:"AFTER_METHOD"},{name:f.testTableMethodTypes.AFTER_TEST,value:"AFTER_TEST"},{name:f.testTableMethodTypes.AFTER_CLASS,value:"AFTER_CLASS"},{name:f.testTableMethodTypes.AFTER_GROUPS,value:"AFTER_GROUPS"},{name:f.testTableMethodTypes.AFTER_SUITE,value:"AFTER_SUITE"}],value:f.testTableMethodTypes.ALL}),new o.EntityConditionInputModel({id:"description",condition:"cnt",options:C(),valueOnlyDigits:!1}),new o.EntitySelectModel({id:"status",condition:"in",values:[{name:f.launchStatus.ALL,value:"All"},{name:f.launchStatus.PASSED,value:"PASSED"},{name:f.launchStatus.FAILED,value:"FAILED"},{name:f.launchStatus.SKIPPED,value:"SKIPPED"},{name:f.launchStatus.INTERRUPTED,value:"INTERRUPTED"},{name:f.launchStatus.IN_PROGRESS,value:"IN_PROGRESS"}],value:"All"}),new o.EntityTimeRangeModel({id:"start_time",condition:"btw",values:["Any"],value:""}),new o.EntitySelectModel({id:"issue$issue_type",condition:"in",values:e,value:"All"}),new o.EntityConditionInputModel({id:"issue$issue_comment",valueMinLength:3,condition:"cnt",options:C(),valueOnlyDigits:!1}),new o.EntityConditionTagModel({id:"tags",condition:"has",options:k()}),new o.EntityDropDownModel({id:"issue$auto_analyzed",condition:"in",options:[{name:f.launches.withAA,value:"TRUE"},{name:f.launches.withoutAA,value:"FALSE"}]}),new o.EntityDropDownModel({id:"issue$ignore_analyzer",condition:"in",options:[{name:f.launches.withIgnoreAA,value:"TRUE"},{name:f.launches.withoutIgnoreAA,value:"FALSE"}]}),new o.EntityDropDownModel({id:"issue$externalSystemIssues$ticket_id",condition:"ex",options:[{name:f.launches.linkedBug,value:"TRUE"},{name:f.launches.noLinkedBug,value:"FALSE"}]})]},g=function(e){var t=y();return t.add(new o.EntityOwnerTagModel({id:"user",condition:"in",mode:"DEBUG"}),{at:1}),t},y=function(){return new s.Collection([new o.EntityConditionInputModel({id:"name",name:f.filters.launchName,required:!0,condition:"cnt",options:C(),valueMinLength:3,valueMaxLength:256,valueOnlyDigits:!1}),new o.EntityTimeRangeModel({id:"start_time",condition:"btw",values:["Any"],value:""}),new o.EntityConditionInputModel({id:"description",condition:"cnt",options:C(),valueMinLength:3,valueOnlyDigits:!1}),new o.EntityConditionTagModel({id:"tags",condition:"has",options:k()})].concat(c()))},b=function(){var e=E();return e.unshift(new o.EntityConditionInputModel({id:"name",name:f.filters.launchName,required:!0,condition:"cnt",options:C(),valueMinLength:3,valueMaxLength:256,valueOnlyDigits:!1})),e.unshift(new o.EntityConditionInputModel({id:"number",name:f.filters.launchNumber,condition:"gte",options:L(),valueOnlyDigits:!0})),e.add(new o.EntityOwnerTagModel({id:"user",condition:"in"}),{at:1}),e},w=function(){var e=E();return e.unshift(new o.EntityConditionInputModel({id:"name",name:f.filters.suiteName,required:!0,condition:"cnt",options:C(),valueMinLength:3,valueMaxLength:256,valueOnlyDigits:!1})),e},E=function(){return new s.Collection([new o.EntityTimeRangeModel({id:"start_time",condition:"btw",values:["Any"],value:""}),new o.EntityConditionInputModel({id:"description",condition:"cnt",options:C(),valueMinLength:3,valueOnlyDigits:!1}),new o.EntityConditionTagModel({id:"tags",condition:"has",options:k()})].concat(c()))},S=function(){return new s.Collection([new o.EntityConditionInputModel({id:"name",name:f.filters.testName,required:!0,condition:"cnt",options:C(),valueMinLength:3,valueMaxLength:256,valueOnlyDigits:!1})].concat(m()))},x=function(){return[new o.StatusModel({id:"level",condition:"in",values:["Any","Trace","Debug","Info","Warn","Error"],value:"Any"}),new o.Model({id:"ex.binary_content"})]},T=function(){return new s.Collection([new o.EntityInputModel({id:"message",condition:"cnt",valueMinLength:3,valueOnlyDigits:!1})].concat(x()))},N=function(){return new s.Collection([new o.EntityDropDownModel({name:"History Depth",id:"history_depth",noConditions:!0,required:!0,options:[{value:"3",name:"3"},{value:"5",name:"5"},{value:"10",name:"10"}],value:"10"})])},C=function(){return[{id:"cnt",shortCut:"cnt"},{id:"!cnt",shortCut:"!cnt"},{id:"eq",shortCut:"eq"},{id:"ne",shortCut:"!eq"}]},k=function(){return[{id:"has",shortCut:"all"},{id:"!in",shortCut:"!all"},{id:"in",shortCut:"any"},{id:"!has",shortCut:"!any"}]},L=function(){return[{id:"gte",shortCut:"&ge;"},{id:"lte",shortCut:"&le;"},{id:"eq",shortCut:"="}]},A=function(){var e=new a,t=[{name:"All",value:"All"}],n=[{name:"All",value:"All"}];return r.each(e.get("activitiesEventsTypes"),function(e){t.push({name:f.projectEvents.eventTypes[e]?f.projectEvents.eventTypes[e]:e,value:e})}),r.each(e.get("activitiesObjectTypes"),function(e){n.push({name:f.projectEvents.objectTypes[e]?f.projectEvents.objectTypes[e]:e,value:e})}),new s.Collection([new o.EntitySelectModel({label:f.projectEvents.tableHeaders.action,name:f.projectEvents.tableHeaders.action,id:"actionType",condition:"in",required:!0,values:t,value:"All"}),new o.EntityTimeRangeModel({label:f.projectEvents.tableHeaders.time,name:f.projectEvents.tableHeaders.time,id:"last_modified",condition:"btw",values:["Any"],value:""}),new o.EntitySelectModel({label:f.projectEvents.tableHeaders.objectType,name:f.projectEvents.tableHeaders.objectType,id:"objectType",condition:"in",values:n,value:"All"}),new o.EntityConditionInputModel({label:f.projectEvents.tableHeaders.oldVal,name:f.projectEvents.tableHeaders.oldVal,id:"history$oldValue",condition:"cnt",options:C(),valueMinLength:3,valueMaxLength:64,valueOnlyDigits:!1}),new o.EntityConditionInputModel({label:f.projectEvents.tableHeaders.newVal,name:f.projectEvents.tableHeaders.newVal,id:"history$newValue",condition:"cnt",options:C(),valueMinLength:3,valueMaxLength:64,valueOnlyDigits:!1}),new o.EntityMemberTagModel({label:f.projectEvents.tableHeaders.user,name:f.projectEvents.tableHeaders.user,id:"userRef",condition:"in"}),new o.EntityConditionInputModel({label:f.projectEvents.tableHeaders.objectName,name:f.projectEvents.tableHeaders.objectName,id:"name",condition:"cnt",options:C(),valueMinLength:3,valueOnlyDigits:!1})])},O=function(e,t){l=new u;var n=i.Deferred(),e=e||"launch";return t&&(e="userdebug"),l.ready.done(function(){if(e){var r=null;switch(e){case"launch":r=b();break;case"suit":r=w();break;case"userdebug":r=g(t);break;case"test":r=S();break;case"log":r=T();break;case"history":r=N();break;case"projectEvents":r=A();break;default:}n.resolve(r)}}),n.promise()},M=function(){return o.EntityInvalidModel};return{getDefaults:O,getInvalidModel:M}}),define("filterEntities/FilterEntityView",["require","backbone-epoxy","app"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("app"),r=n.getInstance(),i=t.View.extend({className:"filter-entity-wrapper",initialize:function(e){this.filterLevel=e.filterLevel,this.render(),this.listenTo(this.model,"change:visible",this.onChangeVisible),this.listenTo(this.model,"change:value",this.onChangeValue)},onChangeVisible:function(e,t){t||(e.set({value:e.defaults.value}),this.destroy())},onChangeValue:function(e){e.get("id")==="name"&&e.get("value")&&(this.filterLevel==="suit"?r.trackingDispatcher.trackEventNumber(96):this.filterLevel==="test"&&r.trackingDispatcher.trackEventNumber(135))},render:function(){var e=new this.model.view({model:this.model});this.$el.html(e.$el)},destroy:function(){this.undelegateEvents(),this.unbind(),this.$el.remove(),delete this}});return i}),define("filterEntities/FilterEntityChoiceView",["require","exports","module","jquery","underscore","util","backbone-epoxy","app"],function(e,t,n){"use strict";var r=e("jquery"),i=e("underscore"),s=e("util"),o=e("backbone-epoxy"),u=e("app"),a=u.getInstance(),f=o.View.extend({template:"tpl-filter-entity-choice",tagName:"li",bindings:{"[data-js-name]":"text: getLabel","[data-js-link]":'classes: {"sub-option": subEntity}',":el":"classes: {hide: required}","[data-js-check-visible]":"checked: visible"},initialize:function(e){this.filterLevel=e.filterLevel,this.render(),this.listenTo(this.model,"change:visible",this.onSelectEntity)},render:function(){this.$el.html(s.templates(this.template,{}))},onSelectEntity:function(e){e.get("visible")&&!e.get("required")&&(this.filterLevel=="suit"?a.trackingDispatcher.trackEventNumber(97.2):this.filterLevel=="test"&&a.trackingDispatcher.trackEventNumber(137))}});return f}),define("filterEntities/FilterEntitiesChoiceView",["require","jquery","underscore","util","backbone-epoxy","filterEntities/FilterEntityChoiceView","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("backbone-epoxy"),s=e("filterEntities/FilterEntityChoiceView"),o=e("app"),u=o.getInstance(),a=i.View.extend({template:"tpl-filter-entities-choice",events:{'click [data-toggle="dropdown"]':"onClickMoreEntities"},initialize:function(e){this.filterLevel=e.filterLevel,this.render()},render:function(){this.$el.html(r.templates(this.template,{})),this.$choiceList=t("[data-js-entity-choice-list]",this.$el),n.each(this.collection.models,function(e){this.$choiceList.append((new s({model:e,filterLevel:this.filterLevel})).$el)},this)},onClickMoreEntities:function(){this.filterLevel==="suit"?u.trackingDispatcher.trackEventNumber(97.1):this.filterLevel==="test"&&u.trackingDispatcher.trackEventNumber(136)}});return a}),define("filterEntities/FilterEntitiesView",["require","jquery","underscore","util","backbone","filterEntities/FilterEntitiesResolver","core/components","filterEntities/FilterEntityView","filterEntities/FilterEntitiesChoiceView"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("backbone"),s=e("filterEntities/FilterEntitiesResolver"),o=e("core/components"),u=e("filterEntities/FilterEntityView"),a=e("filterEntities/FilterEntitiesChoiceView"),f=o.RemovableView.extend({template:"tpl-filter-entities",initialize:function(e){this.filterLevel=e.filterLevel||"launch",this.collection=new i.Collection,this.invalidCollection=new i.Collection,this.listenTo(this.collection,"change:visible",this.onChangeVisible),this.listenTo(this.model,"add_entity",this.onAddEntityById),this.listenTo(this.invalidCollection,"add",this.renderEntity),this.listenTo(this.invalidCollection,"change:visible",this.changeVisibleInvalidEntity),this.hiddenFields=[],s.getDefaults(this.filterLevel).done(function(e){this.collection.reset(e.models),this.render()}.bind(this))},changeVisibleInvalidEntity:function(e,t){if(t)return;this.invalidCollection.remove(e),this.onChangeFilterEntities()},onChangeVisible:function(e,t){if(!t)return;this.renderEntity(e)},render:function(){this.$el.html(r.templates(this.template,{})),this.$entities=t("[data-js-entities]",this.$el),new a({el:t("[data-js-entities-choice]",this.$el),filterLevel:this.filterLevel,collection:this.collection}),n.each(this.collection.where({required:!0}),function(e){e.set({visible:!0})},this),this.parseModelEntities(),this.listenTo(this.collection,"change:condition change:value",this.onChangeFilterEntities)},onAddEntityById:function(e,t){var n=this.collection.where({id:e})[0];if(n){if(t){var r=n.get("value");if(n.get("id")==="issue$auto_analyzed"||n.get("id")==="issue$ignore_analyzer"||n.get("id")==="issue$externalSystemIssues$ticket_id")r=t;if(n.get("id")==="tags"||n.get("id")==="user")r=r?r+","+t:t;n.set({visible:!0,value:r})}else n.set({visible:!0});n.trigger("focus",!0)}},renderEntity:function(e){this.$entities.append((new u({model:e,filterLevel:this.filterLevel})).$el)},parseModelEntities:function(){n.each(this.model.getEntitiesObj(),function(e){var t=this.collection.where({id:e.filtering_field});t.length?t[0].set({condition:e.condition,value:e.value,visible:!0}):e.filtering_field==="has_childs"||e.filtering_field==="uniqueId"?this.hiddenFields.push(e):this.invalidCollection.add(new(s.getInvalidModel())({condition:e.condition,value:e.value,visible:!0,name:e.filtering_field.split("$").pop(),id:e.filtering_field}))},this)},onChangeFilterEntities:function(){var e=[];n.each(this.collection.models,function(t){(t.get("visible")||t.get("required"))&&t.get("value")!==""&&e.push(t.getInfo())},this),n.each(this.invalidCollection.models,function(t){e.push(t.getInfo())},this),n.each(this.hiddenFields,function(t){e.push(t)}),this.model.set({newEntities:JSON.stringify(e)})},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),delete this}});return f}),define("filterSelectionParameters/FilterSortingItemView",["require","backbone-epoxy","util"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=t.View.extend({tagName:"li",className:"filter-sorting-item-view",template:"filter-sorting-item-view",events:{click:"onClick"},bindings:{"[data-js-name]":"text: name",":el":"classes: {selected: isActive}","[data-js-ask-icon]":"classes: {hide: not(isAskSorting)}","[data-js-desc-icon]":"classes: {hide: isAskSorting}"},computeds:{isActive:{deps:["sortingColumn"],get:function(e){return e===this.viewModel.get("id")}}},initialize:function(){this.render()},render:function(){this.$el.html(n.templates(this.template,{}))},onClick:function(){var e=this.model.getParametersObj();this.getBinding("isActive")?e.is_asc=!e.is_asc:(e.is_asc=!1,e.sorting_column=this.viewModel.get("id")),this.model.set({newSelectionParameters:JSON.stringify(e)})},destroy:function(){this.undelegateEvents(),this.unbind(),this.$el.remove()}});return r}),define("filterSelectionParameters/FilterSortingView",["require","backbone-epoxy","backbone","util","jquery","underscore","localization","filterSelectionParameters/FilterSortingItemView"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("backbone"),r=e("util"),i=e("jquery"),s=e("underscore"),o=e("localization"),u=e("filterSelectionParameters/FilterSortingItemView"),a=t.View.extend({className:"filter-sorting-view",template:"filter-sorting-view",bindings:{"[data-js-sorting-name]":"text: nameSorting","[data-js-ask-sort]":"classes: {hide: not(isAskSorting)}","[data-js-desc-sort]":"classes: {hide: isAskSorting}"},computeds:{nameSorting:{deps:["selection_parameters","newSelectionParameters"],get:function(){var e=this.model.getParametersObj(),t=this.collection.get(e.sorting_column);return t?t.get("name"):""}}},initialize:function(){var e=this;this.render(),this.collection=new n.Collection([{name:o.launches.launchName,active:!1,id:"name,number"},{name:o.launchesHeaders.start_time,active:!1,id:"start_time,number"},{name:o.launchesHeaders.total,active:!1,id:"statistics$executions$total,number"},{name:o.launchesHeaders.passed,active:!1,id:"statistics$executions$passed,number"},{name:o.launchesHeaders.failed,active:!1,id:"statistics$executions$failed,number"},{name:o.launchesHeaders.skipped,active:!1,id:"statistics$executions$skipped,number"},{name:o.launchesHeaders.product_bug,active:!1,id:"statistics$defects$product_bug$total,number"},{name:o.launchesHeaders.automation_bug,active:!1,id:"statistics$defects$automation_bug$total,number"},{name:o.launchesHeaders.system_issue,active:!1,id:"statistics$defects$system_issue$total,number"},{name:o.launchesHeaders.to_investigate,active:!1,id:"statistics$defects$to_investigate$total,number"}]),s.each(this.collection.models,function(t){var n=new u({viewModel:t,model:e.model});i("[data-js-sorting-list]",e.$el).append(n.$el)})},render:function(){this.$el.html(r.templates(this.template,{}))},destroy:function(){this.undelegateEvents(),this.unbind(),this.$el.remove()}});return a}),define("launches/FilterPanelView",["require","jquery","backbone-epoxy","filterEntities/FilterEntitiesView","util","app","modals/modalFilterEdit","controlers/filterControler/FilterListener","filterSelectionParameters/FilterSortingView"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("filterEntities/FilterEntitiesView"),i=e("util"),s=e("app"),o=e("modals/modalFilterEdit"),u=e("controlers/filterControler/FilterListener"),a=e("filterSelectionParameters/FilterSortingView"),f=s.getInstance(),l=n.View.extend({template:"tpl-launch-filter-panel",events:{"click [data-js-edit-filter]":"onClickEdit","click [data-js-discard-filter]":"onClickDiscard","click [data-js-save-filter]":"onClickSave","click [data-js-clone-filter]":"onClickClone"},bindings:{"[data-js-filter-not-save-descr]":"classes: {hide: all(not(temp), not(newEntities), not(newSelectionParameters))}","[data-js-filter-shared-descr]":"classes: {hide: any(not(share), notMyFilter)}","[data-js-save-filter]":"attr: {disabled: any(all(not(newEntities), not(newSelectionParameters)), notMyFilter)}","[data-js-discard-filter]":"attr: {disabled: all(not(newEntities), not(newSelectionParameters))}","[data-js-edit-filter]":"attr: {disabled: any(temp, notMyFilter)}","[data-js-clone-filter]":"attr: {disabled: all(not(entities), not(newEntities))}","[data-js-filter-not-my-descr]":"classes: {hide: not(notMyFilter)}","[data-js-add-widget]":"classes: {disabled: temp}"},initialize:function(){this.filterListener=new u,this.filterEvents=this.filterListener.events,this.render(),this.createFilterEntities(),this.listenTo(this.model,"change:entities change:selection_parameters",this.createFilterEntities)},render:function(){this.$el.html(i.templates(this.template,{}))},onClickEdit:function(){var e=this;f.trackingDispatcher.trackEventNumber(15),(new o({mode:"edit",filterModel:e.model})).show().done(function(t){e.filterListener.trigger(e.filterEvents.ON_SET_FILTER,{id:e.model.get("id"),data:e.model.getDataFromServer(t.attributes)})})},onClickClone:function(){var e=this.model.collection.generateTempModel({newEntities:this.model.get("newEntities")||this.model.get("entities")});f.router.navigate(e.get("url"),{trigger:!0}),f.trackingDispatcher.trackEventNumber(14)},onClickDiscard:function(){f.trackingDispatcher.trackEventNumber(13),this.model.set({newEntities:"",newSelectionParameters:""}),this.createFilterEntities(),this.model.trigger("discard")},createFilterEntities:function(){this.filterEntities&&this.filterEntities.destroy(),this.filterEntities=new r({el:t("[data-js-filter-entities]",this.$el),filterLevel:"launch",model:this.model}),this.filterSorting&&this.filterSorting.destroy(),this.filterSorting=new a({model:this.model}),t("[data-js-filter-sorting]",this.$el).html(this.filterSorting.$el)},onClickSave:function(){var e=this;f.trackingDispatcher.trackEventNumber(16),this.model.get("temp")?(new o({mode:"save",filterModel:e.model})).show().done(function(t){e.filterListener.trigger(e.filterEvents.ON_ADD_FILTER,{cid:e.model.cid,data:e.model.getDataFromServer(t.attributes),isLaunch:!0})}):e.filterListener.trigger(e.filterEvents.ON_SET_FILTER,{id:e.model.get("id"),data:e.model.getDataFromServer()})},onDestroy:function(){this.filterSorting&&this.filterSorting.destroy(),this.filterEntities&&this.filterEntities.destroy(),this.$el.html("")}});return l}),define("components/DropDownComponent",["require","jquery","underscore","backbone-epoxy","util"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=r.View.extend({className:"drop-down-component",template:"tpl-drop-down-component",events:{"click ul li a":"onClickItem","click [data-js-label]":"onClickLabel","change input":"onChangeInput"},initialize:function(e){this.options=e;if(!this.options.data){console.log("DropDownComponent: data not found");return}this.render(),e.defaultValue&&(!e.multiple&&this.activateItem(e.defaultValue),e.multiple&&this.setDefaultState(e.defaultValue))},render:function(){this.$el.html(i.templates(this.template,this.options))},onClickLabel:function(e){e.stopPropagation()},onClickItem:function(e){var n;e.preventDefault();if(t(e.currentTarget).hasClass("selected")||t(e.currentTarget).hasClass("not-active"))return;n=this.activateItem(t(e.currentTarget).data("value")),this.trigger("change",n,e)},activateItem:function(e){var r="",i="";return this.$el.removeClass("dropdown-error-state"),this.$el.addClass("selected"),n.each(this.options.data,function(t){if(t.value==e)return r=t.shortName?t.shortName:t.name,i=t.value,!1}),this.currentValue=i,t("[data-js-select-value]",this.$el).html(r),t("[data-value]",this.$el).removeClass("selected"),t('[data-value="'+i+'"]',this.$el).addClass("selected"),i},setDefaultState:function(e){var r=this;n.each(e,function(e){t('[data-value="'+e+'"]',r.$el).prop({checked:"checked"})}),this.onChangeInput()},onSelectAll:function(){var e=!0,n=t("input[data-value]",this.$el);n.each(function(){t(this).is(":checked")||(e=!1)}),n.prop("checked",!e)},onChangeInput:function(e){var r=[],i=[];e&&e.target.value==="all"&&this.onSelectAll(),this.$el.removeClass("dropdown-error-state"),n.each(t("input:checked",this.$el),function(e){e.value!=="all"&&(r.push(t(e).data("value")),i.push(t(e).data("name")))}),this.currentValue=r,this.trigger("change",r),i.length?(this.$el.addClass("selected"),t("[data-js-select-value]",this.$el).html(i.join(", "))):(this.$el.removeClass("selected"),t("[data-js-select-value]",this.$el).html(this.options.placeholder))},getValue:function(){return this.currentValue},setErrorState:function(e){this.$el.addClass("dropdown-error-state"),t("[data-js-hint-message]",this.$el).html(e)},disabled:function(){t("[data-js-dropdown]",this.$el).attr("disabled","disabled")},enabled:function(){t("[data-js-dropdown]",this.$el).removeAttr("disabled")},onDestroy:function(){this.$el.html(""),delete this}});return s}),define("launches/LaunchHeaderView",["require","filters/SingletonLaunchFilterCollection","storage/SingletonUserStorage","launches/FilterLabelView","launches/FilterPanelView","util","jquery","underscore","backbone-epoxy","filters/FilterModel","app","storage/SingletonAppStorage","components/DropDownComponent","localization"],function(e){"use strict";var t=e("filters/SingletonLaunchFilterCollection"),n=e("storage/SingletonUserStorage"),r=e("launches/FilterLabelView"),i=e("launches/FilterPanelView"),s=e("util"),o=e("jquery"),u=e("underscore"),a=e("backbone-epoxy"),f=e("filters/FilterModel"),l=e("app"),c=e("storage/SingletonAppStorage"),h=e("components/DropDownComponent"),p=e("localization"),d=l.getInstance(),v=a.View.extend({events:{"click [data-js-add-filter]":"onClickAddFilter","click [data-js-all-link]":"onClickAllLink","click [data-js-filter-entity-switcher]":"onClickFilterEntitySwitcher","click [data-js-select-launch-option] a":"onClickDropdownItem"},bindings:{"[data-js-filter-entity-switcher]":'classes: {"hide": active}',"[data-js-link-all]":"attr: {href: url}","[data-js-launch-selector]":" classes: {active: active}"},template:"tpl-launch-header",initialize:function(){this.dropdownButtonLinks={links:[{name:p.launches.allLaunches,value:"all"},{name:p.launches.latestLaunches,value:"latest"}]},this.ready=o.Deferred(),this.userStorage=new n,this.launchFilterCollection=new t,this.model=new f({id:"all",active:!0,name:"All Launches",owner:d.userModel.get("name")}),this.listenTo(this.launchFilterCollection,"add",this.onAddFilter),this.listenTo(this.launchFilterCollection,"change:activeFilter",this.onChangeActiveFilter),this.listenTo(this.launchFilterCollection,"change:id",this.onChangeIdFilter),this.listenTo(this.launchFilterCollection,"add_entity change:newSelectionParameters",this.showFilterCriteriaPanel),this.listenTo(this.userStorage,"change:launchFilterCriteriaHide",this.onChangeFilterCriteriaShow),this.appStorage=new c,this.render()},render:function(){this.launchFilterCollection.ready.done(function(){this.listenTo(this.launchFilterCollection,"reset",this.renderFilterList),this.$el.html(s.templates(this.template,this.dropdownButtonLinks)),this.selectOptions(this.appStorage.get("launchDistinct")||"all"),this.applyBindings(),this.renderFilterList(),this.onChangeFilterCriteriaShow(null,this.userStorage.get("launchFilterCriteriaHide")),this.setupDropdowns(),this.ready.resolve()}.bind(this))},setupDropdowns:function(){this.launchModeSelector=new h({data:[{name:p.launches.allLaunches,value:"all",shortName:p.launches.allLaunches_short},{name:p.launches.latestLaunches,value:"latest",shortName:p.launches.latestLaunches_short}],multiple:!1,defaultValue:this.appStorage.get("launchDistinct")||"all"}),o("[data-js-launches-mode-dropdown]",this.$el).html(this.launchModeSelector.$el),this.listenTo(this.launchModeSelector,"change",this.onLaunchModeSelect)},onLaunchModeSelect:function(e){this.appStorage.set({launchDistinct:e})},onClickDropdownItem:function(e){var t;e.preventDefault();if(o(e.currentTarget).hasClass("selected"))return;t=o(e.currentTarget).data("value"),this.appStorage.set({launchDistinct:t}),this.selectOptions(t)},selectOptions:function(e){var t="",n="";u.each(this.dropdownButtonLinks.links,function(r){if(r.value===e)return t=r.name,n=r.value,!1}),o("[data-js-select-value]",this.$el).html(t),o("[data-value]",this.$el).removeClass("selected"),o('[data-value="'+n+'"]',this.$el).addClass("selected")},onChangeFilterCriteriaShow:function(e,t){t?o(".launches-header-block",this.$el).addClass("hide-criteria"):o(".launches-header-block",this.$el).removeClass("hide-criteria")},showFilterCriteriaPanel:function(){this.userStorage.set({launchFilterCriteriaHide:!1})},onChangeActiveFilter:function(e){e?(this.activateFilter(e),this.renderActiveFilter(e),this.onChangeFilterCriteriaShow(null,e.get("temp")?!1:this.userStorage.get("launchFilterCriteriaHide"))):(this.model.set({active:!0}),this.renderActiveFilter(this.model),this.filterPanel&&this.filterPanel.destroy())},renderActiveFilter:function(e){var t=o("[data-js-active-filter]",this.$el),n=new r({model:e});t.html(""),t.append(n.$el)},setState:function(e){o(".launches-header-block",this.$el).attr("data-js-state",e)},activateFilter:function(e){this.model.set({active:!1}),this.filterPanel&&this.filterPanel.destroy(),this.filterPanel=new i({model:e}),o("[data-js-filter-panel]",this.$el).html(this.filterPanel.$el)},onAddFilter:function(e){var t=new r({model:e}),n=new r({model:e});this.listenTo(t,"showCriteria",this.showFilterCriteriaPanel),o("[data-js-filter-list]",this.$el).append(t.$el),o("[data-js-filter-list-mobile]",this.$el).append(n.$el)},renderFilterList:function(){var e=new r({model:this.model});o("[data-js-filter-list]",this.$el).html(""),o("[data-js-filter-list-mobile]",this.$el).html(""),o("[data-js-filter-list-mobile]",this.$el).append(e.$el),u.each(this.launchFilterCollection.models,function(e){this.onAddFilter(e)},this)},onClickFilterEntitySwitcher:function(){var e=this.userStorage.get("launchFilterCriteriaHide")||!1;this.userStorage.set({launchFilterCriteriaHide:!e})},onClickAddFilter:function(){var e=this.launchFilterCollection.generateTempModel();d.trackingDispatcher.trackEventNumber(12),d.router.navigate(e.get("url"),{trigger:!0})},onClickAllLink:function(){d.trackingDispatcher.trackEventNumber(22)},onChangeIdFilter:function(e){d.router.navigate(e.get("url"),{trigger:!1})},discardTemporaryFiltersChanges:function(){var e=this.launchFilterCollection.where({temp:!0});this.launchFilterCollection.remove(e),u.each(this.launchFilterCollection.models,function(e){e.set("newEntities","")})},onDestroy:function(){this.filterPanel&&this.filterPanel.destroy(),this.model.destroy(),this.discardTemporaryFiltersChanges(),this.$el.empty()}});return v}),define("newWidgets/WidgetErrorView",["require","backbone-epoxy","util"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=t.View.extend({className:"widget-error-view",template:"tpl-widget-error",initialize:function(e){this.render(e)},render:function(e){this.$el.html(n.templates(this.template,e))},onDestroy:function(){this.$el.remove()}});return r}),define("newWidgets/_BaseWidgetView",["require","backbone-epoxy","model/SingletonAppModel","util","defectType/SingletonDefectTypeCollection","newWidgets/WidgetErrorView","jquery","underscore","localization"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("model/SingletonAppModel"),r=e("util"),i=e("defectType/SingletonDefectTypeCollection"),s=e("newWidgets/WidgetErrorView"),o=e("jquery"),u=e("underscore"),a=e("localization"),f=t.View.extend({initialize:function(e){this.id="widget-"+this.model.get("id"),this.isPreview=e.isPreview,this.unclickableChart=e.unclickableChart,this.hiddenItems=e.hiddenItems,this.appModel=new n,this.defectsCollection=new i,this.afterInitialize&&this.afterInitialize()},tpl:"",className:"panel-body",getData:function(){},render:function(){},onShow:function(){var e=this;this.defectsCollection.ready.done(function(){e.render()})},isEmptyData:function(e){return u.isEmpty(e)?!0:e.result&&!e.result.length?!0:!1},addNoAvailableBock:function(e){var t=e?o(e):this.$el;this.errorView=new s({message:a.widgets.noData}),t.after(this.errorView.$el)},getSeriesColor:function(e){var t=this.defectsCollection.getDefectType(e),n=t?t.color:r.getDefaultColor(e);return n},invalidDataMessage:function(e){return r.templates("tpl-widget-invalid-data",{qty:e})},getFilterByNameRedirectLink:function(e,t){var r=new n;return encodeURI("#"+r.get("projectId")+"/launches/all|page.page=1&page.size=50&page.sort=start_time/"+e+"?page.page=1&page.size=50&page.sort=start_time&filter.eq.has_childs=false&filter.ctn.name="+t)},getFilterByUIDRedirectLink:function(e,t){var r=new n;return encodeURI("#"+r.get("projectId")+"/launches/all|page.page=1&page.size=50&page.sort=start_time/"+e+"?page.page=1&page.size=50&page.sort=start_time&filter.eq.has_childs=false&filter.eq.uniqueId="+t)},linkToRedirectService:function(e,t){var s=new i,o=new n,a="#"+o.get("projectId"),f="?page.page=1&page.size=50&page.sort=start_time&",l="filter.eq.has_childs=false",c="",h=function(e){var n=[a,"launches/all",t];return n.join("/")+e},p=function(e){var t=l+"&"+e;return"|"+t+f+"&"+t},d=function(e){var t=e.split(" "),n=u.map(t,function(e){return e.toLowerCase()}).join("_"),i=s.toJSON();return r.getSubDefectsLocators(n,i)},v,m,g;switch(e){case"Total":case"total":case"Grow test cases":case"grow_test_cases":c=p("filter.in.type=STEP&filter.in.status=PASSED,FAILED,SKIPPED,INTERRUPTED");break;case"Passed":case"passed":c=p("&filter.in.type=STEP&filter.in.status=PASSED");break;case"Failed":case"failed":c=p("&filter.in.type=STEP&filter.in.status=FAILED,INTERRUPTED");break;case"Skipped":case"skipped":c=p("&filter.in.type=STEP&filter.in.status=SKIPPED");break;case"To Investigate":case"to_investigate":case"toInvestigate":c=p(["filter.in.issue$issue_type=",d("To Investigate")].join(""));break;case"System Issue":case"systemIssue":case"system_issue":c=p(["filter.in.issue$issue_type=",d("System Issue")].join(""));break;case"Product Bug":case"productBug":case"product_bug":c=p(["filter.in.issue$issue_type=",d("Product Bug")].join(""));break;case"No Defect":case"noDefect":case"no_defect":c=p(["filter.in.issue$issue_type=",d("No Defect")].join(""));break;case"Automation Bug":case"Auto Bug":case"automationBug":case"automation_bug":c=p(["filter.in.issue$issue_type=",d("Automation Bug")].join(""));break;case"Investigated":case"investigated":v=["System Issue","Product Bug","No Defect","Automation Bug"],m=[],u.each(v,function(e){m=m.concat(d(e))}),c=p(["filter.in.issue$issue_type=",m].join(""));break;case"Duration":case"duration":c="";break;default:g=u.find(s.toJSON(),function(t){return t.locator===e}),g?c=p(["filter.in.issue$issue_type=",g.locator].join("")):c=""}return encodeURI(h(c))},addResize:function(){},updateWidget:function(){},addSizeClasses:function(e){var t=[],n=[];for(var r=12;r>e.width;r--)t.push("w-less-then-"+r);for(var r=10;r>e.height;r--)n.push("h-less-then-"+r);this.$el.addClass(t.concat(n).join(" "))},updateSizeClasses:function(e){var t=u.filter(this.$el.attr("class").split(" "),function(e){return e.indexOf("less-then-")+1});this.$el.removeClass(t.join(" ")),this.addSizeClasses(e),this.afterUpdateSizeClasses()},afterUpdateSizeClasses:function(){this.updateWidget()},onDestroy:function(){this.errorView&&this.errorView.destroy(),o(window).off("resize."+this.id),this.onBeforeDestroy&&this.onBeforeDestroy()}});return f}),define("newWidgets/_C3ChartWidgetView",["require","underscore","util","newWidgets/_BaseWidgetView","app","moment","coreService","filters/FilterModel"],function(e){"use strict";var t=e("underscore"),n=e("util"),r=e("newWidgets/_BaseWidgetView"),i=e("app"),s=e("moment"),o=i.getInstance(),u=e("coreService"),a=e("filters/FilterModel"),f=r.extend({isDataExists:function(){return!t.isEmpty(this.model.getContent())&&this.model.getContent().result.length&&!t.isEmpty(this.model.getContent().result[0].values)},getValuesInPercents:function(e,n){var r;return t.mapValues(n,function(t){return r=Math.round(t/e*100),r===0&&t&&(r=1),r===100&&t!==e&&(r=99),r})},formatDateTime:function(e){return n.dateFormat(new Date(+e))},getRoundedToDecimalPlaces:function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},getFormattedLabels:function(e){var t=this.chartData[e]/this.total,n=this.getRoundedToDecimalPlaces(t*100,2).toFixed(2);return!this.isPreview&&n>0?n+"%":""},getLaunchAxisTicks:function(e){return t.range(0,e,e>6?Math.round(e/12):1)},getTimelineAxisTicks:function(e){return t.range(e>5?((e/5/2).toFixed()/2).toFixed():0,e,e>5?(e/5).toFixed():1)},updateWidget:function(){this.charts&&t.each(this.charts,function(e){e.flush(),e.resize({height:this.$el.parent().height()})}.bind(this)),this.chart&&this.chart.resize({height:this.$el.parent().height()})&&this.chart.flush()},onBeforeDestroy:function(){this.chart&&(this.chart=this.chart.destroy())},redirectForTimeLine:function(e){var t=864e5,n=this.model.get("filter_id");u.getFilterData([n]).done(function(n){var r=new a,i,u,f=s(e),l={condition:"btw",filtering_field:"start_time",is_negative:!1,value:f.format("x")+","+(parseInt(f.format("x"),10)+t)};r.parseServerData(n[0]),u=r.getEntitiesObj()||[],u.push(l),r.set("newEntities",JSON.stringify(u)),i=r.get("url")+"all?"+r.getOptions().join("&"),r.destroy(),i&&o.router.navigate(i,{trigger:!0})})}});return f}),!function(){function e(e){return e&&(e.ownerDocument||e.document||e).documentElement}function t(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function n(e,t){return t>e?-1:e>t?1:e>=t?0:0/0}function r(e){return null===e?0/0:+e}function i(e){return!isNaN(e)}function s(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}function o(e){return e.length}function u(e){for(var t=1;e*t%1;)t*=10;return t}function a(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function f(){this._=Object.create(null)}function l(e){return(e+="")===vu||e[0]===mu?mu+e:e}function c(e){return(e+="")[0]===mu?e.slice(1):e}function h(e){return l(e)in this._}function p(e){return(e=l(e))in this._&&delete this._[e]}function d(){var e=[];for(var t in this._)e.push(c(t));return e}function v(){var e=0;for(var t in this._)++e;return e}function m(){for(var e in this._)return!1;return!0}function g(){this._=Object.create(null)}function y(e){return e}function b(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function w(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=gu.length;r>n;++n){var i=gu[n]+t;if(i in e)return i}}function E(){}function S(){}function x(e){function t(){for(var t,r=n,i=-1,s=r.length;++i<s;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new f;return t.on=function(t,i){var s,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,s=n.indexOf(o)).concat(n.slice(s+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function T(){nu.event.preventDefault()}function N(){for(var e,t=nu.event;e=t.sourceEvent;)t=e;return t}function C(e){for(var t=new S,n=0,r=arguments.length;++n<r;)t[arguments[n]]=x(t);return t.of=function(n,r){return function(i){try{var s=i.sourceEvent=nu.event;i.target=e,nu.event=i,t[i.type].apply(n,r)}finally{nu.event=s}}},t}function k(e){return bu(e,xu),e}function L(e){return"function"==typeof e?e:function(){return wu(e,this)}}function A(e){return"function"==typeof e?e:function(){return Eu(e,this)}}function O(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function s(){this.setAttributeNS(e.space,e.local,t)}function o(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function u(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=nu.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?u:o:e.local?s:i}function M(e){return e.trim().replace(/\s+/g," ")}function _(e){return new RegExp("(?:^|\\s+)"+nu.requote(e)+"(?:\\s+|$)","g")}function D(e){return(e+"").trim().split(/^|\s+/)}function P(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=D(e).map(H);var i=e.length;return"function"==typeof t?r:n}function H(e){var t=_(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",M(i+" "+e))):n.setAttribute("class",M(i.replace(t," ")))}}function B(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function s(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?s:i}function j(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:r}function F(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n?t.createElementNS(n,e):t.createElement(e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=nu.ns.qualify(e)).local?n:t}function I(){var e=this.parentNode;e&&e.removeChild(this)}function q(e){return{__data__:e}}function R(e){return function(){return Su(this,e)}}function U(e){return arguments.length||(e=n),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function z(e,t){for(var n=0,r=e.length;r>n;n++)for(var i,s=e[n],o=0,u=s.length;u>o;o++)(i=s[o])&&t(i,o,n);return e}function W(e){return bu(e,Nu),e}function X(e){var t,n;return function(r,i,s){var o,u=e[s].update,a=u.length;for(s!=n&&(n=s,t=0),i>=t&&(t=i+1);!(o=u[t])&&++t<a;);return o}}function V(e,t,n){function r(){var t=this[o];t&&(this.removeEventListener(e,t,t.$),delete this[o])}function i(){var i=a(t,iu(arguments));r.call(this),this.addEventListener(e,this[o]=i,i.$=n),i._=t}function s(){var t,n=new RegExp("^__on([^.]+)"+nu.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var o="__on"+e,u=e.indexOf("."),a=$;u>0&&(e=e.slice(0,u));var f=Cu.get(e);return f&&(e=f,a=J),u?t?i:r:t?E:s}function $(e,t){return function(n){var r=nu.event;nu.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{nu.event=r}}}function J(e,t){var n=$(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function K(n){var r=".dragsuppress-"+ ++Lu,i="click"+r,s=nu.select(t(n)).on("touchmove"+r,T).on("dragstart"+r,T).on("selectstart"+r,T);if(null==ku&&(ku="onselectstart"in n?!1:w(n.style,"userSelect")),ku){var o=e(n).style,u=o[ku];o[ku]="none"}return function(e){if(s.on(r,null),ku&&(o[ku]=u),e){var t=function(){s.on(i,null)};s.on(i,function(){T(),t()},!0),setTimeout(t,0)}}}function Q(e,n){n.changedTouches&&(n=n.changedTouches[0]);var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();if(0>Au){var s=t(e);if(s.scrollX||s.scrollY){r=nu.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();Au=!o.f&&!o.e,r.remove()}}return Au?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}var u=e.getBoundingClientRect();return[n.clientX-u.left-e.clientLeft,n.clientY-u.top-e.clientTop]}function G(){return nu.event.changedTouches[0].identifier}function Y(e){return e>0?1:0>e?-1:0}function Z(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function et(e){return e>1?0:-1>e?_u:Math.acos(e)}function tt(e){return e>1?Hu:-1>e?-Hu:Math.asin(e)}function nt(e){return((e=Math.exp(e))-1/e)/2}function rt(e){return((e=Math.exp(e))+1/e)/2}function it(e){return((e=Math.exp(2*e))-1)/(e+1)}function st(e){return(e=Math.sin(e/2))*e}function ot(){}function ut(e,t,n){return this instanceof ut?(this.h=+e,this.s=+t,void (this.l=+n)):arguments.length<2?e instanceof ut?new ut(e.h,e.s,e.l):Et(""+e,St,ut):new ut(e,t,n)}function at(e,t,n){function r(e){return e>360?e-=360:0>e&&(e+=360),60>e?s+(o-s)*e/60:180>e?o:240>e?s+(o-s)*(240-e)/60:s}function i(e){return Math.round(255*r(e))}var s,o;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+t):n+t-n*t,s=2*n-o,new gt(i(e+120),i(e),i(e-120))}function ft(e,t,n){return this instanceof ft?(this.h=+e,this.c=+t,void (this.l=+n)):arguments.length<2?e instanceof ft?new ft(e.h,e.c,e.l):e instanceof ct?pt(e.l,e.a,e.b):pt((e=xt((e=nu.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new ft(e,t,n)}function lt(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new ct(n,Math.cos(e*=Bu)*t,Math.sin(e)*t)}function ct(e,t,n){return this instanceof ct?(this.l=+e,this.a=+t,void (this.b=+n)):arguments.length<2?e instanceof ct?new ct(e.l,e.a,e.b):e instanceof ft?lt(e.h,e.c,e.l):xt((e=gt(e)).r,e.g,e.b):new ct(e,t,n)}function ht(e,t,n){var r=(e+16)/116,i=r+t/500,s=r-n/200;return i=dt(i)*$u,r=dt(r)*Ju,s=dt(s)*Ku,new gt(mt(3.2404542*i-1.5371385*r-.4985314*s),mt(-0.969266*i+1.8760108*r+.041556*s),mt(.0556434*i-.2040259*r+1.0572252*s))}function pt(e,t,n){return e>0?new ft(Math.atan2(n,t)*ju,Math.sqrt(t*t+n*n),e):new ft(0/0,0/0,e)}function dt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function vt(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function mt(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function gt(e,t,n){return this instanceof gt?(this.r=~~e,this.g=~~t,void (this.b=~~n)):arguments.length<2?e instanceof gt?new gt(e.r,e.g,e.b):Et(""+e,gt,at):new gt(e,t,n)}function yt(e){return new gt(e>>16,e>>8&255,255&e)}function bt(e){return yt(e)+""}function wt(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Et(e,t,n){var r,i,s,o=0,u=0,a=0;if(r=/([a-z]+)\((.*)\)/i.exec(e))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(Nt(i[0]),Nt(i[1]),Nt(i[2]))}return(s=Yu.get(e.toLowerCase()))?t(s.r,s.g,s.b):(null==e||"#"!==e.charAt(0)||isNaN(s=parseInt(e.slice(1),16))||(4===e.length?(o=(3840&s)>>4,o=o>>4|o,u=240&s,u=u>>4|u,a=15&s,a=a<<4|a):7===e.length&&(o=(16711680&s)>>16,u=(65280&s)>>8,a=255&s)),t(o,u,a))}function St(e,t,n){var r,i,s=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),u=o-s,a=(o+s)/2;return u?(i=.5>a?u/(o+s):u/(2-o-s),r=e==o?(t-n)/u+(n>t?6:0):t==o?(n-e)/u+2:(e-t)/u+4,r*=60):(r=0/0,i=a>0&&1>a?0:r),new ut(r,i,a)}function xt(e,t,n){e=Tt(e),t=Tt(t),n=Tt(n);var r=vt((.4124564*e+.3575761*t+.1804375*n)/$u),i=vt((.2126729*e+.7151522*t+.072175*n)/Ju),s=vt((.0193339*e+.119192*t+.9503041*n)/Ku);return ct(116*i-16,500*(r-i),200*(i-s))}function Tt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Nt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function Ct(e){return"function"==typeof e?e:function(){return e}}function kt(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Lt(t,n,e,r)}}function Lt(e,t,n,r){function i(){var e,t=a.status;if(!t&&Ot(a)||t>=200&&300>t||304===t){try{e=n.call(s,a)}catch(r){return void o.error.call(s,r)}o.load.call(s,e)}else o.error.call(s,a)}var s={},o=nu.dispatch("beforesend","progress","load","error"),u={},a=new XMLHttpRequest,f=null;return!this.XDomainRequest||"withCredentials"in a||!/^(http(s)?:)?\/\//.test(e)||(a=new XDomainRequest),"onload"in a?a.onload=a.onerror=i:a.onreadystatechange=function(){a.readyState>3&&i()},a.onprogress=function(e){var t=nu.event;nu.event=e;try{o.progress.call(s,a)}finally{nu.event=t}},s.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?u[e]:(null==t?delete u[e]:u[e]=t+"",s)},s.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",s):t},s.responseType=function(e){return arguments.length?(f=e,s):f},s.response=function(e){return n=e,s},["get","post"].forEach(function(e){s[e]=function(){return s.send.apply(s,[e].concat(iu(arguments)))}}),s.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),a.open(n,e,!0),null==t||"accept"in u||(u.accept=t+",*/*"),a.setRequestHeader)for(var l in u)a.setRequestHeader(l,u[l]);return null!=t&&a.overrideMimeType&&a.overrideMimeType(t),null!=f&&(a.responseType=f),null!=i&&s.on("error",i).on("load",function(e){i(null,e)}),o.beforesend.call(s,a),a.send(null==r?null:r),s},s.abort=function(){return a.abort(),s},nu.rebind(s,o,"on"),null==r?s:s.get(At(r))}function At(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Ot(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function Mt(){var e=_t(),t=Dt()-e;t>24?(isFinite(t)&&(clearTimeout(na),na=setTimeout(Mt,t)),ta=0):(ta=1,ia(Mt))}function _t(){var e=Date.now();for(ra=Zu;ra;)e>=ra.t&&(ra.f=ra.c(e-ra.t)),ra=ra.n;return e}function Dt(){for(var e,t=Zu,n=1/0;t;)t.f?t=e?e.n=t.n:Zu=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return ea=e,n}function Pt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Ht(e,t){var n=Math.pow(10,3*du(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Bt(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,s=r&&n?function(e,t){for(var i=e.length,s=[],o=0,u=r[0],a=0;i>0&&u>0&&(a+u+1>t&&(u=Math.max(1,t-a)),s.push(e.substring(i-=u,i+u)),!((a+=u+1)>t));)u=r[o=(o+1)%r.length];return s.reverse().join(n)}:y;return function(e){var n=oa.exec(e),r=n[1]||" ",o=n[2]||">",u=n[3]||"-",a=n[4]||"",f=n[5],l=+n[6],c=n[7],h=n[8],p=n[9],d=1,v="",m="",g=!1,y=!0;switch(h&&(h=+h.substring(1)),(f||"0"===r&&"="===o)&&(f=r="0",o="="),p){case"n":c=!0,p="g";break;case"%":d=100,m="%",p="f";break;case"p":d=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===a&&(v="0"+p.toLowerCase());case"c":y=!1;case"d":g=!0,h=0;break;case"s":d=-1,p="r"}"$"===a&&(v=i[0],m=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):("e"==p||"f"==p)&&(h=Math.max(0,Math.min(20,h)))),p=ua.get(p)||jt;var b=f&&c;return function(e){var n=m;if(g&&e%1)return"";var i=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===u?"":u;if(0>d){var a=nu.formatPrefix(e,h);e=a.scale(e),n=a.symbol+m}else e*=d;e=p(e,h);var w,E,S=e.lastIndexOf(".");if(0>S){var x=y?e.lastIndexOf("e"):-1;0>x?(w=e,E=""):(w=e.substring(0,x),E=e.substring(x))}else w=e.substring(0,S),E=t+e.substring(S+1);!f&&c&&(w=s(w,1/0));var T=v.length+w.length+E.length+(b?0:i.length),N=l>T?(new Array(T=l-T+1)).join(r):"";return b&&(w=s(N+w,N.length?l-E.length:1/0)),i+=v,e=w+E,("<"===o?i+e+N:">"===o?N+i+e:"^"===o?N.substring(0,T>>=1)+i+e+N.substring(T):i+(b?e:N+e))+n}}}function jt(e){return e+""}function Ft(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function It(e,t,n){function r(t){var n=e(t),r=s(n,1);return r-t>t-n?n:r}function i(n){return t(n=e(new fa(n-1)),1),n}function s(e,n){return t(e=new fa(+e),n),e}function o(e,r,s){var o=i(e),u=[];if(s>1)for(;r>o;)n(o)%s||u.push(new Date(+o)),t(o,1);else for(;r>o;)u.push(new Date(+o)),t(o,1);return u}function u(e,t,n){try{fa=Ft;var r=new Ft;return r._=e,o(r,t,n)}finally{fa=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=s,e.range=o;var a=e.utc=qt(e);return a.floor=a,a.round=qt(r),a.ceil=qt(i),a.offset=qt(s),a.range=u,e}function qt(e){return function(t,n){try{fa=Ft;var r=new Ft;return r._=t,e(r,n)._}finally{fa=Date}}}function Rt(e){function t(e){function t(t){for(var n,i,s,o=[],u=-1,a=0;++u<r;)37===e.charCodeAt(u)&&(o.push(e.slice(a,u)),null!=(i=ca[n=e.charAt(++u)])&&(n=e.charAt(++u)),(s=L[n])&&(n=s(t,null==i?"e"===n?" ":"0":i)),o.push(n),a=u+1);return o.push(e.slice(a,u)),o.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,e,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var s=null!=r.Z&&fa!==Ft,o=new(s?Ft:fa);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),s?o._:o},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,s,o,u=0,a=t.length,f=n.length;a>u;){if(r>=f)return-1;if(i=t.charCodeAt(u++),37===i){if(o=t.charAt(u++),s=A[o in ca?t.charAt(u++):o],!s||(r=s(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){S.lastIndex=0;var r=S.exec(t.slice(n));return r?(e.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){w.lastIndex=0;var r=w.exec(t.slice(n));return r?(e.w=E.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,n){C.lastIndex=0;var r=C.exec(t.slice(n));return r?(e.m=k.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){T.lastIndex=0;var r=T.exec(t.slice(n));return r?(e.m=N.get(r[0].toLowerCase()),n+r[0].length):-1}function u(e,t,r){return n(e,L.c.toString(),t,r)}function a(e,t,r){return n(e,L.x.toString(),t,r)}function f(e,t,r){return n(e,L.X.toString(),t,r)}function l(e,t,n){var r=b.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var c=e.dateTime,h=e.date,p=e.time,d=e.periods,v=e.days,m=e.shortDays,g=e.months,y=e.shortMonths;t.utc=function(e){function n(e){try{fa=Ft;var t=new fa;return t._=e,r(t)}finally{fa=Date}}var r=t(e);return n.parse=function(e){try{fa=Ft;var t=r.parse(e);return t&&t._}finally{fa=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=an;var b=nu.map(),w=zt(v),E=Wt(v),S=zt(m),x=Wt(m),T=zt(g),N=Wt(g),C=zt(y),k=Wt(y);d.forEach(function(e,t){b.set(e.toLowerCase(),t)});var L={a:function(e){return m[e.getDay()]},A:function(e){return v[e.getDay()]},b:function(e){return y[e.getMonth()]},B:function(e){return g[e.getMonth()]},c:t(c),d:function(e,t){return Ut(e.getDate(),t,2)},e:function(e,t){return Ut(e.getDate(),t,2)},H:function(e,t){return Ut(e.getHours(),t,2)},I:function(e,t){return Ut(e.getHours()%12||12,t,2)},j:function(e,t){return Ut(1+aa.dayOfYear(e),t,3)},L:function(e,t){return Ut(e.getMilliseconds(),t,3)},m:function(e,t){return Ut(e.getMonth()+1,t,2)},M:function(e,t){return Ut(e.getMinutes(),t,2)},p:function(e){return d[+(e.getHours()>=12)]},S:function(e,t){return Ut(e.getSeconds(),t,2)},U:function(e,t){return Ut(aa.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ut(aa.mondayOfYear(e),t,2)},x:t(h),X:t(p),y:function(e,t){return Ut(e.getFullYear()%100,t,2)},Y:function(e,t){return Ut(e.getFullYear()%1e4,t,4)},Z:on,"%":function(){return"%"}},A={a:r,A:i,b:s,B:o,c:u,d:Zt,e:Zt,H:tn,I:tn,j:en,L:sn,m:Yt,M:nn,p:l,S:rn,U:Vt,w:Xt,W:$t,x:a,X:f,y:Kt,Y:Jt,Z:Qt,"%":un};return t}function Ut(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",s=i.length;return r+(n>s?(new Array(n-s+1)).join(t)+i:i)}function zt(e){return new RegExp("^(?:"+e.map(nu.requote).join("|")+")","i")}function Wt(e){for(var t=new f,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Xt(e,t,n){ha.lastIndex=0;var r=ha.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Vt(e,t,n){ha.lastIndex=0;var r=ha.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function $t(e,t,n){ha.lastIndex=0;var r=ha.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Jt(e,t,n){ha.lastIndex=0;var r=ha.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Kt(e,t,n){ha.lastIndex=0;var r=ha.exec(t.slice(n,n+2));return r?(e.y=Gt(+r[0]),n+r[0].length):-1}function Qt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Gt(e){return e+(e>68?1900:2e3)}function Yt(e,t,n){ha.lastIndex=0;var r=ha.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Zt(e,t,n){ha.lastIndex=0;var r=ha.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function en(e,t,n){ha.lastIndex=0;var r=ha.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function tn(e,t,n){ha.lastIndex=0;var r=ha.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function nn(e,t,n){ha.lastIndex=0;var r=ha.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function rn(e,t,n){ha.lastIndex=0;var r=ha.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function sn(e,t,n){ha.lastIndex=0;var r=ha.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function on(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=du(t)/60|0,i=du(t)%60;return n+Ut(r,"0",2)+Ut(i,"0",2)}function un(e,t,n){pa.lastIndex=0;var r=pa.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function an(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function fn(){}function ln(e,t,n){var r=n.s=e+t,i=r-e,s=r-i;n.t=e-s+(t-i)}function cn(e,t){e&&ga.hasOwnProperty(e.type)&&ga[e.type](e,t)}function hn(e,t,n){var r,i=-1,s=e.length-n;for(t.lineStart();++i<s;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function pn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)hn(e[n],t,1);t.polygonEnd()}function dn(){function e(e,t){e*=Bu,t=t*Bu/2+_u/4;var n=e-r,o=n>=0?1:-1,u=o*n,a=Math.cos(t),f=Math.sin(t),l=s*f,c=i*a+l*Math.cos(u),h=l*o*Math.sin(u);ba.add(Math.atan2(h,c)),r=e,i=a,s=f}var t,n,r,i,s;wa.point=function(o,u){wa.point=e,r=(t=o)*Bu,i=Math.cos(u=(n=u)*Bu/2+_u/4),s=Math.sin(u)},wa.lineEnd=function(){e(t,n)}}function vn(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function mn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function gn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function yn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function bn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function wn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function En(e){return[Math.atan2(e[1],e[0]),tt(e[2])]}function Sn(e,t){return du(e[0]-t[0])<Ou&&du(e[1]-t[1])<Ou}function xn(e,t){e*=Bu;var n=Math.cos(t*=Bu);Tn(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Tn(e,t,n){++Ea,xa+=(e-xa)/Ea,Ta+=(t-Ta)/Ea,Na+=(n-Na)/Ea}function Nn(){function e(e,i){e*=Bu;var s=Math.cos(i*=Bu),o=s*Math.cos(e),u=s*Math.sin(e),a=Math.sin(i),f=Math.atan2(Math.sqrt((f=n*a-r*u)*f+(f=r*o-t*a)*f+(f=t*u-n*o)*f),t*o+n*u+r*a);Sa+=f,Ca+=f*(t+(t=o)),ka+=f*(n+(n=u)),La+=f*(r+(r=a)),Tn(t,n,r)}var t,n,r;_a.point=function(i,s){i*=Bu;var o=Math.cos(s*=Bu);t=o*Math.cos(i),n=o*Math.sin(i),r=Math.sin(s),_a.point=e,Tn(t,n,r)}}function Cn(){_a.point=xn}function kn(){function e(e,t){e*=Bu;var n=Math.cos(t*=Bu),o=n*Math.cos(e),u=n*Math.sin(e),a=Math.sin(t),f=i*a-s*u,l=s*o-r*a,c=r*u-i*o,h=Math.sqrt(f*f+l*l+c*c),p=r*o+i*u+s*a,d=h&&-et(p)/h,v=Math.atan2(h,p);Aa+=d*f,Oa+=d*l,Ma+=d*c,Sa+=v,Ca+=v*(r+(r=o)),ka+=v*(i+(i=u)),La+=v*(s+(s=a)),Tn(r,i,s)}var t,n,r,i,s;_a.point=function(o,u){t=o,n=u,_a.point=e,o*=Bu;var a=Math.cos(u*=Bu);r=a*Math.cos(o),i=a*Math.sin(o),s=Math.sin(u),Tn(r,i,s)},_a.lineEnd=function(){e(t,n),_a.lineEnd=Cn,_a.point=xn}}function Ln(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function An(){return!0}function On(e,t,n,r,i){var s=[],o=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Sn(n,r)){i.lineStart();for(var u=0;t>u;++u)i.point((n=e[u])[0],n[1]);return void i.lineEnd()}var a=new _n(n,e,null,!0),f=new _n(n,null,a,!1);a.o=f,s.push(a),o.push(f),a=new _n(r,e,null,!1),f=new _n(r,null,a,!0),a.o=f,s.push(a),o.push(f)}}),o.sort(t),Mn(s),Mn(o),s.length){for(var u=0,a=n,f=o.length;f>u;++u)o[u].e=a=!a;for(var l,c,h=s[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;l=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(var u=0,f=l.length;f>u;++u)i.point((c=l[u])[0],c[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d){l=p.p.z;for(var u=l.length-1;u>=0;--u)i.point((c=l[u])[0],c[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,l=p.z,d=!d}while(!p.v);i.lineEnd()}}}function Mn(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function _n(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Dn(e,t,n,r){return function(i,s){function o(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&s.point(t,n)}function u(e,t){var n=i(e,t);m.point(n[0],n[1])}function a(){y.point=u,m.lineStart()}function f(){y.point=o,m.lineEnd()}function l(e,t){v.push([e,t]);var n=i(e,t);w.point(n[0],n[1])}function c(){w.lineStart(),v=[]}function h(){l(v[0][0],v[0][1]),w.lineEnd();var e,t=w.clean(),n=b.buffer(),r=n.length;if(v.pop(),d.push(v),v=null,r)if(1&t){e=n[0];var i,r=e.length-1,o=-1;if(r>0){for(E||(s.polygonStart(),E=!0),s.lineStart();++o<r;)s.point((i=e[o])[0],i[1]);s.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),p.push(n.filter(Pn))}var p,d,v,m=t(s),g=i.invert(r[0],r[1]),y={point:o,lineStart:a,lineEnd:f,polygonStart:function(){y.point=l,y.lineStart=c,y.lineEnd=h,p=[],d=[]},polygonEnd:function(){y.point=o,y.lineStart=a,y.lineEnd=f,p=nu.merge(p);var e=qn(g,d);p.length?(E||(s.polygonStart(),E=!0),On(p,Bn,e,n,s)):e&&(E||(s.polygonStart(),E=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),E&&(s.polygonEnd(),E=!1),p=d=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}},b=Hn(),w=t(b),E=!1;return y}}function Pn(e){return e.length>1}function Hn(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:E,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Bn(e,t){return((e=e.x)[0]<0?e[1]-Hu-Ou:Hu-e[1])-((t=t.x)[0]<0?t[1]-Hu-Ou:Hu-t[1])}function jn(e){var t,n=0/0,r=0/0,i=0/0;return{lineStart:function(){e.lineStart(),t=1},point:function(s,o){var u=s>0?_u:-_u,a=du(s-n);du(a-_u)<Ou?(e.point(n,r=(r+o)/2>0?Hu:-Hu),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),e.point(s,r),t=0):i!==u&&a>=_u&&(du(n-i)<Ou&&(n-=i*Ou),du(s-u)<Ou&&(s-=u*Ou),r=Fn(n,r,s,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),t=0),e.point(n=s,r=o),i=u},lineEnd:function(){e.lineEnd(),n=r=0/0},clean:function(){return 2-t}}}function Fn(e,t,n,r){var i,s,o=Math.sin(e-n);return du(o)>Ou?Math.atan((Math.sin(t)*(s=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*s*o)):(t+r)/2}function In(e,t,n,r){var i;if(null==e)i=n*Hu,r.point(-_u,i),r.point(0,i),r.point(_u,i),r.point(_u,0),r.point(_u,-i),r.point(0,-i),r.point(-_u,-i),r.point(-_u,0),r.point(-_u,i);else if(du(e[0]-t[0])>Ou){var s=e[0]<t[0]?_u:-_u;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(t[0],t[1])}function qn(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],s=0,o=0;ba.reset();for(var u=0,a=t.length;a>u;++u){var f=t[u],l=f.length;if(l)for(var c=f[0],h=c[0],p=c[1]/2+_u/4,d=Math.sin(p),v=Math.cos(p),m=1;;){m===l&&(m=0),e=f[m];var g=e[0],y=e[1]/2+_u/4,b=Math.sin(y),w=Math.cos(y),E=g-h,S=E>=0?1:-1,x=S*E,T=x>_u,N=d*b;if(ba.add(Math.atan2(N*S*Math.sin(x),v*w+N*Math.cos(x))),s+=T?E+S*Du:E,T^h>=n^g>=n){var C=gn(vn(c),vn(e));wn(C);var k=gn(i,C);wn(k);var L=(T^E>=0?-1:1)*tt(k[2]);(r>L||r===L&&(C[0]||C[1]))&&(o+=T^E>=0?1:-1)}if(!(m++))break;h=g,d=b,v=w,c=e}}return(-Ou>s||Ou>s&&0>ba)^1&o}function Rn(e){function t(e,t){return Math.cos(e)*Math.cos(t)>s}function n(e){var n,s,a,f,l;return{lineStart:function(){f=a=!1,l=1},point:function(c,h){var p,d=[c,h],v=t(c,h),m=o?v?0:i(c,h):v?i(c+(0>c?_u:-_u),h):0;if(!n&&(f=a=v)&&e.lineStart(),v!==a&&(p=r(n,d),(Sn(n,p)||Sn(d,p))&&(d[0]+=Ou,d[1]+=Ou,v=t(d[0],d[1]))),v!==a)l=0,v?(e.lineStart(),p=r(d,n),e.point(p[0],p[1])):(p=r(n,d),e.point(p[0],p[1]),e.lineEnd()),n=p;else if(u&&n&&o^v){var g;m&s||!(g=r(d,n,!0))||(l=0,o?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}!v||n&&Sn(n,d)||e.point(d[0],d[1]),n=d,a=v,s=m},lineEnd:function(){a&&e.lineEnd(),n=null},clean:function(){return l|(f&&a)<<1}}}function r(e,t,n){var r=vn(e),i=vn(t),o=[1,0,0],u=gn(r,i),a=mn(u,u),f=u[0],l=a-f*f;if(!l)return!n&&e;var c=s*a/l,h=-s*f/l,p=gn(o,u),d=bn(o,c),v=bn(u,h);yn(d,v);var m=p,g=mn(d,m),y=mn(m,m),b=g*g-y*(mn(d,d)-1);if(!(0>b)){var w=Math.sqrt(b),E=bn(m,(-g-w)/y);if(yn(E,d),E=En(E),!n)return E;var S,x=e[0],T=t[0],N=e[1],C=t[1];x>T&&(S=x,x=T,T=S);var k=T-x,L=du(k-_u)<Ou,A=L||Ou>k;if(!L&&N>C&&(S=N,N=C,C=S),A?L?N+C>0^E[1]<(du(E[0]-x)<Ou?N:C):N<=E[1]&&E[1]<=C:k>_u^(x<=E[0]&&E[0]<=T)){var O=bn(m,(-g+w)/y);return yn(O,d),[E,En(O)]}}}function i(t,n){var r=o?e:_u-e,i=0;return-r>t?i|=1:t>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var s=Math.cos(e),o=s>0,u=du(s)>Ou,a=dr(e,6*Bu);return Dn(t,n,a,o?[0,-e]:[-_u,e-_u])}function Un(e,t,n,r){return function(i){var s,o=i.a,u=i.b,a=o.x,f=o.y,l=u.x,c=u.y,h=0,p=1,d=l-a,v=c-f;if(s=e-a,d||!(s>0)){if(s/=d,0>d){if(h>s)return;p>s&&(p=s)}else if(d>0){if(s>p)return;s>h&&(h=s)}if(s=n-a,d||!(0>s)){if(s/=d,0>d){if(s>p)return;s>h&&(h=s)}else if(d>0){if(h>s)return;p>s&&(p=s)}if(s=t-f,v||!(s>0)){if(s/=v,0>v){if(h>s)return;p>s&&(p=s)}else if(v>0){if(s>p)return;s>h&&(h=s)}if(s=r-f,v||!(0>s)){if(s/=v,0>v){if(s>p)return;s>h&&(h=s)}else if(v>0){if(h>s)return;p>s&&(p=s)}return h>0&&(i.a={x:a+h*d,y:f+h*v}),1>p&&(i.b={x:a+p*d,y:f+p*v}),i}}}}}}function zn(e,t,n,r){function i(r,i){return du(r[0]-e)<Ou?i>0?0:3:du(r[0]-n)<Ou?i>0?2:1:du(r[1]-t)<Ou?i>0?1:0:i>0?3:2}function s(e,t){return o(e.x,t.x)}function o(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(u){function a(e){for(var t=0,n=m.length,r=e[1],i=0;n>i;++i)for(var s,o=1,u=m[i],a=u.length,f=u[0];a>o;++o)s=u[o],f[1]<=r?s[1]>r&&Z(f,s,e)>0&&++t:s[1]<=r&&Z(f,s,e)<0&&--t,f=s;return 0!==t}function f(s,u,a,f){var l=0,c=0;if(null==s||(l=i(s,a))!==(c=i(u,a))||o(s,u)<0^a>0){do f.point(0===l||3===l?e:n,l>1?r:t);while((l=(l+a+4)%4)!==c)}else f.point(u[0],u[1])}function l(i,s){return i>=e&&n>=i&&s>=t&&r>=s}function c(e,t){l(e,t)&&u.point(e,t)}function h(){A.point=d,m&&m.push(g=[]),T=!0,x=!1,E=S=0/0}function p(){v&&(d(y,b),w&&x&&k.rejoin(),v.push(k.buffer())),A.point=c,x&&u.lineEnd()}function d(e,t){e=Math.max(-Pa,Math.min(Pa,e)),t=Math.max(-Pa,Math.min(Pa,t));var n=l(e,t);if(m&&g.push([e,t]),T)y=e,b=t,w=n,T=!1,n&&(u.lineStart(),u.point(e,t));else if(n&&x)u.point(e,t);else{var r={a:{x:E,y:S},b:{x:e,y:t}};L(r)?(x||(u.lineStart(),u.point(r.a.x,r.a.y)),u.point(r.b.x,r.b.y),n||u.lineEnd(),N=!1):n&&(u.lineStart(),u.point(e,t),N=!1)}E=e,S=t,x=n}var v,m,g,y,b,w,E,S,x,T,N,C=u,k=Hn(),L=Un(e,t,n,r),A={point:c,lineStart:h,lineEnd:p,polygonStart:function(){u=k,v=[],m=[],N=!0},polygonEnd:function(){u=C,v=nu.merge(v);var t=a([e,r]),n=N&&t,i=v.length;(n||i)&&(u.polygonStart(),n&&(u.lineStart(),f(null,null,1,u),u.lineEnd()),i&&On(v,s,t,f,u),u.polygonEnd()),v=m=g=null}};return A}}function Wn(e){var t=0,n=_u/3,r=or(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*_u/180,n=e[1]*_u/180):[t/_u*180,n/_u*180]},i}function Xn(e,t){function n(e,t){var n=Math.sqrt(s-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),o-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,s=1+r*(2*i-r),o=Math.sqrt(s)/i;return n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,tt((s-(e*e+n*n)*i*i)/(2*i))]},n}function Vn(){function e(e,t){Ba+=i*e-r*t,r=e,i=t}var t,n,r,i;Ra.point=function(s,o){Ra.point=e,t=r=s,n=i=o},Ra.lineEnd=function(){e(t,n)}}function $n(e,t){ja>e&&(ja=e),e>Ia&&(Ia=e),Fa>t&&(Fa=t),t>qa&&(qa=t)}function Jn(){function e(e,t){o.push("M",e,",",t,s)}function t(e,t){o.push("M",e,",",t),u.point=n}function n(e,t){o.push("L",e,",",t)}function r(){u.point=e}function i(){o.push("Z")}var s=Kn(4.5),o=[],u={point:e,lineStart:function(){u.point=t},lineEnd:r,polygonStart:function(){u.lineEnd=i},polygonEnd:function(){u.lineEnd=r,u.point=e},pointRadius:function(e){return s=Kn(e),u},result:function(){if(o.length){var e=o.join("");return o=[],e}}};return u}function Kn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+ -2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Qn(e,t){xa+=e,Ta+=t,++Na}function Gn(){function e(e,r){var i=e-t,s=r-n,o=Math.sqrt(i*i+s*s);Ca+=o*(t+e)/2,ka+=o*(n+r)/2,La+=o,Qn(t=e,n=r)}var t,n;za.point=function(r,i){za.point=e,Qn(t=r,n=i)}}function Yn(){za.point=Qn}function Zn(){function e(e,t){var n=e-r,s=t-i,o=Math.sqrt(n*n+s*s);Ca+=o*(r+e)/2,ka+=o*(i+t)/2,La+=o,o=i*e-r*t,Aa+=o*(r+e),Oa+=o*(i+t),Ma+=3*o,Qn(r=e,i=t)}var t,n,r,i;za.point=function(s,o){za.point=e,Qn(t=r=s,n=i=o)},za.lineEnd=function(){e(t,n)}}function er(e){function t(t,n){e.moveTo(t+o,n),e.arc(t,n,o,0,Du)}function n(t,n){e.moveTo(t,n),u.point=r}function r(t,n){e.lineTo(t,n)}function i(){u.point=t}function s(){e.closePath()}var o=4.5,u={point:t,lineStart:function(){u.point=n},lineEnd:i,polygonStart:function(){u.lineEnd=s},polygonEnd:function(){u.lineEnd=i,u.point=t},pointRadius:function(e){return o=e,u},result:E};return u}function tr(e){function t(e){return(u?r:n)(e)}function n(t){return ir(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){b=0/0,T.point=s,t.lineStart()}function s(n,r){var s=vn([n,r]),o=e(n,r);i(b,w,y,E,S,x,b=o[0],w=o[1],y=n,E=s[0],S=s[1],x=s[2],u,t),t.point(b,w)}function o(){T.point=n,t.lineEnd()}function a(){r(),T.point=f,T.lineEnd=l}function f(e,t){s(c=e,h=t),p=b,d=w,v=E,m=S,g=x,T.point=s}function l(){i(b,w,y,E,S,x,p,d,c,v,m,g,u,t),T.lineEnd=o,o()}var c,h,p,d,v,m,g,y,b,w,E,S,x,T={point:n,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),T.lineStart=a},polygonEnd:function(){t.polygonEnd(),T.lineStart=r}};return T}function i(t,n,r,u,a,f,l,c,h,p,d,v,m,g){var y=l-t,b=c-n,w=y*y+b*b;if(w>4*s&&m--){var E=u+p,S=a+d,x=f+v,T=Math.sqrt(E*E+S*S+x*x),N=Math.asin(x/=T),C=du(du(x)-1)<Ou||du(r-h)<Ou?(r+h)/2:Math.atan2(S,E),k=e(C,N),L=k[0],A=k[1],O=L-t,M=A-n,_=b*O-y*M;(_*_/w>s||du((y*O+b*M)/w-.5)>.3||o>u*p+a*d+f*v)&&(i(t,n,r,u,a,f,L,A,C,E/=T,S/=T,x,m,g),g.point(L,A),i(L,A,C,E,S,x,l,c,h,p,d,v,m,g))}}var s=.5,o=Math.cos(30*Bu),u=16;return t.precision=function(e){return arguments.length?(u=(s=e*e)>0&&16,t):Math.sqrt(s)},t}function nr(e){var t=tr(function(t,n){return e([t*ju,n*ju])});return function(e){return ur(t(e))}}function rr(e){this.stream=e}function ir(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function sr(e){return or(function(){return e})()}function or(e){function t(e){return e=u(e[0]*Bu,e[1]*Bu),[e[0]*h+a,f-e[1]*h]}function n(e){return e=u.invert((e[0]-a)/h,(f-e[1])/h),e&&[e[0]*ju,e[1]*ju]}function r(){u=Ln(o=lr(g,b,w),s);var e=s(v,m);return a=p-e[0]*h,f=d+e[1]*h,i()}function i(){return l&&(l.valid=!1,l=null),t}var s,o,u,a,f,l,c=tr(function(e,t){return e=s(e,t),[e[0]*h+a,f-e[1]*h]}),h=150,p=480,d=250,v=0,m=0,g=0,b=0,w=0,E=Da,S=y,x=null,T=null;return t.stream=function(e){return l&&(l.valid=!1),l=ur(E(o,c(S(e)))),l.valid=!0,l},t.clipAngle=function(e){return arguments.length?(E=null==e?(x=e,Da):Rn((x=+e)*Bu),i()):x},t.clipExtent=function(e){return arguments.length?(T=e,S=e?zn(e[0][0],e[0][1],e[1][0],e[1][1]):y,i()):T},t.scale=function(e){return arguments.length?(h=+e,r()):h},t.translate=function(e){return arguments.length?(p=+e[0],d=+e[1],r()):[p,d]},t.center=function(e){return arguments.length?(v=e[0]%360*Bu,m=e[1]%360*Bu,r()):[v*ju,m*ju]},t.rotate=function(e){return arguments.length?(g=e[0]%360*Bu,b=e[1]%360*Bu,w=e.length>2?e[2]%360*Bu:0,r()):[g*ju,b*ju,w*ju]},nu.rebind(t,c,"precision"),function(){return s=e.apply(this,arguments),t.invert=s.invert&&n,r()}}function ur(e){return ir(e,function(t,n){e.point(t*Bu,n*Bu)})}function ar(e,t){return[e,t]}function fr(e,t){return[e>_u?e-Du:-_u>e?e+Du:e,t]}function lr(e,t,n){return e?t||n?Ln(hr(e),pr(t,n)):hr(e):t||n?pr(t,n):fr}function cr(e){return function(t,n){return t+=e,[t>_u?t-Du:-_u>t?t+Du:t,n]}}function hr(e){var t=cr(e);return t.invert=cr(-e),t}function pr(e,t){function n(e,t){var n=Math.cos(t),u=Math.cos(e)*n,a=Math.sin(e)*n,f=Math.sin(t),l=f*r+u*i;return[Math.atan2(a*s-l*o,u*r-f*i),tt(l*s+a*o)]}var r=Math.cos(e),i=Math.sin(e),s=Math.cos(t),o=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),u=Math.cos(e)*n,a=Math.sin(e)*n,f=Math.sin(t),l=f*s-a*o;return[Math.atan2(a*s+f*o,u*r+l*i),tt(l*r-u*i)]},n}function dr(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,s,o,u){var a=o*t;null!=i?(i=vr(n,i),s=vr(n,s),(o>0?s>i:i>s)&&(i+=o*Du)):(i=e+o*Du,s=e-.5*a);for(var f,l=i;o>0?l>s:s>l;l-=a)u.point((f=En([n,-r*Math.cos(l),-r*Math.sin(l)]))[0],f[1])}}function vr(e,t){var n=vn(t);n[0]-=e,wn(n);var r=et(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ou)%(2*Math.PI)}function mr(e,t,n){var r=nu.range(e,t-Ou,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function gr(e,t,n){var r=nu.range(e,t-Ou,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function yr(e){return e.source}function br(e){return e.target}function wr(e,t,n,r){var i=Math.cos(t),s=Math.sin(t),o=Math.cos(r),u=Math.sin(r),a=i*Math.cos(e),f=i*Math.sin(e),l=o*Math.cos(n),c=o*Math.sin(n),h=2*Math.asin(Math.sqrt(st(r-t)+i*o*st(n-e))),p=1/Math.sin(h),d=h?function(e){var t=Math.sin(e*=h)*p,n=Math.sin(h-e)*p,r=n*a+t*l,i=n*f+t*c,o=n*s+t*u;return[Math.atan2(i,r)*ju,Math.atan2(o,Math.sqrt(r*r+i*i))*ju]}:function(){return[e*ju,t*ju]};return d.distance=h,d}function Er(){function e(e,i){var s=Math.sin(i*=Bu),o=Math.cos(i),u=du((e*=Bu)-t),a=Math.cos(u);Wa+=Math.atan2(Math.sqrt((u=o*Math.sin(u))*u+(u=r*s-n*o*a)*u),n*s+r*o*a),t=e,n=s,r=o}var t,n,r;Xa.point=function(i,s){t=i*Bu,n=Math.sin(s*=Bu),r=Math.cos(s),Xa.point=e},Xa.lineEnd=function(){Xa.point=Xa.lineEnd=E}}function Sr(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),s=e(r*i);return[s*i*Math.sin(t),s*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),s=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*s,r*o),Math.asin(r&&n*s/r)]},n}function xr(e,t){function n(e,t){o>0?-Hu+Ou>t&&(t=-Hu+Ou):t>Hu-Ou&&(t=Hu-Ou);var n=o/Math.pow(i(t),s);return[n*Math.sin(s*e),o-n*Math.cos(s*e)]}var r=Math.cos(e),i=function(e){return Math.tan(_u/4+e/2)},s=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),o=r*Math.pow(i(e),s)/s;return s?(n.invert=function(e,t){var n=o-t,r=Y(s)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/s,2*Math.atan(Math.pow(o/r,1/s))-Hu]},n):Nr}function Tr(e,t){function n(e,t){var n=s-t;return[n*Math.sin(i*e),s-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),s=r/i+e;return du(i)<Ou?ar:(n.invert=function(e,t){var n=s-t;return[Math.atan2(e,n)/i,s-Y(i)*Math.sqrt(e*e+n*n)]},n)}function Nr(e,t){return[e,Math.log(Math.tan(_u/4+t/2))]}function Cr(e){var t,n=sr(e),r=n.scale,i=n.translate,s=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var o=s.apply(n,arguments);if(o===n){if(t=null==e){var u=_u*r(),a=i();s([[a[0]-u,a[1]-u],[a[0]+u,a[1]+u]])}}else t&&(o=null);return o},n.clipExtent(null)}function kr(e,t){return[Math.log(Math.tan(_u/4+t/2)),-e]}function Lr(e){return e[0]}function Ar(e){return e[1]}function Or(e){for(var t=e.length,n=[0,1],r=2,i=2;t>i;i++){for(;r>1&&Z(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Mr(e,t){return e[0]-t[0]||e[1]-t[1]}function _r(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Dr(e,t,n,r){var i=e[0],s=n[0],o=t[0]-i,u=r[0]-s,a=e[1],f=n[1],l=t[1]-a,c=r[1]-f,h=(u*(a-f)-c*(i-s))/(c*o-u*l);return[i+h*o,a+h*l]}function Pr(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Hr(){ni(this),this.edge=this.site=this.circle=null}function Br(e){var t=rf.pop()||new Hr;return t.site=e,t}function jr(e){$r(e),ef.remove(e),rf.push(e),ni(e)}function Fr(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},s=e.P,o=e.N,u=[e];jr(e);for(var a=s;a.circle&&du(n-a.circle.x)<Ou&&du(r-a.circle.cy)<Ou;)s=a.P,u.unshift(a),jr(a),a=s;u.unshift(a),$r(a);for(var f=o;f.circle&&du(n-f.circle.x)<Ou&&du(r-f.circle.cy)<Ou;)o=f.N,u.push(f),jr(f),f=o;u.push(f),$r(f);var l,c=u.length;for(l=1;c>l;++l)f=u[l],a=u[l-1],Zr(f.edge,a.site,f.site,i);a=u[0],f=u[c-1],f.edge=Gr(a.site,f.site,null,i),Vr(a),Vr(f)}function Ir(e){for(var t,n,r,i,s=e.x,o=e.y,u=ef._;u;)if(r=qr(u,o)-s,r>Ou)u=u.L;else{if(i=s-Rr(u,o),!(i>Ou)){r>-Ou?(t=u.P,n=u):i>-Ou?(t=u,n=u.N):t=n=u;break}if(!u.R){t=u;break}u=u.R}var a=Br(e);if(ef.insert(t,a),t||n){if(t===n)return $r(t),n=Br(t.site),ef.insert(a,n),a.edge=n.edge=Gr(t.site,a.site),Vr(t),void Vr(n);if(!n)return void (a.edge=Gr(t.site,a.site));$r(t),$r(n);var f=t.site,l=f.x,c=f.y,h=e.x-l,p=e.y-c,d=n.site,v=d.x-l,m=d.y-c,g=2*(h*m-p*v),y=h*h+p*p,b=v*v+m*m,w={x:(m*y-p*b)/g+l,y:(h*b-v*y)/g+c};Zr(n.edge,f,d,w),a.edge=Gr(f,e,null,w),n.edge=Gr(e,d,null,w),Vr(t),Vr(n)}}function qr(e,t){var n=e.site,r=n.x,i=n.y,s=i-t;if(!s)return r;var o=e.P;if(!o)return-1/0;n=o.site;var u=n.x,a=n.y,f=a-t;if(!f)return u;var l=u-r,c=1/s-1/f,h=l/f;return c?(-h+Math.sqrt(h*h-2*c*(l*l/(-2*f)-a+f/2+i-s/2)))/c+r:(r+u)/2}function Rr(e,t){var n=e.N;if(n)return qr(n,t);var r=e.site;return r.y===t?r.x:1/0}function Ur(e){this.site=e,this.edges=[]}function zr(e){for(var t,n,r,i,s,o,u,a,f,l,c=e[0][0],h=e[1][0],p=e[0][1],d=e[1][1],v=Za,m=v.length;m--;)if(s=v[m],s&&s.prepare())for(u=s.edges,a=u.length,o=0;a>o;)l=u[o].end(),r=l.x,i=l.y,f=u[++o%a].start(),t=f.x,n=f.y,(du(r-t)>Ou||du(i-n)>Ou)&&(u.splice(o,0,new ei(Yr(s.site,l,du(r-c)<Ou&&d-i>Ou?{x:c,y:du(t-c)<Ou?n:d}:du(i-d)<Ou&&h-r>Ou?{x:du(n-d)<Ou?t:h,y:d}:du(r-h)<Ou&&i-p>Ou?{x:h,y:du(t-h)<Ou?n:p}:du(i-p)<Ou&&r-c>Ou?{x:du(n-p)<Ou?t:c,y:p}:null),s.site,null)),++a)}function Wr(e,t){return t.angle-e.angle}function Xr(){ni(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vr(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,s=n.site;if(r!==s){var o=i.x,u=i.y,a=r.x-o,f=r.y-u,l=s.x-o,c=s.y-u,h=2*(a*c-f*l);if(!(h>=-Mu)){var p=a*a+f*f,d=l*l+c*c,v=(c*p-f*d)/h,m=(a*d-l*p)/h,c=m+u,g=sf.pop()||new Xr;g.arc=e,g.site=i,g.x=v+o,g.y=c+Math.sqrt(v*v+m*m),g.cy=c,e.circle=g;for(var y=null,b=nf._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}nf.insert(y,g),y||(tf=g)}}}}function $r(e){var t=e.circle;t&&(t.P||(tf=t.N),nf.remove(t),sf.push(t),ni(t),e.circle=null)}function Jr(e){for(var t,n=Ya,r=Un(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!Kr(t,e)||!r(t)||du(t.a.x-t.b.x)<Ou&&du(t.a.y-t.b.y)<Ou)&&(t.a=t.b=null,n.splice(i,1))}function Kr(e,t){var n=e.b;if(n)return!0;var r,i,s=e.a,o=t[0][0],u=t[1][0],a=t[0][1],f=t[1][1],l=e.l,c=e.r,h=l.x,p=l.y,d=c.x,v=c.y,m=(h+d)/2,g=(p+v)/2;if(v===p){if(o>m||m>=u)return;if(h>d){if(s){if(s.y>=f)return}else s={x:m,y:a};n={x:m,y:f}}else{if(s){if(s.y<a)return}else s={x:m,y:f};n={x:m,y:a}}}else if(r=(h-d)/(v-p),i=g-r*m,-1>r||r>1)if(h>d){if(s){if(s.y>=f)return}else s={x:(a-i)/r,y:a};n={x:(f-i)/r,y:f}}else{if(s){if(s.y<a)return}else s={x:(f-i)/r,y:f};n={x:(a-i)/r,y:a}}else if(v>p){if(s){if(s.x>=u)return}else s={x:o,y:r*o+i};n={x:u,y:r*u+i}}else{if(s){if(s.x<o)return}else s={x:u,y:r*u+i};n={x:o,y:r*o+i}}return e.a=s,e.b=n,!0}function Qr(e,t){this.l=e,this.r=t,this.a=this.b=null}function Gr(e,t,n,r){var i=new Qr(e,t);return Ya.push(i),n&&Zr(i,e,t,n),r&&Zr(i,t,e,r),Za[e.i].edges.push(new ei(i,e,t)),Za[t.i].edges.push(new ei(i,t,e)),i}function Yr(e,t,n){var r=new Qr(e,null);return r.a=t,r.b=n,Ya.push(r),r}function Zr(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function ei(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function ti(){this._=null}function ni(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function ri(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ii(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function si(e){for(;e.L;)e=e.L;return e}function oi(e,t){var n,r,i,s=e.sort(ui).pop();for(Ya=[],Za=new Array(e.length),ef=new ti,nf=new ti;;)if(i=tf,s&&(!i||s.y<i.y||s.y===i.y&&s.x<i.x))(s.x!==n||s.y!==r)&&(Za[s.i]=new Ur(s),Ir(s),n=s.x,r=s.y),s=e.pop();else{if(!i)break;Fr(i.arc)}t&&(Jr(t),zr(t));var o={cells:Za,edges:Ya};return ef=nf=Ya=Za=null,o}function ui(e,t){return t.y-e.y||t.x-e.x}function ai(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function fi(e){return e.x}function li(e){return e.y}function ci(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hi(e,t,n,r,i,s){if(!e(t,n,r,i,s)){var o=.5*(n+i),u=.5*(r+s),a=t.nodes;a[0]&&hi(e,a[0],n,r,o,u),a[1]&&hi(e,a[1],o,r,i,u),a[2]&&hi(e,a[2],n,u,o,s),a[3]&&hi(e,a[3],o,u,i,s)}}function pi(e,t,n,r,i,s,o){var u,a=1/0;return function f(e,l,c,h,p){if(!(l>s||c>o||r>h||i>p)){if(d=e.point){var d,v=t-e.x,m=n-e.y,g=v*v+m*m;if(a>g){var y=Math.sqrt(a=g);r=t-y,i=n-y,s=t+y,o=n+y,u=d}}for(var b=e.nodes,w=.5*(l+h),E=.5*(c+p),S=t>=w,x=n>=E,T=x<<1|S,N=T+4;N>T;++T)if(e=b[3&T])switch(3&T){case 0:f(e,l,c,w,E);break;case 1:f(e,w,c,h,E);break;case 2:f(e,l,E,w,p);break;case 3:f(e,w,E,h,p)}}}(e,r,i,s,o),u}function di(e,t){e=nu.rgb(e),t=nu.rgb(t);var n=e.r,r=e.g,i=e.b,s=t.r-n,o=t.g-r,u=t.b-i;return function(e){return"#"+wt(Math.round(n+s*e))+wt(Math.round(r+o*e))+wt(Math.round(i+u*e))}}function vi(e,t){var n,r={},i={};for(n in e)n in t?r[n]=yi(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function mi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function gi(e,t){var n,r,i,s=uf.lastIndex=af.lastIndex=0,o=-1,u=[],a=[];for(e+="",t+="";(n=uf.exec(e))&&(r=af.exec(t));)(i=r.index)>s&&(i=t.slice(s,i),u[o]?u[o]+=i:u[++o]=i),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,a.push({i:o,x:mi(n,r)})),s=af.lastIndex;return s<t.length&&(i=t.slice(s),u[o]?u[o]+=i:u[++o]=i),u.length<2?a[0]?(t=a[0].x,function(e){return t(e)+""}):function(){return t}:(t=a.length,function(e){for(var n,r=0;t>r;++r)u[(n=a[r]).i]=n.x(e);return u.join("")})}function yi(e,t){for(var n,r=nu.interpolators.length;--r>=0&&!(n=nu.interpolators[r](e,t)););return n}function bi(e,t){var n,r=[],i=[],s=e.length,o=t.length,u=Math.min(e.length,t.length);for(n=0;u>n;++n)r.push(yi(e[n],t[n]));for(;s>n;++n)i[n]=e[n];for(;o>n;++n)i[n]=t[n];return function(e){for(n=0;u>n;++n)i[n]=r[n](e);return i}}function wi(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function Ei(e){return function(t){return 1-e(1-t)}}function Si(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function xi(e){return e*e}function Ti(e){return e*e*e}function Ni(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function Ci(e){return function(t){return Math.pow(t,e)}}function ki(e){return 1-Math.cos(e*Hu)}function Li(e){return Math.pow(2,10*(e-1))}function Ai(e){return 1-Math.sqrt(1-e*e)}function Oi(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Du*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Du/t)}}function Mi(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function _i(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Di(e,t){e=nu.hcl(e),t=nu.hcl(t);var n=e.h,r=e.c,i=e.l,s=t.h-n,o=t.c-r,u=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(s)?(s=0,n=isNaN(n)?t.h:n):s>180?s-=360:-180>s&&(s+=360),function(e){return lt(n+s*e,r+o*e,i+u*e)+""}}function Pi(e,t){e=nu.hsl(e),t=nu.hsl(t);var n=e.h,r=e.s,i=e.l,s=t.h-n,o=t.s-r,u=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(s)?(s=0,n=isNaN(n)?t.h:n):s>180?s-=360:-180>s&&(s+=360),function(e){return at(n+s*e,r+o*e,i+u*e)+""}}function Hi(e,t){e=nu.lab(e),t=nu.lab(t);var n=e.l,r=e.a,i=e.b,s=t.l-n,o=t.a-r,u=t.b-i;return function(e){return ht(n+s*e,r+o*e,i+u*e)+""}}function Bi(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function ji(e){var t=[e.a,e.b],n=[e.c,e.d],r=Ii(t),i=Fi(t,n),s=Ii(qi(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*ju,this.translate=[e.e,e.f],this.scale=[r,s],this.skew=s?Math.atan2(i,s)*ju:0}function Fi(e,t){return e[0]*t[0]+e[1]*t[1]}function Ii(e){var t=Math.sqrt(Fi(e,e));return t&&(e[0]/=t,e[1]/=t),t}function qi(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Ri(e,t){var n,r=[],i=[],s=nu.transform(e),o=nu.transform(t),u=s.translate,a=o.translate,f=s.rotate,l=o.rotate,c=s.skew,h=o.skew,p=s.scale,d=o.scale;return u[0]!=a[0]||u[1]!=a[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:mi(u[0],a[0])},{i:3,x:mi(u[1],a[1])})):r.push(a[0]||a[1]?"translate("+a+")":""),f!=l?(f-l>180?l+=360:l-f>180&&(f+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:mi(f,l)})):l&&r.push(r.pop()+"rotate("+l+")"),c!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:mi(c,h)}):h&&r.push(r.pop()+"skewX("+h+")"),p[0]!=d[0]||p[1]!=d[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:mi(p[0],d[0])},{i:n-2,x:mi(p[1],d[1])})):(1!=d[0]||1!=d[1])&&r.push(r.pop()+"scale("+d+")"),n=i.length,function(e){for(var t,s=-1;++s<n;)r[(t=i[s]).i]=t.x(e);return r.join("")}}function Ui(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function zi(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Wi(e){for(var t=e.source,n=e.target,r=Vi(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var s=i.length;n!==r;)i.splice(s,0,n),n=n.parent;return i}function Xi(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Vi(e,t){if(e===t)return e;for(var n=Xi(e),r=Xi(t),i=n.pop(),s=r.pop(),o=null;i===s;)o=i,i=n.pop(),s=r.pop();return o}function $i(e){e.fixed|=2}function Ji(e){e.fixed&=-7}function Ki(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Qi(e){e.fixed&=-5}function Gi(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var s,o=e.nodes,u=o.length,a=-1;++a<u;)s=o[a],null!=s&&(Gi(s,t,n),e.charge+=s.charge,r+=s.charge*s.cx,i+=s.charge*s.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var f=t*n[e.point.index];e.charge+=e.pointCharge=f,r+=f*e.point.x,i+=f*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function Yi(e,t){return nu.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=is,e}function Zi(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function es(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(s=e.children)&&(i=s.length))for(var i,s,o=-1;++o<i;)n.push(s[o]);for(;null!=(e=r.pop());)t(e)}function ts(e){return e.children}function ns(e){return e.value}function rs(e,t){return t.value-e.value}function is(e){return nu.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function ss(e){return e.x}function os(e){return e.y}function us(e,t,n){e.y0=t,e.y=n}function as(e){return nu.range(e.length)}function fs(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function ls(e){for(var t,n=1,r=0,i=e[0][1],s=e.length;s>n;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function cs(e){return e.reduce(hs,0)}function hs(e,t){return e+t[1]}function ps(e,t){return ds(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ds(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,s=[];++n<=t;)s[n]=i*n+r;return s}function vs(e){return[nu.min(e),nu.max(e)]}function ms(e,t){return e.value-t.value}function gs(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function ys(e,t){e._pack_next=t,t._pack_prev=e}function bs(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function ws(e){function t(e){l=Math.min(e.x-e.r,l),c=Math.max(e.x+e.r,c),h=Math.min(e.y-e.r,h),p=Math.max(e.y+e.r,p)}if((n=e.children)&&(f=n.length)){var n,r,i,s,o,u,a,f,l=1/0,c=-1/0,h=1/0,p=-1/0;if(n.forEach(Es),r=n[0],r.x=-r.r,r.y=0,t(r),f>1&&(i=n[1],i.x=i.r,i.y=0,t(i),f>2))for(s=n[2],Ts(r,i,s),t(s),gs(r,s),r._pack_prev=s,gs(s,i),i=r._pack_next,o=3;f>o;o++){Ts(r,i,s=n[o]);var d=0,v=1,m=1;for(u=i._pack_next;u!==i;u=u._pack_next,v++)if(bs(u,s)){d=1;break}if(1==d)for(a=r._pack_prev;a!==u._pack_prev&&!bs(a,s);a=a._pack_prev,m++);d?(m>v||v==m&&i.r<r.r?ys(r,i=u):ys(r=a,i),o--):(gs(r,s),i=s,t(s))}var g=(l+c)/2,y=(h+p)/2,b=0;for(o=0;f>o;o++)s=n[o],s.x-=g,s.y-=y,b=Math.max(b,s.r+Math.sqrt(s.x*s.x+s.y*s.y));e.r=b,n.forEach(Ss)}}function Es(e){e._pack_next=e._pack_prev=e}function Ss(e){delete e._pack_next,delete e._pack_prev}function xs(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var s=-1,o=i.length;++s<o;)xs(i[s],t,n,r)}function Ts(e,t,n){var r=e.r+n.r,i=t.x-e.x,s=t.y-e.y;if(r&&(i||s)){var o=t.r+n.r,u=i*i+s*s;o*=o,r*=r;var a=.5+(r-o)/(2*u),f=Math.sqrt(Math.max(0,2*o*(r+u)-(r-=u)*r-o*o))/(2*u);n.x=e.x+a*i+f*s,n.y=e.y+a*s-f*i}else n.x=e.x+r,n.y=e.y}function Ns(e,t){return e.parent==t.parent?1:2}function Cs(e){var t=e.children;return t.length?t[0]:e.t}function ks(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Ls(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function As(e){for(var t,n=0,r=0,i=e.children,s=i.length;--s>=0;)t=i[s],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Os(e,t,n){return e.a.parent===t.parent?e.a:n}function Ms(e){return 1+nu.max(e,function(e){return e.y})}function _s(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Ds(e){var t=e.children;return t&&t.length?Ds(t[0]):e}function Ps(e){var t,n=e.children;return n&&(t=n.length)?Ps(n[t-1]):e}function Hs(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Bs(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],s=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>s&&(r+=s/2,s=0),{x:n,y:r,dx:i,dy:s}}function js(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Fs(e){return e.rangeExtent?e.rangeExtent():js(e.range())}function Is(e,t,n,r){var i=n(e[0],e[1]),s=r(t[0],t[1]);return function(e){return s(i(e))}}function qs(e,t){var n,r=0,i=e.length-1,s=e[r],o=e[i];return s>o&&(n=r,r=i,i=n,n=s,s=o,o=n),e[r]=t.floor(s),e[i]=t.ceil(o),e}function Rs(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:bf}function Us(e,t,n,r){var i=[],s=[],o=0,u=Math.min(e.length,t.length)-1;for(e[u]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<=u;)i.push(n(e[o-1],e[o])),s.push(r(t[o-1],t[o]));return function(t){var n=nu.bisect(e,t,1,u)-1;return s[n](i[n](t))}}function zs(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?Us:Is,a=r?zi:Ui;return o=i(e,t,a,n),u=i(t,e,a,yi),s}function s(e){return o(e)}var o,u;return s.invert=function(e){return u(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},s.range=function(e){return arguments.length?(t=e,i()):t},s.rangeRound=function(e){return s.range(e).interpolate(Bi)},s.clamp=function(e){return arguments.length?(r=e,i()):r},s.interpolate=function(e){return arguments.length?(n=e,i()):n},s.ticks=function(t){return $s(e,t)},s.tickFormat=function(t,n){return Js(e,t,n)},s.nice=function(t){return Xs(e,t),i()},s.copy=function(){return zs(e,t,n,r)},i()}function Ws(e,t){return nu.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Xs(e,t){return qs(e,Rs(Vs(e,t)[2]))}function Vs(e,t){null==t&&(t=10);var n=js(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),s=t/r*i;return.15>=s?i*=10:.35>=s?i*=5:.75>=s&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function $s(e,t){return nu.range.apply(nu,Vs(e,t))}function Js(e,t,n){var r=Vs(e,t);if(n){var i=oa.exec(n);if(i.shift(),"s"===i[8]){var s=nu.formatPrefix(Math.max(du(r[0]),du(r[1])));return i[7]||(i[7]="."+Ks(s.scale(r[2]))),i[8]="f",n=nu.format(i.join("")),function(e){return n(s.scale(e))+s.symbol}}i[7]||(i[7]="."+Qs(i[8],r)),n=i.join("")}else n=",."+Ks(r[2])+"f";return nu.format(n)}function Ks(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Qs(e,t){var n=Ks(t[2]);return e in wf?Math.abs(n-Ks(Math.max(du(t[0]),du(t[1]))))+ +("e"!==e):n-2*("%"===e)}function Gs(e,t,n,r){function i(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function s(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function o(t){return e(i(t))}return o.invert=function(t){return s(e.invert(t))},o.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),o):r},o.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),o):t},o.nice=function(){var t=qs(r.map(i),n?Math:Sf);return e.domain(t),r=t.map(s),o},o.ticks=function(){var e=js(r),o=[],u=e[0],a=e[1],f=Math.floor(i(u)),l=Math.ceil(i(a)),c=t%1?2:t;if(isFinite(l-f)){if(n){for(;l>f;f++)for(var h=1;c>h;h++)o.push(s(f)*h);o.push(s(f))}else for(o.push(s(f));f++<l;)for(var h=c-1;h>0;h--)o.push(s(f)*h);for(f=0;o[f]<u;f++);for(l=o.length;o[l-1]>a;l--);o=o.slice(f,l)}return o},o.tickFormat=function(e,t){if(!arguments.length)return Ef;arguments.length<2?t=Ef:"function"!=typeof t&&(t=nu.format(t));var r,u=Math.max(.1,e/o.ticks().length),a=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(e){return e/s(a(i(e)+r))<=u?t(e):""}},o.copy=function(){return Gs(e.copy(),t,n,r)},Ws(o,e)}function Ys(e,t,n){function r(t){return e(i(t))}var i=Zs(t),s=Zs(1/t);return r.invert=function(t){return s(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return $s(n,e)},r.tickFormat=function(e,t){return Js(n,e,t)},r.nice=function(e){return r.domain(Xs(n,e))},r.exponent=function(o){return arguments.length?(i=Zs(t=o),s=Zs(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return Ys(e.copy(),t,n)},Ws(r,e)}function Zs(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function eo(e,t){function n(n){return s[((i.get(n)||("range"===t.t?i.set(n,e.push(n)):0/0))-1)%s.length]}function r(t,n){return nu.range(e.length).map(function(e){return t+n*e})}var i,s,o;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new f;for(var s,o=-1,u=r.length;++o<u;)i.has(s=r[o])||i.set(s,e.push(s));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(s=e,o=0,t={t:"range",a:arguments},n):s},n.rangePoints=function(i,u){arguments.length<2&&(u=0);var a=i[0],f=i[1],l=e.length<2?(a=(a+f)/2,0):(f-a)/(e.length-1+u);return s=r(a+l*u/2,l),o=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,u){arguments.length<2&&(u=0);var a=i[0],f=i[1],l=e.length<2?(a=f=Math.round((a+f)/2),0):(f-a)/(e.length-1+u)|0;return s=r(a+Math.round(l*u/2+(f-a-(e.length-1+u)*l)/2),l),o=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,u,a){arguments.length<2&&(u=0),arguments.length<3&&(a=u);var f=i[1]<i[0],l=i[f-0],c=i[1-f],h=(c-l)/(e.length-u+2*a);return s=r(l+h*a,h),f&&s.reverse(),o=h*(1-u),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,u,a){arguments.length<2&&(u=0),arguments.length<3&&(a=u);var f=i[1]<i[0],l=i[f-0],c=i[1-f],h=Math.floor((c-l)/(e.length-u+2*a));return s=r(l+Math.round((c-l-(e.length-u)*h)/2),h),f&&s.reverse(),o=Math.round(h*(1-u)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return js(t.a[0])},n.copy=function(){return eo(e,t)},n.domain(e)}function to(e,t){function s(){var n=0,r=t.length;for(u=[];++n<r;)u[n-1]=nu.quantile(e,n/r);return o}function o(e){return isNaN(e=+e)?void 0:t[nu.bisect(u,e)]}var u;return o.domain=function(t){return arguments.length?(e=t.map(r).filter(i).sort(n),s()):e},o.range=function(e){return arguments.length?(t=e,s()):t},o.quantiles=function(){return u},o.invertExtent=function(n){return n=t.indexOf(n),0>n?[0/0,0/0]:[n>0?u[n-1]:e[0],n<u.length?u[n]:e[e.length-1]]},o.copy=function(){return to(e,t)},s()}function no(e,t,n){function r(t){return n[Math.max(0,Math.min(o,Math.floor(s*(t-e))))]}function i(){return s=n.length/(t-e),o=n.length-1,r}var s,o;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=0>t?0/0:t/s+e,[t,t+1/s]},r.copy=function(){return no(e,t,n)},i()}function ro(e,t){function n(n){return n>=n?t[nu.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return ro(e,t)},n}function io(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return $s(e,t)},t.tickFormat=function(t,n){return Js(e,t,n)},t.copy=function(){return io(e)},t}function so(){return 0}function oo(e){return e.innerRadius}function uo(e){return e.outerRadius}function ao(e){return e.startAngle}function fo(e){return e.endAngle}function lo(e){return e&&e.padAngle}function co(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function ho(e,t,n,r,i){var s=e[0]-t[0],o=e[1]-t[1],u=(i?r:-r)/Math.sqrt(s*s+o*o),a=u*o,f=-u*s,l=e[0]+a,c=e[1]+f,h=t[0]+a,p=t[1]+f,d=(l+h)/2,v=(c+p)/2,m=h-l,g=p-c,y=m*m+g*g,b=n-r,w=l*p-h*c,E=(0>g?-1:1)*Math.sqrt(b*b*y-w*w),S=(w*g-m*E)/y,x=(-w*m-g*E)/y,T=(w*g+m*E)/y,N=(-w*m+g*E)/y,C=S-d,k=x-v,L=T-d,A=N-v;return C*C+k*k>L*L+A*A&&(S=T,x=N),[[S-a,x-f],[S*n/b,x*n/b]]}function po(e){function t(t){function o(){f.push("M",s(e(l),u))}for(var a,f=[],l=[],c=-1,h=t.length,p=Ct(n),d=Ct(r);++c<h;)i.call(this,a=t[c],c)?l.push([+p.call(this,a,c),+d.call(this,a,c)]):l.length&&(o(),l=[]);return l.length&&o(),f.length?f.join(""):null}var n=Lr,r=Ar,i=An,s=vo,o=s.key,u=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(o="function"==typeof e?s=e:(s=Lf.get(e)||vo).key,t):o},t.tension=function(e){return arguments.length?(u=e,t):u},t}function vo(e){return e.join("L")}function mo(e){return vo(e)+"Z"}function go(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function yo(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function bo(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function wo(e,t){return e.length<4?vo(e):e[1]+xo(e.slice(1,-1),To(e,t))}function Eo(e,t){return e.length<3?vo(e):e[0]+xo((e.push(e[0]),e),To([e[e.length-2]].concat(e,[e[1]]),t))}function So(e,t){return e.length<3?vo(e):e[0]+xo(e,To(e,t))}function xo(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return vo(e);var n=e.length!=t.length,r="",i=e[0],s=e[1],o=t[0],u=o,a=1;if(n&&(r+="Q"+(s[0]-2*o[0]/3)+","+(s[1]-2*o[1]/3)+","+s[0]+","+s[1],i=e[1],a=2),t.length>1){u=t[1],s=e[a],a++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1];for(var f=2;f<t.length;f++,a++)s=e[a],u=t[f],r+="S"+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1]}if(n){var l=e[a];r+="Q"+(s[0]+2*u[0]/3)+","+(s[1]+2*u[1]/3)+","+l[0]+","+l[1]}return r}function To(e,t){for(var n,r=[],i=(1-t)/2,s=e[0],o=e[1],u=1,a=e.length;++u<a;)n=s,s=o,o=e[u],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function No(e){if(e.length<3)return vo(e);var t=1,n=e.length,r=e[0],i=r[0],s=r[1],o=[i,i,i,(r=e[1])[0]],u=[s,s,s,r[1]],a=[i,",",s,"L",Ao(Mf,o),",",Ao(Mf,u)];for(e.push(e[n-1]);++t<=n;)r=e[t],o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),Oo(a,o,u);return e.pop(),a.push("L",r),a.join("")}function Co(e){if(e.length<4)return vo(e);for(var t,n=[],r=-1,i=e.length,s=[0],o=[0];++r<3;)t=e[r],s.push(t[0]),o.push(t[1]);for(n.push(Ao(Mf,s)+","+Ao(Mf,o)),--r;++r<i;)t=e[r],s.shift(),s.push(t[0]),o.shift(),o.push(t[1]),Oo(n,s,o);return n.join("")}function ko(e){for(var t,n,r=-1,i=e.length,s=i+4,o=[],u=[];++r<4;)n=e[r%i],o.push(n[0]),u.push(n[1]);for(t=[Ao(Mf,o),",",Ao(Mf,u)],--r;++r<s;)n=e[r%i],o.shift(),o.push(n[0]),u.shift(),u.push(n[1]),Oo(t,o,u);return t.join("")}function Lo(e,t){var n=e.length-1;if(n)for(var r,i,s=e[0][0],o=e[0][1],u=e[n][0]-s,a=e[n][1]-o,f=-1;++f<=n;)r=e[f],i=f/n,r[0]=t*r[0]+(1-t)*(s+i*u),r[1]=t*r[1]+(1-t)*(o+i*a);return No(e)}function Ao(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Oo(e,t,n){e.push("C",Ao(Af,t),",",Ao(Af,n),",",Ao(Of,t),",",Ao(Of,n),",",Ao(Mf,t),",",Ao(Mf,n))}function Mo(e,t){return(t[1]-e[1])/(t[0]-e[0])}function _o(e){for(var t=0,n=e.length-1,r=[],i=e[0],s=e[1],o=r[0]=Mo(i,s);++t<n;)r[t]=(o+(o=Mo(i=s,s=e[t+1])))/2;return r[t]=o,r}function Do(e){for(var t,n,r,i,s=[],o=_o(e),u=-1,a=e.length-1;++u<a;)t=Mo(e[u],e[u+1]),du(t)<Ou?o[u]=o[u+1]=0:(n=o[u]/t,r=o[u+1]/t,i=n*n+r*r,i>9&&(i=3*t/Math.sqrt(i),o[u]=i*n,o[u+1]=i*r));for(u=-1;++u<=a;)i=(e[Math.min(a,u+1)][0]-e[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u])),s.push([i||0,o[u]*i||0]);return s}function Po(e){return e.length<3?vo(e):e[0]+xo(e,Do(e))}function Ho(e){for(var t,n,r,i=-1,s=e.length;++i<s;)t=e[i],n=t[0],r=t[1]-Hu,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Bo(e){function t(t){function a(){v.push("M",u(e(g),c),l,f(e(m.reverse()),c),"Z")}for(var h,p,d,v=[],m=[],g=[],y=-1,b=t.length,w=Ct(n),E=Ct(i),S=n===r?function(){return p}:Ct(r),x=i===s?function(){return d}:Ct(s);++y<b;)o.call(this,h=t[y],y)?(m.push([p=+w.call(this,h,y),d=+E.call(this,h,y)]),g.push([+S.call(this,h,y),+x.call(this,h,y)])):m.length&&(a(),m=[],g=[]);return m.length&&a(),v.length?v.join(""):null}var n=Lr,r=Lr,i=0,s=Ar,o=An,u=vo,a=u.key,f=u,l="L",c=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=s=e,t):s},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(s=e,t):s},t.defined=function(e){return arguments.length?(o=e,t):o},t.interpolate=function(e){return arguments.length?(a="function"==typeof e?u=e:(u=Lf.get(e)||vo).key,f=u.reverse||u,l=u.closed?"M":"L",t):a},t.tension=function(e){return arguments.length?(c=e,t):c},t}function jo(e){return e.radius}function Fo(e){return[e.x,e.y]}function Io(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Hu;return[n*Math.cos(r),n*Math.sin(r)]}}function qo(){return 64}function Ro(){return"circle"}function Uo(e){var t=Math.sqrt(e/_u);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+ -t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function zo(e){return function(){var t,n;(t=this[e])&&(n=t[t.active])&&(--t.count?delete t[t.active]:delete this[e],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Wo(e,t,n){return bu(e,Ff),e.namespace=t,e.id=n,e}function Xo(e,t,n,r){var i=e.id,s=e.namespace;return z(e,"function"==typeof n?function(e,o,u){e[s][i].tween.set(t,r(n.call(e,e.__data__,o,u)))}:(n=r(n),function(e){e[s][i].tween.set(t,n)}))}function Vo(e){return null==e&&(e=""),function(){this.textContent=e}}function $o(e){return null==e?"__transition__":"__transition_"+e+"__"}function Jo(e,t,n,r,i){var s=e[n]||(e[n]={active:0,count:0}),o=s[r];if(!o){var u=i.time;o=s[r]={tween:new f,time:u,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++s.count,nu.timer(function(i){function a(n){if(s.active>r)return l();var i=s[s.active];i&&(--s.count,delete s[s.active],i.event&&i.event.interrupt.call(e,e.__data__,i.index)),s.active=r,o.event&&o.event.start.call(e,e.__data__,t),o.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&v.push(r)}),h=o.ease,c=o.duration,nu.timer(function(){return d.c=f(n||1)?An:f,1},0,u)}function f(n){if(s.active!==r)return 1;for(var i=n/c,u=h(i),a=v.length;a>0;)v[--a].call(e,u);return i>=1?(o.event&&o.event.end.call(e,e.__data__,t),l()):void 0}function l(){return--s.count?delete s[r]:delete e[n],1}var c,h,p=o.delay,d=ra,v=[];return d.t=p+u,i>=p?a(i-p):void (d.c=a)},0,u)}}function Ko(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function Qo(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function Go(e){return e.toISOString()}function Yo(e,t,n){function r(t){return e(t)}function i(e,n){var r=e[1]-e[0],i=r/n,s=nu.bisect($f,i);return s==$f.length?[t.year,Vs(e.map(function(e){return e/31536e6}),n)[2]]:s?t[i/$f[s-1]<$f[s]/i?s-1:s]:[Qf,Vs(e,n)[2]]}return r.invert=function(t){return Zo(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(Zo)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,Zo(+n+1),t).length}var s=r.domain(),o=js(s),u=null==e?i(o,10):"number"==typeof e&&i(o,e);return u&&(e=u[0],t=u[1]),r.domain(qs(s,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=Zo(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=Zo(+t+1);return t}}:e))},r.ticks=function(e,t){var n=js(r.domain()),s=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return s&&(e=s[0],t=s[1]),e.range(n[0],Zo(+n[1]+1),1>t?1:t)},r.tickFormat=function(){return n},r.copy=function(){return Yo(e.copy(),t,n)},Ws(r,e)}function Zo(e){return new Date(e)}function eu(e){return JSON.parse(e.responseText)}function tu(e){var t=su.createRange();return t.selectNode(su.body),t.createContextualFragment(e.responseText)}var nu={version:"3.5.5"},ru=[].slice,iu=function(e){return ru.call(e)},su=this.document;if(su)try{iu(su.documentElement.childNodes)[0].nodeType}catch(ou){iu=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+(new Date)}),su)try{su.createElement("DIV").style.setProperty("opacity",0,"")}catch(uu){var au=this.Element.prototype,fu=au.setAttribute,lu=au.setAttributeNS,cu=this.CSSStyleDeclaration.prototype,hu=cu.setProperty;au.setAttribute=function(e,t){fu.call(this,e,t+"")},au.setAttributeNS=function(e,t,n){lu.call(this,e,t,n+"")},cu.setProperty=function(e,t,n){hu.call(this,e,t+"",n)}}nu.ascending=n,nu.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:0/0},nu.min=function(e,t){var n,r,i=-1,s=e.length;if(1===arguments.length){for(;++i<s;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<s;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<s;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<s;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},nu.max=function(e,t){var n,r,i=-1,s=e.length;if(1===arguments.length){for(;++i<s;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<s;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<s;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<s;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},nu.extent=function(e,t){var n,r,i,s=-1,o=e.length;if(1===arguments.length){for(;++s<o;)if(null!=(r=e[s])&&r>=r){n=i=r;break}for(;++s<o;)null!=(r=e[s])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++s<o;)if(null!=(r=t.call(e,e[s],s))&&r>=r){n=i=r;break}for(;++s<o;)null!=(r=t.call(e,e[s],s))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},nu.sum=function(e,t){var n,r=0,s=e.length,o=-1;if(1===arguments.length)for(;++o<s;)i(n=+e[o])&&(r+=n);else for(;++o<s;)i(n=+t.call(e,e[o],o))&&(r+=n);return r},nu.mean=function(e,t){var n,s=0,o=e.length,u=-1,a=o;if(1===arguments.length)for(;++u<o;)i(n=r(e[u]))?s+=n:--a;else for(;++u<o;)i(n=r(t.call(e,e[u],u)))?s+=n:--a;return a?s/a:void 0},nu.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],s=n-r;return s?i+s*(e[r]-i):i},nu.median=function(e,t){var s,o=[],u=e.length,a=-1;if(1===arguments.length)for(;++a<u;)i(s=r(e[a]))&&o.push(s);else for(;++a<u;)i(s=r(t.call(e,e[a],a)))&&o.push(s);return o.length?nu.quantile(o.sort(n),.5):void 0},nu.variance=function(e,t){var n,s,o=e.length,u=0,a=0,f=-1,l=0;if(1===arguments.length)for(;++f<o;)i(n=r(e[f]))&&(s=n-u,u+=s/++l,a+=s*(n-u));else for(;++f<o;)i(n=r(t.call(e,e[f],f)))&&(s=n-u,u+=s/++l,a+=s*(n-u));return l>1?a/(l-1):void 0},nu.deviation=function(){var e=nu.variance.apply(this,arguments);return e?Math.sqrt(e):e};var pu=s(n);nu.bisectLeft=pu.left,nu.bisect=nu.bisectRight=pu.right,nu.bisector=function(e){return s(1===e.length?function(t,r){return n(e(t),r)}:e)},nu.shuffle=function(e,t,n){(s=arguments.length)<3&&(n=e.length,2>s&&(t=0));for(var r,i,s=n-t;s;)i=Math.random()*s--|0,r=e[s+t],e[s+t]=e[i+t],e[i+t]=r;return e},nu.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},nu.pairs=function(e){for(var t,n=0,r=e.length-1,i=e[0],s=new Array(0>r?0:r);r>n;)s[n]=[t=i,i=e[++n]];return s},nu.zip=function(){if(!(r=arguments.length))return[];for(var e=-1,t=nu.min(arguments,o),n=new Array(t);++e<t;)for(var r,i=-1,s=n[e]=new Array(r);++i<r;)s[i]=arguments[i][e];return n},nu.transpose=function(e){return nu.zip.apply(nu,e)},nu.keys=function(e){var t=[];for(var n in e)t.push(n);return t},nu.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},nu.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},nu.merge=function(e){for(var t,n,r,i=e.length,s=-1,o=0;++s<i;)o+=e[s].length;for(n=new Array(o);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--o]=r[t];return n};var du=Math.abs;nu.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,i=[],s=u(du(n)),o=-1;if(e*=s,t*=s,n*=s,0>n)for(;(r=e+n*++o)>t;)i.push(r/s);else for(;(r=e+n*++o)<t;)i.push(r/s);return i},nu.map=function(e,t){var n=new f;if(e instanceof f)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,i=-1,s=e.length;if(1===arguments.length)for(;++i<s;)n.set(i,e[i]);else for(;++i<s;)n.set(t.call(e,r=e[i],i),r)}else for(var o in e)n.set(o,e[o]);return n};var vu="__proto__",mu="\0";a(f,{has:h,get:function(e){return this._[l(e)]},set:function(e,t){return this._[l(e)]=t},remove:p,keys:d,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:c(t),value:this._[t]});return e},size:v,empty:m,forEach:function(e){for(var t in this._)e.call(this,c(t),this._[t])}}),nu.nest=function(){function e(t,o,u){if(u>=s.length)return r?r.call(i,o):n?o.sort(n):o;for(var a,l,c,h,p=-1,d=o.length,v=s[u++],m=new f;++p<d;)(h=m.get(a=v(l=o[p])))?h.push(l):m.set(a,[l]);return t?(l=t(),c=function(n,r){l.set(n,e(t,r,u))}):(l={},c=function(n,r){l[n]=e(t,r,u)}),m.forEach(c),l}function t(e,n){if(n>=s.length)return e;var r=[],i=o[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),i?r.sort(function(e,t){return i(e.key,t.key)}):r}var n,r,i={},s=[],o=[];return i.map=function(t,n){return e(n,t,0)},i.entries=function(n){return t(e(nu.map,n,0),0)},i.key=function(e){return s.push(e),i},i.sortKeys=function(e){return o[s.length-1]=e,i},i.sortValues=function(e){return n=e,i},i.rollup=function(e){return r=e,i},i},nu.set=function(e){var t=new g;if(e)for(var n=0,r=e.length;r>n;++n)t.add(e[n]);return t},a(g,{has:h,add:function(e){return this._[l(e+="")]=!0,e},remove:p,values:d,size:v,empty:m,forEach:function(e){for(var t in this._)e.call(this,c(t))}}),nu.behavior={},nu.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=b(e,t,t[n]);return e};var gu=["webkit","ms","moz","Moz","o","O"];nu.dispatch=function(){for(var e=new S,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=x(e);return e},S.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},nu.event=null,nu.requote=function(e){return e.replace(yu,"\\$&")};var yu=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,bu={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},wu=function(e,t){return t.querySelector(e)},Eu=function(e,t){return t.querySelectorAll(e)},Su=function(e,t){var n=e.matches||e[w(e,"matchesSelector")];return(Su=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(wu=function(e,t){return Sizzle(e,t)[0]||null},Eu=Sizzle,Su=Sizzle.matchesSelector),nu.selection=function(){return nu.select(su.documentElement)};var xu=nu.selection.prototype=[];xu.select=function(e){var t,n,r,i,s=[];e=L(e);for(var o=-1,u=this.length;++o<u;){s.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var a=-1,f=r.length;++a<f;)(i=r[a])?(t.push(n=e.call(i,i.__data__,a,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return k(s)},xu.selectAll=function(e){var t,n,r=[];e=A(e);for(var i=-1,s=this.length;++i<s;)for(var o=this[i],u=-1,a=o.length;++u<a;)(n=o[u])&&(r.push(t=iu(e.call(n,n.__data__,u,i))),t.parentNode=n);return k(r)};var Tu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};nu.ns={prefix:Tu,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.slice(0,t),e=e.slice(t+1)),Tu.hasOwnProperty(n)?{space:Tu[n],local:e}:e}},xu.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=nu.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(O(t,e[t]));return this}return this.each(O(e,t))},xu.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=D(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!_(e[i]).test(t))return!1;return!0}for(t in e)this.each(P(t,e[t]));return this}return this.each(P(e,t))},xu.style=function(e,n,r){var i=arguments.length;if(3>i){if("string"!=typeof e){2>i&&(n="");for(r in e)this.each(B(r,e[r],n));return this}if(2>i){var s=this.node();return t(s).getComputedStyle(s,null).getPropertyValue(e)}r=""}return this.each(B(e,n,r))},xu.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(j(t,e[t]));return this}return this.each(j(e,t))},xu.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},xu.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},xu.append=function(e){return e=F(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},xu.insert=function(e,t){return e=F(e),t=L(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},xu.remove=function(){return this.each(I)},xu.data=function(e,t){function n(e,n){var r,i,s,o=e.length,c=n.length,h=Math.min(o,c),p=new Array(c),d=new Array(c),v=new Array(o);if(t){var m,g=new f,y=new Array(o);for(r=-1;++r<o;)g.has(m=t.call(i=e[r],i.__data__,r))?v[r]=i:g.set(m,i),y[r]=m;for(r=-1;++r<c;)(i=g.get(m=t.call(n,s=n[r],r)))?i!==!0&&(p[r]=i,i.__data__=s):d[r]=q(s),g.set(m,!0);for(r=-1;++r<o;)g.get(y[r])!==!0&&(v[r]=e[r])}else{for(r=-1;++r<h;)i=e[r],s=n[r],i?(i.__data__=s,p[r]=i):d[r]=q(s);for(;c>r;++r)d[r]=q(n[r]);for(;o>r;++r)v[r]=e[r]}d.update=p,d.parentNode=p.parentNode=v.parentNode=e.parentNode,u.push(d),a.push(p),l.push(v)}var r,i,s=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(r=this[0]).length);++s<o;)(i=r[s])&&(e[s]=i.__data__);return e}var u=W([]),a=k([]),l=k([]);if("function"==typeof e)for(;++s<o;)n(r=this[s],e.call(r,r.parentNode.__data__,s));else for(;++s<o;)n(r=this[s],e);return a.enter=function(){return u},a.exit=function(){return l},a},xu.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},xu.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=R(e));for(var s=0,o=this.length;o>s;s++){i.push(t=[]),t.parentNode=(n=this[s]).parentNode;for(var u=0,a=n.length;a>u;u++)(r=n[u])&&e.call(r,r.__data__,u,s)&&t.push(r)}return k(i)},xu.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,s=r[i];--i>=0;)(n=r[i])&&(s&&s!==n.nextSibling&&s.parentNode.insertBefore(n,s),s=n);return this},xu.sort=function(e){e=U.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},xu.each=function(e){return z(this,function(t,n,r){e.call(t,t.__data__,n,r)})},xu.call=function(e){var t=iu(arguments);return e.apply(t[0]=this,t),this},xu.empty=function(){return!this.node()},xu.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],r=0,i=n.length;i>r;r++){var s=n[r];if(s)return s}return null},xu.size=function(){var e=0;return z(this,function(){++e}),e};var Nu=[];nu.selection.enter=W,nu.selection.enter.prototype=Nu,Nu.append=xu.append,Nu.empty=xu.empty,Nu.node=xu.node,Nu.call=xu.call,Nu.size=xu.size,Nu.select=function(e){for(var t,n,r,i,s,o=[],u=-1,a=this.length;++u<a;){r=(i=this[u]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var f=-1,l=i.length;++f<l;)(s=i[f])?(t.push(r[f]=n=e.call(i.parentNode,s.__data__,f,u)),n.__data__=s.__data__):t.push(null)}return k(o)},Nu.insert=function(e,t){return arguments.length<2&&(t=X(this)),xu.insert.call(this,e,t)},nu.select=function(t){var n;return"string"==typeof t?(n=[wu(t,su)],n.parentNode=su.documentElement):(n=[t],n.parentNode=e(t)),k([n])},nu.selectAll=function(e){var t;return"string"==typeof e?(t=iu(Eu(e,su)),t.parentNode=su.documentElement):(t=e,t.parentNode=null),k([t])},xu.on=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t=!1);for(n in e)this.each(V(n,e[n],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(V(e,t,n))};var Cu=nu.map({mouseenter:"mouseover",mouseleave:"mouseout"});su&&Cu.forEach(function(e){"on"+e in su&&Cu.remove(e)});var ku,Lu=0;nu.mouse=function(e){return Q(e,N())};var Au=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;nu.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=N().changedTouches),t)for(var r,i=0,s=t.length;s>i;++i)if((r=t[i]).identifier===n)return Q(e,r)},nu.behavior.drag=function(){function e(){this.on("mousedown.drag",s).on("touchstart.drag",o)}function n(e,t,n,s,o){return function(){function u(){var e,n,r=t(h,v);r&&(e=r[0]-b[0],n=r[1]-b[1],d|=e|n,b=r,p({type:"drag",x:r[0]+f[0],y:r[1]+f[1],dx:e,dy:n}))}function a(){t(h,v)&&(g.on(s+m,null).on(o+m,null),y(d&&nu.event.target===c),p({type:"dragend"}))}var f,l=this,c=nu.event.target,h=l.parentNode,p=r.of(l,arguments),d=0,v=e(),m=".drag"+(null==v?"":"-"+v),g=nu.select(n(c)).on(s+m,u).on(o+m,a),y=K(c),b=t(h,v);i?(f=i.apply(l,arguments),f=[f.x-b[0],f.y-b[1]]):f=[0,0],p({type:"dragstart"})}}var r=C(e,"drag","dragstart","dragend"),i=null,s=n(E,nu.mouse,t,"mousemove","mouseup"),o=n(G,nu.touch,y,"touchmove","touchend");return e.origin=function(t){return arguments.length?(i=t,e):i},nu.rebind(e,r,"on")},nu.touches=function(e,t){return arguments.length<2&&(t=N().touches),t?iu(t).map(function(t){var n=Q(e,t);return n.identifier=t.identifier,n}):[]};var Ou=1e-6,Mu=Ou*Ou,_u=Math.PI,Du=2*_u,Pu=Du-Ou,Hu=_u/2,Bu=_u/180,ju=180/_u,Fu=Math.SQRT2,Iu=2,qu=4;nu.interpolateZoom=function(e,t){function n(e){var t=e*y;if(g){var n=rt(v),o=s/(Iu*h)*(n*it(Fu*t+v)-nt(v));return[r+o*f,i+o*l,s*n/rt(Fu*t+v)]}return[r+e*f,i+e*l,s*Math.exp(Fu*t)]}var r=e[0],i=e[1],s=e[2],o=t[0],u=t[1],a=t[2],f=o-r,l=u-i,c=f*f+l*l,h=Math.sqrt(c),p=(a*a-s*s+qu*c)/(2*s*Iu*h),d=(a*a-s*s-qu*c)/(2*a*Iu*h),v=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(d*d+1)-d),g=m-v,y=(g||Math.log(a/s))/Fu;return n.duration=1e3*y,n},nu.behavior.zoom=function(){function e(e){e.on(M,c).on(Uu+".zoom",p).on("dblclick.zoom",d).on(P,h)}function n(e){return[(e[0]-N.x)/N.k,(e[1]-N.y)/N.k]}function r(e){return[e[0]*N.k+N.x,e[1]*N.k+N.y]}function i(e){N.k=Math.max(L[0],Math.min(L[1],e))}function s(e,t){t=r(t),N.x+=e[0]-t[0],N.y+=e[1]-t[1]}function o(t,n,r,o){t.__chart__={x:N.x,y:N.y,k:N.k},i(Math.pow(2,o)),s(m=n,r),t=nu.select(t),A>0&&(t=t.transition().duration(A)),t.call(e.event)}function u(){E&&E.domain(w.range().map(function(e){return(e-N.x)/N.k}).map(w.invert)),x&&x.domain(S.range().map(function(e){return(e-N.y)/N.k}).map(S.invert))}function a(e){O++||e({type:"zoomstart"})}function f(e){u(),e({type:"zoom",scale:N.k,translate:[N.x,N.y]})}function l(e){--O||e({type:"zoomend"}),m=null}function c(){function e(){c=1,s(nu.mouse(i),p),f(u)}function r(){h.on(_,null).on(D,null),d(c&&nu.event.target===o),l(u)}var i=this,o=nu.event.target,u=H.of(i,arguments),c=0,h=nu.select(t(i)).on(_,e).on(D,r),p=n(nu.mouse(i)),d=K(i);jf.call(i),a(u)}function h(){function e(){var e=nu.touches(d);return p=N.k,e.forEach(function(e){e.identifier in m&&(m[e.identifier]=n(e))}),e}function t(){var t=nu.event.target;nu.select(t).on(w,r).on(E,u),S.push(t);for(var n=nu.event.changedTouches,i=0,s=n.length;s>i;++i)m[n[i].identifier]=null;var a=e(),f=Date.now();if(1===a.length){if(500>f-b){var l=a[0];o(d,l,m[l.identifier],Math.floor(Math.log(N.k)/Math.LN2)+1),T()}b=f}else if(a.length>1){var l=a[0],c=a[1],h=l[0]-c[0],p=l[1]-c[1];g=h*h+p*p}}function r(){var e,t,n,r,o=nu.touches(d);jf.call(d);for(var u=0,a=o.length;a>u;++u,r=null)if(n=o[u],r=m[n.identifier]){if(t)break;e=n,t=r}if(r){var l=(l=n[0]-e[0])*l+(l=n[1]-e[1])*l,c=g&&Math.sqrt(l/g);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],i(c*p)}b=null,s(e,t),f(v)}function u(){if(nu.event.touches.length){for(var t=nu.event.changedTouches,n=0,r=t.length;r>n;++n)delete m[t[n].identifier];for(var i in m)return void e()}nu.selectAll(S).on(y,null),x.on(M,c).on(P,h),C(),l(v)}var p,d=this,v=H.of(d,arguments),m={},g=0,y=".zoom-"+nu.event.changedTouches[0].identifier,w="touchmove"+y,E="touchend"+y,S=[],x=nu.select(d),C=K(d);t(),a(v),x.on(M,null).on(P,t)}function p(){var e=H.of(this,arguments);y?clearTimeout(y):(v=n(m=g||nu.mouse(this)),jf.call(this),a(e)),y=setTimeout(function(){y=null,l(e)},50),T(),i(Math.pow(2,.002*Ru())*N.k),s(m,v),f(e)}function d(){var e=nu.mouse(this),t=Math.log(N.k)/Math.LN2;o(this,e,n(e),nu.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var v,m,g,y,b,w,E,S,x,N={x:0,y:0,k:1},k=[960,500],L=zu,A=250,O=0,M="mousedown.zoom",_="mousemove.zoom",D="mouseup.zoom",P="touchstart.zoom",H=C(e,"zoomstart","zoom","zoomend");return Uu||(Uu="onwheel"in su?(Ru=function(){return-nu.event.deltaY*(nu.event.deltaMode?120:1)},"wheel"):"onmousewheel"in su?(Ru=function(){return nu.event.wheelDelta},"mousewheel"):(Ru=function(){return-nu.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=H.of(this,arguments),t=N;Hf?nu.select(this).transition().each("start.zoom",function(){N=this.__chart__||{x:0,y:0,k:1},a(e)}).tween("zoom:zoom",function(){var n=k[0],r=k[1],i=m?m[0]:n/2,s=m?m[1]:r/2,o=nu.interpolateZoom([(i-N.x)/N.k,(s-N.y)/N.k,n/N.k],[(i-t.x)/t.k,(s-t.y)/t.k,n/t.k]);return function(t){var r=o(t),u=n/r[2];this.__chart__=N={x:i-r[0]*u,y:s-r[1]*u,k:u},f(e)}}).each("interrupt.zoom",function(){l(e)}).each("end.zoom",function(){l(e)}):(this.__chart__=N,a(e),f(e),l(e))})},e.translate=function(t){return arguments.length?(N={x:+t[0],y:+t[1],k:N.k},u(),e):[N.x,N.y]},e.scale=function(t){return arguments.length?(N={x:N.x,y:N.y,k:+t},u(),e):N.k},e.scaleExtent=function(t){return arguments.length?(L=null==t?zu:[+t[0],+t[1]],e):L},e.center=function(t){return arguments.length?(g=t&&[+t[0],+t[1]],e):g},e.size=function(t){return arguments.length?(k=t&&[+t[0],+t[1]],e):k},e.duration=function(t){return arguments.length?(A=+t,e):A},e.x=function(t){return arguments.length?(E=t,w=t.copy(),N={x:0,y:0,k:1},e):E},e.y=function(t){return arguments.length?(x=t,S=t.copy(),N={x:0,y:0,k:1},e):x},nu.rebind(e,H,"on")};var Ru,Uu,zu=[0,1/0];nu.color=ot,ot.prototype.toString=function(){return this.rgb()+""},nu.hsl=ut;var Wu=ut.prototype=new ot;Wu.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new ut(this.h,this.s,this.l/e)},Wu.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new ut(this.h,this.s,e*this.l)},Wu.rgb=function(){return at(this.h,this.s,this.l)},nu.hcl=ft;var Xu=ft.prototype=new ot;Xu.brighter=function(e){return new ft(this.h,this.c,Math.min(100,this.l+Vu*(arguments.length?e:1)))},Xu.darker=function(e){return new ft(this.h,this.c,Math.max(0,this.l-Vu*(arguments.length?e:1)))},Xu.rgb=function(){return lt(this.h,this.c,this.l).rgb()},nu.lab=ct;var Vu=18,$u=.95047,Ju=1,Ku=1.08883,Qu=ct.prototype=new ot;Qu.brighter=function(e){return new ct(Math.min(100,this.l+Vu*(arguments.length?e:1)),this.a,this.b)},Qu.darker=function(e){return new ct(Math.max(0,this.l-Vu*(arguments.length?e:1)),this.a,this.b)},Qu.rgb=function(){return ht(this.l,this.a,this.b)},nu.rgb=gt;var Gu=gt.prototype=new ot;Gu.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&i>t&&(t=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new gt(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new gt(i,i,i)},Gu.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new gt(e*this.r,e*this.g,e*this.b)},Gu.hsl=function(){return St(this.r,this.g,this.b)},Gu.toString=function(){return"#"+wt(this.r)+wt(this.g)+wt(this.b)};var Yu=nu.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Yu.forEach(function(e,t){Yu.set(e,yt(t))}),nu.functor=Ct,nu.xhr=kt(y),nu.dsv=function(e,t){function n(e,n,s){arguments.length<3&&(s=n,n=null);var o=Lt(e,t,null==n?r:i(n),s);return o.row=function(e){return arguments.length?o.response(null==(n=e)?r:i(e)):n},o}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function s(t){return t.map(o).join(e)}function o(e){return u.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var u=new RegExp('["'+e+"\n]"),a=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(l>=f)return o;if(i)return i=!1,s;var t=l;if(34===e.charCodeAt(t)){for(var n=t;n++<f;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}l=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&++l):10===r&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;f>l;){var r=e.charCodeAt(l++),u=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(l)&&(++l,++u);else if(r!==a)continue;return e.slice(t,l-u)}return e.slice(t)}for(var r,i,s={},o={},u=[],f=e.length,l=0,c=0;(r=n())!==o;){for(var h=[];r!==s&&r!==o;)h.push(r),r=n();t&&null==(h=t(h,c++))||u.push(h)}return u},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new g,i=[];return t.forEach(function(e){for(var t in e)r.has(t)||i.push(r.add(t))}),[i.map(o).join(e)].concat(t.map(function(t){return i.map(function(e){return o(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(s).join("\n")},n},nu.csv=nu.dsv(",","text/csv"),nu.tsv=nu.dsv("	","text/tab-separated-values");var Zu,ea,ta,na,ra,ia=this[w(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};nu.timer=function(e,t,n){var r=arguments.length;2>r&&(t=0),3>r&&(n=Date.now());var i=n+t,s={c:e,t:i,f:!1,n:null};ea?ea.n=s:Zu=s,ea=s,ta||(na=clearTimeout(na),ta=1,ia(Mt))},nu.timer.flush=function(){_t(),Dt()},nu.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var sa=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ht);nu.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=nu.round(e,Pt(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),sa[8+n/3]};var oa=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ua=nu.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=nu.round(e,Pt(e,t))).toFixed(Math.max(0,Math.min(20,Pt(e*(1+1e-15),t))))}}),aa=nu.time={},fa=Date;Ft.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){la.setUTCDate.apply(this._,arguments)},setDay:function(){la.setUTCDay.apply(this._,arguments)},setFullYear:function(){la.setUTCFullYear.apply(this._,arguments)},setHours:function(){la.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){la.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){la.setUTCMinutes.apply(this._,arguments)},setMonth:function(){la.setUTCMonth.apply(this._,arguments)},setSeconds:function(){la.setUTCSeconds.apply(this._,arguments)},setTime:function(){la.setTime.apply(this._,arguments)}};var la=Date.prototype;aa.year=It(function(e){return e=aa.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),aa.years=aa.year.range,aa.years.utc=aa.year.utc.range,aa.day=It(function(e){var t=new fa(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),aa.days=aa.day.range,aa.days.utc=aa.day.utc.range,aa.dayOfYear=function(e){var t=aa.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=aa[e]=It(function(e){return(e=aa.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=aa.year(e).getDay();return Math.floor((aa.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});aa[e+"s"]=n.range,aa[e+"s"].utc=n.utc.range,aa[e+"OfYear"]=function(e){var n=aa.year(e).getDay();return Math.floor((aa.dayOfYear(e)+(n+t)%7)/7)}}),aa.week=aa.sunday,aa.weeks=aa.sunday.range,aa.weeks.utc=aa.sunday.utc.range,aa.weekOfYear=aa.sundayOfYear;var ca={"-":"",_:" ",0:"0"},ha=/^\s*\d+/,pa=/^%/;nu.locale=function(e){return{numberFormat:Bt(e),timeFormat:Rt(e)}};var da=nu.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});nu.format=da.numberFormat,nu.geo={},fn.prototype={s:0,t:0,add:function(e){ln(e,this.t,va),ln(va.s,this.s,this),this.s?this.t+=va.t:this.s=va.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var va=new fn;nu.geo.stream=function(e,t){e&&ma.hasOwnProperty(e.type)?ma[e.type](e,t):cn(e,t)};var ma={Feature:function(e,t){cn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)cn(n[r].geometry,t)}},ga={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){hn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)hn(n[r],t,0)},Polygon:function(e,t){pn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)pn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)cn(n[r],t)}};nu.geo.area=function(e){return ya=0,nu.geo.stream(e,wa),ya};var ya,ba=new fn,wa={sphere:function(){ya+=4*_u},point:E,lineStart:E,lineEnd:E,polygonStart:function(){ba.reset(),wa.lineStart=dn},polygonEnd:function(){var e=2*ba;ya+=0>e?4*_u+e:e,wa.lineStart=wa.lineEnd=wa.point=E}};nu.geo.bounds=function(){function e(e,t){b.push(w=[l=e,h=e]),c>t&&(c=t),t>p&&(p=t)}function t(t,n){var r=vn([t*Bu,n*Bu]);if(g){var i=gn(g,r),s=[i[1],-i[0],0],o=gn(s,i);wn(o),o=En(o);var a=t-d,f=a>0?1:-1,v=o[0]*ju*f,m=du(a)>180;if(m^(v>f*d&&f*t>v)){var y=o[1]*ju;y>p&&(p=y)}else if(v=(v+360)%360-180,m^(v>f*d&&f*t>v)){var y=-o[1]*ju;c>y&&(c=y)}else c>n&&(c=n),n>p&&(p=n);m?d>t?u(l,t)>u(l,h)&&(h=t):u(t,h)>u(l,h)&&(l=t):h>=l?(l>t&&(l=t),t>h&&(h=t)):t>d?u(l,t)>u(l,h)&&(h=t):u(t,h)>u(l,h)&&(l=t)}else e(t,n);g=r,d=t}function n(){E.point=t}function r(){w[0]=l,w[1]=h,E.point=e,g=null}function i(e,n){if(g){var r=e-d;y+=du(r)>180?r+(r>0?360:-360):r}else v=e,m=n;wa.point(e,n),t(e,n)}function s(){wa.lineStart()}function o(){i(v,m),wa.lineEnd(),du(y)>Ou&&(l=-(h=180)),w[0]=l,w[1]=h,g=null}function u(e,t){return(t-=e)<0?t+360:t}function a(e,t){return e[0]-t[0]}function f(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var l,c,h,p,d,v,m,g,y,b,w,E={point:e,lineStart:n,lineEnd:r,polygonStart:function(){E.point=i,E.lineStart=s,E.lineEnd=o,y=0,wa.polygonStart()},polygonEnd:function(){wa.polygonEnd(),E.point=e,E.lineStart=n,E.lineEnd=r,0>ba?(l=-(h=180),c=-(p=90)):y>Ou?p=90:-Ou>y&&(c=-90),w[0]=l,w[1]=h}};return function(e){p=h=-(l=c=1/0),b=[],nu.geo.stream(e,E);var t=b.length;if(t){b.sort(a);for(var n,r=1,i=b[0],s=[i];t>r;++r)n=b[r],f(n[0],i)||f(n[1],i)?(u(i[0],n[1])>u(i[0],i[1])&&(i[1]=n[1]),u(n[0],i[1])>u(i[0],i[1])&&(i[0]=n[0])):s.push(i=n);for(var o,n,d=-1/0,t=s.length-1,r=0,i=s[t];t>=r;i=n,++r)n=s[r],(o=u(i[1],n[0]))>d&&(d=o,l=n[0],h=i[1])}return b=w=null,1/0===l||1/0===c?[[0/0,0/0],[0/0,0/0]]:[[l,c],[h,p]]}}(),nu.geo.centroid=function(e){Ea=Sa=xa=Ta=Na=Ca=ka=La=Aa=Oa=Ma=0,nu.geo.stream(e,_a);var t=Aa,n=Oa,r=Ma,i=t*t+n*n+r*r;return Mu>i&&(t=Ca,n=ka,r=La,Ou>Sa&&(t=xa,n=Ta,r=Na),i=t*t+n*n+r*r,Mu>i)?[0/0,0/0]:[Math.atan2(n,t)*ju,tt(r/Math.sqrt(i))*ju]};var Ea,Sa,xa,Ta,Na,Ca,ka,La,Aa,Oa,Ma,_a={sphere:E,point:xn,lineStart:Nn,lineEnd:Cn,polygonStart:function(){_a.lineStart=kn},polygonEnd:function(){_a.lineStart=Nn}},Da=Dn(An,jn,In,[-_u,-_u/2]),Pa=1e9;nu.geo.clipExtent=function(){var e,t,n,r,i,s,o={stream:function(e){return i&&(i.valid=!1),i=s(e),i.valid=!0,i},extent:function(u){return arguments.length?(s=zn(e=+u[0][0],t=+u[0][1],n=+u[1][0],r=+u[1][1]),i&&(i.valid=!1,i=null),o):[[e,t],[n,r]]}};return o.extent([[0,0],[960,500]])},(nu.geo.conicEqualArea=function(){return Wn(Xn)}).raw=Xn,nu.geo.albers=function(){return nu.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)},nu.geo.albersUsa=function(){function e(e){var s=e[0],o=e[1];return t=null,n(s,o),t||(r(s,o),t)||i(s,o),t}var t,n,r,i,s=nu.geo.albers(),o=nu.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=nu.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=s.scale(),n=s.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&.234>i&&r>=-0.425&&-0.214>r?o:i>=.166&&.234>i&&r>=-0.214&&-0.115>r?u:s).invert(e)},e.stream=function(e){var t=s.stream(e),n=o.stream(e),r=u.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(s.precision(t),o.precision(t),u.precision(t),e):s.precision()},e.scale=function(t){return arguments.length?(s.scale(t),o.scale(.35*t),u.scale(t),e.translate(s.translate())):s.scale()},e.translate=function(t){if(!arguments.length)return s.translate();var f=s.scale(),l=+t[0],c=+t[1];return n=s.translate(t).clipExtent([[l-.455*f,c-.238*f],[l+.455*f,c+.238*f]]).stream(a).point,r=o.translate([l-.307*f,c+.201*f]).clipExtent([[l-.425*f+Ou,c+.12*f+Ou],[l-.214*f-Ou,c+.234*f-Ou]]).stream(a).point,i=u.translate([l-.205*f,c+.212*f]).clipExtent([[l-.214*f+Ou,c+.166*f+Ou],[l-.115*f-Ou,c+.234*f-Ou]]).stream(a).point,e},e.scale(1070)};var Ha,Ba,ja,Fa,Ia,qa,Ra={point:E,lineStart:E,lineEnd:E,polygonStart:function(){Ba=0,Ra.lineStart=Vn},polygonEnd:function(){Ra.lineStart=Ra.lineEnd=Ra.point=E,Ha+=du(Ba/2)}},Ua={point:$n,lineStart:E,lineEnd:E,polygonStart:E,polygonEnd:E},za={point:Qn,lineStart:Gn,lineEnd:Yn,polygonStart:function(){za.lineStart=Zn},polygonEnd:function(){za.point=Qn,za.lineStart=Gn,za.lineEnd=Yn}};nu.geo.path=function(){function e(e){return e&&("function"==typeof u&&s.pointRadius(+u.apply(this,arguments)),o&&o.valid||(o=i(s)),nu.geo.stream(e,o)),s.result()}function t(){return o=null,e}var n,r,i,s,o,u=4.5;return e.area=function(e){return Ha=0,nu.geo.stream(e,i(Ra)),Ha},e.centroid=function(e){return xa=Ta=Na=Ca=ka=La=Aa=Oa=Ma=0,nu.geo.stream(e,i(za)),Ma?[Aa/Ma,Oa/Ma]:La?[Ca/La,ka/La]:Na?[xa/Na,Ta/Na]:[0/0,0/0]},e.bounds=function(e){return Ia=qa=-(ja=Fa=1/0),nu.geo.stream(e,i(Ua)),[[ja,Fa],[Ia,qa]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||nr(e):y,t()):n},e.context=function(e){return arguments.length?(s=null==(r=e)?new Jn:new er(e),"function"!=typeof u&&s.pointRadius(u),t()):r},e.pointRadius=function(t){return arguments.length?(u="function"==typeof t?t:(s.pointRadius(+t),+t),e):u},e.projection(nu.geo.albersUsa()).context(null)},nu.geo.transform=function(e){return{stream:function(t){var n=new rr(t);for(var r in e)n[r]=e[r];return n}}},rr.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},nu.geo.projection=sr,nu.geo.projectionMutator=or,(nu.geo.equirectangular=function(){return sr(ar)}).raw=ar.invert=ar,nu.geo.rotation=function(e){function t(t){return t=e(t[0]*Bu,t[1]*Bu),t[0]*=ju,t[1]*=ju,t}return e=lr(e[0]%360*Bu,e[1]*Bu,e.length>2?e[2]*Bu:0),t.invert=function(t){return t=e.invert(t[0]*Bu,t[1]*Bu),t[0]*=ju,t[1]*=ju,t},t},fr.invert=ar,nu.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=lr(-e[0]*Bu,-e[1]*Bu,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=ju,e[1]*=ju}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=dr((t=+r)*Bu,i*Bu),e):t},e.precision=function(r){return arguments.length?(n=dr(t*Bu,(i=+r)*Bu),e):i},e.angle(90)},nu.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Bu,i=e[1]*Bu,s=t[1]*Bu,o=Math.sin(r),u=Math.cos(r),a=Math.sin(i),f=Math.cos(i),l=Math.sin(s),c=Math.cos(s);return Math.atan2(Math.sqrt((n=c*o)*n+(n=f*l-a*c*u)*n),a*l+f*c*u)},nu.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return nu.range(Math.ceil(s/m)*m,i,m).map(h).concat(nu.range(Math.ceil(f/g)*g,a,g).map(p)).concat(nu.range(Math.ceil(r/d)*d,n,d).filter(function(e){return du(e%m)>Ou}).map(l)).concat(nu.range(Math.ceil(u/v)*v,o,v).filter(function(e){return du(e%g)>Ou}).map(c))}var n,r,i,s,o,u,a,f,l,c,h,p,d=10,v=d,m=90,g=360,y=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[h(s).concat(p(a).slice(1),h(i).reverse().slice(1),p(f).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(s=+t[0][0],i=+t[1][0],f=+t[0][1],a=+t[1][1],s>i&&(t=s,s=i,i=t),f>a&&(t=f,f=a,a=t),e.precision(y)):[[s,f],[i,a]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),u>o&&(t=u,u=o,o=t),e.precision(y)):[[r,u],[n,o]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(m=+t[0],g=+t[1],e):[m,g]},e.minorStep=function(t){return arguments.length?(d=+t[0],v=+t[1],e):[d,v]},e.precision=function(t){return arguments.length?(y=+t,l=mr(u,o,90),c=gr(r,n,y),h=mr(f,a,90),p=gr(s,i,y),e):y},e.majorExtent([[-180,-90+Ou],[180,90-Ou]]).minorExtent([[-180,-80-Ou],[180,80+Ou]])},nu.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=yr,i=br;return e.distance=function(){return nu.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},nu.geo.interpolate=function(e,t){return wr(e[0]*Bu,e[1]*Bu,t[0]*Bu,t[1]*Bu)},nu.geo.length=function(e){return Wa=0,nu.geo.stream(e,Xa),Wa};var Wa,Xa={sphere:E,point:E,lineStart:Er,lineEnd:E,polygonStart:E,polygonEnd:E},Va=Sr(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(nu.geo.azimuthalEqualArea=function(){return sr(Va)}).raw=Va;var $a=Sr(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},y);(nu.geo.azimuthalEquidistant=function(){return sr($a)}).raw=$a,(nu.geo.conicConformal=function(){return Wn(xr)}).raw=xr,(nu.geo.conicEquidistant=function(){return Wn(Tr)}).raw=Tr;var Ja=Sr(function(e){return 1/e},Math.atan);(nu.geo.gnomonic=function(){return sr(Ja)}).raw=Ja,Nr.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Hu]},(nu.geo.mercator=function(){return Cr(Nr)}).raw=Nr;var Ka=Sr(function(){return 1},Math.asin);(nu.geo.orthographic=function(){return sr(Ka)}).raw=Ka;var Qa=Sr(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(nu.geo.stereographic=function(){return sr(Qa)}).raw=Qa,kr.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Hu]},(nu.geo.transverseMercator=function(){var e=Cr(kr),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=kr,nu.geom={},nu.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=Ct(n),s=Ct(r),o=e.length,u=[],a=[];for(t=0;o>t;t++)u.push([+i.call(this,e[t],t),+s.call(this,e[t],t),t]);for(u.sort(Mr),t=0;o>t;t++)a.push([u[t][0],-u[t][1]]);var f=Or(u),l=Or(a),c=l[0]===f[0],h=l[l.length-1]===f[f.length-1],p=[];for(t=f.length-1;t>=0;--t)p.push(e[u[f[t]][2]]);for(t=+c;t<l.length-h;++t)p.push(e[u[l[t]][2]]);return p}var n=Lr,r=Ar;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},nu.geom.polygon=function(e){return bu(e,Ga),e};var Ga=nu.geom.polygon.prototype=[];Ga.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},Ga.centroid=function(e){var t,n,r=-1,i=this.length,s=0,o=0,u=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=u,u=this[r],n=t[0]*u[1]-u[0]*t[1],s+=(t[0]+u[0])*n,o+=(t[1]+u[1])*n;return[s*e,o*e]},Ga.clip=function(e){for(var t,n,r,i,s,o,u=Pr(e),a=-1,f=this.length-Pr(this),l=this[f-1];++a<f;){for(t=e.slice(),e.length=0,i=this[a],s=t[(r=t.length-u)-1],n=-1;++n<r;)o=t[n],_r(o,l,i)?(_r(s,l,i)||e.push(Dr(s,o,l,i)),e.push(o)):_r(s,l,i)&&e.push(Dr(s,o,l,i)),s=o;u&&e.push(e[0]),l=i}return e};var Ya,Za,ef,tf,nf,rf=[],sf=[];Ur.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Wr),t.length},ei.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ti.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=si(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(ri(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ii(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(ii(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ri(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,s=e.L,o=e.R;if(n=s?o?si(o):s:o,i?i.L===e?i.L=n:i.R=n:this._=n,s&&o?(r=n.C,n.C=e.C,n.L=s,s.U=n,n!==o?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=o,o.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void (e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,ri(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ii(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,ri(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,ii(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ri(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ii(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},nu.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=u[0][0],i=u[0][1],s=u[1][0],o=u[1][1];return oi(n(e),u).cells.forEach(function(n,u){var a=n.edges,f=n.site,l=t[u]=a.length?a.map(function(e){var t=e.start();return[t.x,t.y]}):f.x>=r&&f.x<=s&&f.y>=i&&f.y<=o?[[r,o],[s,o],[s,i],[r,i]]:[];l.point=e[u]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(s(e,t)/Ou)*Ou,y:Math.round(o(e,t)/Ou)*Ou,i:t}})}var r=Lr,i=Ar,s=r,o=i,u=of;return e?t(e):(t.links=function(e){return oi(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return oi(n(e)).cells.forEach(function(n,r){for(var i,s,o=n.site,u=n.edges.sort(Wr),a=-1,f=u.length,l=u[f-1].edge,c=l.l===o?l.r:l.l;++a<f;)i=l,s=c,l=u[a].edge,c=l.l===o?l.r:l.l,r<s.i&&r<c.i&&ai(o,s,c)<0&&t.push([e[r],e[s.i],e[c.i]])}),t},t.x=function(e){return arguments.length?(s=Ct(r=e),t):r},t.y=function(e){return arguments.length?(o=Ct(i=e),t):i},t.clipExtent=function(e){return arguments.length?(u=null==e?of:e,t):u===of?null:u},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):u===of?null:u&&u[1]},t)};var of=[[-1e6,-1e6],[1e6,1e6]];nu.geom.delaunay=function(e){return nu.geom.voronoi().triangles(e)},nu.geom.quadtree=function(e,t,n,r,i){function s(e){function s(e,t,n,r,i,s,o,u){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var a=e.x,l=e.y;if(null!=a)if(du(a-n)+du(l-r)<.01)f(e,t,n,r,i,s,o,u);else{var c=e.point;e.x=e.y=e.point=null,f(e,c,a,l,i,s,o,u),f(e,t,n,r,i,s,o,u)}else e.x=n,e.y=r,e.point=t}else f(e,t,n,r,i,s,o,u)}function f(e,t,n,r,i,o,u,a){var f=.5*(i+u),l=.5*(o+a),c=n>=f,h=r>=l,p=h<<1|c;e.leaf=!1,e=e.nodes[p]||(e.nodes[p]=ci()),c?i=f:u=f,h?o=l:a=l,s(e,t,n,r,i,o,u,a)}var l,c,h,p,d,v,m,g,y,b=Ct(u),w=Ct(a);if(null!=t)v=t,m=n,g=r,y=i;else if(g=y=-(v=m=1/0),c=[],h=[],d=e.length,o)for(p=0;d>p;++p)l=e[p],l.x<v&&(v=l.x),l.y<m&&(m=l.y),l.x>g&&(g=l.x),l.y>y&&(y=l.y),c.push(l.x),h.push(l.y);else for(p=0;d>p;++p){var E=+b(l=e[p],p),S=+w(l,p);v>E&&(v=E),m>S&&(m=S),E>g&&(g=E),S>y&&(y=S),c.push(E),h.push(S)}var x=g-v,T=y-m;x>T?y=m+x:g=v+T;var N=ci();if(N.add=function(e){s(N,e,+b(e,++p),+w(e,p),v,m,g,y)},N.visit=function(e){hi(e,N,v,m,g,y)},N.find=function(e){return pi(N,e[0],e[1],v,m,g,y)},p=-1,null==t){for(;++p<d;)s(N,e[p],c[p],h[p],v,m,g,y);--p}else e.forEach(N.add);return c=h=e=l=null,N}var o,u=Lr,a=Ar;return(o=arguments.length)?(u=fi,a=li,3===o&&(i=n,r=t,n=t=0),s(e)):(s.x=function(e){return arguments.length?(u=e,s):u},s.y=function(e){return arguments.length?(a=e,s):a},s.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),s):null==t?null:[[t,n],[r,i]]},s.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),s):null==t?null:[r-t,i-n]},s)},nu.interpolateRgb=di,nu.interpolateObject=vi,nu.interpolateNumber=mi,nu.interpolateString=gi;var uf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,af=new RegExp(uf.source,"g");nu.interpolate=yi,nu.interpolators=[function(e,t){var n=typeof t;return("string"===n?Yu.has(t)||/^(#|rgb\(|hsl\()/.test(t)?di:gi:t instanceof ot?di:Array.isArray(t)?bi:"object"===n&&isNaN(t)?vi:mi)(e,t)}],nu.interpolateArray=bi;var ff=function(){return y},lf=nu.map({linear:ff,poly:Ci,quad:function(){return xi},cubic:function(){return Ti},sin:function(){return ki},exp:function(){return Li},circle:function(){return Ai},elastic:Oi,back:Mi,bounce:function(){return _i}}),cf=nu.map({"in":y,out:Ei,"in-out":Si,"out-in":function(e){return Si(Ei(e))}});nu.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=lf.get(n)||ff,r=cf.get(r)||y,wi(r(n.apply(null,ru.call(arguments,1))))},nu.interpolateHcl=Di,nu.interpolateHsl=Pi,nu.interpolateLab=Hi,nu.interpolateRound=Bi,nu.transform=function(e){var t=su.createElementNS(nu.ns.prefix.svg,"g");return(nu.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new ji(n?n.matrix:hf)})(e)},ji.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var hf={a:1,b:0,c:0,d:1,e:0,f:0};nu.interpolateTransform=Ri,nu.layout={},nu.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Wi(e[n]));return t}},nu.layout.chord=function(){function e(){var e,f,c,h,p,d={},v=[],m=nu.range(s),g=[];for(n=[],r=[],e=0,h=-1;++h<s;){for(f=0,p=-1;++p<s;)f+=i[h][p];v.push(f),g.push(nu.range(s)),e+=f}for(o&&m.sort(function(e,t){return o(v[e],v[t])}),u&&g.forEach(function(e,t){e.sort(function(e,n){return u(i[t][e],i[t][n])})}),e=(Du-l*s)/e,f=0,h=-1;++h<s;){for(c=f,p=-1;++p<s;){var y=m[h],b=g[y][p],w=i[y][b],E=f,S=f+=w*e;d[y+"-"+b]={index:y,subindex:b,startAngle:E,endAngle:S,value:w}}r[y]={index:y,startAngle:c,endAngle:f,value:(f-c)/e},f+=l}for(h=-1;++h<s;)for(p=h-1;++p<s;){var x=d[h+"-"+p],T=d[p+"-"+h];(x.value||T.value)&&n.push(x.value<T.value?{source:T,target:x}:{source:x,target:T})}a&&t()}function t(){n.sort(function(e,t){return a((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,s,o,u,a,f={},l=0;return f.matrix=function(e){return arguments.length?(s=(i=e)&&i.length,n=r=null,f):i},f.padding=function(e){return arguments.length?(l=e,n=r=null,f):l},f.sortGroups=function(e){return arguments.length?(o=e,n=r=null,f):o},f.sortSubgroups=function(e){return arguments.length?(u=e,n=null,f):u},f.sortChords=function(e){return arguments.length?(a=e,n&&t(),f):a},f.chords=function(){return n||e(),n},f.groups=function(){return r||e(),r},f},nu.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var s=t.cx-e.x,o=t.cy-e.y,u=i-n,a=s*s+o*o;if(a>u*u/m){if(d>a){var f=t.charge/a;e.px-=s*f,e.py-=o*f}return!0}if(t.point&&a&&d>a){var f=t.pointCharge/a;e.px-=s*f,e.py-=o*f}}return!t.charge}}function t(e){e.px=nu.event.x,e.py=nu.event.y,u.resume()}var n,r,i,s,o,u={},a=nu.dispatch("start","tick","end"),f=[1,1],l=.9,c=pf,h=df,p=-30,d=vf,v=.1,m=.64,g=[],b=[];return u.tick=function(){if((r*=.99)<.005)return a.end({type:"end",alpha:r=0}),!0;var t,n,u,c,h,d,m,y,w,E=g.length,S=b.length;for(n=0;S>n;++n)u=b[n],c=u.source,h=u.target,y=h.x-c.x,w=h.y-c.y,(d=y*y+w*w)&&(d=r*s[n]*((d=Math.sqrt(d))-i[n])/d,y*=d,w*=d,h.x-=y*(m=c.weight/(h.weight+c.weight)),h.y-=w*m,c.x+=y*(m=1-m),c.y+=w*m);if((m=r*v)&&(y=f[0]/2,w=f[1]/2,n=-1,m))for(;++n<E;)u=g[n],u.x+=(y-u.x)*m,u.y+=(w-u.y)*m;if(p)for(Gi(t=nu.geom.quadtree(g),r,o),n=-1;++n<E;)(u=g[n]).fixed||t.visit(e(u));for(n=-1;++n<E;)u=g[n],u.fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*l,u.y-=(u.py-(u.py=u.y))*l);a.tick({type:"tick",alpha:r})},u.nodes=function(e){return arguments.length?(g=e,u):g},u.links=function(e){return arguments.length?(b=e,u):b},u.size=function(e){return arguments.length?(f=e,u):f},u.linkDistance=function(e){return arguments.length?(c="function"==typeof e?e:+e,u):c},u.distance=u.linkDistance,u.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,u):h},u.friction=function(e){return arguments.length?(l=+e,u):l},u.charge=function(e){return arguments.length?(p="function"==typeof e?e:+e,u):p},u.chargeDistance=function(e){return arguments.length?(d=e*e,u):Math.sqrt(d)},u.gravity=function(e){return arguments.length?(v=+e,u):v},u.theta=function(e){return arguments.length?(m=e*e,u):Math.sqrt(m)},u.alpha=function(e){return arguments.length?(e=+e,r?r=e>0?e:0:e>0&&(a.start({type:"start",alpha:r=e}),nu.timer(u.tick)),u):r},u.start=function(){function e(e,r){if(!n){for(n=new Array(a),u=0;a>u;++u)n[u]=[];for(u=0;l>u;++u){var i=b[u];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var s,o=n[t],u=-1,f=o.length;++u<f;)if(!isNaN(s=o[u][e]))return s;return Math.random()*r}var t,n,r,a=g.length,l=b.length,d=f[0],v=f[1];for(t=0;a>t;++t)(r=g[t]).index=t,r.weight=0;for(t=0;l>t;++t)r=b[t],"number"==typeof r.source&&(r.source=g[r.source]),"number"==typeof r.target&&(r.target=g[r.target]),++r.source.weight,++r.target.weight;for(t=0;a>t;++t)r=g[t],isNaN(r.x)&&(r.x=e("x",d)),isNaN(r.y)&&(r.y=e("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof c)for(t=0;l>t;++t)i[t]=+c.call(this,b[t],t);else for(t=0;l>t;++t)i[t]=c;if(s=[],"function"==typeof h)for(t=0;l>t;++t)s[t]=+h.call(this,b[t],t);else for(t=0;l>t;++t)s[t]=h;if(o=[],"function"==typeof p)for(t=0;a>t;++t)o[t]=+p.call(this,g[t],t);else for(t=0;a>t;++t)o[t]=p;return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){return n||(n=nu.behavior.drag().origin(y).on("dragstart.force",$i).on("drag.force",t).on("dragend.force",Ji)),arguments.length?void this.on("mouseover.force",Ki).on("mouseout.force",Qi).call(n):n},nu.rebind(u,a,"on")};var pf=20,df=1,vf=1/0;nu.layout.hierarchy=function(){function e(i){var s,o=[i],u=[];for(i.depth=0;null!=(s=o.pop());)if(u.push(s),(f=n.call(e,s,s.depth))&&(a=f.length)){for(var a,f,l;--a>=0;)o.push(l=f[a]),l.parent=s,l.depth=s.depth+1;r&&(s.value=0),s.children=f}else r&&(s.value=+r.call(e,s,s.depth)||0),delete s.children;return es(i,function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)}),u}var t=rs,n=ts,r=ns;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(Zi(t,function(e){e.children&&(e.value=0)}),es(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},nu.layout.partition=function(){function e(t,n,r,i){var s=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,s&&(o=s.length)){var o,u,a,f=-1;for(r=t.value?r/t.value:0;++f<o;)e(u=s[f],n,a=u.value*r,i),n+=a}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,s=-1;++s<i;)r=Math.max(r,t(n[s]));return 1+r}function n(n,s){var o=r.call(this,n,s);return e(o[0],0,i[0],i[1]/t(o[0])),o}var r=nu.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},Yi(n,r)},nu.layout.pie=function(){function e(o){var u,a=o.length,f=o.map(function(n,r){return+t.call(e,n,r)}),l=+("function"==typeof r?r.apply(this,arguments):r),c=("function"==typeof i?i.apply(this,arguments):i)-l,h=Math.min(Math.abs(c)/a,+("function"==typeof s?s.apply(this,arguments):s)),p=h*(0>c?-1:1),d=(c-a*p)/nu.sum(f),v=nu.range(a),m=[];return null!=n&&v.sort(n===mf?function(e,t){return f[t]-f[e]}:function(e,t){return n(o[e],o[t])}),v.forEach(function(e){m[e]={data:o[e],value:u=f[e],startAngle:l,endAngle:l+=u*d+p,padAngle:h}}),m}var t=Number,n=mf,r=0,i=Du,s=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e.padAngle=function(t){return arguments.length?(s=t,e):s},e};var mf={};nu.layout.stack=function(){function e(u,a){if(!(h=u.length))return u;var f=u.map(function(n,r){return t.call(e,n,r)}),l=f.map(function(t){return t.map(function(t,n){return[s.call(e,t,n),o.call(e,t,n)]})}),c=n.call(e,l,a);f=nu.permute(f,c),l=nu.permute(l,c);var h,p,d,v,m=r.call(e,l,a),g=f[0].length;for(d=0;g>d;++d)for(i.call(e,f[0][d],v=m[d],l[0][d][1]),p=1;h>p;++p)i.call(e,f[p][d],v+=l[p-1][d][1],l[p][d][1]);return u}var t=y,n=as,r=fs,i=us,s=ss,o=os;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:gf.get(t)||as,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:yf.get(t)||fs,e):r},e.x=function(t){return arguments.length?(s=t,e):s},e.y=function(t){return arguments.length?(o=t,e):o},e.out=function(t){return arguments.length?(i=t,e):i},e};var gf=nu.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(ls),s=e.map(cs),o=nu.range(r).sort(function(e,t){return i[e]-i[t]}),u=0,a=0,f=[],l=[];for(t=0;r>t;++t)n=o[t],a>u?(u+=s[n],f.push(n)):(a+=s[n],l.push(n));return l.reverse().concat(f)},reverse:function(e){return nu.range(e.length).reverse()},"default":as}),yf=nu.map({silhouette:function(e){var t,n,r,i=e.length,s=e[0].length,o=[],u=0,a=[];for(n=0;s>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];r>u&&(u=r),o.push(r)}for(n=0;s>n;++n)a[n]=(u-o[n])/2;return a},wiggle:function(e){var t,n,r,i,s,o,u,a,f,l=e.length,c=e[0],h=c.length,p=[];for(p[0]=a=f=0,n=1;h>n;++n){for(t=0,i=0;l>t;++t)i+=e[t][n][1];for(t=0,s=0,u=c[n][0]-c[n-1][0];l>t;++t){for(r=0,o=(e[t][n][1]-e[t][n-1][1])/(2*u);t>r;++r)o+=(e[r][n][1]-e[r][n-1][1])/u;s+=o*e[t][n][1]}p[n]=a-=i?s/i*u:0,f>a&&(f=a)}for(n=0;h>n;++n)p[n]-=f;return p},expand:function(e){var t,n,r,i=e.length,s=e[0].length,o=1/i,u=[];for(n=0;s>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];if(r)for(t=0;i>t;t++)e[t][n][1]/=r;else for(t=0;i>t;t++)e[t][n][1]=o}for(n=0;s>n;++n)u[n]=0;return u},zero:fs});nu.layout.histogram=function(){function e(e,s){for(var o,u,a=[],f=e.map(n,this),l=r.call(this,f,s),c=i.call(this,l,f,s),s=-1,h=f.length,p=c.length-1,d=t?1:1/h;++s<p;)o=a[s]=[],o.dx=c[s+1]-(o.x=c[s]),o.y=0;if(p>0)for(s=-1;++s<h;)u=f[s],u>=l[0]&&u<=l[1]&&(o=a[nu.bisect(c,u,1,p)-1],o.y+=d,o.push(e[s]));return a}var t=!0,n=Number,r=vs,i=ps;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=Ct(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return ds(e,t)}:Ct(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},nu.layout.pack=function(){function e(e,s){var o=n.call(this,e,s),u=o[0],a=i[0],f=i[1],l=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(u.x=u.y=0,es(u,function(e){e.r=+l(e.value)}),es(u,ws),r){var c=r*(t?1:Math.max(2*u.r/a,2*u.r/f))/2;es(u,function(e){e.r+=c}),es(u,ws),es(u,function(e){e.r-=c})}return xs(u,a/2,f/2,t?1:1/Math.max(2*u.r/a,2*u.r/f)),o}var t,n=nu.layout.hierarchy().sort(ms),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},Yi(e,n)},nu.layout.tree=function(){function e(e,i){var l=o.call(this,e,i),c=l[0],h=t(c);if(es(h,n),h.parent.m=-h.z,Zi(h,r),f)Zi(c,s);else{var p=c,d=c,v=c;Zi(c,function(e){e.x<p.x&&(p=e),e.x>d.x&&(d=e),e.depth>v.depth&&(v=e)});var m=u(p,d)/2-p.x,g=a[0]/(d.x+u(d,p)/2+m),y=a[1]/(v.depth||1);Zi(c,function(e){e.x=(e.x+m)*g,e.y=e.depth*y})}return l}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,s=t.children,o=0,u=s.length;u>o;++o)r.push((s[o]=i={_:s[o],parent:t,children:(i=s[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){As(e);var s=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+u(e._,r._),e.m=e.z-s):e.z=s}else r&&(e.z=r.z+u(e._,r._));e.parent.A=i(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e,t,n){if(t){for(var r,i=e,s=e,o=t,a=i.parent.children[0],f=i.m,l=s.m,c=o.m,h=a.m;o=ks(o),i=Cs(i),o&&i;)a=Cs(a),s=ks(s),s.a=e,r=o.z+c-i.z-f+u(o._,i._),r>0&&(Ls(Os(o,e,n),e,r),f+=r,l+=r),c+=o.m,f+=i.m,h+=a.m,l+=s.m;o&&!ks(s)&&(s.t=o,s.m+=c-l),i&&!Cs(a)&&(a.t=i,a.m+=f-h,n=e)}return n}function s(e){e.x*=a[0],e.y=e.depth*a[1]}var o=nu.layout.hierarchy().sort(null).value(null),u=Ns,a=[1,1],f=null;return e.separation=function(t){return arguments.length?(u=t,e):u},e.size=function(t){return arguments.length?(f=null==(a=t)?s:null,e):f?null:a},e.nodeSize=function(t){return arguments.length?(f=null==(a=t)?null:s,e):f?a:null},Yi(e,o)},nu.layout.cluster=function(){function e(e,s){var o,u=t.call(this,e,s),a=u[0],f=0;es(a,function(e){var t=e.children;t&&t.length?(e.x=_s(t),e.y=Ms(t)):(e.x=o?f+=n(e,o):0,e.y=0,o=e)});var l=Ds(a),c=Ps(a),h=l.x-n(l,c)/2,p=c.x+n(c,l)/2;return es(a,i?function(e){e.x=(e.x-a.x)*r[0],e.y=(a.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(p-h)*r[0],e.y=(1-(a.y?e.y/a.y:1))*r[1]}),u}var t=nu.layout.hierarchy().sort(null).value(null),n=Ns,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},Yi(e,t)},nu.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,s=e.length;++i<s;)r=(n=e[i]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function t(n){var s=n.children;if(s&&s.length){var o,u,a,f=c(n),l=[],h=s.slice(),d=1/0,v="slice"===p?f.dx:"dice"===p?f.dy:"slice-dice"===p?1&n.depth?f.dy:f.dx:Math.min(f.dx,f.dy);for(e(h,f.dx*f.dy/n.value),l.area=0;(a=h.length)>0;)l.push(o=h[a-1]),l.area+=o.area,"squarify"!==p||(u=r(l,v))<=d?(h.pop(),d=u):(l.area-=l.pop().area,i(l,v,f,!1),v=Math.min(f.dx,f.dy),l.length=l.area=0,d=1/0);l.length&&(i(l,v,f,!0),l.length=l.area=0),s.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var s,o=c(t),u=r.slice(),a=[];for(e(u,o.dx*o.dy/t.value),a.area=0;s=u.pop();)a.push(s),a.area+=s.area,null!=s.z&&(i(a,s.z?o.dx:o.dy,o,!u.length),a.length=a.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,s=1/0,o=-1,u=e.length;++o<u;)(n=e[o].area)&&(s>n&&(s=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*d/r,r/(t*s*d)):1/0}function i(e,t,n,r){var i,s=-1,o=e.length,u=n.x,f=n.y,l=t?a(e.area/t):0;if(t==n.dx){for((r||l>n.dy)&&(l=n.dy);++s<o;)i=e[s],i.x=u,i.y=f,i.dy=l,u+=i.dx=Math.min(n.x+n.dx-u,l?a(i.area/l):0);i.z=!0,i.dx+=n.x+n.dx-u,n.y+=l,n.dy-=l}else{for((r||l>n.dx)&&(l=n.dx);++s<o;)i=e[s],i.x=u,i.y=f,i.dx=l,f+=i.dy=Math.min(n.y+n.dy-f,l?a(i.area/l):0);i.z=!1,i.dy+=n.y+n.dy-f,n.x+=l,n.dx-=l}}function s(r){var i=o||u(r),s=i[0];return s.x=0,s.y=0,s.dx=f[0],s.dy=f[1],o&&u.revalue(s),e([s],s.dx*s.dy/s.value),(o?n:t)(s),h&&(o=i),i}var o,u=nu.layout.hierarchy(),a=Math.round,f=[1,1],l=null,c=Hs,h=!1,p="squarify",d=.5*(1+Math.sqrt(5));return s.size=function(e){return arguments.length?(f=e,s):f},s.padding=function(e){function t(t){var n=e.call(s,t,t.depth);return null==n?Hs(t):Bs(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Bs(t,e)}if(!arguments.length)return l;var r;return c=null==(l=e)?Hs:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,s},s.round=function(e){return arguments.length?(a=e?Math.round:Number,s):a!=Number},s.sticky=function(e){return arguments.length?(h=e,o=null,s):h},s.ratio=function(e){return arguments.length?(d=e,s):d},s.mode=function(e){return arguments.length?(p=e+"",s):p},Yi(s,u)},nu.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=nu.random.normal.apply(nu,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=nu.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},nu.scale={};var bf={floor:y,ceil:y};nu.scale.linear=function(){return zs([0,1],[0,1],yi,!1)};var wf={s:1,g:1,p:1,r:1,e:1};nu.scale.log=function(){return Gs(nu.scale.linear().domain([0,1]),10,!0,[1,10])};var Ef=nu.format(".0e"),Sf={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};nu.scale.pow=function(){return Ys(nu.scale.linear(),1,[0,1])},nu.scale.sqrt=function(){return nu.scale.pow().exponent(.5)},nu.scale.ordinal=function(){return eo([],{t:"range",a:[[]]})},nu.scale.category10=function(){return nu.scale.ordinal().range(xf)},nu.scale.category20=function(){return nu.scale.ordinal().range(Tf)},nu.scale.category20b=function(){return nu.scale.ordinal().range(Nf)},nu.scale.category20c=function(){return nu.scale.ordinal().range(Cf)};var xf=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(bt),Tf=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(bt),Nf=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(bt),Cf=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(bt);nu.scale.quantile=function(){return to([],[])},nu.scale.quantize=function(){return no(0,1,[0,1])},nu.scale.threshold=function(){return ro([.5],[0,1])},nu.scale.identity=function(){return io([0,1])},nu.svg={},nu.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),f=Math.max(0,+r.apply(this,arguments)),l=o.apply(this,arguments)-Hu,c=u.apply(this,arguments)-Hu,h=Math.abs(c-l),p=l>c?0:1;if(e>f&&(d=f,f=e,e=d),h>=Pu)return t(f,p)+(e?t(e,1-p):"")+"Z";var d,v,m,g,y,b,w,E,S,x,T,N,C=0,k=0,L=[];if((g=(+a.apply(this,arguments)||0)/2)&&(m=s===kf?Math.sqrt(e*e+f*f):+s.apply(this,arguments),p||(k*=-1),f&&(k=tt(m/f*Math.sin(g))),e&&(C=tt(m/e*Math.sin(g)))),f){y=f*Math.cos(l+k),b=f*Math.sin(l+k),w=f*Math.cos(c-k),E=f*Math.sin(c-k);var A=Math.abs(c-l-2*k)<=_u?0:1;if(k&&co(y,b,w,E)===p^A){var O=(l+c)/2;y=f*Math.cos(O),b=f*Math.sin(O),w=E=null}}else y=b=0;if(e){S=e*Math.cos(c-C),x=e*Math.sin(c-C),T=e*Math.cos(l+C),N=e*Math.sin(l+C);var M=Math.abs(l-c+2*C)<=_u?0:1;if(C&&co(S,x,T,N)===1-p^M){var _=(l+c)/2;S=e*Math.cos(_),x=e*Math.sin(_),T=N=null}}else S=x=0;if((d=Math.min(Math.abs(f-e)/2,+i.apply(this,arguments)))>.001){v=f>e^p?0:1;var D=null==T?[S,x]:null==w?[y,b]:Dr([y,b],[T,N],[w,E],[S,x]),P=y-D[0],H=b-D[1],B=w-D[0],j=E-D[1],F=1/Math.sin(Math.acos((P*B+H*j)/(Math.sqrt(P*P+H*H)*Math.sqrt(B*B+j*j)))/2),I=Math.sqrt(D[0]*D[0]+D[1]*D[1]);if(null!=w){var q=Math.min(d,(f-I)/(F+1)),R=ho(null==T?[S,x]:[T,N],[y,b],f,q,p),U=ho([w,E],[S,x],f,q,p);d===q?L.push("M",R[0],"A",q,",",q," 0 0,",v," ",R[1],"A",f,",",f," 0 ",1-p^co(R[1][0],R[1][1],U[1][0],U[1][1]),",",p," ",U[1],"A",q,",",q," 0 0,",v," ",U[0]):L.push("M",R[0],"A",q,",",q," 0 1,",v," ",U[0])}else L.push("M",y,",",b);if(null!=T){var z=Math.min(d,(e-I)/(F-1)),W=ho([y,b],[T,N],e,-z,p),X=ho([S,x],null==w?[y,b]:[w,E],e,-z,p);d===z?L.push("L",X[0],"A",z,",",z," 0 0,",v," ",X[1],"A",e,",",e," 0 ",p^co(X[1][0],X[1][1],W[1][0],W[1][1]),",",1-p," ",W[1],"A",z,",",z," 0 0,",v," ",W[0]):L.push("L",X[0],"A",z,",",z," 0 0,",v," ",W[0])}else L.push("L",S,",",x)}else L.push("M",y,",",b),null!=w&&L.push("A",f,",",f," 0 ",A,",",p," ",w,",",E),L.push("L",S,",",x),null!=T&&L.push("A",e,",",e," 0 ",M,",",1-p," ",T,",",N);return L.push("Z"),L.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+ -e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=oo,r=uo,i=so,s=kf,o=ao,u=fo,a=lo;return e.innerRadius=function(t){return arguments.length?(n=Ct(t),e):n},e.outerRadius=function(t){return arguments.length?(r=Ct(t),e):r},e.cornerRadius=function(t){return arguments.length?(i=Ct(t),e):i},e.padRadius=function(t){return arguments.length?(s=t==kf?kf:Ct(t),e):s},e.startAngle=function(t){return arguments.length?(o=Ct(t),e):o},e.endAngle=function(t){return arguments.length?(u=Ct(t),e):u},e.padAngle=function(t){return arguments.length?(a=Ct(t),e):a},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +u.apply(this,arguments))/2-Hu;return[Math.cos(t)*e,Math.sin(t)*e]},e};var kf="auto";nu.svg.line=function(){return po(y)};var Lf=nu.map({linear:vo,"linear-closed":mo,step:go,"step-before":yo,"step-after":bo,basis:No,"basis-open":Co,"basis-closed":ko,bundle:Lo,cardinal:So,"cardinal-open":wo,"cardinal-closed":Eo,monotone:Po});Lf.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Af=[0,2/3,1/3,0],Of=[0,1/3,2/3,0],Mf=[0,1/6,2/3,1/6];nu.svg.line.radial=function(){var e=po(Ho);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},yo.reverse=bo,bo.reverse=yo,nu.svg.area=function(){return Bo(y)},nu.svg.area.radial=function(){var e=Bo(Ho);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},nu.svg.chord=function(){function e(e,u){var a=t(this,s,e,u),f=t(this,o,e,u);return"M"+a.p0+r(a.r,a.p1,a.a1-a.a0)+(n(a,f)?i(a.r,a.p1,a.r,a.p0):i(a.r,a.p1,f.r,f.p0)+r(f.r,f.p1,f.a1-f.a0)+i(f.r,f.p1,a.r,a.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),s=u.call(e,i,r),o=a.call(e,i,r)-Hu,l=f.call(e,i,r)-Hu;return{r:s,a0:o,a1:l,p0:[s*Math.cos(o),s*Math.sin(o)],p1:[s*Math.cos(l),s*Math.sin(l)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>_u)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var s=yr,o=br,u=jo,a=ao,f=fo;return e.radius=function(t){return arguments.length?(u=Ct(t),e):u},e.source=function(t){return arguments.length?(s=Ct(t),e):s},e.target=function(t){return arguments.length?(o=Ct(t),e):o},e.startAngle=function(t){return arguments.length?(a=Ct(t),e):a},e.endAngle=function(t){return arguments.length?(f=Ct(t),e):f},e},nu.svg.diagonal=function(){function e(e,i){var s=t.call(this,e,i),o=n.call(this,e,i),u=(s.y+o.y)/2,a=[s,{x:s.x,y:u},{x:o.x,y:u},o];return a=a.map(r),"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var t=yr,n=br,r=Fo;return e.source=function(n){return arguments.length?(t=Ct(n),e):t},e.target=function(t){return arguments.length?(n=Ct(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},nu.svg.diagonal.radial=function(){var e=nu.svg.diagonal(),t=Fo,n=e.projection;return e.projection=function(e){return arguments.length?n(Io(t=e)):t},e},nu.svg.symbol=function(){function e(e,r){return(_f.get(t.call(this,e,r))||Uo)(n.call(this,e,r))}var t=Ro,n=qo;return e.type=function(n){return arguments.length?(t=Ct(n),e):t},e.size=function(t){return arguments.length?(n=Ct(t),e):n},e};var _f=nu.map({circle:Uo,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+ -3*t+","+ -t+"H"+ -t+"V"+ -3*t+"H"+t+"V"+ -t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+ -t+"V"+t+"H"+ -3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Pf)),n=t*Pf;return"M0,"+ -t+"L"+n+",0 0,"+t+" "+ -n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+ -t+","+ -t+"L"+t+","+ -t+" "+t+","+t+" "+ -t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Df),n=t*Df/2;return"M0,"+n+"L"+t+","+ -n+" "+ -t+","+ -n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Df),n=t*Df/2;return"M0,"+ -n+"L"+t+","+n+" "+ -t+","+n+"Z"}});nu.svg.symbolTypes=_f.keys();var Df=Math.sqrt(3),Pf=Math.tan(30*Bu);xu.transition=function(e){for(var t,n,r=Hf||++If,i=$o(e),s=[],o=Bf||{time:Date.now(),ease:Ni,delay:0,duration:250},u=-1,a=this.length;++u<a;){s.push(t=[]);for(var f=this[u],l=-1,c=f.length;++l<c;)(n=f[l])&&Jo(n,l,i,r,o),t.push(n)}return Wo(s,i,r)},xu.interrupt=function(e){return this.each(null==e?jf:zo($o(e)))};var Hf,Bf,jf=zo($o()),Ff=[],If=0;Ff.call=xu.call,Ff.empty=xu.empty,Ff.node=xu.node,Ff.size=xu.size,nu.transition=function(e,t){return e&&e.transition?Hf?e.transition(t):e:nu.selection().transition(e)},nu.transition.prototype=Ff,Ff.select=function(e){var t,n,r,i=this.id,s=this.namespace,o=[];e=L(e);for(var u=-1,a=this.length;++u<a;){o.push(t=[]);for(var f=this[u],l=-1,c=f.length;++l<c;)(r=f[l])&&(n=e.call(r,r.__data__,l,u))?("__data__"in r&&(n.__data__=r.__data__),Jo(n,l,s,i,r[s][i]),t.push(n)):t.push(null)}return Wo(o,s,i)},Ff.selectAll=function(e){var t,n,r,i,s,o=this.id,u=this.namespace,a=[];e=A(e);for(var f=-1,l=this.length;++f<l;)for(var c=this[f],h=-1,p=c.length;++h<p;)if(r=c[h]){s=r[u][o],n=e.call(r,r.__data__,h,f),a.push(t=[]);for(var d=-1,v=n.length;++d<v;)(i=n[d])&&Jo(i,d,u,o,s),t.push(i)}return Wo(a,u,o)},Ff.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=R(e));for(var s=0,o=this.length;o>s;s++){i.push(t=[]);for(var n=this[s],u=0,a=n.length;a>u;u++)(r=n[u])&&e.call(r,r.__data__,u,s)&&t.push(r)}return Wo(i,this.namespace,this.id)},Ff.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):z(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Ff.attr=function(e,t){function n(){this.removeAttribute(u)}function r(){this.removeAttributeNS(u.space,u.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(u);return n!==e&&(t=o(n,e),function(e){this.setAttribute(u,t(e))})})}function s(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(u.space,u.local);return n!==e&&(t=o(n,e),function(e){this.setAttributeNS(u.space,u.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var o="transform"==e?Ri:yi,u=nu.ns.qualify(e);return Xo(this,"attr."+e,t,u.local?s:i)},Ff.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=nu.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},Ff.style=function(e,n,r){function i(){this.style.removeProperty(e)}function s(n){return null==n?i:(n+="",function(){var i,s=t(this).getComputedStyle(this,null).getPropertyValue(e);return s!==n&&(i=yi(s,n),function(t){this.style.setProperty(e,i(t),r)})})}var o=arguments.length;if(3>o){if("string"!=typeof e){2>o&&(n="");for(r in e)this.style(r,e[r],n);return this}r=""}return Xo(this,"style."+e,n,s)},Ff.styleTween=function(e,n,r){function i(i,s){var o=n.call(this,i,s,t(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+e,i)},Ff.text=function(e){return Xo(this,"text",e,Vo)},Ff.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Ff.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=nu.ease.apply(nu,arguments)),z(this,function(r){r[n][t].ease=e}))},Ff.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:z(this,"function"==typeof e?function(r,i,s){r[n][t].delay=+e.call(r,r.__data__,i,s)}:(e=+e,function(r){r[n][t].delay=e}))},Ff.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:z(this,"function"==typeof e?function(r,i,s){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,s))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Ff.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Bf,s=Hf;try{Hf=n,z(this,function(t,i,s){Bf=t[r][n],e.call(t,t.__data__,i,s)})}finally{Bf=i,Hf=s}}else z(this,function(i){var s=i[r][n];(s.event||(s.event=nu.dispatch("start","end","interrupt"))).on(e,t)});return this},Ff.transition=function(){for(var e,t,n,r,i=this.id,s=++If,o=this.namespace,u=[],a=0,f=this.length;f>a;a++){u.push(e=[]);for(var t=this[a],l=0,c=t.length;c>l;l++)(n=t[l])&&(r=n[o][i],Jo(n,l,o,s,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),e.push(n)}return Wo(u,o,s)},nu.svg.axis=function(){function e(e){e.each(function(){var e,f=nu.select(this),l=this.__chart__||n,c=this.__chart__=n.copy(),h=null==a?c.ticks?c.ticks.apply(c,u):c.domain():a,p=null==t?c.tickFormat?c.tickFormat.apply(c,u):y:t,d=f.selectAll(".tick").data(h,c),v=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Ou),m=nu.transition(d.exit()).style("opacity",Ou).remove(),g=nu.transition(d.order()).style("opacity",1),b=Math.max(i,0)+o,w=Fs(c),E=f.selectAll(".domain").data([0]),S=(E.enter().append("path").attr("class","domain"),nu.transition(E));v.append("line"),v.append("text");var x,T,N,C,k=v.select("line"),L=g.select("line"),A=d.select("text").text(p),O=v.select("text"),M=g.select("text"),_="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=Ko,x="x",N="y",T="x2",C="y2",A.attr("dy",0>_?"0em":".71em").style("text-anchor","middle"),S.attr("d","M"+w[0]+","+_*s+"V0H"+w[1]+"V"+_*s)):(e=Qo,x="y",N="x",T="y2",C="x2",A.attr("dy",".32em").style("text-anchor",0>_?"end":"start"),S.attr("d","M"+_*s+","+w[0]+"H0V"+w[1]+"H"+_*s)),k.attr(C,_*i),O.attr(N,_*b),L.attr(T,0).attr(C,_*i),M.attr(x,0).attr(N,_*b),c.rangeBand){var D=c,P=D.rangeBand()/2;l=c=function(e){return D(e)+P}}else l.rangeBand?l=c:m.call(e,c,l);v.call(e,l,c),g.call(e,c,c)})}var t,n=nu.scale.linear(),r=qf,i=6,s=6,o=3,u=[10],a=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Rf?t+"":qf,e):r},e.ticks=function(){return arguments.length?(u=arguments,e):u},e.tickValues=function(t){return arguments.length?(a=t,e):a},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,s=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(s=+t,e):s},e.tickPadding=function(t){return arguments.length?(o=+t,e):o},e.tickSubdivide=function(){return arguments.length&&e},e};var qf="bottom",Rf={top:1,right:1,bottom:1,left:1};nu.svg.brush=function(){function e(t){t.each(function(){var t=nu.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",s).on("touchstart.brush",s),o=t.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var u=t.selectAll(".resize").data(v,y);u.exit().remove(),u.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Uf[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),u.style("display",e.empty()?"none":null);var a,c=nu.transition(t),h=nu.transition(o);f&&(a=Fs(f),h.attr("x",a[0]).attr("width",a[1]-a[0]),r(c)),l&&(a=Fs(l),h.attr("y",a[0]).attr("height",a[1]-a[0]),i(c)),n(c)})}function n(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+c[+/e$/.test(e)]+","+h[+/^s/.test(e)]+")"})}function r(e){e.select(".extent").attr("x",c[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function i(e){e.select(".extent").attr("y",h[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function s(){function s(){32==nu.event.keyCode&&(A||(b=null,M[0]-=c[1],M[1]-=h[1],A=2),T())}function v(){32==nu.event.keyCode&&2==A&&(M[0]+=c[1],M[1]+=h[1],A=0,T())}function m(){var e=nu.mouse(E),t=!1;w&&(e[0]+=w[0],e[1]+=w[1]),A||(nu.event.altKey?(b||(b=[(c[0]+c[1])/2,(h[0]+h[1])/2]),M[0]=c[+(e[0]<b[0])],M[1]=h[+(e[1]<b[1])]):b=null),k&&g(e,f,0)&&(r(N),t=!0),L&&g(e,l,1)&&(i(N),t=!0),t&&(n(N),x({type:"brush",mode:A?"move":"resize"}))}function g(e,t,n){var r,i,s=Fs(t),a=s[0],f=s[1],l=M[n],v=n?h:c,m=v[1]-v[0];return A&&(a-=l,f-=m+l),r=(n?d:p)?Math.max(a,Math.min(f,e[n])):e[n],A?i=(r+=l)+m:(b&&(l=Math.max(a,Math.min(f,2*b[n]-r))),r>l?(i=r,r=l):i=l),v[0]!=r||v[1]!=i?(n?u=null:o=null,v[0]=r,v[1]=i,!0):void 0}function y(){m(),N.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),nu.select("body").style("cursor",null),_.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),O(),x({type:"brushend"})}var b,w,E=this,S=nu.select(nu.event.target),x=a.of(E,arguments),N=nu.select(E),C=S.datum(),k=!/^(n|s)$/.test(C)&&f,L=!/^(e|w)$/.test(C)&&l,A=S.classed("extent"),O=K(E),M=nu.mouse(E),_=nu.select(t(E)).on("keydown.brush",s).on("keyup.brush",v);if(nu.event.changedTouches?_.on("touchmove.brush",m).on("touchend.brush",y):_.on("mousemove.brush",m).on("mouseup.brush",y),N.interrupt().selectAll("*").interrupt(),A)M[0]=c[0]-M[0],M[1]=h[0]-M[1];else if(C){var D=+/w$/.test(C),P=+/^n/.test(C);w=[c[1-D]-M[0],h[1-P]-M[1]],M[0]=c[D],M[1]=h[P]}else nu.event.altKey&&(b=M.slice());N.style("pointer-events","none").selectAll(".resize").style("display",null),nu.select("body").style("cursor",S.style("cursor")),x({type:"brushstart"}),m()}var o,u,a=C(e,"brushstart","brush","brushend"),f=null,l=null,c=[0,0],h=[0,0],p=!0,d=!0,v=zf[0];return e.event=function(e){e.each(function(){var e=a.of(this,arguments),t={x:c,y:h,i:o,j:u},n=this.__chart__||t;this.__chart__=t,Hf?nu.select(this).transition().each("start.brush",function(){o=n.i,u=n.j,c=n.x,h=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=bi(c,t.x),r=bi(h,t.y);return o=u=null,function(i){c=t.x=n(i),h=t.y=r(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,u=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(f=t,v=zf[!f<<1|!l],e):f},e.y=function(t){return arguments.length?(l=t,v=zf[!f<<1|!l],e):l},e.clamp=function(t){return arguments.length?(f&&l?(p=!!t[0],d=!!t[1]):f?p=!!t:l&&(d=!!t),e):f&&l?[p,d]:f?p:l?d:null},e.extent=function(t){var n,r,i,s,a;return arguments.length?(f&&(n=t[0],r=t[1],l&&(n=n[0],r=r[0]),o=[n,r],f.invert&&(n=f(n),r=f(r)),n>r&&(a=n,n=r,r=a),(n!=c[0]||r!=c[1])&&(c=[n,r])),l&&(i=t[0],s=t[1],f&&(i=i[1],s=s[1]),u=[i,s],l.invert&&(i=l(i),s=l(s)),i>s&&(a=i,i=s,s=a),(i!=h[0]||s!=h[1])&&(h=[i,s])),e):(f&&(o?(n=o[0],r=o[1]):(n=c[0],r=c[1],f.invert&&(n=f.invert(n),r=f.invert(r)),n>r&&(a=n,n=r,r=a))),l&&(u?(i=u[0],s=u[1]):(i=h[0],s=h[1],l.invert&&(i=l.invert(i),s=l.invert(s)),i>s&&(a=i,i=s,s=a))),f&&l?[[n,i],[r,s]]:f?[n,r]:l&&[i,s])},e.clear=function(){return e.empty()||(c=[0,0],h=[0,0],o=u=null),e},e.empty=function(){return!!f&&c[0]==c[1]||!!l&&h[0]==h[1]},nu.rebind(e,a,"on")};var Uf={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},zf=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Wf=aa.format=da.timeFormat,Xf=Wf.utc,Vf=Xf("%Y-%m-%dT%H:%M:%S.%LZ");Wf.iso=Date.prototype.toISOString&&+(new Date("2000-01-01T00:00:00.000Z"))?Go:Vf,Go.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Go.toString=Vf.toString,aa.second=It(function(e){return new fa(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),aa.seconds=aa.second.range,aa.seconds.utc=aa.second.utc.range,aa.minute=It(function(e){return new fa(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),aa.minutes=aa.minute.range,aa.minutes.utc=aa.minute.utc.range,aa.hour=It(function(e){var t=e.getTimezoneOffset()/60;return new fa(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),aa.hours=aa.hour.range,aa.hours.utc=aa.hour.utc.range,aa.month=It(function(e){return e=aa.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),aa.months=aa.month.range,aa.months.utc=aa.month.utc.range;var $f=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Jf=[[aa.second,1],[aa.second,5],[aa.second,15],[aa.second,30],[aa.minute,1],[aa.minute,5],[aa.minute,15],[aa.minute,30],[aa.hour,1],[aa.hour,3],[aa.hour,6],[aa.hour,12],[aa.day,1],[aa.day,2],[aa.week,1],[aa.month,1],[aa.month,3],[aa.year,1]],Kf=Wf.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",An]]),Qf={range:function(e,t,n){return nu.range(Math.ceil(e/n)*n,+t,n).map(Zo)},floor:y,ceil:y};Jf.year=aa.year,aa.scale=function(){return Yo(nu.scale.linear(),Jf,Kf)};var Gf=Jf.map(function(e){return[e[0].utc,e[1]]}),Yf=Xf.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",An]]);Gf.year=aa.year.utc,aa.scale.utc=function(){return Yo(nu.scale.linear(),Gf,Yf)},nu.text=kt(function(e){return e.responseText}),nu.json=function(e,t){return Lt(e,"application/json",eu,t)},nu.html=function(e,t){return Lt(e,"text/html",tu,t)},nu.xml=kt(function(e){return e.responseXML}),"function"==typeof define&&define.amd?define("d3",nu):"object"==typeof module&&module.exports&&(module.exports=nu),this.d3=nu}(),define("newWidgets/widgets/launchStatisticsChart/LaunchStatisticsChartCommonView",["require","jquery","underscore","newWidgets/_C3ChartWidgetView","defectType/SingletonDefectTypeCollection","filters/SingletonLaunchFilterCollection","localization","d3","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("newWidgets/_C3ChartWidgetView"),i=e("defectType/SingletonDefectTypeCollection"),s=e("filters/SingletonLaunchFilterCollection"),o=e("localization"),u=e("d3"),a=e("app"),f=a.getInstance(),l=r.extend({tooltipTemplate:"tpl-widget-launch-statistics-chart-tooltip",render:function(){var e;this.isTimeLine=!!this.model.getWidgetOptions().timeline,this.isZoomEnabled=!!this.model.getWidgetOptions().zoom,this.isTimeLine?(e=[],n.each(this.model.getContent(),function(t,n){e.push({date:n,values:t[0].values})}),this.$el.addClass("timeline-mode")):e=this.model.getContent().result,this.scrollers=[],this.isPreview&&this.$el.addClass("preview-view");if(!this.isTimeLine&&!this.isDataExists()||this.isTimeLine&&n.isEmpty(this.model.getContent())){this.addNoAvailableBock();return}this.defectTypesCollection=new i,this.launchFilterCollection=new s,this.defectTypesCollection.ready.done(function(){this.launchFilterCollection.ready.done(function(){this.drawChart(t("[data-js-chart-container]",this.$el),e)}.bind(this))}.bind(this))},getProcessedData:function(e){var t=this.model.getContentFields(),r={},i={columns:[],colors:{},itemNames:[],itemsData:[],isSingleColumn:!1};return n.each(e[0].values,function(e,t){var s;r[t]=[t],~t.indexOf("$executions$")||~t.indexOf("$total")?i.colors[t]=f.defaultColors[t.split("$")[2]]:(s=n.find(this.defectTypesCollection.models,function(e){return e.get("locator")===t.split("$")[3]}),s&&(i.colors[t]=s.get("color")))}.bind(this)),this.isTimeLine?n.each(e,function(e){i.itemsData.push({date:e.date}),n.each(e.values,function(e,t){r[t].push(+e)})}):n.each(e,function(e){i.itemsData.push({id:e.id,name:e.name,number:e.number,startTime:e.startTime}),n.each(e.values,function(e,t){r[t].push(+e)})}),i.isSingleColumn=i.itemsData.length<2,n.each(t,function(e){i.columns.push(r[e])}),i.itemNames=n.map(i.columns,function(e){return e[0]}),i},setupLegend:function(e){var r=this;u.select(this.chart.element).insert("div",".chart").attr("class","legend").insert("div",".legend").attr("data-js-legend-wrapper","").selectAll("span").data(e.itemNames).enter().append("span").attr("data-id",function(e){return e}).html(function(e){var t,i;return~e.indexOf("$executions$")||~e.indexOf("$total")?t=o.filterNameById[e]:(i=n.find(r.defectTypesCollection.models,function(t){return t.get("locator")===e.split("$")[3]}),i?t=i.get("longName"):t=e.split("$")[3]),'<div class="color-mark"></div>'+t}).each(function(e){~r.hiddenItems.indexOf(e)&&t(".color-mark",t(this)).addClass("unchecked"),u.select(this).select(".color-mark").style("background-color",r.chart.color(e))}).on("mouseover",function(e){r.chart.focus(e)}).on("mouseout",function(e){r.chart.revert()}).on("click",function(e){t(".color-mark",t(this)).hasClass("unchecked")?(t(".color-mark",t(this)).removeClass("unchecked"),t(".c3-target-"+e.replaceAll(/[$_]/,"-"),r.$el).show()):(t(".color-mark",t(this)).addClass("unchecked"),t(".c3-target-"+e.replaceAll(/[$_]/,"-"),r.$el).hide()),r.chart.toggle(e)}),u.select(this.chart.element).select(".legend").append("div").attr("class","legend-gradient").append("div").attr("class","legend-border")},destroyLegend:function(){return u.selectAll(t("[data-js-legend-wrapper] span",this.$el)).on("click mouseover mouseout",null),t(".legend",this.$el).remove(),!0},onBeforeDestroy:function(){this.destroyLegend(),this.chart&&this.removeChartListeners(),this.chart&&(this.chart=this.chart.destroy()),n.each(this.scrollers,function(e){e.baron&&e.baron().dispose()})}});return l}),function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define("c3",t):e.c3=t()}(this,function(){"use strict";function y(e,t){function p(e,t){e.attr("transform",function(e){return"translate("+Math.ceil(t(e)+l)+", 0)"})}function d(e,t){e.attr("transform",function(e){return"translate(0,"+Math.ceil(t(e))+")"})}function v(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function m(e){var t,n,r=[];if(e.ticks)return e.ticks.apply(e,f);n=e.domain();for(t=Math.ceil(n[0]);t<n[1];t++)r.push(t);return r.length>0&&r[0]>0&&r.unshift(r[0]-(r[1]-r[0])),r}function y(){var e=n.copy(),r;return t.isCategory&&(r=n.domain(),e.domain([r[0],r[1]-1])),e}function b(e){var t=a?a(e):e;return typeof t!="undefined"?t:""}function w(e){if(g)return g;var t={h:11.5,w:5.5};return e.select("text").text(b).each(function(e){var n=this.getBoundingClientRect(),r=b(e),i=n.height,s=r?n.width/r.length:undefined;i&&s&&(t.h=i,t.w=s)}).text(""),g=t,t}function E(n){return t.withoutTransition?n:e.transition(n)}function S(a){a.each(function(){function z(e,n){function a(e,t){s=undefined;for(var r=1;r<t.length;r++){t.charAt(r)===" "&&(s=r),i=t.substr(0,r+1),o=I.w*i.length;if(n<o)return a(e.concat(t.substr(0,s?s:r)),t.slice(s?s+1:r))}return e.concat(t)}var r=b(e),i,s,o,u=[];if(Object.prototype.toString.call(r)==="[object Array]")return r;if(!n||n<=0)n=U?95:t.isCategory?Math.ceil(c(g[1])-c(g[0]))-12:110;return a(u,r+"")}function W(e,t){var n=I.h;return t===0&&(r==="left"||r==="right"?n=-((q[e.index]-1)*(I.h/2)-3):n=".71em"),n}function X(e){var t=n(e)+(h?0:l);return O[0]<t&&t<O[1]?i:0}function $(e){return e?e>0?"start":"end":"middle"}function J(e){return e?"rotate("+e+")":""}function K(e){return e?8*Math.sin(Math.PI*(e/180)):0}function Q(e){return e?11.5-2.5*(e/15)*(e>0?1:-1):R}var a=S.g=e.select(this),f=this.__chart__||n,c=this.__chart__=y(),g=u?u:m(c),x=a.selectAll(".tick").data(g,c),T=x.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),N=x.exit().remove(),C=E(x).style("opacity",1),k,L,A,O=n.rangeExtent?n.rangeExtent():v(n.range()),M=a.selectAll(".domain").data([0]),_=(M.enter().append("path").attr("class","domain"),E(M));T.append("line"),T.append("text");var D=T.select("line"),P=C.select("line"),H=T.select("text"),B=C.select("text");t.isCategory?(l=Math.ceil((c(1)-c(0))/2),L=h?0:l,A=h?l:0):l=L=0;var j,F,I=w(a.select(".tick")),q=[],R=Math.max(i,0)+o,U=r==="left"||r==="right";j=x.select("text"),F=j.selectAll("tspan").data(function(e,n){var r=t.tickMultiline?z(e,t.tickWidth):[].concat(b(e));return q[n]=r.length,r.map(function(e){return{index:n,splitted:e}})}),F.enter().append("tspan"),F.exit().remove(),F.text(function(e){return e.splitted});var V=t.tickTextRotate;switch(r){case"bottom":k=p,D.attr("y2",i),H.attr("y",R),P.attr("x1",L).attr("x2",L).attr("y2",X),B.attr("x",0).attr("y",Q(V)).style("text-anchor",$(V)).attr("transform",J(V)),F.attr("x",0).attr("dy",W).attr("dx",K(V)),_.attr("d","M"+O[0]+","+s+"V0H"+O[1]+"V"+s);break;case"top":k=p,D.attr("y2",-i),H.attr("y",-R),P.attr("x2",0).attr("y2",-i),B.attr("x",0).attr("y",-R),j.style("text-anchor","middle"),F.attr("x",0).attr("dy","0em"),_.attr("d","M"+O[0]+","+ -s+"V0H"+O[1]+"V"+ -s);break;case"left":k=d,D.attr("x2",-i),H.attr("x",-R),P.attr("x2",-i).attr("y1",A).attr("y2",A),B.attr("x",-R).attr("y",l),j.style("text-anchor","end"),F.attr("x",-R).attr("dy",W),_.attr("d","M"+ -s+","+O[0]+"H0V"+O[1]+"H"+ -s);break;case"right":k=d,D.attr("x2",i),H.attr("x",R),P.attr("x2",i).attr("y2",0),B.attr("x",R).attr("y",0),j.style("text-anchor","start"),F.attr("x",R).attr("dy",W),_.attr("d","M"+s+","+O[0]+"H0V"+O[1]+"H"+s)}if(c.rangeBand){var G=c,Y=G.rangeBand()/2;f=c=function(t){return G(t)+Y}}else f.rangeBand?f=c:N.call(k,c);T.call(k,f),C.call(k,c)})}var n=e.scale.linear(),r="bottom",i=6,s,o=3,u=null,a,f,l=0,c=!0,h;return t=t||{},s=t.withOuterTick?6:0,S.scale=function(e){return arguments.length?(n=e,S):n},S.orient=function(e){return arguments.length?(r=e in{top:1,right:1,bottom:1,left:1}?e+"":"bottom",S):r},S.tickFormat=function(e){return arguments.length?(a=e,S):a},S.tickCentered=function(e){return arguments.length?(h=e,S):h},S.tickOffset=function(){return l},S.tickInterval=function(){var e,n;return t.isCategory?e=l*2:(n=S.g.select("path.domain").node().getTotalLength()-s*2,e=n/S.g.selectAll("line").size()),e===Infinity?0:e},S.ticks=function(){return arguments.length?(f=arguments,S):f},S.tickCulling=function(e){return arguments.length?(c=e,S):c},S.tickValues=function(e){if(typeof e=="function")u=function(){return e(n.domain())};else{if(!arguments.length)return u;u=e}return S},S}function b(e){T.call(this,e)}function T(e){this.owner=e}function N(e,t){if(Object.create)t.prototype=Object.create(e.prototype);else{var n=function(){};n.prototype=e.prototype,t.prototype=new n}return t.prototype.constructor=t,t}function C(e){var t=this.internal=new k(this);t.loadConfig(e),t.beforeInit(e),t.init(),t.afterInit(e),function n(e,t,r){Object.keys(e).forEach(function(i){t[i]=e[i].bind(r),Object.keys(e[i]).length>0&&n(e[i],t[i],r)})}(E,this,this)}function k(e){var t=this;t.d3=window.d3?window.d3:typeof require!="undefined"?require("d3"):undefined,t.api=e,t.config=t.getDefaultConfig(),t.data={},t.cache={},t.axes={}}var e={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(t){return t||t===0},r=function(t){return typeof t=="function"},i=function(t){return Array.isArray(t)},s=function(t){return typeof t=="string"},o=function(t){return typeof t=="undefined"},u=function(t){return typeof t!="undefined"},a=function(t){return Math.ceil(t/10)*10},f=function(t){return Math.ceil(t)+.5},l=function(t){return t[1]-t[0]},c=function(n){return typeof n=="undefined"||n===null||s(n)&&n.length===0||(typeof n=="undefined"?"undefined":t(n))==="object"&&Object.keys(n).length===0},h=function(t){return!S.isEmpty(t)},p=function(t,n,r){return u(t[n])?t[n]:r},d=function(t,n){var r=!1;return Object.keys(t).forEach(function(e){t[e]===n&&(r=!0)}),r},v=function(t){return typeof t=="string"?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},m=function(t){var n=t.getBoundingClientRect(),r=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)],i=r[0].x,s=Math.min(r[0].y,r[1].y);return{x:i,y:s,width:n.width,height:n.height}},g;N(T,b),b.prototype.init=function(){var n=this.owner,r=n.config,i=n.main;n.axes.x=i.append("g").attr("class",e.axis+" "+e.axisX).attr("clip-path",n.clipPathForXAxis).attr("transform",n.getTranslate("x")).style("visibility",r.axis_x_show?"visible":"hidden"),n.axes.x.append("text").attr("class",e.axisXLabel).attr("transform",r.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),n.axes.y=i.append("g").attr("class",e.axis+" "+e.axisY).attr("clip-path",r.axis_y_inner?"":n.clipPathForYAxis).attr("transform",n.getTranslate("y")).style("visibility",r.axis_y_show?"visible":"hidden"),n.axes.y.append("text").attr("class",e.axisYLabel).attr("transform",r.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),n.axes.y2=i.append("g").attr("class",e.axis+" "+e.axisY2).attr("transform",n.getTranslate("y2")).style("visibility",r.axis_y2_show?"visible":"hidden"),n.axes.y2.append("text").attr("class",e.axisY2Label).attr("transform",r.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},b.prototype.getXAxis=function(t,n,r,i,s,o,u){var a=this.owner,f=a.config,l={isCategory:a.isCategorized(),withOuterTick:s,tickMultiline:f.axis_x_tick_multiline,tickWidth:f.axis_x_tick_width,tickTextRotate:u?0:f.axis_x_tick_rotate,withoutTransition:o},h=y(a.d3,l).scale(t).orient(n);return a.isTimeSeries()&&i&&typeof i!="function"&&(i=i.map(function(e){return a.parseDate(e)})),h.tickFormat(r).tickValues(i),a.isCategorized()&&(h.tickCentered(f.axis_x_tick_centered),c(f.axis_x_tick_culling)&&(f.axis_x_tick_culling=!1)),h},b.prototype.updateXAxisTickValues=function(t,n){var r=this.owner,i=r.config,s;if(i.axis_x_tick_fit||i.axis_x_tick_count)s=this.generateTickValues(r.mapTargetsToUniqueXs(t),i.axis_x_tick_count,r.isTimeSeries());return n?n.tickValues(s):(r.xAxis.tickValues(s),r.subXAxis.tickValues(s)),s},b.prototype.getYAxis=function(t,n,r,i,s,o,u){var a=this.owner,f=a.config,l={withOuterTick:s,withoutTransition:o,tickTextRotate:u?0:f.axis_y_tick_rotate},c=y(a.d3,l).scale(t).orient(n).tickFormat(r);return a.isTimeSeriesY()?c.ticks(a.d3.time[f.axis_y_tick_time_value],f.axis_y_tick_time_interval):c.tickValues(i),c},b.prototype.getId=function(t){var n=this.owner.config;return t in n.data_axes?n.data_axes[t]:"y"},b.prototype.getXAxisTickFormat=function(){var t=this.owner,n=t.config,i=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(e){return e<0?e.toFixed(0):e};return n.axis_x_tick_format&&(r(n.axis_x_tick_format)?i=n.axis_x_tick_format:t.isTimeSeries()&&(i=function(r){return r?t.axisTimeFormat(n.axis_x_tick_format)(r):""})),r(i)?function(e){return i.call(t,e)}:i},b.prototype.getTickValues=function(t,n){return t?t:n?n.tickValues():undefined},b.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},b.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},b.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},b.prototype.getLabelOptionByAxisId=function(t){var n=this.owner,r=n.config,i;return t==="y"?i=r.axis_y_label:t==="y2"?i=r.axis_y2_label:t==="x"&&(i=r.axis_x_label),i},b.prototype.getLabelText=function(t){var n=this.getLabelOptionByAxisId(t);return s(n)?n:n?n.text:null},b.prototype.setLabelText=function(t,n){var r=this.owner,i=r.config,o=this.getLabelOptionByAxisId(t);s(o)?t==="y"?i.axis_y_label=n:t==="y2"?i.axis_y2_label=n:t==="x"&&(i.axis_x_label=n):o&&(o.text=n)},b.prototype.getLabelPosition=function(n,r){var i=this.getLabelOptionByAxisId(n),s=i&&(typeof i=="undefined"?"undefined":t(i))==="object"&&i.position?i.position:r;return{isInner:s.indexOf("inner")>=0,isOuter:s.indexOf("outer")>=0,isLeft:s.indexOf("left")>=0,isCenter:s.indexOf("center")>=0,isRight:s.indexOf("right")>=0,isTop:s.indexOf("top")>=0,isMiddle:s.indexOf("middle")>=0,isBottom:s.indexOf("bottom")>=0}},b.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},b.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},b.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},b.prototype.getLabelPositionById=function(t){return t==="y2"?this.getY2AxisLabelPosition():t==="y"?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},b.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},b.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},b.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},b.prototype.xForAxisLabel=function(t,n){var r=this.owner;return t?n.isLeft?0:n.isCenter?r.width/2:r.width:n.isBottom?-r.height:n.isMiddle?-r.height/2:0},b.prototype.dxForAxisLabel=function(t,n){return t?n.isLeft?"0.5em":n.isRight?"-0.5em":"0":n.isTop?"-0.5em":n.isBottom?"0.5em":"0"},b.prototype.textAnchorForAxisLabel=function(t,n){return t?n.isLeft?"start":n.isCenter?"middle":"end":n.isBottom?"start":n.isMiddle?"middle":"end"},b.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},b.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},b.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},b.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},b.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},b.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},b.prototype.dyForXAxisLabel=function(){var t=this.owner,n=t.config,r=this.getXAxisLabelPosition();return n.axis_rotated?r.isInner?"1.2em":-25-this.getMaxTickWidth("x"):r.isInner?"-0.5em":n.axis_x_height?n.axis_x_height-10:"3em"},b.prototype.dyForYAxisLabel=function(){var t=this.owner,n=this.getYAxisLabelPosition();return t.config.axis_rotated?n.isInner?"-0.5em":"3em":n.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},b.prototype.dyForY2AxisLabel=function(){var t=this.owner,n=this.getY2AxisLabelPosition();return t.config.axis_rotated?n.isInner?"1.2em":"-2.2em":n.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},b.prototype.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},b.prototype.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},b.prototype.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},b.prototype.getMaxTickWidth=function(t,n){var r=this.owner,i=r.config,s=0,o,u,a,f,l;return n&&r.currentMaxTickWidths[t]?r.currentMaxTickWidths[t]:(r.svg&&(o=r.filterTargetsToShow(r.data.targets),t==="y"?(u=r.y.copy().domain(r.getYDomain(o,"y")),a=this.getYAxis(u,r.yOrient,i.axis_y_tick_format,r.yAxisTickValues,!1,!0,!0)):t==="y2"?(u=r.y2.copy().domain(r.getYDomain(o,"y2")),a=this.getYAxis(u,r.y2Orient,i.axis_y2_tick_format,r.y2AxisTickValues,!1,!0,!0)):(u=r.x.copy().domain(r.getXDomain(o)),a=this.getXAxis(u,r.xOrient,r.xAxisTickFormat,r.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(o,a)),f=r.d3.select("body").append("div").classed("c3",!0),l=f.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),l.append("g").call(a).each(function(){r.d3.select(this).selectAll("text").each(function(){var e=this.getBoundingClientRect();s<e.width&&(s=e.width)}),f.remove()})),r.currentMaxTickWidths[t]=s<=0?r.currentMaxTickWidths[t]:s,r.currentMaxTickWidths[t])},b.prototype.updateLabels=function(n){var r=this.owner,i=r.main.select("."+e.axisX+" ."+e.axisXLabel),s=r.main.select("."+e.axisY+" ."+e.axisYLabel),o=r.main.select("."+e.axisY2+" ."+e.axisY2Label);(n?i.transition():i).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(n?s.transition():s).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(n?o.transition():o).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},b.prototype.getPadding=function(t,r,i,s){var o=typeof t=="number"?t:t[r];return n(o)?t.unit==="ratio"?t[r]*s:this.convertPixelsToAxisPadding(o,s):i},b.prototype.convertPixelsToAxisPadding=function(t,n){var r=this.owner,i=r.config.axis_rotated?r.width:r.height;return n*(t/i)},b.prototype.generateTickValues=function(t,n,i){var s=t,o,u,a,f,l,c,h;if(n){o=r(n)?n():n;if(o===1)s=[t[0]];else if(o===2)s=[t[0],t[t.length-1]];else if(o>2){f=o-2,u=t[0],a=t[t.length-1],l=(a-u)/(f+1),s=[u];for(c=0;c<f;c++)h=+u+l*(c+1),s.push(i?new Date(h):h);s.push(a)}}return i||(s=s.sort(function(e,t){return e-t})),s},b.prototype.generateTransitions=function(t){var n=this.owner,r=n.axes;return{axisX:t?r.x.transition().duration(t):r.x,axisY:t?r.y.transition().duration(t):r.y,axisY2:t?r.y2.transition().duration(t):r.y2,axisSubX:t?r.subx.transition().duration(t):r.subx}},b.prototype.redraw=function(t,n){var r=this.owner;r.axes.x.style("opacity",n?0:1),r.axes.y.style("opacity",n?0:1),r.axes.y2.style("opacity",n?0:1),r.axes.subx.style("opacity",n?0:1),t.axisX.call(r.xAxis),t.axisY.call(r.yAxis),t.axisY2.call(r.y2Axis),t.axisSubX.call(r.subXAxis)};var w={version:"0.4.15"},E,S,x;return w.generate=function(e){return new C(e)},w.chart={fn:C.prototype,internal:{fn:k.prototype,axis:{fn:b.prototype}}},E=w.chart.fn,S=w.chart.internal.fn,x=w.chart.internal.axis.fn,S.beforeInit=function(){},S.afterInit=function(){},S.init=function(){var e=this,t=e.config;e.initParams();if(t.data_url)e.convertUrlToData(t.data_url,t.data_mimeType,t.data_headers,t.data_keys,e.initWithData);else if(t.data_json)e.initWithData(e.convertJsonToData(t.data_json,t.data_keys));else if(t.data_rows)e.initWithData(e.convertRowsToData(t.data_rows));else{if(!t.data_columns)throw Error("url or json or rows or columns is required.");e.initWithData(e.convertColumnsToData(t.data_columns))}},S.initParams=function(){var e=this,t=e.d3,n=e.config;e.clipId="c3-"+ +(new Date)+"-clip",e.clipIdForXAxis=e.clipId+"-xaxis",e.clipIdForYAxis=e.clipId+"-yaxis",e.clipIdForGrid=e.clipId+"-grid",e.clipIdForSubchart=e.clipId+"-subchart",e.clipPath=e.getClipPath(e.clipId),e.clipPathForXAxis=e.getClipPath(e.clipIdForXAxis),e.clipPathForYAxis=e.getClipPath(e.clipIdForYAxis),e.clipPathForGrid=e.getClipPath(e.clipIdForGrid),e.clipPathForSubchart=e.getClipPath(e.clipIdForSubchart),e.dragStart=null,e.dragging=!1,e.flowing=!1,e.cancelClick=!1,e.mouseover=!1,e.transiting=!1,e.color=e.generateColor(),e.levelColor=e.generateLevelColor(),e.dataTimeFormat=n.data_xLocaltime?t.time.format:t.time.format.utc,e.axisTimeFormat=n.axis_x_localtime?t.time.format:t.time.format.utc,e.defaultAxisTimeFormat=e.axisTimeFormat.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%-m/%-d",function(e){return e.getDay()&&e.getDate()!==1}],["%-m/%-d",function(e){return e.getDate()!==1}],["%-m/%-d",function(e){return e.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),e.hiddenTargetIds=[],e.hiddenLegendIds=[],e.focusedTargetIds=[],e.defocusedTargetIds=[],e.xOrient=n.axis_rotated?"left":"bottom",e.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",e.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",e.subXOrient=n.axis_rotated?"left":"bottom",e.isLegendRight=n.legend_position==="right",e.isLegendInset=n.legend_position==="inset",e.isLegendTop=n.legend_inset_anchor==="top-left"||n.legend_inset_anchor==="top-right",e.isLegendLeft=n.legend_inset_anchor==="top-left"||n.legend_inset_anchor==="bottom-left",e.legendStep=0,e.legendItemWidth=0,e.legendItemHeight=0,e.currentMaxTickWidths={x:0,y:0,y2:0},e.rotated_padding_left=30,e.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,e.rotated_padding_top=5,e.withoutFadeIn={},e.intervalForObserveInserted=undefined,e.axes.subx=t.selectAll([])},S.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},S.initWithData=function(t){var n=this,r=n.d3,i=n.config,s,o,u=!0;n.axis=new b(n),n.initPie&&n.initPie(),n.initBrush&&n.initBrush(),n.initZoom&&n.initZoom(),i.bindto?typeof i.bindto.node=="function"?n.selectChart=i.bindto:n.selectChart=r.select(i.bindto):n.selectChart=r.selectAll([]),n.selectChart.empty()&&(n.selectChart=r.select(document.createElement("div")).style("opacity",0),n.observeInserted(n.selectChart),u=!1),n.selectChart.html("").classed("c3",!0),n.data.xs={},n.data.targets=n.convertDataToTargets(t),i.data_filter&&(n.data.targets=n.data.targets.filter(i.data_filter)),i.data_hide&&n.addHiddenTargetIds(i.data_hide===!0?n.mapToIds(n.data.targets):i.data_hide),i.legend_hide&&n.addHiddenLegendIds(i.legend_hide===!0?n.mapToIds(n.data.targets):i.legend_hide),n.hasType("gauge")&&(i.legend_show=!1),n.updateSizes(),n.updateScales(),n.x.domain(r.extent(n.getXDomain(n.data.targets))),n.y.domain(n.getYDomain(n.data.targets,"y")),n.y2.domain(n.getYDomain(n.data.targets,"y2")),n.subX.domain(n.x.domain()),n.subY.domain(n.y.domain()),n.subY2.domain(n.y2.domain()),n.orgXDomain=n.x.domain(),n.brush&&n.brush.scale(n.subX),i.zoom_enabled&&n.zoom.scale(n.x),n.svg=n.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return i.onmouseover.call(n)}).on("mouseleave",function(){return i.onmouseout.call(n)}),n.config.svg_classname&&n.svg.attr("class",n.config.svg_classname),s=n.svg.append("defs"),n.clipChart=n.appendClip(s,n.clipId),n.clipXAxis=n.appendClip(s,n.clipIdForXAxis),n.clipYAxis=n.appendClip(s,n.clipIdForYAxis),n.clipGrid=n.appendClip(s,n.clipIdForGrid),n.clipSubchart=n.appendClip(s,n.clipIdForSubchart),n.updateSvgSize(),o=n.main=n.svg.append("g").attr("transform",n.getTranslate("main")),n.initSubchart&&n.initSubchart(),n.initTooltip&&n.initTooltip(),n.initLegend&&n.initLegend(),n.initTitle&&n.initTitle(),o.append("text").attr("class",e.text+" "+e.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),n.initRegion(),n.initGrid(),o.append("g").attr("clip-path",n.clipPath).attr("class",e.chart),i.grid_lines_front&&n.initGridLines(),n.initEventRect(),n.initChartElements(),o.insert("rect",i.zoom_privileged?null:"g."+e.regions).attr("class",e.zoomRect).attr("width",n.width).attr("height",n.height).style("opacity",0).on("dblclick.zoom",null),i.axis_x_extent&&n.brush.extent(n.getDefaultExtent()),n.axis.init(),n.updateTargets(n.data.targets),u&&(n.updateDimension(),n.config.oninit.call(n),n.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),n.bindResize(),n.api.element=n.selectChart.node()},S.smoothLines=function(e,t){var n=this;t==="grid"&&e.each(function(){var e=n.d3.select(this),t=e.attr("x1"),r=e.attr("x2"),i=e.attr("y1"),s=e.attr("y2");e.attr({x1:Math.ceil(t),x2:Math.ceil(r),y1:Math.ceil(i),y2:Math.ceil(s)})})},S.updateSizes=function(){var e=this,t=e.config,n=e.legend?e.getLegendHeight():0,r=e.legend?e.getLegendWidth():0,i=e.isLegendRight||e.isLegendInset?0:n,s=e.hasArcType(),o=t.axis_rotated||s?0:e.getHorizontalAxisHeight("x"),u=t.subchart_show&&!s?t.subchart_size_height+o:0;e.currentWidth=e.getCurrentWidth(),e.currentHeight=e.getCurrentHeight(),e.margin=t.axis_rotated?{top:e.getHorizontalAxisHeight("y2")+e.getCurrentPaddingTop(),right:s?0:e.getCurrentPaddingRight(),bottom:e.getHorizontalAxisHeight("y")+i+e.getCurrentPaddingBottom(),left:u+(s?0:e.getCurrentPaddingLeft())}:{top:4+e.getCurrentPaddingTop(),right:s?0:e.getCurrentPaddingRight(),bottom:o+u+i+e.getCurrentPaddingBottom(),left:s?0:e.getCurrentPaddingLeft()},e.margin2=t.axis_rotated?{top:e.margin.top,right:NaN,bottom:20+i,left:e.rotated_padding_left}:{top:e.currentHeight-u-i,right:NaN,bottom:o+i,left:e.margin.left},e.margin3={top:0,right:NaN,bottom:0,left:0},e.updateSizeForLegend&&e.updateSizeForLegend(n,r),e.width=e.currentWidth-e.margin.left-e.margin.right,e.height=e.currentHeight-e.margin.top-e.margin.bottom,e.width<0&&(e.width=0),e.height<0&&(e.height=0),e.width2=t.axis_rotated?e.margin.left-e.rotated_padding_left-e.rotated_padding_right:e.width,e.height2=t.axis_rotated?e.height:e.currentHeight-e.margin2.top-e.margin2.bottom,e.width2<0&&(e.width2=0),e.height2<0&&(e.height2=0),e.arcWidth=e.width-(e.isLegendRight?r+10:0),e.arcHeight=e.height-(e.isLegendRight?0:10),e.hasType("gauge")&&!t.gauge_fullCircle&&(e.arcHeight+=e.height-e.getGaugeLabelHeight()),e.updateRadius&&e.updateRadius(),e.isLegendRight&&s&&(e.margin3.left=e.arcWidth/2+e.radiusExpanded*1.1)},S.updateTargets=function(e){var t=this;t.updateTargetsForText(e),t.updateTargetsForBar(e),t.updateTargetsForLine(e),t.hasArcType()&&t.updateTargetsForArc&&t.updateTargetsForArc(e),t.updateTargetsForSubchart&&t.updateTargetsForSubchart(e),t.showTargets()},S.showTargets=function(){var t=this;t.svg.selectAll("."+e.target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity",1)},S.redraw=function(t,n){var r=this,i=r.main,s=r.d3,o=r.config,u=r.getShapeIndices(r.isAreaType),a=r.getShapeIndices(r.isBarType),f=r.getShapeIndices(r.isLineType),l,c,h,d,v,m,g,y,b,w,E,S,x,T=r.hasArcType(),N,C,k,L,A,O,M,_,D,P,H=r.filterTargetsToShow(r.data.targets),B,j,F,I,q=r.xv.bind(r),R,U;t=t||{},l=p(t,"withY",!0),c=p(t,"withSubchart",!0),h=p(t,"withTransition",!0),m=p(t,"withTransform",!1),g=p(t,"withUpdateXDomain",!1),y=p(t,"withUpdateOrgXDomain",!1),b=p(t,"withTrimXDomain",!0),x=p(t,"withUpdateXAxis",g),w=p(t,"withLegend",!1),E=p(t,"withEventRect",!0),S=p(t,"withDimension",!0),d=p(t,"withTransitionForExit",h),v=p(t,"withTransitionForAxis",h),O=h?o.transition_duration:0,M=d?O:0,_=v?O:0,n=n||r.axis.generateTransitions(_),w&&o.legend_show?r.updateLegend(r.mapToIds(r.data.targets),t,n):S&&r.updateDimension(!0),r.isCategorized()&&H.length===0&&r.x.domain([0,r.axes.x.selectAll(".tick").size()]),H.length?(r.updateXDomain(H,g,y,b),o.axis_x_tick_values||(B=r.axis.updateXAxisTickValues(H))):(r.xAxis.tickValues([]),r.subXAxis.tickValues([])),o.zoom_rescale&&!t.flow&&(I=r.x.orgDomain()),r.y.domain(r.getYDomain(H,"y",I)),r.y2.domain(r.getYDomain(H,"y2",I)),!o.axis_y_tick_values&&o.axis_y_tick_count&&r.yAxis.tickValues(r.axis.generateTickValues(r.y.domain(),o.axis_y_tick_count)),!o.axis_y2_tick_values&&o.axis_y2_tick_count&&r.y2Axis.tickValues(r.axis.generateTickValues(r.y2.domain(),o.axis_y2_tick_count)),r.axis.redraw(n,T),r.axis.updateLabels(h);if((g||x)&&H.length)if(o.axis_x_tick_culling&&B){for(j=1;j<B.length;j++)if(B.length/j<o.axis_x_tick_culling_max){F=j;break}r.svg.selectAll("."+e.axisX+" .tick text").each(function(e){var t=B.indexOf(e);t>=0&&s.select(this).style("display",t%F?"none":"block")})}else r.svg.selectAll("."+e.axisX+" .tick text").style("display","block");N=r.generateDrawArea?r.generateDrawArea(u,!1):undefined,C=r.generateDrawBar?r.generateDrawBar(a):undefined,k=r.generateDrawLine?r.generateDrawLine(f,!1):undefined,L=r.generateXYForText(u,a,f,!0),A=r.generateXYForText(u,a,f,!1),l&&(r.subY.domain(r.getYDomain(H,"y")),r.subY2.domain(r.getYDomain(H,"y2"))),r.updateXgridFocus(),i.select("text."+e.text+"."+e.empty).attr("x",r.width/2).attr("y",r.height/2).text(o.data_empty_label_text).transition().style("opacity",H.length?0:1),r.updateGrid(O),r.updateRegion(O),r.updateBar(M),r.updateLine(M),r.updateArea(M),r.updateCircle(),r.hasDataLabel()&&r.updateText(M),r.redrawTitle&&r.redrawTitle(),r.redrawArc&&r.redrawArc(O,M,m),r.redrawSubchart&&r.redrawSubchart(c,n,O,M,u,a,f),i.selectAll("."+e.selectedCircles).filter(r.isBarType.bind(r)).selectAll("circle").remove(),o.interaction_enabled&&!t.flow&&E&&(r.redrawEventRect(),r.updateZoom&&r.updateZoom()),r.updateCircleY(),R=(r.config.axis_rotated?r.circleY:r.circleX).bind(r),U=(r.config.axis_rotated?r.circleX:r.circleY).bind(r),t.flow&&(P=r.generateFlow({targets:H,flow:t.flow,duration:t.flow.duration,drawBar:C,drawLine:k,drawArea:N,cx:R,cy:U,xv:q,xForText:L,yForText:A})),(O||P)&&r.isTabVisible()?s.transition().duration(O).each(function(){var e=[];[r.redrawBar(C,!0),r.redrawLine(k,!0),r.redrawArea(N,!0),r.redrawCircle(R,U,!0),r.redrawText(L,A,t.flow,!0),r.redrawRegion(!0),r.redrawGrid(!0)].forEach(function(t){t.forEach(function(t){e.push(t)})}),D=r.generateWait(),e.forEach(function(e){D.add(e)})}).call(D,function(){P&&P(),o.onrendered&&o.onrendered.call(r)}):(r.redrawBar(C),r.redrawLine(k),r.redrawArea(N),r.redrawCircle(R,U),r.redrawText(L,A,t.flow),r.redrawRegion(),r.redrawGrid(),o.onrendered&&o.onrendered.call(r)),r.mapToIds(r.data.targets).forEach(function(e){r.withoutFadeIn[e]=!0})},S.updateAndRedraw=function(e){var t=this,n=t.config,r;e=e||{},e.withTransition=p(e,"withTransition",!0),e.withTransform=p(e,"withTransform",!1),e.withLegend=p(e,"withLegend",!1),e.withUpdateXDomain=!0,e.withUpdateOrgXDomain=!0,e.withTransitionForExit=!1,e.withTransitionForTransform=p(e,"withTransitionForTransform",e.withTransition),t.updateSizes();if(!e.withLegend||!n.legend_show)r=t.axis.generateTransitions(e.withTransitionForAxis?n.transition_duration:0),t.updateScales(),t.updateSvgSize(),t.transformAll(e.withTransitionForTransform,r);t.redraw(e,r)},S.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},S.isTimeSeries=function(){return this.config.axis_x_type==="timeseries"},S.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},S.isCustomX=function(){var e=this,t=e.config;return!e.isTimeSeries()&&(t.data_x||h(t.data_xs))},S.isTimeSeriesY=function(){return this.config.axis_y_type==="timeseries"},S.getTranslate=function(e){var t=this,n=t.config,r,i;return e==="main"?(r=f(t.margin.left),i=f(t.margin.top)):e==="context"?(r=f(t.margin2.left),i=f(t.margin2.top)):e==="legend"?(r=t.margin3.left,i=t.margin3.top):e==="x"?(r=0,i=n.axis_rotated?0:t.height):e==="y"?(r=0,i=n.axis_rotated?t.height:0):e==="y2"?(r=n.axis_rotated?0:t.width,i=n.axis_rotated?1:0):e==="subx"?(r=0,i=n.axis_rotated?0:t.height2):e==="arc"&&(r=t.arcWidth/2,i=t.arcHeight/2),"translate("+r+","+i+")"},S.initialOpacity=function(e){return e.value!==null&&this.withoutFadeIn[e.id]?1:0},S.initialOpacityForCircle=function(e){return e.value!==null&&this.withoutFadeIn[e.id]?this.opacityForCircle(e):0},S.opacityForCircle=function(e){var t=r(this.config.point_show)?this.config.point_show(e):this.config.point_show,i=t?1:0;return n(e.value)?this.isScatterType(e)?.5:i:0},S.opacityForText=function(){return this.hasDataLabel()?1:0},S.xx=function(e){return e?this.x(e.x):null},S.xv=function(e){var t=this,n=e.value;return t.isTimeSeries()?n=t.parseDate(e.value):t.isCategorized()&&typeof e.value=="string"&&(n=t.config.axis_x_categories.indexOf(e.value)),Math.ceil(t.x(n))},S.yv=function(e){var t=this,n=e.axis&&e.axis==="y2"?t.y2:t.y;return Math.ceil(n(e.value))},S.subxx=function(e){return e?this.subX(e.x):null},S.transformMain=function(t,n){var r=this,i,s,o;n&&n.axisX?i=n.axisX:(i=r.main.select("."+e.axisX),t&&(i=i.transition())),n&&n.axisY?s=n.axisY:(s=r.main.select("."+e.axisY),t&&(s=s.transition())),n&&n.axisY2?o=n.axisY2:(o=r.main.select("."+e.axisY2),t&&(o=o.transition())),(t?r.main.transition():r.main).attr("transform",r.getTranslate("main")),i.attr("transform",r.getTranslate("x")),s.attr("transform",r.getTranslate("y")),o.attr("transform",r.getTranslate("y2")),r.main.select("."+e.chartArcs).attr("transform",r.getTranslate("arc"))},S.transformAll=function(e,t){var n=this;n.transformMain(e,t),n.config.subchart_show&&n.transformContext(e,t),n.legend&&n.transformLegend(e)},S.updateSvgSize=function(){var t=this,n=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",n.size()?n.attr("height"):0),t.svg.select("."+e.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},S.updateDimension=function(e){var t=this;e||(t.config.axis_rotated?(t.axes.x.call(t.xAxis),t.axes.subx.call(t.subXAxis)):(t.axes.y.call(t.yAxis),t.axes.y2.call(t.y2Axis))),t.updateSizes(),t.updateScales(),t.updateSvgSize(),t.transformAll(!1)},S.observeInserted=function(e){var t=this,n;if(typeof MutationObserver=="undefined"){window.console.error("MutationObserver not defined.");return}n=new MutationObserver(function(r){r.forEach(function(r){r.type==="childList"&&r.previousSibling&&(n.disconnect(),t.intervalForObserveInserted=window.setInterval(function(){e.node().parentNode&&(window.clearInterval(t.intervalForObserveInserted),t.updateDimension(),t.brush&&t.brush.update(),t.config.oninit.call(t),t.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})}),n.observe(e.node(),{attributes:!0,childList:!0,characterData:!0})},S.bindResize=function(){var e=this,t=e.config;e.resizeFunction=e.generateResize(),e.resizeFunction.add(function(){t.onresize.call(e)}),t.resize_auto&&e.resizeFunction.add(function(){e.resizeTimeout!==undefined&&window.clearTimeout(e.resizeTimeout),e.resizeTimeout=window.setTimeout(function(){delete e.resizeTimeout,e.api.flush()},100)}),e.resizeFunction.add(function(){t.onresized.call(e)});if(window.attachEvent)window.attachEvent("onresize",e.resizeFunction);else if(window.addEventListener)window.addEventListener("resize",e.resizeFunction,!1);else{var n=window.onresize;if(!n)n=e.generateResize();else if(!n.add||!n.remove)n=e.generateResize(),n.add(window.onresize);n.add(e.resizeFunction),window.onresize=n}},S.generateResize=function(){function t(){e.forEach(function(e){e()})}var e=[];return t.add=function(t){e.push(t)},t.remove=function(t){for(var n=0;n<e.length;n++)if(e[n]===t){e.splice(n,1);break}},t},S.endall=function(e,t){var n=0;e.each(function(){++n}).each("end",function(){--n||t.apply(this,arguments)})},S.generateWait=function(){var e=[],t=function(n,r){var i=setInterval(function(){var t=0;e.forEach(function(e){if(e.empty()){t+=1;return}try{e.transition()}catch(n){t+=1}}),t===e.length&&(clearInterval(i),r&&r())},10)};return t.add=function(t){e.push(t)},t},S.parseDate=function(e){var n=this,r;return e instanceof Date?r=e:typeof e=="string"?r=n.dataTimeFormat(n.config.data_xFormat).parse(e):(typeof e=="undefined"?"undefined":t(e))==="object"?r=new Date(+e):typeof e=="number"&&!isNaN(e)&&(r=new Date(+e)),(!r||isNaN(+r))&&window.console.error("Failed to parse x '"+e+"' to Date object"),r},S.isTabVisible=function(){var e;return typeof document.hidden!="undefined"?e="hidden":typeof document.mozHidden!="undefined"?e="mozHidden":typeof document.msHidden!="undefined"?e="msHidden":typeof document.webkitHidden!="undefined"&&(e="webkitHidden"),document[e]?!1:!0},S.isValue=n,S.isFunction=r,S.isString=s,S.isUndefined=o,S.isDefined=u,S.ceil10=a,S.asHalfPixel=f,S.diffDomain=l,S.isEmpty=c,S.notEmpty=h,S.notEmpty=h,S.getOption=p,S.hasValue=d,S.sanitise=v,S.getPathBox=m,S.CLASS=e,Function.prototype.bind||(Function.prototype.bind=function(e){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),function(){"SVGPathSeg"in window||(window.SVGPathSeg=function(e,t,n){this.pathSegType=e,this.pathSegTypeAsLetter=t,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",e)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(undefined)},window.SVGPathSegMovetoAbs=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",e),this._x=t,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",e),this._x=t,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",e),this._x=t,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",e),this._x=t,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(e,t,n,r,i,s,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",e),this._x=t,this._y=n,this._x1=r,this._y1=i,this._x2=s,this._y2=o},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(e,t,n,r,i,s,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",e),this._x=t,this._y=n,this._x1=r,this._y1=i,this._x2=s,this._y2=o},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(e,t,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",e),this._x=t,this._y=n,this._x1=r,this._y1=i},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(undefined,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(e,t,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",e),this._x=t,this._y=n,this._x1=r,this._y1=i},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(undefined,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(e,t,n,r,i,s,o,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",e),this._x=t,this._y=n,this._r1=r,this._r2=i,this._angle=s,this._largeArcFlag=o,this._sweepFlag=u},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(e,t,n,r,i,s,o,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",e),this._x=t,this._y=n,this._r1=r,this._r2=i,this._angle=s,this._largeArcFlag=o,this._sweepFlag=u},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",e),this._x=t},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(undefined,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",e),this._x=t},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(undefined,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",e),this._y=t},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(undefined,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",e),this._y=t},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(undefined,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(e,t,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",e),this._x=t,this._y=n,this._x2=r,this._y2=i},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(e,t,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",e),this._x=t,this._y=n,this._x2=r,this._y2=i},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(undefined,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",e),this._x=t,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",e),this._x=t,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(undefined)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(e,t){return new window.SVGPathSegMovetoAbs(undefined,e,t)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(e,t){return new window.SVGPathSegMovetoRel(undefined,e,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(e,t){return new window.SVGPathSegLinetoAbs(undefined,e,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(e,t){return new window.SVGPathSegLinetoRel(undefined,e,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(e,t,n,r,i,s){return new window.SVGPathSegCurvetoCubicAbs(undefined,e,t,n,r,i,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(e,t,n,r,i,s){return new window.SVGPathSegCurvetoCubicRel(undefined,e,t,n,r,i,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(e,t,n,r){return new window.SVGPathSegCurvetoQuadraticAbs(undefined,e,t,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(e,t,n,r){return new window.SVGPathSegCurvetoQuadraticRel(undefined,e,t,n,r)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(e,t,n,r,i,s,o){return new window.SVGPathSegArcAbs(undefined,e,t,n,r,i,s,o)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(e,t,n,r,i,s,o){return new window.SVGPathSegArcRel(undefined,e,t,n,r,i,s,o)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(e){return new window.SVGPathSegLinetoHorizontalAbs(undefined,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(e){return new window.SVGPathSegLinetoHorizontalRel(undefined,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(e){return new window.SVGPathSegLinetoVerticalAbs(undefined,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(e){return new window.SVGPathSegLinetoVerticalRel(undefined,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(e,t,n,r){return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined,e,t,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(e,t,n,r){return new window.SVGPathSegCurvetoCubicSmoothRel(undefined,e,t,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(e,t){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined,e,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(e,t){return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined,e,t)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(e){if(e===undefined||!isFinite(e))throw"Invalid arguments.";var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",this.getAttribute("d"));var n=t.pathSegList.numberOfItems-1;if(n<=0)return 0;do{t.pathSegList.removeItem(n);if(e>t.getTotalLength())break;n--}while(n>0);return n})),"SVGPathSegList"in window||(window.SVGPathSegList=function(e){this._pathElement=e,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(e){if(!this._pathElement)return;var t=!1;e.forEach(function(e){e.attributeName=="d"&&(t=!0)}),t&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(e){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(e){e._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(e){return this._checkPathSynchronizedToList(),this._list=[e],e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype._checkValidIndex=function(e){if(isNaN(e)||e<0||e>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(e){return this._checkPathSynchronizedToList(),this._checkValidIndex(e),this._list[e]},window.SVGPathSegList.prototype.insertItemBefore=function(e,t){return this._checkPathSynchronizedToList(),t>this.numberOfItems&&(t=this.numberOfItems),e._owningPathSegList&&(e=e.clone()),this._list.splice(t,0,e),e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype.replaceItem=function(e,t){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._checkValidIndex(t),this._list[t]=e,e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype.removeItem=function(e){this._checkPathSynchronizedToList(),this._checkValidIndex(e);var t=this._list[e];return this._list.splice(e,1),this._writeListToPath(),t},window.SVGPathSegList.prototype.appendItem=function(e){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._list.push(e),e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList._pathSegArrayAsString=function(e){var t="",n=!0;return e.forEach(function(e){n?(n=!1,t+=e._asPathString()):t+=" "+e._asPathString()}),t},window.SVGPathSegList.prototype._parsePath=function(e){if(!e||e.length==0)return[];var t=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(e){this.pathSegList.push(e)};var r=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};r.prototype._isCurrentSpace=function(){var e=this._string[this._currentIndex];return e<=" "&&(e==" "||e=="\n"||e=="	"||e=="\r"||e=="\f")},r.prototype._skipOptionalSpaces=function(){while(this._currentIndex<this._endIndex&&this._isCurrentSpace())this._currentIndex++;return this._currentIndex<this._endIndex},r.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},r.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},r.prototype.peekSegmentType=function(){var e=this._string[this._currentIndex];return this._pathSegTypeFromChar(e)},r.prototype._pathSegTypeFromChar=function(e){switch(e){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},r.prototype._nextCommandHelper=function(e,t){return(e=="+"||e=="-"||e=="."||e>="0"&&e<="9")&&t!=window.SVGPathSeg.PATHSEG_CLOSEPATH?t==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:t==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:t:window.SVGPathSeg.PATHSEG_UNKNOWN},r.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return e==window.SVGPathSeg.PATHSEG_MOVETO_ABS||e==window.SVGPathSeg.PATHSEG_MOVETO_REL},r.prototype._parseNumber=function(){var e=0,t=0,n=1,r=0,i=1,s=1,o=this._currentIndex;this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,i=-1);if(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")return undefined;var u=this._currentIndex;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9")this._currentIndex++;if(this._currentIndex!=u){var a=this._currentIndex-1,f=1;while(a>=u)t+=f*(this._string.charAt(a--)-"0"),f*=10}if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){this._currentIndex++;if(this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return undefined;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9")n*=10,r+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!=o&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,s=-1);if(this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return undefined;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9")e*=10,e+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var l=t+r;return l*=i,e&&(l*=Math.pow(10,s*e)),o==this._currentIndex?undefined:(this._skipOptionalSpacesOrDelimiter(),l)},r.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex)return undefined;var e=!1,t=this._string.charAt(this._currentIndex++);if(t=="0")e=!1;else{if(t!="1")return undefined;e=!0}return this._skipOptionalSpacesOrDelimiter(),e},r.prototype.parseSegment=function(){var e=this._string[this._currentIndex],n=this._pathSegTypeFromChar(e);if(n==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;n=this._nextCommandHelper(e,this._previousCommand);if(n==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;this._previousCommand=n;switch(n){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(t);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(t,r.x,r.y,r.x1,r.y1,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(t,r.x,r.y,r.x1,r.y1,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(t,r.x,r.y,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(t,r.x,r.y,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(t,r.x,r.y,r.x1,r.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(t,r.x,r.y,r.x1,r.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:var r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(t,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:var r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(t,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);default:throw"Unknown path seg type."}};var i=new n,s=new r(e);if(!s.initialCommandIsMoveTo())return[];while(s.hasMoreData()){var o=s.parseSegment();if(!o)return[];i.appendSegment(o)}return i.pathSegList})}(),E.axis=function(){},E.axis.labels=function(e){var t=this.internal;arguments.length&&(Object.keys(e).forEach(function(n){t.axis.setLabelText(n,e[n])}),t.axis.updateLabels())},E.axis.max=function(e){var r=this.internal,i=r.config;if(!arguments.length)return{x:i.axis_x_max,y:i.axis_y_max,y2:i.axis_y2_max};(typeof e=="undefined"?"undefined":t(e))==="object"?(n(e.x)&&(i.axis_x_max=e.x),n(e.y)&&(i.axis_y_max=e.y),n(e.y2)&&(i.axis_y2_max=e.y2)):i.axis_y_max=i.axis_y2_max=e,r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},E.axis.min=function(e){var r=this.internal,i=r.config;if(!arguments.length)return{x:i.axis_x_min,y:i.axis_y_min,y2:i.axis_y2_min};(typeof e=="undefined"?"undefined":t(e))==="object"?(n(e.x)&&(i.axis_x_min=e.x),n(e.y)&&(i.axis_y_min=e.y),n(e.y2)&&(i.axis_y2_min=e.y2)):i.axis_y_min=i.axis_y2_min=e,r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},E.axis.range=function(e){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};u(e.max)&&this.axis.max(e.max),u(e.min)&&this.axis.min(e.min)},E.category=function(e,t){var n=this.internal,r=n.config;return arguments.length>1&&(r.axis_x_categories[e]=t,n.redraw()),r.axis_x_categories[e]},E.categories=function(e){var t=this.internal,n=t.config;return arguments.length?(n.axis_x_categories=e,t.redraw(),n.axis_x_categories):n.axis_x_categories},E.resize=function(e){var t=this.internal,n=t.config;n.size_width=e?e.width:null,n.size_height=e?e.height:null,this.flush()},E.flush=function(){var e=this.internal;e.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},E.destroy=function(){var e=this.internal;window.clearInterval(e.intervalForObserveInserted),e.resizeTimeout!==undefined&&window.clearTimeout(e.resizeTimeout);if(window.detachEvent)window.detachEvent("onresize",e.resizeFunction);else if(window.removeEventListener)window.removeEventListener("resize",e.resizeFunction);else{var t=window.onresize;t&&t.add&&t.remove&&t.remove(e.resizeFunction)}return e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},E.color=function(e){var t=this.internal;return t.color(e)},E.data=function(e){var t=this.internal.data.targets;return typeof e=="undefined"?t:t.filter(function(t){return[].concat(e).indexOf(t.id)>=0})},E.data.shown=function(e){return this.internal.filterTargetsToShow(this.data(e))},E.data.values=function(e){var t,n=null;return e&&(t=this.data(e),n=t[0]?t[0].values.map(function(e){return e.value}):null),n},E.data.names=function(e){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",e)},E.data.colors=function(e){return this.internal.updateDataAttributes("colors",e)},E.data.axes=function(e){return this.internal.updateDataAttributes("axes",e)},E.flow=function(e){var t=this.internal,r,i,s=[],o=t.getMaxDataCount(),a,f,l,c,h=0,p=0,d,v;if(e.json)i=t.convertJsonToData(e.json,e.keys);else if(e.rows)i=t.convertRowsToData(e.rows);else{if(!e.columns)return;i=t.convertColumnsToData(e.columns)}r=t.convertDataToTargets(i,!0),t.data.targets.forEach(function(e){var n=!1,i,o;for(i=0;i<r.length;i++)if(e.id===r[i].id){n=!0,e.values[e.values.length-1]&&(p=e.values[e.values.length-1].index+1),h=r[i].values.length;for(o=0;o<h;o++)r[i].values[o].index=p+o,t.isTimeSeries()||(r[i].values[o].x=p+o);e.values=e.values.concat(r[i].values),r.splice(i,1);break}n||s.push(e.id)}),t.data.targets.forEach(function(e){var n,r;for(n=0;n<s.length;n++)if(e.id===s[n]){p=e.values[e.values.length-1].index+1;for(r=0;r<h;r++)e.values.push({id:e.id,index:p+r,x:t.isTimeSeries()?t.getOtherTargetX(p+r):p+r,value:null})}}),t.data.targets.length&&r.forEach(function(e){var n,r=[];for(n=t.data.targets[0].values[0].index;n<p;n++)r.push({id:e.id,index:n,x:t.isTimeSeries()?t.getOtherTargetX(n):n,value:null});e.values.forEach(function(e){e.index+=p,t.isTimeSeries()||(e.x+=p)}),e.values=r.concat(e.values)}),t.data.targets=t.data.targets.concat(r),a=t.getMaxDataCount(),l=t.data.targets[0],c=l.values[0],u(e.to)?(h=0,v=t.isTimeSeries()?t.parseDate(e.to):e.to,l.values.forEach(function(e){e.x<v&&h++})):u(e.length)&&(h=e.length),o?o===1&&t.isTimeSeries()&&(d=(l.values[l.values.length-1].x-c.x)/2,f=[new Date(+c.x-d),new Date(+c.x+d)],t.updateXDomain(null,!0,!0,!1,f)):(t.isTimeSeries()?l.values.length>1?d=l.values[l.values.length-1].x-c.x:d=c.x-t.getXDomain(t.data.targets)[0]:d=1,f=[c.x-d,c.x],t.updateXDomain(null,!0,!0,!1,f)),t.updateTargets(t.data.targets),t.redraw({flow:{index:c.index,length:h,duration:n(e.duration)?e.duration:t.config.transition_duration,done:e.done,orgDataCount:o},withLegend:!0,withTransition:o>1,withTrimXDomain:!1,withUpdateXAxis:!0})},S.generateFlow=function(t){var n=this,r=n.config,i=n.d3;return function(){var s=t.targets,o=t.flow,u=t.drawBar,a=t.drawLine,f=t.drawArea,c=t.cx,h=t.cy,p=t.xv,d=t.xForText,v=t.yForText,m=t.duration,g,y=1,b,w=o.index,E=o.length,S=n.getValueOnIndex(n.data.targets[0].values,w),x=n.getValueOnIndex(n.data.targets[0].values,w+E),T=n.x.domain(),N,C=o.duration||m,k=o.done||function(){},L=n.generateWait(),A=n.xgrid||i.selectAll([]),O=n.xgridLines||i.selectAll([]),M=n.mainRegion||i.selectAll([]),_=n.mainText||i.selectAll([]),D=n.mainBar||i.selectAll([]),P=n.mainLine||i.selectAll([]),H=n.mainArea||i.selectAll([]),B=n.mainCircle||i.selectAll([]);n.flowing=!0,n.data.targets.forEach(function(e){e.values.splice(0,E)}),N=n.updateXDomain(s,!0,!0),n.updateXGrid&&n.updateXGrid(!0),o.orgDataCount?o.orgDataCount===1||(S&&S.x)===(x&&x.x)?g=n.x(T[0])-n.x(N[0]):n.isTimeSeries()?g=n.x(T[0])-n.x(N[0]):g=n.x(S.x)-n.x(x.x):n.data.targets[0].values.length!==1?g=n.x(T[0])-n.x(N[0]):n.isTimeSeries()?(S=n.getValueOnIndex(n.data.targets[0].values,0),x=n.getValueOnIndex(n.data.targets[0].values,n.data.targets[0].values.length-1),g=n.x(S.x)-n.x(x.x)):g=l(N)/2,y=l(T)/l(N),b="translate("+g+",0) scale("+y+",1)",n.hideXGridFocus(),i.transition().ease("linear").duration(C).each(function(){L.add(n.axes.x.transition().call(n.xAxis)),L.add(D.transition().attr("transform",b)),L.add(P.transition().attr("transform",b)),L.add(H.transition().attr("transform",b)),L.add(B.transition().attr("transform",b)),L.add(_.transition().attr("transform",b)),L.add(M.filter(n.isRegionOnX).transition().attr("transform",b)),L.add(A.transition().attr("transform",b)),L.add(O.transition().attr("transform",b))}).call(L,function(){var t,i=[],s=[],o=[];if(E){for(t=0;t<E;t++)i.push("."+e.shape+"-"+(w+t)),s.push("."+e.text+"-"+(w+t)),o.push("."+e.eventRect+"-"+(w+t));n.svg.selectAll("."+e.shapes).selectAll(i).remove(),n.svg.selectAll("."+e.texts).selectAll(s).remove(),n.svg.selectAll("."+e.eventRects).selectAll(o).remove(),n.svg.select("."+e.xgrid).remove()}A.attr("transform",null).attr(n.xgridAttr),O.attr("transform",null),O.select("line").attr("x1",r.axis_rotated?0:p).attr("x2",r.axis_rotated?n.width:p),O.select("text").attr("x",r.axis_rotated?n.width:0).attr("y",p),D.attr("transform",null).attr("d",u),P.attr("transform",null).attr("d",a),H.attr("transform",null).attr("d",f),B.attr("transform",null).attr("cx",c).attr("cy",h),_.attr("transform",null).attr("x",d).attr("y",v).style("fill-opacity",n.opacityForText.bind(n)),M.attr("transform",null),M.select("rect").filter(n.isRegionOnX).attr("x",n.regionX.bind(n)).attr("width",n.regionWidth.bind(n)),r.interaction_enabled&&n.redrawEventRect(),k(),n.flowing=!1})}},E.focus=function(t){var n=this.internal,r;t=n.mapToTargetIds(t),r=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),r.classed(e.focused,!0).classed(e.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(e){return t.indexOf(e)<0})},E.defocus=function(t){var n=this.internal,r;t=n.mapToTargetIds(t),r=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),r.classed(e.focused,!1).classed(e.defocused,!0),n.hasArcType()&&n.unexpandArc(t),n.toggleFocusLegend(t,!1),n.focusedTargetIds=n.focusedTargetIds.filter(function(e){return t.indexOf(e)<0}),n.defocusedTargetIds=t},E.revert=function(t){var n=this.internal,r;t=n.mapToTargetIds(t),r=n.svg.selectAll(n.selectorTargets(t)),r.classed(e.focused,!1).classed(e.defocused,!1),n.hasArcType()&&n.unexpandArc(t),n.config.legend_show&&(n.showLegend(t.filter(n.isLegendToShow.bind(n))),n.legend.selectAll(n.selectorLegends(t)).filter(function(){return n.d3.select(this).classed(e.legendItemFocused)}).classed(e.legendItemFocused,!1)),n.focusedTargetIds=[],n.defocusedTargetIds=[]},E.xgrids=function(e){var t=this.internal,n=t.config;return e?(n.grid_x_lines=e,t.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},E.xgrids.add=function(e){var t=this.internal;return this.xgrids(t.config.grid_x_lines.concat(e?e:[]))},E.xgrids.remove=function(e){var t=this.internal;t.removeGridLines(e,!0)},E.ygrids=function(e){var t=this.internal,n=t.config;return e?(n.grid_y_lines=e,t.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},E.ygrids.add=function(e){var t=this.internal;return this.ygrids(t.config.grid_y_lines.concat(e?e:[]))},E.ygrids.remove=function(e){var t=this.internal;t.removeGridLines(e,!1)},E.groups=function(e){var t=this.internal,n=t.config;return o(e)?n.data_groups:(n.data_groups=e,t.redraw(),n.data_groups)},E.legend=function(){},E.legend.show=function(e){var t=this.internal;t.showLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},E.legend.hide=function(e){var t=this.internal;t.hideLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},E.load=function(e){var t=this.internal,n=t.config;e.xs&&t.addXs(e.xs),"names"in e&&E.data.names.bind(this)(e.names),"classes"in e&&Object.keys(e.classes).forEach(function(t){n.data_classes[t]=e.classes[t]}),"categories"in e&&t.isCategorized()&&(n.axis_x_categories=e.categories),"axes"in e&&Object.keys(e.axes).forEach(function(t){n.data_axes[t]=e.axes[t]}),"colors"in e&&Object.keys(e.colors).forEach(function(t){n.data_colors[t]=e.colors[t]});if("cacheIds"in e&&t.hasCaches(e.cacheIds)){t.load(t.getCaches(e.cacheIds),e.done);return}"unload"in e?t.unload(t.mapToTargetIds(typeof e.unload=="boolean"&&e.unload?null:e.unload),function(){t.loadFromArgs(e)}):t.loadFromArgs(e)},E.unload=function(e){var t=this.internal;e=e||{},e instanceof Array?e={ids:e}:typeof e=="string"&&(e={ids:[e]}),t.unload(t.mapToTargetIds(e.ids),function(){t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()})},E.regions=function(e){var t=this.internal,n=t.config;return e?(n.regions=e,t.redrawWithoutRescale(),n.regions):n.regions},E.regions.add=function(e){var t=this.internal,n=t.config;return e?(n.regions=n.regions.concat(e),t.redrawWithoutRescale(),n.regions):n.regions},E.regions.remove=function(t){var n=this.internal,r=n.config,i,s,o;return t=t||{},i=n.getOption(t,"duration",r.transition_duration),s=n.getOption(t,"classes",[e.region]),o=n.main.select("."+e.regions).selectAll(s.map(function(e){return"."+e})),(i?o.transition().duration(i):o).style("opacity",0).remove(),r.regions=r.regions.filter(function(e){var t=!1;return e["class"]?(e["class"].split(" ").forEach(function(e){s.indexOf(e)>=0&&(t=!0)}),!t):!0}),r.regions},E.selected=function(t){var n=this.internal,r=n.d3;return r.merge(n.main.selectAll("."+e.shapes+n.getTargetSelectorSuffix(t)).selectAll("."+e.shape).filter(function(){return r.select(this).classed(e.SELECTED)}).map(function(e){return e.map(function(e){var t=e.__data__;return t.data?t.data:t})}))},E.select=function(t,n,r){var i=this.internal,s=i.d3,o=i.config;if(!o.data_selection_enabled)return;i.main.selectAll("."+e.shapes).selectAll("."+e.shape).each(function(a,f){var l=s.select(this),c=a.data?a.data.id:a.id,h=i.getToggle(this,a).bind(i),p=o.data_selection_grouped||!t||t.indexOf(c)>=0,d=!n||n.indexOf(f)>=0,v=l.classed(e.SELECTED);if(l.classed(e.line)||l.classed(e.area))return;p&&d?o.data_selection_isselectable(a)&&!v&&h(!0,l.classed(e.SELECTED,!0),a,f):u(r)&&r&&v&&h(!1,l.classed(e.SELECTED,!1),a,f)})},E.unselect=function(t,n){var r=this.internal,i=r.d3,s=r.config;if(!s.data_selection_enabled)return;r.main.selectAll("."+e.shapes).selectAll("."+e.shape).each(function(o,u){var a=i.select(this),f=o.data?o.data.id:o.id,l=r.getToggle(this,o).bind(r),c=s.data_selection_grouped||!t||t.indexOf(f)>=0,h=!n||n.indexOf(u)>=0,p=a.classed(e.SELECTED);if(a.classed(e.line)||a.classed(e.area))return;c&&h&&s.data_selection_isselectable(o)&&p&&l(!1,a.classed(e.SELECTED,!1),o,u)})},E.show=function(e,t){var n=this.internal,r;e=n.mapToTargetIds(e),t=t||{},n.removeHiddenTargetIds(e),r=n.svg.selectAll(n.selectorTargets(e)),r.transition().style("opacity",1,"important").call(n.endall,function(){r.style("opacity",null).style("opacity",1)}),t.withLegend&&n.showLegend(e),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},E.hide=function(e,t){var n=this.internal,r;e=n.mapToTargetIds(e),t=t||{},n.addHiddenTargetIds(e),r=n.svg.selectAll(n.selectorTargets(e)),r.transition().style("opacity",0,"important").call(n.endall,function(){r.style("opacity",null).style("opacity",0)}),t.withLegend&&n.hideLegend(e),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},E.toggle=function(e,t){var n=this,r=this.internal;r.mapToTargetIds(e).forEach(function(e){r.isTargetToShow(e)?n.hide(e,t):n.show(e,t)})},E.tooltip=function(){},E.tooltip.show=function(e){var t=this.internal,r,i;e.mouse&&(i=e.mouse),e.data?t.isMultipleX()?(i=[t.x(e.data.x),t.getYScale(e.data.id)(e.data.value)],r=null):r=n(e.data.index)?e.data.index:t.getIndexByX(e.data.x):typeof e.x!="undefined"?r=t.getIndexByX(e.x):typeof e.index!="undefined"&&(r=e.index),t.dispatchEvent("mouseover",r,i),t.dispatchEvent("mousemove",r,i),t.config.tooltip_onshow.call(t,e.data)},E.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},E.transform=function(e,t){var n=this.internal,r=["pie","donut"].indexOf(e)>=0?{withTransform:!0}:null;n.transformTo(t,e,r)},S.transformTo=function(e,t,n){var r=this,i=!r.hasArcType(),s=n||{withTransitionForAxis:i};s.withTransitionForTransform=!1,r.transiting=!1,r.setTargetType(e,t),r.updateTargets(r.data.targets),r.updateAndRedraw(s)},E.x=function(e){var t=this.internal;return arguments.length&&(t.updateTargetX(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},E.xs=function(e){var t=this.internal;return arguments.length&&(t.updateTargetXs(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},E.zoom=function(e){var t=this.internal;return e&&(t.isTimeSeries()&&(e=e.map(function(e){return t.parseDate(e)})),t.brush.extent(e),t.redraw({withUpdateXDomain:!0,withY:t.config.zoom_rescale}),t.config.zoom_onzoom.call(this,t.x.orgDomain())),t.brush.extent()},E.zoom.enable=function(e){var t=this.internal;t.config.zoom_enabled=e,t.updateAndRedraw()},E.unzoom=function(){var e=this.internal;e.brush.clear().update(),e.redraw({withUpdateXDomain:!0})},E.zoom.max=function(e){var t=this.internal,n=t.config,r=t.d3;if(e!==0&&!e)return n.zoom_x_max;n.zoom_x_max=r.max([t.orgXDomain[1],e])},E.zoom.min=function(e){var t=this.internal,n=t.config,r=t.d3;if(e!==0&&!e)return n.zoom_x_min;n.zoom_x_min=r.min([t.orgXDomain[0],e])},E.zoom.range=function(e){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};u(e.max)&&this.domain.max(e.max),u(e.min)&&this.domain.min(e.min)},S.initPie=function(){var e=this,t=e.d3,n=e.config;e.pie=t.layout.pie().value(function(e){return e.values.reduce(function(e,t){return e+t.value},0)}),n.data_order||e.pie.sort(null)},S.updateRadius=function(){var e=this,t=e.config,n=t.gauge_width||t.donut_width;e.radiusExpanded=Math.min(e.arcWidth,e.arcHeight)/2,e.radius=e.radiusExpanded*.95,e.innerRadiusRatio=n?(e.radius-n)/e.radius:.6,e.innerRadius=e.hasType("donut")||e.hasType("gauge")?e.radius*e.innerRadiusRatio:0},S.updateArc=function(){var e=this;e.svgArc=e.getSvgArc(),e.svgArcExpanded=e.getSvgArcExpanded(),e.svgArcExpandedSub=e.getSvgArcExpanded(.98)},S.updateAngle=function(e){var t=this,n=t.config,r=!1,i=0,s,o,u,a;return n?(t.pie(t.filterTargetsToShow(t.data.targets)).forEach(function(t){!r&&t.data.id===e.data.id&&(r=!0,e=t,e.index=i),i++}),isNaN(e.startAngle)&&(e.startAngle=0),isNaN(e.endAngle)&&(e.endAngle=e.startAngle),t.isGaugeType(e.data)&&(s=n.gauge_min,o=n.gauge_max,u=Math.PI*(n.gauge_fullCircle?2:1)/(o-s),a=e.value<s?0:e.value<o?e.value-s:o-s,e.startAngle=n.gauge_startingAngle,e.endAngle=e.startAngle+u*a),r?e:null):null},S.getSvgArc=function(){var e=this,t=e.d3.svg.arc().outerRadius(e.radius).innerRadius(e.innerRadius),n=function(r,i){var s;return i?t(r):(s=e.updateAngle(r),s?t(s):"M 0 0")};return n.centroid=t.centroid,n},S.getSvgArcExpanded=function(e){var t=this,n=t.d3.svg.arc().outerRadius(t.radiusExpanded*(e?e:1)).innerRadius(t.innerRadius);return function(e){var r=t.updateAngle(e);return r?n(r):"M 0 0"}},S.getArc=function(e,t,n){return n||this.isArcType(e.data)?this.svgArc(e,t):"M 0 0"},S.transformForArcLabel=function(e){var t=this,n=t.config,i=t.updateAngle(e),s,o,u,a,f,l="";return i&&!t.hasType("gauge")&&(s=this.svgArc.centroid(i),o=isNaN(s[0])?0:s[0],u=isNaN(s[1])?0:s[1],a=Math.sqrt(o*o+u*u),t.hasType("donut")&&n.donut_label_ratio?f=r(n.donut_label_ratio)?n.donut_label_ratio(e,t.radius,a):n.donut_label_ratio:t.hasType("pie")&&n.pie_label_ratio?f=r(n.pie_label_ratio)?n.pie_label_ratio(e,t.radius,a):n.pie_label_ratio:f=t.radius&&a?(36/t.radius>.375?1.175-36/t.radius:.8)*t.radius/a:0,l="translate("+o*f+","+u*f+")"),l},S.getArcRatio=function(e){var t=this,n=t.config,r=Math.PI*(t.hasType("gauge")&&!n.gauge_fullCircle?1:2);return e?(e.endAngle-e.startAngle)/r:null},S.convertToArcData=function(e){return this.addName({id:e.data.id,value:e.value,ratio:this.getArcRatio(e),index:e.index})},S.textForArcLabel=function(e){var t=this,n,r,i,s,o;return t.shouldShowArcLabel()?(n=t.updateAngle(e),r=n?n.value:null,i=t.getArcRatio(n),s=e.data.id,!t.hasType("gauge")&&!t.meetsArcLabelThreshold(i)?"":(o=t.getArcLabelFormat(),o?o(r,i,s):t.defaultArcValueFormat(r,i))):""},S.textForGaugeMinMax=function(e,t){var n=this,r=n.getGaugeLabelExtents();return r?r(e,t):e},S.expandArc=function(t){var n=this,r;if(n.transiting){r=window.setInterval(function(){n.transiting||(window.clearInterval(r),n.legend.selectAll(".c3-legend-item-focused").size()>0&&n.expandArc(t))},10);return}t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t,"."+e.chartArc)).each(function(e){if(!n.shouldExpand(e.data.id))return;n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(e.data.id)).attr("d",n.svgArcExpanded).transition().duration(n.expandDuration(e.data.id)*2).attr("d",n.svgArcExpandedSub).each(function(e){n.isDonutType(e.data)})})},S.unexpandArc=function(t){var n=this;if(n.transiting)return;t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t,"."+e.chartArc)).selectAll("path").transition().duration(function(e){return n.expandDuration(e.data.id)}).attr("d",n.svgArc),n.svg.selectAll("."+e.arc)},S.expandDuration=function(e){var t=this,n=t.config;return t.isDonutType(e)?n.donut_expand_duration:t.isGaugeType(e)?n.gauge_expand_duration:t.isPieType(e)?n.pie_expand_duration:50},S.shouldExpand=function(e){var t=this,n=t.config;return t.isDonutType(e)&&n.donut_expand||t.isGaugeType(e)&&n.gauge_expand||t.isPieType(e)&&n.pie_expand},S.shouldShowArcLabel=function(){var e=this,t=e.config,n=!0;return e.hasType("donut")?n=t.donut_label_show:e.hasType("pie")&&(n=t.pie_label_show),n},S.meetsArcLabelThreshold=function(e){var t=this,n=t.config,r=t.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold;return e>=r},S.getArcLabelFormat=function(){var e=this,t=e.config,n=t.pie_label_format;return e.hasType("gauge")?n=t.gauge_label_format:e.hasType("donut")&&(n=t.donut_label_format),n},S.getGaugeLabelExtents=function(){var e=this,t=e.config;return t.gauge_label_extents},S.getArcTitle=function(){var e=this;return e.hasType("donut")?e.config.donut_title:""},S.updateTargetsForArc=function(t){var n=this,r=n.main,i,s,o=n.classChartArc.bind(n),u=n.classArcs.bind(n),a=n.classFocus.bind(n);i=r.select("."+e.chartArcs).selectAll("."+e.chartArc).data(n.pie(t)).attr("class",function(e){return o(e)+a(e.data)}),s=i.enter().append("g").attr("class",o),s.append("g").attr("class",u),s.append("text").attr("dy",n.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},S.initArc=function(){var t=this;t.arcs=t.main.select("."+e.chart).append("g").attr("class",e.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",e.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},S.redrawArc=function(t,n,r){var i=this,s=i.d3,o=i.config,u=i.main,a;a=u.selectAll("."+e.arcs).selectAll("."+e.arc).data(i.arcData.bind(i)),a.enter().append("path").attr("class",i.classArc.bind(i)).style("fill",function(e){return i.color(e.data)}).style("cursor",function(e){return o.interaction_enabled&&o.data_selection_isselectable(e)?"pointer":null}).each(function(e){i.isGaugeType(e.data)&&(e.startAngle=e.endAngle=o.gauge_startingAngle),this._current=e}),a.attr("transform",function(e){return!i.isGaugeType(e.data)&&r?"scale(0)":""}).on("mouseover",o.interaction_enabled?function(e){var t,n;if(i.transiting)return;t=i.updateAngle(e),t&&(n=i.convertToArcData(t),i.expandArc(t.data.id),i.api.focus(t.data.id),i.toggleFocusLegend(t.data.id,!0),i.config.data_onmouseover(n,this))}:null).on("mousemove",o.interaction_enabled?function(e){var t=i.updateAngle(e),n,r;t&&(n=i.convertToArcData(t),r=[n],i.showTooltip(r,this))}:null).on("mouseout",o.interaction_enabled?function(e){var t,n;if(i.transiting)return;t=i.updateAngle(e),t&&(n=i.convertToArcData(t),i.unexpandArc(t.data.id),i.api.revert(),i.revertLegend(),i.hideTooltip(),i.config.data_onmouseout(n,this))}:null).on("click",o.interaction_enabled?function(e,t){var n=i.updateAngle(e),r;n&&(r=i.convertToArcData(n),i.toggleShape&&i.toggleShape(this,r,t),i.config.data_onclick.call(i.api,r,this))}:null).each(function(){i.transiting=!0}).transition().duration(t).attrTween("d",function(e){var t=i.updateAngle(e),n;return t?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),n=s.interpolate(this._current,t),this._current=n(0),function(t){var r=n(t);return r.data=e.data,i.getArc(r,!0)}):function(){return"M 0 0"}}).attr("transform",r?"scale(1)":"").style("fill",function(e){return i.levelColor?i.levelColor(e.data.values[0].value):i.color(e.data.id)}).call(i.endall,function(){i.transiting=!1}),a.exit().transition().duration(n).style("opacity",0).remove(),u.selectAll("."+e.chartArc).select("text").style("opacity",0).attr("class",function(t){return i.isGaugeType(t.data)?e.gaugeValue:""}).text(i.textForArcLabel.bind(i)).attr("transform",i.transformForArcLabel.bind(i)).style("font-size",function(e){return i.isGaugeType(e.data)?Math.round(i.radius/5)+"px":""}).transition().duration(t).style("opacity",function(e){return i.isTargetToShow(e.data.id)&&i.isArcType(e.data)?1:0}),u.select("."+e.chartArcsTitle).style("opacity",i.hasType("donut")||i.hasType("gauge")?1:0),i.hasType("gauge")&&(i.arcs.select("."+e.chartArcsBackground).attr("d",function(){var e={data:[{value:o.gauge_max}],startAngle:o.gauge_startingAngle,endAngle:-1*o.gauge_startingAngle};return i.getArc(e,!0,!0)}),i.arcs.select("."+e.chartArcsGaugeUnit).attr("dy",".75em").text(o.gauge_label_show?o.gauge_units:""),i.arcs.select("."+e.chartArcsGaugeMin).attr("dx",-1*(i.innerRadius+(i.radius-i.innerRadius)/(o.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(o.gauge_label_show?i.textForGaugeMinMax(o.gauge_min,!1):""),i.arcs.select("."+e.chartArcsGaugeMax).attr("dx",i.innerRadius+(i.radius-i.innerRadius)/(o.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(o.gauge_label_show?i.textForGaugeMinMax(o.gauge_max,!0):""))},S.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("path").attr("class",e.chartArcsBackground),t.append("text").attr("class",e.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",e.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",e.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},S.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},S.hasCaches=function(e){for(var t=0;t<e.length;t++)if(!(e[t]in this.cache))return!1;return!0},S.addCache=function(e,t){this.cache[e]=this.cloneTarget(t)},S.getCaches=function(e){var t=[],n;for(n=0;n<e.length;n++)e[n]in this.cache&&t.push(this.cloneTarget(this.cache[e[n]]));return t},S.categoryName=function(e){var t=this.config;return e<t.axis_x_categories.length?t.axis_x_categories[e]:e},S.generateClass=function(e,t){return" "+e+" "+e+this.getTargetSelectorSuffix(t)},S.classText=function(t){return this.generateClass(e.text,t.index)},S.classTexts=function(t){return this.generateClass(e.texts,t.id)},S.classShape=function(t){return this.generateClass(e.shape,t.index)},S.classShapes=function(t){return this.generateClass(e.shapes,t.id)},S.classLine=function(t){return this.classShape(t)+this.generateClass(e.line,t.id)},S.classLines=function(t){return this.classShapes(t)+this.generateClass(e.lines,t.id)},S.classCircle=function(t){return this.classShape(t)+this.generateClass(e.circle,t.index)},S.classCircles=function(t){return this.classShapes(t)+this.generateClass(e.circles,t.id)},S.classBar=function(t){return this.classShape(t)+this.generateClass(e.bar,t.index)},S.classBars=function(t){return this.classShapes(t)+this.generateClass(e.bars,t.id)},S.classArc=function(t){return this.classShape(t.data)+this.generateClass(e.arc,t.data.id)},S.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(e.arcs,t.data.id)},S.classArea=function(t){return this.classShape(t)+this.generateClass(e.area,t.id)},S.classAreas=function(t){return this.classShapes(t)+this.generateClass(e.areas,t.id)},S.classRegion=function(t,n){return this.generateClass(e.region,n)+" "+("class"in t?t["class"]:"")},S.classEvent=function(t){return this.generateClass(e.eventRect,t.index)},S.classTarget=function(t){var n=this,r=n.config.data_classes[t],i="";return r&&(i=" "+e.target+"-"+r),n.generateClass(e.target,t)+i},S.classFocus=function(e){return this.classFocused(e)+this.classDefocused(e)},S.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?e.focused:"")},S.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?e.defocused:"")},S.classChartText=function(t){return e.chartText+this.classTarget(t.id)},S.classChartLine=function(t){return e.chartLine+this.classTarget(t.id)},S.classChartBar=function(t){return e.chartBar+this.classTarget(t.id)},S.classChartArc=function(t){return e.chartArc+this.classTarget(t.data.id)},S.getTargetSelectorSuffix=function(e){return e||e===0?("-"+e).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},S.selectorTarget=function(t,n){return(n||"")+"."+e.target+this.getTargetSelectorSuffix(t)},S.selectorTargets=function(e,t){var n=this;return e=e||[],e.length?e.map(function(e){return n.selectorTarget(e,t)}):null},S.selectorLegend=function(t){return"."+e.legendItem+this.getTargetSelectorSuffix(t)},S.selectorLegends=function(e){var t=this;return e&&e.length?e.map(function(e){return t.selectorLegend(e)}):null},S.getClipPath=function(e){var t=window.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(t?"":document.URL.split("#")[0])+"#"+e+")"},S.appendClip=function(e,t){return e.append("clipPath").attr("id",t).append("rect")},S.getAxisClipX=function(e){var t=Math.max(30,this.margin.left);return e?-(1+t):-(t-1)},S.getAxisClipY=function(e){return e?-20:-this.margin.top},S.getXAxisClipX=function(){var e=this;return e.getAxisClipX(!e.config.axis_rotated)},S.getXAxisClipY=function(){var e=this;return e.getAxisClipY(!e.config.axis_rotated)},S.getYAxisClipX=function(){var e=this;return e.config.axis_y_inner?-1:e.getAxisClipX(e.config.axis_rotated)},S.getYAxisClipY=function(){var e=this;return e.getAxisClipY(e.config.axis_rotated)},S.getAxisClipWidth=function(e){var t=this,n=Math.max(30,t.margin.left),r=Math.max(30,t.margin.right);return e?t.width+2+n+r:t.margin.left+20},S.getAxisClipHeight=function(e){return(e?this.margin.bottom:this.margin.top+this.height)+20},S.getXAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(!e.config.axis_rotated)},S.getXAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(!e.config.axis_rotated)},S.getYAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(e.config.axis_rotated)+(e.config.axis_y_inner?20:0)},S.getYAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(e.config.axis_rotated)},S.generateColor=function(){var e=this,t=e.config,n=e.d3,r=t.data_colors,i=h(t.color_pattern)?t.color_pattern:n.scale.category10().range(),s=t.data_color,o=[];return function(e){var t=e.id||e.data&&e.data.id||e,n;return r[t]instanceof Function?n=r[t](e):r[t]?n=r[t]:(o.indexOf(t)<0&&o.push(t),n=i[o.indexOf(t)%i.length],r[t]=n),s instanceof Function?s(n,e):n}},S.generateLevelColor=function(){var e=this,t=e.config,n=t.color_pattern,r=t.color_threshold,i=r.unit==="value",s=r.values&&r.values.length?r.values:[],o=r.max||100;return h(t.color_threshold)?function(e){var t,r,u=n[n.length-1];for(t=0;t<s.length;t++){r=i?e:e*100/o;if(r<s[t]){u=n[t];break}}return u}:null},S.getDefaultConfig=function(){var e={bindto:"#chart",svg_classname:undefined,size_width:undefined,size_height:undefined,padding_left:undefined,padding_right:undefined,padding_top:undefined,padding_bottom:undefined,resize_auto:!0,zoom_enabled:!1,zoom_extent:undefined,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:undefined,zoom_x_max:undefined,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:undefined,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:undefined,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:undefined,data_colors:{},data_hide:!1,data_filter:undefined,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:undefined,data_headers:undefined,data_json:undefined,data_rows:undefined,data_columns:undefined,data_mimeType:undefined,data_keys:undefined,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:undefined,legend_item_onclick:undefined,legend_item_onmouseover:undefined,legend_item_onmouseout:undefined,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:undefined,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:undefined,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:undefined,axis_x_min:undefined,axis_x_padding:{},axis_x_height:undefined,axis_x_extent:undefined,axis_x_label:{},axis_y_show:!0,axis_y_type:undefined,axis_y_max:undefined,axis_y_min:undefined,axis_y_inverted:!1,axis_y_center:undefined,axis_y_inner:undefined,axis_y_label:{},axis_y_tick_format:undefined,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:undefined,axis_y_tick_time_value:undefined,axis_y_tick_time_interval:undefined,axis_y_padding:{},axis_y_default:undefined,axis_y2_show:!1,axis_y2_max:undefined,axis_y2_min:undefined,axis_y2_inverted:!1,axis_y2_center:undefined,axis_y2_inner:undefined,axis_y2_label:{},axis_y2_tick_format:undefined,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:undefined,axis_y2_padding:{},axis_y2_default:undefined,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:undefined,point_select_r:undefined,line_connectNull:!1,line_step_type:"step",bar_width:undefined,bar_width_ratio:.6,bar_width_max:undefined,bar_zerobased:!0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:undefined,pie_label_threshold:.05,pie_label_ratio:undefined,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:undefined,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:undefined,gauge_units:undefined,gauge_width:undefined,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:undefined,donut_label_threshold:.05,donut_label_ratio:undefined,donut_width:undefined,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:undefined,tooltip_format_title:undefined,tooltip_format_name:undefined,tooltip_format_value:undefined,tooltip_position:undefined,tooltip_contents:function(t,n,r,i){return this.getTooltipContent?this.getTooltipContent(t,n,r,i):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:undefined,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(t){e[t]=this.additionalConfig[t]},this),e},S.additionalConfig={},S.loadConfig=function(e){function o(){var e=i.shift();return e&&r&&(typeof r=="undefined"?"undefined":t(r))==="object"&&e in r?(r=r[e],o()):e?undefined:r}var n=this.config,r,i,s;Object.keys(n).forEach(function(t){r=e,i=t.split("_"),s=o(),u(s)&&(n[t]=s)})},S.convertUrlToData=function(e,t,n,r,i){var s=this,o=t?t:"csv",u=s.d3.xhr(e);n&&Object.keys(n).forEach(function(e){u.header(e,n[e])}),u.get(function(e,t){var n,u=t.response||t.responseText;if(!t)throw new Error(e.responseURL+" "+e.status+" ("+e.statusText+")");o==="json"?n=s.convertJsonToData(JSON.parse(u),r):o==="tsv"?n=s.convertTsvToData(u):n=s.convertCsvToData(u),i.call(s,n)})},S.convertXsvToData=function(e,t){var n=t.parseRows(e),r;return n.length===1?(r=[{}],n[0].forEach(function(e){r[0][e]=null})):r=t.parse(e),r},S.convertCsvToData=function(e){return this.convertXsvToData(e,this.d3.csv)},S.convertTsvToData=function(e){return this.convertXsvToData(e,this.d3.tsv)},S.convertJsonToData=function(e,t){var n=this,r=[],i,s;return t?(t.x?(i=t.value.concat(t.x),n.config.data_x=t.x):i=t.value,r.push(i),e.forEach(function(e){var t=[];i.forEach(function(r){var i=n.findValueInJson(e,r);o(i)&&(i=null),t.push(i)}),r.push(t)}),s=n.convertRowsToData(r)):(Object.keys(e).forEach(function(t){r.push([t].concat(e[t]))}),s=n.convertColumnsToData(r)),s},S.findValueInJson=function(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");var n=t.split(".");for(var r=0;r<n.length;++r){var i=n[r];if(!(i in e))return;e=e[i]}return e},S.convertRowsToData=function(e){var t=[],n=e[0];for(var r=1;r<e.length;r++){var i={};for(var s=0;s<e[r].length;s++){if(o(e[r][s]))throw new Error("Source data is missing a component at ("+r+","+s+")!");i[n[s]]=e[r][s]}t.push(i)}return t},S.convertColumnsToData=function(e){var t=[];for(var n=0;n<e.length;n++){var r=e[n][0];for(var i=1;i<e[n].length;i++){o(t[i-1])&&(t[i-1]={});if(o(e[n][i]))throw new Error("Source data is missing a component at ("+n+","+i+")!");t[i-1][r]=e[n][i]}}return t},S.convertDataToTargets=function(e,t){var r=this,i=r.config,s=r.d3.keys(e[0]).filter(r.isNotX,r),a=r.d3.keys(e[0]).filter(r.isX,r),f;return s.forEach(function(s){var o=r.getXKey(s);r.isCustomX()||r.isTimeSeries()?a.indexOf(o)>=0?r.data.xs[s]=(t&&r.data.xs[s]?r.data.xs[s]:[]).concat(e.map(function(e){return e[o]}).filter(n).map(function(e,t){return r.generateTargetX(e,s,t)})):i.data_x?r.data.xs[s]=r.getOtherTargetXs():h(i.data_xs)&&(r.data.xs[s]=r.getXValuesOfXKey(o,r.data.targets)):r.data.xs[s]=e.map(function(e,t){return t})}),s.forEach(function(e){if(!r.data.xs[e])throw new Error('x is not defined for id = "'+e+'".')}),f=s.map(function(t,n){var s=i.data_idConverter(t);return{id:s,id_org:t,values:e.map(function(e,u){var a=r.getXKey(t),f=e[a],l=e[t]!==null&&!isNaN(e[t])?+e[t]:null,c;r.isCustomX()&&r.isCategorized()&&!o(f)?(n===0&&u===0&&(i.axis_x_categories=[]),c=i.axis_x_categories.indexOf(f),c===-1&&(c=i.axis_x_categories.length,i.axis_x_categories.push(f))):c=r.generateTargetX(f,t,u);if(o(e[t])||r.data.xs[t].length<=u)c=undefined;return{x:c,value:l,id:s}}).filter(function(e){return u(e.x)})}}),f.forEach(function(e){var t;i.data_xSort&&(e.values=e.values.sort(function(e,t){var n=e.x||e.x===0?e.x:Infinity,r=t.x||t.x===0?t.x:Infinity;return n-r})),t=0,e.values.forEach(function(e){e.index=t++}),r.data.xs[e.id].sort(function(e,t){return e-t})}),r.hasNegativeValue=r.hasNegativeValueInTargets(f),r.hasPositiveValue=r.hasPositiveValueInTargets(f),i.data_type&&r.setTargetType(r.mapToIds(f).filter(function(e){return!(e in i.data_types)}),i.data_type),f.forEach(function(e){r.addCache(e.id_org,e)}),f},S.isX=function(e){var t=this,n=t.config;return n.data_x&&e===n.data_x||h(n.data_xs)&&d(n.data_xs,e)},S.isNotX=function(e){return!this.isX(e)},S.getXKey=function(e){var t=this,n=t.config;return n.data_x?n.data_x:h(n.data_xs)?n.data_xs[e]:null},S.getXValuesOfXKey=function(e,t){var n=this,r,i=t&&h(t)?n.mapToIds(t):[];return i.forEach(function(t){n.getXKey(t)===e&&(r=n.data.xs[t])}),r},S.getIndexByX=function(e){var t=this,n=t.filterByX(t.data.targets,e);return n.length?n[0].index:null},S.getXValue=function(e,t){var r=this;return e in r.data.xs&&r.data.xs[e]&&n(r.data.xs[e][t])?r.data.xs[e][t]:t},S.getOtherTargetXs=function(){var e=this,t=Object.keys(e.data.xs);return t.length?e.data.xs[t[0]]:null},S.getOtherTargetX=function(e){var t=this.getOtherTargetXs();return t&&e<t.length?t[e]:null},S.addXs=function(e){var t=this;Object.keys(e).forEach(function(n){t.config.data_xs[n]=e[n]})},S.hasMultipleX=function(e){return this.d3.set(Object.keys(e).map(function(t){return e[t]})).size()>1},S.isMultipleX=function(){return h(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},S.addName=function(e){var t=this,n;return e&&(n=t.config.data_names[e.id],e.name=n!==undefined?n:e.id),e},S.getValueOnIndex=function(e,t){var n=e.filter(function(e){return e.index===t});return n.length?n[0]:null},S.updateTargetX=function(e,t){var n=this;e.forEach(function(e){e.values.forEach(function(r,i){r.x=n.generateTargetX(t[i],e.id,i)}),n.data.xs[e.id]=t})},S.updateTargetXs=function(e,t){var n=this;e.forEach(function(e){t[e.id]&&n.updateTargetX([e],t[e.id])})},S.generateTargetX=function(e,t,r){var i=this,s;return i.isTimeSeries()?s=e?i.parseDate(e):i.parseDate(i.getXValue(t,r)):i.isCustomX()&&!i.isCategorized()?s=n(e)?+e:i.getXValue(t,r):s=r,s},S.cloneTarget=function(e){return{id:e.id,id_org:e.id_org,values:e.values.map(function(e){return{x:e.x,value:e.value,id:e.id}})}},S.updateXs=function(){var e=this;e.data.targets.length&&(e.xs=[],e.data.targets[0].values.forEach(function(t){e.xs[t.index]=t.x}))},S.getPrevX=function(e){var t=this.xs[e-1];return typeof t!="undefined"?t:null},S.getNextX=function(e){var t=this.xs[e+1];return typeof t!="undefined"?t:null},S.getMaxDataCount=function(){var e=this;return e.d3.max(e.data.targets,function(e){return e.values.length})},S.getMaxDataCountTarget=function(e){var t=e.length,n=0,r;return t>1?e.forEach(function(e){e.values.length>n&&(r=e,n=e.values.length)}):r=t?e[0]:null,r},S.getEdgeX=function(e){var t=this;return e.length?[t.d3.min(e,function(e){return e.values[0].x}),t.d3.max(e,function(e){return e.values[e.values.length-1].x})]:[0,0]},S.mapToIds=function(e){return e.map(function(e){return e.id})},S.mapToTargetIds=function(e){var t=this;return e?[].concat(e):t.mapToIds(t.data.targets)},S.hasTarget=function(e,t){var n=this.mapToIds(e),r;for(r=0;r<n.length;r++)if(n[r]===t)return!0;return!1},S.isTargetToShow=function(e){return this.hiddenTargetIds.indexOf(e)<0},S.isLegendToShow=function(e){return this.hiddenLegendIds.indexOf(e)<0},S.filterTargetsToShow=function(e){var t=this;return e.filter(function(e){return t.isTargetToShow(e.id)})},S.mapTargetsToUniqueXs=function(e){var t=this,n=t.d3.set(t.d3.merge(e.map(function(e){return e.values.map(function(e){return+e.x})}))).values();return n=t.isTimeSeries()?n.map(function(e){return new Date(+e)}):n.map(function(e){return+e}),n.sort(function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN})},S.addHiddenTargetIds=function(e){e=e instanceof Array?e:new Array(e);for(var t=0;t<e.length;t++)this.hiddenTargetIds.indexOf(e[t])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(e[t]))},S.removeHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return e.indexOf(t)<0})},S.addHiddenLegendIds=function(e){e=e instanceof Array?e:new Array(e);for(var t=0;t<e.length;t++)this.hiddenLegendIds.indexOf(e[t])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(e[t]))},S.removeHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return e.indexOf(t)<0})},S.getValuesAsIdKeyed=function(e){var t={};return e.forEach(function(e){t[e.id]=[],e.values.forEach(function(n){t[e.id].push(n.value)})}),t},S.checkValueInTargets=function(e,t){var n=Object.keys(e),r,i,s;for(r=0;r<n.length;r++){s=e[n[r]].values;for(i=0;i<s.length;i++)if(t(s[i].value))return!0}return!1},S.hasNegativeValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return e<0})},S.hasPositiveValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return e>0})},S.isOrderDesc=function(){var e=this.config;return typeof e.data_order=="string"&&e.data_order.toLowerCase()==="desc"},S.isOrderAsc=function(){var e=this.config;return typeof e.data_order=="string"&&e.data_order.toLowerCase()==="asc"},S.orderTargets=function(e){var t=this,n=t.config,s=t.isOrderAsc(),o=t.isOrderDesc();return s||o?e.sort(function(e,t){var n=function(t,n){return t+Math.abs(n.value)},r=e.values.reduce(n,0),i=t.values.reduce(n,0);return s?i-r:r-i}):r(n.data_order)?e.sort(n.data_order):i(n.data_order)&&e.sort(function(e,t){return n.data_order.indexOf(e.id)-n.data_order.indexOf(t.id)}),e},S.filterByX=function(e,t){return this.d3.merge(e.map(function(e){return e.values})).filter(function(e){return e.x-t===0})},S.filterRemoveNull=function(e){return e.filter(function(e){return n(e.value)})},S.filterByXDomain=function(e,t){return e.map(function(e){return{id:e.id,id_org:e.id_org,values:e.values.filter(function(e){return t[0]<=e.x&&e.x<=t[1]})}})},S.hasDataLabel=function(){var e=this.config;return typeof e.data_labels=="boolean"&&e.data_labels?!0:t(e.data_labels)==="object"&&h(e.data_labels)?!0:!1},S.getDataLabelLength=function(e,t,n){var r=this,i=[0,0],s=1.3;return r.selectChart.select("svg").selectAll(".dummy").data([e,t]).enter().append("text").text(function(e){return r.dataLabelFormat(e.id)(e)}).each(function(e,t){i[t]=this.getBoundingClientRect()[n]*s}).remove(),i},S.isNoneArc=function(e){return this.hasTarget(this.data.targets,e.id)},S.isArc=function(e){return"data"in e&&this.hasTarget(this.data.targets,e.data.id)},S.findSameXOfValues=function(e,t){var n,r=e[t].x,i=[];for(n=t-1;n>=0;n--){if(r!==e[n].x)break;i.push(e[n])}for(n=t;n<e.length;n++){if(r!==e[n].x)break;i.push(e[n])}return i},S.findClosestFromTargets=function(e,t){var n=this,r;return r=e.map(function(e){return n.findClosest(e.values,t)}),n.findClosest(r,t)},S.findClosest=function(t,n){var r=this,i=r.config.point_sensitivity,s;return t.filter(function(e){return e&&r.isBarType(e.id)}).forEach(function(t){var n=r.main.select("."+e.bars+r.getTargetSelectorSuffix(t.id)+" ."+e.bar+"-"+t.index).node();!s&&r.isWithinBar(n)&&(s=t)}),t.filter(function(e){return e&&!r.isBarType(e.id)}).forEach(function(e){var t=r.dist(e,n);t<i&&(i=t,s=e)}),s},S.dist=function(e,t){var n=this,r=n.config,i=r.axis_rotated?1:0,s=r.axis_rotated?0:1,o=n.circleY(e,e.index),u=n.x(e.x);return Math.sqrt(Math.pow(u-t[i],2)+Math.pow(o-t[s],2))},S.convertValuesToStep=function(e){var t=[].concat(e),n;if(!this.isCategorized())return e;for(n=e.length+1;0<n;n--)t[n]=t[n-1];return t[0]={x:t[0].x-1,value:t[0].value,id:t[0].id},t[e.length+1]={x:t[e.length].x+1,value:t[e.length].value,id:t[e.length].id},t},S.updateDataAttributes=function(e,t){var n=this,r=n.config,i=r["data_"+e];return typeof t=="undefined"?i:(Object.keys(t).forEach(function(e){i[e]=t[e]}),n.redraw({withLegend:!0}),i)},S.load=function(e,t){var n=this;e&&(t.filter&&(e=e.filter(t.filter)),(t.type||t.types)&&e.forEach(function(e){var r=t.types&&t.types[e.id]?t.types[e.id]:t.type;n.setTargetType(e.id,r)}),n.data.targets.forEach(function(t){for(var n=0;n<e.length;n++)if(t.id===e[n].id){t.values=e[n].values,e.splice(n,1);break}}),n.data.targets=n.data.targets.concat(e)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()},S.loadFromArgs=function(e){var t=this;e.data?t.load(t.convertDataToTargets(e.data),e):e.url?t.convertUrlToData(e.url,e.mimeType,e.headers,e.keys,function(n){t.load(t.convertDataToTargets(n),e)}):e.json?t.load(t.convertDataToTargets(t.convertJsonToData(e.json,e.keys)),e):e.rows?t.load(t.convertDataToTargets(t.convertRowsToData(e.rows)),e):e.columns?t.load(t.convertDataToTargets(t.convertColumnsToData(e.columns)),e):t.load(null,e)},S.unload=function(t,n){var r=this;n||(n=function(){}),t=t.filter(function(e){return r.hasTarget(r.data.targets,e)});if(!t||t.length===0){n();return}r.svg.selectAll(t.map(function(e){return r.selectorTarget(e)})).transition().style("opacity",0).remove().call(r.endall,n),t.forEach(function(t){r.withoutFadeIn[t]=!1,r.legend&&r.legend.selectAll("."+e.legendItem+r.getTargetSelectorSuffix(t)).remove(),r.data.targets=r.data.targets.filter(function(e){return e.id!==t})})},S.getYDomainMin=function(e){var t=this,n=t.config,r=t.mapToIds(e),i=t.getValuesAsIdKeyed(e),s,o,u,a,f,l;if(n.data_groups.length>0){l=t.hasNegativeValueInTargets(e);for(s=0;s<n.data_groups.length;s++){a=n.data_groups[s].filter(function(e){return r.indexOf(e)>=0});if(a.length===0)continue;u=a[0],l&&i[u]&&i[u].forEach(function(e,t){i[u][t]=e<0?e:0});for(o=1;o<a.length;o++){f=a[o];if(!i[f])continue;i[f].forEach(function(e,n){t.axis.getId(f)===t.axis.getId(u)&&i[u]&&!(l&&+e>0)&&(i[u][n]+=+e)})}}}return t.d3.min(Object.keys(i).map(function(e){return t.d3.min(i[e])}))},S.getYDomainMax=function(e){var t=this,n=t.config,r=t.mapToIds(e),i=t.getValuesAsIdKeyed(e),s,o,u,a,f,l;if(n.data_groups.length>0){l=t.hasPositiveValueInTargets(e);for(s=0;s<n.data_groups.length;s++){a=n.data_groups[s].filter(function(e){return r.indexOf(e)>=0});if(a.length===0)continue;u=a[0],l&&i[u]&&i[u].forEach(function(e,t){i[u][t]=e>0?e:0});for(o=1;o<a.length;o++){f=a[o];if(!i[f])continue;i[f].forEach(function(e,n){t.axis.getId(f)===t.axis.getId(u)&&i[u]&&!(l&&+e<0)&&(i[u][n]+=+e)})}}}return t.d3.max(Object.keys(i).map(function(e){return t.d3.max(i[e])}))},S.getYDomain=function(e,t,r){var i=this,s=i.config,o=e.filter(function(e){return i.axis.getId(e.id)===t}),u=r?i.filterByXDomain(o,r):o,a=t==="y2"?s.axis_y2_min:s.axis_y_min,f=t==="y2"?s.axis_y2_max:s.axis_y_max,c=i.getYDomainMin(u),p=i.getYDomainMax(u),d,v,m,g,y,b=t==="y2"?s.axis_y2_center:s.axis_y_center,w,E,S,x,T,N,C=i.hasType("bar",u)&&s.bar_zerobased||i.hasType("area",u)&&s.area_zerobased,k=t==="y2"?s.axis_y2_inverted:s.axis_y_inverted,L=i.hasDataLabel()&&s.axis_rotated,A=i.hasDataLabel()&&!s.axis_rotated;c=n(a)?a:n(f)?c<f?c:f-10:c,p=n(f)?f:n(a)?a<p?p:a+10:p;if(u.length===0)return t==="y2"?i.y2.domain():i.y.domain();isNaN(c)&&(c=0),isNaN(p)&&(p=c),c===p&&(c<0?p=0:c=0),T=c>=0&&p>=0,N=c<=0&&p<=0;if(n(a)&&T||n(f)&&N)C=!1;return C&&(T&&(c=0),N&&(p=0)),v=Math.abs(p-c),m=g=y=v*.1,typeof b!="undefined"&&(w=Math.max(Math.abs(c),Math.abs(p)),p=b+w,c=b-w),L?(E=i.getDataLabelLength(c,p,"width"),S=l(i.y.range()),x=[E[0]/S,E[1]/S],g+=v*(x[1]/(1-x[0]-x[1])),y+=v*(x[0]/(1-x[0]-x[1]))):A&&(E=i.getDataLabelLength(c,p,"height"),g+=i.axis.convertPixelsToAxisPadding(E[1],v),y+=i.axis.convertPixelsToAxisPadding(E[0],v)),t==="y"&&h(s.axis_y_padding)&&(g=i.axis.getPadding(s.axis_y_padding,"top",g,v),y=i.axis.getPadding(s.axis_y_padding,"bottom",y,v)),t==="y2"&&h(s.axis_y2_padding)&&(g=i.axis.getPadding(s.axis_y2_padding,"top",g,v),y=i.axis.getPadding(s.axis_y2_padding,"bottom",y,v)),C&&(T&&(y=c),N&&(g=-p)),d=[c-y,p+g],k?d.reverse():d},S.getXDomainMin=function(e){var t=this,n=t.config;return u(n.axis_x_min)?t.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:t.d3.min(e,function(e){return t.d3.min(e.values,function(e){return e.x})})},S.getXDomainMax=function(e){var t=this,n=t.config;return u(n.axis_x_max)?t.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:t.d3.max(e,function(e){return t.d3.max(e.values,function(e){return e.x})})},S.getXDomainPadding=function(e){var r=this,i=r.config,s=e[1]-e[0],o,u,a,f;return r.isCategorized()?u=0:r.hasType("bar")?(o=r.getMaxDataCount(),u=o>1?s/(o-1)/2:.5):u=s*.01,t(i.axis_x_padding)==="object"&&h(i.axis_x_padding)?(a=n(i.axis_x_padding.left)?i.axis_x_padding.left:u,f=n(i.axis_x_padding.right)?i.axis_x_padding.right:u):typeof i.axis_x_padding=="number"?a=f=i.axis_x_padding:a=f=u,{left:a,right:f}},S.getXDomain=function(e){var t=this,n=[t.getXDomainMin(e),t.getXDomainMax(e)],r=n[0],i=n[1],s=t.getXDomainPadding(n),o=0,u=0;r-i===0&&!t.isCategorized()&&(t.isTimeSeries()?(r=new Date(r.getTime()*.5),i=new Date(i.getTime()*1.5)):(r=r===0?1:r*.5,i=i===0?-1:i*1.5));if(r||r===0)o=t.isTimeSeries()?new Date(r.getTime()-s.left):r-s.left;if(i||i===0)u=t.isTimeSeries()?new Date(i.getTime()+s.right):i+s.right;return[o,u]},S.updateXDomain=function(e,t,n,r,i){var s=this,o=s.config;return n&&(s.x.domain(i?i:s.d3.extent(s.getXDomain(e))),s.orgXDomain=s.x.domain(),o.zoom_enabled&&s.zoom.scale(s.x).updateScaleExtent(),s.subX.domain(s.x.domain()),s.brush&&s.brush.scale(s.subX)),t&&(s.x.domain(i?i:!s.brush||s.brush.empty()?s.orgXDomain:s.brush.extent()),o.zoom_enabled&&s.zoom.scale(s.x).updateScaleExtent()),r&&s.x.domain(s.trimXDomain(s.x.orgDomain())),s.x.domain()},S.trimXDomain=function(e){var t=this.getZoomDomain(),n=t[0],r=t[1];return e[0]<=n&&(e[1]=+e[1]+(n-e[0]),e[0]=n),r<=e[1]&&(e[0]=+e[0]-(e[1]-r),e[1]=r),e},S.drag=function(t){var n=this,r=n.config,i=n.main,s=n.d3,o,u,a,f,l,c,h,p;if(n.hasArcType())return;if(!r.data_selection_enabled)return;if(r.zoom_enabled&&!n.zoom.altDomain)return;if(!r.data_selection_multiple)return;o=n.dragStart[0],u=n.dragStart[1],a=t[0],f=t[1],l=Math.min(o,a),c=Math.max(o,a),h=r.data_selection_grouped?n.margin.top:Math.min(u,f),p=r.data_selection_grouped?n.height:Math.max(u,f),i.select("."+e.dragarea).attr("x",l).attr("y",h).attr("width",c-l).attr("height",p-h),i.selectAll("."+e.shapes).selectAll("."+e.shape).filter(function(e){return r.data_selection_isselectable(e)}).each(function(t,r){var i=s.select(this),o=i.classed(e.SELECTED),u=i.classed(e.INCLUDED),a,f,d,v,g,y=!1,b;if(i.classed(e.circle))a=i.attr("cx")*1,f=i.attr("cy")*1,g=n.togglePoint,y=l<a&&a<c&&h<f&&f<p;else{if(!i.classed(e.bar))return;b=m(this),a=b.x,f=b.y,d=b.width,v=b.height,g=n.togglePath,y=!(c<a||a+d<l)&&!(p<f||f+v<h)}y^u&&(i.classed(e.INCLUDED,!u),i.classed(e.SELECTED,!o),g.call(n,!o,i,t,r))})},S.dragstart=function(t){var n=this,r=n.config;if(n.hasArcType())return;if(!r.data_selection_enabled)return;n.dragStart=t,n.main.select("."+e.chart).append("rect").attr("class",e.dragarea).style("opacity",.1),n.dragging=!0},S.dragend=function(){var t=this,n=t.config;if(t.hasArcType())return;if(!n.data_selection_enabled)return;t.main.select("."+e.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+e.shape).classed(e.INCLUDED,!1),t.dragging=!1},S.getYFormat=function(e){var t=this,n=e&&!t.hasType("gauge")?t.defaultArcValueFormat:t.yFormat,r=e&&!t.hasType("gauge")?t.defaultArcValueFormat:t.y2Format;return function(e,i,s){var o=t.axis.getId(s)==="y2"?r:n;return o.call(t,e,i)}},S.yFormat=function(e){var t=this,n=t.config,r=n.axis_y_tick_format?n.axis_y_tick_format:t.defaultValueFormat;return r(e)},S.y2Format=function(e){var t=this,n=t.config,r=n.axis_y2_tick_format?n.axis_y2_tick_format:t.defaultValueFormat;return r(e)},S.defaultValueFormat=function(e){return n(e)?+e:""},S.defaultArcValueFormat=function(e,t){return(t*100).toFixed(1)+"%"},S.dataLabelFormat=function(e){var r=this,i=r.config.data_labels,s,o=function(t){return n(t)?+t:""};return typeof i.format=="function"?s=i.format:t(i.format)==="object"?i.format[e]?s=i.format[e]===!0?o:i.format[e]:s=function(){return""}:s=o,s},S.initGrid=function(){var t=this,n=t.config,r=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",e.grid),n.grid_x_show&&t.grid.append("g").attr("class",e.xgrids),n.grid_y_show&&t.grid.append("g").attr("class",e.ygrids),n.grid_focus_show&&t.grid.append("g").attr("class",e.xgridFocus).append("line").attr("class",e.xgridFocus),t.xgrid=r.selectAll([]),n.grid_lines_front||t.initGridLines()},S.initGridLines=function(){var t=this,n=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",e.grid+" "+e.gridLines),t.gridLines.append("g").attr("class",e.xgridLines),t.gridLines.append("g").attr("class",e.ygridLines),t.xgridLines=n.selectAll([])},S.updateXGrid=function(t){var n=this,r=n.config,i=n.d3,s=n.generateGridData(r.grid_x_type,n.x),o=n.isCategorized()?n.xAxis.tickOffset():0;n.xgridAttr=r.axis_rotated?{x1:0,x2:n.width,y1:function(t){return n.x(t)-o},y2:function(t){return n.x(t)-o}}:{x1:function(t){return n.x(t)+o},x2:function(t){return n.x(t)+o},y1:0,y2:n.height},n.xgrid=n.main.select("."+e.xgrids).selectAll("."+e.xgrid).data(s),n.xgrid.enter().append("line").attr("class",e.xgrid),t||n.xgrid.attr(n.xgridAttr).style("opacity",function(){return+i.select(this).attr(r.axis_rotated?"y1":"x1")===(r.axis_rotated?n.height:0)?0:1}),n.xgrid.exit().remove()},S.updateYGrid=function(){var t=this,n=t.config,r=t.yAxis.tickValues()||t.y.ticks(n.grid_y_ticks);t.ygrid=t.main.select("."+e.ygrids).selectAll("."+e.ygrid).data(r),t.ygrid.enter().append("line").attr("class",e.ygrid),t.ygrid.attr("x1",n.axis_rotated?t.y:0).attr("x2",n.axis_rotated?t.y:t.width).attr("y1",n.axis_rotated?0:t.y).attr("y2",n.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},S.gridTextAnchor=function(e){return e.position?e.position:"end"},S.gridTextDx=function(e){return e.position==="start"?4:e.position==="middle"?0:-4},S.xGridTextX=function(e){return e.position==="start"?-this.height:e.position==="middle"?-this.height/2:0},S.yGridTextX=function(e){return e.position==="start"?0:e.position==="middle"?this.width/2:this.width},S.updateGrid=function(t){var n=this,r=n.main,i=n.config,s,o,u;n.grid.style("visibility",n.hasArcType()?"hidden":"visible"),r.select("line."+e.xgridFocus).style("visibility","hidden"),i.grid_x_show&&n.updateXGrid(),n.xgridLines=r.select("."+e.xgridLines).selectAll("."+e.xgridLine).data(i.grid_x_lines),s=n.xgridLines.enter().append("g").attr("class",function(t){return e.xgridLine+(t["class"]?" "+t["class"]:"")}),s.append("line").style("opacity",0),s.append("text").attr("text-anchor",n.gridTextAnchor).attr("transform",i.axis_rotated?"":"rotate(-90)").attr("dx",n.gridTextDx).attr("dy",-5).style("opacity",0),n.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),i.grid_y_show&&n.updateYGrid(),n.ygridLines=r.select("."+e.ygridLines).selectAll("."+e.ygridLine).data(i.grid_y_lines),o=n.ygridLines.enter().append("g").attr("class",function(t){return e.ygridLine+(t["class"]?" "+t["class"]:"")}),o.append("line").style("opacity",0),o.append("text").attr("text-anchor",n.gridTextAnchor).attr("transform",i.axis_rotated?"rotate(-90)":"").attr("dx",n.gridTextDx).attr("dy",-5).style("opacity",0),u=n.yv.bind(n),n.ygridLines.select("line").transition().duration(t).attr("x1",i.axis_rotated?u:0).attr("x2",i.axis_rotated?u:n.width).attr("y1",i.axis_rotated?0:u).attr("y2",i.axis_rotated?n.height:u).style("opacity",1),n.ygridLines.select("text").transition().duration(t).attr("x",i.axis_rotated?n.xGridTextX.bind(n):n.yGridTextX.bind(n)).attr("y",u).text(function(e){return e.text}).style("opacity",1),n.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},S.redrawGrid=function(e){var t=this,n=t.config,r=t.xv.bind(t),i=t.xgridLines.select("line"),s=t.xgridLines.select("text");return[(e?i.transition():i).attr("x1",n.axis_rotated?0:r).attr("x2",n.axis_rotated?t.width:r).attr("y1",n.axis_rotated?r:0).attr("y2",n.axis_rotated?r:t.height).style("opacity",1),(e?s.transition():s).attr("x",n.axis_rotated?t.yGridTextX.bind(t):t.xGridTextX.bind(t)).attr("y",r).text(function(e){return e.text}).style("opacity",1)]},S.showXGridFocus=function(t){var r=this,i=r.config,s=t.filter(function(e){return e&&n(e.value)}),o=r.main.selectAll("line."+e.xgridFocus),u=r.xx.bind(r);if(!i.tooltip_show)return;if(r.hasType("scatter")||r.hasArcType())return;o.style("visibility","visible").data([s[0]]).attr(i.axis_rotated?"y1":"x1",u).attr(i.axis_rotated?"y2":"x2",u),r.smoothLines(o,"grid")},S.hideXGridFocus=function(){this.main.select("line."+e.xgridFocus).style("visibility","hidden")},S.updateXgridFocus=function(){var t=this,n=t.config;t.main.select("line."+e.xgridFocus).attr("x1",n.axis_rotated?0:-10).attr("x2",n.axis_rotated?t.width:-10).attr("y1",n.axis_rotated?-10:0).attr("y2",n.axis_rotated?-10:t.height)},S.generateGridData=function(t,n){var r=this,i=[],s,o,u,a,f=r.main.select("."+e.axisX).selectAll(".tick").size();if(t==="year"){s=r.getXDomain(),o=s[0].getFullYear(),u=s[1].getFullYear();for(a=o;a<=u;a++)i.push(new Date(a+"-01-01 00:00:00"))}else i=n.ticks(10),i.length>f&&(i=i.filter(function(e){return(""+e).indexOf(".")<0}));return i},S.getGridFilterToRemove=function(e){return e?function(t){var n=!1;return[].concat(e).forEach(function(e){if("value"in e&&t.value===e.value||"class"in e&&t["class"]===e["class"])n=!0}),n}:function(){return!0}},S.removeGridLines=function(t,n){var r=this,i=r.config,s=r.getGridFilterToRemove(t),o=function(t){return!s(t)},u=n?e.xgridLines:e.ygridLines,a=n?e.xgridLine:e.ygridLine;r.main.select("."+u).selectAll("."+a).filter(s).transition().duration(i.transition_duration).style("opacity",0).remove(),n?i.grid_x_lines=i.grid_x_lines.filter(o):i.grid_y_lines=i.grid_y_lines.filter(o)},S.initEventRect=function(){var t=this;t.main.select("."+e.chart).append("g").attr("class",e.eventRects).style("fill-opacity",0)},S.redrawEventRect=function(){var t=this,n=t.config,r,i,s=t.isMultipleX(),o=t.main.select("."+e.eventRects).style("cursor",n.zoom_enabled?n.axis_rotated?"ns-resize":"ew-resize":null).classed(e.eventRectsMultiple,s).classed(e.eventRectsSingle,!s);o.selectAll("."+e.eventRect).remove(),t.eventRect=o.selectAll("."+e.eventRect),s?(r=t.eventRect.data([0]),t.generateEventRectsForMultipleXs(r.enter()),t.updateEventRect(r)):(i=t.getMaxDataCountTarget(t.data.targets),o.datum(i?i.values:[]),t.eventRect=o.selectAll("."+e.eventRect),r=t.eventRect.data(function(e){return e}),t.generateEventRectsForSingleX(r.enter()),t.updateEventRect(r),r.exit().remove())},S.updateEventRect=function(e){var t=this,n=t.config,r,i,s,o,u,a;e=e||t.eventRect.data(function(e){return e}),t.isMultipleX()?(r=0,i=0,s=t.width,o=t.height):((t.isCustomX()||t.isTimeSeries())&&!t.isCategorized()?(t.updateXs(),u=function(r){var i=t.getPrevX(r.index),s=t.getNextX(r.index);return i===null&&s===null?n.axis_rotated?t.height:t.width:(i===null&&(i=t.x.domain()[0]),s===null&&(s=t.x.domain()[1]),Math.max(0,(t.x(s)-t.x(i))/2))},a=function(n){var r=t.getPrevX(n.index),i=t.getNextX(n.index),s=t.data.xs[n.id][n.index];return r===null&&i===null?0:(r===null&&(r=t.x.domain()[0]),(t.x(s)+t.x(r))/2)}):(u=t.getEventRectWidth(),a=function(n){return t.x(n.x)-u/2}),r=n.axis_rotated?0:a,i=n.axis_rotated?a:0,s=n.axis_rotated?t.width:u,o=n.axis_rotated?u:t.height),e.attr("class",t.classEvent.bind(t)).attr("x",r).attr("y",i).attr("width",s).attr("height",o)},S.generateEventRectsForSingleX=function(t){var n=this,r=n.d3,i=n.config;t.append("rect").attr("class",n.classEvent.bind(n)).style("cursor",i.data_selection_enabled&&i.data_selection_grouped?"pointer":null).on("mouseover",function(t){var r=t.index;if(n.dragging||n.flowing)return;if(n.hasArcType())return;i.point_focus_expand_enabled&&n.expandCircles(r,null,!0),n.expandBars(r,null,!0),n.main.selectAll("."+e.shape+"-"+r).each(function(e){i.data_onmouseover.call(n.api,e)})}).on("mouseout",function(t){var r=t.index;if(!n.config)return;if(n.hasArcType())return;n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars(),n.main.selectAll("."+e.shape+"-"+r).each(function(e){i.data_onmouseout.call(n.api,e)})}).on("mousemove",function(t){var s,o=t.index,u=n.svg.select("."+e.eventRect+"-"+o);if(n.dragging||n.flowing)return;if(n.hasArcType())return;n.isStepType(t)&&n.config.line_step_type==="step-after"&&r.mouse(this)[0]<n.x(n.getXValue(t.id,o))&&(o-=1),s=n.filterTargetsToShow(n.data.targets).map(function(e){return n.addName(n.getValueOnIndex(e.values,o))}),i.tooltip_grouped&&(n.showTooltip(s,this),n.showXGridFocus(s));if(i.tooltip_grouped&&(!i.data_selection_enabled||i.data_selection_grouped))return;n.main.selectAll("."+e.shape+"-"+o).each(function(){r.select(this).classed(e.EXPANDED,!0),i.data_selection_enabled&&u.style("cursor",i.data_selection_grouped?"pointer":null),i.tooltip_grouped||(n.hideXGridFocus(),n.hideTooltip(),i.data_selection_grouped||(n.unexpandCircles(o),n.unexpandBars(o)))}).filter(function(e){return n.isWithinShape(this,e)}).each(function(e){i.data_selection_enabled&&(i.data_selection_grouped||i.data_selection_isselectable(e))&&u.style("cursor","pointer"),i.tooltip_grouped||(n.showTooltip([e],this),n.showXGridFocus([e]),i.point_focus_expand_enabled&&n.expandCircles(o,e.id,!0),n.expandBars(o,e.id,!0))})}).on("click",function(t){var s=t.index;if(n.hasArcType()||!n.toggleShape)return;if(n.cancelClick){n.cancelClick=!1;return}n.isStepType(t)&&i.line_step_type==="step-after"&&r.mouse(this)[0]<n.x(n.getXValue(t.id,s))&&(s-=1),n.main.selectAll("."+e.shape+"-"+s).each(function(e){if(i.data_selection_grouped||n.isWithinShape(this,e))n.toggleShape(this,e,s),n.config.data_onclick.call(n.api,e,this)})}).call(i.data_selection_draggable&&n.drag?r.behavior.drag().origin(Object).on("drag",function(){n.drag(r.mouse(this))}).on("dragstart",function(){n.dragstart(r.mouse(this))}).on("dragend",function(){n.dragend()}):function(){})},S.generateEventRectsForMultipleXs=function(t){function s(){n.svg.select("."+e.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}var n=this,r=n.d3,i=n.config;t.append("rect").attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).attr("class",e.eventRect).on("mouseout",function(){if(!n.config)return;if(n.hasArcType())return;s()}).on("mousemove",function(){var t=n.filterTargetsToShow(n.data.targets),o,u,a,f;if(n.dragging)return;if(n.hasArcType(t))return;o=r.mouse(this),u=n.findClosestFromTargets(t,o),n.mouseover&&(!u||u.id!==n.mouseover.id)&&(i.data_onmouseout.call(n.api,n.mouseover),n.mouseover=undefined);if(!u){s();return}n.isScatterType(u)||!i.tooltip_grouped?a=[u]:a=n.filterByX(t,u.x),f=a.map(function(e){return n.addName(e)}),n.showTooltip(f,this),i.point_focus_expand_enabled&&n.expandCircles(u.index,u.id,!0),n.expandBars(u.index,u.id,!0),n.showXGridFocus(f);if(n.isBarType(u.id)||n.dist(u,o)<i.point_sensitivity)n.svg.select("."+e.eventRect).style("cursor","pointer"),n.mouseover||(i.data_onmouseover.call(n.api,u),n.mouseover=u)}).on("click",function(){var t=n.filterTargetsToShow(n.data.targets),s,o;if(n.hasArcType(t))return;s=r.mouse(this),o=n.findClosestFromTargets(t,s);if(!o)return;(n.isBarType(o.id)||n.dist(o,s)<i.point_sensitivity)&&n.main.selectAll("."+e.shapes+n.getTargetSelectorSuffix(o.id)).selectAll("."+e.shape+"-"+o.index).each(function(){if(i.data_selection_grouped||n.isWithinShape(this,o))n.toggleShape(this,o,o.index),n.config.data_onclick.call(n.api,o,this)})}).call(i.data_selection_draggable&&n.drag?r.behavior.drag().origin(Object).on("drag",function(){n.drag(r.mouse(this))}).on("dragstart",function(){n.dragstart(r.mouse(this))}).on("dragend",function(){n.dragend()}):function(){})},S.dispatchEvent=function(t,n,r){var i=this,s="."+e.eventRect+(i.isMultipleX()?"":"-"+n),o=i.main.select(s).node(),u=o.getBoundingClientRect(),a=u.left+(r?r[0]:0),f=u.top+(r?r[1]:0),l=document.createEvent("MouseEvents");l.initMouseEvent(t,!0,!0,window,0,a,f,a,f,!1,!1,!1,!1,0,null),o.dispatchEvent(l)},S.initLegend=function(){var e=this;e.legendItemTextBox={},e.legendHasRendered=!1,e.legend=e.svg.append("g").attr("transform",e.getTranslate("legend"));if(!e.config.legend_show){e.legend.style("visibility","hidden"),e.hiddenLegendIds=e.mapToIds(e.data.targets);return}e.updateLegendWithDefaults()},S.updateLegendWithDefaults=function(){var e=this;e.updateLegend(e.mapToIds(e.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},S.updateSizeForLegend=function(e,t){var n=this,r=n.config,i={top:n.isLegendTop?n.getCurrentPaddingTop()+r.legend_inset_y+5.5:n.currentHeight-e-n.getCurrentPaddingBottom()-r.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+r.legend_inset_x+.5:n.currentWidth-t-n.getCurrentPaddingRight()-r.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?i.top:n.currentHeight-e,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-t:n.isLegendInset?i.left:0}},S.transformLegend=function(e){var t=this;(e?t.legend.transition():t.legend).attr("transform",t.getTranslate("legend"))},S.updateLegendStep=function(e){this.legendStep=e},S.updateLegendItemWidth=function(e){this.legendItemWidth=e},S.updateLegendItemHeight=function(e){this.legendItemHeight=e},S.getLegendWidth=function(){var e=this;return e.config.legend_show?e.isLegendRight||e.isLegendInset?e.legendItemWidth*(e.legendStep+1):e.currentWidth:0},S.getLegendHeight=function(){var e=this,t=0;return e.config.legend_show&&(e.isLegendRight?t=e.currentHeight:t=Math.max(20,e.legendItemHeight)*(e.legendStep+1)),t},S.opacityForLegend=function(t){return t.classed(e.legendItemHidden)?null:1},S.opacityForUnfocusedLegend=function(t){return t.classed(e.legendItemHidden)?null:.3},S.toggleFocusLegend=function(t,n){var r=this;t=r.mapToTargetIds(t),r.legend.selectAll("."+e.legendItem).filter(function(e){return t.indexOf(e)>=0}).classed(e.legendItemFocused,n).transition().duration(100).style("opacity",function(){var e=n?r.opacityForLegend:r.opacityForUnfocusedLegend;return e.call(r,r.d3.select(this))})},S.revertLegend=function(){var t=this,n=t.d3;t.legend.selectAll("."+e.legendItem).classed(e.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(n.select(this))})},S.showLegend=function(e){var t=this,n=t.config;n.legend_show||(n.legend_show=!0,t.legend.style("visibility","visible"),t.legendHasRendered||t.updateLegendWithDefaults()),t.removeHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style("visibility","visible").transition().style("opacity",function(){return t.opacityForLegend(t.d3.select(this))})},S.hideLegend=function(e){var t=this,n=t.config;n.legend_show&&c(e)&&(n.legend_show=!1,t.legend.style("visibility","hidden")),t.addHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style("opacity",0).style("visibility","hidden")},S.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},S.updateLegend=function(t,n,r){function j(t,n){return i.legendItemTextBox[n]||(i.legendItemTextBox[n]=i.getTextRect(t.textContent,e.legendItem,t)),i.legendItemTextBox[n]}function F(e,n,r){function v(e,t){t||(p=(h-T-c)/2,p<E&&(p=(h-c)/2,T=0,O++)),A[e]=O,L[O]=i.isLegendInset?10:p,N[e]=T,T+=c}var o=r===0,u=r===t.length-1,a=j(e,n),f=a.width+S+(u&&!i.isLegendRight&&!i.isLegendInset?0:y)+s.legend_padding,l=a.height+g,c=i.isLegendRight||i.isLegendInset?l:f,h=i.isLegendRight||i.isLegendInset?i.getLegendHeight():i.getLegendWidth(),p,d;o&&(T=0,O=0,b=0,w=0);if(s.legend_show&&!i.isLegendToShow(n)){C[n]=k[n]=A[n]=N[n]=0;return}C[n]=f,k[n]=l;if(!b||f>=b)b=f;if(!w||l>=w)w=l;d=i.isLegendRight||i.isLegendInset?w:b,s.legend_equally?(Object.keys(C).forEach(function(e){C[e]=b}),Object.keys(k).forEach(function(e){k[e]=w}),p=(h-d*t.length)/2,p<E?(T=0,O=0,t.forEach(function(e){v(e)})):v(n,!0)):v(n)}var i=this,s=i.config,o,a,f,l,c,h,d,v,m,g=4,y=10,b=0,w=0,E=10,S=s.legend_item_tile_width+5,x,T=0,N={},C={},k={},L=[0],A={},O=0,M,_,D,P,H,B;t=t.filter(function(e){return!u(s.data_names[e])||s.data_names[e]!==null}),n=n||{},M=p(n,"withTransition",!0),_=p(n,"withTransitionForTransform",!0),i.isLegendInset&&(O=s.legend_inset_step?s.legend_inset_step:t.length,i.updateLegendStep(O)),i.isLegendRight?(o=function(t){return b*A[t]},l=function(t){return L[A[t]]+N[t]}):i.isLegendInset?(o=function(t){return b*A[t]+10},l=function(t){return L[A[t]]+N[t]}):(o=function(t){return L[A[t]]+N[t]},l=function(t){return w*A[t]}),a=function(t,n){return o(t,n)+4+s.legend_item_tile_width},c=function(t,n){return l(t,n)+9},f=function(t,n){return o(t,n)},h=function(t,n){return l(t,n)-5},d=function(t,n){return o(t,n)-2},v=function(t,n){return o(t,n)-2+s.legend_item_tile_width},m=function(t,n){return l(t,n)+4},x=i.legend.selectAll("."+e.legendItem).data(t).enter().append("g").attr("class",function(t){return i.generateClass(e.legendItem,t)}).style("visibility",function(e){return i.isLegendToShow(e)?"visible":"hidden"}).style("cursor","pointer").on("click",function(e){s.legend_item_onclick?s.legend_item_onclick.call(i,e):i.d3.event.altKey?(i.api.hide(),i.api.show(e)):(i.api.toggle(e),i.isTargetToShow(e)?i.api.focus(e):i.api.revert())}).on("mouseover",function(t){s.legend_item_onmouseover?s.legend_item_onmouseover.call(i,t):(i.d3.select(this).classed(e.legendItemFocused,!0),!i.transiting&&i.isTargetToShow(t)&&i.api.focus(t))}).on("mouseout",function(t){s.legend_item_onmouseout?s.legend_item_onmouseout.call(i,t):(i.d3.select(this).classed(e.legendItemFocused,!1),i.api.revert())}),x.append("text").text(function(e){return u(s.data_names[e])?s.data_names[e]:e}).each(function(e,t){F(this,e,t)}).style("pointer-events","none").attr("x",i.isLegendRight||i.isLegendInset?a:-200).attr("y",i.isLegendRight||i.isLegendInset?-200:c),x.append("rect").attr("class",e.legendItemEvent).style("fill-opacity",0).attr("x",i.isLegendRight||i.isLegendInset?f:-200).attr("y",i.isLegendRight||i.isLegendInset?-200:h),x.append("line").attr("class",e.legendItemTile).style("stroke",i.color).style("pointer-events","none").attr("x1",i.isLegendRight||i.isLegendInset?d:-200).attr("y1",i.isLegendRight||i.isLegendInset?-200:m).attr("x2",i.isLegendRight||i.isLegendInset?v:-200).attr("y2",i.isLegendRight||i.isLegendInset?-200:m).attr("stroke-width",s.legend_item_tile_height),B=i.legend.select("."+e.legendBackground+" rect"),i.isLegendInset&&b>0&&B.size()===0&&(B=i.legend.insert("g","."+e.legendItem).attr("class",e.legendBackground).append("rect")),D=i.legend.selectAll("text").data(t).text(function(e){return u(s.data_names[e])?s.data_names[e]:e}).each(function(e,t){F(this,e,t)}),(M?D.transition():D).attr("x",a).attr("y",c),P=i.legend.selectAll("rect."+e.legendItemEvent).data(t),(M?P.transition():P).attr("width",function(e){return C[e]}).attr("height",function(e){return k[e]}).attr("x",f).attr("y",h),H=i.legend.selectAll("line."+e.legendItemTile).data(t),(M?H.transition():H).style("stroke",i.color).attr("x1",d).attr("y1",m).attr("x2",v).attr("y2",m),B&&(M?B.transition():B).attr("height",i.getLegendHeight()-12).attr("width",b*(O+1)+10),i.legend.selectAll("."+e.legendItem).classed(e.legendItemHidden,function(e){return!i.isTargetToShow(e)}),i.updateLegendItemWidth(b),i.updateLegendItemHeight(w),i.updateLegendStep(O),i.updateSizes(),i.updateScales(),i.updateSvgSize(),i.transformAll(_,r),i.legendHasRendered=!0},S.initRegion=function(){var t=this;t.region=t.main.append("g").attr("clip-path",t.clipPath).attr("class",e.regions)},S.updateRegion=function(t){var n=this,r=n.config;n.region.style("visibility",n.hasArcType()?"hidden":"visible"),n.mainRegion=n.main.select("."+e.regions).selectAll("."+e.region).data(r.regions),n.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),n.mainRegion.attr("class",n.classRegion.bind(n)),n.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},S.redrawRegion=function(e){var t=this,r=t.mainRegion.selectAll("rect").each(function(){var e=t.d3.select(this.parentNode).datum();t.d3.select(this).datum(e)}),i=t.regionX.bind(t),s=t.regionY.bind(t),o=t.regionWidth.bind(t),u=t.regionHeight.bind(t);return[(e?r.transition():r).attr("x",i).attr("y",s).attr("width",o).attr("height",u).style("fill-opacity",function(e){return n(e.opacity)?e.opacity:.1})]},S.regionX=function(e){var t=this,n=t.config,r,i=e.axis==="y"?t.y:t.y2;return e.axis==="y"||e.axis==="y2"?r=n.axis_rotated?"start"in e?i(e.start):0:0:r=n.axis_rotated?0:"start"in e?t.x(t.isTimeSeries()?t.parseDate(e.start):e.start):0,r},S.regionY=function(e){var t=this,n=t.config,r,i=e.axis==="y"?t.y:t.y2;return e.axis==="y"||e.axis==="y2"?r=n.axis_rotated?0:"end"in e?i(e.end):0:r=n.axis_rotated?"start"in e?t.x(t.isTimeSeries()?t.parseDate(e.start):e.start):0:0,r},S.regionWidth=function(e){var t=this,n=t.config,r=t.regionX(e),i,s=e.axis==="y"?t.y:t.y2;return e.axis==="y"||e.axis==="y2"?i=n.axis_rotated?"end"in e?s(e.end):t.width:t.width:i=n.axis_rotated?t.width:"end"in e?t.x(t.isTimeSeries()?t.parseDate(e.end):e.end):t.width,i<r?0:i-r},S.regionHeight=function(e){var t=this,n=t.config,r=this.regionY(e),i,s=e.axis==="y"?t.y:t.y2;return e.axis==="y"||e.axis==="y2"?i=n.axis_rotated?t.height:"start"in e?s(e.start):t.height:i=n.axis_rotated?"end"in e?t.x(t.isTimeSeries()?t.parseDate(e.end):e.end):t.height:t.height,i<r?0:i-r},S.isRegionOnX=function(e){return!e.axis||e.axis==="x"},S.getScale=function(e,t,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([e,t])},S.getX=function(e,t,n,r){var i=this,s=i.getScale(e,t,i.isTimeSeries()),o=n?s.domain(n):s,u;i.isCategorized()?(r=r||function(){return 0},s=function(t,n){var i=o(t)+r(t);return n?i:Math.ceil(i)}):s=function(t,n){var r=o(t);return n?r:Math.ceil(r)};for(u in o)s[u]=o[u];return s.orgDomain=function(){return o.domain()},i.isCategorized()&&(s.domain=function(e){return arguments.length?(o.domain(e),s):(e=this.orgDomain(),[e[0],e[1]+1])}),s},S.getY=function(e,t,n){var r=this.getScale(e,t,this.isTimeSeriesY());return n&&r.domain(n),r},S.getYScale=function(e){return this.axis.getId(e)==="y2"?this.y2:this.y},S.getSubYScale=function(e){return this.axis.getId(e)==="y2"?this.subY2:this.subY},S.updateScales=function(){var e=this,t=e.config,n=!e.x;e.xMin=t.axis_rotated?1:0,e.xMax=t.axis_rotated?e.height:e.width,e.yMin=t.axis_rotated?0:e.height,e.yMax=t.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=t.axis_rotated?0:e.height2,e.subYMax=t.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,n?undefined:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,n?t.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,n?t.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,n?t.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,n?t.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.subXAxis=e.axis.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.yAxis=e.axis.getYAxis(e.y,e.yOrient,t.axis_y_tick_format,e.yAxisTickValues,t.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis(e.y2,e.y2Orient,t.axis_y2_tick_format,e.y2AxisTickValues,t.axis_y2_tick_outer),n||(e.brush&&e.brush.scale(e.subX),t.zoom_enabled&&e.zoom.scale(e.x)),e.updateArc&&e.updateArc()},S.selectPoint=function(t,n,r){var i=this,s=i.config,o=(s.axis_rotated?i.circleY:i.circleX).bind(i),u=(s.axis_rotated?i.circleX:i.circleY).bind(i),a=i.pointSelectR.bind(i);s.data_onselected.call(i.api,n,t.node()),i.main.select("."+e.selectedCircles+i.getTargetSelectorSuffix(n.id)).selectAll("."+e.selectedCircle+"-"+r).data([n]).enter().append("circle").attr("class",function(){return i.generateClass(e.selectedCircle,r)}).attr("cx",o).attr("cy",u).attr("stroke",function(){return i.color(n)}).attr("r",function(e){return i.pointSelectR(e)*1.4}).transition().duration(100).attr("r",a)},S.unselectPoint=function(t,n,r){var i=this;i.config.data_onunselected.call(i.api,n,t.node()),i.main.select("."+e.selectedCircles+i.getTargetSelectorSuffix(n.id)).selectAll("."+e.selectedCircle+"-"+r).transition().duration(100).attr("r",0).remove()},S.togglePoint=function(e,t,n,r){e?this.selectPoint(t,n,r):this.unselectPoint(t,n,r)},S.selectPath=function(e,t){var n=this;n.config.data_onselected.call(n,t,e.node()),n.config.interaction_brighten&&e.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(t)).brighter(.75)})},S.unselectPath=function(e,t){var n=this;n.config.data_onunselected.call(n,t,e.node()),n.config.interaction_brighten&&e.transition().duration(100).style("fill",function(){return n.color(t)})},S.togglePath=function(e,t,n,r){e?this.selectPath(t,n,r):this.unselectPath(t,n,r)},S.getToggle=function(e,t){var n=this,r;return e.nodeName==="circle"?n.isStepType(t)?r=function(){}:r=n.togglePoint:e.nodeName==="path"&&(r=n.togglePath),r},S.toggleShape=function(t,n,r){var i=this,s=i.d3,o=i.config,u=s.select(t),a=u.classed(e.SELECTED),f=i.getToggle(t,n).bind(i);o.data_selection_enabled&&o.data_selection_isselectable(n)&&(o.data_selection_multiple||i.main.selectAll("."+e.shapes+(o.data_selection_grouped?i.getTargetSelectorSuffix(n.id):"")).selectAll("."+e.shape).each(function(t,n){var r=s.select(this);r.classed(e.SELECTED)&&f(!1,r.classed(e.SELECTED,!1),t,n)}),u.classed(e.SELECTED,!a),f(!a,u,n,r))},S.initBar=function(){var t=this;t.main.select("."+e.chart).append("g").attr("class",e.chartBars)},S.updateTargetsForBar=function(t){var n=this,r=n.config,i,s,o=n.classChartBar.bind(n),u=n.classBars.bind(n),a=n.classFocus.bind(n);i=n.main.select("."+e.chartBars).selectAll("."+e.chartBar).data(t).attr("class",function(e){return o(e)+a(e)}),s=i.enter().append("g").attr("class",o).style("pointer-events","none"),s.append("g").attr("class",u).style("cursor",function(e){return r.data_selection_isselectable(e)?"pointer":null})},S.updateBar=function(t){var n=this,r=n.barData.bind(n),i=n.classBar.bind(n),s=n.initialOpacity.bind(n),o=function(t){return n.color(t.id)};n.mainBar=n.main.selectAll("."+e.bars).selectAll("."+e.bar).data(r),n.mainBar.enter().append("path").attr("class",i).style("stroke",o).style("fill",o),n.mainBar.style("opacity",s),n.mainBar.exit().transition().duration(t).remove()},S.redrawBar=function(e,t){return[(t?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",e).style("fill",this.color).style("opacity",1)]},S.getBarW=function(e,t){var n=this,r=n.config,i=typeof r.bar_width=="number"?r.bar_width:t?e.tickInterval()*r.bar_width_ratio/t:0;return r.bar_width_max&&i>r.bar_width_max?r.bar_width_max:i},S.getBars=function(t,r){var i=this;return(r?i.main.selectAll("."+e.bars+i.getTargetSelectorSuffix(r)):i.main).selectAll("."+e.bar+(n(t)?"-"+t:""))},S.expandBars=function(t,n,r){var i=this;r&&i.unexpandBars(),i.getBars(t,n).classed(e.EXPANDED,!0)},S.unexpandBars=function(t){var n=this;n.getBars(t).classed(e.EXPANDED,!1)},S.generateDrawBar=function(e,t){var n=this,r=n.config,i=n.generateGetBarPoints(e,t);return function(e,t){var n=i(e,t),s=r.axis_rotated?1:0,o=r.axis_rotated?0:1,u="M "+n[0][s]+","+n[0][o]+" "+"L"+n[1][s]+","+n[1][o]+" "+"L"+n[2][s]+","+n[2][o]+" "+"L"+n[3][s]+","+n[3][o]+" "+"z";return u}},S.generateGetBarPoints=function(e,t){var n=this,r=t?n.subXAxis:n.xAxis,i=e.__max__+1,s=n.getBarW(r,i),o=n.getShapeX(s,i,e,!!t),u=n.getShapeY(!!t),a=n.getShapeOffset(n.isBarType,e,!!t),f=t?n.getSubYScale:n.getYScale;return function(e,t){var r=f.call(n,e.id)(0),i=a(e,t)||r,l=o(e),c=u(e);return n.config.axis_rotated&&(0<e.value&&c<r||e.value<0&&r<c)&&(c=r),[[l,i],[l,c-(r-i)],[l+s,c-(r-i)],[l+s,i]]}},S.isWithinBar=function(e){var t=this.d3.mouse(e),n=e.getBoundingClientRect(),r=e.pathSegList.getItem(0),i=e.pathSegList.getItem(1),s=Math.min(r.x,i.x),o=Math.min(r.y,i.y),u=n.width,a=n.height,f=2,l=s-f,c=s+u+f,h=o+a+f,p=o-f;return l<t[0]&&t[0]<c&&p<t[1]&&t[1]<h},S.getShapeIndices=function(e){var t=this,n=t.config,r={},i=0,s,u;return t.filterTargetsToShow(t.data.targets.filter(e,t)).forEach(function(e){for(s=0;s<n.data_groups.length;s++){if(n.data_groups[s].indexOf(e.id)<0)continue;for(u=0;u<n.data_groups[s].length;u++)if(n.data_groups[s][u]in r){r[e.id]=r[n.data_groups[s][u]];break}}o(r[e.id])&&(r[e.id]=i++)}),r.__max__=i-1,r},S.getShapeX=function(e,t,n,r){var i=this,s=r?i.subX:i.x;return function(r){var i=r.id in n?n[r.id]:0;return r.x||r.x===0?s(r.x)-e*(t/2-i):0}},S.getShapeY=function(e){var t=this;return function(n){var r=e?t.getSubYScale(n.id):t.getYScale(n.id);return r(n.value)}},S.getShapeOffset=function(e,t,n){var r=this,i=r.orderTargets(r.filterTargetsToShow(r.data.targets.filter(e,r))),s=i.map(function(e){return e.id});return function(e,o){var u=n?r.getSubYScale(e.id):r.getYScale(e.id),a=u(0),f=a;return i.forEach(function(n){var i=r.isStepType(e)?r.convertValuesToStep(n.values):n.values;if(n.id===e.id||t[n.id]!==t[e.id])return;if(s.indexOf(n.id)<s.indexOf(e.id)){if(typeof i[o]=="undefined"||+i[o].x!==+e.x)o=-1,i.forEach(function(t,n){t.x===e.x&&(o=n)});o in i&&i[o].value*e.value>=0&&(f+=u(i[o].value)-a)}}),f}},S.isWithinShape=function(t,n){var r=this,i=r.d3.select(t),s;return r.isTargetToShow(n.id)?t.nodeName==="circle"?s=r.isStepType(n)?r.isWithinStep(t,r.getYScale(n.id)(n.value)):r.isWithinCircle(t,r.pointSelectR(n)*1.5):t.nodeName==="path"&&(s=i.classed(e.bar)?r.isWithinBar(t):!0):s=!1,s},S.getInterpolate=function(e){var t=this,n=t.isInterpolationType(t.config.spline_interpolation_type)?t.config.spline_interpolation_type:"cardinal";return t.isSplineType(e)?n:t.isStepType(e)?t.config.line_step_type:"linear"},S.initLine=function(){var t=this;t.main.select("."+e.chart).append("g").attr("class",e.chartLines)},S.updateTargetsForLine=function(t){var n=this,r=n.config,i,s,o=n.classChartLine.bind(n),u=n.classLines.bind(n),a=n.classAreas.bind(n),f=n.classCircles.bind(n),l=n.classFocus.bind(n);i=n.main.select("."+e.chartLines).selectAll("."+e.chartLine).data(t).attr("class",function(e){return o(e)+l(e)}),s=i.enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none"),s.append("g").attr("class",u),s.append("g").attr("class",a),s.append("g").attr("class",function(t){return n.generateClass(e.selectedCircles,t.id)}),s.append("g").attr("class",f).style("cursor",function(e){return r.data_selection_isselectable(e)?"pointer":null}),t.forEach(function(t){n.main.selectAll("."+e.selectedCircles+n.getTargetSelectorSuffix(t.id)).selectAll("."+e.selectedCircle).each(function(e){e.value=t.values[e.index].value})})},S.updateLine=function(t){var n=this;n.mainLine=n.main.selectAll("."+e.lines).selectAll("."+e.line).data(n.lineData.bind(n)),n.mainLine.enter().append("path").attr("class",n.classLine.bind(n)).style("stroke",n.color),n.mainLine.style("opacity",n.initialOpacity.bind(n)).style("shape-rendering",function(e){return n.isStepType(e)?"crispEdges":""}).attr("transform",null),n.mainLine.exit().transition().duration(t).style("opacity",0).remove()},S.redrawLine=function(e,t){return[(t?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",e).style("stroke",this.color).style("opacity",1)]},S.generateDrawLine=function(e,t){var n=this,r=n.config,i=n.d3.svg.line(),s=n.generateGetLinePoints(e,t),o=t?n.getSubYScale:n.getYScale,u=function(r){return(t?n.subxx:n.xx).call(n,r)},a=function(t,i){return r.data_groups.length>0?s(t,i)[0][1]:o.call(n,t.id)(t.value)};return i=r.axis_rotated?i.x(a).y(u):i.x(u).y(a),r.line_connectNull||(i=i.defined(function(e){return e.value!=null})),function(e){var s=r.line_connectNull?n.filterRemoveNull(e.values):e.values,u=t?n.x:n.subX,a=o.call(n,e.id),f=0,l=0,c;return n.isLineType(e)?r.data_regions[e.id]?c=n.lineWithRegions(s,u,a,r.data_regions[e.id]):(n.isStepType(e)&&(s=n.convertValuesToStep(s)),c=i.interpolate(n.getInterpolate(e))(s)):(s[0]&&(f=u(s[0].x),l=a(s[0].value)),c=r.axis_rotated?"M "+l+" "+f:"M "+f+" "+l),c?c:"M 0 0"}},S.generateGetLinePoints=function(e,t){var n=this,r=n.config,i=e.__max__+1,s=n.getShapeX(0,i,e,!!t),o=n.getShapeY(!!t),u=n.getShapeOffset(n.isLineType,e,!!t),a=t?n.getSubYScale:n.getYScale;return function(e,t){var i=a.call(n,e.id)(0),f=u(e,t)||i,l=s(e),c=o(e);return r.axis_rotated&&(0<e.value&&c<i||e.value<0&&i<c)&&(c=i),[[l,c-(i-f)],[l,c-(i-f)],[l,c-(i-f)],[l,c-(i-f)]]}},S.lineWithRegions=function(e,t,n,r){function T(e,t){var n;for(n=0;n<t.length;n++)if(t[n].start<e&&e<=t[n].end)return!0;return!1}function N(e){return"M"+e[0][0]+" "+e[0][1]+" "+e[1][0]+" "+e[1][1]}var i=this,s=i.config,a=-1,f,l,c="M",h,p,d,v,m,g,y,b,w=i.isCategorized()?.5:0,E,S,x=[];if(u(r))for(f=0;f<r.length;f++)x[f]={},o(r[f].start)?x[f].start=e[0].x:x[f].start=i.isTimeSeries()?i.parseDate(r[f].start):r[f].start,o(r[f].end)?x[f].end=e[e.length-1].x:x[f].end=i.isTimeSeries()?i.parseDate(r[f].end):r[f].end;E=s.axis_rotated?function(e){return n(e.value)}:function(e){return t(e.x)},S=s.axis_rotated?function(e){return t(e.x)}:function(e){return n(e.value)},i.isTimeSeries()?h=function(r,i,o,u){var a=r.x.getTime(),f=i.x-r.x,l=new Date(a+f*o),c=new Date(a+f*(o+u)),h;return s.axis_rotated?h=[[n(d(o)),t(l)],[n(d(o+u)),t(c)]]:h=[[t(l),n(d(o))],[t(c),n(d(o+u))]],N(h)}:h=function(r,i,o,u){var a;return s.axis_rotated?a=[[n(d(o),!0),t(p(o))],[n(d(o+u),!0),t(p(o+u))]]:a=[[t(p(o),!0),n(d(o))],[t(p(o+u),!0),n(d(o+u))]],N(a)};for(f=0;f<e.length;f++){if(o(x)||!T(e[f].x,x))c+=" "+E(e[f])+" "+S(e[f]);else{p=i.getScale(e[f-1].x+w,e[f].x+w,i.isTimeSeries()),d=i.getScale(e[f-1].value,e[f].value),v=t(e[f].x)-t(e[f-1].x),m=n(e[f].value)-n(e[f-1].value),g=Math.sqrt(Math.pow(v,2)+Math.pow(m,2)),y=2/g,b=y*2;for(l=y;l<=1;l+=b)c+=h(e[f-1],e[f],l,y)}a=e[f].x}return c},S.updateArea=function(t){var n=this,r=n.d3;n.mainArea=n.main.selectAll("."+e.areas).selectAll("."+e.area).data(n.lineData.bind(n)),n.mainArea.enter().append("path").attr("class",n.classArea.bind(n)).style("fill",n.color).style("opacity",function(){return n.orgAreaOpacity=+r.select(this).style("opacity"),0}),n.mainArea.style("opacity",n.orgAreaOpacity),n.mainArea.exit().transition().duration(t).style("opacity",0).remove()},S.redrawArea=function(e,t){return[(t?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},S.generateDrawArea=function(e,t){var n=this,r=n.config,i=n.d3.svg.area(),s=n.generateGetAreaPoints(e,t),o=t?n.getSubYScale:n.getYScale,u=function(r){return(t?n.subxx:n.xx).call(n,r)},a=function(t,i){return r.data_groups.length>0?s(t,i)[0][1]:o.call(n,t.id)(n.getAreaBaseValue(t.id))},f=function(t,i){return r.data_groups.length>0?s(t,i)[1][1]:o.call(n,t.id)(t.value)};return i=r.axis_rotated?i.x0(a).x1(f).y(u):i.x(u).y0(r.area_above?0:a).y1(f),r.line_connectNull||(i=i.defined(function(e){return e.value!==null})),function(e){var t=r.line_connectNull?n.filterRemoveNull(e.values):e.values,s=0,o=0,u;return n.isAreaType(e)?(n.isStepType(e)&&(t=n.convertValuesToStep(t)),u=i.interpolate(n.getInterpolate(e))(t)):(t[0]&&(s=n.x(t[0].x),o=n.getYScale(e.id)(t[0].value)),u=r.axis_rotated?"M "+o+" "+s:"M "+s+" "+o),u?u:"M 0 0"}},S.getAreaBaseValue=function(){return 0},S.generateGetAreaPoints=function(e,t){var n=this,r=n.config,i=e.__max__+1,s=n.getShapeX(0,i,e,!!t),o=n.getShapeY(!!t),u=n.getShapeOffset(n.isAreaType,e,!!t),a=t?n.getSubYScale:n.getYScale;return function(e,t){var i=a.call(n,e.id)(0),f=u(e,t)||i,l=s(e),c=o(e);return r.axis_rotated&&(0<e.value&&c<i||e.value<0&&i<c)&&(c=i),[[l,f],[l,c-(i-f)],[l,c-(i-f)],[l,f]]}},S.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+e.circles).selectAll("."+e.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},S.redrawCircle=function(t,n,r){var i=this.main.selectAll("."+e.selectedCircle);return[(r?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",n),(r?i.transition(Math.random().toString()):i).attr("cx",t).attr("cy",n)]},S.circleX=function(e){return e.x||e.x===0?this.x(e.x):null},S.updateCircleY=function(){var e=this,t,n;e.config.data_groups.length>0?(t=e.getShapeIndices(e.isLineType),n=e.generateGetLinePoints(t),e.circleY=function(e,t){return n(e,t)[0][1]}):e.circleY=function(t){return e.getYScale(t.id)(t.value)}},S.getCircles=function(t,r){var i=this;return(r?i.main.selectAll("."+e.circles+i.getTargetSelectorSuffix(r)):i.main).selectAll("."+e.circle+(n(t)?"-"+t:""))},S.expandCircles=function(t,n,r){var i=this,s=i.pointExpandedR.bind(i);r&&i.unexpandCircles(),i.getCircles(t,n).classed(e.EXPANDED,!0).attr("r",s)},S.unexpandCircles=function(t){var n=this,r=n.pointR.bind(n);n.getCircles(t).filter(function(){return n.d3.select(this).classed(e.EXPANDED)}).classed(e.EXPANDED,!1).attr("r",r)},S.pointR=function(e){var t=this,n=t.config;return t.isStepType(e)?0:r(n.point_r)?n.point_r(e):n.point_r},S.pointExpandedR=function(e){var t=this,n=t.config;return n.point_focus_expand_enabled?n.point_focus_expand_r?n.point_focus_expand_r:t.pointR(e)*1.75:t.pointR(e)},S.pointSelectR=function(e){var t=this,n=t.config;return r(n.point_select_r)?n.point_select_r(e):n.point_select_r?n.point_select_r:t.pointR(e)*4},S.isWithinCircle=function(e,t){var n=this.d3,r=n.mouse(e),i=n.select(e),s=+i.attr("cx"),o=+i.attr("cy");return Math.sqrt(Math.pow(s-r[0],2)+Math.pow(o-r[1],2))<t},S.isWithinStep=function(e,t){return Math.abs(t-this.d3.mouse(e)[1])<30},S.getCurrentWidth=function(){var e=this,t=e.config;return t.size_width?t.size_width:e.getParentWidth()},S.getCurrentHeight=function(){var e=this,t=e.config,n=t.size_height?t.size_height:e.getParentHeight();return n>0?n:320/(e.hasType("gauge")&&!t.gauge_fullCircle?2:1)},S.getCurrentPaddingTop=function(){var e=this,t=e.config,r=n(t.padding_top)?t.padding_top:0;return e.title&&e.title.node()&&(r+=e.getTitlePadding()),r},S.getCurrentPaddingBottom=function(){var e=this.config;return n(e.padding_bottom)?e.padding_bottom:0},S.getCurrentPaddingLeft=function(e){var t=this,r=t.config;return n(r.padding_left)?r.padding_left:r.axis_rotated?r.axis_x_show?Math.max(a(t.getAxisWidthByAxisId("x",e)),40):1:!r.axis_y_show||r.axis_y_inner?t.axis.getYAxisLabelPosition().isOuter?30:1:a(t.getAxisWidthByAxisId("y",e))},S.getCurrentPaddingRight=function(){var e=this,t=e.config,r=10,i=e.isLegendRight?e.getLegendWidth()+20:0;return n(t.padding_right)?t.padding_right+1:t.axis_rotated?r+i:!t.axis_y2_show||t.axis_y2_inner?2+i+(e.axis.getY2AxisLabelPosition().isOuter?20:0):a(e.getAxisWidthByAxisId("y2"))+i},S.getParentRectValue=function(e){var t=this.selectChart.node(),n;while(t&&t.tagName!=="BODY"){try{n=t.getBoundingClientRect()[e]}catch(r){e==="width"&&(n=t.offsetWidth)}if(n)break;t=t.parentNode}return n},S.getParentWidth=function(){return this.getParentRectValue("width")},S.getParentHeight=function(){var e=this.selectChart.style("height");return e.indexOf("px")>0?+e.replace("px",""):0},S.getSvgLeft=function(t){var n=this,r=n.config,i=r.axis_rotated||!r.axis_rotated&&!r.axis_y_inner,s=r.axis_rotated?e.axisX:e.axisY,o=n.main.select("."+s).node(),u=o&&i?o.getBoundingClientRect():{right:0},a=n.selectChart.node().getBoundingClientRect(),f=n.hasArcType(),l=u.right-a.left-(f?0:n.getCurrentPaddingLeft(t));return l>0?l:0},S.getAxisWidthByAxisId=function(e,t){var n=this,r=n.axis.getLabelPositionById(e);return n.axis.getMaxTickWidth(e,t)+(r.isInner?20:40)},S.getHorizontalAxisHeight=function(e){var t=this,n=t.config,r=30;return e==="x"&&!n.axis_x_show?8:e==="x"&&n.axis_x_height?n.axis_x_height:e==="y"&&!n.axis_y_show?n.legend_show&&!t.isLegendRight&&!t.isLegendInset?10:1:e==="y2"&&!n.axis_y2_show?t.rotated_padding_top:(e==="x"&&!n.axis_rotated&&n.axis_x_tick_rotate&&(r=30+t.axis.getMaxTickWidth(e)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),e==="y"&&n.axis_rotated&&n.axis_y_tick_rotate&&(r=30+t.axis.getMaxTickWidth(e)*Math.cos(Math.PI*(90-n.axis_y_tick_rotate)/180)),r+(t.axis.getLabelPositionById(e).isInner?0:10)+(e==="y2"?-10:0))},S.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},S.initBrush=function(){var t=this,n=t.d3;t.brush=n.svg.brush().on("brush",function(){t.redrawForBrush()}),t.brush.update=function(){return t.context&&t.context.select("."+e.brush).call(this),this},t.brush.scale=function(e){return t.config.axis_rotated?this.y(e):this.x(e)}},S.initSubchart=function(){var t=this,n=t.config,r=t.context=t.svg.append("g").attr("transform",t.getTranslate("context")),i=n.subchart_show?"visible":"hidden";r.style("visibility",i),r.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",e.chart),r.select("."+e.chart).append("g").attr("class",e.chartBars),r.select("."+e.chart).append("g").attr("class",e.chartLines),r.append("g").attr("clip-path",t.clipPath).attr("class",e.brush).call(t.brush),t.axes.subx=r.append("g").attr("class",e.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",n.axis_rotated?"":t.clipPathForXAxis).style("visibility",n.subchart_axis_x_show?i:"hidden")},S.updateTargetsForSubchart=function(t){var n=this,r=n.context,i=n.config,s,o,u,a,f=n.classChartBar.bind(n),l=n.classBars.bind(n),c=n.classChartLine.bind(n),h=n.classLines.bind(n),p=n.classAreas.bind(n);i.subchart_show&&(a=r.select("."+e.chartBars).selectAll("."+e.chartBar).data(t).attr("class",f),u=a.enter().append("g").style("opacity",0).attr("class",f),u.append("g").attr("class",l),o=r.select("."+e.chartLines).selectAll("."+e.chartLine).data(t).attr("class",c),s=o.enter().append("g").style("opacity",0).attr("class",c),s.append("g").attr("class",h),s.append("g").attr("class",p),r.selectAll("."+e.brush+" rect").attr(i.axis_rotated?"width":"height",i.axis_rotated?n.width2:n.height2))},S.updateBarForSubchart=function(t){var n=this;n.contextBar=n.context.selectAll("."+e.bars).selectAll("."+e.bar).data(n.barData.bind(n)),n.contextBar.enter().append("path").attr("class",n.classBar.bind(n)).style("stroke","none").style("fill",n.color),n.contextBar.style("opacity",n.initialOpacity.bind(n)),n.contextBar.exit().transition().duration(t).style("opacity",0).remove()},S.redrawBarForSubchart=function(e,t,n){(t?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",e).style("opacity",1)},S.updateLineForSubchart=function(t){var n=this;n.contextLine=n.context.selectAll("."+e.lines).selectAll("."+e.line).data(n.lineData.bind(n)),n.contextLine.enter().append("path").attr("class",n.classLine.bind(n)).style("stroke",n.color),n.contextLine.style("opacity",n.initialOpacity.bind(n)),n.contextLine.exit().transition().duration(t).style("opacity",0).remove()},S.redrawLineForSubchart=function(e,t,n){(t?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",e).style("opacity",1)},S.updateAreaForSubchart=function(t){var n=this,r=n.d3;n.contextArea=n.context.selectAll("."+e.areas).selectAll("."+e.area).data(n.lineData.bind(n)),n.contextArea.enter().append("path").attr("class",n.classArea.bind(n)).style("fill",n.color).style("opacity",function(){return n.orgAreaOpacity=+r.select(this).style("opacity"),0}),n.contextArea.style("opacity",0),n.contextArea.exit().transition().duration(t).style("opacity",0).remove()},S.redrawAreaForSubchart=function(e,t,n){(t?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)},S.redrawSubchart=function(e,t,n,r,i,s,o){var u=this,a=u.d3,f=u.config,l,c,h;u.context.style("visibility",f.subchart_show?"visible":"hidden"),f.subchart_show&&(a.event&&a.event.type==="zoom"&&u.brush.extent(u.x.orgDomain()).update(),e&&(u.brush.empty()||u.brush.extent(u.x.orgDomain()).update(),l=u.generateDrawArea(i,!0),c=u.generateDrawBar(s,!0),h=u.generateDrawLine(o,!0),u.updateBarForSubchart(n),u.updateLineForSubchart(n),u.updateAreaForSubchart(n),u.redrawBarForSubchart(c,n,n),u.redrawLineForSubchart(h,n,n),u.redrawAreaForSubchart(l,n,n)))},S.redrawForBrush=function(){var e=this,t=e.x;e.redraw({withTransition:!1,withY:e.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),e.config.subchart_onbrush.call(e.api,t.orgDomain())},S.transformContext=function(t,n){var r=this,i;n&&n.axisSubX?i=n.axisSubX:(i=r.context.select("."+e.axisX),t&&(i=i.transition())),r.context.attr("transform",r.getTranslate("context")),i.attr("transform",r.getTranslate("subx"))},S.getDefaultExtent=function(){var e=this,t=e.config,n=r(t.axis_x_extent)?t.axis_x_extent(e.getXDomain(e.data.targets)):t.axis_x_extent;return e.isTimeSeries()&&(n=[e.parseDate(n[0]),e.parseDate(n[1])]),n},S.initText=function(){var t=this;t.main.select("."+e.chart).append("g").attr("class",e.chartTexts),t.mainText=t.d3.selectAll([])},S.updateTargetsForText=function(t){var n=this,r,i,s=n.classChartText.bind(n),o=n.classTexts.bind(n),u=n.classFocus.bind(n);r=n.main.select("."+e.chartTexts).selectAll("."+e.chartText).data(t).attr("class",function(e){return s(e)+u(e)}),i=r.enter().append("g").attr("class",s).style("opacity",0).style("pointer-events","none"),i.append("g").attr("class",o)},S.updateText=function(t){var n=this,r=n.config,i=n.barOrLineData.bind(n),s=n.classText.bind(n);n.mainText=n.main.selectAll("."+e.texts).selectAll("."+e.text).data(i),n.mainText.enter().append("text").attr("class",s).attr("text-anchor",function(e){return r.axis_rotated?e.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(e){return n.color(e)}).style("fill-opacity",0),n.mainText.text(function(e,t,r){return n.dataLabelFormat(e.id)(e.value,e.id,t,r)}),n.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},S.redrawText=function(e,t,n,r){return[(r?this.mainText.transition():this.mainText).attr("x",e).attr("y",t).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},S.getTextRect=function(e,t,n){var r=this.d3.select("body").append("div").classed("c3",!0),i=r.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),s=this.d3.select(n).style("font"),o;return i.selectAll(".dummy").data([e]).enter().append("text").classed(t?t:"",!0).style("font",s).text(e).each(function(){o=this.getBoundingClientRect()}),r.remove(),o},S.generateXYForText=function(e,t,n,r){var i=this,s=i.generateGetAreaPoints(e,!1),o=i.generateGetBarPoints(t,!1),u=i.generateGetLinePoints(n,!1),a=r?i.getXForText:i.getYForText;return function(e,t){var n=i.isAreaType(e)?s:i.isBarType(e)?o:u;return a.call(i,n(e,t),e,this)}},S.getXForText=function(e,t,n){var r=this,i=n.getBoundingClientRect(),s,o;return r.config.axis_rotated?(o=r.isBarType(t)?4:6,s=e[2][1]+o*(t.value<0?-1:1)):s=r.hasType("bar")?(e[2][0]+e[0][0])/2:e[0][0],t.value===null&&(s>r.width?s=r.width-i.width:s<0&&(s=4)),s},S.getYForText=function(e,t,n){var r=this,i=n.getBoundingClientRect(),s;return r.config.axis_rotated?s=(e[0][0]+e[2][0]+i.height*.6)/2:(s=e[2][1],t.value<0||t.value===0&&!r.hasPositiveValue?(s+=i.height,r.isBarType(t)&&r.isSafari()?s-=3:!r.isBarType(t)&&r.isChrome()&&(s+=3)):s+=r.isBarType(t)?-3:-6),t.value===null&&!r.config.axis_rotated&&(s<i.height?s=i.height:s>this.height&&(s=this.height-4)),s},S.initTitle=function(){var e=this;e.title=e.svg.append("text").text(e.config.title_text).attr("class",e.CLASS.title)},S.redrawTitle=function(){var e=this;e.title.attr("x",e.xForTitle.bind(e)).attr("y",e.yForTitle.bind(e))},S.xForTitle=function(){var e=this,t=e.config,n=t.title_position||"left",r;return n.indexOf("right")>=0?r=e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width-t.title_padding.right:n.indexOf("center")>=0?r=(e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width)/2:r=t.title_padding.left,r},S.yForTitle=function(){var e=this;return e.config.title_padding.top+e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).height},S.getTitlePadding=function(){var e=this;return e.yForTitle()+e.config.title_padding.bottom},S.initTooltip=function(){var t=this,n=t.config,r;t.tooltip=t.selectChart.style("position","relative").append("div").attr("class",e.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none");if(n.tooltip_init_show){if(t.isTimeSeries()&&s(n.tooltip_init_x)){n.tooltip_init_x=t.parseDate(n.tooltip_init_x);for(r=0;r<t.data.targets[0].values.length;r++)if(t.data.targets[0].values[r].x-n.tooltip_init_x===0)break;n.tooltip_init_x=r}t.tooltip.html(n.tooltip_contents.call(t,t.data.targets.map(function(e){return t.addName(e.values[n.tooltip_init_x])}),t.axis.getXAxisTickFormat(),t.getYFormat(t.hasArcType()),t.color)),t.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},S.getTooltipSortFunction=function(){var e=this,t=e.config;if(t.data_groups.length!==0&&t.tooltip_order===undefined){var a=e.orderTargets(e.data.targets).map(function(e){return e.id});if(e.isOrderAsc()||e.isOrderDesc())a=a.reverse();return function(e,t){return a.indexOf(e.id)-a.indexOf(t.id)}}var n=t.tooltip_order;n===undefined&&(n=t.data_order);var o=function f(e){return e?e.value:null};if(s(n)&&n.toLowerCase()==="asc")return function(e,t){return o(e)-o(t)};if(s(n)&&n.toLowerCase()==="desc")return function(e,t){return o(t)-o(e)};if(r(n)){var u=n;return t.tooltip_order===undefined&&(u=function(t,r){return n(t?{id:t.id,values:[t]}:null,r?{id:r.id,values:[r]}:null)}),u}if(i(n))return function(e,t){return n.indexOf(e.id)-n.indexOf(t.id)}},S.getTooltipContent=function(e,t,n,r){var i=this,s=i.config,o=s.tooltip_format_title||t,u=s.tooltip_format_name||function(e){return e},a=s.tooltip_format_value||n,f,l,c,h,p,d,m=this.getTooltipSortFunction();m&&e.sort(m);for(l=0;l<e.length;l++){if(!e[l]||!e[l].value&&e[l].value!==0)continue;f||(c=v(o?o(e[l].x):e[l].x),f="<table class='"+i.CLASS.tooltip+"'>"+(c||c===0?"<tr><th colspan='2'>"+c+"</th></tr>":"")),h=v(a(e[l].value,e[l].ratio,e[l].id,e[l].index,e));if(h!==undefined){if(e[l].name===null)continue;p=v(u(e[l].name,e[l].ratio,e[l].id,e[l].index)),d=i.levelColor?i.levelColor(e[l].value):r(e[l].id),f+="<tr class='"+i.CLASS.tooltipName+"-"+i.getTargetSelectorSuffix(e[l].id)+"'>",f+="<td class='name'><span style='background-color:"+d+"'></span>"+p+"</td>",f+="<td class='value'>"+h+"</td>",f+="</tr>"}}return f+"</table>"},S.tooltipPosition=function(e,t,n,r){var i=this,s=i.config,o=i.d3,u,a,f,l,c,h=i.hasArcType(),p=o.mouse(r);return h?(a=(i.width-(i.isLegendRight?i.getLegendWidth():0))/2+p[0],l=i.height/2+p[1]+20):(u=i.getSvgLeft(!0),s.axis_rotated?(a=u+p[0]+100,f=a+t,c=i.currentWidth-i.getCurrentPaddingRight(),l=i.x(e[0].x)+20):(a=u+i.getCurrentPaddingLeft(!0)+i.x(e[0].x)+20,f=a+t,c=u+i.currentWidth-i.getCurrentPaddingRight(),l=p[1]+15),f>c&&(a-=f-c+20),l+n>i.currentHeight&&(l-=n+30)),l<0&&(l=0),{top:l,left:a}},S.showTooltip=function(e,t){var r=this,i=r.config,s,o,u,a=r.hasArcType(),f=e.filter(function(e){return e&&n(e.value)}),l=i.tooltip_position||S.tooltipPosition;if(f.length===0||!i.tooltip_show)return;r.tooltip.html(i.tooltip_contents.call(r,e,r.axis.getXAxisTickFormat(),r.getYFormat(a),r.color)).style("display","block"),s=r.tooltip.property("offsetWidth"),o=r.tooltip.property("offsetHeight"),u=l.call(this,f,s,o,t),r.tooltip.style("top",u.top+"px").style("left",u.left+"px")},S.hideTooltip=function(){this.tooltip.style("display","none")},S.setTargetType=function(e,t){var n=this,r=n.config;n.mapToTargetIds(e).forEach(function(e){n.withoutFadeIn[e]=t===r.data_types[e],r.data_types[e]=t}),e||(r.data_type=t)},S.hasType=function(e,t){var n=this,r=n.config.data_types,i=!1;return t=t||n.data.targets,t&&t.length?t.forEach(function(t){var n=r[t.id];if(n&&n.indexOf(e)>=0||!n&&e==="line")i=!0}):Object.keys(r).length?Object.keys(r).forEach(function(t){r[t]===e&&(i=!0)}):i=n.config.data_type===e,i},S.hasArcType=function(e){return this.hasType("pie",e)||this.hasType("donut",e)||this.hasType("gauge",e)},S.isLineType=function(e){var t=this.config,n=s(e)?e:e.id;return!t.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(t.data_types[n])>=0},S.isStepType=function(e){var t=s(e)?e:e.id;return["step","area-step"].indexOf(this.config.data_types[t])>=0},S.isSplineType=function(e){var t=s(e)?e:e.id;return["spline","area-spline"].indexOf(this.config.data_types[t])>=0},S.isAreaType=function(e){var t=s(e)?e:e.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[t])>=0},S.isBarType=function(e){var t=s(e)?e:e.id;return this.config.data_types[t]==="bar"},S.isScatterType=function(e){var t=s(e)?e:e.id;return this.config.data_types[t]==="scatter"},S.isPieType=function(e){var t=s(e)?e:e.id;return this.config.data_types[t]==="pie"},S.isGaugeType=function(e){var t=s(e)?e:e.id;return this.config.data_types[t]==="gauge"},S.isDonutType=function(e){var t=s(e)?e:e.id;return this.config.data_types[t]==="donut"},S.isArcType=function(e){return this.isPieType(e)||this.isDonutType(e)||this.isGaugeType(e)},S.lineData=function(e){return this.isLineType(e)?[e]:[]},S.arcData=function(e){return this.isArcType(e.data)?[e]:[]},S.barData=function(e){return this.isBarType(e)?e.values:[]},S.lineOrScatterData=function(e){return this.isLineType(e)||this.isScatterType(e)?e.values:[]},S.barOrLineData=function(e){return this.isBarType(e)||this.isLineType(e)?e.values:[]},S.isInterpolationType=function(e){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(e)>=0},S.isSafari=function(){var e=window.navigator.userAgent;return e.indexOf("Safari")>=0&&e.indexOf("Chrome")<0},S.isChrome=function(){var e=window.navigator.userAgent;return e.indexOf("Chrome")>=0},S.initZoom=function(){var e=this,t=e.d3,n=e.config,r;e.zoom=t.behavior.zoom().on("zoomstart",function(){r=t.event.sourceEvent,e.zoom.altDomain=t.event.sourceEvent.altKey?e.x.orgDomain():null,n.zoom_onzoomstart.call(e.api,t.event.sourceEvent)}).on("zoom",function(){e.redrawForZoom.call(e)}).on("zoomend",function(){var i=t.event.sourceEvent;if(i&&r.clientX===i.clientX&&r.clientY===i.clientY)return;e.redrawEventRect(),e.updateZoom(),n.zoom_onzoomend.call(e.api,e.x.orgDomain())}),e.zoom.scale=function(e){return n.axis_rotated?this.y(e):this.x(e)},e.zoom.orgScaleExtent=function(){var t=n.zoom_extent?n.zoom_extent:[1,10];return[t[0],Math.max(e.getMaxDataCount()/t[1],t[1])]},e.zoom.updateScaleExtent=function(){var t=l(e.x.orgDomain())/l(e.getZoomDomain()),n=this.orgScaleExtent();return this.scaleExtent([n[0]*t,n[1]*t]),this}},S.getZoomDomain=function(){var e=this,t=e.config,n=e.d3,r=n.min([e.orgXDomain[0],t.zoom_x_min]),i=n.max([e.orgXDomain[1],t.zoom_x_max]);return[r,i]},S.updateZoom=function(){var t=this,n=t.config.zoom_enabled?t.zoom:function(){};t.main.select("."+e.zoomRect).call(n).on("dblclick.zoom",null),t.main.selectAll("."+e.eventRect).call(n).on("dblclick.zoom",null)},S.redrawForZoom=function(){var e=this,t=e.d3,n=e.config,r=e.zoom,i=e.x;if(!n.zoom_enabled)return;if(e.filterTargetsToShow(e.data.targets).length===0)return;if(t.event.sourceEvent.type==="mousemove"&&r.altDomain){i.domain(r.altDomain),r.scale(i).updateScaleExtent();return}e.isCategorized()&&i.orgDomain()[0]===e.orgXDomain[0]&&i.domain([e.orgXDomain[0]-1e-10,i.orgDomain()[1]]),e.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),t.event.sourceEvent.type==="mousemove"&&(e.cancelClick=!0),n.zoom_onzoom.call(e.api,i.orgDomain())},w}),define("newWidgets/widgets/launchStatisticsChart/LaunchStatisticsChartAreaView",["require","jquery","underscore","util","newWidgets/widgets/launchStatisticsChart/LaunchStatisticsChartCommonView","localization","d3","c3","app","moment"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("newWidgets/widgets/launchStatisticsChart/LaunchStatisticsChartCommonView"),s=e("localization"),o=e("d3"),u=e("c3"),a=e("app"),f=e("moment"),l=a.getInstance(),c=i.extend({drawChart:function(e,i){var a=this,c,h=this.getProcessedData(i);this.$el.addClass("stacked-area-view"),this.chart=u.generate({bindto:e[0],data:{columns:h.columns,type:"area-spline",order:null,groups:[h.itemNames],colors:h.colors},point:{show:h.isSingleColumn,r:3,focus:{expand:{r:5}}},axis:{x:{show:!a.isPreview,type:"category",categories:n.map(h.itemsData,function(e){var t;return a.isTimeLine?(t=f(e.date).format("dddd").substring(0,3),t+", "+e.date):"#"+e.number}),tick:{values:a.isTimeLine?a.getTimelineAxisTicks(h.itemsData.length):a.getLaunchAxisTicks(h.itemsData.length),width:60,centered:!0,inner:!0,multiline:a.isTimeLine,outer:!1}},y:{show:!a.isPreview,padding:{top:3}}},interaction:{enabled:!a.isPreview},zoom:{enabled:!a.isPreview&&a.isZoomEnabled,rescale:!a.isPreview&&a.isZoomEnabled,onzoomend:function(){a.chart.flush()}},subchart:{show:!a.isPreview&&a.isZoomEnabled,size:{height:30}},padding:{top:a.isPreview?0:85,left:a.isPreview?0:40,right:a.isPreview?0:20,bottom:a.isPreview||!a.isTimeLine?0:10},legend:{show:!1},size:{height:a.$el.parent().height()},onrendered:function(){var i=h.isSingleColumn?o.selectAll(t(".c3-circle",e)):o.selectAll(t(".c3-area",e)),u=this.margin.left,f=t(".c3-event-rect",e),c=t(f[0]).attr("width"),p=[],d=o.selectAll(t(".c3-tooltip-container",e)),v,m,g;e.css("max-height","none"),h.isSingleColumn&&i.each(function(e){e.value||o.select(this).style("display","none")});if(a.isPreview)return;t.each(f,function(e,n){+p.push(t(n).attr("x"))}),i.on("click",function(e){var t;a.isTimeLine?t=a.redirectForTimeLine(h.itemsData[g].date):~e.id.indexOf("$executions$")||~e.id.indexOf("$total")?t=a.linkToRedirectService(e.id.split("$")[2],h.itemsData[g].id):t=a.linkToRedirectService(e.id.split("$")[3],h.itemsData[g].id),t&&l.router.navigate(t,{trigger:!0})}).on("mousemove",function(e){var t,i,f;v=e.id,m=o.mouse(a.chart.element)[0]-u,g=n.findIndex(p,function(e){return m-c<e}),f=h.itemsData[g],~e.id.indexOf("$executions$")||~e.id.indexOf("$total")?t=s.filterNameById[e.id]:(i=n.find(a.defectTypesCollection.models,function(t){return t.get("locator")===e.id.split("$")[3]}),i?t=i.get("longName"):t=e.id.split("$")[3]),d.html(function(){return r.templates(a.tooltipTemplate,{launchName:f.name,launchNumber:f.number,startTime:a.isTimeLine?f.date:a.formatDateTime(f.startTime),color:h.colors[v],itemName:t,itemCases:h.isSingleColumn?e.value:e.values[g].value})}).style("left",function(){return o.mouse(a.chart.element)[0]-this.clientWidth/2+"px"}).style("top",function(){return o.mouse(a.chart.element)[1]-this.clientHeight-8+"px"})}).on("mouseover",function(){d.style("display","block")}).on("mouseout",function(){d.style("display","none")})}}),this.hiddenItems&&this.chart.hide(this.hiddenItems),a.isPreview||(this.setupLegend(h),c=r.setupBaronScroll(t("[data-js-legend-wrapper]",e)),this.scrollers.push(c))},updateWidget:function(){this.chart&&this.removeChartListeners()&&this.chart.resize({height:this.$el.parent().height()})&&this.chart.flush()},removeChartListeners:function(){var e=this.chart.data()[0].values.length<2?o.selectAll(t("[data-js-chart-container] .c3-circle",this.$el)):o.selectAll(t("[data-js-chart-container] .c3-area",this.$el));return e.on("click mousemove mouseover mouseout",null),!0},onBeforeDestroy:function(){this.destroyLegend(),this.chart&&this.removeChartListeners(),this.chart&&(this.chart=this.chart.destroy()),n.each(this.scrollers,function(e){e.baron&&e.baron().dispose()})}});return c}),define("newWidgets/widgets/launchStatisticsChart/LaunchStatisticsChartBarView",["require","jquery","underscore","util","newWidgets/widgets/launchStatisticsChart/LaunchStatisticsChartCommonView","localization","d3","c3","app","moment"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("newWidgets/widgets/launchStatisticsChart/LaunchStatisticsChartCommonView"),s=e("localization"),o=e("d3"),u=e("c3"),a=e("app"),f=e("moment"),l=a.getInstance(),c=i.extend({drawChart:function(e,i){var a=this,c,h=this.getProcessedData(i);this.$el.addClass("stacked-bar-view"),this.chart=u.generate({bindto:e[0],data:{columns:h.columns,type:"bar",order:null,groups:[h.itemNames],colors:h.colors},axis:{x:{show:!a.isPreview,type:"category",categories:n.map(h.itemsData,function(e){var t;return a.isTimeLine?(t=f(e.date).format("dddd").substring(0,3),t+", "+e.date):"#"+e.number}),tick:{values:a.isTimeLine?a.getTimelineAxisTicks(h.itemsData.length):a.getLaunchAxisTicks(h.itemsData.length),width:60,centered:!0,inner:!0,multiline:a.isTimeLine,outer:!1}},y:{show:!a.isPreview,padding:{top:0}}},interaction:{enabled:!a.isPreview},zoom:{enabled:!a.isPreview&&a.isZoomEnabled,rescale:!a.isPreview&&a.isZoomEnabled},subchart:{show:!a.isPreview&&a.isZoomEnabled,size:{height:30}},padding:{top:a.isPreview?0:85,left:a.isPreview?0:40,right:a.isPreview?0:20,bottom:a.isPreview||!a.isTimeLine?0:10},legend:{show:!1},size:{height:a.$el.parent().height()},onrendered:function(){var i=o.selectAll(t(".c3-tooltip-container",e));e.css("max-height","none"),o.selectAll(t(".c3-bar",e)).on("click",function(e){var t;a.isTimeLine?t=a.redirectForTimeLine(h.itemsData[e.index].date):~e.id.indexOf("$executions$")||~e.id.indexOf("$total")?t=a.linkToRedirectService(e.id.split("$")[2],h.itemsData[e.index].id):t=a.linkToRedirectService(e.id.split("$")[3],h.itemsData[e.index].id),t&&l.router.navigate(t,{trigger:!0})}).on("mousemove",function(e){var t=h.itemsData[e.index],u=e.id,f,l;~u.indexOf("$executions$")||~u.indexOf("$total")?f=s.filterNameById[u]:(l=n.find(a.defectTypesCollection.models,function(e){return e.get("locator")===u.split("$")[3]}),l?f=l.get("longName"):f=u.split("$")[3]),i.html(function(){return r.templates(a.tooltipTemplate,{launchName:t.name,launchNumber:t.number,startTime:a.isTimeLine?t.date:a.formatDateTime(t.startTime),color:h.colors[u],itemName:f,itemCases:e.value})}).style("left",function(){return o.mouse(a.chart.element)[0]-this.clientWidth/2+"px"}).style("top",function(){return o.mouse(a.chart.element)[1]-this.clientHeight-8+"px"})}).on("mouseover",function(){i.style("display","block")}).on("mouseout",function(){i.style("display","none")})}}),this.hiddenItems&&this.chart.hide(this.hiddenItems),a.isPreview||(this.setupLegend(h),c=r.setupBaronScroll(t("[data-js-legend-wrapper]",e)),this.scrollers.push(c))},removeChartListeners:function(){return o.selectAll(t("[data-js-chart-container] .c3-bar",this.$el)).on("click mousemove mouseover mouseout",null),!0}});return c}),define("newWidgets/widgets/launchStatisticsChart/LaunchStatisticsChartView",["require","util","backbone-epoxy","newWidgets/widgets/launchStatisticsChart/LaunchStatisticsChartAreaView","newWidgets/widgets/launchStatisticsChart/LaunchStatisticsChartBarView"],function(e){"use strict";var t=e("util"),n=e("backbone-epoxy"),r=e("newWidgets/widgets/launchStatisticsChart/LaunchStatisticsChartAreaView"),i=e("newWidgets/widgets/launchStatisticsChart/LaunchStatisticsChartBarView"),s=n.View.extend({template:"tpl-widget-launch-statistics-chart",className:"launch-statistics-chart",initialize:function(e){this.render(e)},render:function(e){var n=e;n.el=this.$el,this.widgetView=this.isInitBarWidget(this.model.getWidgetOptions())?new i(n):new r(n),this.$el.html(t.templates(this.template,{}))},isInitBarWidget:function(e){return e&&e.viewMode&&e.viewMode.length&&e.viewMode[0]==="barMode"},addSizeClasses:function(e){this.widgetView&&!this.widgetView.isPreview&&this.widgetView.addSizeClasses(e)},updateSizeClasses:function(e){this.widgetView&&this.widgetView.updateSizeClasses(e)},onShow:function(){this.widgetView&&this.widgetView.onShow()},onDestroy:function(){this.widgetView&&this.widgetView.onDestroy()}});return s}),define("newWidgets/widgets/launchStatisticsChart/LaunchStatisticsChartSettings",["require","jquery","underscore","localization","util","defectType/SingletonDefectTypeCollection"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("localization"),i=e("util"),s=e("defectType/SingletonDefectTypeCollection"),o=function(){var e=[{name:r.launchesHeaders.total,value:"statistics$executions$total"},{name:r.launchesHeaders.passed,value:"statistics$executions$passed"},{name:r.launchesHeaders.failed,value:"statistics$executions$failed"},{name:r.launchesHeaders.skipped,value:"statistics$executions$skipped"}],t={product_bug:{name:r.launchesHeaders.total+" "+r.filterNamePluralById.product_bug,value:"statistics$defects$product_bug$total"},automation_bug:{name:r.launchesHeaders.total+" "+r.filterNamePluralById.automation_bug,value:"statistics$defects$automation_bug$total"},system_issue:{name:r.launchesHeaders.total+" "+r.filterNamePluralById.system_issue,value:"statistics$defects$system_issue$total"},no_defect:{name:r.launchesHeaders.total+" "+r.filterNamePluralById.no_defect,value:"statistics$defects$no_defect$total"}},o=function(){var e=new s,r="statistics$defects$",o={},u=e.toJSON(),a=i.getIssueTypes(),f=[];return n.each(a,function(e){o[e]={}}),n.each(u,function(e){var t=e.typeRef.toLowerCase(),n=r+t+"$"+e.locator;o[t][n]=e.longName}),n.each(o,function(e,r){var i=Object.keys(e).length>1;i&&f.push(t[r]),n.each(e,function(e,t){f.push({name:e,value:t,isSubOption:i})})}),f};return e.concat(o())};return{getConfig:function(){return{gadget_name:r.widgets.statisticsChart,img:"launch-statistics-line-chart.svg",description:r.widgets.statisticsChartDescription,widget_type:"trends_chart",hasPreview:!0}},getSettings:function(){var e=t.Deferred();return(new s).ready.done(function(){e.resolve([{control:"filters",options:{}},{control:"dropDown",options:{label:r.widgets.widgetCriteria,items:o(),placeholder:r.wizard.criteriaSelectTitle,multiple:!0,getValue:function(e,t){var r=e.getContentFields();return r[0]?r:n.map(t.model.get("items"),function(e){return e.value})},setValue:function(e,t){t.setContentFields(e)}}},{control:"input",options:{name:r.widgets.items,min:1,max:150,def:50,numOnly:!0,action:"limit"}},{control:"switcher",options:{items:[{name:r.widgets.launchMode,value:"launch"},{name:r.widgets.timelineMode,value:"timeline"}],action:"switch_timeline_mode"}},{control:"switcher",options:{items:[{name:r.widgets.areaChartMode,value:"areaChartMode"},{name:r.widgets.barMode,value:"barMode"}],action:"switch_view_mode"}},{control:"checkbox",options:{label:r.widgets.zoomWidgetArea,getValue:function(e,t){var n=e.getWidgetOptions();return n.zoom?!0:!1},setValue:function(e,t){var n=t.getWidgetOptions();e?n.zoom=[]:delete n.zoom,t.setWidgetOptions(n)},beta:!0}},{control:"static",options:{action:"metadata_fields",fields:["name","number","start_time"]}}])}),e.promise()}}}),define("newWidgets/widgets/launchStatisticsChart/index",["require","newWidgets/widgets/launchStatisticsChart/LaunchStatisticsChartView","newWidgets/widgets/launchStatisticsChart/LaunchStatisticsChartSettings"],function(e){"use strict";var t=e("newWidgets/widgets/launchStatisticsChart/LaunchStatisticsChartView"),n=e("newWidgets/widgets/launchStatisticsChart/LaunchStatisticsChartSettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/overallStatistics/OverallStatisticsWidgetView",["require","jquery","underscore","util","newWidgets/_C3ChartWidgetView","defectType/SingletonDefectTypeCollection","filters/SingletonLaunchFilterCollection","localization","d3","c3","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("newWidgets/_C3ChartWidgetView"),s=e("defectType/SingletonDefectTypeCollection"),o=e("filters/SingletonLaunchFilterCollection"),u=e("localization"),a=e("d3"),f=e("c3"),l=e("app"),c=l.getInstance(),h=i.extend({templateDonut:"tpl-widget-overall-statistics-donut",templatePanel:"tpl-widget-overall-statistics-trend",templatePanelItem:"tpl-widget-overall-statistics-trend-item",className:"overall-statistics",render:function(){var e,i,u,a,f={};this.isPreview&&this.$el.addClass("preview-view");if(!this.isDataExists()){this.addNoAvailableBock();return}this.charts=[],this.scrollers=[],e=this.model.getParameters().widgetOptions,i=this.model.getContent().result[0].values,u=n.pick(i,["statistics$executions$passed","statistics$executions$failed","statistics$executions$skipped","statistics$executions$total"]),a=n.omit(i,["statistics$executions$failed","statistics$executions$passed","statistics$executions$skipped","statistics$executions$total"]),n.each(this.model.getContentFields(),function(e){n.each(a,function(t,n){n===e&&(f[n]=t)})});if(i.statistics$executions$total===0||n.isEmpty(f)&&n.isEmpty(u)){this.addNoAvailableBock();return}this.defetTypesCollection=new s,this.launchFilterCollection=new o,this.defetTypesCollection.ready.done(function(){this.launchFilterCollection.ready.done(function(){this.isDrawDonut(e)?(this.$el.html(r.templates(this.templateDonut,{})),this.$el.addClass("donut-chart-view"),n.isEmpty(u)&&this.$el.addClass("left-chart-hidden"),n.isEmpty(f)&&this.$el.addClass("right-chart-hidden"),n.isEmpty(u)||(t("[data-js-left-chart-container]",this.$el).addClass("status-chart"),this.drawDonutChart(t("[data-js-left-chart-container]",this.$el),u)),n.isEmpty(f)||(t("[data-js-right-chart-container]",this.$el).addClass("issues-chart"),this.drawDonutChart(t("[data-js-right-chart-container]",this.$el),f)),this.restyleDonutTitle()):(this.$el.html(r.templates(this.templatePanel,{})),this.$el.addClass("trend-chart-view"),n.isEmpty(u)?this.$el.addClass("left-chart-hidden"):this.drawStackedBarChart(t("[data-js-left-chart-container]",this.$el),u),n.isEmpty(f)?this.$el.addClass("right-chart-hidden"):this.drawDefectTypesPanel(t("[data-js-right-chart-container]",this.$el),f))}.bind(this))}.bind(this))},drawDonutChart:function(e,i){var s=this,o,l=[],h=[],p={},d=0,v="",m;n.each(i,function(e,t){var r,i=t.split("$")[t.split("$").length-1];if(t==="statistics$executions$total")return;~["statistics$executions$passed","statistics$executions$failed","statistics$executions$skipped"].indexOf(t)?p[t]=c.defaultColors[i]:(r=n.find(this.defetTypesCollection.models,function(e){return e.get("locator")===i}),r&&(p[t]=r.get("color"))),d+=+e,h.push(t),l.push([t,+e])}.bind(this)),o=f.generate({bindto:e[0],data:{columns:l,type:"donut",onclick:function(e,t){var n,r=s.launchFilterCollection.get(s.model.get("filter_id"));r?n="#"+s.appModel.get("projectId")+"/launches/"+r.get("id"):n="#"+s.appModel.get("projectId")+"/launches/all",c.router.navigate(n,{trigger:!0})},order:null,colors:p},interaction:{enabled:!s.isPreview},padding:{top:s.isPreview?0:85},legend:{show:!1},donut:{title:d,label:{show:!1,threshold:.05}},tooltip:{position:function(e,t,n,r){var i=a.mouse(o.element)[0]-t/2,s=a.mouse(o.element)[1]-n;return{top:s-8,left:i}},contents:function(e,t,n,r){var i,o,a=e[0].id.split("$")[e[0].id.split("$").length-1];if(~["statistics$executions$passed","statistics$executions$failed","statistics$executions$skipped"].indexOf(e[0].id))i=u.launchesHeaders[a].toUpperCase();else{o=s.defetTypesCollection.getDefectByLocator(a);if(!o)return'<div class="tooltip-title-invalid"><div class="color-mark-invalid"></div>'+a+"</div>";i=o.get("longName")}return'<div class="tooltip-val">'+e[0].value+" ("+s.getRoundedToDecimalPlaces(e[0].ratio*100,2).toFixed(2)+"%)</div>"+'<div class="tooltip-title">'+'<div class="color-mark" style="background-color: '+r(e[0].id)+';"></div>'+i+"</div>"}},onrendered:function(){e.css("max-height","none"),o&&(d=0,n.each(o.data.shown(),function(e){d+=e.values[0].value})),s.restyleDonutTitle(),t(".c3-chart-arcs-title",e).contents()[0].textContent=d}}),this.charts.push(o),s.isPreview||(a.select(o.element).insert("div",".chart").attr("class","legend").insert("div",".legend").attr("data-js-legend-wrapper","").selectAll("span").data(h).enter().append("span").attr("data-id",function(e){return e}).html(function(e){var t,n,r=e.split("$")[e.split("$").length-1];if(~["statistics$executions$passed","statistics$executions$failed","statistics$executions$skipped"].indexOf(e))t=u.launchesHeaders[r];else{n=s.defetTypesCollection.getDefectByLocator(r);if(!n)return'<div class="invalid-color-mark"></div><span class="invalid">'+r+"</span>";t=n.get("longName")}return'<div class="color-mark"></div>'+t}).each(function(e){~s.hiddenItems.indexOf(e)&&t(".color-mark",t(this)).addClass("unchecked"),a.select(this).select(".color-mark").style("background-color",o.color(e))}).on("mouseover",function(e){o.focus(e)}).on("mouseout",function(e){o.revert()}).on("click",function(e){c.trackingDispatcher.trackEventNumber(342),t(".color-mark",t(this)).toggleClass("unchecked"),o.toggle(e)}),this.hiddenItems&&o.hide(this.hiddenItems),a.select(o.element).select(".legend").append("div").attr("class","legend-gradient").append("div").attr("class","legend-border"),m=r.setupBaronScroll(t("[data-js-legend-wrapper]",e)),this.scrollers.push(m)),e.hasClass("status-chart")?v=u.widgets.pieSum:e.hasClass("issues-chart")&&(v=u.widgets.pieIssues),a.select(o.element).select(".c3-chart-arcs-title").attr("dy",-5).append("tspan").attr("dy",16).attr("x",0).text(v)},drawStackedBarChart:function(e,n){var i;n.statistics$executions$total?t("[data-js-total-value]",e).html(n.statistics$executions$total):t("[data-js-total]",e).add(t("[data-js-bar]",e)).addClass("hidden"),!n.statistics$executions$passed&&!n.statistics$executions$failed&&!n.statistics$executions$skipped&&t("[data-js-bar]",e).addClass("hidden"),n.statistics$executions$passed?t("[data-js-legend-passed-val]",e).html(n.statistics$executions$passed):t("[data-js-legend-passed]",e).addClass("hidden"),n.statistics$executions$failed?t("[data-js-legend-failed-val]",e).html(n.statistics$executions$failed):t("[data-js-legend-failed]",e).addClass("hidden"),n.statistics$executions$skipped?t("[data-js-legend-skipped-val]",e).html(n.statistics$executions$skipped):t("[data-js-legend-skipped]",e).addClass("hidden"),t("[data-js-bar-passed]",e).width(n.statistics$executions$passed/n.statistics$executions$total*100+"%"),t("[data-js-bar-failed]",e).width(n.statistics$executions$failed/n.statistics$executions$total*100+"%"),t("[data-js-bar-skipped]",e).width(n.statistics$executions$skipped/n.statistics$executions$total*100+"%"),i=r.setupBaronScroll(e),this.scrollers.push(i)},drawDefectTypesPanel:function(e,i){var s,o=t(document.createDocumentFragment());n.each(i,function(e,t){var i=t.split("$")[t.split("$").length-1],s=n.find(this.defetTypesCollection.models,function(e){return e.get("locator")===i}).get("color");o.append(r.templates(this.templatePanelItem,{val:e,title:this.defetTypesCollection.getDefectByLocator(i).get("longName"),color:s}))}.bind(this)),e.html(o),s=r.setupBaronScroll(e),this.scrollers.push(s)},restyleDonutTitle:function(){this.$el.hasClass("w-less-then-6")||this.$el.hasClass("h-less-then-6")||this.$el.hasClass("preview-view")?t(".c3-chart-arcs-title",this.$el).attr("dy","-5").find("tspan").attr("dy","15"):t(".c3-chart-arcs-title",this.$el).attr("dy","-10").find("tspan").attr("dy","30")},isDrawDonut:function(e){return e&&e.viewMode&&e.viewMode.length&&e.viewMode[0]==="donut"},onBeforeDestroy:function(){n.each(this.scrollers,function(e){e.baron&&e.baron().dispose()})}});return h}),define("newWidgets/widgets/overallStatistics/OverallStatisticsWidgetSettings",["require","jquery","underscore","localization","util","defectType/SingletonDefectTypeCollection"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("localization"),i=e("util"),s=e("defectType/SingletonDefectTypeCollection"),o=function(){var e=[{name:r.launchesHeaders.total,value:"statistics$executions$total"},{name:r.launchesHeaders.passed,value:"statistics$executions$passed"},{name:r.launchesHeaders.failed,value:"statistics$executions$failed"},{name:r.launchesHeaders.skipped,value:"statistics$executions$skipped"}],t=function(){var e=new s,t="statistics$defects$",r={},o=e.toJSON(),u=i.getIssueTypes(),a=[];return n.each(u,function(e){r[e]={}}),n.each(o,function(e){var n=e.typeRef.toLowerCase(),i=t+n+"$"+e.locator;r[n][i]=e.longName}),n.each(n.values(r),function(e){n.each(e,function(e,t){a.push({name:e,value:t})})}),a};return e.concat(t())};return{getConfig:function(){return{gadget_name:r.widgets.overallStatisticsPanel,img:"overall-statistics-panel.svg",description:r.widgets.overallStatisticsPanelDescription,widget_type:"statistics_panel",hasPreview:!0}},getSettings:function(){var e=t.Deferred();return(new s).ready.done(function(){e.resolve([{control:"filters",options:{}},{control:"dropDown",options:{label:r.widgets.widgetCriteria,placeholder:r.wizard.criteriaSelectTitle,items:o(),multiple:!0,getValue:function(e,t){var r=e.getContentFields();return r.length?r:n.map(t.model.get("items"),function(e){return e.value})},setValue:function(e,t){t.setContentFields(e)}}},{control:"input",options:{name:r.widgets.items,min:1,max:150,def:50,numOnly:!0,action:"limit"}},{control:"switcher",options:{items:[{name:r.widgets.panelMode,value:"panel"},{name:r.widgets.donutChartMode,value:"donut"}],action:"switch_view_mode"}},{control:"switcher",options:{items:[{name:r.widgets.allLaunches,value:"all"},{name:r.widgets.latestLaunches,value:"latest"}],action:"switch_latest_mode"}},{control:"static",options:{action:"metadata_fields",fields:["name","number","start_time"]}}])}),e.promise()}}}),define("newWidgets/widgets/overallStatistics/index",["require","newWidgets/widgets/overallStatistics/OverallStatisticsWidgetView","newWidgets/widgets/overallStatistics/OverallStatisticsWidgetSettings"],function(e){"use strict";var t=e("newWidgets/widgets/overallStatistics/OverallStatisticsWidgetView"),n=e("newWidgets/widgets/overallStatistics/OverallStatisticsWidgetSettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/launchesDurationChart/LaunchesDurationChartView",["require","jquery","underscore","util","newWidgets/_C3ChartWidgetView","localization","d3","c3","moment","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("newWidgets/_C3ChartWidgetView"),s=e("localization"),o=e("d3"),u=e("c3"),a=e("moment"),f=e("app"),l=f.getInstance(),c=i.extend({template:"tpl-widget-launches-duration-chart",tooltipTemplate:"tpl-widget-launches-duration-chart-tooltip",className:"launches-duration-chart",render:function(){this.isPreview&&this.$el.addClass("preview-view");if(!this.isDataExists()){this.addNoAvailableBock();return}this.ITERUPTED="INTERRUPTED",this.$el.html(r.templates(this.template,{})),this.drawBarChart(t("[data-js-chart-container]",this.$el),this.model.getContent().result)},drawBarChart:function(e,t){var i=this,f=["duration"],c=[],h=0,p=0,d=0,v=0,m;n.each(t,function(e){i.isInterrupted(e.values)||(h+=1,v+=+e.values.duration)}),d=v/h,n.each(t.reverse(),function(e){var t=parseInt(e.values.duration,10);p=t>p?t:p,c.push({id:e.id,name:e.name,number:e.number,status:e.values.status,start_time:e.values.start_time,end_time:e.values.end_time,duration:t}),f.push(i.isInterrupted(e.values)?d:t)}),m=this.getTimeType(p),this.chart=u.generate({bindto:e[0],data:{columns:[f],type:"bar",colors:{duration:l.defaultColors.duration},groups:[["duration"]],color:function(e,t){return c[t.index]&&i.isInterrupted(c[t.index])?l.defaultColors.interrupted:e},onclick:function(e,t){var n=i.linkToRedirectService(e.id,c[e.index].id);n&&l.router.navigate(n,{trigger:!0})}},grid:{y:{show:!i.isPreview}},axis:{rotated:!0,x:{show:!i.isPreview,type:"category",categories:n.map(c,function(e){return"#"+e.number}),tick:{values:i.getLaunchAxisTicks(c.length),width:60,centered:!0,inner:!0,multiline:!1,outer:!1}},y:{show:!i.isPreview,tick:{format:function(e){return(parseInt(e,10)/m.value).toFixed(2)}},padding:{top:0,bottom:0},label:{text:s.time[m.type],position:"outer-center"}}},interaction:{enabled:!i.isPreview},padding:{top:i.isPreview?0:20,left:i.isPreview?0:40,right:i.isPreview?0:20,bottom:i.isPreview?0:10},legend:{show:!1},tooltip:{grouped:!0,position:function(e,t,n,r){var s=o.mouse(i.chart.element)[0]-t/2,u=o.mouse(i.chart.element)[1]-n;return{top:u-8,left:s}},contents:function(e,t,n,s){var o=c[e[0].index];return r.templates(i.tooltipTemplate,{launchName:o.name,launchNumber:o.number,isInterrupted:i.isInterrupted(o),duration:a.duration(Math.abs(o.duration/m.value),m.type).humanize(!0)})}},size:{height:i.$el.parent().height()},onrendered:function(){e.css("max-height","none")}})},isInterrupted:function(e){return e.status===this.ITERUPTED},getTimeType:function(e){var t={value:36e5,type:s.time.hours};return e>0&&(e<6e4?t={value:1e3,type:s.time.seconds}:e<=72e5&&(t={value:6e4,type:s.time.minutes})),t}});return c}),define("newWidgets/widgets/launchesDurationChart/LaunchesDurationChartSettings",["require","jquery","localization"],function(e){"use strict";var t=e("jquery"),n=e("localization");return{getConfig:function(){return{gadget_name:n.widgets.durationChart,img:"launches-duration-chart.svg",description:n.widgets.durationChartDescription,widget_type:"column_chart",hasPreview:!0}},getSettings:function(){var e=t.Deferred();return e.resolve([{control:"filters",options:{}},{control:"input",options:{name:n.widgets.items,min:1,max:150,def:50,numOnly:!0,action:"limit"}},{control:"switcher",options:{items:[{name:n.widgets.allLaunches,value:"all"},{name:n.widgets.latestLaunches,value:"latest"}],action:"switch_latest_mode"}},{control:"static",options:{action:"criteria",fields:["start_time","end_time","name","number","status"]}},{control:"static",options:{action:"metadata_fields",fields:["name","number","start_time"]}}]),e.promise()}}}),define("newWidgets/widgets/launchesDurationChart/index",["require","newWidgets/widgets/launchesDurationChart/LaunchesDurationChartView","newWidgets/widgets/launchesDurationChart/LaunchesDurationChartSettings"],function(e){"use strict";var t=e("newWidgets/widgets/launchesDurationChart/LaunchesDurationChartView"),n=e("newWidgets/widgets/launchesDurationChart/LaunchesDurationChartSettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/launchExecutionAndIssueStatistics/LaunchExecutionAndIssueStatisticsView",["require","jquery","underscore","util","newWidgets/_C3ChartWidgetView","defectType/SingletonDefectTypeCollection","filters/SingletonLaunchFilterCollection","localization","d3","c3","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("newWidgets/_C3ChartWidgetView"),s=e("defectType/SingletonDefectTypeCollection"),o=e("filters/SingletonLaunchFilterCollection"),u=e("localization"),a=e("d3"),f=e("c3"),l=e("app"),c=l.getInstance(),h=i.extend({template:"tpl-widget-launch-execution-and-issue-statistics",className:"launch-execution-and-issue-statistics",render:function(){var e={},i=[],u={},a=[];this.isPreview&&this.$el.addClass("preview-view");if(!this.isDataExists()){this.addNoAvailableBock();return}this.charts=[],this.scrollers=[],n.each(this.model.getContent().result[0].values,function(t,n){~n.indexOf("$executions$")?e[n]=+t:u[n]=+t}),e.statistics$executions$passed&&i.push(["statistics$executions$passed",e.statistics$executions$passed]),e.statistics$executions$failed&&i.push(["statistics$executions$failed",e.statistics$executions$failed]),e.statistics$executions$skipped&&i.push(["statistics$executions$skipped",e.statistics$executions$skipped]),n.each(this.model.getContentFields(),function(e){n.each(u,function(t,n){e===n&&a.push([e,u[e]])})});if(+i.statistics$executions$total===0||!a.length&&!i.legth){this.addNoAvailableBock();return}this.defetTypesCollection=new s,this.launchFilterCollection=new o,this.defetTypesCollection.ready.done(function(){this.launchFilterCollection.ready.done(function(){this.$el.html(r.templates(this.template,{})),this.$el.addClass("donut-chart-view"),a.length||this.$el.addClass("left-chart-hidden"),a.length||this.$el.addClass("right-chart-hidden"),i.length&&(t("[data-js-left-chart-container]",this.$el).addClass("status-chart"),this.drawDonutChart(t("[data-js-left-chart-container]",this.$el),i)),a.length&&(t("[data-js-right-chart-container]",this.$el).addClass("issues-chart"),this.drawDonutChart(t("[data-js-right-chart-container]",this.$el),a)),this.restyleDonutTitle()}.bind(this))}.bind(this))},drawDonutChart:function(e,i){var s=this,o,l=[],h={},p=0,d="",v;n.each(i,function(e){var t;~e[0].indexOf("$executions$")?h[e[0]]=c.defaultColors[e[0].split("$")[2]]:(t=n.find(this.defetTypesCollection.models,function(t){return t.get("locator")===e[0].split("$")[3]}),t&&(h[e[0]]=t.get("color"))),p+=e[1],l.push(e[0])}.bind(this)),o=f.generate({bindto:e[0],data:{columns:i,type:"donut",onclick:function(e,t){c.router.navigate(s.linkToRedirectService(e.id.split("$")[e.id.split("$").length-1],s.model.getContent().result[0].id),{trigger:!0})},order:null,colors:h},interaction:{enabled:!s.isPreview},padding:{top:s.isPreview?0:85},legend:{show:!1},donut:{title:p,label:{show:!1,threshold:.05}},tooltip:{position:function(e,t,n,r){var i=a.mouse(o.element)[0]-t/2,s=a.mouse(o.element)[1]-n;return{top:s-8,left:i}},contents:function(e,t,n,r){var i,o;if(~e[0].id.indexOf("$executions$"))i=u.filterNameById[e[0].id].toUpperCase();else{o=s.defetTypesCollection.getDefectByLocator(e[0].id.split("$")[3]);if(!o)return'<div class="tooltip-title-invalid"><div class="color-mark-invalid"></div>'+e[0].id.split("$")[3]+"</div>";i=o.get("longName")}return'<div class="tooltip-val">'+e[0].value+" ("+s.getRoundedToDecimalPlaces(e[0].ratio*100,2).toFixed(2)+"%)</div>"+'<div class="tooltip-title">'+'<div class="color-mark" style="background-color: '+r(e[0].id)+';"></div>'+i+"</div>"}},onrendered:function(){e.css("max-height","none"),o&&(p=0,n.each(o.data.shown(),function(e){p+=e.values[0].value})),s.restyleDonutTitle(),t(".c3-chart-arcs-title",e).contents()[0].textContent=p}}),this.charts.push(o),s.isPreview||(a.select(o.element).insert("div",".chart").attr("class","legend").insert("div",".legend").attr("data-js-legend-wrapper","").selectAll("span").data(l).enter().append("span").attr("data-id",function(e){return e}).html(function(e){var t,n;if(~e.indexOf("$executions$"))t=u.filterNameById[e];else{n=s.defetTypesCollection.getDefectByLocator(e.split("$")[3]);if(!n)return'<div class="invalid-color-mark"></div><span class="invalid">'+e.split("$")[3]+"</span>";t=n.get("longName")}return'<div class="color-mark"></div>'+t}).each(function(e){~s.hiddenItems.indexOf(e)&&t(".color-mark",t(this)).addClass("unchecked"),a.select(this).select(".color-mark").style("background-color",o.color(e))}).on("mouseover",function(e){o.focus(e)}).on("mouseout",function(e){o.revert()}).on("click",function(e){c.trackingDispatcher.trackEventNumber(342),t(".color-mark",t(this)).toggleClass("unchecked"),o.toggle(e)}),this.hiddenItems&&o.hide(this.hiddenItems),a.select(o.element).select(".legend").append("div").attr("class","legend-gradient").append("div").attr("class","legend-border"),v=r.setupBaronScroll(t("[data-js-legend-wrapper]",e)),this.scrollers.push(v)),e.hasClass("status-chart")?d=u.widgets.pieSum:e.hasClass("issues-chart")&&(d=u.widgets.pieIssues),a.select(o.element).select(".c3-chart-arcs-title").attr("dy",-5).append("tspan").attr("dy",16).attr("x",0).text(d)},restyleDonutTitle:function(){this.$el.hasClass("w-less-then-6")||this.$el.hasClass("h-less-then-6")||this.$el.hasClass("preview-view")?t(".c3-chart-arcs-title",this.$el).attr("dy","-5").find("tspan").attr("dy","15"):t(".c3-chart-arcs-title",this.$el).attr("dy","-10").find("tspan").attr("dy","30")},onBeforeDestroy:function(){n.each(this.scrollers,function(e){e.baron&&e.baron().dispose()})}});return h}),define("newWidgets/widgets/launchExecutionAndIssueStatistics/LaunchExecutionAndIssueStatisticsSettings",["require","jquery","underscore","localization","util","defectType/SingletonDefectTypeCollection"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("localization"),i=e("util"),s=e("defectType/SingletonDefectTypeCollection"),o=function(){var e=[{name:r.launchesHeaders.total,value:"statistics$executions$total"},{name:r.launchesHeaders.passed,value:"statistics$executions$passed"},{name:r.launchesHeaders.failed,value:"statistics$executions$failed"},{name:r.launchesHeaders.skipped,value:"statistics$executions$skipped"}],t=function(){var e=new s,t="statistics$defects$",r={},o=e.toJSON(),u=i.getIssueTypes(),a=[];return n.each(u,function(e){r[e]={}}),n.each(o,function(e){var n=e.typeRef.toLowerCase(),i=t+n+"$"+e.locator;r[n][i]=e.longName}),n.each(n.values(r),function(e){n.each(e,function(e,t){a.push({name:e,value:t})})}),a};return e.concat(t())};return{getConfig:function(){return{gadget_name:r.widgets.executionIssueStatistics,img:"launch-execution-and-issue-statistic.svg",description:r.widgets.executionIssueStatisticsDescription,widget_type:"combine_pie_chart",hasPreview:!0}},getSettings:function(){var e=t.Deferred();return e.resolve([{control:"filters",options:{}},{control:"static",options:{action:"criteria",fields:function(){return n.map(o(),function(e){return e.value})}}},{control:"static",options:{action:"limit",value:1}},{control:"static",options:{action:"metadata_fields",fields:["name","number","start_time"]}}]),e.promise()}}}),define("newWidgets/widgets/launchExecutionAndIssueStatistics/index",["require","newWidgets/widgets/launchExecutionAndIssueStatistics/LaunchExecutionAndIssueStatisticsView","newWidgets/widgets/launchExecutionAndIssueStatistics/LaunchExecutionAndIssueStatisticsSettings"],function(e){"use strict";var t=e("newWidgets/widgets/launchExecutionAndIssueStatistics/LaunchExecutionAndIssueStatisticsView"),n=e("newWidgets/widgets/launchExecutionAndIssueStatistics/LaunchExecutionAndIssueStatisticsSettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/projectActivity/ProjectActivityView",["require","jquery","underscore","util","moment","dataUrlResolver","localization","newWidgets/_BaseWidgetView","coreService"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("moment"),s=e("dataUrlResolver"),o=e("localization"),u=e("newWidgets/_BaseWidgetView"),a=e("coreService"),f=u.extend({initialize:function(e){u.prototype.initialize.call(this,e),this.testItems=[]},tpl:"tpl-widget-activity-stream",replaceValues:function(e){switch(e){case"false":return o.ui.off;case"true":return o.ui.on;case"STEP_BASED":return o.project.strategyRegular;case"TEST_BASED":return o.project.strategyBdd;case"-1":return o.ui.all;default:return e}},getBts:function(e){var t=e.split(":");return{type:t[0],name:t[1]&&t[1]!=="null"?t[1]:null}},getData:function(){var e=[],t=this.model.getContent();return t.result&&n.each(t.result,function(t){var s,u,a,f=null,l=null,c=null,h,p,d,v,m,g,y,b,w,E;if(!(!r.hasValidBtsSystem()&&t.values.objectType==="testItem"&&t.values.actionType.indexOf("issue")>0)){h={id:t.id},t.values.actionType==="update_project"?(h.history={},n.each(t.values,function(e,t){var r=t.split("$"),i=r[0],s=r[1];E={};if(t.indexOf("Value")>0)if(t==="emailEnabled$newValue")f="email",l=e==="false"?"off_email":"on_email";else if(t==="emailCases$newValue")f="email",l="update_email";else{if(t==="auto_analyze$newValue"||t==="analyze_mode$newValue"||t==="min_doc_freq$newValue"||t==="min_should_match$newValue"||t==="number_of_log_lines$newValue"||t==="min_term_freq$newValue")c="a-analysis";r=t.split("$"),i=r[0],s=r[1],E={},E[s]=e,h.history[i]?n.extend(h.history[i],E):h.history[i]=E}h[t]=e},this)):t.values.actionType==="update_analyzer"?(h.history={},n.each(t.values,function(e,t){var r=t.split("$"),i=r[0],s=r[1];E={},t.indexOf("Value")>0&&(c="a-analysis",r=t.split("$"),i=r[0],s=r[1],E={},E[s]=e,h.history[i]?n.extend(h.history[i],E):h.history[i]=E),h[t]=e},this)):n.extend(h,t.values);if(t.values.actionType==="delete_index"||t.values.actionType==="generate_index")h.objectType="index";c&&(h.objectType=c),f&&(h.objectType=f,h.actionType=l),this.checkForIssues(h.actionType)&&this.testItems.push(h.loggedObjectRef),s=new Date(parseFloat(h.last_modified)),u=new Date(s.getFullYear(),s.getMonth(),s.getDate()),a=""+Date.parse(u),h.fullTime=r.dateFormat(parseFloat(h.last_modified)),h.momentTime=i(h.fullTime).fromNow(),h.userRef=h.userRef?h.userRef.split("_").join(" "):"",p=n.find(e,function(e){return e.day===a}),p?p.items.push(h):(d=new Date,v=(new Date(d.getFullYear(),d.getMonth(),d.getDate())).valueOf(),m="",g=(new Date(v-864e5)).valueOf(),y=new Date(parseFloat(a)),b=o.ui.months,w=o.ui.days,a===v?m=o.ui.today:a===g?m=o.ui.yesterday:v-a<=6048e5?m=w[y.getDay()]:m=b[y.getMonth()]+" "+y.getDate(),E={day:a,dayTitle:m,items:[h]},e.push(E))}},this),e},render:function(){var e=this.getData(),i={properties:{projectUrl:this.appModel.get("projectId")},getBts:this.getBts,getTicketUrlId:r.getTicketUrlId,getTickets:this.getTickets,replaceValues:this.replaceValues,methodUpdateImagePath:r.updateImagePath,imageRoot:s.getAvatar,dates:e};this.isEmptyData(this.getData())?this.addNoAvailableBock():(this.$el.html(r.templates(this.tpl,i)),r.hoverFullTime(this.$el),!this.isPreview&&r.setupBaronScroll(t(".project-activity-panel",this.$el)),this.getItemsInfo(n.uniq(this.testItems)))},getTickets:function(e){var t=e.ticketId$newValue?e.ticketId$newValue.split(","):[],r=e.ticketId$oldValue?e.ticketId$oldValue.split(","):[];return e.actionType==="unlink_issue"?n.difference(r,t):n.difference(t,r)},getItemsInfo:function(e){var r=this,i=this.appModel.get("projectId");n.each(e,function(e){a.getTestItemInfo(e).done(function(r){var s=[r.launchId].concat(n.keys(r.path_names));t.each(t('[data-js-item-id="'+e+'"]'),function(){t(this).html(" "+r.name).wrap('<a class="rp-blue-link-undrl" target="_blank" href="#'+i+"/launches/all/"+s.join("/")+"?log.item="+e+'"></a>')})}).fail(function(){t('[data-js-item-id="'+e+'"]',r.$el).html(o.widgets.testItemNotFound)})})},checkForIssues:function(e){return e==="post_issue"||e==="link_issue"||e==="unlink_issue"}});return f}),define("newWidgets/widgets/projectActivity/ProjectActivitySettings",["require","jquery","underscore","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("localization"),i=[{value:"start_launch",name:r.forms.startLaunch},{value:"finish_launch",name:r.forms.finishLaunch},{value:"delete_launch",name:r.forms.deleteLaunch},{value:"update_issue",name:r.forms.updateIssue},{value:"create_user",name:r.forms.createUser},{value:"update_dashboard",name:r.forms.updateDashboard},{value:"update_widget",name:r.forms.updateWidget},{value:"update_filter",name:r.forms.updateFilter},{value:"update_bts",name:r.forms.updateBts},{value:"update_project",name:r.forms.updateProject},{value:"update_analyzer",name:r.forms.updateAutoAnalysis},{value:"update_defects",name:r.forms.updateDefects},{value:"import",name:r.forms.import}],s={update_dashboard:["create_dashboard","update_dashboard","delete_dashboard"],update_widget:["create_widget","update_widget","delete_widget"],update_filter:["create_filter","update_filter","delete_filter"],update_bts:["create_bts","update_bts","delete_bts"],update_defects:["update_defect","delete_defect"],update_issue:["post_issue","link_issue","unlink_issue"],"import":["start_import","finish_import"],update_analyzer:["update_analyzer","generate_index","delete_index"]};return{getConfig:function(){return{gadget_name:r.widgets.projectActivityPanel,img:"project-activity-panel.svg",description:r.widgets.projectActivityPanelDescription,widget_type:"activity_panel",hasPreview:!1}},getSettings:function(){var e=t.Deferred();return e.resolve([{control:"dropDown",options:{label:r.widgets.widgetCriteria,items:i,placeholder:r.wizard.criteriaSelectTitle,multiple:!0,getValue:function(e,t){var r=e.getWidgetOptions(),i=[];return r&&r.actionType?(n.each(r.actionType,function(e){n.each(s,function(t,n){~t.indexOf(e)?i.push(n):i.push(e)})}),n.uniq(i)):n.map(t.model.get("items"),function(e){return e.value})},setValue:function(e,t){var r=t.getWidgetOptions(),i=[];n.each(e,function(e){n.has(s,e)?i=i.concat(s[e]):i.push(e)}),r.actionType=n.uniq(i),t.setWidgetOptions(r)}}},{control:"input",options:{name:r.widgets.items,min:1,max:150,def:50,numOnly:!0,action:"limit"}},{control:"inputItems",options:{entity:"user",label:r.widgets.typeUserName,placeholder:r.widgets.enterUserName,minItems:0,maxItems:64,getValue:function(e){var t=e.getWidgetOptions();return t.userRef?t.userRef:[]},setValue:function(e,t){var n=t.getWidgetOptions();!e||!e.length||e.length===1&&!e[0]?n.userRef&&delete n.userRef:n.userRef=e,t.setWidgetOptions(n)}}},{control:"static",options:{action:"criteria",fields:["name","userRef","last_modified","actionType","objectType","projectRef","loggedObjectRef","history"]}}]),e.promise()}}}),define("newWidgets/widgets/projectActivity/index",["require","newWidgets/widgets/projectActivity/ProjectActivityView","newWidgets/widgets/projectActivity/ProjectActivitySettings"],function(e){"use strict";var t=e("newWidgets/widgets/projectActivity/ProjectActivityView"),n=e("newWidgets/widgets/projectActivity/ProjectActivitySettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/testCasesGrowthTrendChart/TestCasesGrowthTrendChartView",["require","jquery","underscore","util","newWidgets/_C3ChartWidgetView","filters/SingletonLaunchFilterCollection","localization","d3","c3","app","moment"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("newWidgets/_C3ChartWidgetView"),s=e("filters/SingletonLaunchFilterCollection"),o=e("localization"),u=e("d3"),a=e("c3"),f=e("app"),l=e("moment"),c=f.getInstance(),h=i.extend({template:"tpl-widget-test-cases-growth-trend-chart",tooltipTemplate:"tpl-widget-test-cases-growth-trend-chart-tooltip",className:"test-cases-growth-trend-chart",render:function(){var e;this.isTimeLine=!!this.model.getWidgetOptions().timeline,this.isTimeLine?(e=[],n.each(this.model.getContent(),function(t,n){e.push({date:n,values:t[0].values})}),this.$el.addClass("timeline-mode")):e=this.model.getContent().result,this.scrollers=[],this.isPreview&&this.$el.addClass("preview-view");if(!this.isTimeLine&&!this.isDataExists()||this.isTimeLine&&n.isEmpty(this.model.getContent())){this.addNoAvailableBock();return}this.launchFilterCollection=new s,this.launchFilterCollection.ready.done(function(){this.$el.html(r.templates(this.template,{})),this.drawStackedBarChart(t("[data-js-chart-container]",this.$el),e)}.bind(this))},drawStackedBarChart:function(e,i){var s=this,f=[],h=["offset"],p=["bar"],d=[];n.each(i,function(e){+e.values.delta<0?(d.push(!1),h.push(+e.values.statistics$executions$total)):(d.push(!0),h.push(+e.values.statistics$executions$total- +e.values.delta)),p.push(Math.abs(+e.values.delta)),s.isTimeLine?f.push({date:e.date}):f.push({id:e.id,name:e.name,number:e.number,startTime:e.startTime})}),this.chart=a.generate({bindto:e[0],data:{columns:[h,p],type:"bar",order:null,onclick:function(e,t){e.id==="bar"&&(s.isTimeLine?s.redirectForTimeLine(f[e.index].date):c.router.navigate(s.linkToRedirectService("Grow test cases",f[e.index].id),{trigger:!0}))},groups:[["offset","bar"]],color:function(e,t){var n;switch(t.id){case"bar":if(d[t.index]){n=c.defaultColors.positive;break}n=c.defaultColors.negative;break;default:n=null}return n},labels:{format:function(e,t,n,r){var i=f.length<20?1:s.isTimeLine?6:2;return s.isPreview||t!=="bar"||n%i!==0?null:d[n]?e:-e}}},grid:{y:{show:!s.isPreview}},axis:{x:{show:!s.isPreview,type:"category",categories:n.map(f,function(e){var t;return s.isTimeLine?(t=l(e.date).format("dddd").substring(0,3),t+", "+e.date):"#"+e.number}),tick:{values:s.isTimeLine?s.getTimelineAxisTicks(f.length):s.getLaunchAxisTicks(f.length),width:60,centered:!0,inner:!0,multiline:s.isTimeLine,outer:!1}},y:{show:!0,padding:{top:10,bottom:0},label:{text:o.widgets.casesLabel,position:"outer-middle"}}},interaction:{enabled:!s.isPreview},padding:{top:s.isPreview?0:10,left:s.isPreview?0:60,right:s.isPreview?0:20,bottom:s.isPreview||!s.isTimeLine?0:10},legend:{show:!1},tooltip:{grouped:!0,position:function(e,t,n,r){var i=u.mouse(s.chart.element)[0]-t/2,o=u.mouse(s.chart.element)[1]-n;return{top:o-8,left:i}},contents:function(e,t,n,i){var o=f[e[0].index],u,a;return d[e[0].index]?(a=e[1].value,u=e[0].value+e[1].value):(a=-e[1].value,u=e[0].value),r.templates(s.tooltipTemplate,{launchName:o.name,launchNumber:o.number,startTime:s.isTimeLine?o.date:s.formatDateTime(o.startTime),total:u,growth:a})}},size:{height:s.$el.parent().height()},onrendered:function(){e.css("max-height","none"),u.selectAll(t(".c3-bars-bar path",e)).each(function(){var e=u.select(this);e.datum().value===0&&e.style("stroke-width","1px").style("stroke","#464547")})}})},onBeforeDestroy:function(){n.each(this.scrollers,function(e){e.baron&&e.baron().dispose()})}});return h}),define("newWidgets/widgets/testCasesGrowthTrendChart/TestCasesGrowthTrendChartSettings",["require","jquery","localization"],function(e){"use strict";var t=e("jquery"),n=e("localization");return{getConfig:function(){return{gadget_name:n.widgets.growthTrendChart,img:"test-cases-growth-trend-chart.svg",description:n.widgets.growthTrendChartDescription,widget_type:"cases_trend_chart",hasPreview:!0}},getSettings:function(){var e=t.Deferred();return e.resolve([{control:"filters",options:{}},{control:"input",options:{name:n.widgets.items,min:1,max:150,def:50,numOnly:!0,action:"limit"}},{control:"switcher",options:{items:[{name:n.widgets.launchMode,value:"launch"},{name:n.widgets.timelineMode,value:"timeline"}],action:"switch_timeline_mode"}},{control:"static",options:{action:"criteria",fields:["statistics$executions$total"]}},{control:"static",options:{action:"metadata_fields",fields:["name","number","start_time"]}}]),e.promise()}}}),define("newWidgets/widgets/testCasesGrowthTrendChart/index",["require","newWidgets/widgets/testCasesGrowthTrendChart/TestCasesGrowthTrendChartView","newWidgets/widgets/testCasesGrowthTrendChart/TestCasesGrowthTrendChartSettings"],function(e){"use strict";var t=e("newWidgets/widgets/testCasesGrowthTrendChart/TestCasesGrowthTrendChartView"),n=e("newWidgets/widgets/testCasesGrowthTrendChart/TestCasesGrowthTrendChartSettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/investigatedTrendChart/InvestigatedTrendChartView",["require","jquery","underscore","util","newWidgets/_C3ChartWidgetView","filters/SingletonLaunchFilterCollection","localization","d3","c3","app","moment"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("newWidgets/_C3ChartWidgetView"),s=e("filters/SingletonLaunchFilterCollection"),o=e("localization"),u=e("d3"),a=e("c3"),f=e("app"),l=e("moment"),c=f.getInstance(),h=i.extend({template:"tpl-widget-investigated-trend-chart",tooltipTemplate:"tpl-widget-investigated-trend-chart-tooltip",className:"investigated-trend-chart",render:function(){var e;this.isTimeLine=!!this.model.getWidgetOptions().timeline,this.isTimeLine?(e=[],n.each(this.model.getContent(),function(t,n){e.push({date:n,values:t[0].values})}),this.$el.addClass("timeline-mode")):e=this.model.getContent().result,this.scrollers=[],this.isPreview&&this.$el.addClass("preview-view");if(!this.isTimeLine&&!this.isDataExists()||this.isTimeLine&&n.isEmpty(this.model.getContent())){this.addNoAvailableBock();return}this.launchFilterCollection=new s,this.launchFilterCollection.ready.done(function(){this.$el.html(r.templates(this.template,{})),this.drawStackedBarChart(t("[data-js-chart-container]",this.$el),e)}.bind(this))},drawStackedBarChart:function(e,i){var s=this,f={},h,p,d=[],v={};n.each(i[0].values,function(e,t){var n=t.split("$"),r=n[n.length-1];switch(r){case"to_investigate":v[r]="#FFB743";break;case"investigated":v[r]="#87B87F";break;default:}f[r]=[r]}),this.isTimeLine?n.each(i,function(e){d.push({date:e.date}),n.each(e.values,function(e,t){var n=t.split("$"),r=n[n.length-1];f[r].push(e)})}):n.each(i,function(e){d.push({id:e.id,name:e.name,number:e.number,startTime:e.startTime}),n.each(e.values,function(e,t){var n=t.split("$"),r=n[n.length-1];f[r].push(e)})}),p=n.map(f,function(e){return e[0]}),this.chart=a.generate({bindto:e[0],data:{columns:[f[p[0]],f[p[1]]],type:"bar",onclick:function(e,t){s.isTimeLine?s.redirectForTimeLine(d[e.index].date):c.router.navigate(s.linkToRedirectService(e.id,d[e.index].id),{trigger:!0})},order:null,groups:[p],colors:v},grid:{y:{show:!s.isPreview}},axis:{x:{show:!s.isPreview,type:"category",categories:n.map(d,function(e){var t;return s.isTimeLine?(t=l(e.date).format("dddd").substring(0,3),t+", "+e.date):"#"+e.number}),tick:{values:s.isTimeLine?s.getTimelineAxisTicks(d.length):s.getLaunchAxisTicks(d.length),width:60,centered:!0,inner:!0,multiline:s.isTimeLine,outer:!1}},y:{show:!0,max:100,padding:{top:0},label:{text:o.widgets.ofInvestigation,position:"outer-middle"}}},interaction:{enabled:!s.isPreview},padding:{top:s.isPreview?0:85,left:s.isPreview?0:60,right:s.isPreview?0:20,bottom:s.isPreview||!s.isTimeLine?0:10},legend:{show:!1},tooltip:{grouped:!1,position:function(e,t,n,r){var i=u.mouse(s.chart.element)[0]-t/2,o=u.mouse(s.chart.element)[1]-n;return{top:o-8,left:i}},contents:function(e,t,n,i){var u=d[e[0].index],a=e[0].id,f=o.launchesHeaders[a];return r.templates(s.tooltipTemplate,{launchName:u.name,launchNumber:u.number,startTime:s.isTimeLine?u.date:s.formatDateTime(u.startTime),color:i(e[0].id),itemName:f,itemCases:e[0].value})}},size:{height:s.$el.parent().height()},onrendered:function(){e.css("max-height","none")}}),s.isPreview||(u.select(this.chart.element).insert("div",".chart").attr("class","legend").insert("div",".legend").attr("data-js-legend-wrapper","").selectAll("span").data(p).enter().append("span").attr("data-id",function(e){return e}).html(function(e){return'<div class="color-mark"></div>'+o.launchesHeaders[e]}).each(function(e){~s.hiddenItems.indexOf(e)&&t(".color-mark",t(this)).addClass("unchecked"),u.select(this).select(".color-mark").style("background-color",s.chart.color(e))}).on("mouseover",function(e){s.chart.focus(e)}).on("mouseout",function(e){s.chart.revert()}).on("click",function(e){c.trackingDispatcher.trackEventNumber(342),t(".color-mark",t(this)).toggleClass("unchecked"),s.chart.toggle(e)}),this.hiddenItems&&this.chart.hide(this.hiddenItems),u.select(this.chart.element).select(".legend").append("div").attr("class","legend-gradient").append("div").attr("class","legend-border"),h=r.setupBaronScroll(t("[data-js-legend-wrapper]",e)),this.scrollers.push(h))},onBeforeDestroy:function(){n.each(this.scrollers,function(e){e.baron&&e.baron().dispose()})}});return h}),define("newWidgets/widgets/investigatedTrendChart/InvestigatedTrendChartSettings",["require","jquery","localization"],function(e){"use strict";var t=e("jquery"),n=e("localization");return{getConfig:function(){return{gadget_name:n.widgets.percentageOfLaunches,img:"investigated-percentage-of-launches.svg",description:n.widgets.percentageOfLaunchesDescription,widget_type:"column_chart",hasPreview:!0}},getSettings:function(){var e=t.Deferred();return e.resolve([{control:"filters",options:{}},{control:"input",options:{name:n.widgets.items,min:1,max:150,def:50,numOnly:!0,action:"limit"}},{control:"switcher",options:{items:[{name:n.widgets.launchMode,value:"launch"},{name:n.widgets.timelineMode,value:"timeline"}],action:"switch_timeline_mode"}},{control:"static",options:{action:"criteria",fields:["statistics$defects$product_bug$total","statistics$defects$automation_bug$total","statistics$defects$system_issue$total","statistics$defects$no_defect$total","statistics$defects$to_investigate$total"]}},{control:"static",options:{action:"metadata_fields",fields:["name","number","start_time"]}}]),e.promise()}}}),define("newWidgets/widgets/investigatedTrendChart/index",["require","newWidgets/widgets/investigatedTrendChart/InvestigatedTrendChartView","newWidgets/widgets/investigatedTrendChart/InvestigatedTrendChartSettings"],function(e){"use strict";var t=e("newWidgets/widgets/investigatedTrendChart/InvestigatedTrendChartView"),n=e("newWidgets/widgets/investigatedTrendChart/InvestigatedTrendChartSettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/launchesTable/LaunchesTableView",["require","jquery","underscore","backbone-epoxy","newWidgets/_BaseWidgetView","model/SingletonAppModel","util","moment","d3","c3","components/markdown/MarkdownViewer","defectType/SingletonDefectTypeCollection","filters/SingletonLaunchFilterCollection","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("newWidgets/_BaseWidgetView"),s=e("model/SingletonAppModel"),o=e("util"),u=e("moment"),a=e("d3"),f=e("c3"),l=e("components/markdown/MarkdownViewer"),c=e("defectType/SingletonDefectTypeCollection"),h=e("filters/SingletonLaunchFilterCollection"),p=e("app"),d=p.getInstance(),v=r.View.extend({className:"row rp-table-row",tpl:"tpl-widget-filters-table-item",toolTipContent:"tpl-launches-table-tooltip-defects",bindings:{"[data-js-name-link]":"attr: {href: getItemUrl}","[data-js-name]":"text: name","[data-js-launch-number]":"text: number"},computeds:{getItemUrl:{deps:["id"],get:function(e){return"#"+this.appModel.get("projectId")+"/launches/all/"+e}}},events:{"click [data-js-toggle-open]":"onClickOpen","mouseenter [data-js-launch-defect]":"showDefectTooltip","click [data-js-tag]":"onClickTag","click [data-js-user-tag]":"onClickUserTag"},initialize:function(e){this.widgetId=e.widgetId,this.criteria=e.criteria,this.link=e.link,this.contentFields=e.contentFields,this.charts=[],this.appModel=new s,this.defectTypes=new c,this.render(),this.markdownViewer=new l({text:this.model.get("description")}),t("[data-js-description]",this.$el).html(this.markdownViewer.$el);var n=this;this.listenTo(this.model,"change:description",function(e,t){n.markdownViewer.update(t)}),n.renderDefects()},render:function(){this.$el.html(o.templates(this.tpl,{item:this.model.toJSON(),criteria:this.criteria,projectUrl:this.appModel.get("projectId"),defectTypes:this.defectTypes,getDefectColor:this.getDefectColor,allCasesUrl:this.allCasesUrl.bind(this),dateFormat:o.dateFormat,widgetId:this.widgetId,moment:u}))},activateAccordion:function(){var e=198;t(window).width()<900&&(e=318),this.$el.innerHeight()>e?this.$el.addClass("show-accordion"):this.$el.removeClass("show-accordion")},onClickOpen:function(){this.$el.toggleClass("open")},allCasesUrl:function(e){var t=this.link+"/"+this.model.get("id"),n="",r,i;switch(e){case"total":n="&filter.in.status=PASSED,FAILED,SKIPPED,INTERRUPTED&filter.in.type=STEP";break;case"failedPlusInterrupted":n="&filter.in.status=FAILED,INTERRUPTED&filter.in.type=STEP";break;case"passed":case"failed":case"skipped":n="&filter.in.status="+e.toUpperCase()+"&filter.in.type=STEP";break;default:r=this.defectTypes.toJSON(),i=o.getSubDefectsLocators(e,r).join("%2C"),n="&filter.in.issue$issue_type="+i}return t+"?filter.eq.has_childs=false"+n},onClickTag:function(e){var n=t(e.currentTarget).data("tag");e.preventDefault(),this.goToLaunchWithFilter("tags",n)},onClickUserTag:function(e){var n=t(e.currentTarget).data("tag");e.preventDefault(),this.goToLaunchWithFilter("user",n)},goToLaunchWithFilter:function(e,t){var n=new h,r=n.generateTempModel();d.router.navigate(r.get("url"),{trigger:!0}),r.trigger("add_entity",e,t)},renderDefects:function(){var e=t("[data-js-launch-defect]",this.$el);n.each(e,function(e){var r=t(e),i=r.data("defectType"),s=this.getDefectByType(this.model.toJSON(),i),o=this.widgetId+"-defect-"+this.model.get("id")+"-"+i,u={columns:[],colors:{}};n.each(s,function(e,t){var n;t!=="total"&&(n=this.defectTypes.getDefectByLocator(t),n&&u.columns.push([t,e]),n&&(u.colors[t]=n.get("color")))},this),this.drawDonutChart(u,o)},this)},getDefectByType:function(e,t){var r={};return r.total=e["statistics$defects$"+t].total,n.each(this.contentFields,function(i){n.each(e["statistics$defects$"+t],function(e,t){~i.indexOf("statistics$defects$")&&t===i.split("$")[i.split("$").length-1]&&(r[t]=e)})}),r},showDefectTooltip:function(e){var n=t(e.currentTarget),r=n.data("defectType");n.data("tooltip")||(n.data("tooltip","tooltip"),this.createDefectTooltip(n,r))},createDefectTooltip:function(e,t){var n=e.closest(".row.rp-table-row").attr("id"),r=this.renderDefectsTooltip(n,t);e.append(r)},renderDefectsTooltip:function(e,t){var r=this.model.toJSON(),i=this.getDefectByType(r,t),s=d.patterns.defectsLocator,u={total:i.total,defects:[],type:t,item:r,noSubDefects:!this.defectTypes.checkForSubDefects(),color:this.getDefectColor(i,t,this.defectTypes),url:this.allCasesUrl(t)};return n.each(i,function(e,t){var n,r;t!=="total"&&(e||s.test(t))&&(n=this.defectTypes,r=n.getDefectType(t),r&&(r.val=parseInt(e,10),u.defects.push(r)))},this),u.defects.sort(o.sortSubDefects),o.templates(this.toolTipContent,u)},getDefectColor:function(e,t,r){var i=d.patterns.defectsLocator,s=n.findKey(e,function(e,t){return i.test(t)}),u;if(s){u=r.getDefectType(s);if(u)return u.color}return o.getDefaultColor(t)},drawDonutChart:function(e,n){var r=t("#"+n+" [data-js-chart]",this.$el),i=f.generate({bindto:r[0],data:{columns:e.columns,type:"donut",order:null,colors:e.colors},size:{width:56,height:56},donut:{width:12,label:{show:!1}},interaction:{enabled:!1},legend:{show:!1}});this.charts.push(i)},onDestroy:function(){this.markdownViewer&&this.markdownViewer.destroy(),n.each(this.charts,function(e){e.destroy()}),this.charts=null,this.$el.remove(),delete this}}),m=i.extend({tpl:"tpl-widget-filters-table",getData:function(){var e=this.model.getContent()||[],t;return!n.isEmpty(e)&&!n.isEmpty(e.result)?(t=n.map(e.result,function(e){var t={},r={id:e.id,name:e.name,number:e.number,startTime:e.startTime};return n.forEach(e.values,function(e,r){var i=r.split("$"),s=n.initial(i).join("$"),o=n.last(i),u=parseInt(e,10);r.indexOf("statistics$defects")>=0?(t[s]?t[s].total+=u:(t[s]={},t[s].total=u),t[s][o]=u):t[r]=e}),n.extend(r,t)},this),t):[]},getCriteria:function(){var e={},t,r;return n.each(this.model.getContentFields(),function(i){var s=i;i.indexOf("statistics")>=0&&!e[s]&&(t=i.split("$"),r=t[1],s=r==="defects"?t[2]:n.last(t)),e[s]=!0}),e},render:function(){var e;this.renderedItems=[],this.items=this.getData(),e={criteria:this.getCriteria(),noItems:!this.items.length},this.isEmptyData(this.items)?this.addNoAvailableBock():(this.$el.html(o.templates(this.tpl,e)),this.renderItems(),o.hoverFullTime(this.$el),this.addResize(),!this.isPreview&&o.setupBaronScroll(t(".launches-table-panel",this.$el)),this.updateWidget())},getLink:function(){var e="#"+this.appModel.get("projectId"),t=this.model.get("filter_id"),n=[e,"launches",t];return n.join("/")},renderItems:function(){n.each(this.items,function(e){var n=new v({model:new r.Model(e),criteria:this.getCriteria(),widgetId:this.id,link:this.getLink(),contentFields:this.model.getContentFields()});t("[data-js-items]",this.$el).append(n.$el),this.renderedItems.push(n)},this)},activateAccordions:function(){n.each(this.renderedItems,function(e){e.activateAccordion&&e.activateAccordion()})},updateWidget:function(){this.$el.width()<=768?t("[data-js-launches-table]",this.$el).addClass("launches-table-mobile"):t("[data-js-launches-table]",this.$el).removeClass("launches-table-mobile")},onDestroy:function(){t(window).off("resize."+this.id),n.each(this.renderedItems,function(e){e.destroy&&e.destroy()})}});return m}),define("newWidgets/widgets/launchesTable/LaunchesTableSettings",["require","jquery","underscore","localization","defectType/SingletonDefectTypeCollection","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("localization"),i=e("defectType/SingletonDefectTypeCollection"),s=e("app"),o=s.getInstance(),u=["name","number","last_modified","status"],a=function(){var e={tags:r.forms.tags,user:r.forms.user,start_time:r.forms.startTime,end_time:r.forms.finishTime,description:r.forms.description},t={statistics$executions$total:r.launchesHeaders.total,statistics$executions$passed:r.launchesHeaders.passed,statistics$executions$failed:r.launchesHeaders.failed,statistics$executions$skipped:r.launchesHeaders.skipped},i={statistics$defects$product_bug$total:r.launchesHeaders.product_bug,statistics$defects$automation_bug$total:r.launchesHeaders.automation_bug,statistics$defects$system_issue$total:r.launchesHeaders.system_issue,statistics$defects$to_investigate$total:r.launchesHeaders.to_investigate},s=n.merge(t,i,e);return n.map(s,function(e,t){return{name:e,value:t}})};return{getConfig:function(){return{gadget_name:r.widgets.launchesTable,img:"launch-table.svg",description:r.widgets.launchesTableDescription,widget_type:"launches_table",hasPreview:!1}},getSettings:function(){var e=t.Deferred();return e.resolve([{control:"filters",options:{}},{control:"dropDown",options:{label:r.widgets.widgetCriteria,items:a(),placeholder:r.wizard.criteriaSelectTitle,multiple:!0,notEmpty:!0,getValue:function(e,t){var r=o.patterns.defectsLocator,i=e.getContentFields(),s;return i.length?(s=[],n.each(i,function(e){var t;~u.indexOf(e)||(~e.indexOf("statistics$defects$")?(t=e.split("$"),r.test(t[3])&&(t.length=3,s.push(t.join("$")+"$total"))):s.push(e))})):s=n.map(t.model.get("items"),function(e){return e.value}),s},setValue:function(e,t){var r,s="statistics$defects$",o,a,f,l=[],c=[],h=[],p=new i;p.ready.done(function(){n.each(e,function(e){~e.indexOf("statistics$defects$")?(o=e.split("$")[2].toUpperCase(),n.each(p.models,function(e){e.get("typeRef")===o&&(f=e.get("typeRef").toLowerCase(),a=s+f+"$"+e.get("locator"),l.push(a))})):~e.indexOf("statistics$executions$")?c.push(e):h.push(e)})}),r=u.concat(l,h,c),t.setContentFields(r)}}},{control:"input",options:{name:r.widgets.items,min:1,max:150,def:50,numOnly:!0,action:"limit"}}]),e.promise()}}}),define("newWidgets/widgets/launchesTable/index",["require","newWidgets/widgets/launchesTable/LaunchesTableView","newWidgets/widgets/launchesTable/LaunchesTableSettings"],function(e){"use strict";var t=e("newWidgets/widgets/launchesTable/LaunchesTableView"),n=e("newWidgets/widgets/launchesTable/LaunchesTableSettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/uniqueBugsTable/UniqueBugsTableView",["require","jquery","underscore","util","dataUrlResolver","coreService","moment","newWidgets/_BaseWidgetView"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("dataUrlResolver"),s=e("coreService"),o=e("moment"),u=e("newWidgets/_BaseWidgetView"),a=u.extend({tpl:"tpl-widget-bug-table",tplList:"tpl-widget-bug-table-list",tplItem:"tpl-widget-bug-table-item",ADD_ITEMS_COUNT:80,getData:function(){var e=[];return n.each(this.model.getContent(),function(t,r){var i={bugId:r,items:[]},s=0,o="";n.each(t,function(e){var t=parseInt(e.startTime,10),n={testItemId:e.id,launchId:e.values.launchRef};i.items.push(n);if(s===0||s>t)s=t,o=e.name}),i.name=o,i.time=s,e.push(i)}),e.sort(function(e,t){return t.time-e.time}),e},render:function(){var e={items:[],imageRoot:i.getAvatar,dateFormat:r.dateFormat,moment:o},n=this,s;this.isEmptyData(this.getData())?this.addNoAvailableBock():(this.items=this.getData(),e.items=this.items,this.$el.html(r.templates(this.tpl,e)),this.listContainer=t("[data-js-bugs-list]",this.$el),this.currentBugIndex=0,this.currentBugItemIndex=0,this.addPackItems(),this.isPreview||(s=r.setupBaronScroll(t(".uniq-bugs-table",this.$el)),s.scroll(function(){var e=s.get(0);e.scrollHeight-e.scrollTop<e.offsetHeight*2&&n.addPackItems()})))},addPackItems:function(){var e=0,t=[];while(e<this.ADD_ITEMS_COUNT){if(this.currentBugItemIndex===0&&!this.addBugList())break;this.currentBugItemIndex<this.currentBug.items.length?(this.lastBugContainer.append(r.templates(this.tplItem,this.currentBug.items[this.currentBugItemIndex])),t.push(this.currentBug.items[this.currentBugItemIndex]),this.currentBugItemIndex+=1):this.currentBugItemIndex=0,e+=1}this.getItemsInfo(t)},addBugList:function(){var e,n;return this.currentBugIndex>=this.items.length?!1:(this.currentBug=this.items[this.currentBugIndex],e={item:this.currentBug,dateFormat:r.dateFormat,imageRoot:i.getAvatar,methodUpdateImagePath:r.updateImagePath,moment:o},n=t.parseHTML(r.templates(this.tplList,e)),r.hoverFullTime(n),this.listContainer.append(n),this.lastBugContainer=t("[data-js-bugs-item]:last",this.listContainer),this.currentBugIndex+=1,!0)},renderTags:function(e){return n.isEmpty(e)?"":'<span class="text-muted"><i class="material-icons">local_offer</i> '+e.join(", ")+"</span>"},renderItemName:function(e,t,n){var r=this.getItemUrl(t,n);return'<a class="rp-blue-link-undrl" target="_blank" title="'+e+'" href="'+r+'">'+e+"</a><br />"},getItemUrl:function(e,t){var n=this.appModel.get("projectId");return"#"+n+"/launches/all/"+e.join("/")+"?log.item="+t},getItemsInfo:function(e){var i=this,o;e.length&&(o=n.uniq(n.map(e,function(e){return e.testItemId})),s.getTestItemsInfo(o).done(function(e){n.each(o,function(r){var s=n.find(e,function(e){return e.id===r});s?i.calculateItemInfo(s,r):t('[data-item-id="'+r+'"]',i.$el).empty().hide()})}).fail(function(e){r.ajaxFailMessenger(e,"getItemsWidgetBugTable"),n.each(o,function(e){t('[data-item-id="'+e+'"]',i.$el).empty().hide()})}))},calculateItemInfo:function(e,r){var i=[e.launchId].concat(n.keys(e.path_names)),s=e.issue.externalSystemIssues,o=e.tags?this.renderTags(e.tags):"",u=this.renderItemName(e.name,i,r),a=this;t('[data-item-id="'+r+'"]',a.$el).empty().prepend(u,o),n.forEach(s,function(e){var n=t("#bugId-"+e.ticketId,a.$el);e.url&&!n.parent().is("a.rp-blue-link-undrl")&&n.wrap('<a class="rp-blue-link-undrl" target="_blank" href="'+e.url+'"></a>')})}});return a}),define("newWidgets/widgets/uniqueBugsTable/UniqueBugsTableSettings",["require","jquery","localization"],function(e){"use strict";var t=e("jquery"),n=e("localization");return{getConfig:function(){return{gadget_name:n.widgets.uniqueBugsTable,img:"unique-bugs-table.svg",description:n.widgets.uniqueBugsTableDescription,widget_type:"table",hasPreview:!1}},getSettings:function(){var e=t.Deferred();return e.resolve([{control:"filters",options:{}},{control:"input",options:{name:n.widgets.maxLaunches,min:1,max:150,def:10,numOnly:!0,action:"limit"}}]),e.promise()}}}),define("newWidgets/widgets/uniqueBugsTable/index",["require","newWidgets/widgets/uniqueBugsTable/UniqueBugsTableView","newWidgets/widgets/uniqueBugsTable/UniqueBugsTableSettings"],function(e){"use strict";var t=e("newWidgets/widgets/uniqueBugsTable/UniqueBugsTableView"),n=e("newWidgets/widgets/uniqueBugsTable/UniqueBugsTableSettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/mostFailedTestCasesTable/MostFailedTestCasesTableView",["require","jquery","underscore","util","moment","newWidgets/_BaseWidgetView","localization","storage/SingletonUserStorage","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("moment"),s=e("newWidgets/_BaseWidgetView"),o=e("localization"),u=e("storage/SingletonUserStorage"),a=e("app"),f=a.getInstance(),l=s.extend({template:"tpl-widget-most-failed-test-cases-table",itemTemplate:"tpl-widget-most-failed-test-cases-table-item",className:"most-failed-test-cases",events:{"click [data-js-date]":"formatDate","click [data-js-link]":"onClickItem"},render:function(){var e=this,s=this.model.getContent(),a="",f;if(this.isEmpty(s)){this.addNoAvailableBock();return}f={id:s.lastLaunch[0].id,name:s.lastLaunch[0].name,issueType:o.launchesHeaders[e.model.getContentFields()[0].split("$")[2]],number:s.lastLaunch[0].number},this.$el.html(r.templates(this.template,f)),n.each(s.most_failed,function(t){a+=r.templates(e.itemTemplate,{name:t.name,link:e.getFilterByUIDRedirectLink(f.id,t.uniqueId),percents:t.percentage,count:t.failedCount+" "+o.ui.of+" "+t.total,isFailed:t.isFailed,date:r.dateFormat(t.lastTime),dateFrom:i(r.dateFormat(t.lastTime)).fromNow()})}),this.scroller=r.setupBaronScroll(t("[data-js-scroll]",this.$el)),t("[data-js-items-container]",this.$el).html(a),this.userStorage=new u,this.timeFormat=this.userStorage.get("startTimeFormat"),this.timeFormat!=="exact"&&t("[data-js-date]",this.$el).toggleClass("date-from-now")},onClickItem:function(e){f.trackingDispatcher.trackEventNumber(344),f.router.navigate(t(e.currentTarget).attr("data-js-link"),{trigger:!0})},formatDate:function(){this.timeFormat==="exact"?this.timeFormat="":this.timeFormat="exact",this.userStorage.set("startTimeFormat",this.timeFormat),t("[data-js-date]",this.$el).toggleClass("date-from-now")},isEmpty:function(e){return!(e&&e.most_failed&&e.most_failed.length)},onBeforeDestroy:function(){this.scroller&&this.scroller.baron&&this.scroller.baron().dispose()}});return l}),define("newWidgets/widgets/mostFailedTestCasesTable/MostFailedTestCasesTableSettings",["require","jquery","underscore","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("localization"),i=function(){var e={statistics$executions$failed:r.launchesHeaders.failed,statistics$executions$skipped:r.launchesHeaders.skipped},t={statistics$defects$product_bug$total:r.launchesHeaders.product_bug,statistics$defects$automation_bug$total:r.launchesHeaders.automation_bug,statistics$defects$system_issue$total:r.launchesHeaders.system_issue,statistics$defects$no_defect$total:r.launchesHeaders.no_defect};return n.map(n.merge(e,t),function(e,t){return{name:e,value:t}})};return{getConfig:function(){return{gadget_name:r.widgets.failedTestCasesTable,img:"most-failure-test-cases-table.svg",description:r.widgets.failedTestCasesTableDescription,widget_type:"table",hasPreview:!1}},getSettings:function(){var e=t.Deferred();return e.resolve([{control:"dropDown",options:{label:r.widgets.widgetCriteria,items:i(),placeholder:r.wizard.criteriaSelectTitle,multiple:!1,getValue:function(e,t){var n=e.getContentFields();return n.length?n:t.model.get("items")[0].value},setValue:function(e,t){Array.isArray(e)?t.setContentFields(e):t.setContentFields([e])}}},{control:"input",options:{name:r.widgets.launchesCount,min:2,max:150,def:30,numOnly:!0,action:"limit"}},{control:"inputItems",options:{entity:"launchName",label:r.widgets.typeLaunchName,placeholder:r.wizard.enterLaunchName,minItems:1,maxItems:1,getValue:function(e){var t=e.getWidgetOptions();return t.launchNameFilter?t.launchNameFilter:[]},setValue:function(e,t){var n=t.getWidgetOptions();n.launchNameFilter=e,t.setWidgetOptions(n)}}},{control:"static",options:{action:"metadata_fields",fields:["name","start_time"]}},{control:"checkbox",options:{label:r.widgets.includeMethods,getValue:function(e){var t=e.getWidgetOptions();return!!t.include_methods},setValue:function(e,t){var n=t.getWidgetOptions();e?n.include_methods=[]:delete n.include_methods,t.setWidgetOptions(n)}}}]),e.promise()}}}),define("newWidgets/widgets/mostFailedTestCasesTable/index",["require","newWidgets/widgets/mostFailedTestCasesTable/MostFailedTestCasesTableView","newWidgets/widgets/mostFailedTestCasesTable/MostFailedTestCasesTableSettings"],function(e){"use strict";var t=e("newWidgets/widgets/mostFailedTestCasesTable/MostFailedTestCasesTableView"),n=e("newWidgets/widgets/mostFailedTestCasesTable/MostFailedTestCasesTableSettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/failedCasesTrendChart/FailedCasesTrendChartView",["require","jquery","underscore","util","newWidgets/_C3ChartWidgetView","localization","d3","c3","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("newWidgets/_C3ChartWidgetView"),s=e("localization"),o=e("d3"),u=e("c3"),a=e("app"),f=a.getInstance(),l=i.extend({template:"tpl-widget-failed-cases-trend-chart",tooltipTemplate:"tpl-widget-failed-cases-trend-chart-tooltip",className:"failed-cases-trend-chart",render:function(){this.isPreview&&this.$el.addClass("preview-view");if(!this.isDataExists()){this.addNoAvailableBock();return}this.$el.html(r.templates(this.template,{})),this.drawLineChart(t("[data-js-chart-container]",this.$el),this.model.getContent().result)},drawLineChart:function(e,t){var i=this,a=["failed"],l=[],c=0,h=Infinity,p;n.each(t,function(e){+e.values.issuesCount>c&&(c=+e.values.issuesCount),+e.values.issuesCount<h&&(h=+e.values.issuesCount),l.push({id:e.id,name:e.name,number:e.number,startTime:e.startTime}),a.push(e.values.issuesCount)}),this.chart=u.generate({bindto:e[0],data:{columns:[a],colors:{failed:f.defaultColors.failed}},point:{r:l.length===1?5:1,focus:{expand:{r:5}}},grid:{y:{show:!i.isPreview}},axis:{x:{show:!i.isPreview,type:"category",categories:n.map(l,function(e){return"#"+e.number}),tick:{values:i.getLaunchAxisTicks(l.length),width:60,centered:!0,inner:!0,multiline:!1,outer:!1}},y:{show:!i.isPreview,tick:{values:i.getTicks(h,c)},padding:{top:5,bottom:0},label:{text:s.widgets.failedCases,position:"outer-middle"}}},interaction:{enabled:!i.isPreview},padding:{top:i.isPreview?0:85,left:i.isPreview?0:60,right:i.isPreview?0:20,bottom:0},legend:{show:!1},tooltip:{grouped:!0,position:function(e,t,n,r){var s=o.mouse(i.chart.element)[0]-t/2,u=o.mouse(i.chart.element)[1]-n;return{top:u-8,left:s}},contents:function(e,t,n,s){var o=l[e[0].index];return r.templates(i.tooltipTemplate,{launchName:o.name,launchNumber:o.number,startTime:i.formatDateTime(o.startTime),itemCases:e[0].value})}},size:{height:i.$el.parent().height()},onrendered:function(){e.css("max-height","none")}}),this.isPreview||(p=o.select(this.chart.element).insert("div",".chart").attr("class","top-block"),this.setupLegend(p,["failed"],this.chart))},getTicks:function(e,t){var r=6,i=t-e,s,o=[e];switch(!0){case i<1:s=.2;break;case i<10:s=2;break;default:s=Math.round(i/r/10)*10}return n.each(n.range(0,t,s),function(t){t>e&&o.push(t)}),o.push(t),o},setupLegend:function(e,t,n){o.select(e[0][0]).insert("div").attr("class","legend").insert("div",".legend").attr("data-js-legend-wrapper","").selectAll("span").data(t).enter().append("span").attr("data-id",function(e){return e}).html(function(e){return'<div class="color-mark"></div>'+s.widgets[e]}).on("mouseover",function(e){n.focus(e)}).on("mouseout",function(e){n.revert()}).on("click",function(e){})}});return l}),define("newWidgets/widgets/failedCasesTrendChart/FailedCasesTrendChartSettings",["require","jquery","localization"],function(e){"use strict";var t=e("jquery"),n=e("localization");return{getConfig:function(){return{gadget_name:n.widgets.failedTrendChart,img:"failed-cases-trend-chart.svg",description:n.widgets.failedTrendChartDescription,widget_type:"bug_trend",hasPreview:!0}},getSettings:function(){var e=t.Deferred();return e.resolve([{control:"filters",options:{}},{control:"input",options:{name:n.widgets.items,min:1,max:150,def:50,numOnly:!0,action:"limit"}},{control:"static",options:{action:"criteria",fields:["statistics$defects$product_bug$total","statistics$defects$automation_bug$total","statistics$defects$system_issue$total","statistics$defects$no_defect$total","statistics$defects$to_investigate$total"]}},{control:"static",options:{action:"metadata_fields",fields:["name","number","start_time"]}}]),e.promise()}}}),define("newWidgets/widgets/failedCasesTrendChart/index",["require","newWidgets/widgets/failedCasesTrendChart/FailedCasesTrendChartView","newWidgets/widgets/failedCasesTrendChart/FailedCasesTrendChartSettings"],function(e){"use strict";var t=e("newWidgets/widgets/failedCasesTrendChart/FailedCasesTrendChartView"),n=e("newWidgets/widgets/failedCasesTrendChart/FailedCasesTrendChartSettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/notPassedTestCasesTrendChart/NotPassedTestCasesTrendChartView",["require","jquery","underscore","util","newWidgets/_C3ChartWidgetView","localization","d3","c3","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("newWidgets/_C3ChartWidgetView"),s=e("localization"),o=e("d3"),u=e("c3"),a=e("app"),f=a.getInstance(),l=i.extend({template:"tpl-widget-not-passed-cases-trend-chart",tooltipTemplate:"tpl-widget-not-passed-cases-trend-chart-tooltip",className:"not-passed-cases-trend-chart",render:function(){this.isPreview&&this.$el.addClass("preview-view");if(!this.isDataExists()){this.addNoAvailableBock();return}this.$el.html(r.templates(this.template,{})),this.drawLineChart(t("[data-js-chart-container]",this.$el),this.model.getContent().result)},drawLineChart:function(e,t){var i=this,a=["notPassed"],l=[],c;n.each(t,function(e){var t=parseFloat(e.values["% (Failed+Skipped)/Total"]);l.push({id:e.id,name:e.name,number:e.number,startTime:e.startTime}),a.push(t)}),this.chart=u.generate({bindto:e[0],data:{columns:[a],colors:{notPassed:f.defaultColors.notPassed}},point:{r:l.length===1?5:1,focus:{expand:{r:5}}},grid:{y:{show:!i.isPreview}},axis:{x:{show:!i.isPreview,type:"category",categories:n.map(l,function(e){return"#"+e.number}),tick:{values:i.getLaunchAxisTicks(l.length),width:60,centered:!0,inner:!0,multiline:!1,outer:!1}},y:{show:!i.isPreview,max:100,min:0,padding:{top:5,bottom:0},label:{text:s.widgets.nonPassedCases,position:"outer-middle"}}},interaction:{enabled:!i.isPreview},padding:{top:i.isPreview?0:85,left:i.isPreview?0:60,right:i.isPreview?0:20,bottom:0},legend:{show:!1},tooltip:{grouped:!0,position:function(e,t,n,r){var s=o.mouse(i.chart.element)[0]-t/2,u=o.mouse(i.chart.element)[1]-n;return{top:u-8,left:s}},contents:function(e,t,n,s){var o=l[e[0].index];return r.templates(i.tooltipTemplate,{launchName:o.name,launchNumber:o.number,startTime:i.formatDateTime(o.startTime),itemCases:e[0].value.toFixed(2)})}},size:{height:i.$el.parent().height()},onrendered:function(){e.css("max-height","none")}}),this.isPreview||(c=o.select(this.chart.element).insert("div",".chart").attr("class","top-block"),this.setupLegend(c,["notPassed"],this.chart))},setupLegend:function(e,t,n){o.select(e[0][0]).insert("div").attr("class","legend").insert("div",".legend").attr("data-js-legend-wrapper","").selectAll("span").data(t).enter().append("span").attr("data-id",function(e){return e}).html(function(e){return'<div class="color-mark"></div>'+s.widgets.not_passed}).on("mouseover",function(e){n.focus(e)}).on("mouseout",function(e){n.revert()}).on("click",function(e){})}});return l}),define("newWidgets/widgets/notPassedTestCasesTrendChart/NotPassedTestCasesTrendChartSettings",["require","jquery","localization"],function(e){"use strict";var t=e("jquery"),n=e("localization");return{getConfig:function(){return{gadget_name:n.widgets.nonPassedTrendChart,img:"non-passed-test-cases-trend.svg",description:n.widgets.nonPassedTrendChartDescription,widget_type:"not_passed_chart",hasPreview:!0}},getSettings:function(){var e=t.Deferred();return e.resolve([{control:"filters",options:{}},{control:"input",options:{name:n.widgets.items,min:1,max:150,def:50,numOnly:!0,action:"limit"}},{control:"static",options:{action:"criteria",fields:["statistics$executions$failed","statistics$executions$skipped","statistics$executions$total"]}},{control:"static",options:{action:"metadata_fields",fields:["name","number","start_time"]}}]),e.promise()}}}),define("newWidgets/widgets/notPassedTestCasesTrendChart/index",["require","newWidgets/widgets/notPassedTestCasesTrendChart/NotPassedTestCasesTrendChartView","newWidgets/widgets/notPassedTestCasesTrendChart/NotPassedTestCasesTrendChartSettings"],function(e){"use strict";var t=e("newWidgets/widgets/notPassedTestCasesTrendChart/NotPassedTestCasesTrendChartView"),n=e("newWidgets/widgets/notPassedTestCasesTrendChart/NotPassedTestCasesTrendChartSettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/launchesComparison/LaunchesComparisonView",["require","jquery","underscore","util","newWidgets/_C3ChartWidgetView","defectType/SingletonDefectTypeCollection","localization","d3","c3","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("newWidgets/_C3ChartWidgetView"),s=e("defectType/SingletonDefectTypeCollection"),o=e("localization"),u=e("d3"),a=e("c3"),f=e("app"),l=f.getInstance(),c=i.extend({template:"tpl-widget-launches-comparison-chart",tooltipTemplate:"tpl-widget-launches-comparison-chart-tooltip",className:"launches-comparison-chart",render:function(){var e;this.scrollers=[],this.isPreview&&this.$el.addClass("preview-view");if(!this.isDataExists()){this.addNoAvailableBock();return}e=this.model.getContent().result,this.defectTypesCollection=new s,this.defectTypesCollection.ready.done(function(){this.$el.html(r.templates(this.template,{})),this.drawGroupedBarChart(t("[data-js-chart-container]",this.$el),e)}.bind(this))},drawGroupedBarChart:function(e,i){var s=this,f={},c=[],h,p,d=[],v={},m=this.model.getContentFields();n.each(i[0].values,function(e,t){f[t]=[t],v[t]=l.defaultColors[t.split("$")[2]]}),n.each(i,function(e){d.push({id:e.id,name:e.name,number:e.number,startTime:e.startTime}),n.each(e.values,function(e,t){f[t].push(e)})}),n.each(m,function(e){if(e==="statistics$executions$total")return;c.push(f[e])}),p=n.map(c,function(e){return e[0]}),this.chart=a.generate({bindto:e[0],data:{columns:c,type:"bar",onclick:function(e,t){!s.unclickableChart&&l.router.navigate(s.linkToRedirectService(e.id.split("$")[2],d[e.index].id),{trigger:!0})},order:null,colors:v},grid:{y:{show:!s.isPreview}},axis:{x:{show:!s.isPreview,type:"category",categories:n.map(d,function(e){return"#"+e.number}),tick:{centered:!0,inner:!0,outer:!1}},y:{show:!s.isPreview,padding:{top:0},max:100,label:{text:"% "+o.widgets.ofTestCases,position:"outer-middle"}}},interaction:{enabled:!s.isPreview},padding:{top:s.isPreview?0:85,left:s.isPreview?0:60,right:s.isPreview?0:20,bottom:0},legend:{show:!1},tooltip:{grouped:!1,position:function(e,t,n,r){var i=u.mouse(s.chart.element)[0]-t/2,o=u.mouse(s.chart.element)[1]-n;return{top:o-8,left:i}},contents:function(e,t,n,i){var u=d[e[0].index],a=e[0].id;return r.templates(s.tooltipTemplate,{launchName:u.name,launchNumber:u.number,startTime:s.formatDateTime(u.startTime),color:i(a),itemName:o.filterNameById[a.split("$total")[0]],itemCases:e[0].value})}},size:{height:s.$el.parent().height()},onrendered:function(){e.css("max-height","none"),u.selectAll(t(".c3-chart-bar path",e)).each(function(){var e=u.select(this);e.datum().value===0&&e.style("stroke-width","3px")})}}),!s.isPreview&&!s.unclickableChart&&(u.select(this.chart.element).insert("div",".chart").attr("class","legend").insert("div",".legend").attr("data-js-legend-wrapper","").selectAll("span").data(p).enter().append("span").attr("data-id",function(e){return e}).html(function(e){return'<div class="color-mark"></div>'+o.filterNameById[e.split("$total")[0]]}).each(function(e){~s.hiddenItems.indexOf(e)&&t(".color-mark",t(this)).addClass("unchecked"),u.select(this).select(".color-mark").style("background-color",s.chart.color(e))}).on("mouseover",function(e){s.chart.focus(e)}).on("mouseout",function(e){s.chart.revert()}).on("click",function(e){l.trackingDispatcher.trackEventNumber(342),t(".color-mark",t(this)).toggleClass("unchecked"),s.chart.toggle(e)}),this.hiddenItems&&this.chart.hide(this.hiddenItems),u.select(this.chart.element).select(".legend").append("div").attr("class","legend-gradient").append("div").attr("class","legend-border"),h=r.setupBaronScroll(t("[data-js-legend-wrapper]",e)),this.scrollers.push(h))},onBeforeDestroy:function(){n.each(this.scrollers,function(e){e.baron&&e.baron().dispose()})}});return c}),define("newWidgets/widgets/launchesComparison/LaunchesComparisonSettings",["require","jquery","localization"],function(e){"use strict";var t=e("jquery"),n=e("localization");return{getConfig:function(){return{gadget_name:n.widgets.comparisonChart,img:"different-launches-comparison-chart.svg",description:n.widgets.comparisonChartDescription,widget_type:"column_chart",hasPreview:!0}},getSettings:function(){var e=t.Deferred();return e.resolve([{control:"filters",options:{}},{control:"static",options:{action:"criteria",fields:["statistics$executions$total","statistics$executions$passed","statistics$executions$failed","statistics$executions$skipped","statistics$defects$product_bug$total","statistics$defects$automation_bug$total","statistics$defects$system_issue$total","statistics$defects$no_defect$total","statistics$defects$to_investigate$total"]}},{control:"static",options:{action:"limit",value:2}},{control:"static",options:{action:"metadata_fields",fields:["name","number","start_time"]}}]),e.promise()}}}),define("newWidgets/widgets/launchesComparison/index",["require","newWidgets/widgets/launchesComparison/LaunchesComparisonView","newWidgets/widgets/launchesComparison/LaunchesComparisonSettings"],function(e){"use strict";var t=e("newWidgets/widgets/launchesComparison/LaunchesComparisonView"),n=e("newWidgets/widgets/launchesComparison/LaunchesComparisonSettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/passingRatePerLaunch/PassingRatePerLaunchView",["require","jquery","underscore","util","localization","newWidgets/_C3ChartWidgetView","d3","c3"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("localization"),s=e("newWidgets/_C3ChartWidgetView"),o=e("d3"),u=e("c3"),a=s.extend({template:"tpl-widget-passing-rate-per-launch",className:"passing-rate-per-launch",render:function(){var e,n,i;this.charts=[],this.isPreview&&this.$el.addClass("preview-view");if(!this.isDataExists()){this.addNoAvailableBock();return}e=this.model.getParameters().widgetOptions,this.infoData=e.launchNameFilter[0],n=this.model.getContent().result[0].values;if(+n.total===0){this.addNoAvailableBock();return}this.total=+n.total,this.chartData={launchPassed:+n.passed,launchNotPassed:+n.total- +n.passed},i=this.getValuesInPercents(+n.total,this.chartData),this.$el.html(r.templates(this.template)),this.isDrawPie(e)?(this.$el.addClass("passing-rate-pie-view"),this.drawPieChart(t("[data-js-chart-container]",this.$el),i)):(this.$el.addClass("passing-rate-bar-view"),this.drawBarChart(t("[data-js-chart-container]",this.$el),i))},drawPieChart:function(e,n){var r=this,s,a=this.getProcessedData(n),f;s=u.generate({bindto:e[0],data:{columns:a.chartData.reverse(),type:"pie",order:null,colors:a.colors},interaction:{enabled:!r.isPreview},pie:{label:{show:!r.isPreview,threshold:.05,format:function(e,t,n){return r.getFormattedLabels(n)}}},padding:{top:r.isPreview?0:85},legend:{show:!1},tooltip:{position:function(e,t,n,r){var i=o.mouse(s.element)[0]-t/2,u=o.mouse(s.element)[1]-n;return{top:u-8,left:i}},contents:function(e,t,n,s){var o=e[0].id,u=r.chartData[o],a=u/r.total;return'<div class="tooltip-val">'+u+" ("+r.getRoundedToDecimalPlaces(a*100,2).toFixed(2)+"%)</div>"+'<div class="tooltip-title">'+'<div class="color-mark" style="background-color: '+s(o)+';"></div>'+i.widgets[e[0].name]+"</div>"}},onrendered:function(){e.css("max-height","none"),o.selectAll(t(".c3-chart-arc text",e)).each(function(e,t,n){var r=o.select(this);(r.datum().endAngle-r.datum().startAngle)/2+r.datum().startAngle>Math.PI?r.attr("dx",10):r.attr("dx",-10)})}}),this.charts.push(s),r.isPreview||(f=o.select(s.element).insert("div",".chart").attr("class","top-block"),this.setupInfoBlock(f,this.infoData),this.setupLegend(f,a.itemNames,s))},drawBarChart:function(e,n){var r=this,s,a=this.getProcessedData(n),f;s=u.generate({bindto:e[0],data:{columns:a.chartData,groups:[["launchPassed","launchNotPassed"]],type:"bar",order:null,colors:a.colors,labels:{format:function(e,t,n,i){return r.getFormattedLabels(t)}}},axis:{rotated:!0,x:{show:!1},y:{show:!1,padding:{top:0}}},bar:{width:{ratio:.35}},interaction:{enabled:!r.isPreview},padding:{top:r.isPreview?0:30,left:20,right:20},legend:{show:!1},tooltip:{grouped:!1,position:function(e,t,n,r){var i=o.mouse(s.element)[0]-t/2,u=o.mouse(s.element)[1]-n;return{top:u-8,left:i}},contents:function(e,t,n,s){var o=e[0].id,u=r.chartData[o],a=u/r.total;return'<div class="tooltip-val">'+u+" ("+r.getRoundedToDecimalPlaces(a*100,2).toFixed(2)+"%)</div>"+'<div class="tooltip-title">'+'<div class="color-mark" style="background-color: '+s(o)+';"></div>'+i.widgets[e[0].name]+"</div>"}},onrendered:function(){e.css("max-height","none"),o.selectAll(t(".c3-chart-texts text",e)).each(function(e,n,i){var s=o.selectAll(t(".c3-bars-"+e.id,r.$el)).node().getBBox(),u=o.select(this).node().getBBox(),a=s.x+s.width/2-u.width/2;e.id==="launchPassed"&&a<5&&(a=5),e.id==="launchNotPassed"&&a+u.width>s.x+s.width&&(a=s.x+s.width-u.width-5),o.select(this).attr("x",a)})}}),this.charts.push(s),r.isPreview||(f=o.select(s.element).insert("div",".chart").attr("class","top-block"),this.setupInfoBlock(f,this.infoData),this.setupLegend(f,a.itemNames,s))},getProcessedData:function(e){var t=[],r=[],i={};return n.each(e,function(e,n){switch(n){case"launchPassed":i[n]="#8db677";break;case"launchNotPassed":i[n]="#e86c42";break;default:}r.push(n),t.push([n,e])}),{chartData:t,itemNames:r,colors:i}},setupLegend:function(e,t,n){o.select(e[0][0]).insert("div").attr("class","legend").insert("div",".legend").attr("data-js-legend-wrapper","").selectAll("span").data(t).enter().append("span").attr("data-id",function(e){return e}).html(function(e){return'<div class="color-mark"></div>'+i.widgets[e]}).each(function(e){o.select(this).select(".color-mark").style("background-color",n.color(e))}).on("mouseover",function(e){n.focus(e)}).on("mouseout",function(e){n.revert()}).on("click",function(e){}),o.select(n.element).select(".legend").append("div").attr("class","legend-gradient").append("div").attr("class","legend-border")},setupInfoBlock:function(e,t){o.select(e[0][0]).insert("div").attr("class","info-data").html(function(e){return i.widgets.launchName+": <span>"+t+"</span>"})},isDrawPie:function(e){return e&&e.viewMode&&e.viewMode.length&&e.viewMode[0]==="pieChartMode"}});return a}),define("newWidgets/widgets/passingRatePerLaunch/PassingRatePerLaunchSettings",["require","jquery","localization"],function(e){"use strict";var t=e("jquery"),n=e("localization");return{getConfig:function(){return{gadget_name:n.widgets.passingRatePerLaunchChart,img:"passing-rate-launch.svg",description:n.widgets.passingRatePerLaunchChartDescription,widget_type:"bar_chart",hasPreview:!0}},getSettings:function(){var e=t.Deferred();return e.resolve([{control:"inputItems",options:{entity:"launchName",label:n.widgets.typeLaunchName,placeholder:n.widgets.enterLaunchName,minItems:1,maxItems:1,getValue:function(e){var t=e.getWidgetOptions();return t.launchNameFilter?t.launchNameFilter:[]},setValue:function(e,t){var n=t.getWidgetOptions();n.launchNameFilter=e,t.setWidgetOptions(n)}}},{control:"switcher",options:{items:[{name:n.widgets.barMode,value:"barMode"},{name:n.widgets.pieChartMode,value:"pieChartMode"}],action:"switch_view_mode"}},{control:"static",options:{action:"limit",value:30}},{control:"static",options:{action:"metadata_fields",fields:["name","number","start_time"]}}]),e.promise()}}}),define("newWidgets/widgets/passingRatePerLaunch/index",["require","newWidgets/widgets/passingRatePerLaunch/PassingRatePerLaunchView","newWidgets/widgets/passingRatePerLaunch/PassingRatePerLaunchSettings"],function(e){"use strict";var t=e("newWidgets/widgets/passingRatePerLaunch/PassingRatePerLaunchView"),n=e("newWidgets/widgets/passingRatePerLaunch/PassingRatePerLaunchSettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/passingRateSummary/PassingRateSummaryView",["require","jquery","underscore","util","localization","newWidgets/_C3ChartWidgetView","d3","c3"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("localization"),s=e("newWidgets/_C3ChartWidgetView"),o=e("d3"),u=e("c3"),a=s.extend({template:"tpl-widget-passing-rate-per-launch",className:"passing-rate-per-launch",render:function(){var e,n,i;this.charts=[],this.isPreview&&this.$el.addClass("preview-view");if(!this.isDataExists()){this.addNoAvailableBock();return}e=this.model.getParameters().widgetOptions,this.infoData=e.filterName[0],n=this.model.getContent().result[0].values;if(+n.statistics$executions$total===0){this.addNoAvailableBock();return}this.total=+n.statistics$executions$total,this.chartData={launchPassed:+n.statistics$executions$passed,launchNotPassed:+n.statistics$executions$total- +n.statistics$executions$passed},i=this.getValuesInPercents(+n.statistics$executions$total,this.chartData),this.$el.html(r.templates(this.template)),this.isDrawPie(e)?(this.$el.addClass("passing-rate-pie-view"),this.drawPieChart(t("[data-js-chart-container]",this.$el),i)):(this.$el.addClass("passing-rate-bar-view"),this.drawBarChart(t("[data-js-chart-container]",this.$el),i))},drawPieChart:function(e,n){var r=this,s,a=this.getProcessedData(n),f;s=u.generate({bindto:e[0],data:{columns:a.chartData.reverse(),type:"pie",order:null,colors:a.colors},interaction:{enabled:!r.isPreview},pie:{label:{show:!r.isPreview,threshold:.05,format:function(e,t,n){return r.getFormattedLabels(n)}}},padding:{top:r.isPreview?0:85},legend:{show:!1},tooltip:{position:function(e,t,n,r){var i=o.mouse(s.element)[0]-t/2,u=o.mouse(s.element)[1]-n;return{top:u-8,left:i}},contents:function(e,t,n,s){var o=e[0].id,u=r.chartData[o],a=u/r.total;return'<div class="tooltip-val">'+u+" ("+r.getRoundedToDecimalPlaces(a*100,2).toFixed(2)+"%)</div>"+'<div class="tooltip-title">'+'<div class="color-mark" style="background-color: '+s(o)+';"></div>'+i.widgets[e[0].name]+"</div>"}},onrendered:function(){e.css("max-height","none"),o.selectAll(t(".c3-chart-arc text",e)).each(function(e,t,n){var r=o.select(this);(r.datum().endAngle-r.datum().startAngle)/2+r.datum().startAngle>Math.PI?r.attr("dx",10):r.attr("dx",-10)})}}),this.charts.push(s),r.isPreview||(f=o.select(s.element).insert("div",".chart").attr("class","top-block"),this.setupInfoBlock(f,this.infoData),this.setupLegend(f,a.itemNames,s))},drawBarChart:function(e,n){var r=this,s,a=this.getProcessedData(n),f;s=u.generate({bindto:e[0],data:{columns:a.chartData,groups:[["launchPassed","launchNotPassed"]],type:"bar",order:null,colors:a.colors,labels:{format:function(e,t,n,i){return r.getFormattedLabels(t)}}},axis:{rotated:!0,x:{show:!1},y:{show:!1,padding:{top:0}}},bar:{width:{ratio:.35}},interaction:{enabled:!r.isPreview},padding:{top:r.isPreview?0:30,left:20,right:20},legend:{show:!1},tooltip:{grouped:!1,position:function(e,t,n,r){var i=o.mouse(s.element)[0]-t/2,u=o.mouse(s.element)[1]-n;return{top:u-8,left:i}},contents:function(e,t,n,s){var o=e[0].id,u=r.chartData[o],a=u/r.total;return'<div class="tooltip-val">'+u+" ("+r.getRoundedToDecimalPlaces(a*100,2).toFixed(2)+"%)</div>"+'<div class="tooltip-title">'+'<div class="color-mark" style="background-color: '+s(o)+';"></div>'+i.widgets[e[0].name]+"</div>"}},onrendered:function(){e.css("max-height","none"),o.selectAll(t(".c3-chart-texts text",e)).each(function(e,n,i){var s=o.selectAll(t(".c3-bars-"+e.id,r.$el)).node().getBBox(),u=o.select(this).node().getBBox(),a=s.x+s.width/2-u.width/2;e.id==="launchPassed"&&a<5&&(a=5),e.id==="launchNotPassed"&&a+u.width>s.x+s.width&&(a=s.x+s.width-u.width-5),o.select(this).attr("x",a)})}}),this.charts.push(s),r.isPreview||(f=o.select(s.element).insert("div",".chart").attr("class","top-block"),this.setupInfoBlock(f,this.infoData),this.setupLegend(f,a.itemNames,s))},getProcessedData:function(e){var t=[],r=[],i={};return n.each(e,function(e,n){switch(n){case"launchPassed":i[n]="#8db677";break;case"launchNotPassed":i[n]="#e86c42";break;default:}r.push(n),t.push([n,e])}),{chartData:t,itemNames:r,colors:i}},setupLegend:function(e,t,n){o.select(e[0][0]).insert("div").attr("class","legend").insert("div",".legend").attr("data-js-legend-wrapper","").selectAll("span").data(t).enter().append("span").attr("data-id",function(e){return e}).html(function(e){return'<div class="color-mark"></div>'+i.widgets[e]}).each(function(e){o.select(this).select(".color-mark").style("background-color",n.color(e))}).on("mouseover",function(e){n.focus(e)}).on("mouseout",function(e){n.revert()}).on("click",function(e){}),o.select(n.element).select(".legend").append("div").attr("class","legend-gradient").append("div").attr("class","legend-border")},setupInfoBlock:function(e,t){o.select(e[0][0]).insert("div").attr("class","info-data").html(function(e){return i.ui.filter+": <span>"+t+"</span>"})},isDrawPie:function(e){return e&&e.viewMode&&e.viewMode.length&&e.viewMode[0]==="pieChartMode"}});return a}),define("newWidgets/widgets/passingRateSummary/PassingRateSummarySettings",["require","jquery","localization"],function(e){"use strict";var t=e("jquery"),n=e("localization");return{getConfig:function(){return{gadget_name:n.widgets.passingRateSummaryChart,img:"passing-rate-summery.svg",description:n.widgets.passingRateSummaryChartDescription,widget_type:"bar_chart",hasPreview:!0}},getSettings:function(){var e=t.Deferred();return e.resolve([{control:"filters",options:{}},{control:"input",options:{name:n.widgets.items,min:1,max:150,def:50,numOnly:!0,action:"limit"}},{control:"switcher",options:{items:[{name:n.widgets.barMode,value:"barMode"},{name:n.widgets.pieChartMode,value:"pieChartMode"}],action:"switch_view_mode"}},{control:"static",options:{action:"criteria",fields:["statistics$executions$total","statistics$executions$passed"]}},{control:"static",options:{action:"metadata_fields",fields:["name","number","start_time"]}}]),e.promise()}}}),define("newWidgets/widgets/passingRateSummary/index",["require","newWidgets/widgets/passingRateSummary/PassingRateSummaryView","newWidgets/widgets/passingRateSummary/PassingRateSummarySettings"],function(e){"use strict";var t=e("newWidgets/widgets/passingRateSummary/PassingRateSummaryView"),n=e("newWidgets/widgets/passingRateSummary/PassingRateSummarySettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/productStatus/ProductStatusService",["require","jquery","callService","dataUrlResolver","coreService","filters/FilterModel","app"],function(e){"use strict";var t=e("jquery"),n=e("callService"),r=e("dataUrlResolver"),i=e("coreService"),s=e("filters/FilterModel"),o=e("app"),u=o.getInstance();return{getAllData:function(e){var n=this,r=t.Deferred(),o=e.getWidgetOptions();return i.getFilterData(o.filters).done(function(t){var i={},o=0;_.each(t,function(a){var f=new s;f.parseServerData(a),n.getLaunchesByFilter(f,e).done(function(e){var n=[];_.each(e.content,function(e){e.status!==u.launchStatus.inProgress&&n.push(e)}),i[a.id]=n,f.destroy(),o+=1,o>=t.length&&r.resolve(_.map(t,function(e){return{filterData:e,launches:i[e.id]}}))})})}).fail(function(){r.reject()}),r},getData:function(e){var n=t.Deferred();return this.getAllData(e).done(function(e){n.resolve(e)}),n},getLaunchesByFilter:function(e,t){var i=r.getGridUrl("launch",!1),s=t.getWidgetOptions();s.latest&&s.latest.length&&(i=r.getGridUrl("launch/latest"));var o=[];return o.push("page.page=1"),o.push("page.size=50"),o=o.concat(e.getOptions()),i+="?"+o.join("&"),n.call("GET",i)}}}),define("launches/common/LaunchSuiteStepItemModel",["require","backbone-epoxy","underscore","util","app","coreService","localization","model/SingletonAppModel","model/UserModel"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("underscore"),r=e("util"),i=e("app"),s=e("coreService"),o=e("localization"),u=i.getInstance(),a=e("model/SingletonAppModel"),f=e("model/UserModel"),l=t.Model.extend({defaults:{approximateDuration:0,description:"",id:"",isProcessing:!1,isShared:!1,mode:"",name:"",number:0,owner:"",start_time:0,end_time:0,statistics:{defects:{},executions:{}},status:"",tags:"",type:"",hasRetries:!1,retries:[],has_childs:!0,issue:"",select:!1,invalidMessage:"",parent_launch_owner:null,parent_launch_status:null,parent_launch_isProcessing:null,parent_launch_investigate:null,filter_url:""},computeds:{status_loc:{deps:["status"],get:function(e){switch(e){case"PASSED":return o.testStatus.PASSED;case"FAILED":return o.testStatus.FAILED;case"STOPPED":return o.testStatus.STOPPED;case"SKIPPED":return o.testStatus.SKIPPED;case"INTERRUPTED":return o.testStatus.INTERRUPTED;case"IN_PROGRESS":return o.testStatus.IN_PROGRESS;case"RESETED":return o.testStatus.RESETED}}},launch_owner:{deps:["owner","parent_launch_owner"],get:function(e,t){return t||e}},launch_status:{deps:["status","parent_launch_status"],get:function(e,t){return t||e}},launch_isProcessing:{deps:["isProcessing","parent_launch_isProcessing"],get:function(e,t){return t!=null?t:e}},launch_toInvestigate:{deps:["parent_launch_investigate","statistics"],get:function(e,t){if(e!=null)return e;var t=this.get("statistics");return t&&t.defects&&t.defects.to_investigate?t.defects.to_investigate.total:0}},url:{deps:["id","has_childs","filter_url"],get:function(e,t,n){var r,i=n?"|"+n:"",s=window.location.hash.lastIndexOf("/"),o=window.location.hash.lastIndexOf("|"),u=window.location.hash.lastIndexOf("?"),a=o<s?u:o,f=window.location.hash.substr(0,a);return f||(f="#"+this.appModel.get("projectId")+"/launches/all"),t?r=f+i+"/"+e:r=f+i+"?"+n+"&log.item="+e,r.replaceAll("|",encodeURIComponent("|"))}},numberText:{deps:["number"],get:function(e){return e?" #"+e:""}},sortTags:{deps:["tags"],get:function(){return n.sortBy(this.getTags(),function(e){return e.toUpperCase()==="BUILD"||e.indexOf("uild")!==-1})}},startFormat:{deps:["start_time"],get:function(e){return r.dateFormat(e)}},startFromNow:{deps:["startFormat"],get:function(e){return r.fromNowFormat(e)}},formatEndTime:{deps:["end_time"],get:function(e){return r.dateFormat(e,!0)}}},initialize:function(){this.validate=this.getValidate(),this.listenTo(this,"change:description change:tags",n.debounce(this.onChangeItemInfo,10)),this.listenTo(this,"change:issue",n.debounce(this.onChangeIssueType,10)),this.appModel=new a,this.userModel=new f},restorePath:function(){this.initComputeds()},getIssue:function(){try{return JSON.parse(this.get("issue"))}catch(e){return{}}},setIssue:function(e){this.set({issue:JSON.stringify(e)})},getTags:function(){try{return JSON.parse(this.get("tags"))}catch(e){return[]}},setTags:function(e){this.set({issue:JSON.stringify(e)})},getValidate:function(){var e=this,t=function(){return e.userModel.get("isAdmin")||e.userModel.getRoleForCurrentProject()===u.projectRolesEnum.project_manager},n={edit:function(){return e.get("launch_owner")!==u.userModel.get("name")&&!t()?o.launches.notYourOwnLaunch:""},merge:function(){return e.get("launch_owner")!==u.userModel.get("name")&&!t()?o.launches.notYourOwnLaunch:e.get("launch_status")==="IN_PROGRESS"?o.launches.launchNotInProgress:e.get("launch_isProcessing")?o.launches.launchIsProcessing:""},changeMode:function(){return e.get("launch_owner")!==u.userModel.get("name")&&!t()?o.launches.notYourOwnLaunch:""},forceFinish:function(){return e.get("status")!=="IN_PROGRESS"?o.launches.launchFinished:e.get("launch_owner")!==u.userModel.get("name")&&!t()?o.launches.notYourOwnLaunch:""},editDefect:function(){return e.get("issue")?"":"Item not has issue for edit"},remove:function(){return e.get("launch_owner")!==u.userModel.get("name")&&!t()?o.launches.notYourOwnLaunch:e.get("launch_status")==="IN_PROGRESS"?o.launches.launchNotInProgress:""},loadbug:function(){var t=e.getIssue();return!t||!t.issue_type?o.launches.noIssuesLoad:e.appModel.get("isBtsAdded")?e.get("launch_isProcessing")?o.launches.launchIsProcessing:"":o.launches.configureTBSLoad},unlinkIssue:function(){var t=e.getIssue();return!t.externalSystemIssues||!t.externalSystemIssues.length?o.launches.noIssueTicket:""},postbug:function(){var t=e.getIssue();return!t||!t.issue_type?o.launches.noIssues:e.appModel.get("isBtsConfigure")?e.get("launch_isProcessing")?o.launches.launchIsProcessing:"":o.launches.configureTBS},ignoreaa:function(){return e.get("issue")?e.getIssue().ignoreAnalyzer===!0?o.launches.alreadyIgnoredAA:"":o.launches.withoutDefect},includeaa:function(){return e.get("issue")?e.getIssue().ignoreAnalyzer===!1?o.launches.alreadyIncludedAA:"":o.launches.withoutDefect}};return n},onChangeIssueType:function(){this.trigger("updated")},onChangeItemInfo:function(){var e=this,t="updateLaunch";this.get("type")!=="LAUNCH"&&(t="updateTestItem"),s[t]({description:this.get("description"),tags:this.getTags()},this.get("id")).done(function(){e.trigger("updated"),r.ajaxSuccessMessenger(t)}).fail(function(e){r.ajaxFailMessenger(e)})}});return l}),define("launches/common/LaunchSuiteDefectsHoverView",["require","defectType/SingletonDefectTypeCollection","backbone-epoxy","util","localization","app"],function(e){"use strict";var t=e("defectType/SingletonDefectTypeCollection"),n=e("backbone-epoxy"),r=e("util"),i=e("localization"),s=e("app"),o=s.getInstance(),u=n.View.extend({template:"tpl-launch-suite-defects-hover",initialize:function(e){this.type=e.type,this.noLink=e.noLink,this.render()},events:{"click [data-js-defect-total]":"onClickTotalStats","click a":"onClickLink"},render:function(){this.$el.html(r.templates(this.template,this.getData()))},onClickLink:function(){this.model.trigger("drill:item",this.model)},onClickTotalStats:function(){if(this.model.get("type")==="SUITE")switch(this.type){case"product_bug":o.trackingDispatcher.trackEventNumber(126.2);break;case"automation_bug":o.trackingDispatcher.trackEventNumber(128.2);break;case"system_issue":o.trackingDispatcher.trackEventNumber(130.2);break;default:}else switch(this.type){case"product_bug":o.trackingDispatcher.trackEventNumber(55);break;case"automation_bug":o.trackingDispatcher.trackEventNumber(57);break;case"system_issue":o.trackingDispatcher.trackEventNumber(59);break;default:}},getData:function(){var e=this.getDefectByType(),n=new t,s=[],o=this.model.get("url"),u=o.split("?")[0],a="filter.eq.has_childs=false&filter.in.issue$issue_type=";_.each(e,function(e,t){var r=n.getDefectByLocator(t);r&&s.push({color:r.get("color"),name:r.get("longName"),value:e,url:u+"?"+a+r.get("locator")})});var f=n.toJSON(),l=r.getSubDefectsLocators(this.type,f).join("%2C");return{subDefects:s,noSubDefects:this.isNoSubDefects(),noLink:this.noLink,total:{color:n.getMainColorByType(this.type),name:i.infoLine[this.type],value:e.total,url:u+"?"+a+l}}},isNoSubDefects:function(){var e=new t;return!e.checkForSubDefects()||this.type==="to_investigate"},getDefectByType:function(){var e=this.model.get("statistics");return e.defects[this.type]},onDestroy:function(){this.$el.remove(),delete this}});return u}),define("components/DonutChartComponent",["require","backbone-epoxy","util"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=t.View.extend({className:"donut-chart",template:"tpl-donut-chart-component",events:{},initialize:function(e){this.options=e,this.render()},render:function(){this.$el.html(n.templates(this.template,{viewBox:this.options.viewBox,strokeWidth:this.options.strokeWidth,items:this.options.items}))},onDestroy:function(){this.$el.html(""),delete this}});return r}),define("launches/common/LaunchSuiteDefectsView",["require","jquery","backbone-epoxy","util","app","defectType/SingletonDefectTypeCollection","launches/common/LaunchSuiteDefectsHoverView","components/DonutChartComponent"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("app"),s=e("defectType/SingletonDefectTypeCollection"),o=e("launches/common/LaunchSuiteDefectsHoverView"),u=e("components/DonutChartComponent"),a=i.getInstance(),f=n.View.extend({template:"tpl-launch-suite-defects",events:{"click [data-js-link]":"onClickDefectType"},bindings:{"[data-js-defects-total]":"text: totalDefects, attr: {style: defectBorderColor}","[data-js-link]":"attr: {href: executionLink}"},computeds:{totalDefects:{deps:["statistics"],get:function(e){return e&&e.defects&&e.defects[this.type]&&e.defects[this.type].total?e.defects[this.type].total:0}},executionLink:{deps:["url","has_childs"],get:function(e,t){return t?this.allCasesUrl():undefined}},defectBorderColor:function(){return"border-color: "+this.defectsCollection.getMainColorByType(this.type)}},initialize:function(e){this.type=e.type,this.clickable=typeof e.clickable!="undefined"?e.clickable:!0,this.defectsCollection=new s,this.defectsCollection.ready.done(function(){this.render()}.bind(this))},render:function(){var e=this;this.applyBindings(),this.getBinding("totalDefects")&&(this.$el.html(r.templates(this.template,{clickable:this.clickable})),this.drawDonutChart(),this.hoverView=new o({el:t("[data-js-hover-view-container]",this.$el),type:e.type,model:e.model,noLink:!this.clickable}),this.applyBindings())},allCasesUrl:function(){var e=this.model.get("url"),t="&filter.in.issue$issue_type=",n=this.defectsCollection.toJSON(),i=r.getSubDefectsLocators(this.type,n).join("%2C"),s="filter.eq.has_childs=false"+t+i;return e+"?"+s},onClickDefectType:function(){this.model.trigger("drill:item",this.model);if(this.model.get("type")==="SUITE")switch(this.type){case"product_bug":a.trackingDispatcher.trackEventNumber(126.1);break;case"automation_bug":a.trackingDispatcher.trackEventNumber(128.1);break;case"system_issue":a.trackingDispatcher.trackEventNumber(130.1);break;default:}else switch(this.type){case"product_bug":a.trackingDispatcher.trackEventNumber(54.2);break;case"automation_bug":a.trackingDispatcher.trackEventNumber(56.2);break;case"system_issue":a.trackingDispatcher.trackEventNumber(58.2);break;default:}},getDefectByType:function(){var e=this.model.get("statistics");return e.defects[this.type]},getDefectChartData:function(){var e=this,t=[],n=this.getDefectByType(),r=75;return Object.keys(n).forEach(function(i){if(i!=="total"){var s=n[i],o=s/n.total*100;t.push({value:o,color:e.defectsCollection.getDefectType(i).color,offset:100-r}),r+=o}}),t},drawDonutChart:function(){var e=this.getDefectChartData(),n=t("[data-js-chart]",this.$el),r=new u({viewBox:64,strokeWidth:13,items:e});n.html(r.el)},onDestroy:function(){this.hoverView&&this.hoverView.destroy(),this.chart&&(this.chart=this.chart.destroy()),this.$el.remove(),delete this}});return f}),define("launches/common/ItemDurationView",["require","jquery","backbone-epoxy","util","app","localization","moment"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("app"),s=e("localization"),o=e("moment"),u=i.getInstance(),a=n.View.extend({template:"tpl-launch-suite-item-duration",className:"item-duration-view",events:{},bindings:{"[data-js-status-title]":'attr: {title: getStatusTitle}, classes: {"duration-error": durationTimeClass}',"[data-js-status-icon]":"attr: {class: iconDurationClass}, text: iconDurationText","[data-js-duration-time]":"html: showDurationTime"},computeds:{iconDurationClass:function(){return this.isInvalidDuration()?"rp-icons rp-icons-warning":"material-icons"},iconDurationText:function(){return this.isInvalidDuration()?"":"query_builder"},showDurationTime:function(){var e,t;return this.isInvalidDuration()?" ":this.isProgress()?(e=this.getApproximateTimeText(),t="<span data-js-approximate-time>"+e+"</span>",'<img alt="'+s.launches.inProcess+'" src="img/time-in-progress.gif"/>'+(this.validateForApproximateTime()?t:"")):this.durationTime()},durationTimeClass:function(){return this.isStopped()||this.isInterrupted()},getStatusTitle:function(){var e,t,n;if(this.isInvalidDuration())return this.isStartAndEndTime()?s.launches.inProcessAndEndedDuration:s.launches.notInProcessNotEndedDuration;if(this.isProgress()){if(this.model.get("number")===1)return s.launches.inProcess;if(this.validateForApproximateTime()){n=this.getApproximateTime();if(n<=0)return this.getOverApproximateTitle()}return s.launches.inProcess}return e=this.durationTime(),t=this.getBinding("formatEndTime")||r.dateFormat(this.model.get("end_time"),!0),this.isSkipped()?s.launches.skippedDuration+" "+e:this.isStopped()?s.launches.stoppedDuration+" "+e+s.launches.stoppedAt+t:this.isInterrupted()?s.launches.interruptedDuration+" "+e+s.launches.stoppedAt+t:s.launches.prefixDuration+" "+e+"."+s.launches.finishTime+" "+t}},initialize:function(){this.render()},render:function(){this.$el.html(r.templates(this.template,{model:this.model.toJSON({computed:!0})})),this.validateForApproximateTime()&&(this.updateApproximateTime(),this.startTimer())},isInvalidDuration:function(){var e=this.isProgress(),t=this.isStartAndEndTime(),n=this.isStartNoEndTime();return e&&t||!e&&n},isProgress:function(){var e=this.getBinding("status");return e===u.launchStatus.inProgress},isSkipped:function(){var e=this.getBinding("status");return e===u.launchStatus.skipped},isStopped:function(){var e=this.getBinding("status");return e===u.launchStatus.stopped},isInterrupted:function(){var e=this.getBinding("status");return e===u.launchStatus.interrupted},isStartAndEndTime:function(){var e=this.getBinding("start_time"),t=this.getBinding("end_time");return!!e&&!!t},isStartNoEndTime:function(){var e=this.getBinding("start_time"),t=this.getBinding("end_time");return!!e&&!t},durationTime:function(){var e=this.getBinding("start_time"),t=this.getBinding("end_time");return r.timeFormat(e,t)},validateForApproximateTime:function(){var e=this.isProgress(),t=this.model.get("type"),n=t==="LAUNCH"||!t;return e&&n},startTimer:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.updateApproximateTime()},6e4)},clearTimer:function(){this.timer&&clearTimeout(this.timer)},getApproximateTime:function(){var e=Math.round(this.model.get("approximateDuration")),t=Math.round((this.model.get("start_time")+e-o().unix()*1e3)/1e3);return t},updateApproximateTime:function(){var e=this.getApproximateTimeText(),n=t("[data-js-approximate-time]",this.$el);n.closest("[data-js-status-title]").attr("title",this.getOverApproximateTitle()),n.html(e)},getApproximateTimeText:function(){var e=this.getApproximateTime();return e>0?e>60?s.launches.approximateTimeLeft.replace("%%%",this.approximateTimeFormat(e)):s.launches.approximateTimeLessMin:""},getOverApproximateTitle:function(){var e=this.getApproximateTime(),t,n;return e>0?"":(t=this.approximateTimeFormat(this.model.get("approximateDuration")/1e3),n=this.approximateTimeFormat(-e),[s.launches.approximateTimeExpected," ",t,", ",s.launches.approximateTimeOverLap," ",n].join(""))},approximateTimeFormat:function(e){var t=Math.floor(e/86400),n=Math.floor((e-t*86400)/3600),r=Math.floor((e-t*86400-n*3600)/60),i=e-t*86400-n*3600-r*60,s="";return t>0&&(s=s+t+"d "),n>0&&(s=s+n+"h "),r>0&&(s=s+r+"m"),s===""&&i>0?s=i+"s":s===""&&i===0&&(s=Math.round(e/10)/100+"s"),s},onDestroy:function(){this.$el.empty(),delete this}});return a}),define("newWidgets/widgets/productStatus/ProductStatusLaunchNameView",["require","jquery","underscore","backbone-epoxy","launches/common/ItemDurationView","util","model/SingletonAppModel","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("launches/common/ItemDurationView"),s=e("util"),o=e("model/SingletonAppModel"),u=e("localization"),a=r.View.extend({template:"tpl-product-status-launch-name",className:"product-status-launch-name",bindings:{"[data-js-name-link]":"attr: {href: launchUrl}","[data-js-name]":"text: name","[data-js-launch-number]":"text: numberText"},computeds:{launchUrl:{deps:["id"],get:function(e){return"#"+this.appModel.get("projectId")+"/launches/all/"+e}}},initialize:function(){this.render(),this.appModel=new o,this.duration&&this.duration.destroy(),this.duration=new i({model:this.model,el:t("[data-js-item-status]",this.$el)})},render:function(){this.$el.html(s.templates(this.template,{}))},onDestroy:function(){this.duration&&this.duration.destroy()}});return a}),define("newWidgets/widgets/productStatus/ProductStatusFilterNameView",["require","jquery","underscore","backbone-epoxy","util","model/SingletonAppModel"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("model/SingletonAppModel"),o=r.View.extend({template:"tpl-product-status-filter-name",className:"product-status-filter-name",bindings:{"[data-js-name]":"text: name","[data-js-name-link]":"attr: {href: linkToFilter}"},computeds:{linkToFilter:{deps:["id"],get:function(e){return"#"+this.appModel.get("projectId")+"/launches/"+e}}},initialize:function(){this.render(),this.appModel=new s},render:function(){this.$el.html(i.templates(this.template,this.model.get("launchesStatus")))},onDestroy:function(){}});return o}),define("launches/common/ItemStartTimeView",["require","jquery","backbone-epoxy","util","storage/SingletonUserStorage","app","localization","moment"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("storage/SingletonUserStorage"),s=e("app"),o=e("localization"),u=e("moment"),a=n.View.extend({className:"launch-suite-start-time",tagName:"span",template:"tpl-launch-suite-item-start-time",events:{click:"onClickItem"},bindings:{"[data-js-time-from-now]":"text: startFromNow","[data-js-time-exact]":"text: startFormat",":el":'classes:{"exact-driven":startTimeFormat}'},computeds:{},initialize:function(){this.viewModel=new i,this.render()},onClickItem:function(){var e=this.viewModel.get("startTimeFormat");e==="exact"?e="":e="exact",this.viewModel.set("startTimeFormat",e)},render:function(){this.$el.html(r.templates(this.template,{}))},onDestroy:function(){this.$el.empty(),delete this}});return a}),define("newWidgets/widgets/productStatus/ProductStatusRowView",["require","jquery","underscore","backbone-epoxy","launches/common/LaunchSuiteStepItemModel","launches/common/LaunchSuiteDefectsView","newWidgets/widgets/productStatus/ProductStatusLaunchNameView","newWidgets/widgets/productStatus/ProductStatusFilterNameView","launches/common/ItemStartTimeView","defectType/SingletonDefectTypeCollection","util","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("launches/common/LaunchSuiteStepItemModel"),s=e("launches/common/LaunchSuiteDefectsView"),o=e("newWidgets/widgets/productStatus/ProductStatusLaunchNameView"),u=e("newWidgets/widgets/productStatus/ProductStatusFilterNameView"),a=e("launches/common/ItemStartTimeView"),f=e("defectType/SingletonDefectTypeCollection"),l=e("util"),c=e("localization"),h=r.View.extend({templateFilter:"tpl-product-status-widget-row-filter",template:"tpl-product-status-widget-row",className:"product-status-widget-row rp-table-row",tagName:"tr",initialize:function(e,t){this.rendererViews=[],this.clickable=!0,t.type==="filter"?this.renderFilter(e,t.data):t.type==="total"?this.renderTotal(e,t.data):(t.type==="distinct_launch"&&(this.clickable=!1),this.renderLaunch(e,t.data))},renderFilter:function(e,t){this.$el.html(l.templates(this.templateFilter,{name:t.name,colspan:e.length}))},renderTotal:function(e,t){var r=[];n.each(e,function(e){var n={type:e.text,text:""};switch(e.text){case"name":n.text=c.launchesHeaders.total;break;case"filter_name":n.text=c.launchesHeaders.total;break;case"total":n.text=t.total;break;case"passed":n.text=t.passed;break;case"failed":n.text=t.failed;break;case"skipped":n.text=t.skipped;break;case"product_bug":n.text=t.product_bug;break;case"auto_bug":n.text=t.automation_bug;break;case"system_issue":n.text=t.system_issue;break;case"no_defect":n.text=t.no_defect;break;case"to_investigate":n.text=t.to_investigate;break;case"passing_rate":var i=100;n.text="",parseInt(t.total,10)!==0&&(i=parseInt(t.passed/t.total*100,10),n.text=i+"%"),i<100&&(n.text='<span class="less-100">'+n.text+"</span>");break;default:n.text=""}r.push(n)}),this.$el.html(l.templates(this.template,r))},allCasesUrl:function(e){var t=this.launchModel.get("url"),n="";switch(e){case"total":n="&filter.in.status=PASSED,FAILED,SKIPPED,INTERRUPTED&filter.in.type=STEP";break;case"passed":case"failed":case"skipped":n="&filter.in.status="+e.toUpperCase()+"&filter.in.type=STEP";break;default:}return t+"?filter.eq.has_childs=false"+n},renderLaunch:function(e,t){var r=this,s=[],o=[];this.launchModel=new i(t),n.each(e,function(e){o.push(r.getLaunchDataByColumn(t,e,s))}),this.$el.html(l.templates(this.template,o)),n.each(s,function(e){e.call(r)})},getLaunchDataByColumn:function(e,r,i){var l=r.text,c=this,h={type:l,text:""};if(r.type==="basic")switch(l){case"name":h.text="",i.push(function(){this.rendererViews.push(new o({model:this.launchModel,el:t("[data-js-cell-name]",this.$el)}))});break;case"filter_name":h.text="",i.push(function(){this.rendererViews.push(new u({model:this.launchModel,el:t("[data-js-cell-filter_name]",this.$el)}))});break;case"start_time":h.text="",i.push(function(){var e=new a({model:this.launchModel});this.rendererViews.push(e),t("[data-js-cell-start_time]",this.$el).html(e.$el)});break;case"status":h.text=e.status;break;case"total":this.clickable?h.text='<a href="'+c.allCasesUrl("total")+'">'+e.statistics.executions.total+"</a>":h.text=e.statistics.executions.total;break;case"passed":this.clickable?h.text='<a href="'+c.allCasesUrl("passed")+'">'+e.statistics.executions.passed+"</a>":h.text=e.statistics.executions.passed;break;case"failed":this.clickable?h.text='<a href="'+c.allCasesUrl("failed")+'">'+e.statistics.executions.failed+"</a>":h.text=e.statistics.executions.failed;break;case"skipped":this.clickable?h.text='<a href="'+c.allCasesUrl("skipped")+'">'+e.statistics.executions.skipped+"</a>":h.text=e.statistics.executions.skipped;break;case"product_bug":h.text="",i.push(function(){this.rendererViews.push(new s({model:this.launchModel,el:t("[data-js-cell-product_bug]",this.$el),type:"product_bug",clickable:this.clickable}))});break;case"auto_bug":h.text="",i.push(function(){this.rendererViews.push(new s({model:this.launchModel,el:t("[data-js-cell-auto_bug]",this.$el),type:"automation_bug",clickable:this.clickable}))});break;case"system_issue":h.text="",i.push(function(){this.rendererViews.push(new s({model:this.launchModel,el:t("[data-js-cell-system_issue]",this.$el),type:"system_issue",clickable:this.clickable}))});break;case"no_defect":h.text="",i.push(function(){this.rendererViews.push(new s({model:this.launchModel,el:t("[data-js-cell-no_defect]",this.$el),type:"no_defect",clickable:this.clickable}))});break;case"to_investigate":this.clickable?(h.text="<a><span>"+e.statistics.defects.to_investigate.total+"</span></a>",i.push(function(){var n=new f,r;n.ready.done(function(){var i="";e.statistics.defects.to_investigate.total&&(r=n.findWhere({typeRef:"TO_INVESTIGATE"}),r&&(i="filter.eq.has_childs=false&filter.in.issue$issue_type="+r.get("locator"),t("[data-js-cell-to_investigate] a",c.$el).attr({href:c.launchModel.get("url")+"?"+i})))})})):h.text="<span>"+e.statistics.defects.to_investigate.total+"</span>";break;case"passing_rate":var p=100;h.text="",parseInt(e.statistics.executions.total,10)!==0&&(p=parseInt(e.statistics.executions.passed/e.statistics.executions.total*100,10),h.text=p+"%"),p<100&&(h.text='<span class="less-100">'+h.text+"</span>");break;default:h.text=""}else if(r.type==="custom"){var d=[];n.each(e.tags,function(e){e.indexOf(r.tag)===0&&d.push(e.replace(r.tag,""))}),h.text=d.join(", ")}return h}});return h}),define("newWidgets/widgets/productStatus/ProductStatusView",["require","jquery","underscore","util","newWidgets/_BaseWidgetView","newWidgets/widgets/productStatus/ProductStatusService","newWidgets/widgets/productStatus/ProductStatusRowView","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("newWidgets/_BaseWidgetView"),s=e("newWidgets/widgets/productStatus/ProductStatusService"),o=e("newWidgets/widgets/productStatus/ProductStatusRowView"),u=e("localization"),a=i.extend({template:"tpl-product-status-widget",templateHeader:"tpl-product-status-widget-header",className:"product-status-widget",afterInitialize:function(){},afterUpdateSizeClasses:function(){},render:function(){var e=this;return this.destroyRows(),this.$el.html(r.templates(this.template,{})),s.getData(this.model).done(function(n){t("[data-js-preloader-product-widget]",e.$el).removeClass("show");if(e.checkForEmptyData(n))e.addNoAvailableBock();else{var i=e.getHeaderData();e.renderHeader(i),e.renderRows(i,n),r.setupBaronScroll(t("[data-js-table-container]",e.$el),!1,{direction:"m"})}})},checkForEmptyData:function(e){var t=!0;return n.each(e,function(e){return e.launches.length?(t=!1,!1):!0}),t},updateWidget:function(){this.render()},renderHeader:function(e){var i=[];n.each(e,function(e){e.type==="basic"?i.push({text:u.launchesHeaders[e.text],type:e.text}):e.type==="custom"&&i.push({text:e.text,type:"custom"})}),t("[data-js-table-container]",this.$el).html(r.templates(this.templateHeader,i))},getHeaderData:function(){var e=this.model.getWidgetOptions(),t=[{text:"name",type:"basic"}];return e.distinctLaunches&&(t=[{text:"filter_name",type:"basic"}]),n.each(e.customColumns,function(e){try{var n=JSON.parse(e);t.push({text:n.name,type:"custom",tag:n.value})}catch(r){}}),n.each(e.basicColumns,function(e){t.push({text:e,type:"basic"})}),t},renderRows:function(e,r){var i=this.model.getWidgetOptions(),s=this,u=[],a=[];n.each(r,function(e){i.distinctLaunches?e.launches.length&&u.push({type:"distinct_launch",data:s.getTotalLaunch(e.filterData,e.launches)}):(u.push({type:"filter",data:e.filterData}),n.each(e.launches,function(e){u.push({type:"launch",data:e})})),a=a.concat(e.launches)}),u.push({type:"total",data:this.getTotalStatistics(a)}),n.each(u,function(n){var r=new o(e,n);t("[data-js-table-container]",s.$el).append(r.$el),s.renderedRows.push(r)})},getTotalStatistics:function(e){var t={total:0,passed:0,failed:0,skipped:0,product_bug:0,automation_bug:0,system_issue:0,no_defect:0,to_investigate:0};return n.each(e,function(e){t={total:t.total+parseInt(e.statistics.executions.total,10),passed:t.passed+parseInt(e.statistics.executions.passed,10),failed:t.failed+parseInt(e.statistics.executions.failed,10),skipped:t.skipped+parseInt(e.statistics.executions.skipped,10),product_bug:t.product_bug+parseInt(e.statistics.defects.product_bug.total,10),automation_bug:t.automation_bug+parseInt(e.statistics.defects.automation_bug.total,10),system_issue:t.system_issue+parseInt(e.statistics.defects.system_issue.total,10),no_defect:t.no_defect+parseInt(e.statistics.defects.no_defect.total,10),to_investigate:t.to_investigate+parseInt(e.statistics.defects.to_investigate.total,10)}}),t},getTotalLaunch:function(e,t){var r={id:e.id,name:e.name,launchesStatus:[],start_time:t[0]&&t[0].start_time||0,end_time:0,status:"PASSED",tags:[],approximateDuration:0,statistics:{defects:{product_bug:{},automation_bug:{},no_defect:{},system_issue:{},to_investigate:{}},executions:{failed:0,passed:0,skipped:0,total:0}}};return n.each(t,function(e){r.launchesStatus.push(e.status),r.start_time=Math.min(r.start_time,e.start_time),r.end_time=Math.max(r.end_time,e.end_time),e.status==="FAILED"&&(r.status="FAILED"),e.tags&&(r.tags=r.tags.concat(e.tags)),r.approximateDuration=Math.max(r.approximateDuration,e.approximateDuration),n.each(e.statistics.defects,function(e,t){n.each(e,function(e,n){var i=r.statistics.defects[t][n],s=parseInt(e,10);i&&(s+=i),r.statistics.defects[t][n]=s})}),n.each(e.statistics.executions,function(e,t){var n=r.statistics.executions[t],i=parseInt(e,10);n&&(i+=n),r.statistics.executions[t]=i})}),r.tags=n.uniq(r.tags),r},destroyRows:function(){!this.renderedRows&&(this.renderedRows=[]),n.each(this.renderedRows,function(e){e.destroy()}),this.renderedRows=[]}});return a}),define("newWidgets/widgets/productStatus/ProductStatusSettings",["require","jquery","underscore","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("localization"),i=["total","passed","failed","skipped"];return{getConfig:function(){return{gadget_name:r.widgets.productStatus,img:"product-status.svg",description:r.widgets.productStatusDescription,widget_type:"clean_widget"}},getSettings:function(){var e=t.Deferred();return e.resolve([{control:"inputItems",options:{entity:"filter",label:r.wizard.filters,placeholder:r.wizard.enterFilter,minItems:1,getValue:function(e){var t=e.getWidgetOptions();return t.filters?t.filters:e.get("filter_id")?[e.get("filter_id")]:[]},setValue:function(e,t){var n=t.getWidgetOptions();n.filters=e,t.setWidgetOptions(n)}}},{control:"dropDown",options:{label:r.wizard.basicColumns,items:[{name:r.launchesHeaders.start_time,value:"start_time"},{name:r.launchesHeaders.status,value:"status"},{name:r.launchesHeaders.product_bug,value:"product_bug"},{name:r.launchesHeaders.automation_bug,value:"auto_bug"},{name:r.launchesHeaders.system_issue,value:"system_issue"},{name:r.launchesHeaders.no_defect,value:"no_defect"},{name:r.launchesHeaders.to_investigate,value:"to_investigate"}],placeholder:r.wizard.choiceColumns,multiple:!0,notEmpty:!1,getValue:function(e,t){var r=e.getWidgetOptions(),s=[];return r.basicColumns?(n.each(r.basicColumns,function(e){!n.contains(i,e)&&e!=="passing_rate"&&s.push(e)}),s):n.map(t.model.get("items"),function(e){return e.value})},setValue:function(e,t){var r=t.getWidgetOptions(),s=n.clone(e),o=[];s[0]==="start_time"&&(o=o.concat(s.shift())),s[0]==="status"&&(o=o.concat(s.shift())),o=o.concat(i),o=o.concat(s),o.push("passing_rate"),r.basicColumns=o,t.setWidgetOptions(r)}}},{control:"customColumns",options:{action:"custom_columns"}},{control:"switcher",options:{items:[{name:r.launches.allLaunches,value:"all"},{name:r.launches.latestLaunches,value:"latest"}],getValue:function(e,t){return e.getWidgetOptions().latest?e.getWidgetOptions().latest[0]?"latest":"all":"latest"},setValue:function(e,t){var n=t.getWidgetOptions();e==="latest"?n.latest=[!0]:n.latest=[],t.setWidgetOptions(n)}}},{control:"checkbox",options:{label:r.widgets.groupLaunchesByFilter,getValue:function(e,t){var n=e.getWidgetOptions();return n.distinctLaunches?!0:!1},setValue:function(e,t){var n=t.getWidgetOptions();e?n.distinctLaunches=[]:delete n.distinctLaunches,t.setWidgetOptions(n)}}}]),e.promise()}}}),define("newWidgets/widgets/productStatus/index",["require","newWidgets/widgets/productStatus/ProductStatusView","newWidgets/widgets/productStatus/ProductStatusSettings"],function(e){"use strict";var t=e("newWidgets/widgets/productStatus/ProductStatusView"),n=e("newWidgets/widgets/productStatus/ProductStatusSettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/cumulativeTrendChart/CumulativeTrendChartView",["require","jquery","underscore","util","newWidgets/_C3ChartWidgetView","defectType/SingletonDefectTypeCollection","filters/SingletonLaunchFilterCollection","coreService","localization","d3","c3","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("newWidgets/_C3ChartWidgetView"),s=e("defectType/SingletonDefectTypeCollection"),o=e("filters/SingletonLaunchFilterCollection"),u=e("coreService"),a=e("localization"),f=e("d3"),l=e("c3"),c=e("app"),h=c.getInstance(),p=i.extend({template:"tpl-widget-cumulative-trend",tooltipTemplate:"tpl-widget-cumulative-trend-tooltip",className:"cumulative-trend",render:function(){var e;this.isPreview&&this.$el.addClass("preview-view");if(!this.isDataExists()){this.addNoAvailableBock();return}this.charts=[],this.scrollers=[],e=this.model.getContent().result,this.defetTypesCollection=new s,this.launchFilterCollection=new o,this.$el.html(r.templates(this.template,{})),this.defetTypesCollection.ready.done(function(){this.launchFilterCollection.ready.done(function(){this.loadTempFilterModel().done(function(){t("[data-js-preloader-cumulative-widget]",this.$el).removeClass("show"),this.drawBarChart(t("[data-js-chart-container]",this.$el),e)}.bind(this))}.bind(this))}.bind(this))},loadTempFilterModel:function(){var e=t.Deferred();return this.isPreview?(e.resolve(),e):(this.launchFilterCollection.get(this.model.get("filter_id"))?(this.tempFilterModelData={temp:!0,selection_parameters:this.launchFilterCollection.get(this.model.get("filter_id")).get("selection_parameters"),entities:this.launchFilterCollection.get(this.model.get("filter_id")).get("entities")},e.resolve()):u.getFilterData([this.model.get("filter_id")]).done(function(t){t&&(this.tempFilterModelData={temp:!0,selection_parameters:JSON.stringify(t[0].selection_parameters),entities:JSON.stringify(t[0].entities)}),e.resolve()}.bind(this)),e)},drawBarChart:function(e,i){var s=this,o,u,c=[],p=["statistics$executions$passed"],d=["statistics$executions$failed"],v=["statistics$executions$skipped"],m=["statistics$defects$product_bug$total"],g=["statistics$defects$automation_bug$total"],y=["statistics$defects$system_issue$total"],b=["statistics$defects$no_defect$total"],w=["statistics$defects$to_investigate$total"],E={},S=[];n.each(i,function(e){S.push(e.id),n.each(e.values,function(e,t){switch(t){case p[0]:p.push(e);break;case d[0]:d.push(e);break;case v[0]:v.push(e);break;case m[0]:m.push(e);break;case g[0]:g.push(e);break;case y[0]:y.push(e);break;case b[0]:b.push(e);break;case w[0]:w.push(e);break;default:}})}),n.each(i[0].values,function(e,t){E[t]=h.defaultColors[t.split("$")[2]]}),i[0].values.statistics$executions$passed&&c.push(p),i[0].values.statistics$executions$failed&&c.push(d),i[0].values.statistics$executions$skipped&&c.push(v),i[0].values.statistics$defects$product_bug$total&&c.push(m),i[0].values.statistics$defects$automation_bug$total&&c.push(g),i[0].values.statistics$defects$system_issue$total&&c.push(y),i[0].values.statistics$defects$no_defect$total&&c.push(b),i[0].values.statistics$defects$to_investigate$total&&c.push(w),o=l.generate({bindto:e[0],data:{columns:c,type:"bar",onclick:function(e,t){var r,i=[],o=!1,u=s.launchFilterCollection.generateTempModel(s.tempFilterModelData);n.each(u.getEntitiesObj(),function(t){var n;t.filtering_field==="tags"?(o=!0,~t.value.split(",").indexOf(S[e.index])?i.push(t):(n={filtering_field:"tags",condition:t.condition,value:t.value+","+S[e.index]},i.push(n))):i.push(t)}),o||i.push({filtering_field:"tags",condition:"has",value:S[e.index]}),u.set("newEntities",JSON.stringify(i)),r=u.get("url"),h.router.navigate(r,{trigger:!0})},colors:E},axis:{x:{show:!s.isPreview,type:"category",categories:n.map(S,function(e){return e.split(s.model.getWidgetOptions().prefix[0]+":")[1]}),tick:{centered:!0,inner:!0}},y:{show:!s.isPreview}},grid:{y:{show:!s.isPreview}},size:{height:s.$el.parent().height()},interaction:{enabled:!s.isPreview},padding:{top:s.isPreview?0:85},legend:{show:!1},tooltip:{position:function(e,t,n,r){var i=f.mouse(o.element)[0]-t/2,s=f.mouse(o.element)[1]-n;return{top:s-8,left:i}},contents:function(e,t,i,o){var u=S[e[0].index],f=[];return n.each(e,function(e){f.push({color:o(e.id),name:a.filterNameById[e.name.split("$total")[0]],value:e.value})}),r.templates(s.tooltipTemplate,{groupName:u,items:f})}},onrendered:function(){e.css("max-height","none")}}),this.charts.push(o),s.isPreview||(f.select(o.element).insert("div",".chart").attr("class","legend").insert("div",".legend").attr("data-js-legend-wrapper","").selectAll("span").data(n.map(c,function(e){return e[0]})).enter().append("span").attr("data-id",function(e){return e}).html(function(e){return'<div class="color-mark"></div>'+a.filterNameById[e.split("$total")[0]]}).each(function(e){~s.hiddenItems.indexOf(e)&&t(".color-mark",t(this)).addClass("unchecked"),f.select(this).select(".color-mark").style("background-color",o.color(e))}).on("mouseover",function(e){o.focus(e)}).on("mouseout",function(e){o.revert()}).on("click",function(e){h.trackingDispatcher.trackEventNumber(342),t(".color-mark",t(this)).toggleClass("unchecked"),o.toggle(e)}),this.hiddenItems&&o.hide(this.hiddenItems),f.select(o.element).select(".legend").append("div").attr("class","legend-gradient").append("div").attr("class","legend-border"),u=r.setupBaronScroll(t("[data-js-legend-wrapper]",e)),this.scrollers.push(u))},updateWidget:function(){t("[data-js-preloader-cumulative-widget]",this.$el).addClass("show"),n.each(this.charts,function(e){e.flush(),e.resize({height:this.$el.parent().height()})}.bind(this)),t("[data-js-preloader-cumulative-widget]",this.$el).removeClass("show")},onBeforeDestroy:function(){n.each(this.scrollers,function(e){e.baron&&e.baron().dispose()})}});return p}),define("newWidgets/widgets/cumulativeTrendChart/CumulativeTrendChartSettings",["require","jquery","underscore","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("localization"),i=["statistics$executions$failed","statistics$executions$skipped","statistics$executions$passed"];return{getConfig:function(){return{gadget_name:r.widgets.cumulativeTrendChart,img:"cumulative_trend_chart.svg",description:r.widgets.cumulativeTrendChartDescription,widget_type:"trends_chart",hasPreview:!0}},getSettings:function(){var e=t.Deferred();return e.resolve([{control:"filters",options:{}},{control:"input",options:{name:r.widgets.tagPrefix,numOnly:!1,max:126,description:r.wizard.tagPrefixDescription,placeholder:r.wizard.tagPrefixPlaceholder,action:"tagPrefix"}},{control:"dropDown",options:{label:r.widgets.widgetCriteria,items:[{name:r.launchesHeaders.product_bug,value:"statistics$defects$product_bug$total"},{name:r.launchesHeaders.automation_bug,value:"statistics$defects$automation_bug$total"},{name:r.launchesHeaders.system_issue,value:"statistics$defects$system_issue$total"},{name:r.launchesHeaders.no_defect,value:"statistics$defects$no_defect$total"},{name:r.launchesHeaders.to_investigate,value:"statistics$defects$to_investigate$total"}],notEmpty:!1,placeholder:r.wizard.choiceCriteria,multiple:!0,getValue:function(e,t){var r=[],s=e.getContentFields();return s.length?(n.each(s,function(e){~i.indexOf(e)||r.push(e)}),r):n.map(t.model.get("items"),function(e){return e.value})},setValue:function(e,t){t.setContentFields(i.concat(e))}}},{control:"input",options:{name:r.widgets.items,min:1,max:10,def:10,numOnly:!0,action:"limit"}}]),e.promise()}}}),define("newWidgets/widgets/cumulativeTrendChart/index",["require","newWidgets/widgets/cumulativeTrendChart/CumulativeTrendChartView","newWidgets/widgets/cumulativeTrendChart/CumulativeTrendChartSettings"],function(e){"use strict";var t=e("newWidgets/widgets/cumulativeTrendChart/CumulativeTrendChartView"),n=e("newWidgets/widgets/cumulativeTrendChart/CumulativeTrendChartSettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/flakyTestCasesTable/FlakyTestCasesTableView",["require","jquery","underscore","util","moment","newWidgets/_BaseWidgetView","localization","storage/SingletonUserStorage","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("moment"),s=e("newWidgets/_BaseWidgetView"),o=e("localization"),u=e("storage/SingletonUserStorage"),a=e("app"),f=a.getInstance(),l=s.extend({template:"tpl-widget-flaky-test-cases-table",itemTemplate:"tpl-widget-flaky-test-cases-table-item",className:"flaky-test-cases",events:{"click [data-js-date]":"formatDate","click [data-js-link]":"onClickItem"},render:function(){var e=this,s=this.model.getContent(),a="",f;if(this.isEmpty(s)){this.addNoAvailableBock();return}f={id:s.lastLaunch[0].id,name:s.lastLaunch[0].name,number:s.lastLaunch[0].number},this.$el.html(r.templates(this.template,f)),n.each(s.flaky,function(t){a+=r.templates(e.itemTemplate,{name:t.name,link:e.getFilterByUIDRedirectLink(f.id,t.uniqueId),percents:t.percentage,count:t.switchCounter+" "+o.ui.of+" "+t.total,statuses:t.statuses,date:r.dateFormat(t.lastTime),dateFrom:i(r.dateFormat(t.lastTime)).fromNow()})}),this.scroller=r.setupBaronScroll(t("[data-js-scroll]",this.$el)),t("[data-js-items-container]",this.$el).html(a),this.userStorage=new u,this.timeFormat=this.userStorage.get("startTimeFormat"),this.timeFormat!=="exact"&&t("[data-js-date]",this.$el).toggleClass("date-from-now")},onClickItem:function(e){f.trackingDispatcher.trackEventNumber(344),f.router.navigate(t(e.currentTarget).attr("data-js-link"),{trigger:!0})},formatDate:function(){this.timeFormat==="exact"?this.timeFormat="":this.timeFormat="exact",this.userStorage.set("startTimeFormat",this.timeFormat),t("[data-js-date]",this.$el).toggleClass("date-from-now")},isEmpty:function(e){return!(e&&e.flaky&&e.flaky.length)},onBeforeDestroy:function(){this.scroller&&this.scroller.baron&&this.scroller.baron().dispose()}});return l}),define("newWidgets/widgets/flakyTestCasesTable/FlakyTestCasesTableSettings",["require","jquery","localization"],function(e){"use strict";var t=e("jquery"),n=e("localization");return{getConfig:function(){return{gadget_name:n.widgets.flakyTestCasesTable,img:"flaky-test-cases-table.svg",description:n.widgets.flakyTestCasesTableDescription,widget_type:"table",hasPreview:!1}},getSettings:function(){var e=t.Deferred();return e.resolve([{control:"input",options:{name:n.widgets.launchesCount,min:2,max:150,def:30,numOnly:!0,action:"limit"}},{control:"inputItems",options:{entity:"launchName",label:n.widgets.typeLaunchName,placeholder:n.wizard.enterLaunchName,minItems:1,maxItems:1,getValue:function(e){var t=e.getWidgetOptions();return t.launchNameFilter?t.launchNameFilter:[]},setValue:function(e,t){var n=t.getWidgetOptions();n.launchNameFilter=e,t.setWidgetOptions(n)}}},{control:"static",options:{action:"metadata_fields",fields:["name","start_time"]}},{control:"checkbox",options:{label:n.widgets.includeMethods,getValue:function(e){var t=e.getWidgetOptions();return!!t.include_methods},setValue:function(e,t){var n=t.getWidgetOptions();e?n.include_methods=[]:delete n.include_methods,t.setWidgetOptions(n)}}}]),e.promise()}}}),define("newWidgets/widgets/flakyTestCasesTable/index",["require","newWidgets/widgets/flakyTestCasesTable/FlakyTestCasesTableView","newWidgets/widgets/flakyTestCasesTable/FlakyTestCasesTableSettings"],function(e){"use strict";var t=e("newWidgets/widgets/flakyTestCasesTable/FlakyTestCasesTableView"),n=e("newWidgets/widgets/flakyTestCasesTable/FlakyTestCasesTableSettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/mostTimeConsumingTestCases/MostTimeConsumingTestCasesTableView",["require","jquery","backbone-epoxy","underscore","newWidgets/_BaseWidgetView","util","moment","app","launches/common/ItemDurationView"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("underscore"),i=e("newWidgets/_BaseWidgetView"),s=e("util"),o=e("moment"),u=e("app"),a=e("launches/common/ItemDurationView"),f=u.getInstance(),l=n.View.extend({template:"tpl-widget-time-consuming-table-item",bindings:{"[data-js-status]":"text: status","[data-js-name]":"text: name, attr: {href: getItemUrl}"},computeds:{getItemUrl:{deps:["id"],get:function(e){return this.url+"&log.item="+e}}},initialize:function(e){this.url=e.url,this.render()},render:function(){this.$el.html(s.templates(this.template,{dateFormat:s.dateFormat,moment:o,start_time:this.model.get("start_time")})),this.duration=new a({model:this.model,el:t("[data-js-duration]",this.$el)})}}),c=i.extend({template:"tpl-widget-time-consuming-table",itemTemplate:"tpl-widget-time-consuming-table-item",render:function(){var e=this.model.getContent();this.isEmptyData(e)?this.addNoAvailableBock():(this.scrollers=[],this.$el.html(s.templates(this.template,e)),r.each(e.result,function(r){var i=new l({model:new n.Model(r),url:this.getFilterByUIDRedirectLink(e.lastLaunch[0].id,r.uniqueId)});t("[data-js-items-container]",this.$el).append(i.$el)},this),this.scrollers.push(s.setupBaronScroll(t("[data-js-scroll-table]",this.$el))),s.hoverFullTime(this.$el))},onBeforeDestroy:function(){r.each(this.scrollers,function(e){e.baron&&e.baron().dispose()})}});return c}),define("newWidgets/widgets/mostTimeConsumingTestCases/MostTimeConsumingTestCasesBarView",["require","jquery","underscore","util","newWidgets/_C3ChartWidgetView","localization","d3","c3","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("newWidgets/_C3ChartWidgetView"),s=e("localization"),o=e("d3"),u=e("c3"),a=e("app"),f=a.getInstance(),l=i.extend({template:"tpl-widget-time-consuming-bar",tooltipTemplate:"tpl-widget-time-consuming-bar-tooltip",render:function(){if(!this.isDataExists()){this.addNoAvailableBock();return}this.$el.html(r.templates(this.template,{})),this.drawBarChart(t("[data-js-bar-container]",this.$el),this.model.getContent().result)},isDataExists:function(){return!n.isEmpty(this.model.getContent())&&this.model.getContent().result.length},drawBarChart:function(e,i){var a=this,l=["duration"],c,h=[],p=0,d;n.each(i,function(e){var t=parseInt(e.duration===0?10:e.duration,10);p=t>p?t:p,h.push({id:e.id,name:e.name,status:e.status,start_time:e.start_time,end_time:e.end_time,duration:t,uniqueId:e.uniqueId}),l.push(t)}),c=this.getTimeType(p),this.chart=u.generate({bindto:e[0],data:{columns:[l],type:"bar",color:function(e,t){return a.getColor(h[t.index])},onclick:function(e){var t=a.getFilterByUIDRedirectLink(a.model.getContent().lastLaunch[0].id,h[e.index].uniqueId)+"&log.item="+h[e.index].id;t&&f.router.navigate(t,{trigger:!0})}},bar:{width:{ratio:.8}},axis:{rotated:!0,x:{show:!1},y:{tick:{format:function(e){return(parseInt(e,10)/c.value).toFixed(2)}},label:{text:s.time[c.type],position:"outer-center"}}},padding:{top:40,left:30,right:30,bottom:10},tooltip:{grouped:!0,position:function(e,t,n){var r=o.mouse(a.chart.element)[0]-t/2,i=o.mouse(a.chart.element)[1]-n;return{top:i-8,left:r}},contents:function(e){var t=h[e[0].index];return r.templates(a.tooltipTemplate,{name:t.name,duration:r.timeFormat(t.start_time,t.end_time),startTime:r.dateFormat(new Date(+t.start_time))})}},onrendered:function(){e.css("max-height","none"),o.selectAll(t(".c3-bars-duration path",e)).each(function(){var e=o.select(this);+(parseInt(e.datum().value,10)/c.value).toFixed(2)===0&&e.style("stroke-width","1px").style("stroke",a.getColor(h[e.datum().index]))})},legend:{show:!1}}),d=o.select(this.chart.element).insert("div",".chart").attr("class","top-block"),this.setupInfoBlock(d,this.model.getContent().lastLaunch[0].name)},getColor:function(e){return e&&e.status==="PASSED"?f.defaultColors.passed:f.defaultColors.failed},setupInfoBlock:function(e,t){o.select(e[0][0]).html(function(){return s.launches.launchName+":"+"<span>"+t+"</span>"})},getTimeType:function(e){var t={value:36e5,type:s.time.hours};return e>0&&(e<6e4?t={value:1e3,type:s.time.seconds}:e<=72e5&&(t={value:6e4,type:s.time.minutes})),t}});return l}),define("newWidgets/widgets/mostTimeConsumingTestCases/MostTimeConsumingTestCasesView",["require","util","jquery","backbone-epoxy","newWidgets/widgets/mostTimeConsumingTestCases/MostTimeConsumingTestCasesTableView","newWidgets/widgets/mostTimeConsumingTestCases/MostTimeConsumingTestCasesBarView"],function(e){"use strict";var t=e("util"),n=e("jquery"),r=e("backbone-epoxy"),i=e("newWidgets/widgets/mostTimeConsumingTestCases/MostTimeConsumingTestCasesTableView"),s=e("newWidgets/widgets/mostTimeConsumingTestCases/MostTimeConsumingTestCasesBarView"),o=r.View.extend({className:"most-time-consuming-test-cases",initialize:function(e){this.render(e)},render:function(e){var t=e;t.el=this.$el,this.widgetView=this.isInitBarWidget(this.model.getWidgetOptions())?new s(t):new i(t)},isInitBarWidget:function(e){return e&&e.viewMode&&e.viewMode.length&&e.viewMode[0]==="barMode"},onShow:function(){this.widgetView&&this.widgetView.onShow()},addSizeClasses:function(e){this.widgetView&&!this.widgetView.isPreview&&this.widgetView.addSizeClasses(e)},updateSizeClasses:function(e){this.widgetView&&this.widgetView.updateSizeClasses(e)}});return o}),define("newWidgets/widgets/mostTimeConsumingTestCases/MostTimeConsumingTestCasesSettings",["require","jquery","underscore","localization","util"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("localization"),i=e("util");return{getConfig:function(){return{gadget_name:r.widgets.mostTimeConsumingTestCases,img:"most-time-consuming.svg",description:r.widgets.mostTimeConsumingTestCasesDescription,widget_type:"table",hasPreview:!1,itemsCount:20}},getSettings:function(){var e=t.Deferred();return e.resolve([{control:"inputItems",options:{entity:"launchName",label:r.widgets.typeLaunchName,placeholder:r.wizard.enterLaunchName,minItems:1,maxItems:1,getValue:function(e){var t=e.getWidgetOptions();return t.launchNameFilter?t.launchNameFilter:[]},setValue:function(e,t){var n=t.getWidgetOptions();n.launchNameFilter=e,t.setWidgetOptions(n)}}},{control:"dropDown",options:{label:r.widgets.widgetCriteria,items:[{name:r.launchesHeaders.passed,value:"statistics$executions$passed"},{name:r.launchesHeaders.failed,value:"statistics$executions$failed"}],notEmpty:!0,placeholder:r.wizard.choiceCriteria,multiple:!0,getValue:function(e,t){var r=e.getContentFields();return r.length?r:n.map(t.model.get("items"),function(e){return e.value})},setValue:function(e,t){t.setContentFields(e)}}},{control:"switcher",options:{items:[{name:r.widgets.barMode,value:"barMode"},{name:r.widgets.tableMode,value:"tableMode"}],action:"switch_view_mode"}},{control:"checkbox",options:{label:r.widgets.includeMethods,getValue:function(e){var t=e.getWidgetOptions();return t.include_methods?!0:!1},setValue:function(e,t){var n=t.getWidgetOptions();e?n.include_methods=[]:delete n.include_methods,t.setWidgetOptions(n)}}}]),e.promise()}}}),define("newWidgets/widgets/mostTimeConsumingTestCases/index",["require","newWidgets/widgets/mostTimeConsumingTestCases/MostTimeConsumingTestCasesView","newWidgets/widgets/mostTimeConsumingTestCases/MostTimeConsumingTestCasesSettings"],function(e){"use strict";var t=e("newWidgets/widgets/mostTimeConsumingTestCases/MostTimeConsumingTestCasesView"),n=e("newWidgets/widgets/mostTimeConsumingTestCases/MostTimeConsumingTestCasesSettings");return t.getConfig=n.getConfig,t.getSettings=n.getSettings,t}),define("newWidgets/widgets/projectInfoWidgets/LastLaunchPieChartView",["require","jquery","underscore","util","localization","newWidgets/_C3ChartWidgetView","d3","c3","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("localization"),s=e("newWidgets/_C3ChartWidgetView"),o=e("d3"),u=e("c3"),a=e("app"),f=a.getInstance(),l=s.extend({template:"tpl-widget-project-info-double-chart",tooltipTemplate:"tpl-widget-project-info-chart-tooltip",className:"project-info-chart last-launch-statistics",render:function(){var e={columns:{statistics$executions$passed:["statistics$executions$passed"],statistics$executions$failed:["statistics$executions$failed"],statistics$executions$skipped:["statistics$executions$skipped"]},colors:{statistics$executions$passed:f.defaultColors.passed,statistics$executions$failed:f.defaultColors.failed,statistics$executions$skipped:f.defaultColors.skipped}},i={columns:{statistics$defects$product_bug:["statistics$defects$product_bug"],statistics$defects$automation_bug:["statistics$defects$automation_bug"],statistics$defects$system_issue:["statistics$defects$system_issue"],statistics$defects$to_investigate:["statistics$defects$to_investigate"]},colors:{statistics$defects$product_bug:f.defaultColors.productBug,statistics$defects$automation_bug:f.defaultColors.automationBug,statistics$defects$system_issue:f.defaultColors.systemIssue,statistics$defects$to_investigate:f.defaultColors.toInvestigate}};if(!this.isDataExists()){this.addNoAvailableBock();return}this.charts=[],n.each(this.model.getContent().result[0].values,function(t,n){n!=="statistics$executions$total"&&(~n.indexOf("$executions$")?e.columns[n].push(+t):i.columns[n].push(+t))}),e.total=this.model.getContent().result[0].values.statistics$executions$total,i.total=n.reduce(i.columns,function(e,t){return e+t[1]},0),this.$el.html(r.templates(this.template)),t("[data-js-left-chart-container]",this.$el).addClass("status-chart"),this.drawDonutChart(t("[data-js-left-chart-container]",this.$el),e),t("[data-js-right-chart-container]",this.$el).addClass("issues-chart"),this.drawDonutChart(t("[data-js-right-chart-container]",this.$el),i)},drawDonutChart:function(e,r){var s=this,a,f=u.generate({bindto:e[0],data:{columns:n.values(r.columns),type:"donut",order:null,colors:r.colors},legend:{show:!1},donut:{title:r.total,label:{show:!1,threshold:.05}},tooltip:{position:function(e,t,n,r){var i=o.mouse(f.element)[0]-t/2,s=o.mouse(f.element)[1]-n;return{top:s-8,left:i}},contents:function(e,t,n,r){return'<div class="tooltip-val">'+e[0].value+" ("+s.getRoundedToDecimalPlaces(e[0].ratio*100,2).toFixed(2)+"%)</div>"+'<div class="tooltip-title">'+'<div class="color-mark" style="background-color: '+r(e[0].id)+';"></div>'+i.filterNameById[e[0].id]+"</div>"}},onrendered:function(){e.css("max-height","none"),t(".c3-chart-arcs-title",e).contents()[0].textContent=r.total,t(".c3-chart-arcs-title",e).attr("dy","-5").find("tspan").attr("dy","15")}});e.hasClass("status-chart")?a=i.widgets.pieSum:e.hasClass("issues-chart")&&(a=i.widgets.pieIssues),o.select(f.element).select(".c3-chart-arcs-title").attr("dy",-5).append("tspan").attr("dy",16).attr("x",0).text(a),this.charts.push(f)},onBeforeDestroy:function(){n.each(this.charts,function(e){e.destroy()}),this.charts=null}});return l}),define("newWidgets/widgets/projectInfoWidgets/PercentageOfInvestigationChartView",["require","jquery","underscore","moment","localization","util","newWidgets/_C3ChartWidgetView","d3","c3","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("moment"),i=e("localization"),s=e("util"),o=e("newWidgets/_C3ChartWidgetView"),u=e("d3"),a=e("c3"),f=e("app"),l=f.getInstance(),c=o.extend({template:"tpl-widget-project-info-chart",tooltipTemplate:"tpl-widget-project-info-chart-tooltip",className:"project-info-chart percentage-of-investigations",render:function(){var e=this,o=[],f,c,h=this.model.get("interval")!==1,p={columns:{toInvestigate:["toInvestigate"],investigated:["investigated"]},colors:{investigated:l.defaultColors.investigated,toInvestigate:l.defaultColors.toInvestigate}},d=[];if(n.isEmpty(this.model.getContent())){this.addNoAvailableBock();return}this.$el.html(s.templates(this.template,{})),c=t("[data-js-chart-container]",this.$el),n.each(this.model.getContent(),function(e,t){var n=e[0].values;n.date=t,o.push(n)}),f=n.sortBy(o,function(e){return h?e.date.split("-W")[1]:r(e.date).unix()}),n.each(f,function(e){p.columns.investigated.push(+e.investigated),p.columns.toInvestigate.push(+e.toInvestigate),d.push({date:e.date})},this),this.chart=a.generate({bindto:c[0],data:{columns:n.values(p.columns),type:"bar",order:null,groups:[n.keys(p.columns)],colors:p.colors},grid:{y:{show:!0}},axis:{x:{show:!0,type:"category",categories:n.map(d,function(e){return h?e.date.split("-W")[1]:e.date.split("-")[2]}),tick:{values:e.getTimelineAxisTicks(d.length),width:60,centered:!0,inner:!0,multiline:!1,outer:!1},label:{text:h?i.widgets.timeWeeks:i.widgets.timeDays,position:"outer-center"}},y:{show:!0,padding:{top:0},max:100,tick:{format:function(e){return e+"%"}}}},legend:{show:!1},tooltip:{grouped:!1,position:function(t,n,r,i){var s=u.mouse(e.chart.element)[0]-n/2,o=u.mouse(e.chart.element)[1]-r;return{top:o-8,left:s}},contents:function(t,n,o,u){var a=d[t[0].index],f,c,p;return h?(f=r(a.date).format(l.widgetTimeFormat),c=r(a.date).add(6,"day").format(l.widgetTimeFormat),p=f+" - "+c):p=a.date,s.templates(e.tooltipTemplate,{period:p,showRate:!0,color:u(t[0].id),name:i.widgets[t[0].name],percentage:t[0].value+"%"})}},size:{height:e.$el.height()},onrendered:function(){c.css("max-height","none")}})}});return c}),define("newWidgets/widgets/projectInfoWidgets/_PercentageOfDefectsChartView",["require","jquery","underscore","moment","localization","util","newWidgets/_C3ChartWidgetView","d3","c3","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("moment"),i=e("localization"),s=e("util"),o=e("newWidgets/_C3ChartWidgetView"),u=e("d3"),a=e("c3"),f=e("app"),l=f.getInstance(),c=o.extend({template:"tpl-widget-project-info-chart",tooltipTemplate:"tpl-widget-project-info-chart-tooltip",className:"project-info-chart percentage-of-defects",render:function(){var e=this,o=[],f,c,h=this.model.get("interval")!==1,p={columns:{toInvestigate:["toInvestigate"]},colors:{toInvestigate:l.defaultColors.toInvestigate}},d=[],v;if(n.isEmpty(this.model.getContent())){this.addNoAvailableBock();return}p.columns[this.criteria]=[this.criteria],p.colors[this.criteria]=l.defaultColors[this.criteria],this.$el.html(s.templates(this.template,{})),c=t("[data-js-chart-container]",this.$el),n.each(this.model.getContent(),function(e,t){var n=e[0].values;n.date=t,o.push(n)}),f=n.sortBy(o,function(e){return h?e.date.split("-W")[1]:r(e.date).unix()}),n.each(f,function(e){var t=+e.automationBug+ +e.productBug+ +e.systemIssue+ +e.toInvestigate;p.columns.toInvestigate.push(isNaN(+e.toInvestigate/t)?0:this.getRoundedToDecimalPlaces(+e.toInvestigate/t*100,2).toFixed(2)),p.columns[this.criteria].push(isNaN(+e[this.criteria]/t)?0:this.getRoundedToDecimalPlaces(+e[this.criteria]/t*100,2).toFixed(2)),d.push({date:e.date})},this),v=d.length<2,this.chart=a.generate({bindto:c[0],data:{columns:n.values(p.columns),type:"area-spline",groups:[n.keys(p.columns)],colors:p.colors},point:{show:v,r:3,focus:{expand:{r:5}}},grid:{y:{show:!0}},axis:{x:{show:!0,type:"category",categories:n.map(d,function(e){return h?e.date.split("-W")[1]:e.date.split("-")[2]}),tick:{values:e.getTimelineAxisTicks(d.length),width:60,centered:!0,inner:!0,multiline:!1,outer:!1},label:{text:h?i.widgets.timeWeeks:i.widgets.timeDays,position:"outer-center"}},y:{show:!0,max:100,padding:{top:0},tick:{format:function(e){return e+"%"}}}},legend:{show:!1},size:{height:e.$el.height()},onrendered:function(){var o=v?u.selectAll(t(".c3-circle",c)):u.selectAll(t(".c3-area",c)),a=this.margin.left,f=t(".c3-event-rect",c),m=t(f[0]).attr("width"),g=[],y=u.selectAll(t(".c3-tooltip-container",c)),b,w;c.css("max-height","none"),v&&o.each(function(e){e.value||u.select(this).style("display","none")});if(e.isPreview)return;t.each(f,function(e,n){+g.push(t(n).attr("x"))}),o.on("click",function(t){var r=n.map(e.chart.data.shown(),function(e){return e.id});r.length>1?e.chart.hide(n.without(r,t.id)):e.chart.show()}).on("mousemove",function(t){var o,f,c,E;b=u.mouse(e.chart.element)[0]-a,w=n.findIndex(g,function(e){return b-m<e}),o=d[w],h?(f=r(o.date).format(l.widgetTimeFormat),c=r(o.date).add(6,"day").format(l.widgetTimeFormat),E=f+" - "+c):E=o.date,y.html(function(){return s.templates(e.tooltipTemplate,{period:E,showRate:!0,color:p.colors[t.id],name:i.widgets[t.id],percentage:v?t.value+"%":t.values[w].value+"%"})}).style("left",function(){return u.mouse(e.chart.element)[0]-this.clientWidth/2+"px"}).style("top",function(){return u.mouse(e.chart.element)[1]-this.clientHeight-8+"px"})}).on("mouseover",function(t){n.find(e.chart.data.shown(),function(e){return e.id===t.id})&&y.style("display","block")}).on("mouseout",function(){y.style("display","none")})}})},removeChartListeners:function(){var e=this.chart.data()[0].values.length<2?u.selectAll(t("[data-js-chart-container] .c3-circle",this.$el)):u.selectAll(t("[data-js-chart-container] .c3-area",this.$el));return e.on("click mousemove mouseover mouseout",null),!0},onBeforeDestroy:function(){this.chart&&this.removeChartListeners(),this.chart&&(this.chart=this.chart.destroy())}});return c}),define("newWidgets/widgets/projectInfoWidgets/PercentageOfProductBugsChartView",["require","newWidgets/widgets/projectInfoWidgets/_PercentageOfDefectsChartView"],function(e){"use strict";var t=e("newWidgets/widgets/projectInfoWidgets/_PercentageOfDefectsChartView"),n=t.extend({criteria:"productBug"});return n}),define("newWidgets/widgets/projectInfoWidgets/PercentageOfAutomationBugsChartView",["require","newWidgets/widgets/projectInfoWidgets/_PercentageOfDefectsChartView"],function(e){"use strict";var t=e("newWidgets/widgets/projectInfoWidgets/_PercentageOfDefectsChartView"),n=t.extend({criteria:"automationBug"});return n}),define("newWidgets/widgets/projectInfoWidgets/PercentageOfSystemIssuesChartView",["require","newWidgets/widgets/projectInfoWidgets/_PercentageOfDefectsChartView"],function(e){"use strict";var t=e("newWidgets/widgets/projectInfoWidgets/_PercentageOfDefectsChartView"),n=t.extend({criteria:"systemIssue"});return n}),define("newWidgets/widgets/projectInfoWidgets/LaunchesQuantityChartView",["require","jquery","underscore","moment","util","localization","newWidgets/_C3ChartWidgetView","d3","c3","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("moment"),i=e("util"),s=e("localization"),o=e("newWidgets/_C3ChartWidgetView"),u=e("d3"),a=e("c3"),f=e("app"),l=f.getInstance(),c=o.extend({template:"tpl-widget-project-info-chart",tooltipTemplate:"tpl-widget-project-info-chart-tooltip",className:"project-info-chart quantity-of-launches",render:function(){var e=this,o=[],f,c,h=this.model.get("interval")!==1,p={columns:["numberOfLaunches"],colors:{numberOfLaunches:l.defaultColors.numberLaunches}},d=[];if(n.isEmpty(this.model.getContent())){this.addNoAvailableBock();return}this.$el.html(i.templates(this.template,{})),c=t("[data-js-chart-container]",this.$el),n.each(this.model.getContent(),function(e,t){var n=e[0].values;n.date=t,o.push(n)}),f=n.sortBy(o,function(e){return r(e.start).unix()}),n.each(f,function(e){p.columns.push(e.count),d.push({xTick:h?e.date.split("-W")[1]:e.date.split("-")[2],count:e.count,start:e.start,end:e.end,interval:e.interval})}),this.chart=a.generate({bindto:c[0],data:{columns:[p.columns],type:"bar",colors:p.colors},padding:{top:0},grid:{y:{show:!0}},axis:{x:{show:!0,tick:{format:function(e){return d[e].xTick},width:60,centered:!0,inner:!0,multiline:!1,outer:!1},label:{text:h?s.widgets.timeWeeks:s.widgets.timeDays,position:"outer-center"}},y:{show:!0,padding:{top:0,bottom:0}}},legend:{show:!1},tooltip:{position:function(t,n,r,i){var s=u.mouse(e.chart.element)[0]-n/2,o=u.mouse(e.chart.element)[1]-r;return{top:o-8,left:s}},contents:function(t,n,r,o){var u=d[t[0].index];return i.templates(e.tooltipTemplate,{period:h?u.start+" - "+u.end:u.start,showCount:!0,count:u.count,measure:s.widgets.launches})}},size:{height:e.$el.height()},onrendered:function(){c.css("max-height","none")}})}});return c}),define("newWidgets/widgets/projectInfoWidgets/LaunchStatisticsBarChartView",["require","jquery","underscore","moment","localization","util","newWidgets/_C3ChartWidgetView","d3","c3","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("moment"),i=e("localization"),s=e("util"),o=e("newWidgets/_C3ChartWidgetView"),u=e("d3"),a=e("c3"),f=e("app"),l=f.getInstance(),c=o.extend({template:"tpl-widget-project-info-chart",tooltipTemplate:"tpl-widget-project-info-chart-tooltip",className:"project-info-chart launch-statistics",render:function(){var e=this,o=[],f,c,h=this.model.get("interval")!==1,p={columns:{toInvestigate:["toInvestigate"],systemIssue:["systemIssue"],automationBug:["automationBug"],productBug:["productBug"]},colors:{productBug:l.defaultColors.productBug,automationBug:l.defaultColors.automationBug,systemIssue:l.defaultColors.systemIssue,toInvestigate:l.defaultColors.toInvestigate}},d=[];if(n.isEmpty(this.model.getContent())){this.addNoAvailableBock();return}this.$el.html(s.templates(this.template,{})),c=t("[data-js-chart-container]",this.$el),n.each(this.model.getContent(),function(e,t){var n=e[0].values;n.date=t,o.push(n)}),f=n.sortBy(o,function(e){return h?e.date.split("-W")[1]:r(e.date).unix()}),n.each(f,function(e){var t=+e.automationBug+ +e.productBug+ +e.systemIssue+ +e.toInvestigate;p.columns.productBug.push(isNaN(+e.productBug/t)?0:this.getRoundedToDecimalPlaces(+e.productBug/t*100,2).toFixed(2)),p.columns.automationBug.push(isNaN(+e.automationBug/t)?0:this.getRoundedToDecimalPlaces(+e.automationBug/t*100,2).toFixed(2)),p.columns.systemIssue.push(isNaN(+e.systemIssue/t)?0:this.getRoundedToDecimalPlaces(+e.systemIssue/t*100,2).toFixed(2)),p.columns.toInvestigate.push(isNaN(+e.toInvestigate/t)?0:this.getRoundedToDecimalPlaces(+e.toInvestigate/t*100,2).toFixed(2)),d.push({date:e.date})},this),this.chart=a.generate({bindto:c[0],data:{columns:n.values(p.columns),type:"bar",order:null,groups:[n.keys(p.columns)],colors:p.colors},grid:{y:{show:!0}},axis:{x:{show:!0,type:"category",categories:n.map(d,function(e){return h?e.date.split("-W")[1]:e.date.split("-")[2]}),tick:{values:e.getTimelineAxisTicks(d.length),width:60,centered:!0,inner:!0,multiline:!1,outer:!1},label:{text:h?i.widgets.timeWeeks:i.widgets.timeDays,position:"outer-center"}},y:{show:!0,max:100,padding:{top:0},tick:{format:function(e){return e+"%"}}}},legend:{show:!1},tooltip:{grouped:!1,position:function(t,n,r,i){var s=u.mouse(e.chart.element)[0]-n/2,o=u.mouse(e.chart.element)[1]-r;return{top:o-8,left:s}},contents:function(t,n,o,u){var a=d[t[0].index],f,c,p;return h?(f=r(a.date).format(l.widgetTimeFormat),c=r(a.date).add(6,"day").format(l.widgetTimeFormat),p=f+" - "+c):p=a.date,s.templates(e.tooltipTemplate,{period:p,showRate:!0,color:u(t[0].id),name:i.widgets[t[0].name],percentage:t[0].value+"%"})}},size:{height:e.$el.height()},onrendered:function(){c.css("max-height","none")}})}});return c}),define("newWidgets/WidgetService",["require","jquery","underscore","localization","defectType/SingletonDefectTypeCollection","newWidgets/widgets/launchStatisticsChart/index","newWidgets/widgets/overallStatistics/index","newWidgets/widgets/launchesDurationChart/index","newWidgets/widgets/launchExecutionAndIssueStatistics/index","newWidgets/widgets/projectActivity/index","newWidgets/widgets/testCasesGrowthTrendChart/index","newWidgets/widgets/investigatedTrendChart/index","newWidgets/widgets/launchesTable/index","newWidgets/widgets/uniqueBugsTable/index","newWidgets/widgets/mostFailedTestCasesTable/index","newWidgets/widgets/failedCasesTrendChart/index","newWidgets/widgets/notPassedTestCasesTrendChart/index","newWidgets/widgets/launchesComparison/index","newWidgets/widgets/passingRatePerLaunch/index","newWidgets/widgets/passingRateSummary/index","newWidgets/widgets/productStatus/index","newWidgets/widgets/cumulativeTrendChart/index","newWidgets/widgets/flakyTestCasesTable/index","newWidgets/widgets/mostTimeConsumingTestCases/index","newWidgets/widgets/projectInfoWidgets/LastLaunchPieChartView","newWidgets/widgets/projectInfoWidgets/PercentageOfInvestigationChartView","newWidgets/widgets/projectInfoWidgets/PercentageOfProductBugsChartView","newWidgets/widgets/projectInfoWidgets/PercentageOfAutomationBugsChartView","newWidgets/widgets/projectInfoWidgets/PercentageOfSystemIssuesChartView","newWidgets/widgets/projectInfoWidgets/LaunchesQuantityChartView","newWidgets/widgets/projectInfoWidgets/LaunchStatisticsBarChartView"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("localization"),i=e("defectType/SingletonDefectTypeCollection"),s=e("newWidgets/widgets/launchStatisticsChart/index"),o=e("newWidgets/widgets/overallStatistics/index"),u=e("newWidgets/widgets/launchesDurationChart/index"),a=e("newWidgets/widgets/launchExecutionAndIssueStatistics/index"),f=e("newWidgets/widgets/projectActivity/index"),l=e("newWidgets/widgets/testCasesGrowthTrendChart/index"),c=e("newWidgets/widgets/investigatedTrendChart/index"),h=e("newWidgets/widgets/launchesTable/index"),p=e("newWidgets/widgets/uniqueBugsTable/index"),d=e("newWidgets/widgets/mostFailedTestCasesTable/index"),v=e("newWidgets/widgets/failedCasesTrendChart/index"),m=e("newWidgets/widgets/notPassedTestCasesTrendChart/index"),g=e("newWidgets/widgets/launchesComparison/index"),y=e("newWidgets/widgets/passingRatePerLaunch/index"),b=e("newWidgets/widgets/passingRateSummary/index"),w=e("newWidgets/widgets/productStatus/index"),E=e("newWidgets/widgets/cumulativeTrendChart/index"),S=e("newWidgets/widgets/flakyTestCasesTable/index"),x=e("newWidgets/widgets/mostTimeConsumingTestCases/index"),T=e("newWidgets/widgets/projectInfoWidgets/LastLaunchPieChartView"),N=e("newWidgets/widgets/projectInfoWidgets/PercentageOfInvestigationChartView"),C=e("newWidgets/widgets/projectInfoWidgets/PercentageOfProductBugsChartView"),k=e("newWidgets/widgets/projectInfoWidgets/PercentageOfAutomationBugsChartView"),L=e("newWidgets/widgets/projectInfoWidgets/PercentageOfSystemIssuesChartView"),A=e("newWidgets/widgets/projectInfoWidgets/LaunchesQuantityChartView"),O=e("newWidgets/widgets/projectInfoWidgets/LaunchStatisticsBarChartView"),M={statistic_trend:s,overall_statistics:o,launches_duration_chart:u,launch_statistics:a,activity_stream:f,cases_trend:l,investigated_trend:c,launches_table:h,unique_bug_table:p,most_failed_test_cases:d,bug_trend:v,not_passed:m,launches_comparison_chart:g,passing_rate_per_launch:y,passing_rate_summary:b,flaky_test_cases:S},_={getAllWidgetsConfig:function(){var e={last_launch:{gadget_name:r.widgets.executionIssueStatistics,img:"",description:r.widgets.executionIssueStatisticsDescription,widget_type:"combine_pie_chart",gadget:"last_launch",noCriteria:!0,notShowOnWizard:!0,staticCriteria:{},limit:{display:!1,min:1,max:1,def:1}}};return n.each(M,function(t,n){var r=t.getConfig();r.gadget=n,e[n]=r}),e},getSettingsGadget:function(e){var n=t.Deferred();return M[e]?(M[e].getSettings().done(function(e){n.resolve({newWidget:!0,uiControl:e})}),n):this.getFullWidgetConfig(e)},getWidgetConfig:function(e){var t=this.getAllWidgetsConfig();return t[e]},getFullWidgetConfig:function(e){var n=this.getWidgetConfig(e),s=t.Deferred(),o=new i;return o.ready.done(function(){switch(e){case"last_launch":n.staticCriteria={statistics$executions$total:r.launchesHeaders.total,statistics$executions$passed:r.launchesHeaders.passed,statistics$executions$failed:r.launchesHeaders.failed,statistics$executions$skipped:r.launchesHeaders.skipped,statistics$defects$product_bug:r.launchesHeaders.product_bug,statistics$defects$automation_bug:r.launchesHeaders.automation_bug,statistics$defects$system_issue:r.launchesHeaders.system_issue,statistics$defects$no_defect:r.launchesHeaders.no_defect,statistics$defects$to_investigate:r.launchesHeaders.to_investigate};break;default:}s.resolve(n)}),s},getDefaultWidgetImg:function(){return"undefined.svg"},getWidgetView:function(e){if(M[e])return M[e];switch(e){case"activities":return f;case"last_launch":return T;case"investigated":return N;case"bugs_percentage":return C;case"auto_bugs_percentage":return k;case"system_issues_percentage":return L;case"launches_quantity":return A;case"issues_chart_trend":case"issues_chart":return O;default:return null}}};return _}),define("modals/addWidget/SelectWidgetView",["require","backbone-epoxy","util","jquery","underscore","newWidgets/WidgetService","app"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=e("jquery"),i=e("underscore"),s=e("newWidgets/WidgetService"),o=e("app"),u=o.getInstance(),a=t.View.extend({className:"modal-add-widget-select-widget",template:"tpl-modal-add-widget-select-widget",events:{'change input[type="radio"]':"onChangeType"},initialize:function(){this.render(),this.model.get("gadget")&&r('[value="'+this.model.get("gadget")+'"]',this.$el).attr("selected","selected")},render:function(){this.$el.html(n.templates(this.template,{widgets:s.getAllWidgetsConfig()}))},onChangeType:function(){var e=r("input:checked",this.$el).val(),t=this.model.defaults;r("[data-js-select-widget-header]",this.$el).removeClass("error-state"),u.trackingDispatcher.trackEventNumber(291),t.gadget=e,this.model.set(t)},validate:function(){return r("input:checked",this.$el).length?!0:(r("[data-js-select-widget-header]",this.$el).addClass("error-state"),!1)},onDestroy:function(){}});return a}),define("modals/addWidget/widgetSettings/_settingView",["require","backbone-epoxy"],function(e){"use strict";var t=e("backbone-epoxy"),n=t.View.extend({validate:function(){return!0},getValue:function(e,t){return!0},setValue:function(e,t,n){},destroy:function(){this.onDestroy&&this.onDestroy(),this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.remove(),this.unActive=!0}});return n}),define("modals/addWidget/widgetSettings/SettingInputItemsView",["require","util","backbone-epoxy","jquery","underscore","modals/addWidget/widgetSettings/_settingView","coreService","localization"],function(e){"use strict";var t=e("util"),n=e("backbone-epoxy"),r=e("jquery"),i=e("underscore"),s=e("modals/addWidget/widgetSettings/_settingView"),o=e("coreService"),u=e("localization"),a={},f=s.extend({className:"modal-add-widget-setting-input-items",template:"tpl-modal-add-widget-setting-input-items",bindings:{"[data-js-label-name]":"html:label","[data-js-label-input]":"value:value"},initialize:function(e){var t=i.extend({label:"",placeholder:"",minItemLength:3,maxItemLength:256,minItems:0,maxItems:50,entity:"",value:""},e.options);this.gadgetModel=e.gadgetModel,this.options=e.options,this.model=new n.Model(t),this.render(),t.action&&a[t.action]&&(this.setValue=a[t.action].setValue,this.getValue=a[t.action].getValue),t.setValue&&(this.setValue=t.setValue),t.getValue&&(this.getValue=t.getValue),t.validate&&(this.validate=t.validate.bind(this)),this.model.set({value:this.getValue(this.gadgetModel,this)}),this.listenTo(this.model,"change:value",this.onChangeValue)},render:function(){this.$el.html(t.templates(this.template,{}))},getFunctions:function(){switch(this.model.get("entity")){case"filter":return{query:function(e){o.saveFilter("?page.sort=name&page.page=1&page.size=50&filter.cnt.name="+e.term).done(function(t){var n={results:[]};i.each(t.content,function(e){n.results.push({id:e.id,text:e.name})}),e.callback(n)}).fail(function(e){t.ajaxFailMessenger(e)})},getDataByIds:function(e,t){o.getFilterData(e).done(function(e){t(i.map(e,function(e){return{id:e.id,text:e.name}}))})}};case"launchName":return{query:function(e){o.searchLaunches(e).done(function(t){var n={results:[]};i.each(t,function(e){n.results.push({id:e,text:e})}),e.callback(n)}).fail(function(e){t.ajaxFailMessenger(e)})},getDataByIds:function(e,t){t(i.map(e,function(e){return{id:e,text:e}}))}};case"user":return{query:function(e){o.getProjectUsersById(e.term).done(function(t){var n={results:[]};i.each(t,function(e){n.results.push({id:e,text:e})}),e.callback(n)}).fail(function(e){t.ajaxFailMessenger(e)})},getDataByIds:function(e,t){t(i.map(e,function(e){return{id:e,text:e}}))}};default:return function(e){e.callback([])}}},activate:function(){var e=this;t.setupSelect2WhithScroll(r("[data-js-label-input]",this.$el),{min:this.model.get("minItems"),minimumInputLength:this.model.get("minItemLength"),maximumInputLength:this.model.get("maxItemLength"),maximumSelectionSize:this.model.get("maxItems"),multiple:this.model.get("maxItems")>=2,dropdownCssClass:"rp-select2-separate-block",allowClear:!1,placeholder:this.model.get("placeholder"),tags:!1,initSelection:function(t,n){e.getFunctions().getDataByIds(e.getValue(e.gadgetModel,e),n)},query:this.getFunctions().query}),r("[data-js-label-input]",this.$el).on("select2-open",this.onEnterInput).on("select2-close",this.onOverInput),this.activated=!0},onChangeValue:function(e,t){this.setValue(t.split(","),this.gadgetModel,this),this.hideErrorState()},onOverInput:function(){r("[data-js-validate-hint]",this.$el).hide()},onEnterInput:function(){r("[data-js-input-wrapper]",this.$el).hasClass("validate-error")&&r("[data-js-validate-hint]",this.$el).show()},validate:function(e){return this.model.get("minItems")>0&&!this.model.get("value").length?e&&e.silent?!1:(this.showErrorState(u.validation.moreAtItem),!1):!0},showErrorState:function(e){r("[data-js-input-wrapper]",this.$el).addClass("validate-error"),r("[data-js-validate-hint]",this.$el).html(e)},hideErrorState:function(){r("[data-js-input-wrapper]",this.$el).removeClass("validate-error"),r("[data-js-validate-hint]",this.$el).html("").hide()},onDestroy:function(){this.selectCriteria&&this.selectCriteria.destroy()}});return f}),define("modals/addWidget/widgetSettings/SettingDropDownView",["require","util","backbone-epoxy","jquery","underscore","modals/addWidget/widgetSettings/_settingView","components/DropDownComponent","localization"],function(e){"use strict";var t=e("util"),n=e("backbone-epoxy"),r=e("jquery"),i=e("underscore"),s=e("modals/addWidget/widgetSettings/_settingView"),o=e("components/DropDownComponent"),u=e("localization"),a={},f=s.extend({className:"modal-add-widget-setting-drop-down",template:"tpl-modal-add-widget-setting-drop-down",bindings:{"[data-js-label-name]":"html:label"},initialize:function(e){var t=i.extend({items:[],label:"",multiple:!1,placeholder:"",notEmpty:!0,value:""},e.options);this.model=new n.Model(t),this.gadgetModel=e.gadgetModel,this.render(),t.action&&a[t.action]&&(this.setValue=a[t.action].setValue,this.getValue=a[t.action].getValue),t.setValue&&(this.setValue=t.setValue),t.getValue&&(this.getValue=t.getValue)},render:function(){this.$el.html(t.templates(this.template,{}))},activate:function(){this.model.set({value:this.getValue(this.gadgetModel,this)}),this.dropDown=new o({data:this.model.get("items"),placeholder:this.model.get("placeholder"),multiple:this.model.get("multiple"),defaultValue:this.model.get("value"),isShowAll:this.model.get("multiple")}),r("[data-js-drop-down-container]",this.$el).html(this.dropDown.$el),this.listenTo(this.dropDown,"change",this.onChangeDropDown),this.listenTo(this.model,"change:value",this.validate),this.activated=!0},onChangeDropDown:function(e){this.model.set({value:e}),this.setValue(e,this.gadgetModel,!0)},validate:function(e){return this.model.get("notEmpty")&&!this.model.get("value").length?e&&e.silent?!1:(this.dropDown.setErrorState(u.validation.moreAtItem),!1):!0},onDestroy:function(){this.dropDown&&this.dropDown.destroy()}});return f}),define("modals/addWidget/widgetSettings/SettingCheckBoxView",["require","util","backbone-epoxy","underscore","modals/addWidget/widgetSettings/_settingView"],function(e){"use strict";var t=e("util"),n=e("backbone-epoxy"),r=e("underscore"),i=e("modals/addWidget/widgetSettings/_settingView"),s={latest_launches:{setValue:function(e,t){var n=t.getWidgetOptions();e?n.latest=[]:delete n.latest,t.setWidgetOptions(n)},getValue:function(e){return!!e.getWidgetOptions().latest}}},o=i.extend({className:"modal-add-widget-setting-checkbox",template:"tpl-modal-add-widget-setting-checkbox",bindings:{"[data-js-label-name]":"html:label","[data-js-checkbox-item]":"checked:value"},initialize:function(e){var t=r.extend({label:"",value:!1},e.options);this.model=new n.Model(t),this.gadgetModel=e.gadgetModel,this.render(t),t.action&&s[t.action]&&(this.setValue=s[t.action].setValue,this.getValue=s[t.action].getValue),t.setValue&&(this.setValue=t.setValue),t.getValue&&(this.getValue=t.getValue)},render:function(e){this.$el.html(t.templates(this.template,{beta:e.beta}))},activate:function(){this.model.set({value:this.getValue(this.gadgetModel,this)}),this.listenTo(this.model,"change:value",this.onChangeValue),this.activated=!0},onChangeValue:function(){this.setValue(this.model.get("value"),this.gadgetModel,this)},validate:function(){return!0},onDestroy:function(){}});return o}),define("components/SettingSwitcherView",["require","util","jquery","underscore","modals/addWidget/widgetSettings/_settingView","backbone-epoxy"],function(e){"use strict";var t=e("util"),n=e("jquery"),r=e("underscore"),i=e("modals/addWidget/widgetSettings/_settingView"),s=e("backbone-epoxy"),o={switch_view_mode:{setValue:function(e,t){var n=t.getWidgetOptions();n.viewMode=[e],t.setWidgetOptions(n)},getValue:function(e,t){var n=e.getWidgetOptions().viewMode;return!n||!n.length?t.model.get("items")[0]:n[0]}},switch_latest_mode:{setValue:function(e,t){var n=t.getWidgetOptions();e==="latest"?n.latest=[]:delete n.latest,t.setWidgetOptions(n)},getValue:function(e,t){var n=!!e.getWidgetOptions().latest;return n?"latest":"all"}},switch_timeline_mode:{setValue:function(e,t){var n=t.getWidgetOptions();e==="timeline"?n.timeline=["DAY"]:delete n.timeline,t.setWidgetOptions(n)},getValue:function(e,t){var n=!!e.getWidgetOptions().timeline;return n?"timeline":"launch"}}},u=i.extend({className:"setting-switcher",template:"tpl-setting-switcher",events:{"click [data-js-switch-item]":"onClickItem"},bindings:{},initialize:function(e){var t=r.extend({items:[],value:0},e.options);this.model=new s.Model(t),this.gadgetModel=e.gadgetModel,this.render(),t.action&&o[t.action]&&(this.setValue=o[t.action].setValue,this.getValue=o[t.action].getValue),t.setValue&&(this.setValue=t.setValue),t.getValue&&(this.getValue=t.getValue)},render:function(){this.$el.html(t.templates(this.template,this.model.get("items")))},activate:function(){var e=this,t=this.getValue(this.gadgetModel,this);r.each(this.model.get("items"),function(n,r){return n.value===t?(e.model.set({value:r}),!1):!0}),this.listenTo(this.model,"change:value",this.onChangeValue),this.onChangeValue(),this.activated=!0},onChangeValue:function(){n("[data-js-switch-item]",this.$el).removeClass("active"),this.model.get("value")>=0&&(this.setValue(this.model.get("items")[this.model.get("value")].value,this.gadgetModel,this),n("[data-js-switch-item]",this.$el).eq(this.model.get("value")).addClass("active"))},onClickItem:function(e){var t=n(e.currentTarget).data("num");this.model.set({value:t})},validate:function(){return!0},onDestroy:function(){}});return u}),define("modals/addWidget/widgetSettings/SettingCustomColumn/SettingCustomColumnModel",["require","backbone-epoxy"],function(e){"use strict";var t=e("backbone-epoxy"),n=t.Model.extend({defaults:{name:"",value:""}});return n}),define("modals/addWidget/widgetSettings/SettingCustomColumn/SettingCustomColumnCollection",["require","backbone","modals/addWidget/widgetSettings/SettingCustomColumn/SettingCustomColumnModel"],function(e){"use strict";var t=e("backbone"),n=e("modals/addWidget/widgetSettings/SettingCustomColumn/SettingCustomColumnModel"),r=t.Collection.extend({model:n});return r}),define("modals/addWidget/widgetSettings/SettingCustomColumn/SettingCustomColumnView",["require","util","jquery","backbone-epoxy"],function(e){"use strict";var t=e("util"),n=e("jquery"),r=e("backbone-epoxy"),i=r.View.extend({className:"modal-add-widget-setting-custom-column",template:"tpl-modal-add-widget-setting-custom-column",bindings:{"[data-js-name-input]":"value:name","[data-js-value-input]":"value:value"},events:{"click [data-js-remove]":"onClickRemove"},initialize:function(e){this.render(),n("[data-js-number]",this.$el).text(e.number)},render:function(){this.$el.html(t.templates(this.template,{}))},onClickRemove:function(){this.model.collection.remove(this.model)},onDestroy:function(){this.$el.remove()}});return i}),define("modals/addWidget/widgetSettings/SettingCustomColumn/SettingCustomColumnsView",["require","util","backbone-epoxy","jquery","underscore","modals/addWidget/widgetSettings/_settingView","modals/addWidget/widgetSettings/SettingCustomColumn/SettingCustomColumnCollection","modals/addWidget/widgetSettings/SettingCustomColumn/SettingCustomColumnView"],function(e){"use strict";var t=e("util"),n=e("backbone-epoxy"),r=e("jquery"),i=e("underscore"),s=e("modals/addWidget/widgetSettings/_settingView"),o=e("modals/addWidget/widgetSettings/SettingCustomColumn/SettingCustomColumnCollection"),u=e("modals/addWidget/widgetSettings/SettingCustomColumn/SettingCustomColumnView"),a={custom_columns:{setValue:function(e,t){var n=t.getWidgetOptions(),r;e?(r=i.map(e,function(e){return JSON.stringify(e)}),n.customColumns=r):n.customColumns=[],t.setWidgetOptions(n)},getValue:function(e){var t=[];return e.getWidgetOptions().customColumns&&e.getWidgetOptions().customColumns.length&&i.each(e.getWidgetOptions().customColumns,function(e){try{t.push(JSON.parse(e))}catch(n){}}),t}}},f=s.extend({className:"modal-add-widget-setting-custom-columns",template:"tpl-modal-add-widget-setting-custom-columns",events:{"click [data-js-add-item]":"onClickAddItem"},initialize:function(e){var t=i.extend({label:"",value:[]},e.options);this.model=new n.Model(t),this.gadgetModel=e.gadgetModel,this.render(),t.action&&a[t.action]&&(this.setValue=a[t.action].setValue,this.getValue=a[t.action].getValue),t.setValue&&(this.setValue=t.setValue),t.getValue&&(this.getValue=t.getValue),this.collection=new o,this.renderedItems=[]},render:function(){this.$el.html(t.templates(this.template,{}))},activate:function(){this.collection.add(this.getValue(this.gadgetModel,this)),this.renderItems(),this.listenTo(this.collection,"change",this.onChangeCollection),this.listenTo(this.collection,"remove",this.renderItems)},onChangeCollection:function(){var e=[];i.each(this.collection.models,function(t){t.get("name")!==""&&t.get("value")!==""&&e.push(t.toJSON())}),this.setValue(e,this.gadgetModel,this)},onClickAddItem:function(){this.collection.add({}),this.renderItems()},renderItems:function(){var e=this;this.collection.models.length||this.collection.add({}),this.destroyItems(),i.each(this.collection.models,function(t,n){var i=new u({model:t,number:n+1});e.renderedItems.push(i),r("[data-js-items-container]",e.$el).append(i.$el)}),this.onChangeCollection()},destroyItems:function(){i.each(this.renderedItems,function(e){e.destroy()}),this.renderedItems=[]},validate:function(){return!0},onDestroy:function(){this.destroyItems()}});return f}),define("modals/addWidget/widgetSettings/SettingFilters/SettingFilterSearchItemView",["require","jquery","backbone-epoxy","util"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=n.View.extend({className:"setting-filter-search-item",template:"tpl-modal-add-widget-setting-filter-search-item",events:{"click [data-js-filter-edit]":"onClickFilterEdit","click [data-js-filter-select]":"onSelectFilter"},bindings:{"[data-js-filter-name]":"html: getName","[data-js-filter-options]":"html: optionsString","[data-js-filter-shared]":"classes: {hide: any(not(share), notMyFilter)}","[data-js-filter-not-my]":"classes: {hide: not(notMyFilter)}, attr: {title: sharedByTitle}","[data-js-filter-edit]":"classes: {hide: notMyFilter}","[data-js-filter-select]":"checked: active","[data-js-filter-info]":"classes: {hide: noFilter}","[data-js-no-filter]":"classes: {hide: not(noFilter)}"},computeds:{noFilter:{deps:["name","entities"],get:function(e,t){return!e||!t}},getName:{deps:["name"],get:function(e){var t=this.searchTerm?this.searchTerm:null;return t?r.textWrapper(e,t):e}}},initialize:function(e){var n=this;this.searchTerm=e.searchTerm,this.render(),this.model.get("active")&&setTimeout(function(){t("[data-js-filter-select]",n.$el)[0].checked=!0})},onClickFilterEdit:function(e){this.trigger("send:event",{view:"filter",action:"edit filter item"}),e.preventDefault(),e.stopPropagation(),this.model.trigger("edit",this.model)},onSelectFilter:function(){this.trigger("send:event",{view:"filter",action:"select filter item"})},render:function(){this.$el.html(r.templates(this.template,{}))},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.remove()}});return i}),define("modals/addWidget/widgetSettings/SettingFilters/SettingSelectedFilterView",["require","jquery","backbone-epoxy","util","modals/addWidget/widgetSettings/SettingFilters/SettingFilterSearchItemView","filters/FilterModel","controlers/filterControler/FilterListener"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("modals/addWidget/widgetSettings/SettingFilters/SettingFilterSearchItemView"),s=e("filters/FilterModel"),o=e("controlers/filterControler/FilterListener"),u=n.View.extend({className:"setting-filter-selected",template:"tpl-modal-add-widget-setting-filter-selected",events:{"click [data-js-filter-edit]":"onClickFilterEdit"},initialize:function(e){var t=this;this.model=e.gadgetModel,this.filterListener=new o,this.filterEvents=this.filterListener.events,this.render(),this.filterModel=new s({id:this.model.get("filter_id"),temp:!0,active:!0}),this.$el.addClass("load"),t.filterListener.trigger(t.filterEvents.ON_LOAD_FILTER,this.model.get("filter_id")),this.listenTo(this.filterModel,"change:load",this.onChangeLoadFilter)},onChangeLoadFilter:function(e,n){n||(this.$el.removeClass("load"),this.filterView&&this.filterView.destroy(),this.filterView=new i({model:this.filterModel}),t("[data-js-filter-info]",this.$el).html(this.filterView.$el))},render:function(){this.$el.html(r.templates(this.template,{}))},onClickFilterEdit:function(){this.trigger("edit")},validate:function(){return!0},onDestroy:function(){this.filterView&&this.filterView.destroy(),this.filterModel.destroy(),this.$el.remove()}});return u}),define("modals/addWidget/widgetSettings/SettingFilters/SettingFilterSearchEditView",["require","jquery","backbone-epoxy","util","filterEntities/FilterEntitiesView","filterSelectionParameters/FilterSortingView","controlers/filterControler/FilterListener"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("filterEntities/FilterEntitiesView"),s=e("filterSelectionParameters/FilterSortingView"),o=e("controlers/filterControler/FilterListener"),u=n.View.extend({className:"setting-filter-search-edit",template:"tpl-modal-add-widget-setting-filter-search-edit",events:{"click [data-js-cancel-edit]":"onClickCancel","click [data-js-ok-edit]":"onClickOk","click [data-js-cancel]":"onClick"},bindings:{"[data-js-filter-name]":"text: name"},initialize:function(){var e=this;this.filterListener=new o,this.filterEvents=this.filterListener.events,this.render(),this.async=t.Deferred(),this.listenTo(this.model,"change:entities",function(){e.trigger("send:event",{view:"filter",action:"edit entity"})}),this.filterEntities=new i({el:t("[data-js-entities-container]",this.$el),filterLevel:"launch",model:this.model}),t("input",t("[data-js-entity-choice-list] [data-js-link]",this.filterEntities.$el)).on("click",function(){e.trigger("send:event",{view:"filter",action:"edit entity choice click"})}),this.filterSorting=new s({model:this.model}),t("[data-js-filter-sorting]",this.$el).append(this.filterSorting.$el),t("[data-js-sorting-list] a",this.filterSorting.$el).on("click",function(){e.trigger("send:event",{view:"filter",action:"edit entity sorting list click"})})},render:function(){this.$el.html(r.templates(this.template,{}))},onClick:function(e){e.stopPropagation()},onClickCancel:function(){this.trigger("send:event",{view:"filter",action:"cancel edit filter"}),this.model.set({newEntities:""}),this.trigger("returnToFiltersList"),this.async.reject()},onClickOk:function(){this.trigger("send:event",{view:"filter",action:"ok edit filter"}),this.filterListener.trigger(this.filterEvents.ON_SET_FILTER,{id:this.model.get("id"),data:this.model.getDataFromServer()}),this.trigger("returnToFiltersList"),this.async.resolve()},getReadyState:function(){return this.async},onDestroy:function(){this.filterEntities&&this.filterEntities.destroy(),this.filterSorting&&this.filterSorting.destroy(),this.$el.remove()}});return u}),define("modals/addWidget/widgetSettings/SettingFilters/SettingFilterSearchAddView",["require","jquery","underscore","backbone-epoxy","util","filterEntities/FilterEntitiesView","filterSelectionParameters/FilterSortingView","filters/SingletonLaunchFilterCollection","filters/FilterModel","app","controlers/filterControler/FilterListener"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("filterEntities/FilterEntitiesView"),o=e("filterSelectionParameters/FilterSortingView"),u=e("filters/SingletonLaunchFilterCollection"),a=e("filters/FilterModel"),f=e("app"),l=e("controlers/filterControler/FilterListener"),c=f.getInstance(),h=r.View.extend({className:"setting-filter-search-add",template:"tpl-modal-add-widget-setting-filter-search-add",events:{"click [data-js-cancel-edit]":"onClickCancel","click [data-js-ok-edit]":"onClickOk","click [data-js-cancel]":"onClick"},bindings:{"[data-js-filter-name]":"text: name"},initialize:function(){this.launchFilterCollection=new u,this.render(),this.async=t.Deferred(),this.filterListener=new l,this.filterEvents=this.filterListener.events},activate:function(){var e=this;this.launchFilterCollection.ready.done(function(){e.model=new a({temp:!0,active:!0,owner:c.userModel.get("name")});var r=n.map(e.launchFilterCollection.models,function(e){return e.get("name")});i.hintValidator(t("[data-js-name-input]",e.$el),[{validator:"minMaxRequired",type:"filterName",min:3,max:128},{validator:"noDuplications",type:"filterName",source:r}]),e.filterEntities=new s({el:t("[data-js-entities-container]",e.$el),filterLevel:"launch",model:e.model}),t("input",t("[data-js-entity-choice-list] [data-js-link]",e.filterEntities.$el)).on("click",function(){e.trigger("send:event",{view:"filter",action:"entity choice click"})}),e.filterSorting=new o({model:e.model}),t("[data-js-filter-sorting]",e.$el).append(e.filterSorting.$el),e.listenTo(e.model,"change:id",e.onChangeId),t("[data-js-sorting-list] a",e.filterSorting.$el).on("click",function(){e.trigger("send:event",{view:"filter",action:"sorting list click"})})})},render:function(){this.$el.html(i.templates(this.template,{}))},onClick:function(e){e.stopPropagation()},onClickCancel:function(){this.trigger("send:event",{view:"filter",action:"cancel add click"}),this.model.set({newEntities:""}),this.launchFilterCollection.remove(this.model),this.trigger("returnToFiltersList"),this.async.reject()},onClickOk:function(){var e=t("[data-js-name-input]",this.$el);this.trigger("send:event",{view:"filter",action:"ok add click"}),e.trigger("validate"),e.data("validate-error")||(this.filterListener.trigger(this.filterEvents.ON_ADD_FILTER,{cid:this.model.cid,data:this.model.getDataFromServer({name:e.val()})}),this.trigger("returnToFiltersList"))},onChangeId:function(){this.trigger("change:filter",this.model),this.async.resolve()},getReadyState:function(){return this.async},onDestroy:function(){this.filterEntities&&this.filterEntities.destroy(),this.filterSorting&&this.filterSorting.destroy(),this.model&&this.model.destroy(),this.$el.remove()}});return h}),define("modals/addWidget/widgetSettings/SettingFilters/SettingFilterSearchView",["require","filters/SingletonLaunchFilterCollection","backbone-epoxy","util","jquery","underscore","backbone","coreService","filters/FilterModel","modals/addWidget/widgetSettings/SettingFilters/SettingFilterSearchItemView","modals/addWidget/widgetSettings/SettingFilters/SettingFilterSearchEditView","modals/addWidget/widgetSettings/SettingFilters/SettingFilterSearchAddView","modals/addWidget/widgetSettings/_settingView"],function(e){"use strict";var t=e("filters/SingletonLaunchFilterCollection"),n=e("backbone-epoxy"),r=e("util"),i=e("jquery"),s=e("underscore"),o=e("backbone"),u=e("coreService"),a=e("filters/FilterModel"),f=e("modals/addWidget/widgetSettings/SettingFilters/SettingFilterSearchItemView"),l=e("modals/addWidget/widgetSettings/SettingFilters/SettingFilterSearchEditView"),c=e("modals/addWidget/widgetSettings/SettingFilters/SettingFilterSearchAddView"),h=e("modals/addWidget/widgetSettings/_settingView"),p=o.Collection.extend({model:a,initialize:function(e,t){this.mainModel=t.mainModel,this.listenTo(this,"change:active",this.onChangeActive)},onChangeActive:function(e,t){t&&s.each(this.models,function(t){t!==e&&t.set({active:!1})})},parse:function(e){var t=this;return s.map(e,function(e){var n=e;return n.entities=JSON.stringify(n.entities),n.selection_parameters=JSON.stringify(n.selection_parameters),n.active=n.id===t.mainModel.get("filter_id"),n})}}),d=h.extend({className:"setting-filter-search",template:"tpl-modal-add-widget-setting-filter-search",events:{"validation:success [data-js-filter-name-search]":"onChangeFilterName","click [data-js-add-filter]":"onClickAddFilter","click [data-js-submit-filter]":"onClickSubmitFilter","click [data-js-cancel-filter]":"onClickCancelFilter"},bindings:{":el":"classes: {hide: not(gadgetIsFilter)}","[data-js-search-query]":"text: search","[data-js-filter-none]":"classes: {hide: not(empty)}","[data-js-filter-empty]":"classes: { hide: not(notFound)  }","[data-js-filter-name-search]":"attr: {disabled: empty}"},bindingFilters:{filtersAvailability:function(e,t){return!e&&t?!1:!0}},initialize:function(e){this.model=e.gadgetModel,this.currentFilterId=this.model.get("filter_id"),this.modalType=e.modalType,this.firstActivate=!0,this.collection=new p([],{mainModel:this.model}),this.renderedFilterItems=[],this.viewModel=new n.Model({search:"",empty:!1,notFound:!1,currentPage:1,pageSize:10,totalPage:1}),this.render(),this.listenTo(this.viewModel,"change:search",s.debounce(this.updateFilters,500)),this.listenTo(this.collection,"add",this.onAddCollectionItems),this.listenTo(this.collection,"reset",this.onResetCollectionItems),this.listenTo(this.collection,"change:active",this.onSelectFilterCheck),this.listenTo(this.collection,"edit",this.onEditFilter)},render:function(){this.$el.html(r.templates(this.template,{})),this.applyBindings(),this.setupValidators()},setupValidators:function(){r.hintValidator(i("[data-js-filter-name-search]",this.$el),[{validator:"minMaxNotRequired",type:"filterName",min:3,max:128}])},setFilterModel:function(e){this.filterItemView&&(this.stopListening(this.filterItemView),this.filterItemView.destroy()),i("[data-js-select-filter-block]",this.$el).removeClass("error-state"),e?(i("[data-js-select-filter-block]",this.$el).removeClass("empty-state"),this.filterItemView=new f({model:e,searchTerm:this.viewModel.get("search")}),i("[data-js-select-filter-container]",this.$el).html(this.filterItemView.$el),this.listenTo(this.filterItemView,"send:event",this.sendEvent),this.selectedFilterModel=e):i("[data-js-select-filter-block]",this.$el).addClass("empty-state")},sendEvent:function(e){e.view==="filter"&&(e.action==="ok edit filter"||e.action==="ok add click")&&(this.viewModel.set("search",""),i("[data-js-filter-name-search]",this.$el).val("")),this.trigger("send:event",e)},onSelectFilterCheck:function(e,t){t&&this.onSelectFilter(e)},onSelectFilter:function(e){this.model.set({filter_id:e.get("id")});var t=this.model.getWidgetOptions();t.filterName=[e.get("name")],this.model.setWidgetOptions(t),this.setFilterModel(e),this.trigger("send:event",{view:"filter",action:"select filter"})},onClickAddFilter:function(e){var t=this;this.trigger("addFilterMode"),this.trigger("send:event",{view:"filter",action:"add filter"}),e.preventDefault(),this.$el.addClass("hide-content"),this.addFilterView&&this.stopListening(this.addFilterView)&&this.addFilterView.destroy(),this.addFilterView=new c,this.listenTo(this.addFilterView,"change:filter",this.onSelectFilter),this.listenTo(this.addFilterView,"send:event",this.sendEvent),this.listenTo(this.addFilterView,"returnToFiltersList",function(){this.trigger("returnToFiltersList")}),this.addFilterView.activate(),i("[data-js-filter-add-container]",this.$el).html(this.addFilterView.$el),this.addFilterView.getReadyState().always(function(){t.addFilterView.destroy(),t.$el.removeClass("hide-content"),t.updateFilters()})},onClickSubmitFilter:function(){this.trigger("send:event",{view:"filter",action:"submit filter"}),this.trigger("submitFilter")},onClickCancelFilter:function(){this.trigger("send:event",{view:"filter",action:"cancel filter"}),this.model.set("filter_id",this.currentFilterId),this.trigger("cancelFilter")},onEditFilter:function(e){var t=this;this.trigger("editFilterMode"),this.$el.addClass("hide-content"),this.editFilterView&&(this.stopListening(this.editFilterView),this.editFilterView.destroy()),this.editFilterView=new l({model:e}),this.listenTo(this.editFilterView,"send:event",this.sendEvent),this.listenTo(this.editFilterView,"returnToFiltersList",function(){this.trigger("returnToFiltersList")}),i("[data-js-filter-edit-container]",this.$el).html(this.editFilterView.$el),this.editFilterView.getReadyState().always(function(){t.editFilterView.destroy(),t.$el.removeClass("hide-content")})},activate:function(){var e=this;if(!this.firstActivate)return;this.firstActivate=!1,this.load().always(function(){e.baronScroll=r.setupBaronScroll(i("[data-js-filter-list-scroll]",e.$el)),r.setupBaronScrollSize(e.baronScroll,{maxHeight:330}),e.baronScroll.on("scroll",function(){var t=e.baronScroll.get(0);t.scrollHeight-t.scrollTop<t.offsetHeight*2&&e.addLoadData()})})},addLoadData:function(){this.viewModel.get("currentPage")<this.viewModel.get("totalPage")&&!this.$el.hasClass("load")&&(this.viewModel.set("currentPage",this.viewModel.get("currentPage")+1),this.load())},onChangeFilterName:function(e){var t=i(e.currentTarget).val();t&&this.trigger("send:event",{view:"filter",action:"change filter name"}),this.viewModel.set({search:t})},onAddCollectionItems:function(e){this.renderFilter(e)},onResetCollectionItems:function(){var e=this;s.each(this.renderedFilterItems,function(t){e.stopListening(t),t.destroy()}),this.renderedFilterItems=[],s.each(this.collection.models,function(e){this.renderFilter(e)},this)},renderFilter:function(e){var t=new f({model:e,searchTerm:this.viewModel.get("search")});this.listenTo(t,"send:event",this.sendEvent),i("[data-js-filter-list]",this.$el).append(t.$el),this.renderedFilterItems.push(t)},updateFilters:function(){var e=this;this.collection.destroyModels(),this.collection.reset([]),this.viewModel.set({totalPage:1,currentPage:1}),this.load().done(function(){r.setupBaronScrollSize(e.baronScroll,{maxHeight:330})})},load:function(){var e=this;return this.$el.addClass("load"),e.viewModel.set({empty:!1,notFound:!1}),u.saveFilter(this.getQueryString({search:encodeURIComponent(this.viewModel.get("search")),page:this.viewModel.get("currentPage"),size:this.viewModel.get("pageSize")})).always(function(){e.$el.removeClass("load")}).done(function(n){var r,s=e.model.getWidgetOptions();e.viewModel.set({totalPage:n.page.totalPages,currentPage:n.page.number}),n.content.length?e.viewModel.set({empty:!1,notFound:!1}):e.viewModel.get("search")?e.viewModel.set({empty:!1,notFound:!0}):e.viewModel.set({empty:!0,notFound:!1}),e.collection.add(n.content,{parse:!0}),e.model.get("filter_id")&&(e.collection.get(e.model.get("filter_id"))?(s.filterName=[e.collection.get(e.model.get("filter_id")).get("name")],e.model.setWidgetOptions(s),e.setFilterModel(e.collection.get(e.model.get("filter_id")))):(r=new t,r.ready.done(function(){var t=r.get(e.model.get("filter_id"));t&&(s.filterName=[t.get("name")],e.model.setWidgetOptions(s),e.setFilterModel(r.get(e.model.get("filter_id"))))}))),i("[data-js-select-filter-block]",e.$el)[(n.content.length?"remove":"add")+"Class"]("hide")})},getQueryString:function(e){var t,n=e;return n||(n={}),n.page||(n.page=1),n.size||(n.size=10),t="?page.sort=name&page.page="+n.page+"&page.size="+n.size,n.search&&(t+="&filter.cnt.name="+n.search),t},validate:function(e){return this.selectedFilterModel?!0:e&&e.silent?!1:(i("[data-js-select-filter-block]",this.$el).addClass("error-state"),!1)},onDestroy:function(){this.collection.destroy(!0),this.$el.remove()}});return d}),define("modals/addWidget/widgetSettings/SettingFilters/SettingFiltersView",["require","jquery","util","modals/addWidget/widgetSettings/SettingFilters/SettingSelectedFilterView","modals/addWidget/widgetSettings/SettingFilters/SettingFilterSearchView","modals/addWidget/widgetSettings/_settingView"],function(e){"use strict";var t=e("jquery"),n=e("util"),r=e("modals/addWidget/widgetSettings/SettingFilters/SettingSelectedFilterView"),i=e("modals/addWidget/widgetSettings/SettingFilters/SettingFilterSearchView"),s=e("modals/addWidget/widgetSettings/_settingView"),o=s.extend({className:"modal-add-widget-setting-filters",template:"tpl-modal-add-widget-setting-filters",events:{},initialize:function(e){this.gadgetModel=e.gadgetModel,this.isShortForm=e.options.isShortForm,this.switchable=e.options.switchable,this.render()},render:function(){this.$el.html(n.templates(this.template,{})),this.isShortForm?this.renderShortForm():this.renderBaseForm()},renderBaseForm:function(){this.settingView&&(this.stopListening(this.settingView),this.settingView.destroy()),this.settingView=new i({gadgetModel:this.gadgetModel}),t("[data-js-setting-filters-container]",this.$el).html(this.settingView.$el),this.switchable||t("[data-js-filter-list-buttons]",this.$el).hide(),this.settingView.activate(),this.listenTo(this.settingView,"cancelFilter submitFilter",this.switchToShortForm),this.listenTo(this.settingView,"send:event",this.sendEvent),this.switchable||(this.listenTo(this.settingView,"returnToFiltersList",this.hideToAddEditFilterForm),this.listenTo(this.settingView,"editFilterMode addFilterMode",this.showToAddEditFilterForm))},renderShortForm:function(){this.settingView&&(this.stopListening(this.settingView),this.settingView.destroy()),this.settingView=new r({gadgetModel:this.gadgetModel}),t("[data-js-setting-filters-container]",this.$el).html(this.settingView.$el),this.switchable||t("[data-js-filter-edit]",this.$el).hide(),this.listenTo(this.settingView,"edit",this.switchToBaseForm),this.listenTo(this.settingView,"send:event",this.sendEvent)},sendEvent:function(e){this.trigger("send:event",e)},switchToBaseForm:function(){this.trigger("showBaseViewMode",!0,"settingFilters"),this.clearSetting(),this.renderBaseForm()},switchToShortForm:function(){this.trigger("showBaseViewMode",!1),this.clearSetting(),this.renderShortForm()},showToAddEditFilterForm:function(){this.trigger("showBaseViewMode",!0,"settingFilters")},hideToAddEditFilterForm:function(){this.trigger("showBaseViewMode",!1)},clearSetting:function(){this.settingView&&this.stopListening(this.settingView)&&this.settingView.destroy(),t("[data-js-setting-filters-container]",this.$el).html("")},activate:function(){this.settingView&&this.settingView.activate&&this.settingView.activate(),this.activated=!0},validate:function(e){return this.settingView&&this.settingView.validate?e&&e.silent?this.settingView.validate({silent:!0}):this.settingView.validate():!0},onDestroy:function(){this.settingView&&this.settingView.destroy(),this.$el.remove()}});return o}),define("modals/addWidget/widgetSettings/SettingInputView",["require","util","backbone-epoxy","jquery","underscore","modals/addWidget/widgetSettings/_settingView","localization","validators","app"],function(e){"use strict";var t=e("util"),n=e("backbone-epoxy"),r=e("jquery"),i=e("underscore"),s=e("modals/addWidget/widgetSettings/_settingView"),o=e("localization"),u=e("validators"),a=e("app"),f=a.getInstance(),l={limit:{getValue:function(e,t){return e.get("itemsCount")?e.get("itemsCount"):t.model.get("def")},setValue:function(e,t){t.set("itemsCount",e)}},tagPrefix:{getValue:function(e,t){var n=e.getWidgetOptions();return n.prefix&&n.prefix.length?n.prefix[0]:""},setValue:function(e,t){var n=t.getWidgetOptions();n.prefix=[e],t.setWidgetOptions(n)}}},c=s.extend({className:"modal-add-widget-setting-input",template:"tpl-modal-add-widget-setting-input",events:{},bindings:{"[data-js-input]":"value: value, attr: {placeholder: placeholder}","[data-js-description]":"html: description, classes: {hide: not(description)}"},initialize:function(e){var t=i.extend({name:o.widgets.items,min:1,max:150,def:50,value:"",description:"",placeholder:""},e.options);t.numOnly&&this.$el.addClass("num-only"),this.model=new n.Model(t),this.gadgetModel=e.gadgetModel,this.render(),t.action&&l[t.action]&&(this.setValue=l[t.action].setValue,this.getValue=l[t.action].getValue),t.setValue&&(this.setValue=t.setValue),t.getValue&&(this.getValue=t.getValue)},render:function(){this.$el.html(t.templates(this.template,{name:this.model.get("name")}))},bindValidators:function(){this.model.get("numOnly")?t.hintValidator(r("[data-js-input]",this.$el),[{validator:"minMaxNumberRequired",type:"itemsSize",min:this.model.get("min"),max:this.model.get("max")}]):t.hintValidator(r("[data-js-input]",this.$el),[{validator:"minMaxRequired",type:"valueSize",min:this.model.get("min"),max:this.model.get("max")}])},activate:function(){this.listenTo(this.model,"change:value",this.onChangeValue),this.model.set({value:this.getValue(this.gadgetModel,this)}),this.bindValidators(),this.activated=!0},onChangeValue:function(){this.validate()&&(this.setValue(this.model.get("value"),this.gadgetModel,this),f.trackingDispatcher.trackEventNumber(299))},validate:function(e){return e&&e.silent?this.model.get("numOnly")?!u.minMaxNumberRequired(this.model.get("value").toString(),{type:"itemsSize",min:this.model.get("min"),max:this.model.get("max")},t):!u.minMaxRequired(this.model.get("value").toString(),{type:"itemsSize",min:this.model.get("min"),max:this.model.get("max")},t):!r("[data-js-input]",this.$el).trigger("validate").data("validate-error")}});return c}),define("modals/addWidget/widgetSettings/SettingStaticData",["require","underscore","modals/addWidget/widgetSettings/_settingView","backbone-epoxy"],function(e){"use strict";var t=e("underscore"),n=e("modals/addWidget/widgetSettings/_settingView"),r=e("backbone-epoxy"),i={criteria:{getValue:function(e,t){var n;return typeof t.model.get("fields")=="function"&&t.model.set("fields",t.model.get("fields")()),n=e.getContentFields(),n.length?n:t.model.get("fields")},setValue:function(e,n){n.setContentFields(t.uniq(e.concat(n.getContentFields())))}},limit:{getValue:function(e,t){return e.get("itemsCount")?e.get("itemsCount"):t.model.get("value")},setValue:function(e,t){t.set("itemsCount",e)}},metadata_fields:{getValue:function(e,t){return e.get("metadata_fields")?e.get("metadata_fields"):t.model.get("fields")},setValue:function(e,t){t.set("metadata_fields",e)}}},s=n.extend({initialize:function(e){var n=t.extend({fields:[],value:0},e.options);this.model=new r.Model(n),this.gadgetModel=e.gadgetModel,n.action&&i[n.action]&&(this.setValue=i[n.action].setValue,this.getValue=i[n.action].getValue),n.setValue&&(this.setValue=n.setValue),n.getValue&&(this.getValue=n.getValue)},activate:function(){return this.activated=!0,!0},validate:function(){return!0},onDestroy:function(){}});return s}),define("modals/addWidget/WidgetSettingsView",["require","underscore","backbone-epoxy","newWidgets/WidgetService","modals/addWidget/widgetSettings/SettingInputItemsView","modals/addWidget/widgetSettings/SettingDropDownView","modals/addWidget/widgetSettings/SettingCheckBoxView","components/SettingSwitcherView","modals/addWidget/widgetSettings/SettingCustomColumn/SettingCustomColumnsView","modals/addWidget/widgetSettings/SettingFilters/SettingFiltersView","modals/addWidget/widgetSettings/SettingInputView","modals/addWidget/widgetSettings/SettingStaticData"],function(e){"use strict";var t=e("underscore"),n=e("backbone-epoxy"),r=e("newWidgets/WidgetService"),i=e("modals/addWidget/widgetSettings/SettingInputItemsView"),s=e("modals/addWidget/widgetSettings/SettingDropDownView"),o=e("modals/addWidget/widgetSettings/SettingCheckBoxView"),u=e("components/SettingSwitcherView"),a=e("modals/addWidget/widgetSettings/SettingCustomColumn/SettingCustomColumnsView"),f=e("modals/addWidget/widgetSettings/SettingFilters/SettingFiltersView"),l=e("modals/addWidget/widgetSettings/SettingInputView"),c=e("modals/addWidget/widgetSettings/SettingStaticData"),h=n.View.extend({className:"modal-add-widget-settings-list rp-form",events:{},bindings:{},initialize:function(e){this.lastFilterId=e.lastFilterId,this.isShortForm=e.isShortForm||!1,this.renderedView=[]},activate:function(){var e=this;this.destroyViews(),this.lastFilterId&&this.model.set("filter_id",this.lastFilterId),r.getSettingsGadget(this.model.get("gadget")).done(function(n){t.each(n.uiControl,function(t){var n,r=t.options;r.isShortForm=this.isShortForm;switch(t.control){case"inputItems":n=i;break;case"dropDown":n=s;break;case"checkbox":n=o;break;case"switcher":n=u;break;case"customColumns":n=a;break;case"filters":n=f,r.switchable=e.isShortForm;break;case"input":n=l;break;case"static":n=c;break;default:}n&&e.renderSetting(n,r)},e),e.model.get("itemsCount")||e.model.set("itemsCount",50)})},renderSetting:function(e,t){var n=new e({gadgetModel:this.model,options:t});this.listenTo(n,"showBaseViewMode",this.viewModeHandler),this.listenTo(n,"send:event",this.sendEvent),this.renderedView.push(n),this.$el.append(n.$el),n.setValue(n.getValue(this.model,n),this.model),n.activate&&n.activate()},sendEvent:function(e){this.trigger("send:event",e)},viewModeHandler:function(e,t){e?(this.trigger("change:view",{mode:"expandedSettingView"}),this.$el.attr("expanded-setting",t)):(this.trigger("change:view",{mode:"allSettingsView"}),this.$el.removeAttr("expanded-setting"))},validate:function(e){var n=!0;return e&&e.forPreview?this.renderedView.length?(t.each(this.renderedView,function(e){if(!e.activated||!e.validate({silent:!0}))n=!1}),n):!1:(t.each(this.renderedView,function(e){e.validate()||(n=!1)}),n)},destroyViews:function(){t.each(this.renderedView,function(e){e.destroy()}),this.renderedView=[]},onDestroy:function(){this.destroyViews()}});return h}),define("modals/addWidget/ConfigureWidgetView",["require","backbone-epoxy","util","jquery","modals/addWidget/WidgetSettingsView"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=e("jquery"),i=e("modals/addWidget/WidgetSettingsView"),s=t.View.extend({className:"modal-add-widget-configure-widget",template:"tpl-modal-add-widget-configure-widget",initialize:function(e){this.render(),this.widgetSettingsView=new i({model:this.model,lastFilterId:e.lastFilterId}),r("[data-js-enter-criteria]",this.$el).html(this.widgetSettingsView.$el),this.listenTo(this.widgetSettingsView,"change:view",this.onChangeSettingsViewMode),this.listenTo(this.widgetSettingsView,"send:event",this.sendEvent)},activate:function(){this.widgetSettingsView.activate()},validate:function(e){return e&&e.forPreview?this.widgetSettingsView.validate({forPreview:e.forPreview}):this.widgetSettingsView.validate()},sendEvent:function(e){this.trigger("send:event",e)},render:function(){this.$el.html(n.templates(this.template,{}))},onChangeSettingsViewMode:function(e){if(e.mode==="expandedSettingView"){this.$el.addClass("expanded-setting-view-mode"),r("[data-js-cancel]",this.$el).add("[data-js-save]",this.$el).attr("disabled","disabled");return}r("[data-js-cancel]",this.$el).add("[data-js-save]",this.$el).removeAttr("disabled"),this.$el.removeClass("expanded-setting-view-mode")},onDestroy:function(){this.widgetSettingsView&&this.widgetSettingsView.destroy()}});return s}),define("dashboard/DashboardModel",["require","exports","module","jquery","backbone-epoxy","app","coreService","localization","util","model/SingletonAppModel"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone-epoxy"),s=e("app"),o=e("coreService"),u=e("localization"),a=e("util"),f=e("model/SingletonAppModel"),l=s.getInstance(),c=new f,h=i.Model.extend({defaults:{share:!1,name:"",description:null,owner:"",widgets:"[]",active:!1,notLoad:!1},computeds:{isMy:{deps:["owner"],get:function(e){return e===l.userModel.get("name")}},sharedTitle:{deps:["isMy","owner"],get:function(e,t){return e?u.dashboard.dashboardShared:u.dashboard.dashboardSharedBy+" "+t}},url:{deps:["id"],get:function(e){return"#"+c.get("projectId")+"/dashboard/"+e}}},initialize:function(){this.listenTo(this,"change:share change:description change:name",_.debounce(this.onChangeData,10)),this.listenTo(this,"change:widgets",this.onChangeWidgets)},onChangeData:function(){var e={name:this.get("name"),share:this.get("share")},t=this;this.get("description")&&(e.description=this.get("description")),o.updateDashboard(this.get("id"),e).done(function(){a.ajaxSuccessMessenger("dashboardUpdated"),t.trigger("after:update",t)}).fail(function(e){a.ajaxFailMessenger(e,"updateDashboard")})},update:function(){var e=this;return o.getProjectDashboard(this.get("id")).done(function(t){e.setWidgets(t.widgets,!0)})},addWidget:function(e){var t=this,n={widgetId:e.get("id"),widgetPosition:[e.get("x"),e.get("y")],widgetSize:[e.get("width"),e.get("height")]};return o.addWidgetToDashboard(n,this.get("id")).done(function(){t.addWidgetToFirst(n),a.ajaxSuccessMessenger("addedWidget"),t.trigger("add:widget",e)})},addWidgetToFirst:function(e){var t=this.getWidgets(),n=e.widgetSize[1];_.each(t,function(e){e.widgetPosition[1]+=n}),t.push(e),this.setWidgets(t)},onChangeWidgets:function(){o.updateDashboard(this.get("id"),{updateWidgets:this.getWidgets()}).fail(function(e){a.ajaxFailMessenger(e,"updateDashboard")})},getWidgets:function(){try{return JSON.parse(this.get("widgets"))}catch(e){return[]}},setWidgets:function(e,t){this.set({widgets:JSON.stringify(e)},{silent:t||!1})}});return h}),define("modals/modalEditDashboard",["require","jquery","underscore","modals/_modalView","backbone-epoxy","util","model/UserModel","app","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("modals/_modalView"),i=e("backbone-epoxy"),s=e("util"),o=e("model/UserModel"),u=e("app"),a=e("localization"),f=u.getInstance(),l=r.extend({template:"tpl-modal-edit-dashboard",className:"modal-edit-dashboard",bindings:{"[data-js-name-input]":"value: name","[data-js-is-shared]":"checked: share","[data-js-description]":"value: description"},events:{"click [data-js-ok]":"onClickOk","click [data-js-close]":"onClickClose","click [data-js-cancel]":"onClickCancel"},initialize:function(e){var r=e.dashboardModel,u=r.get("owner")===""?(new o).get("name"):r.get("owner"),a=n.map(e.dashboardCollection.models,function(e){if(r.get("name")!==e.get("name")&&u===e.get("owner"))return e.get("name")});this.isNew=!r.get("active")&&!r.get("name"),this.render(e),this.model=new i.Model({name:r.get("name"),share:r.get("share"),description:r.get("description")}),s.hintValidator(t("[data-js-name-input]",this.$el),[{validator:"minMaxRequired",type:"dashboardName",min:3,max:128},{validator:"noDuplications",type:"dashboardName",source:a,isCaseSensitive:!0}]),s.hintValidator(t("[data-js-description]",this.$el),{validator:"maxRequired",type:"",max:256}),this.listenTo(this.model,"change:share",this.onChangeShared),this.listenTo(this.model,"change:description",this.onChangeDescription),this.listenTo(this.model,"change:name",this.disableHideBackdrop)},render:function(e){var t=[{btnText:a.ui.cancel,btnClass:"rp-btn-cancel",label:"data-js-cancel"},{btnText:e.mode==="save"?a.ui.add:a.ui.update,btnClass:"rp-btn-submit",label:"data-js-ok"}];e.footerButtons=t,this.$el.html(s.templates(this.template,e))},onKeySuccess:function(){t("[data-js-ok]",this.$el).focus().trigger("click")},onChangeShared:function(){this.isNew?f.trackingDispatcher.trackEventNumber(268):f.trackingDispatcher.trackEventNumber(273),this.disableHideBackdrop()},onChangeDescription:function(){this.isNew?f.trackingDispatcher.trackEventNumber(267):f.trackingDispatcher.trackEventNumber(272),this.disableHideBackdrop()},onClickClose:function(){this.isNew?f.trackingDispatcher.trackEventNumber(266):f.trackingDispatcher.trackEventNumber(271)},onClickCancel:function(){this.isNew?f.trackingDispatcher.trackEventNumber(269):f.trackingDispatcher.trackEventNumber(274)},onClickOk:function(){t("[data-js-name-input]",this.$el).trigger("validate");if(t(".validate-error",this.$el).length)return;this.isNew?f.trackingDispatcher.trackEventNumber(270):f.trackingDispatcher.trackEventNumber(275),this.successClose(this.model)}});return l}),define("dashboard/DashboardCollection",["require","jquery","underscore","backbone","app","dashboard/DashboardModel","coreService","modals/modalEditDashboard","model/SingletonAppModel","util"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone"),i=e("app"),s=e("dashboard/DashboardModel"),o=e("coreService"),u=e("modals/modalEditDashboard"),a=e("model/SingletonAppModel"),f=e("util"),l=i.getInstance(),c=new a,h=r.Collection.extend({model:s,initialize:function(e){this.ready=t.Deferred(),this.defaultPath="#"+c.get("projectId")+"/dashboard",this.update(e.startId);var n=this;this.ready.done(function(){n.listenTo(n,"add",n.onAddDashboard),n.listenTo(n,"remove",n.onRemoveDashboard),n.listenTo(n,"change:active",n.onChangeActive)})},onAddDashboard:function(e){var t={name:e.get("name"),share:e.get("share"),description:e.get("description")};o.addOwnDashboard(t).done(function(t){e.set({id:t.id}),f.ajaxSuccessMessenger("dashboardAdded")}).fail(function(e){f.ajaxFailMessenger(e,"dashboardAdded")})},onRemoveDashboard:function(e){var t=this;return o.deleteDashboard(e.get("id")).done(function(){f.ajaxSuccessMessenger("dashboardDelete")}).fail(function(e){t.update(),f.ajaxFailMessenger(e,"dashboardDelete")})},update:function(e){this.reset([]);var t=this;this.getDashboards(e).done(function(n){t.getSharedDashboards(e).done(function(e){t.reset(n.concat(e)),t.ready.resolve()})})},getDashboards:function(e){var n=t.Deferred(),r=this;return o.getProjectDashboards().done(function(t){n.resolve(r.parse(t,e))}).fail(function(e){n.reject(e)}),n.promise()},getSharedDashboards:function(e){var n=t.Deferred(),r=this;return o.getSharedDashboards().done(function(t){n.resolve(r.parseShared(t.content,e))}).fail(function(e){n.reject(e)}),n.promise()},parse:function(e,t){return n.each(e,function(e){e.id===t&&(e.active=!0),e.widgets=JSON.stringify(e.widgets)}),e},parseShared:function(e,t){var r=[];return n.each(e,function(e){var n=e;e.id===t&&(n.active=!0),n.share=!0,n.id=e.id,n.notLoad=!0,r.push(e)}),r},createNewDashboard:function(){var e=this;(new u({dashboardCollection:this,dashboardModel:new s,mode:"save"})).show().done(function(t){var n=t.toJSON();n.name=n.name.trim(),n.owner=l.userModel.get("name"),e.add(n)})},onChangeActive:function(e,t){t&&n.each(this.models,function(t){e.get("id")!==t.get("id")&&t.set({active:!1})})},resetActive:function(){n.each(this.models,function(e){e.set({active:!1})}),this.trigger("reset:active")}});return h}),define("modals/addWidget/SelectDashboardItemView",["require","backbone-epoxy","util"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=t.View.extend({className:"select-dashboard-item",template:"tpl-modal-add-widget-select-dashboard-item",events:{click:"onClickItem"},bindings:{"[data-js-dashboard-item]":'attr: {"data-dashboard-id": id}, classes: {active: active}',"[data-js-dashboard-item] span":"text: name","[data-js-share-icon]":"classes: {hide: not(share)}"},initialize:function(){this.render()},render:function(){this.$el.html(n.templates(this.template,{}))},onClickItem:function(){this.model.set({active:!0})},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.remove()}});return r}),define("modals/addWidget/SelectDashboardView",["require","jquery","underscore","backbone","backbone-epoxy","util","dashboard/DashboardCollection","dashboard/DashboardModel","modals/addWidget/SelectDashboardItemView","localization","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone"),i=e("backbone-epoxy"),s=e("util"),o=e("dashboard/DashboardCollection"),u=e("dashboard/DashboardModel"),a=e("modals/addWidget/SelectDashboardItemView"),f=e("localization"),l=e("app"),c=l.getInstance(),h=i.View.extend({className:"modal-add-widget-select-dashboard",template:"tpl-modal-add-widget-select-dashboard",initialize:function(){this.render()},render:function(){var e=this;this.destroyItems(),this.$el.html(s.templates(this.template,{})),this.$el.addClass("load"),this.collection=new r.Collection,this.allDashboardCollection=new o({}),this.allDashboardCollection.ready.done(function(){e.$el.removeClass("load"),e.collection.reset(e.allDashboardCollection.where({owner:c.userModel.get("name")})),e.activate()}),this.listenTo(this.collection,"change:active",this.onChangeActive)},activate:function(){var e;t("[data-js-dashboard-items]",this.$el).removeClass("hide");if(this.collection.isEmpty()){var n=new u({id:"temp",name:f.dashboard.firstDashboard,owner:c.userModel.get("name")});this.collection.add(n),t("[data-js-auto-created]",this.$el).removeClass("hide")}e=this.collection.first(),e.set("active",!0),this.renderItems()},renderItems:function(){this.destroyItems(),n.each(this.collection.models,function(e){var n=new a({model:e});t("[data-js-dashboard-items]",this.$el).append(n.$el),this.renderedItems.push(n)},this)},destroyItems:function(){n.each(this.renderedItems,function(e){e&&e.destroy()}),this.renderedItems=[],t("[data-js-dashboard-items]",this.$el).empty()},onChangeActive:function(e){e.get("active")&&this.trigger("change::dashboard",e)},onDestroy:function(){this.destroyItems(),this.$el.remove()}});return h}),define("modals/addWidget/SaveWidgetView",["require","backbone-epoxy","util","jquery","modals/addWidget/SelectDashboardView","localization","app"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=e("jquery"),i=e("modals/addWidget/SelectDashboardView"),s=e("localization"),o=e("app"),u=o.getInstance(),a=t.View.extend({className:"modal-add-widget-save-widget",template:"tpl-modal-add-widget-save-widget",bindings:{"[data-js-name-input]":"value: name","[data-js-description]":"value: description","[data-js-is-shared]":"checked: share"},initialize:function(e){this.dashboardModel=e.dashboardModel,this.isNoDashboard=e.isNoDashboard,this.render(),this.listenTo(this.model,"change:name",this.onChangeName),this.listenTo(this.model,"change:description",this.onChangeDescription),this.listenTo(this.model,"change:share",this.onChangeShared)},onChangeDashboard:function(e){this.dashboardModel=e,this.updateSharedSwitcher(),this.trigger("change::dashboard",this.dashboardModel)},isSharedDashboard:function(){return this.dashboardModel&&this.dashboardModel.get("share")},onChangeDescription:function(){this.dashboardModel?u.trackingDispatcher.trackEventNumber(323):u.trackingDispatcher.trackEventNumber(312)},onChangeShared:function(){this.dashboardModel?u.trackingDispatcher.trackEventNumber(324):u.trackingDispatcher.trackEventNumber(313)},onChangeName:function(){this.validate()&&u.trackingDispatcher.trackEventNumber(322)},updateSharedSwitcher:function(){this.dashboardModel&&(this.isSharedDashboard()?(this.model.set("share",!0),r("[data-js-is-shared]",this.$el).prop("disabled",!0),r("[data-js-shared-control]",this.$el).addClass("disabled").attr("title",s.wizard.widgetOnSharedDashboard)):(this.model.set("share",!1),r("[data-js-is-shared]",this.$el).prop("disabled",!1),r("[data-js-shared-control]",this.$el).removeClass("disabled").attr("title","")))},validate:function(){return this.isNoDashboard?!r("[data-js-name-input]",this.$el).trigger("validate").data("validate-error")&&this.dashboardModel:!r("[data-js-name-input]",this.$el).trigger("validate").data("validate-error")},activate:function(){n.hintValidator(r("[data-js-name-input]",this.$el),[{validator:"minMaxRequired",type:"widgetName",min:3,max:128},{validator:"noDuplications",type:"widgetName",source:[]}]),n.hintValidator(r("[data-js-description]",this.$el),{validator:"maxRequired",type:"",max:256}),this.updateSharedSwitcher(),this.isNoDashboard&&(this.selectDashboard||(this.selectDashboard=new i,r("[data-js-dashboards-list]",this.$el).removeClass("hide").append(this.selectDashboard.$el),this.listenTo(this.selectDashboard,"change::dashboard",this.onChangeDashboard)))},render:function(){var e=this;this.$el.html(n.templates(this.template,{})),r("[data-js-name-input]",this.$el).on("keydown.modal",function(t){t.keyCode===13&&(t.preventDefault(),r("[data-js-name-input]",e.$el).blur(),e.$el.focus())})},onDestroy:function(){r("[data-js-name-input]",this.$el).off("keydown.modal"),this.selectDashboard&&this.selectDashboard.destroy()}});return a}),define("dashboard/GadgetModel",["require","backbone-epoxy","app","coreService","localization","newWidgets/WidgetService"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("app"),r=e("coreService"),i=e("localization"),s=e("newWidgets/WidgetService"),o=n.getInstance(),u=t.Model.extend({defaults:{id:"",width:o.defaultWidgetWidth,height:o.defaultWidgetHeight,x:0,y:0,name:"",description:"",gadget:"",owner:"",share:!1,filter_id:"",itemsCount:0,widgetDescription:"",widgetOptions:"{}",content_fields:"[]"},computeds:{gadgetName:{deps:["gadget"],get:function(e){return e?s.getWidgetConfig(e)?s.getWidgetConfig(e).gadget_name:"":""}},gadgetDescription:{deps:["gadget"],get:function(e){return e?s.getWidgetConfig(e)?s.getWidgetConfig(e).description.escapeScript():"":""}},gadgetPreviewImg:{deps:["gadget"],get:function(e){return e?s.getWidgetConfig(e)?"img/widgets/"+s.getWidgetConfig(e).img:"":"img/widgets/"+s.getDefaultWidgetImg()}},gadgetIsFilter:{deps:["gadget"],get:function(e){return e?s.getWidgetConfig(e)?!s.getWidgetConfig(e).noFilters:!1:!1}},gadgetIsFilterFill:{deps:["gadget","gadgetIsFilter","filter_id"],get:function(e,t,n){return t?!!n:!0}},isMy:{deps:["owner"],get:function(e){return e===o.userModel.get("name")}},isMyDashboard:function(){return this.collection?this.collection.dashboardModel.get("isMy"):!0},sharedTitle:{deps:["isMy","owner"],get:function(e,t){return e?"":i.widgets.widgetCreatedBy+" "+t}},isTimeline:{deps:["widgetOptions"],get:function(e){var t=this.getWidgetOptions();return t.timeline&&t.timeline.length?!0:!1}},specialModeText:{deps:["widgetOptions"],get:function(){var e=this.getWidgetOptions();if(e.viewMode&&e.viewMode.length)switch(e.viewMode[0]){case"donut":return i.widgets.donutChartMode;case"panel":return i.widgets.panelMode;case"barMode":return i.widgets.barMode;case"tableMode":return i.widgets.tableMode;case"pieChartMode":return i.widgets.pieChartMode;case"areaChartMode":return i.widgets.areaChartMode;default:}return e.timeline&&e.timeline.length?i.widgets.timelineModeTitle:e.chartMode?e.chartMode.length?i.widgets[e.chartMode[0]]:i.widgets.chartMode:""}},specialMode:{deps:["specialModeText"],get:function(e){return!!e}}},initialize:function(){},update:function(){var e=this;return r.loadDashboardWidget(this.get("id")).done(function(t){e.parseData(t)})},getWidgetOptions:function(){try{return JSON.parse(this.get("widgetOptions"))}catch(e){return{}}},setWidgetOptions:function(e){this.set({widgetOptions:JSON.stringify(e)})},getContentFields:function(){try{return JSON.parse(this.get("content_fields"))}catch(e){return[]}},setContentFields:function(e){this.set({content_fields:JSON.stringify(e)})},parseData:function(e){var t={name:e.name,description:e.description,owner:e.owner,share:e.share,gadget:e.content_parameters&&e.content_parameters.gadget,widgetData:e,widgetOptions:"{}",filter_id:e.filter_id};e.content_parameters&&(e.content_parameters.content_fields&&(t.content_fields=JSON.stringify(e.content_parameters.content_fields)),e.content_parameters.itemsCount&&(t.itemsCount=e.content_parameters.itemsCount),e.content_parameters.widgetOptions&&(t.widgetOptions=JSON.stringify(e.content_parameters.widgetOptions))),this.set(t)}});return u}),define("newWidgets/WidgetModel",["require","exports","module","backbone-epoxy"],function(e,t,n){"use strict";var r=e("backbone-epoxy"),i=r.Model.extend({defaults:{content:{},content_parameters:{},filter_id:"",share:!1,name:"",owner:"",interval:3},computeds:{isTimeline:{deps:["content_parameters"],get:function(e){var t=this.getWidgetOptions();return t.timeline&&t.timeline.length?!0:!1}},gadget:{deps:["content_parameters"],get:function(e){return this.getParameters().gadget}}},initialize:function(){},getContent:function(){try{return JSON.parse(this.get("content"))}catch(e){return[]}},setContent:function(e){this.set({content:JSON.stringify(e)})},getParameters:function(){try{return JSON.parse(this.get("content_parameters"))}catch(e){return{}}},setParameters:function(e){this.set({content_parameters:JSON.stringify(e)})},getContentFields:function(){return this.getParameters().content_fields||[]},setContentFields:function(e){var t=this.getParameters();t.content_fields=e,this.setParameters(t)},getWidgetOptions:function(){return this.getParameters().widgetOptions||{}},parse:function(e){return{id:e.id,content:JSON.stringify(e.content),content_parameters:JSON.stringify(e.content_parameters),filter_id:e.filter_id,share:e.share,name:e.name,owner:e.owner,interval:e.interval||3}}});return i}),define("newWidgets/WidgetView",["require","backbone-epoxy","newWidgets/WidgetService"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("newWidgets/WidgetService"),r=t.View.extend({className:"widget-view",initialize:function(e){this.gadgetSize=e.gadgetSize,this.hiddenItems=e.hiddenItems,this.render(e)},render:function(e){var t=this.model.get("gadget"),r=n.getWidgetView(t);if(r){var i={model:this.model,isPreview:e&&e.preview||!1,hiddenItems:this.hiddenItems};this.widget&&this.widget.destroy(),this.widget=new r(i),this.$el.append(this.widget.$el)}},onShow:function(){this.widget&&(this.widget.isPreview||this.widget.addSizeClasses(this.gadgetSize),this.widget.onShow())},resize:function(e){this.widget&&this.widget.updateSizeClasses(e)},onDestroy:function(){this.widget&&this.widget.destroy(),this.$el.remove()}});return r}),define("newWidgets/PreviewWidgetView",["require","backbone-epoxy","underscore","util","coreService","dashboard/GadgetModel","newWidgets/WidgetModel","newWidgets/WidgetView","newWidgets/WidgetService"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("underscore"),r=e("util"),i=e("coreService"),s=e("dashboard/GadgetModel"),o=e("newWidgets/WidgetModel"),u=e("newWidgets/WidgetView"),a=e("newWidgets/WidgetService"),f=t.View.extend({className:"preview-widget-view",initialize:function(e){var t=this,n,f,l;e.sharedWidgetModel&&(this.model=new s({gadget:e.sharedWidgetModel.get("gadget")})),n=this.model.get("gadget");if(!a.getWidgetConfig(n).hasPreview||(!e.validateForPreview||!e.validateForPreview())&&!e.sharedWidgetModel)return this.$el.css("background-image","url("+this.model.get("gadgetPreviewImg")+")"),!0;this.$el.html('<div class="preloader" style="display: block; padding-top: 50px;"><i class="material-icons loader-animation">refresh</i></div>'),e.sharedWidgetModel?i.getSharedWidgetData(e.sharedWidgetModel.get("id")).done(function(e){t.model.parseData(e),t.widgetView&&t.widgetView.destroy(),t.widgetView=new u({model:new o(t.model.get("widgetData"),{parse:!0}),preview:!0}),t.$el.html(t.widgetView.$el),t.widgetView.onShow()}).fail(function(e){r.ajaxFailMessenger(e,"sharedWidgetData")}):(f=a.getWidgetConfig(this.model.get("gadget")),l={content_parameters:{content_fields:this.model.getContentFields(),gadget:this.model.get("gadget"),itemsCount:this.model.get("itemsCount"),metadata_fields:this.model.get("metadata_fields"),type:f.widget_type,widgetOptions:this.model.getWidgetOptions()},filter_id:this.model.get("filter_id")},this.request&&this.request.abort(),this.request=i.getWidgetPreviewData(l).done(function(e){t.renderWidgetPreview(e)}))},getContentParameters:function(){var e={gadget:this.model.get("gadget"),itemsCount:this.model.get("itemsCount"),widgetOptions:this.model.getWidgetOptions(),content_fields:this.model.getContentFields()};return e},renderWidgetPreview:function(e){var t=new o({id:n.uniqueId("preview-"),content_parameters:this.getContentParameters(),content:e},{parse:!0}),r;this.widget&&this.widget.destroy(),this.$el.html(""),r=a.getWidgetView(this.model.get("gadget")),this.widget=new r({model:t,isPreview:!0}),this.$el.append(this.widget.$el),this.widget.onShow()},destroy:function(){this.request&&this.request.abort(),this.widget&&this.widget.destroy(),this.$el.remove()}});return f}),define("modals/addWidget/modalAddWidget",["require","backbone-epoxy","modals/_modalView","util","jquery","underscore","newWidgets/WidgetService","modals/addWidget/SelectWidgetView","modals/addWidget/ConfigureWidgetView","modals/addWidget/SaveWidgetView","newWidgets/PreviewWidgetView","dashboard/DashboardCollection","coreService","dataUrlResolver","dashboard/GadgetModel","app"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("modals/_modalView"),r=e("util"),i=e("jquery"),s=e("underscore"),o=e("newWidgets/WidgetService"),u=e("modals/addWidget/SelectWidgetView"),a=e("modals/addWidget/ConfigureWidgetView"),f=e("modals/addWidget/SaveWidgetView"),l=e("newWidgets/PreviewWidgetView"),c=e("dashboard/DashboardCollection"),h=e("coreService"),p=e("dataUrlResolver"),d=e("dashboard/GadgetModel"),v=e("app"),m=v.getInstance(),g=n.extend({template:"tpl-modal-add-widget",className:"modal-add-widget",events:{"click [data-js-previous-first-step]":"onClickFirstStep","click [data-js-next-second-step]":"onClickSecondStep","click [data-js-next-last-step]":"onClickLastStep","click [data-js-previous-second-step]":"onClickSecondStep","click [data-js-add-widget]":"onClickAddWidget","click [data-js-close]":"onClickClose","change [data-js-step-1]":"disableHideBackdrop","change [data-js-step-2]":"disableHideBackdrop","change [data-js-step-3]":"disableHideBackdrop","click [data-js-dashboard-item]":"disableHideBackdrop"},bindings:{"[data-js-widget-type]":"html: gadgetName","[data-js-widget-description]":"html: gadgetDescription"},initialize:function(e){this.model=new d({gadget:"",owner:m.userModel.get("name")}),this.lastFilterId=e.filter_id,this.dashboardModel=e.dashboardModel,this.isNoDashboard=e.isNoDashboard,this.viewModel=new(t.Model.extend({defaults:{step:1}})),this.render(),this.selectWidgetView=new u({model:this.model}),i("[data-js-step-1]",this.$el).html(this.selectWidgetView.$el),this.saveWidget=new f({model:this.model,dashboardModel:this.dashboardModel,isNoDashboard:this.isNoDashboard}),i("[data-js-step-3]",this.$el).html(this.saveWidget.$el),this.listenTo(this.viewModel,"change:step",this.setState),this.listenTo(this.saveWidget,"change::dashboard",this.onChangeDashboard),this.setState(),this.listenTo(this.model,"change:gadget",this.onChangeGadgetType),this.listenTo(this.model,"change:gadget change:widgetOptions change:content_fields change:filter_id change:itemsCount",s.debounce(this.onChangePreview,10))},onChangeGadgetType:function(){this.renderConfigureWidget()},renderConfigureWidget:function(){this.configureWidgetView&&(this.stopListening(this.configureWidgetView),this.configureWidgetView.destroy()),this.configureWidgetView=new a({model:this.model,lastFilterId:this.lastFilterId}),i("[data-js-step-2]",this.$el).html(this.configureWidgetView.$el),this.listenTo(this.configureWidgetView,"send:event",this.sendEvent)},onClickClose:function(){m.trackingDispatcher.trackEventNumber(290)},sendEvent:function(e){switch(e.view){case"filter":switch(e.action){case"add filter":m.trackingDispatcher.trackEventNumber(295),i("[data-js-previous-first-step],[data-js-next-last-step]",this.$el).attr("disabled",!0);break;case"submit filter":m.trackingDispatcher.trackEventNumber(331);break;case"cancel filter":m.trackingDispatcher.trackEventNumber(330);break;case"change filter name":m.trackingDispatcher.trackEventNumber(294);break;case"edit filter item":m.trackingDispatcher.trackEventNumber(298),i("[data-js-previous-first-step],[data-js-next-last-step]",this.$el).attr("disabled",!0);break;case"select filter item":m.trackingDispatcher.trackEventNumber(297);break;case"select filter":break;case"entity choice click":m.trackingDispatcher.trackEventNumber(302);break;case"sorting list click":m.trackingDispatcher.trackEventNumber(303);break;case"cancel add click":m.trackingDispatcher.trackEventNumber(304),i("[data-js-previous-first-step],[data-js-next-last-step]",this.$el).attr("disabled",!1);break;case"ok add click":m.trackingDispatcher.trackEventNumber(305),i("[data-js-previous-first-step],[data-js-next-last-step]",this.$el).attr("disabled",!1);break;case"edit entity":m.trackingDispatcher.trackEventNumber(307);break;case"edit entity choice click":m.trackingDispatcher.trackEventNumber(308);break;case"edit entity sorting list click":m.trackingDispatcher.trackEventNumber(309);break;case"cancel edit filter":m.trackingDispatcher.trackEventNumber(310),i("[data-js-previous-first-step],[data-js-next-last-step]",this.$el).attr("disabled",!1);break;case"ok edit filter":m.trackingDispatcher.trackEventNumber(311),i("[data-js-previous-first-step],[data-js-next-last-step]",this.$el).attr("disabled",!1)}}},onChangePreview:function(e){this.previewWidgetView&&this.previewWidgetView.destroy(),this.previewWidgetView=new l({model:this.model,validateForPreview:this.validateForPreview.bind(this)}),i("[data-js-widget-preview]",this.$el).html(this.previewWidgetView.$el)},render:function(){this.$el.html(r.templates(this.template,{}))},setState:function(){i("[data-js-step-1-title], [data-js-step-2-title], [data-js-step-3-title]",this.$el).removeClass("active visited"),i("[data-js-step-1], [data-js-step-2], [data-js-step-3]",this.$el).removeClass("active"),i("[data-js-next-second-step], [data-js-previous-first-step],[data-js-next-last-step], [data-js-previous-second-step],[data-js-add-widget]",this.$el).addClass("hide");switch(this.viewModel.get("step")){case 1:i("[data-js-step-1-title], [data-js-step-1]",this.$el).addClass("active"),i("[data-js-next-second-step]",this.$el).removeClass("hide");break;case 2:i("[data-js-step-1-title]",this.$el).addClass("visited"),i("[data-js-step-2-title], [data-js-step-2]",this.$el).addClass("active"),i("[data-js-previous-first-step],[data-js-next-last-step]",this.$el).removeClass("hide"),this.configureWidgetView.activate(),this.lastFilterId="";break;case 3:i("[data-js-step-1-title], [data-js-step-2-title]",this.$el).addClass("visited"),i("[data-js-step-3-title], [data-js-step-3]",this.$el).addClass("active"),i("[data-js-previous-second-step],[data-js-add-widget]",this.$el).removeClass("hide"),this.saveWidget.activate();break;default:}},onClickFirstStep:function(){m.trackingDispatcher.trackEventNumber(301),this.viewModel.set("step",1)},onClickSecondStep:function(){if(!this.selectWidgetView.validate())return;m.trackingDispatcher.trackEventNumber(292),this.viewModel.set("step",2)},onClickLastStep:function(){this.configureWidgetView.validate()&&this.viewModel.set("step",3)},onChangeDashboard:function(e){this.dashboardModel=e},onKeySuccess:function(){switch(this.viewModel.get("step")){case 1:i("[data-js-next-second-step]:not(.hide)",this.$el).focus().trigger("click");break;case 2:i("[data-js-next-last-step]:not(.hide)",this.$el).length&&i("[data-js-next-last-step]:not(.hide)",this.$el).focus().trigger("click");break;case 3:i("[data-js-add-widget]:not(.hide)",this.$el).focus().trigger("click");break;default:}},validateForPreview:function(){return this.configureWidgetView.validate({forPreview:!0})},checkNewDashboard:function(){var e=i.Deferred(),t;return this.dashboardModel.get("id")!=="temp"?e.resolve():(t=new c({startId:0}),t.ready.resolve(),t.add(this.dashboardModel),this.listenToOnce(this.dashboardModel,"change:id",function(){e.resolve()})),e},onClickAddWidget:function(){var e=this,t={},n={},i=o.getWidgetConfig(this.model.get("gadget"));this.saveWidget.validate()&&(m.trackingDispatcher.trackEventNumber(314),this.$el.addClass("load"),t.type=i.widget_type,t.gadget=this.model.get("gadget"),t.metadata_fields=this.model.get("metadata_fields"),t.itemsCount=i.itemsCount||this.model.get("itemsCount"),this.model.getContentFields().length&&(t.content_fields=this.model.getContentFields()),t.widgetOptions=this.model.getWidgetOptions(),n={filter_id:this.model.get("filter_id"),name:this.model.get("name").trim(),share:this.model.get("share"),content_parameters:t},this.model.get("description")&&(n.description=this.model.get("description")),this.checkNewDashboard().done(function(){h.saveWidget(n).done(function(t){e.model.set({id:t.id}),e.dashboardModel.addWidget(e.model).done(function(){e.isNoDashboard&&m.router.navigate(p.redirectToDashboard(e.dashboardModel.get("id")),{trigger:!0})}),e.successClose(t.id)}).fail(function(e){r.ajaxFailMessenger(e,"widgetSave")})}))},onDestroy:function(){this.selectWidgetView&&this.selectWidgetView.destroy(),this.configureWidgetView&&this.configureWidgetView.destroy(),this.saveWidget&&this.saveWidget.destroy()}});return g}),function(e){typeof define=="function"&&define.amd?define("dropzone",["jquery"],e):e(jQuery)}(function(e){var t={exports:{}};return function(){var n,r,i,s,o,u,a,f,l,c=[].slice,h=function(e,t){function r(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},p={}.hasOwnProperty;f=function(){},r=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,n,r,i,s;r=arguments[0],e=2<=arguments.length?c.call(arguments,1):[],this._callbacks=this._callbacks||{},n=this._callbacks[r];if(n)for(i=0,s=n.length;i<s;i++)t=n[i],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var n,r,i,s,o;if(!this._callbacks||arguments.length===0)return this._callbacks={},this;r=this._callbacks[e];if(!r)return this;if(arguments.length===1)return delete this._callbacks[e],this;for(i=s=0,o=r.length;s<o;i=++s){n=r[i];if(n===t){r.splice(i,1);break}}return this},e}(),n=function(e){function s(e,n){var r,i,o;this.element=e,this.version=s.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element));if(!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");s.instances.push(this),this.element.dropzone=this,r=(o=s.optionsForElement(this.element))!=null?o:{},this.options=t({},this.defaultOptions,r,n!=null?n:{});if(this.options.forceFallback||!s.isBrowserSupported())return this.options.fallback.call(this);this.options.url==null&&(this.options.url=this.element.getAttribute("action"));if(!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=function(e){return function(t){return e.options.renameFilename.call(e,t.name,t)}}(this)),this.options.method=this.options.method.toUpperCase(),(i=this.getExistingFallback())&&i.parentNode&&i.parentNode.removeChild(i),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=s.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=s.getElements(this.options.clickable,"clickable")),this.init()}var t,n;return h(s,e),s.prototype.Emitter=r,s.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],s.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,params:{},headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){return f},accept:function(e,t){return t()},fallback:function(){var e,t,n,r,i,o;this.element.className=this.element.className+" dz-browser-not-supported",i=this.element.getElementsByTagName("div");for(t=0,n=i.length;t<n;t++){e=i[t];if(/(^| )dz-message($| )/.test(e.className)){r=e,e.className="dz-message";continue}}return r||(r=s.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(r)),o=r.getElementsByTagName("span")[0],o&&(o.textContent!=null?o.textContent=this.options.dictFallbackMessage:o.innerText!=null&&(o.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,r){var i,s,o;i={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},s=e.width/e.height,t==null&&n==null?(t=i.srcWidth,n=i.srcHeight):t==null?t=n*s:n==null&&(n=t/s),t=Math.min(t,i.srcWidth),n=Math.min(n,i.srcHeight),o=t/n;if(i.srcWidth>t||i.srcHeight>n)if(r==="crop")s>o?(i.srcHeight=e.height,i.srcWidth=i.srcHeight*o):(i.srcWidth=e.width,i.srcHeight=i.srcWidth/o);else{if(r!=="contain")throw new Error("Unknown resizeMethod '"+r+"'");s>o?n=t/s:t=n*s}return i.srcX=(e.width-i.srcWidth)/2,i.srcY=(e.height-i.srcHeight)/2,i.trgWidth=t,i.trgHeight=n,i},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:f,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:f,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,n,r,i,o,u,a,f,l,c,h,p,d;this.element===this.previewsContainer&&this.element.classList.add("dz-started");if(this.previewsContainer){e.previewElement=s.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),f=e.previewElement.querySelectorAll("[data-dz-name]");for(t=0,i=f.length;t<i;t++)a=f[t],a.textContent=e.name;l=e.previewElement.querySelectorAll("[data-dz-size]");for(n=0,o=l.length;n<o;n++)a=l[n],a.innerHTML=this.filesize(e.size);this.options.addRemoveLinks&&(e._removeLink=s.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),h=function(t){return function(n){return n.preventDefault(),n.stopPropagation(),e.status===s.UPLOADING?s.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(e)}):t.options.dictRemoveFileConfirmation?s.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(e)}):t.removeFile(e)}}(this),c=e.previewElement.querySelectorAll("[data-dz-remove]"),d=[];for(r=0,u=c.length;r<u;r++)p=c[r],d.push(p.addEventListener("click",h));return d}},removedfile:function(e){var t;return e.previewElement&&(t=e.previewElement)!=null&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var n,r,i,s;if(e.previewElement){e.previewElement.classList.remove("dz-file-preview"),i=e.previewElement.querySelectorAll("[data-dz-thumbnail]");for(n=0,r=i.length;n<r;n++)s=i[n],s.alt=e.name,s.src=t;return setTimeout(function(t){return function(){return e.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(e,t){var n,r,i,s,o;if(e.previewElement){e.previewElement.classList.add("dz-error"),typeof t!="String"&&t.error&&(t=t.error),s=e.previewElement.querySelectorAll("[data-dz-errormessage]"),o=[];for(n=0,r=s.length;n<r;n++)i=s[n],o.push(i.textContent=t);return o}},errormultiple:f,processing:function(e){if(e.previewElement){e.previewElement.classList.add("dz-processing");if(e._removeLink)return e._removeLink.textContent=this.options.dictCancelUpload}},processingmultiple:f,uploadprogress:function(e,t,n){var r,i,s,o,u;if(e.previewElement){o=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),u=[];for(r=0,i=o.length;r<i;r++)s=o[r],s.nodeName==="PROGRESS"?u.push(s.value=t):u.push(s.style.width=t+"%");return u}},totaluploadprogress:f,sending:f,sendingmultiple:f,success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:f,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:f,complete:function(e){e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile);if(e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:f,maxfilesexceeded:f,maxfilesreached:f,queuecomplete:f,addedfiles:f},t=function(){var e,t,n,r,i,s,o;s=arguments[0],i=2<=arguments.length?c.call(arguments,1):[];for(e=0,n=i.length;e<n;e++){r=i[e];for(t in r)o=r[t],s[t]=o}return s},s.prototype.getAcceptedFiles=function(){var e,t,n,r,i;r=this.files,i=[];for(t=0,n=r.length;t<n;t++)e=r[t],e.accepted&&i.push(e);return i},s.prototype.getRejectedFiles=function(){var e,t,n,r,i;r=this.files,i=[];for(t=0,n=r.length;t<n;t++)e=r[t],e.accepted||i.push(e);return i},s.prototype.getFilesWithStatus=function(e){var t,n,r,i,s;i=this.files,s=[];for(n=0,r=i.length;n<r;n++)t=i[n],t.status===e&&s.push(t);return s},s.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(s.QUEUED)},s.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(s.UPLOADING)},s.prototype.getAddedFiles=function(){return this.getFilesWithStatus(s.ADDED)},s.prototype.getActiveFiles=function(){var e,t,n,r,i;r=this.files,i=[];for(t=0,n=r.length;t<n;t++)e=r[t],(e.status===s.UPLOADING||e.status===s.QUEUED)&&i.push(e);return i},s.prototype.init=function(){var e,t,n,r,i,o,u;this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(s.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(u=function(e){return function(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(e.options.maxFiles==null||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",e.options.acceptedFiles!=null&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),e.options.capture!=null&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,n,r,i;n=e.hiddenFileInput.files;if(n.length)for(r=0,i=n.length;r<i;r++)t=n[r],e.addFile(t);return e.emit("addedfiles",n),u()})}}(this),u()),this.URL=(i=window.URL)!=null?i:window.webkitURL,o=this.events;for(t=0,n=o.length;t<n;t++)e=o[t],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){if(e.getAddedFiles().length===0&&e.getUploadingFiles().length===0&&e.getQueuedFiles().length===0)return setTimeout(function(){return e.emit("queuecomplete")},0)}}(this)),r=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(t){return r(t),e.emit("dragenter",t)}}(this),dragover:function(e){return function(t){var n;try{n=t.dataTransfer.effectAllowed}catch(i){}return t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",r(t),e.emit("dragover",t)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(t){return r(t),e.drop(t)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(n){return(t!==e.element||n.target===e.element||s.elementInside(n.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},s.prototype.destroy=function(){var e;this.disable(),this.removeAllFiles(!0);if((e=this.hiddenFileInput)!=null?e.parentNode:void 0)this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null;return delete this.element.dropzone,s.instances.splice(s.instances.indexOf(this),1)},s.prototype.updateTotalUploadProgress=function(){var e,t,n,r,i,s,o,u;o=0,s=0,e=this.getActiveFiles();if(e.length){i=this.getActiveFiles();for(n=0,r=i.length;n<r;n++)t=i[n],o+=t.upload.bytesSent,s+=t.upload.total;u=100*o/s}else u=100;return this.emit("totaluploadprogress",u,s,o)},s.prototype._getParamName=function(e){return typeof this.options.paramName=="function"?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},s.prototype._renameFile=function(e){return typeof this.options.renameFile!="function"?e.name:this.options.renameFile(e)},s.prototype.getFallbackForm=function(){var e,t,n,r;return(e=this.getExistingFallback())?e:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=s.createElement(n),this.element.tagName!=="FORM"?(r=s.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),r.appendChild(t)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),r!=null?r:t)},s.prototype.getExistingFallback=function(){var e,t,n,r,i,s;t=function(e){var t,n,r;for(n=0,r=e.length;n<r;n++){t=e[n];if(/(^| )fallback($| )/.test(t.className))return t}},i=["div","form"];for(n=0,r=i.length;n<r;n++){s=i[n];if(e=t(this.element.getElementsByTagName(s)))return e}},s.prototype.setupEventListeners=function(){var e,t,n,r,i,s,o;s=this.listeners,o=[];for(n=0,r=s.length;n<r;n++)e=s[n],o.push(function(){var n,r;n=e.events,r=[];for(t in n)i=n[t],r.push(e.element.addEventListener(t,i,!1));return r}());return o},s.prototype.removeEventListeners=function(){var e,t,n,r,i,s,o;s=this.listeners,o=[];for(n=0,r=s.length;n<r;n++)e=s[n],o.push(function(){var n,r;n=e.events,r=[];for(t in n)i=n[t],r.push(e.element.removeEventListener(t,i,!1));return r}());return o},s.prototype.disable=function(){var e,t,n,r,i;this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),r=this.files,i=[];for(t=0,n=r.length;t<n;t++)e=r[t],i.push(this.cancelUpload(e));return i},s.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},s.prototype.filesize=function(e){var t,n,r,i,s,o,u,a;s=0,o="b";if(e>0){a=["tb","gb","mb","kb","b"];for(n=r=0,i=a.length;r<i;n=++r){u=a[n],t=Math.pow(this.options.filesizeBase,4-n)/10;if(e>=t){s=e/Math.pow(this.options.filesizeBase,4-n),o=u;break}}s=Math.round(10*s)/10}return"<strong>"+s+"</strong> "+this.options.dictFileSizeUnits[o]},s.prototype._updateMaxFilesReachedClass=function(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},s.prototype.drop=function(e){var t,n;if(!e.dataTransfer)return;this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&(n=e.dataTransfer.items,n&&n.length&&n[0].webkitGetAsEntry!=null?this._addFilesFromItems(n):this.handleFiles(t))},s.prototype.paste=function(e){var t,n;if((e!=null?(n=e.clipboardData)!=null?n.items:void 0:void 0)==null)return;this.emit("paste",e),t=e.clipboardData.items;if(t.length)return this._addFilesFromItems(t)},s.prototype.handleFiles=function(e){var t,n,r,i;i=[];for(n=0,r=e.length;n<r;n++)t=e[n],i.push(this.addFile(t));return i},s.prototype._addFilesFromItems=function(e){var t,n,r,i,s;s=[];for(r=0,i=e.length;r<i;r++)n=e[r],n.webkitGetAsEntry!=null&&(t=n.webkitGetAsEntry())?t.isFile?s.push(this.addFile(n.getAsFile())):t.isDirectory?s.push(this._addFilesFromDirectory(t,t.name)):s.push(void 0):n.getAsFile!=null?n.kind==null||n.kind==="file"?s.push(this.addFile(n.getAsFile())):s.push(void 0):s.push(void 0);return s},s.prototype._addFilesFromDirectory=function(e,t){var n,r,i;return n=e.createReader(),r=function(e){return typeof console!="undefined"&&console!==null?typeof console.log=="function"?console.log(e):void 0:void 0},i=function(e){return function(){return n.readEntries(function(n){var r,s,o;if(n.length>0){for(s=0,o=n.length;s<o;s++)r=n[s],r.isFile?r.file(function(n){if(e.options.ignoreHiddenFiles&&n.name.substring(0,1)===".")return;return n.fullPath=t+"/"+n.name,e.addFile(n)}):r.isDirectory&&e._addFilesFromDirectory(r,t+"/"+r.name);i()}return null},r)}}(this),i()},s.prototype.accept=function(e,t){return e.size>this.options.maxFilesize*1024*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):s.isValidFile(e,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},s.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=s.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(n){return n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}}(this))},s.prototype.enqueueFiles=function(e){var t,n,r;for(n=0,r=e.length;n<r;n++)t=e[n],this.enqueueFile(t);return null},s.prototype.enqueueFile=function(e){if(e.status!==s.ADDED||e.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");e.status=s.QUEUED;if(this.options.autoProcessQueue)return setTimeout(function(e){return function(){return e.processQueue()}}(this),0)},s.prototype._thumbnailQueue=[],s.prototype._processingThumbnail=!1,s.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1024*1024)return this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)},s.prototype._processThumbnailQueue=function(){var e;if(this._processingThumbnail||this._thumbnailQueue.length===0)return;return this._processingThumbnail=!0,e=this._thumbnailQueue.shift(),this.createThumbnail(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(t){return function(n){return t.emit("thumbnail",e,n),t._processingThumbnail=!1,t._processThumbnailQueue()}}(this))},s.prototype.removeFile=function(e){e.status===s.UPLOADING&&this.cancelUpload(e),this.files=l(this.files,e),this.emit("removedfile",e);if(this.files.length===0)return this.emit("reset")},s.prototype.removeAllFiles=function(e){var t,n,r,i;e==null&&(e=!1),i=this.files.slice();for(n=0,r=i.length;n<r;n++)t=i[n],(t.status!==s.UPLOADING||e)&&this.removeFile(t);return null},s.prototype.resizeImage=function(e,t,n,r,o){return this.createThumbnail(e,t,n,r,!1,function(t){return function(n,r){var u,a;if(r===null)return o(e);u=t.options.resizeMimeType,u==null&&(u=e.type),a=r.toDataURL(u,t.options.resizeQuality);if(u==="image/jpeg"||u==="image/jpg")a=i.restore(e.dataURL,a);return o(s.dataURItoBlob(a))}}(this))},s.prototype.createThumbnail=function(e,t,n,r,i,s){var o;return o=new FileReader,o.onload=function(u){return function(){e.dataURL=o.result;if(e.type==="image/svg+xml"){s!=null&&s(o.result);return}return u.createThumbnailFromUrl(e,t,n,r,i,s)}}(this),o.readAsDataURL(e)},s.prototype.createThumbnailFromUrl=function(e,t,n,r,i,s,o){var u;return u=document.createElement("img"),o&&(u.crossOrigin=o),u.onload=function(o){return function(){var f;return f=function(e){return e(1)},typeof EXIF!="undefined"&&EXIF!==null&&i&&(f=function(e){return EXIF.getData(u,function(){return e(EXIF.getTag(this,"Orientation"))})}),f(function(i){var f,l,c,h,p,d,v,m;e.width=u.width,e.height=u.height,v=o.options.resize.call(o,e,t,n,r),f=document.createElement("canvas"),l=f.getContext("2d"),f.width=v.trgWidth,f.height=v.trgHeight,i>4&&(f.width=v.trgHeight,f.height=v.trgWidth);switch(i){case 2:l.translate(f.width,0),l.scale(-1,1);break;case 3:l.translate(f.width,f.height),l.rotate(Math.PI);break;case 4:l.translate(0,f.height),l.scale(1,-1);break;case 5:l.rotate(.5*Math.PI),l.scale(1,-1);break;case 6:l.rotate(.5*Math.PI),l.translate(0,-f.height);break;case 7:l.rotate(.5*Math.PI),l.translate(f.width,-f.height),l.scale(-1,1);break;case 8:l.rotate(-0.5*Math.PI),l.translate(-f.width,0)}a(l,u,(c=v.srcX)!=null?c:0,(h=v.srcY)!=null?h:0,v.srcWidth,v.srcHeight,(p=v.trgX)!=null?p:0,(d=v.trgY)!=null?d:0,v.trgWidth,v.trgHeight),m=f.toDataURL("image/png");if(s!=null)return s(m,f)})}}(this),s!=null&&(u.onerror=s),u.src=e.dataURL},s.prototype.processQueue=function(){var e,t,n,r;t=this.options.parallelUploads,n=this.getUploadingFiles().length,e=n;if(n>=t)return;r=this.getQueuedFiles();if(!(r.length>0))return;if(this.options.uploadMultiple)return this.processFiles(r.slice(0,t-n));while(e<t){if(!r.length)return;this.processFile(r.shift()),e++}},s.prototype.processFile=function(e){return this.processFiles([e])},s.prototype.processFiles=function(e){var t,n,r;for(n=0,r=e.length;n<r;n++)t=e[n],t.processing=!0,t.status=s.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},s.prototype._getFilesWithXhr=function(e){var t,n;return n=function(){var n,r,i,s;i=this.files,s=[];for(n=0,r=i.length;n<r;n++)t=i[n],t.xhr===e&&s.push(t);return s}.call(this)},s.prototype.cancelUpload=function(e){var t,n,r,i,o,u,a;if(e.status===s.UPLOADING){n=this._getFilesWithXhr(e.xhr);for(r=0,o=n.length;r<o;r++)t=n[r],t.status=s.CANCELED;e.xhr.abort();for(i=0,u=n.length;i<u;i++)t=n[i],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else if((a=e.status)===s.ADDED||a===s.QUEUED)e.status=s.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]);if(this.options.autoProcessQueue)return this.processQueue()},n=function(){var e,t;return t=arguments[0],e=2<=arguments.length?c.call(arguments,1):[],typeof t=="function"?t.apply(this,e):t},s.prototype.uploadFile=function(e){return this.uploadFiles([e])},s.prototype.uploadFiles=function(e){var r,i,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q;q=new XMLHttpRequest;for(m=0,w=e.length;m<w;m++)o=e[m],o.xhr=q;N=n(this.options.method,e),F=n(this.options.url,e),q.open(N,F,!0),q.timeout=n(this.options.timeout,e),q.withCredentials=!!this.options.withCredentials,H=null,a=function(t){return function(){var n,r,i;i=[];for(n=0,r=e.length;n<r;n++)o=e[n],i.push(t._errorProcessing(e,H||t.options.dictResponseError.replace("{{statusCode}}",q.status),q));return i}}(this),j=function(t){return function(n){var r,i,s,u,a,f,l,c,h;if(n!=null){c=100*n.loaded/n.total;for(i=0,u=e.length;i<u;i++)o=e[i],o.upload.progress=c,o.upload.total=n.total,o.upload.bytesSent=n.loaded}else{r=!0,c=100;for(s=0,a=e.length;s<a;s++){o=e[s];if(o.upload.progress!==100||o.upload.bytesSent!==o.upload.total)r=!1;o.upload.progress=c,o.upload.bytesSent=o.upload.total}if(r)return}h=[];for(l=0,f=e.length;l<f;l++)o=e[l],h.push(t.emit("uploadprogress",o,c,o.upload.bytesSent));return h}}(this),q.onload=function(t){return function(n){var r,i;if(e[0].status===s.CANCELED)return;if(q.readyState!==4)return;if(q.responseType!=="arraybuffer"&&q.responseType!=="blob"){H=q.responseText;if(q.getResponseHeader("content-type")&&~q.getResponseHeader("content-type").indexOf("application/json"))try{H=JSON.parse(H)}catch(r){n=r,H="Invalid JSON response from server."}}return j(),200<=(i=q.status)&&i<300?t._finished(e,H,n):a()}}(this),q.onerror=function(t){return function(){if(e[0].status===s.CANCELED)return;return a()}}(this),L=(A=q.upload)!=null?A:q,L.onprogress=j,c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&t(c,this.options.headers);for(f in c)l=c[f],l&&q.setRequestHeader(f,l);u=new FormData;if(this.options.params){O=this.options.params;for(y in O)I=O[y],u.append(y,I)}for(g=0,E=e.length;g<E;g++)o=e[g],this.emit("sending",o,q,u);this.options.uploadMultiple&&this.emit("sendingmultiple",e,q,u);if(this.element.tagName==="FORM"){M=this.element.querySelectorAll("input, textarea, select, button");for(b=0,S=M.length;b<S;b++){p=M[b],d=p.getAttribute("name"),v=p.getAttribute("type");if(p.tagName==="SELECT"&&p.hasAttribute("multiple")){_=p.options;for(T=0,x=_.length;T<x;T++)k=_[T],k.selected&&u.append(d,k.value)}else(!v||(D=v.toLowerCase())!=="checkbox"&&D!=="radio"||p.checked)&&u.append(d,p.value)}}r=0,B=[];for(h=C=0,P=e.length-1;0<=P?C<=P:C>=P;h=0<=P?++C:--C)i=function(t){return function(n,i,s){return function(n){u.append(i,n,s);if(++r===e.length)return t.submitRequest(q,u,e)}}}(this),B.push(this.options.transformFile.call(this,e[h],i(e[h],this._getParamName(h),e[h].upload.filename)));return B},s.prototype.submitRequest=function(e,t,n){return e.send(t)},s.prototype._finished=function(e,t,n){var r,i,o;for(i=0,o=e.length;i<o;i++)r=e[i],r.status=s.SUCCESS,this.emit("success",r,t,n),this.emit("complete",r);this.options.uploadMultiple&&(this.emit("successmultiple",e,t,n),this.emit("completemultiple",e));if(this.options.autoProcessQueue)return this.processQueue()},s.prototype._errorProcessing=function(e,t,n){var r,i,o;for(i=0,o=e.length;i<o;i++)r=e[i],r.status=s.ERROR,this.emit("error",r,t,n),this.emit("complete",r);this.options.uploadMultiple&&(this.emit("errormultiple",e,t,n),this.emit("completemultiple",e));if(this.options.autoProcessQueue)return this.processQueue()},s}(r),n.version="5.1.1",n.options={},n.optionsForElement=function(e){return e.getAttribute("id")?n.options[s(e.getAttribute("id"))]:void 0},n.instances=[],n.forElement=function(e){typeof e=="string"&&(e=document.querySelector(e));if((e!=null?e.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},n.autoDiscover=!0,n.discover=function(){var e,t,r,i,s,o;document.querySelectorAll?r=document.querySelectorAll(".dropzone"):(r=[],e=function(e){var t,n,i,s;s=[];for(n=0,i=e.length;n<i;n++)t=e[n],/(^| )dropzone($| )/.test(t.className)?s.push(r.push(t)):s.push(void 0);return s},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),o=[];for(i=0,s=r.length;i<s;i++)t=r[i],n.optionsForElement(t)!==!1?o.push(new n(t)):o.push(void 0);return o},n.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],n.isBrowserSupported=function(){var e,t,r,i,s;e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){i=n.blacklistedBrowsers;for(t=0,r=i.length;t<r;t++){s=i[t];if(s.test(navigator.userAgent)){e=!1;continue}}}else e=!1;else e=!1;return e},n.dataURItoBlob=function(e){var t,n,r,i,s,o,u;n=atob(e.split(",")[1]),o=e.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(n.length),i=new Uint8Array(t);for(r=s=0,u=n.length;0<=u?s<=u:s>=u;r=0<=u?++s:--s)i[r]=n.charCodeAt(r);return new Blob([t],{type:o})},l=function(e,t){var n,r,i,s;s=[];for(r=0,i=e.length;r<i;r++)n=e[r],n!==t&&s.push(n);return s},s=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},n.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},n.elementInside=function(e,t){if(e===t)return!0;while(e=e.parentNode)if(e===t)return!0;return!1},n.getElement=function(e,t){var n;typeof e=="string"?n=document.querySelector(e):e.nodeType!=null&&(n=e);if(n==null)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},n.getElements=function(e,t){var n,r,i,s,o,u,a,f,l;if(e instanceof Array){i=[];try{for(o=0,a=e.length;o<a;o++)r=e[o],i.push(this.getElement(r,t))}catch(s){n=s,i=null}}else if(typeof e=="string"){i=[],l=document.querySelectorAll(e);for(u=0,f=l.length;u<f;u++)r=l[u],i.push(r)}else e.nodeType!=null&&(i=[e]);if(i==null||!i.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i},n.confirm=function(e,t,n){if(window.confirm(e))return t();if(n!=null)return n()},n.isValidFile=function(e,t){var n,r,i,s,o;if(!t)return!0;t=t.split(","),s=e.type,n=s.replace(/\/.*$/,"");for(r=0,i=t.length;r<i;r++){o=t[r],o=o.trim();if(o.charAt(0)==="."){if(e.name.toLowerCase().indexOf(o.toLowerCase(),e.name.length-o.length)!==-1)return!0}else if(/\/\*$/.test(o)){if(n===o.replace(/\/.*$/,""))return!0}else if(s===o)return!0}return!1},typeof e!="undefined"&&e!==null&&(e.fn.dropzone=function(e){return this.each(function(){return new n(this,e)})}),typeof t!="undefined"&&t!==null?t.exports=n:window.Dropzone=n,n.ADDED="added",n.QUEUED="queued",n.ACCEPTED=n.QUEUED,n.UPLOADING="uploading",n.PROCESSING=n.UPLOADING,n.CANCELED="canceled",n.ERROR="error",n.SUCCESS="success",u=function(e){var t,n,r,i,s,o,u,a,f,l;u=e.naturalWidth,o=e.naturalHeight,n=document.createElement("canvas"),n.width=1,n.height=o,r=n.getContext("2d"),r.drawImage(e,0,0),i=r.getImageData(1,0,1,o).data,l=0,s=o,a=o;while(a>l)t=i[(a-1)*4+3],t===0?s=a:l=a,a=s+l>>1;return f=a/o,f===0?1:f},a=function(e,t,n,r,i,s,o,a,f,l){var c;return c=u(t),e.drawImage(t,n,r,i,s,o,a,f,l/c)},i=function(){function e(){}return e.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e.encode64=function(e){var t,n,r,i,s,o,u,a,f;f="",t=void 0,n=void 0,r="",i=void 0,s=void 0,o=void 0,u="",a=0;for(;;){t=e[a++],n=e[a++],r=e[a++],i=t>>2,s=(t&3)<<4|n>>4,o=(n&15)<<2|r>>6,u=r&63,isNaN(n)?o=u=64:isNaN(r)&&(u=64),f=f+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(u),t=n=r="",i=s=o=u="";if(!(a<e.length))break}return f},e.restore=function(e,t){var n,r,i;return e.match("data:image/jpeg;base64,")?(r=this.decode64(e.replace("data:image/jpeg;base64,","")),i=this.slice2Segments(r),n=this.exifManipulation(t,i),"data:image/jpeg;base64,"+this.encode64(n)):t},e.exifManipulation=function(e,t){var n,r,i;return r=this.getExifArray(t),i=this.insertExif(e,r),n=new Uint8Array(i),n},e.getExifArray=function(e){var t,n;t=void 0,n=0;while(n<e.length){t=e[n];if(t[0]===255&t[1]===225)return t;n++}return[]},e.insertExif=function(e,t){var n,r,i,s,o,u;return s=e.replace("data:image/jpeg;base64,",""),i=this.decode64(s),u=i.indexOf(255,3),o=i.slice(0,u),r=i.slice(u),n=o,n=n.concat(t),n=n.concat(r),n},e.slice2Segments=function(e){var t,n,r,i,s;n=0,s=[];for(;;){if(e[n]===255&e[n+1]===218)break;e[n]===255&e[n+1]===216?n+=2:(r=e[n+2]*256+e[n+3],t=n+r+2,i=e.slice(n,t),s.push(i),n=t);if(n>e.length)break}return s},e.decode64=function(e){var t,n,r,i,s,o,u,a,f,l,c;c="",r=void 0,i=void 0,s="",o=void 0,u=void 0,a=void 0,f="",l=0,n=[],t=/[^A-Za-z0-9\+\/\=]/g,t.exec(e)&&console.warning("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(;;){o=this.KEY_STR.indexOf(e.charAt(l++)),u=this.KEY_STR.indexOf(e.charAt(l++)),a=this.KEY_STR.indexOf(e.charAt(l++)),f=this.KEY_STR.indexOf(e.charAt(l++)),r=o<<2|u>>4,i=(u&15)<<4|a>>2,s=(a&3)<<6|f,n.push(r),a!==64&&n.push(i),f!==64&&n.push(s),r=i=s="",o=u=a=f="";if(!(l<e.length))break}return n},e}(),o=function(e,t){var n,r,i,s,o,u,a,f,l;i=!1,l=!0,r=e.document,f=r.documentElement,n=r.addEventListener?"addEventListener":"attachEvent",a=r.addEventListener?"removeEventListener":"detachEvent",u=r.addEventListener?"":"on",s=function(n){if(n.type==="readystatechange"&&r.readyState!=="complete")return;(n.type==="load"?e:r)[a](u+n.type,s,!1);if(!i&&(i=!0))return t.call(e,n.type||n)},o=function(){var e,t;try{f.doScroll("left")}catch(t){e=t,setTimeout(o,50);return}return s("poll")};if(r.readyState!=="complete"){if(r.createEventObject&&f.doScroll){try{l=!e.frameElement}catch(c){}l&&o()}return r[n](u+"DOMContentLoaded",s,!1),r[n](u+"readystatechange",s,!1),e[n](u+"load",s,!1)}},n._autoDiscoverFunction=function(){if(n.autoDiscover)return n.discover()},o(window,n._autoDiscoverFunction)}.call(this),t.exports}),define("modals/importLaunch/modalImportLaunch",["require","jquery","modals/_modalView","localization","dataUrlResolver","util","dropzone","app"],function(e){"use strict";var t=e("jquery"),n=e("modals/_modalView"),r=e("localization"),i=e("dataUrlResolver"),s=e("util"),o=e("dropzone"),u=e("app"),a=u.getInstance(),f=n.extend({tpl:"tpl-modal-import-launch",className:"modal-import-launch",events:{"click [data-js-ok]":"onClickOk","click [data-js-cancel]":"onClickClose"},initialize:function(){this.uploadProcess=!1,this.warningShow=!1,this.approvalHide=!1,this.render()},render:function(){var e=[{btnText:r.ui.cancel,btnClass:"rp-btn-cancel",label:"data-js-cancel"},{btnText:r.ui.import,btnClass:"rp-btn-submit btn-import",label:"data-js-import"},{btnText:r.ui.ok,btnClass:"rp-btn-submit btn-ok",label:"data-js-ok"}];this.$el.html(s.templates(this.tpl,{footerButtons:e})),t("[data-js-ok]",this.$el).addClass("hide"),t("[data-js-import]",this.$el).attr("disabled","disabled")},onShow:function(){this.initDropzone()},initDropzone:function(){var e=this;this.dropzone=new o(t("[data-js-drop-area]",this.$el).get(0),{init:function(){var n=t("[data-js-import]",e.$el)[0],r=this;n.addEventListener("click",function(){r.processQueue(),r.options.autoProcessQueue=!0,t("[data-js-drop-area]",e.$el).addClass("finish-loading"),e.dropzone.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),e.dropzone.removeEventListeners(),e.uploadProcess=!0}),this.on("processing",function(){t("[data-js-import]",e.$el).addClass("hide"),t("[data-js-ok]",e.$el).removeClass("hide").attr("disabled","disabled")}),this.on("queuecomplete",function(){t("[data-js-ok]",e.$el).removeAttr("disabled"),e.uploadProcess=!1}),this.on("addedfile",function(){r.files.length?(t("[data-js-import]",e.$el).removeAttr("disabled"),e.disableHideBackdrop()):t("[data-js-import]",e.$el).attr("disabled","disabled")}),this.on("removedfile",function(){r.files.length?t("[data-js-import]",e.$el).removeAttr("disabled"):t("[data-js-import]",e.$el).attr("disabled","disabled")}),this.on("uploadprogress",function(e,n){n===100&&t(e.previewElement).addClass("file-upload-complete")})},url:i.importLaunch(),previewTemplate:'<div class="dz-preview dz-file-preview"><div class="dz-details"><div class="dz-filename"><span data-dz-name></span></div><div class="dz-size" data-dz-size></div><img data-dz-thumbnail /></div><div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div><div class="dz-success-mark"><span><i class="material-icons">done</i></span></div><div class="dz-error-mark"><i class="material-icons">warning</i></div><div class="dz-error-message"><span data-dz-errormessage></span></div></div>',parallelUploads:5,timeout:!1,filesizeBase:1024,uploadMultiple:!1,maxFilesize:32,acceptedFiles:".zip",autoProcessQueue:!1,addRemoveLinks:!0,createImageThumbnails:!1,hiddenInputContainer:"[data-js-drop-area]",dictDefaultMessage:r.dialog.importLaunchTip,dictInvalidFileType:r.dialog.invalidFileType,dictFileTooBig:r.dialog.invalidFileSize,dictRemoveFile:"x",dictCancelUpload:"x",error:function(e,t){var n,r,i,s,o,u=t;if(e.previewElement){e.previewElement.classList.add("dz-error"),typeof t!="string"&&t.message&&(u=t.message),s=e.previewElement.querySelectorAll("[data-dz-errormessage]"),o=[];for(n=0,r=s.length;n<r;n++)i=s[n],o.push(i.textContent=u);return o}return!1}})},onKeySuccess:function(){},onClickClose:function(e){e.target.nodeName==="BUTTON"?a.trackingDispatcher.trackEventNumber(520):a.trackingDispatcher.trackEventNumber(519)},onClickOk:function(){a.trackingDispatcher.trackEventNumber(521),this.successClose()},hide:function(){var e=this;return this.uploadProcess&&!this.approvalHide?this.warningShow?!1:(this.showWarningBlock(r.launches.interruptImportWarning+'<label class="rp-checkbox-wrap">'+'<input class="rp-input-checkbox" type="checkbox" data-js-apruv-close>'+"<span>"+r.launches.approvalInterruptImportWarning+"</span>"+"</label>"),this.warningShow=!0,t("[data-js-apruv-close]",this.$el).change(function(n){e.approvalHide=t(n.currentTarget).prop("checked")}),!1):(this.$modalWrapper&&this.$modalWrapper.modal("hide"),this.closeAsync&&this.closeAsync.reject(),!1)}});return f}),define("launches/launchLevel/LaunchControlView",["require","util","jquery","backbone-epoxy","app","localization","coreService","filterEntities/FilterEntitiesView","modals/addWidget/modalAddWidget","modals/importLaunch/modalImportLaunch"],function(e){"use strict";var t=e("util"),n=e("jquery"),r=e("backbone-epoxy"),i=e("app"),s=e("localization"),o=e("coreService"),u=e("filterEntities/FilterEntitiesView"),a=e("modals/addWidget/modalAddWidget"),f=e("modals/importLaunch/modalImportLaunch"),l=i.getInstance(),c=r.View.extend({events:{"click [data-js-refresh]":"onClickRefresh","click [data-js-multi-action]":"onClickMultiAction","click [data-js-multi-button]":"onShowMultiActon","click [data-js-add-widget]":"onClickAddWidget","click [data-js-import]":"onClickImport"},bindings:{"[data-js-refresh-counter]":"text: refreshItems, classes: {hide: not(refreshItems)}"},template:"tpl-launch-launch-control",initialize:function(e){this.collectionItems=e.collectionItems,this.filterModel=e.filterModel,this.context=e.context,this.model=new(r.Model.extend({defaults:{refreshItems:0}})),this.render(),this.filterModel.get("id")==="all"?n("[data-js-add-widget]",this.$el).addClass("hide"):n("[data-js-import]",this.$el).addClass("hide"),this.context==="userdebug"&&(n("[data-js-import]",this.$el).addClass("hide"),n("[data-js-add-widget]",this.$el).addClass("hide"),this.filterEntities=new u({el:n("[data-js-refine-entities]",this.$el),filterLevel:"launch",model:this.filterModel})),l.userModel.getRoleForCurrentProject()===l.projectRolesEnum.customer&&n('[data-js-multi-action="changemode"]',this.$el).addClass("hide"),this.listenTo(this.collectionItems,"reset",this.onResetCollectionItems),this.onResetCollectionItems()},render:function(){this.$el.html(t.templates(this.template,{context:this.context}))},onResetCollectionItems:function(){this.model.set({refreshItems:0}),this.request&&this.request.abort(),clearTimeout(this.timeout),this.inProgressItems=this.collectionItems.where({status:l.launchStatus.inProgress}),this.checkItems()},checkItems:function(){if(this.inProgressItems.length){var e=this,t=_.map(this.inProgressItems,function(e){return e.get("id")});this.request=o.checkForStatusUpdate(t).done(function(t){var n=[];_.each(e.inProgressItems,function(r){t[r.get("id")]!==l.launchStatus.inProgress?(r.set({status:t[r.get("id")],end_time:(new Date).getTime()}),e.model.set({refreshItems:e.model.get("refreshItems")+1})):n.push(r)}),e.inProgressItems=n,clearTimeout(e.timeout),e.timeout=setTimeout(function(){e.checkItems()},5e3)})}},activateMultiple:function(){n("[data-js-refresh]",this.$el).addClass("disabled"),n("[data-js-multi-button]",this.$el).removeClass("disabled").attr({title:s.ui.actions})},disableMultiple:function(){n("[data-js-refresh]",this.$el).removeClass("disabled"),n("[data-js-multi-button]",this.$el).addClass("disabled").attr({title:s.launches.actionTitle})},onShowMultiActon:function(){l.trackingDispatcher.trackEventNumber(61.3)},onClickAddWidget:function(e){e.preventDefault(),e.stopPropagation(),l.trackingDispatcher.trackEventNumber(17),(new a({filter_id:this.collectionItems.filterModel.get("id"),isNoDashboard:!0})).show()},onClickMultiAction:function(e){var t=n(e.currentTarget).data("js-multi-action");switch(t){case"merge":l.trackingDispatcher.trackEventNumber(62);break;case"compare":l.trackingDispatcher.trackEventNumber(63);break;case"changemode":l.trackingDispatcher.trackEventNumber(64);break;case"forcefinish":l.trackingDispatcher.trackEventNumber(65);break;case"remove":l.trackingDispatcher.trackEventNumber(66)}this.trigger("multi:action",t)},onClickRefresh:function(){this.collectionItems.load()},onClickImport:function(){(new f).show()},onDestroy:function(){this.request&&this.request.abort(),clearTimeout(this.timeout),this.$el.html("")}});return c}),define("launches/stepLevel/ParentStepItemView",["require","backbone-epoxy","util","filters/FilterModel"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=e("filters/FilterModel"),i=t.View.extend({template:"tpl-launch-step-parent",initialize:function(e){this.context=e.context,this.render(e)},render:function(e){var t="",i;e.launchId&&(i=new r({id:"all",context:this.context}),t=i.get("url")+"/"+e.launchId,i.destroy()),this.$el.html(n.templates(this.template,{parentPath:e.parentPath,startUrl:t}))},onDestroy:function(){this.$el.html("")}});return i}),define("launches/common/LaunchSuiteStepItemsView",["require","jquery","underscore","backbone","backbone-epoxy","util","core/components","storage/SingletonUserStorage","launches/stepLevel/ParentStepItemView","model/SingletonRegistryInfoModel","model/UserModel","coreService"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone"),i=e("backbone-epoxy"),s=e("util"),o=e("core/components"),u=e("storage/SingletonUserStorage"),a=e("launches/stepLevel/ParentStepItemView"),f=e("model/SingletonRegistryInfoModel"),l=e("model/UserModel"),c=e("coreService"),h=i.View.extend({className:"launch-suite-step-items",template:"tpl-launch-suite-step-items",events:{"click [data-js-demo-data-submit]":"generateData"},initialize:function(e){var i=this;this.infoModel=new f,this.userModel=new l,this.context=e.context,this.itemView=e.itemView,this.filterModel=e.filterModel,this.userStorage=new u,this.listenTo(this.collection,"reset",this.renderItems),this.listenTo(this.collection,"loading",this.onLoadingCollection),this.listenTo(this.collection,"change",this.checkForFiltersAndReloadCollection),this.listenTo(this.collection,"check:before:items",this.onCheckItemsBefore),this.render(),this.renderedItems=[],this.pagingModel=new r.Model,this.paging=new o.PagingToolbar({el:t("[data-js-paginate-container]",this.$el),model:this.pagingModel}),this.renderItems(),this.listenTo(this.paging,"page",this.onChangePage),this.listenTo(this.paging,"count",this.onChangePageCount),this.collection.models.length||this.collection.checkType().done(function(e){i.noData(e)}),this.debounceCollectionLoad=n.debounce(function(){i.collection.load()},50),t(window).off("resize.launchItems").on("resize.launchItems",n.debounce(i.activateAccordions.bind(i),100))},generateData:function(){var e=(new Date).getTime().toString().substr(-4),t={isCreateDashboard:"true",postfix:e};c.generateDemoData(t),window.location.reload()},activateNextId:function(e){var t=this,n=this.collection.get(e);n?n.trigger("scrollToAndHighlight"):this.listenToOnce(this,"itemsLoaded",function(){n=t.collection.get(e),n&&n.trigger("scrollToAndHighlight")})},render:function(){this.$el.html(s.templates(this.template,{}))},onShow:function(){this.activateAccordions()},onCheckItemsBefore:function(e){var t="",r=!1;n.each(this.collection.models,function(n){if(n.get("id")===e)return!1;n.get("select")&&(t=n.get("id"))}),n.each(this.collection.models,function(n){if(n.get("id")===e)return!1;n.get("id")===t&&(r=!0),r&&n.set({select:!0})})},activateAccordions:function(){n.each(this.renderedItems,function(e){e.activateAccordion&&e.activateAccordion()})},onLoadingCollection:function(e){var t=this;if(e){this.$el.addClass("load").removeClass("not-found");return}this.trigger("itemsLoaded"),this.activateAccordions(),this.$el.removeClass("load"),this.collection.models.length||this.collection.checkType().done(function(e){t.noData(e)})},noData:function(e){this.infoModel.get("isDemo")&&e==="LAUNCH"?this.$el.addClass("generate-demo-data"):this.$el.addClass("not-found")},onChangePage:function(e){this.collection.setPaging(e)},onChangePageCount:function(e){this.collection.setPaging(1,e)},renderItems:function(){var e=t("[data-js-launches-container]",this.$el),r=this.collection.validateForAllCases(),i=this;e.html("");if(r){var s={};n.each(i.collection.models,function(t){var n=i.isValidForParent(t,s);if(n){s=n;var r=new a({context:i.context,parentPath:n,launchId:t.get("launchId")});e.append(r.$el),i.renderedItems.push(r)}var o=new i.itemView({model:t,filterModel:i.filterModel,context:i.context,collection:i.collection});e.append(o.$el),i.renderedItems.push(o)})}else n.each(i.collection.models,function(t){var n=new i.itemView({model:t,filterModel:i.filterModel,context:i.context});e.append(n.$el),i.renderedItems.push(n)});this.pagingModel.set(this.collection.pagingData),this.paging.render()},isValidForParent:function(e,t){return n.isEmpty(t)||!n.isEqual(e.get("path_names"),t)?(t=e.get("path_names"),t):!1},checkForFiltersAndReloadCollection:function(e){var t=this,r=!1;n.each(e.changedAttributes(),function(e,i){n.each(t.filterModel.getEntitiesObj(),function(e){var t=e.filtering_field;if(t==="issue$issue_type"||t==="issue$issue_comment")t="issue";i===t&&(r=!0)})}),r&&this.listenToOnce(e,"updated",function(){t.debounceCollectionLoad()})},onDestroy:function(){t(window).off("resize.launchItems");while(this.renderedItems.length)this.renderedItems.pop().destroy();this.$el.remove(),delete this}});return h}),define("launches/multipleActions/changeModeAction",["require","exports","module","jquery","underscore","util","modals/modalConfirm","callService","dataUrlResolver","localization","app"],function(e,t,n){"use strict";var r=e("jquery"),i=e("underscore"),s=e("util"),o=e("modals/modalConfirm"),u=e("callService"),a=e("dataUrlResolver"),f=e("localization"),l=e("app"),c=l.getInstance(),h=function(e){var t=e.items,n=t[0].get("mode")=="DEBUG"?"DEFAULT":"DEBUG",l=t.length>1?f.ui.selectedLaunches:f.ui.launch,h=n=="DEBUG"?f.ui.debug:f.ui.allLaunches,p=new o({headerText:n=="DEBUG"?f.dialogHeader.moveToDebug:f.dialogHeader.moveToAllLaunches,bodyText:s.replaceTemplate(f.dialog.moveLaunch,l,h),cancelButtonText:f.ui.cancel,okButtonText:f.ui.move,confirmFunction:function(){c.trackingDispatcher.trackEventNumber(76);var e={};return i.each(t,function(t){e[t.get("id")]={mode:n}}),u.call("PUT",a.getLaunchUpdate(),{entities:e}).done(function(){s.ajaxSuccessMessenger(n=="DEBUG"?"switchToDebug":"switchToAllLaunches")}).fail(function(e){s.ajaxFailMessenger(e,n=="DEBUG"?"switchToDebug":"switchToAllLaunches")})}});return p.$el.on("click",function(e){var t=r(e.target);(t.is("[data-js-close]")||t.is("[data-js-close] i"))&&c.trackingDispatcher.trackEventNumber(74),t.is("[data-js-cancel]")&&c.trackingDispatcher.trackEventNumber(75)}),p.show()};return h}),define("launches/multipleActions/removeAction",["require","jquery","underscore","util","modals/modalConfirm","callService","dataUrlResolver","localization","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("modals/modalConfirm"),s=e("callService"),o=e("dataUrlResolver"),u=e("localization"),a=e("app"),f=a.getInstance(),l=function(e){var a=e.items,l=a.length>1?u.ui.launches:u.ui.launch,c,h,p,d="",v=!0,m;return a[0].get("type")!=="LAUNCH"?(l=a.length>1?u.ui.items:u.ui.item,c=""):c=" #"+a[0].get("number").toString().bold(),a.forEach(function(e){var t=e.attributes.type,n=e.attributes.owner,i=f.userModel.attributes.name,s=e.attributes.parent_launch_owner;t==="LAUNCH"&&n!==i?(d=r.replaceTemplate(u.launches.deleteWarningAgree,l),v=!1):s&&s!==i&&(d=r.replaceTemplate(u.launches.deleteItemsWarningAgree,l),v=!1)}),h=a.length>1?l:l+" '"+a[0].get("name").bold()+c+"'",m=a.length>1?u.ui.they:u.ui.it,p=new i({headerText:u.ui.delete+" "+l,bodyText:r.replaceTemplate(u.dialog.msgDeleteItems,h,m),confirmText:d,cancelButtonText:u.ui.cancel,okButtonText:u.ui.delete,confirmFunction:function(){var e=a[0].get("type"),t,i,u;return e?f.trackingDispatcher.trackEventNumber(79):(e!=="SUITE"||e!=="TEST")&&f.trackingDispatcher.trackEventNumber(182),t=n.map(a,function(e){return e.get("id")}),i=a.length>1?"deleteLaunches":"deleteLaunch",u=o.getLaunchBase(),e!=="LAUNCH"&&(u=o.itemBase(),i=a.length>1?"deleteTestItems":"deleteTestItem"),s.call("DELETE",u+"?ids="+t.join(",")).done(function(){r.ajaxSuccessMessenger(i)}).fail(function(e){r.ajaxFailMessenger(e,i)})},safeRemoval:v}),p.$el.on("click",function(e){var n=t(e.target),r=a[0].get("type"),i=n.is("[data-js-cancel]"),s=n.is("[data-js-close]")||n.is("[data-js-close] i");if(r==="LAUNCH")s&&f.trackingDispatcher.trackEventNumber(77),i&&f.trackingDispatcher.trackEventNumber(78);else if(r!=="SUITE"||r!=="TEST")s&&f.trackingDispatcher.trackEventNumber(180),i&&f.trackingDispatcher.trackEventNumber(181)}),p.show()};return l}),define("launches/multipleActions/forceFinishAction",["require","underscore","util","modals/modalConfirm","localization","callService","dataUrlResolver","app"],function(e){"use strict";var t=e("underscore"),n=e("util"),r=e("modals/modalConfirm"),i=e("localization"),s=e("callService"),o=e("dataUrlResolver"),u=e("app"),a=u.getInstance(),f=function(e){var u=e.items,f="",l;return u.forEach(function(e){var t=e.attributes.owner,r=a.userModel.attributes.name;t!==r&&(u.length>1?f=n.replaceTemplate(i.launches.finishSelectedLaunch,i.ui.launches):f=n.replaceTemplate(i.launches.finishOneLaunch,i.ui.launch))}),l=new r({headerText:i.dialogHeader.forceFinish,bodyText:u.length>1?n.replaceTemplate(i.launches.finishWarning,i.ui.launches,i.ui.selectedLaunches):n.replaceTemplate(i.launches.finishWarning,i.ui.launch,i.ui.launch),confirmText:f,cancelButtonText:i.ui.cancel,okButtonText:i.ui.finish,confirmFunction:function(){var e={},r=(new Date).getTime();return t.each(u,function(t){e[t.get("id")]={end_time:r,status:a.launchStatus.stopped}}),s.call("PUT",o.getLaunchStop(),{entities:e}).done(function(){n.ajaxSuccessMessenger("finishLaunch"),t.each(u,function(e){e.set({status:a.launchStatus.stopped})})}).fail(function(e){n.ajaxFailMessenger(e,"finishLaunch")})}}),l.show()};return f}),define("modals/modalAnalyseLaunches",["require","jquery","modals/_modalView","util","localization"],function(e){"use strict";var t=e("jquery"),n=e("modals/_modalView"),r=e("util"),i=e("localization"),s=n.extend({template:"tpl-modal-analyse-launches",className:"modal-analyse-launches",events:{"click [data-js-analyze]":"onAnalyze","change input":"onChange"},initialize:function(e){this.render(),t('input[value="'+e.analyzerMode+'"]',this.$el).attr("checked","checked"),t('input[value="TO_INVESTIGATE"]',this.$el).attr("checked","checked")},render:function(){var e=[{btnText:i.ui.cancel,btnClass:"rp-btn-cancel",label:"data-js-cancel"},{btnText:i.ui.analyse,btnClass:"rp-btn-submit",label:"data-js-analyze"}];this.$el.html(r.templates(this.template,{footerButtons:e}))},onChange:function(){this.hideWarningBlock()},onKeySuccess:function(){t("[data-js-analyze]",this.$el).focus().trigger("click")},onAnalyze:function(){var e=t("[data-js-strategy-options] input:checked",this.$el).val(),n=[];t("[data-js-extended-strategy-options] input:checked",this.$el).each(function(){n.push(t(this).val())});if(!n.length){this.showWarningBlock(i.dialog.analyseWarning1);return}if(e==="CURRENT_LAUNCH"&&~n.indexOf("AUTO_ANALYZED")&&~n.indexOf("MANUALLY_ANALYZED")){this.showWarningBlock(i.dialog.analyseWarning2);return}this.successClose({analyzerMode:t("[data-js-strategy-options] input:checked",this.$el).val(),analyzeItemsMode:n})}});return s}),define("launches/launchLevel/LaunchItemMenuView",["require","jquery","backbone-epoxy","util","dataUrlResolver","coreService","localization","app","launches/multipleActions/changeModeAction","launches/multipleActions/removeAction","launches/multipleActions/forceFinishAction","modals/modalAnalyseLaunches"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("dataUrlResolver"),s=e("coreService"),o=e("localization"),u=e("app"),a=e("launches/multipleActions/changeModeAction"),f=e("launches/multipleActions/removeAction"),l=e("launches/multipleActions/forceFinishAction"),c=e("modals/modalAnalyseLaunches"),h=u.getInstance(),p=n.View.extend({className:"dropdown-menu launches-item-menu",tagName:"ul",template:"tpl-launch-edit-menu",events:{"click [data-js-edit-item]":"showEdit","click [data-js-start-analyze]":"startAnalyzeAction","click [data-js-finish]":"finishLaunch","click [data-js-switch-mode]":"switchLaunchMode","click [data-js-remove]":"onClickRemove","click [data-js-export-format]":"onClickExport"},bindings:{"[data-js-finish]":"attr:{title: titleForceFinish, disabled: any(titleForceFinish)}","[data-js-export-format]":"attr:{disabled:not(isExport)}","[data-js-can-analyze]":"attr:{disabled:not(isAnalyze)}","[data-js-switch-mode]":"text:itemModeText, attr:{title: titleChangeMode, disabled:not(isChangeMode)}","[data-js-remove]":"attr: {title: removeTitle, disabled: any(removeTitle)}"},initialize:function(e){this.model=e.model,this.exportFormats={pdf:{name:"PDF",code:30},xls:{name:"XLS",code:31},html:{name:"HTML",code:32}},this.render()},computeds:{isAnalyze:{deps:["launch_isProcessing"],get:function(e){return!e}},isChangeMode:{deps:["launch_owner"],get:function(){return!this.model.validate.changeMode()}},titleChangeMode:{deps:["launch_owner"],get:function(){return this.model.validate.changeMode()}},titleForceFinish:{deps:["status","launch_owner"],get:function(){return this.model.validate.forceFinish()}},isExport:{deps:["launch_status"],get:function(e){return e!=="IN_PROGRESS"}},removeTitle:{deps:["launch_owner","status"],get:function(){return this.model.validate.remove()}},itemModeText:{deps:["mode"],get:function(e){return e==="DEBUG"?o.launches.shiftToLaunches:o.launches.shiftToDebug}}},render:function(){var e=this.model.toJSON({computed:!0});this.$el.html(r.templates(this.template,{isDebug:this.isDebug(),isCustomer:r.isCustomer(),getExportUrl:i.exportLaunchUrl,updateImagePath:r.updateImagePath,exportFormats:this.exportFormats,item:e}))},isDebug:function(){return this.model.get("mode")==="DEBUG"},startAnalyzeAction:function(e){var n=this,i=new c({analyzerMode:this.model.appModel.get("configuration").analyzerConfiguration.analyzer_mode||"LAUNCH_NAME"}),o=t(e.currentTarget),u=this.model.get("id"),a=o.data("analyze-type")==="analyze";e.preventDefault(),o.hasClass("disabled")?e.stopPropagation():(h.trackingDispatcher.trackEventNumber(a?28:27),i.show().done(function(e){s.startLaunchAnalyze(u,e.analyzerMode,e.analyzeItemsMode).done(function(){n.model.set("isProcessing",!0),r.ajaxSuccessMessenger("startAnalyzeAction")}).fail(function(e){r.ajaxFailMessenger(e,"startAnalyzeAction")})}))},finishLaunch:function(){var e=this;h.trackingDispatcher.trackEventNumber(26),l({items:[this.model]}).done(function(){e.model.collection.load(!0)})},onClickRemove:function(){var e=this;h.trackingDispatcher.trackEventNumber(29),f({items:[this.model]}).done(function(){e.model.set("select",!1),e.model.collection.load(!0)})},onClickExport:function(e){var n=t(e.currentTarget),r=n.data("js-export-format");h.trackingDispatcher.trackEventNumber(this.exportFormats[r].code)},switchLaunchMode:function(){var e=this;h.trackingDispatcher.trackEventNumber(25),a({items:[this.model]}).done(function(){e.model.collection.load(!0)})},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.html(""),delete this}});return p}),define("modals/modalLaunchItemEdit",["require","exports","module","jquery","underscore","modals/_modalView","backbone","coreService","app","util","localization","components/markdown/MarkdownEditor"],function(e,t,n){"use strict";var r=e("jquery"),i=e("underscore"),s=e("modals/_modalView"),o=e("backbone"),u=e("coreService"),a=e("app"),f=e("util"),l=e("localization"),c=e("components/markdown/MarkdownEditor"),h=a.getInstance(),p=s.extend({template:"tpl-modal-launch-edit",className:"modal-launch-edit",bindings:{"[data-js-launch-name]":"text: name","[data-js-description]":"value: description","[data-js-tags]":"value: tagsString"},events:{"click [data-js-save]":"onClickSave","click [data-js-close]":"onClickClose","click [data-js-cancel]":"onClickCancel","change [data-js-tags]":"disableHideBackdrop"},initialize:function(e){this.itemModel=e.item,this.viewModel=new o.Model({name:this.itemModel.get("name")+" "+this.itemModel.get("numberText"),description:this.itemModel.get("description"),tags:this.itemModel.getTags(),tagsString:this.itemModel.getTags().join(",")}),this.render(),this.applyBindings(),f.bootValidator(r("[data-js-description]",this.$el),{validator:"minMaxNotRequired",type:"launchDescription",min:0,max:1024});var t=this;this.markdownEditor=new c({value:this.viewModel.get("description"),placeholder:this.isEditLaunch()?l.dialog.launchDescrPlaceholder:l.dialog.testItemDescrPlaceholder}),r("[data-js-markdown-container]",this.$el).html(this.markdownEditor.$el),this.listenTo(this.itemModel,"change:description",this.onChangeDescription);var n=[],s=null;f.setupSelect2WhithScroll(r("[data-js-tags]",this.$el),{formatInputTooShort:function(e,t){return l.ui.enterChars},tags:!0,multiple:!0,noResizeSearch:!1,dropdownCssClass:"",minimumInputLength:1,maximumInputLength:128,formatResultCssClass:function(e){if((n.length==0||i.indexOf(n,e.text)<0)&&r(".select2-input.select2-active").val()==e.text)return"exact-match"},initSelection:function(e,n){var r=i.map(t.viewModel.get("tags"),function(e){return e=e.trim(),{id:e,text:e}});n(r)},createSearchChoice:function(e,t){if(i.filter(t,function(t){return t.text.localeCompare(e)===0}).length===0)return{id:e,text:e}},query:function(e){if(e.term==="?")return;var t={results:[]};clearTimeout(s),s=setTimeout(function(){u.searchTags(e).done(function(n){var r=i.isObject(n)&&n.content?"user":"default",n=r=="default"?n:n.content,s=[];i.forEach(n,function(e){r=="user"?(t.results.push({id:e.userId,text:e.full_name}),e=e.full_name):t.results.push({id:e,text:e}),s.push(e)}),e.callback(t)}).fail(function(e){f.ajaxFailMessenger(e)})},h.userFilterDelay)}})},onShown:function(){var e=this;this.markdownEditor.update(),this.listenTo(this.markdownEditor,"change",function(t){e.viewModel.set({description:t}),this.disableHideBackdrop()})},onKeySuccess:function(){r("[data-js-save]",this.$el).focus().trigger("click")},onChangeDescription:function(){switch(this.itemModel.get("type")){case"SUITE":h.trackingDispatcher.trackEventNumber(102);break;case"TEST":h.trackingDispatcher.trackEventNumber(154);break;default:h.trackingDispatcher.trackEventNumber(71.2)}},isEditLaunch:function(){return this.itemModel.get("type")==="LAUNCH"},render:function(){var e=[{btnText:l.ui.cancel,btnClass:"rp-btn-cancel",label:"data-js-cancel"},{btnText:l.ui.save,btnClass:"rp-btn-submit",label:"data-js-save"}];this.$el.html(f.templates(this.template,{isEditLaunch:this.isEditLaunch(),footerButtons:e})),this.isEditLaunch()&&this.showWarningBlock(l.launches.disclaimerChangeDescription)},onHide:function(){this.markdownEditor.destroy()},onClickClose:function(e){switch(this.itemModel.get("type")){case"SUITE":h.trackingDispatcher.trackEventNumber(101);break;case"TEST":h.trackingDispatcher.trackEventNumber(153);break;default:h.trackingDispatcher.trackEventNumber(71.1)}},onClickCancel:function(e){switch(this.itemModel.get("type")){case"SUITE":h.trackingDispatcher.trackEventNumber(103);break;case"TEST":h.trackingDispatcher.trackEventNumber(155);break;default:h.trackingDispatcher.trackEventNumber(72)}},onClickSave:function(){r(".form-control",this.$el).trigger("validate");if(!r(".has-error",this.$el).length){switch(this.itemModel.get("type")){case"SUITE":h.trackingDispatcher.trackEventNumber(104);break;case"TEST":h.trackingDispatcher.trackEventNumber(156);break;default:h.trackingDispatcher.trackEventNumber(73)}var e=[];this.viewModel.get("tagsString")!=""&&(e=this.viewModel.get("tagsString").split(",")),this.itemModel.set({description:this.viewModel.get("description"),tags:JSON.stringify(e)}),this.successClose()}}});return p}),define("launches/common/retries/RetriesLabelView",["require","backbone-epoxy","util","underscore"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=e("underscore"),i=t.View.extend({template:"tpl-retries-label",className:"retries-label-view",tagName:"span",events:{"click [data-js-retries-link]":"onClickLink"},bindings:{},initialize:function(e){this.context=e.context,this.model.get("retries")&&this.model.get("retries").length&&this.render()},render:function(){var e=r.clone(this.model.get("retries"));e.push(this.model.attributes),this.$el.html(n.templates(this.template,{retries:e,isLogLevel:this.context==="logLevel"}))},onClickLink:function(){this.context!=="logLevel"&&this.trigger("activate:retries")},onDestroy:function(){this.$el.empty(),delete this}});return i}),define("launches/logLevel/LogItemModel",["require","backbone-epoxy","util","dataUrlResolver","app"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=e("dataUrlResolver"),i=e("app"),s=i.getInstance(),o=t.Model.extend({defaults:{id:"",binary_content:null,message:"",test_item:"",time:0,active:!1,empty:!1,level:null},computeds:{timeString:{deps:["time"],get:function(e){return n.dateFormat(e)}},imagePath:{deps:["binary_content"],get:function(e){if(!e||s.userModel.get("token")===s.userModel.defaults.token)return"";if(!~e.content_type.search("image/")){var t=e.content_type.split("/")[1];switch(t){case"CSS":case"css":return"img/launch/attachments/css.svg";case"HTML":case"html":return"img/launch/attachments/html.svg";case"JAVASCRIPT":case"javascript":return"img/launch/attachments/js.svg";case"CSV":case"csv":return"img/launch/attachments/csv.svg";case"har":case"HAR":return"img/launch/attachments/har.svg";case"JSON":case"json":return"img/launch/attachments/json.svg";case"PHP":case"php":return"img/launch/attachments/php.svg";case"XML":case"xml":return"img/launch/attachments/xml.svg";case"PLAIN":case"plain":return"img/launch/attachments/txt.svg";case"RAR":case"rar":case"TAZ":case"taz":case"TAR":case"tar":case"GZIP":case"gzip":case"ZIP":case"zip":return"img/launch/attachments/archive.svg";default:return"img/launch/attachment.png"}}return r.getFileById(e.thumbnail_id)}},mainImagePath:{deps:["binary_content"],get:function(e){return e&&e.id&&s.userModel.get("token")!==s.userModel.defaults.token?~e.content_type.search("image/")?r.getFileById(e.id):this.get("imagePath"):""}},shortId:{deps:["id"],get:function(e){return e.substr(20)}}}});return o}),define("launches/logLevel/LogItemCollection",["require","jquery","underscore","backbone","launches/logLevel/LogItemModel","callService","dataUrlResolver"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone"),i=e("launches/logLevel/LogItemModel"),s=e("callService"),o=e("dataUrlResolver"),u=s.call,a=r.Collection.extend({model:i,initialize:function(e){this.filterModel=e.filterModel,this.itemModel=e.itemModel,this.listenTo(this.filterModel,"change:newSelectionParameters change:newEntities",this.onChangeFilter),this.pagingPage=e.pagingPage||1,this.pagingSize=e.pagingSize||50,this.loadDebounce=n.debounce(this.load.bind(this),10)},onChangeFilter:function(){this.pagingPage=1,this.loadDebounce(),this.trigger("change:options",this.getParamsForUrl())},load:function(){var e=o.getLogsUrl()+"?"+this.getParamsForRequest().join("&"),t=this;return this.trigger("loading:true"),this.request&&this.request.abort(),this.request=u("GET",e).done(function(e){t.trigger("change:paging",e.page),t.reset(e.content)}).always(function(){t.trigger("loading:false")}),this.request},setPaging:function(e,t){var n=this.loadDebounce();return this.pagingPage=e,t&&(this.pagingSize=t),this.trigger("change:options",this.getParamsForUrl()),n},getParamsForRequest:function(e){var t=["filter.eq.item="+this.itemModel.get("id")];return!e&&t.push("page.page="+this.pagingPage),t.push("page.size="+this.pagingSize),t=t.concat(this.filterModel.getOptions()),t},getParamsForUrl:function(){var e=[],t;return e.push("log.page.page="+this.pagingPage),e.push("log.page.size="+this.pagingSize),t=n.map(this.filterModel.getOptions(),function(e){return"log."+e}),e=e.concat(t),e},findLogPage:function(e,r){var i=t.Deferred(),s=o.getLogsUrl()+"/"+e+"/page",a=this.getParamsForRequest(),f=[];return r&&(n.each(a,function(e){~e.search(/(FATAL)/)?f.push("filter.gte.level=ERROR"):~e.search(/(binary_content|cnt\.message)/)||f.push(e)}),a=f),s+="?"+a.join("&"),u("GET",s).done(function(e){i.resolve(e.number)}).fail(function(){i.reject()}),i}});return a}),define("launches/logLevel/LogMessageView",["require","jquery","backbone-epoxy","components/markdown/MarkdownViewer"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("components/markdown/MarkdownViewer"),i=n.View.extend({className:"log-message-view",initialize:function(e){var n=this;this.message=e.message,this.render(),this.supportMarkdown()?(this.markdownViewer=new r({text:this.safeMarkdown(this.message)}),t(this.$el).html(this.markdownViewer.$el),this.listenTo(this.markdownViewer,"load",function(){n.trigger("load")})):(t(this.$el).addClass("line-log-mode").html(this.safeMessage(this.message)),this.trigger("load"))},safeMessage:function(e){return e.escapeScript().escapeHtml().replace(/\n */g,function(e){return e.replace(/\n/g,"<br/>").replace(/ /g,"&nbsp;")})},safeMarkdown:function(e){return e.replace(/^!!!MARKDOWN_MODE!!!/,"")},supportMarkdown:function(){return this.message.search(/^!!!MARKDOWN_MODE!!!/)+1},onDestroy:function(){this.markdownViewer&&this.markdownViewer.destroy(),this.$el.remove()}});return i}),define("launches/logLevel/LogItemInfoTabs/LogItemInfoStackTraceView",["require","exports","module","jquery","backbone","backbone-epoxy","util","filters/FilterModel","launches/logLevel/LogItemCollection","app","launches/logLevel/LogMessageView"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("util"),u=e("filters/FilterModel"),a=e("launches/logLevel/LogItemCollection"),f=e("app"),l=e("launches/logLevel/LogMessageView"),c=f.getInstance(),h=s.View.extend({className:"stack-trace-item",initialize:function(){this.messageView=new l({message:this.model.get("message")}),this.$el.html(this.messageView.$el)},onDestroy:function(){this.messageView.destroy()}}),p=s.View.extend({template:"tpl-launch-log-item-info-stack-trace",events:{"click [data-js-close]":"onClickClose","click [data-js-go-to-log]":"onClickGoToLog"},initialize:function(e){this.render(),this.isLoad=!1,this.itemModel=e.itemModel,this.parentModel=e.parentModel,this.listenTo(this.parentModel,"change:stackTrace",this.onShow);var t=new u({temp:!0,entities:'[{"filtering_field":"level","condition":"in","value":"ERROR"}]',selection_parameters:'{"is_asc": false, "sorting_column": "time"}'});this.collection=new a({filterModel:t,itemModel:this.itemModel}),this.listenTo(this.collection,"loading:true",this.onStartLoading),this.listenTo(this.collection,"loading:false",this.onStopLoading),this.listenTo(this.collection,"reset",this.onResetCollection)},onClickClose:function(){this.parentModel.set({stackTrace:!1})},render:function(){this.$el.html(o.templates(this.template),{})},onShow:function(e,t){t&&!this.isLoad&&(this.isLoad=!0,this.load())},onResetCollection:function(){this.collection.models.length?(r("[data-js-stack-trace-wrapper]",this.$el).removeClass("not-found"),this.logItemMessage&&this.logItemMessage.destroy(),this.logItemMessage=new h({model:this.collection.models[0]}),r("[data-js-stack-trace-container]",this.$el).append(this.logItemMessage.$el)):(r("[data-js-stack-trace-container]",this.$el).html(""),r("[data-js-stack-trace-wrapper]",this.$el).addClass("not-found"))},onStartLoading:function(){r("[data-js-stack-trace-wrapper]",this.$el).addClass("load")},onStopLoading:function(){r("[data-js-stack-trace-wrapper]",this.$el).removeClass("load")},onClickGoToLog:function(){c.trackingDispatcher.trackEventNumber(214),r("[data-js-stack-trace-wrapper]",this.$el).addClass("load-go-to-log"),this.trigger("goToLog",this.collection.models[0].get("id"))},endGoToLog:function(){r("[data-js-stack-trace-wrapper]",this.$el).removeClass("load-go-to-log")},load:function(){this.collection.setPaging(1,1)},onDestroy:function(){this.logItemMessage&&this.logItemMessage.destroy(),this.$el.html("")}});return p}),define("launches/common/retries/RetriesItemLogView",["require","jquery","backbone-epoxy","util","launches/logLevel/LogItemInfoTabs/LogItemInfoStackTraceView"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("launches/logLevel/LogItemInfoTabs/LogItemInfoStackTraceView"),s=n.View.extend({template:"tpl-retries-item-log",className:"retries-item-log-view",events:{},bindings:{"[data-js-number]":"text: number","[data-js-link]":"attr: {href: link}"},computeds:{link:{deps:[""],get:function(){var e=this.retryLastModel.get("url")+"&log.retry="+this.model.get("id");return this.retryLastModel.get("has_childs")&&(e+="&log.item="+this.retryLastModel.get("id")),e}}},initialize:function(e){this.retryLastModel=e.lastRetryModel,this.render()},render:function(){this.$el.html(r.templates(this.template,{})),this.stackTrace=new i({itemModel:this.model,parentModel:new n.Model}),t("[data-js-message-container]",this.$el).html(this.stackTrace.$el),this.baron=r.setupBaronScroll(t("[data-js-message-container] ",this.$el)),this.stackTrace.onShow(!0,!0)},onDestroy:function(){this.$el.empty(),delete this}});return s}),define("launches/common/retries/RetriesBlockView",["require","underscore","jquery","backbone-epoxy","util","backbone","launches/common/LaunchSuiteStepItemModel","launches/common/ItemDurationView","launches/common/ItemStartTimeView","launches/common/retries/RetriesItemLogView"],function(e){"use strict";var t=e("underscore"),n=e("jquery"),r=e("backbone-epoxy"),i=e("util"),s=e("backbone"),o=e("launches/common/LaunchSuiteStepItemModel"),u=e("launches/common/ItemDurationView"),a=e("launches/common/ItemStartTimeView"),f=e("launches/common/retries/RetriesItemLogView"),l=r.View.extend({template:"tpl-retries-block-item",className:"retries-block-item-view",events:{click:"onClickItem"},bindings:{":el":"classes: {active: select}","[data-js-number]":"text: number","[data-js-status-text]":"text: status_loc"},initialize:function(){this.render()},render:function(){this.$el.html(i.templates(this.template,{})),n("[data-js-status]",this.$el).addClass("status-"+this.model.get("status")),this.renderDuration(),this.renderStartTime()},onClickItem:function(){this.model.set({select:!0})},renderDuration:function(){this.duration&&this.duration.destroy(),this.duration=new u({model:this.model}),n("[data-js-duration-container]",this.$el).html(this.duration.$el)},renderStartTime:function(){this.startTime&&this.startTime.destroy(),this.startTime=new a({model:this.model}),n("[data-js-time]",this.$el).html(this.startTime.$el)},onDestroy:function(){this.duration&&this.duration.destroy(),this.startTime&&this.startTime.destroy()}}),c=s.Collection.extend({model:o}),h=r.View.extend({template:"tpl-retries-block",className:"retries-block-view",events:{},bindings:{},initialize:function(){var e=1,n=t.clone(this.model.get("retries")),r;this.render(),this.collection=new c,n.push(this.model.attributes),r=t.map(n,function(t){return t.number=e,e+=1,t}),this.collection.reset(r),this.renderedItems=[],this.renderItems(),this.listenTo(this.collection,"change:select",this.onChangeSelect),this.collection.models[this.collection.models.length-1].set({select:!0})},onChangeSelect:function(e,r){r&&(t.each(this.collection.models,function(t){t.id!==e.id&&t.set({select:!1})}),this.logView&&this.logView.destroy(),this.logView=new f({model:e,lastRetryModel:this.model}),n("[data-js-log-container]",this.$el).html(this.logView.$el))},render:function(){this.$el.html(i.templates(this.template,{retries:this.model.get("retries")}))},renderItems:function(){var e=this;t.each(t.clone(this.collection.models).reverse(),function(t){var r=new l({model:t});n("[data-js-retries-container]",e.$el).append(r.$el),e.renderedItems.push(r)})},onDestroy:function(){t.each(this.renderedItems,function(e){e.destroy()}),this.$el.empty(),delete this}});return h}),define("launches/common/CommonItemView",["require","jquery","underscore","backbone-epoxy","app","launches/common/retries/RetriesLabelView","launches/common/retries/RetriesBlockView"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("app"),s=e("launches/common/retries/RetriesLabelView"),o=e("launches/common/retries/RetriesBlockView"),u=i.getInstance(),a=r.View.extend({afterChangeScrollTop:function(){this.elementOffsetTop=this.$el.offset().top},changeScrollTop:function(){var e=this.$el.offset().top,t=u.mainScrollElement.scrollTop();u.mainScrollElement.scrollTop(t+(e-this.elementOffsetTop))},onClickName:function(){u.trackingDispatcher.trackEventNumber(23),this.model.get("has_childs")&&this.model.trigger("drill:item",this.model)},renderRetries:function(){this.retries&&this.retries.destroy(),this.retries=new s({model:this.model,context:this.context}),t("[data-js-retries-container]",this.$el).html(this.retries.$el),this.listenTo(this.retries,"activate:retries",this.onActivateRetries)},onActivateRetries:function(){this.retriesView||(this.retriesView=new o({model:this.model}),t("[data-js-retries-block-container]",this.$el).html(this.retriesView.$el)),this.activateAccordion(),this.$el.addClass("open"),u.mainScrollElement.animate({scrollTop:this.el.offsetTop+this.el.offsetHeight},500)}});return a}),define("launches/common/LaunchSuiteItemView",["require","jquery","underscore","util","app","localization","components/markdown/MarkdownViewer","defectType/SingletonDefectTypeCollection","launches/launchLevel/LaunchItemMenuView","launches/common/LaunchSuiteDefectsView","launches/common/ItemDurationView","launches/common/ItemStartTimeView","filters/SingletonLaunchFilterCollection","modals/modalLaunchItemEdit","launches/common/CommonItemView"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("app"),s=e("localization"),o=e("components/markdown/MarkdownViewer"),u=e("defectType/SingletonDefectTypeCollection"),a=e("launches/launchLevel/LaunchItemMenuView"),f=e("launches/common/LaunchSuiteDefectsView"),l=e("launches/common/ItemDurationView"),c=e("launches/common/ItemStartTimeView"),h=e("filters/SingletonLaunchFilterCollection"),p=e("modals/modalLaunchItemEdit"),d=e("launches/common/CommonItemView"),v=i.getInstance(),m=d.extend({template:"tpl-launch-suite-item",className:"row rp-table-row",statusTpl:"tpl-launch-suite-item-status",events:{click:"onClickView","click [data-js-name-link]":"onClickName","click [data-js-launch-menu]":"showItemMenu","click [data-js-item-edit]":"onClickEdit","click [data-js-tag]":"onClickTag","click [data-js-owner-name]":"onClickOwnerName","click [data-js-statistics-to-investigate]":"onClickToInvestigate","click [data-js-toggle-open]":"onClickOpen","click [data-js-select-label]":"onClickSelectLabel","click [data-js-select-item]":"onClickSelectInput"},bindings:{":el":'classes: {"select-state": select}',"[data-js-analize-label]":"classes: {visible: isProcessing}","[data-js-name-link]":"attr: {href: url}","[data-js-name]":"text: name, attr: {title: nameTitle}","[data-js-launch-number]":"text: numberText","[data-js-item-edit]":"classes: {hide: hideEdit}","[data-js-is-retries]":"classes: {hide: not(hasRetries)}","[data-js-owner-block]":"classes: {hide: not(owner)}","[data-js-owner-name]":"text: owner","[data-js-time-from-now]":"text: startFromNow","[data-js-select-item]":"checked: select, attr: {disabled: launch_isProcessing}","[data-js-tags-container]":"sortTags: tags","[data-js-statistics-total]":'text: executionTotal, attr: {href: executionTotalLink}, classes: {"not-link": not(executionTotalLink)}',"[data-js-statistics-failed]":'text: executionFailed, attr: {href: executionFailedLink}, classes: {"not-link": not(executionTotalLink)}',"[data-js-statistics-skipped]":'text: executionSkipped, attr: {href: executionSkippedLink}, classes: {"not-link": not(executionTotalLink)}',"[data-js-statistics-passed]":'text: executionPassed, attr: {href: executionPassedLink}, classes: {"not-link": not(executionTotalLink)}',"[data-js-statistics-to-investigate]":"text: defectToInvestigate"},bindingHandlers:{sortTags:{set:function(e){var r,i=this.view.model.get("sortTags");i.length?e.removeClass("hide"):e.addClass("hide"),r=t("[data-js-tags]",e),r.html(""),n.each(i,function(e){r.append('  <a data-js-tag="'+e+'">'+e.replaceTabs()+"</a>")})}}},computeds:{hideEdit:{deps:["launch_owner"],get:function(){return this.model.validate.edit()}},nameTitle:{deps:["url"],get:function(e){return e?"":s.launches.noItemsInside}},executionTotal:{deps:["statistics"],get:function(e){return this.getExecution(e,"total")}},executionTotalLink:{deps:["url","has_childs"],get:function(e,t){return t?this.allCasesUrl("total"):undefined}},executionPassed:{deps:["statistics"],get:function(e){return this.getExecution(e,"passed")}},executionPassedLink:{deps:["url","has_childs"],get:function(e,t){return t?this.allCasesUrl("passed"):undefined}},executionSkipped:{deps:["statistics"],get:function(e){return this.getExecution(e,"skipped")}},executionSkippedLink:{deps:["url","has_childs"],get:function(e,t){return t?this.allCasesUrl("skipped"):undefined}},executionFailed:{deps:["statistics"],get:function(e){return this.getExecution(e,"failed")}},executionFailedLink:{deps:["url","has_childs"],get:function(e,t){return t?this.allCasesUrl("failedPlusInterrupted"):undefined}},defectToInvestigate:{deps:["statistics"],get:function(e){return e.defects&&e.defects.to_investigate&&parseInt(e.defects.to_investigate.total,10)?e.defects.to_investigate.total:""}}},getExecution:function(e,t){return e.executions&&e.executions[t]&&parseInt(e.executions[t],10)?e.executions[t]:""},allCasesUrl:function(e){var t=this.model.get("url"),n="";switch(e){case"total":n="&filter.in.status=PASSED,FAILED,SKIPPED,INTERRUPTED&filter.in.type=STEP";break;case"failedPlusInterrupted":n="&filter.in.status=FAILED,INTERRUPTED&filter.in.type=STEP";break;case"passed":case"failed":case"skipped":n="&filter.in.status="+e.toUpperCase()+"&filter.in.type=STEP";break;default:}return t+"?filter.eq.has_childs=false"+n},initialize:function(e){var n=new u,r=this,i;this.statistics=[],this.filterModel=e.filterModel,this.render(),this.applyBindings(),n.ready.done(function(){var e="";r.getBinding("defectToInvestigate")&&(i=n.findWhere({typeRef:"TO_INVESTIGATE"}),i&&(e="filter.eq.has_childs=false&filter.in.issue$issue_type="+i.get("locator"),t("[data-js-statistics-to-investigate]",r.$el).attr({href:r.model.get("url")+"?"+e}))),t("[data-js-label-pb]",r.$el).css({backgroundColor:n.getMainColorByType("product_bug")}),t("[data-js-label-ab]",r.$el).css({backgroundColor:n.getMainColorByType("automation_bug")}),t("[data-js-label-si]",r.$el).css({backgroundColor:n.getMainColorByType("system_issue")}),t("[data-js-label-ti]",r.$el).css({backgroundColor:n.getMainColorByType("to_investigate")})}),this.listenTo(this.model,"scrollToAndHighlight",this.highlightItem),this.markdownViewer=new o({text:this.model.get("description")}),t("[data-js-description]",this.$el).html(this.markdownViewer.$el),this.listenTo(this.model,"change:description",function(e,t){r.markdownViewer.update(t)}),this.listenTo(this.model,"change:description change:tags",this.activateAccordion),this.listenTo(this.markdownViewer,"load",this.activateAccordion),this.listenTo(this.model,"before:toggle:multipleSelect",this.afterChangeScrollTop),this.listenTo(this.model,"toggle:multipleSelect",this.changeScrollTop)},render:function(){this.$el.html(r.templates(this.template,{type:this.model.get("type")})),this.renderDuration(),this.renderStartTime(),this.renderDefects(),this.renderRetries()},highlightItem:function(){var e;this.$el.prepend('<div class="highlight"></div>'),e=this,v.mainScrollElement.animate({scrollTop:this.el.offsetTop},500,function(){e.$el.addClass("hide-highlight")})},renderDuration:function(){this.duration&&this.duration.destroy(),this.duration=new l({model:this.model,el:t("[data-js-item-status]",this.$el)})},renderStartTime:function(){this.startTime&&this.startTime.destroy(),this.startTime=new c({model:this.model}),t("[data-js-start-time-container]",this.$el).html(this.startTime.$el)},renderDefects:function(){this.productBug&&this.productBug.destroy(),this.productBug=new f({model:this.model,el:t("[data-js-statistics-product-bug]",this.$el),type:"product_bug"}),this.autoBug&&this.autoBug.destroy(),this.autoBug=new f({model:this.model,el:t("[data-js-statistics-automation-bug]",this.$el),type:"automation_bug"}),this.systemIssue&&this.systemIssue.destroy(),this.systemIssue=new f({model:this.model,el:t("[data-js-statistics-system-issue]",this.$el),type:"system_issue"})},onClickToInvestigate:function(){this.model.get("type")==="SUITE"?v.trackingDispatcher.trackEventNumber(131):v.trackingDispatcher.trackEventNumber(60)},showItemMenu:function(e){var n;v.trackingDispatcher.trackEventNumber(24),t(e.currentTarget).hasClass("rendered")||(n=t(e.currentTarget),this.menu=new a({model:this.model}),n.after(this.menu.$el).addClass("rendered").dropdown())},onClickTag:function(e){var n=t(e.currentTarget).data("js-tag");this.addFastFilter("tags",n)},onClickOwnerName:function(){this.addFastFilter("user",this.model.get("owner"))},addFastFilter:function(e,t){var n,r;if(this.model.get("mode")==="DEBUG"){this.filterModel.trigger("add_entity",e,t);return}this.filterModel.get("id")==="all"?(n=new h,r=n.generateTempModel(),v.router.navigate(r.get("url"),{trigger:!0}),r.trigger("add_entity",e,t)):this.filterModel.trigger("add_entity",e,t)},onClickView:function(e){(e.ctrlKey||e.metaKey)&&(!t(e.target).is("a")||!!t(e.target).is("input"))&&!this.model.get("launch_isProcessing")&&(this.model.set({select:!this.model.get("select")}),e.altKey&&this.model.get("select")&&this.model.trigger("check:before:items",this.model.get("id")))},onClickSelectLabel:function(e){e.stopPropagation()},onClickSelectInput:function(e){this.model.get("type")==="SUITE"?v.trackingDispatcher.trackEventNumber(100.1):v.trackingDispatcher.trackEventNumber(61.2),e.ctrlKey&&e.altKey&&this.model.trigger("check:before:items",this.model.get("id"))},onClickEdit:function(){var e;this.model.get("type")==="SUITE"?v.trackingDispatcher.trackEventNumber(98):v.trackingDispatcher.trackEventNumber(53),e=new p({item:this.model}),e.show()},onClickOpen:function(){this.$el.toggleClass("open")},activateAccordion:function(){var e=198;t(window).width()<900&&(e=318),this.$el.innerHeight()>e?this.$el.addClass("show-accordion"):this.$el.removeClass("show-accordion")},onDestroy:function(){this.markdownViewer&&this.markdownViewer.destroy(),this.menu&&this.menu.destroy(),this.duration&&this.duration.destroy(),this.startTime&&this.startTime.destroy(),this.retries&&this.retries.destroy(),this.retriesView&&this.retriesView.destroy(),n.each(this.statistics,function(e){n.isFunction(e.destroy)&&e.destroy()})}});return m}),define("core/StickyHeader",["require","jquery","app"],function(e){"use strict";var t=e("jquery"),n="fixed-block",r=e("app"),i=r.getInstance(),s=function(e){if(!e.fixedBlock||e.fixedBlock.length===0){console.log("StickyHeader: fixed block not defined");return}this.topMargin=e.topMargin||0,this.minWidthWindow=e.minWidthWindow||0,this.originBlock=e.fixedBlock,this.clearOriginBlock(),this.cloneBlock=this.originBlock.clone(),this.isShow=null,this.activate=!0,this.checkWindowWidth(t(window).width()),this.originBlock.after(this.cloneBlock),this.scrollTop=i.mainScrollElement.scrollTop(),this.sync(),this.bindScrollChange=this.scrollChange.bind(this),this.bindResize=this.resize.bind(this),t.subscribe("scroll:change",this.bindScrollChange),t.subscribe("window:resize",this.bindResize),this.checkScroll()};return s.prototype.scrollChange=function(e,t){this.activate&&(this.scrollTop=t.top,this.isShow||this.sync(),this.checkScroll())},s.prototype.resize=function(e,t){this.checkWindowWidth(t.width),this.sync(),this.checkScroll()},s.prototype.checkWindowWidth=function(e){e<this.minWidthWindow?(this.activate=!1,this.hide(),this.clearOriginBlock()):this.activate=!0},s.prototype.sync=function(){var e=this.cloneBlock;this.isShow||(e=this.originBlock),this.originBlockTop=e.offset().top+this.scrollTop-this.topMargin,this.syncWidth()},s.prototype.syncWidth=function(){this.isShow&&this.originBlock.width(this.cloneBlock.width())},s.prototype.checkScroll=function(){this.activate&&(this.scrollTop>=this.originBlockTop?this.show():this.hide())},s.prototype.show=function(){if(this.isShow==null||!this.isShow)this.isShow=!0,this.originBlock.addClass(n).css({top:this.topMargin}),this.cloneBlock.css({display:"block"}),this.syncWidth()},s.prototype.hide=function(){if(this.isShow==null||this.isShow)this.isShow=!1,this.clearOriginBlock(),this.cloneBlock.css({display:"none"})},s.prototype.clearOriginBlock=function(){this.originBlock.removeClass(n).attr("style","")},s.prototype.updateClone=function(){this.cloneBlock.remove(),this.cloneBlock=this.originBlock.clone(),this.cloneBlock.addClass(n).css({top:0}),this.sync(),this.originBlock.after(this.cloneBlock),this.checkScroll()},s.prototype.destroy=function(){this.originBlock&&(this.cloneBlock.remove(),this.clearOriginBlock()),t.unsubscribe("scroll:change",this.bindScrollChange),t.unsubscribe("window:resize",this.bindResize)},s}),define("launches/launchLevel/LaunchTableView",["require","jquery","underscore","backbone-epoxy","util","app","launches/common/LaunchSuiteStepItemsView","launches/common/LaunchSuiteItemView","filters/SingletonLaunchFilterCollection","storage/SingletonUserStorage","core/StickyHeader"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("app"),o=e("launches/common/LaunchSuiteStepItemsView"),u=e("launches/common/LaunchSuiteItemView"),a=e("filters/SingletonLaunchFilterCollection"),f=e("storage/SingletonUserStorage"),l=e("core/StickyHeader"),c=s.getInstance(),h=r.View.extend({template:"tpl-launch-launch-table",events:{"click .rp-grid-th[data-sorter]":"onClickSorter","click .rp-grid-th[data-filter] .rp-icons-filter":"onClickFilter","change [data-js-select-all]":"onChangeSelectAll"},bindings:{".launch-suite-step-items":'classes: {"exact-driven": updateTimeFormat}'},computeds:{updateTimeFormat:function(){var e=this.userStorage.get("startTimeFormat");return e==="exact"}},initialize:function(e){this.filterModel=e.filterModel,this.userDebugMode=e.userDebugMode,this.render(),this.userStorage=new f,this.collectionItems=e.collectionItems,this.tableItems=new o({collection:this.collectionItems,itemView:u,filterModel:this.filterModel}),t("[data-js-table-container]",this.$el).append(this.tableItems.$el),this.listenTo(this.filterModel,"change:newSelectionParameters change:selection_parameters",this.onChangeSelectionParameters),this.listenTo(this.collectionItems,"reset change:select",n.debounce(this.onResetCollection,100)),this.onChangeSelectionParameters(),this.setupStickyHeader()},onShow:function(){this.tableItems.onShow&&this.tableItems.onShow()},activateNextId:function(e){this.tableItems.activateNextId(e)},onResetCollection:function(){var e=this.collectionItems.where({select:!1});e.length&&t("[data-js-select-all]",this.$el).prop("checked",!1)},setupStickyHeader:function(){this.destroyStickyHeader(),this.stickyHeader=new l({fixedBlock:t("[data-js-fixed-header]",this.$el),topMargin:0,minWidthWindow:900})},destroyStickyHeader:function(){this.stickyHeader&&this.stickyHeader.destroy()},onChangeSelectAll:function(e){var r=!1;c.trackingDispatcher.trackEventNumber(61.1),t(e.currentTarget).is(":checked")&&(r=!0),n.each(this.collectionItems.models,function(e){e.set({select:r})})},onClickSorter:function(e){var n=t(e.currentTarget).data("sorter"),r=this.filterModel.getParametersObj();r.sorting_column===n?r.is_asc=!r.is_asc:(r.is_asc=!0,r.sorting_column=n),this.filterModel.set({newSelectionParameters:JSON.stringify(r),curPage:1})},onClickFilter:function(e){e.stopPropagation();var n=t(e.currentTarget).closest(".rp-grid-th").data("filter");switch(n){case"name":c.trackingDispatcher.trackEventNumber(34);break;case"start_time":c.trackingDispatcher.trackEventNumber(36);break;case"statistics$executions$total":c.trackingDispatcher.trackEventNumber(38);break;case"statistics$executions$passed":c.trackingDispatcher.trackEventNumber(40);break;case"statistics$executions$failed":c.trackingDispatcher.trackEventNumber(42);break;case"statistics$executions$skipped":c.trackingDispatcher.trackEventNumber(44);break;case"statistics$defects$product_bug$total":c.trackingDispatcher.trackEventNumber(46);break;case"statistics$defects$automation_bug$total":c.trackingDispatcher.trackEventNumber(48);break;case"statistics$defects$system_issue$total":c.trackingDispatcher.trackEventNumber(50);break;case"statistics$defects$to_investigate$total":c.trackingDispatcher.trackEventNumber(52);break;default:}if(this.filterModel.get("id")==="all"&&!this.userDebugMode){var r=new a,i=r.generateTempModel();c.router.navigate(i.get("url"),{trigger:!0}),i.trigger("add_entity",n)}else this.filterModel.trigger("add_entity",n)},onChangeSelectionParameters:function(){t("[data-sorter]",this.$el).removeClass("sorting-asc sorting-desc");var e=this.filterModel.getParametersObj(),n=t('[data-sorter="'+e.sorting_column+'"]',this.$el);n&&n.length&&n.addClass(e.is_asc?"sorting-asc":"sorting-desc")},render:function(){this.$el.html(i.templates(this.template,{}))},onDestroy:function(){this.destroyStickyHeader(),this.tableItems&&this.tableItems.destroy(),this.$el.html(""),delete this}});return h}),define("tooltips/LaunchSuiteExecutionsTooltipView",["require","backbone-epoxy","util"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=t.View.extend({template:"tpl-launch-suite-executions-tooltip",className:"executions-tooltip",initialize:function(e){this.data=e.data,this.render()},render:function(){this.$el.html(n.templates(this.template,{stats:this.data}))},update:function(e){this.data=e,this.render()},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.remove(),delete this}});return r}),define("tooltips/LaunchSuiteDurationTooltipView",["require","exports","module","jquery","backbone-epoxy","util","localization"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone-epoxy"),s=e("util"),o=e("localization"),u=i.View.extend({template:"tpl-launch-suite-duration-tooltip",className:"duration-tooltip",initialize:function(){this.render()},render:function(){this.$el.html(s.templates(this.template,{message:o.launchesHeaders.durationSpecific}))},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.remove(),delete this}});return u}),define("launches/common/InfoPanelView",["require","exports","module","jquery","backbone","backbone-epoxy","util","app","launches/common/LaunchSuiteDefectsHoverView","tooltips/LaunchSuiteExecutionsTooltipView","tooltips/LaunchSuiteDurationTooltipView","localization"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("util"),u=e("app"),a=e("launches/common/LaunchSuiteDefectsHoverView"),f=e("tooltips/LaunchSuiteExecutionsTooltipView"),l=e("tooltips/LaunchSuiteDurationTooltipView"),c=e("localization"),h=u.getInstance(),p=s.View.extend({template:"tpl-launch-suite-info-panel",bindings:{"[data-js-passed-progress]":"attr: {style: getPassedForProgress}","[data-js-failed-progress]":"attr: {style: getFailedForProgress}","[data-js-skipped-progress]":"attr: {style: getSkippedForProgress}","[data-js-statistics-total]":"text: totalStatistics","[data-js-statistics-passed]":"text: passedStatistics","[data-js-defect-product_bug-total]":"text: productBugTotal","[data-js-defect-automation_bug-total]":"text: automationBugTotal","[data-js-defect-system_issue-total]":"text: systemIssueTotal","[data-js-defect-no_defect-total]":"text: noDefectTotal","[data-js-defect-to_investigate-total]":"text: toInvestigateTotal","[data-js-item-duration]":"html: itemDuration"},computeds:{getPassedForProgress:function(){var e=this.getBinding("statistics");return this.getStyleForProgress(e,"passed")},getFailedForProgress:function(){var e=this.getBinding("statistics");return this.getStyleForProgress(e,"failed")},getSkippedForProgress:function(){var e=this.getBinding("statistics");return this.getStyleForProgress(e,"skipped")},totalStatistics:function(){var e=this.getBinding("statistics");return e.executions.total},passedStatistics:function(){var e=this.getBinding("statistics");return this.getExecutionStats(e,"passed")},productBugTotal:function(){var e=this.getBinding("statistics");return this.getDefectStats(e,"product_bug")},automationBugTotal:function(){var e=this.getBinding("statistics");return this.getDefectStats(e,"automation_bug")},systemIssueTotal:function(){var e=this.getBinding("statistics");return this.getDefectStats(e,"system_issue")},noDefectTotal:function(){var e=this.getBinding("statistics");return this.getDefectStats(e,"no_defect")},toInvestigateTotal:function(){var e=this.getBinding("statistics");return this.getDefectStats(e,"to_investigate")},itemDuration:function(){var e=this.getBinding("status"),t=this.getBinding("start_time"),n=this.getBinding("end_time"),r=o.timeFormat(t,n),i=o.dateFormat(n,!0),s=c.launchesHeaders.interruptedAfter+" "+r+". "+c.launchesHeaders.stoppedAt+" "+i;if(e===h.launchStatus.interrupted)return'<abbr title="'+s+'" class="text-danger"><strong>'+r+"</strong></abbr>";if(e===h.launchStatus.inProgress){var u=c.launches.inProcess;return'<span title="'+u+'" class="duration-time"><img alt="'+u+'" src="img/time-in-progress.gif"></span>'}return"<abbr>"+r+"</abbr>"}},initialize:function(e){this.defectTypes=this.getDefectTypes(),this.render(),this.listenTo(this.model,"change:statistics",this.update)},render:function(){this.$el.html(o.templates(this.template,{model:this.model.toJSON({computed:!0}),defectTypes:this.defectTypes})),this.loadDefectTooltip(),this.loadDurationTooltip(),this.loadExecutionsTooltip()},update:function(){var e=this.model.get("statistics"),t=[{type:c.launches.launchPassed,stats:this.getExecutionStats(e,"passed")},{type:c.launches.launchFailed,stats:this.getExecutionStats(e,"failed")},{type:c.launches.launchSkipped,stats:this.getExecutionStats(e,"skipped")}];this.loadDefectTooltip(),this.executionsTooltip.update(t)},getExecutionStats:function(e,t){var n=e.executions,r=+n.total;return r?(+n[t]/r*100).toFixed(2):0},getDefectStats:function(e,t){var n=e.defects;return n[t].total},getDefectTypes:function(){var e=this.model.get("statistics"),t=e.defects,n={};return _.each(t,function(e,t){var r={type:t,color:o.getDefaultColor(t),longName:_.map(t.split("_"),function(e){return e.capitalize()}).join(" "),shortName:c.defectShortCutById[t.toUpperCase()]};n[t]=r},this),n},getStyleForProgress:function(e,t){var n="width: "+this.getExecutionStats(e,t)+"%;",r="background: "+o.getDefaultColor(t)+";";return n+" "+r},loadDefectTooltip:function(){var e=this.$el.find("[data-js-defect-type]"),t=this;e.each(function(e){var n=r(this),i=n.data("js-defect-type"),s=new a({el:r("[data-js-hover-element]",n),type:i,model:t.model})})},loadDurationTooltip:function(){var e=r("[data-js-duration]"),t=e.next(r("[data-js-hover-element]",this.$el));o.appendTooltip(function(){var e=new l({});return e.$el.html()},t,t)},loadExecutionsTooltip:function(){var e=this,t=r("[data-js-executions]"),n=this.model.get("statistics"),i=[{type:c.launches.launchPassed,stats:this.getExecutionStats(n,"passed")},{type:c.launches.launchFailed,stats:this.getExecutionStats(n,"failed")},{type:c.launches.launchSkipped,stats:this.getExecutionStats(n,"skipped")}],s=t.next(r("[data-js-hover-element]",this.$el));this.executionsTooltip=new f({data:i}),o.appendTooltip(function(){return e.executionsTooltip.$el},s,s)},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.remove(),delete this}});return p}),define("launches/suiteLevel/SuiteControlView",["require","filterEntities/FilterEntitiesView","util","jquery","underscore","backbone-epoxy","app","launches/common/InfoPanelView","localization"],function(e){"use strict";var t=e("filterEntities/FilterEntitiesView"),n=e("util"),r=e("jquery"),i=e("underscore"),s=e("backbone-epoxy"),o=e("app"),u=e("launches/common/InfoPanelView"),a=e("localization"),f=o.getInstance(),l=s.View.extend({events:{"click [data-js-refresh]":"onClickRefresh","click [data-js-milti-delete]":"onClickMultiDelete","click [data-js-history]":"onClickHistory"},bindings:{"[data-js-history]":"classes: {hide: not(validateForHistoryBtn)}","[data-js-refresh-counter]":"text: refreshItems, classes: {hide: not(refreshItems)}"},computeds:{validateForHistoryBtn:function(){var e=f.launchStatus.interrupted;return this.launchModel.get("status")!==e&&!this.collectionItems.validateForAllCases()&&!i.isEmpty(this.collectionItems.models)},getHistoryHref:function(){return this.getHistoryLink()}},template:"tpl-launch-suite-control",initialize:function(e){this.context=e.context,this.filterModel=e.filterModel,this.parentModel=e.parentModel,this.launchModel=e.launchModel,this.collectionItems=e.collectionItems,this.render(),this.model=new(s.Model.extend({defaults:{refreshItems:0}})),this.listenTo(this.collectionItems,"change:description change:tags",this.increaseRefreshItemsCount),this.listenTo(this.collectionItems,"loading",this.resetRefreshItems),this.listenTo(this.collectionItems,"change:issue",this.updateInfoLine),this.filterEntities=new t({el:r("[data-js-refine-entities]",this.$el),filterLevel:"suit",model:this.filterModel}),this.infoLine=new u({el:r("[data-js-info-line]",this.$el),model:this.parentModel}),this.activeMultiDelete()||r("[data-js-milti-delete]",this.$el).attr({title:a.launches.launchNotInProgress})},activeMultiDelete:function(){return this.launchModel.get("status")!==f.launchStatus.inProgress},render:function(){this.$el.html(n.templates(this.template,{context:this.context}))},updateInfoLine:function(){this.parentModel.collection.forceUpdate()},activateMultiple:function(){r("[data-js-refresh]",this.$el).addClass("disabled"),this.activeMultiDelete()&&(r("[data-js-milti-delete]",this.$el).removeClass("disabled").attr({title:a.launches.deleteBulk}),r("[data-js-history]",this.$el).addClass("disabled"))},onClickMultiDelete:function(){f.trackingDispatcher.trackEventNumber(86),this.trigger("multi:action","remove")},disableMultiple:function(){r("[data-js-refresh]",this.$el).removeClass("disabled"),this.activeMultiDelete()&&(r("[data-js-milti-delete]",this.$el).addClass("disabled").attr({title:a.launches.actionTitle}),r("[data-js-history]",this.$el).removeClass("disabled"))},onClickRefresh:function(){f.trackingDispatcher.trackEventNumber(88),this.collectionItems.load(),this.updateInfoLine(),this.resetRefreshItems()},increaseRefreshItemsCount:function(e){this.isAnyFilterEnabled()&&this.isFilteredAttrChanged(e)&&this.model.set({refreshItems:this.model.get("refreshItems")+1})},resetRefreshItems:function(){this.model.set({refreshItems:0})},isFilteredAttrChanged:function(e){var t=this,n=!1;return i.each(this.getFilterEntities(),function(r){i.each(t.getChangedAttrs(e),function(e,t){i.isMatch(r,{filtering_field:t})&&(n=!0)})}),n},getFilterEntities:function(){return this.filterModel.get("newEntities")!==""?JSON.parse(this.filterModel.get("newEntities")):JSON.parse(this.filterModel.get("entities"))},getChangedAttrs:function(e){var t=e.changedAttributes();return t.issue&&(JSON.parse(t.issue).issue_type!==JSON.parse(e.previousAttributes().issue).issue_type&&(t.issue$issue_type=JSON.parse(t.issue).issue_type),JSON.parse(t.issue).comment!==JSON.parse(e.previousAttributes().issue).comment&&(t.issue$issue_comment=JSON.parse(t.issue).comment),delete t.issue),t},isAnyFilterEnabled:function(){return!(this.filterModel.get("newEntities")===""&&this.filterModel.get("entities")==="[]"||this.filterModel.get("newEntities")==="[]"&&this.filterModel.get("entities")==="[]")},getHistoryLink:function(){var e=window.location.hash;return e+="&history.item="+this.parentModel.get("id"),e},onClickHistory:function(e){e.preventDefault(),r(e.currentTarget).hasClass("disabled")||(f.trackingDispatcher.trackEventNumber(87),f.router.navigate(this.getHistoryLink(),{trigger:!0}))},destroy:function(){this.filterEntities&&this.filterEntities.destroy(),this.infoLine&&this.infoLine.destroy(),this.$el.html(""),this.undelegateEvents(),this.stopListening(),this.unbind(),delete this}});return l}),define("launches/suiteLevel/SuiteTableView",["require","exports","module","jquery","backbone-epoxy","util","launches/common/LaunchSuiteItemView","launches/common/LaunchSuiteStepItemsView","storage/SingletonUserStorage","core/StickyHeader","app"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone-epoxy"),s=e("util"),o=e("launches/common/LaunchSuiteItemView"),u=e("launches/common/LaunchSuiteStepItemsView"),a=e("storage/SingletonUserStorage"),f=e("core/StickyHeader"),l=e("app"),c=l.getInstance(),h=i.View.extend({template:"tpl-launch-suite-table",events:{"click .rp-grid-th[data-sorter]":"onClickSorter","click .rp-grid-th[data-filter] .rp-icons-filter":"onClickFilter","change [data-js-select-all]":"onChangeSelectAll"},bindings:{".launch-suite-step-items":'classes: {"exact-driven": updateTimeFormat}',"[data-js-select-all]":"attr: {disabled: validateIsProcessing}"},computeds:{updateTimeFormat:function(){var e=this.userStorage.get("startTimeFormat");return e=="exact"},validateIsProcessing:function(){return this.getBinding("isProcessing")}},initialize:function(e){this.filterModel=e.filterModel,this.userStorage=new a,this.collectionItems=e.collectionItems,this.render(),this.tableItems=new u({collection:this.collectionItems,itemView:o,filterModel:this.filterModel}),r("[data-js-table-container]",this.$el).append(this.tableItems.$el),this.listenTo(this.filterModel,"change:newSelectionParameters",this.onChangeSelectionParameters),this.listenTo(this.collectionItems,"reset change:select",_.debounce(this.onResetCollection,100)),this.onChangeSelectionParameters(),this.setupStickyHeader()},activateNextId:function(e){this.tableItems.activateNextId(e)},onResetCollection:function(){var e=this.collectionItems.where({select:!1});e.length&&r("[data-js-select-all]",this.$el).prop("checked",!1)},onShow:function(){this.tableItems.onShow&&this.tableItems.onShow()},onClickSorter:function(e){var t=r(e.currentTarget).data("sorter"),n=this.filterModel.getParametersObj();switch(t){case"name":c.trackingDispatcher.trackEventNumber(106);break;case"start_time":c.trackingDispatcher.trackEventNumber(108);break;case"statistics$executions$total":c.trackingDispatcher.trackEventNumber(110);break;case"statistics$executions$passed":c.trackingDispatcher.trackEventNumber(112);break;case"statistics$executions$failed":c.trackingDispatcher.trackEventNumber(114);break;case"statistics$executions$skipped":c.trackingDispatcher.trackEventNumber(116);break;case"statistics$defects$product_bug$total":c.trackingDispatcher.trackEventNumber(118);break;case"statistics$defects$automation_bug$total":c.trackingDispatcher.trackEventNumber(120);break;case"statistics$defects$system_issue$total":c.trackingDispatcher.trackEventNumber(122);break;case"statistics$defects$to_investigate$total":c.trackingDispatcher.trackEventNumber(124)}n.sorting_column==t?n.is_asc=!n.is_asc:(n.is_asc=!0,n.sorting_column=t),this.filterModel.set({newSelectionParameters:JSON.stringify(n),curPage:1})},onClickFilter:function(e){var t=r(e.currentTarget).closest(".rp-grid-th").data("filter");e.stopPropagation();switch(t){case"name":c.trackingDispatcher.trackEventNumber(105);break;case"start_time":c.trackingDispatcher.trackEventNumber(107);break;case"statistics$executions$total":c.trackingDispatcher.trackEventNumber(109);break;case"statistics$executions$passed":c.trackingDispatcher.trackEventNumber(111);break;case"statistics$executions$failed":c.trackingDispatcher.trackEventNumber(113);break;case"statistics$executions$skipped":c.trackingDispatcher.trackEventNumber(115);break;case"statistics$defects$product_bug$total":c.trackingDispatcher.trackEventNumber(117);break;case"statistics$defects$automation_bug$total":c.trackingDispatcher.trackEventNumber(119);break;case"statistics$defects$system_issue$total":c.trackingDispatcher.trackEventNumber(121);break;case"statistics$defects$to_investigate$total":c.trackingDispatcher.trackEventNumber(123)}this.filterModel.trigger("add_entity",t)},onChangeSelectAll:function(e){var t=!1;r(e.currentTarget).is(":checked")&&(t=!0),_.each(this.collectionItems.models,function(e){e.set({select:t})})},onChangeSelectionParameters:function(){r("[data-sorter]",this.$el).removeClass("sorting-asc sorting-desc");var e=this.filterModel.getParametersObj(),t=r('[data-sorter="'+e.sorting_column+'"]',this.$el);t&&t.length&&t.addClass(e.is_asc?"sorting-asc":"sorting-desc")},render:function(){this.$el.html(s.templates(this.template,{}))},setupStickyHeader:function(){this.destroyStickyHeader(),this.stickyHeader=new f({fixedBlock:r("[data-js-fixed-header]",this.$el),topMargin:0,minWidthWindow:900})},destroyStickyHeader:function(){this.stickyHeader&&this.stickyHeader.destroy()},destroy:function(){this.destroyStickyHeader(),this.tableItems&&this.tableItems.destroy(),this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.html(""),delete this}});return h}),define("launches/stepLevel/StepControlView",["require","underscore","filterEntities/FilterEntitiesView","util","jquery","backbone-epoxy","launches/common/InfoPanelView","app","localization","model/SingletonAppModel","model/SingletonRegistryInfoModel"],function(e){"use strict";var t=e("underscore"),n=e("filterEntities/FilterEntitiesView"),r=e("util"),i=e("jquery"),s=e("backbone-epoxy"),o=e("launches/common/InfoPanelView"),u=e("app"),a=e("localization"),f=e("model/SingletonAppModel"),l=e("model/SingletonRegistryInfoModel"),c=u.getInstance(),h=s.View.extend({events:{"click [data-js-refresh]":"onClickRefresh","click [data-js-multi-action]":"onClickMultiAction","click [data-js-history]":"onClickHistory"},bindings:{"[data-js-history]":"classes: {hide: not(validateForHistoryBtn)}",'[data-js-multi-action="remove"]':"attr: {disabled: not(activeMultiDelete), title: multipleDeleteTooltip}",'[data-js-multi-action="loadbug"]':"attr: {disabled: any(loadBugTooltip), title: loadBugTooltip}",'[data-js-multi-action="postbug"]':"attr: {disabled: any(postBugTooltip), title: postBugTooltip}",'[data-js-multi-action="ignoreaa"], [data-js-multi-action="includeaa"]':"attr: {disabled: any(ignoreActionTooltip), title: ignoreActionTooltip}","[data-js-refresh-counter]":"text: refreshItems, classes: {hide: not(refreshItems)}"},computeds:{validateForHistoryBtn:{deps:["itemsCount"],get:function(){var e=c.launchStatus.interrupted,n=this.launchModel.get("status")!==e&&!this.collectionItems.validateForAllCases()&&!t.isEmpty(this.collectionItems.models);return n}},getHistoryHref:function(){return this.getHistoryLink()},activeMultiDelete:function(){return this.launchModel.get("status")!==c.launchStatus.inProgress},multipleDeleteTooltip:function(){return this.getBinding("activeMultiDelete")?"":a.launches.launchNotInProgress},loadBugTooltip:function(){return this.appModel.get("isBtsAdded")?"":a.launches.configureTBSLoad},postBugTooltip:function(){return this.appModel.get("isBtsConfigure")?"":a.launches.configureTBS},ignoreActionTooltip:function(){return this.registryInfoModel.get("isAnalyzerOn")?"":a.launches.noAnalyzer}},template:"tpl-launch-step-control",initialize:function(e){this.registryInfoModel=new l,this.context=e.context,this.filterModel=e.filterModel,this.launchModel=e.launchModel,this.parentModel=e.parentModel,this.collectionItems=e.collectionItems,this.appModel=new f,this.model=new(s.Model.extend({defaults:{refreshItems:0,itemsCount:0}})),this.listenTo(this.collectionItems,"loading",this.resetRefreshItems),this.listenTo(this.collectionItems,"change:issue",t.debounce(this.updateInfoLine.bind(this),50)),this.listenTo(this.collectionItems,"reset",this.resetCollectionItems),this.render(),this.filterEntities=new n({el:i("[data-js-refine-entities]",this.$el),filterLevel:"test",model:this.filterModel}),this.infoLine=new o({el:i("[data-js-info-line]",this.$el),model:this.parentModel})},render:function(){this.$el.html(r.templates(this.template,{context:this.context}))},updateInfoLine:function(){this.parentModel.collection.forceUpdate()},resetCollectionItems:function(){this.model.set({itemsCount:this.collectionItems.models.length})},activateMultiple:function(){i("[data-js-refresh], [data-js-history-view]",this.$el).addClass("disabled"),i("[data-js-multi-button]",this.$el).removeClass("disabled").attr({title:a.ui.actions}),i("[data-js-history]",this.$el).addClass("disabled")},disableMultiple:function(){i("[data-js-refresh], [data-js-history-view]",this.$el).removeClass("disabled"),i("[data-js-multi-button]",this.$el).addClass("disabled").attr({title:a.launches.actionTitle}),i("[data-js-history]",this.$el).removeClass("disabled")},onClickMultiAction:function(e){var t=i(e.currentTarget).data("js-multi-action");switch(t){case"editdefect":c.trackingDispatcher.trackEventNumber(164);break;case"postbug":c.trackingDispatcher.trackEventNumber(165);break;case"loadbug":c.trackingDispatcher.trackEventNumber(166);break;case"remove":c.trackingDispatcher.trackEventNumber(167);break;default:}this.trigger("multi:action",t)},onClickRefresh:function(){c.trackingDispatcher.trackEventNumber(169),this.collectionItems.load(),this.updateInfoLine(),this.resetRefreshItems()},resetRefreshItems:function(){this.model.set({refreshItems:0})},getHistoryLink:function(){var e=window.location.hash;return e+="&history.item="+this.parentModel.get("id"),e},onClickHistory:function(e){e.preventDefault(),i(e.currentTarget).hasClass("disabled")||(c.trackingDispatcher.trackEventNumber(168),c.router.navigate(this.getHistoryLink(),{trigger:!0}))},onDestroy:function(){this.filterEntities&&this.filterEntities.destroy(),this.infoLine&&this.infoLine.destroy()}});return h}),define("components/TinySwitcherComponent",["require","jquery","backbone-epoxy","util"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=n.View.extend({className:"tiny-switcher-component",template:"tpl-tiny-switcher-component",events:{"click [data-js-tiny-switcher]":"onClickTinySwitcher"},initialize:function(e){this.options=e,this.enabled=e.isEnabledByDefault,this.options.holder.html(this.$el),this.render()},render:function(){this.$el.html(r.templates(this.template,this.options)),!this.options.label&&t("[data-js-tiny-switcher-label]",this.$el).addClass("hide"),t("[data-js-checkbox]",this.$el).prop("checked",this.enabled),t("[data-js-tiny-switcher-label]",this.$el).addClass(this.options.labelPosition&&this.options.labelPosition==="r"?"right":"left")},onClickTinySwitcher:function(e){e.stopPropagation(),e.preventDefault(),this.enabled=!this.enabled,t("[data-js-checkbox]",this.$el).prop("checked",this.enabled),this.trigger("changeState",this.enabled)},onDestroy:function(){this.$el.html(""),delete this}});return i}),define("modals/modalDefectEditor",["require","jquery","underscore","modals/_modalView","backbone","app","util","coreService","localization","components/markdown/MarkdownEditor","components/TinySwitcherComponent","defectType/SingletonDefectTypeCollection","storage/SingletonAppStorage","model/SingletonAppModel","model/SingletonRegistryInfoModel"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("modals/_modalView"),i=e("backbone"),s=e("app"),o=e("util"),u=e("coreService"),a=e("localization"),f=e("components/markdown/MarkdownEditor"),l=e("components/TinySwitcherComponent"),c=e("defectType/SingletonDefectTypeCollection"),h=e("storage/SingletonAppStorage"),p=e("model/SingletonAppModel"),d=e("model/SingletonRegistryInfoModel"),v=s.getInstance(),m=r.extend({template:"tpl-modal-defect-editor",className:"modal-defect-editor",bindings:{"[data-js-save-post-wrapper]":"classes: {disabled: not(isBtsConfigure)}","[data-js-save-load-wrapper]":"classes: {disabled: not(isBtsAdded)}","[data-js-save-post]":"attr: {disabled: not(isBtsConfigure)}","[data-js-save-load]":"attr: {disabled: not(isBtsAdded)}","[data-js-save-unlink]":"attr: {disabled: not(isCanUnlink)}","[data-js-replace-comment]":"checked: replaceComment"},events:{"click [data-js-save]":"onClickSave","click [data-js-select-issue]":"selectIssueType","click [data-js-close]":"onClickClose","click [data-js-cancel]":"onClickCancel","click [data-js-save-post]":"onClickSavePost","click [data-js-save-load]":"onClickSaveLoad","click [data-js-save-unlink]":"onClickSaveUnlink","click [data-js-dropdown]":"onClickDropdown"},computeds:{isBtsAdded:function(){return this.appModel.get("isBtsAdded")},isBtsConfigure:function(){return this.appModel.get("isBtsConfigure")},isCanUnlink:function(){var e;return this.items&&this.items.length>1?!0:(e=this.items[0].getIssue(),e&&e.externalSystemIssues&&e.externalSystemIssues.length)}},onClickDropdown:function(){v.trackingDispatcher.trackEventNumber(524)},onClickSavePost:function(){var e=this;v.trackingDispatcher.trackEventNumber(525),this.onClickAction(function(){e.successClose({action:"postBug"})})},setReplaceComment:function(){var e=this.viewModel.get("replaceComment");this.appStorage.set({replaceComment:e})},onClickSaveLoad:function(){var e=this;v.trackingDispatcher.trackEventNumber(526),this.onClickAction(function(){e.successClose({action:"loadBug"})})},onClickSaveUnlink:function(){var e=this;v.trackingDispatcher.trackEventNumber(526),this.onClickAction(function(){e.successClose({action:"unlinkIssue"})})},initialize:function(e){this.context=e.context,this.registryInfo=new d,this.appStorage=new h,this.viewModel=new i.Model,this.appStorage.get("replaceComment")===undefined?this.viewModel.set({replaceComment:!0}):this.viewModel.set({replaceComment:this.appStorage.get("replaceComment")}),this.items=e.items,this.appModel=new p,this.defectTypesCollection=new c,this.defectTypesCollection.ready.done(function(){this.render(e)}.bind(this)),this.selectedIssue=null},render:function(){this.$el.html(o.templates(this.template,{item:this.items[0],isMultipleEdit:this.isMultipleEdit(),defectsGroup:v.defectsGroupSorted,subDefects:this.getSubDefects(),getIssueType:this.getIssueType,getIssueComment:this.getIssueComment,getDefectType:this.getDefectType()})),this.applyBindings(),this.setupAnchors(),this.setupMarkdownEditor(),this.isMultipleEdit()||(this.viewModel.set("ignoreAA",this.items[0].getIssue().ignoreAnalyzer),this.context!=="userdebug"&&this.registryInfo.get("isAnalyzerOn")&&(this.ignoreSwitcher=new l({holder:t("[data-js-ignore-aa-switcher-container]",this.$el),isEnabledByDefault:this.viewModel.get("ignoreAA"),label:a.launches.ignoreAA,labelPosition:"r"}),this.listenTo(this.ignoreSwitcher,"changeState",function(e){this.viewModel.set("ignoreAA",e)}))),this.listenTo(this.viewModel,"change:replaceComment",this.setReplaceComment)},isMultipleEdit:function(){return this.items.length>1},setupAnchors:function(){this.$type=t("[data-js-issue-name]",this.$el),this.$replaceComments=t("[data-js-replace-comment]",this.$el)},onKeySuccess:function(){t("[data-js-save]",this.$el).focus().trigger("click")},getIssueType:function(e){var t=e.getIssue();return t.issue_type},getIssueComment:function(e){var t=e.getIssue();return t.comment?t.comment:""},getDefectType:function(){var e=this;return function(t){var n=e.getIssueType(t),r=e.defectTypesCollection.getDefectType(n);return r}},getSubDefects:function(){var e={},t=this.defectTypesCollection.toJSON();return n.each(t,function(t){var n=t.typeRef;e[n]?e[n].push(t):e[n]=[t]}),e},selectIssueType:function(e){var n=t(e.currentTarget),r=n.data("locator"),i=this.defectTypesCollection.getDefectType(r),s=n.closest(".dropdown-menu");t("label",s).removeClass("selected"),n.addClass("selected"),this.selectedIssue=r,this.$type.text(i.longName).attr("class",n.find(".badge").attr("class")),this.$type.closest("[data-js-issue-title]").data("id",this.selectedIssue),t("[data-js-noissue-name]",this.$el).hide(),t("[data-js-issue-title]",this.$el).show(),t("[data-js-issue-title] i",this.$el).css("background",i.color),this.getIssueType(this.items[0])!==this.selectedIssue&&this.disableHideBackdrop()},setupMarkdownEditor:function(){this.markdownEditor=new f({value:this.items.length!==1?"":this.getIssueComment(this.items[0]),placeholder:a.dialog.commentForDefect}),t("[data-js-issue-comment]",this.$el).html(this.markdownEditor.$el)},onShown:function(){this.markdownEditor.update(),this.listenTo(this.markdownEditor,"change",this.disableHideBackdrop),this.initState={comment:this.markdownEditor.getValue(),selectedIssue:this.selectedIssue,replaceComments:this.$replaceComments.is(":checked")},!this.isMultipleEdit()&&(this.initState.ignoreAA=this.viewModel.get("ignoreAA"))},isChanged:function(){var e=this.initState.comment!==this.markdownEditor.getValue()||this.initState.selectedIssue!==this.selectedIssue||this.initState.replaceComments!==this.$replaceComments.is(":checked");return this.isMultipleEdit()||(e=e||this.initState.ignoreAA!==this.viewModel.get("ignoreAA")),e},onHide:function(){this.ignoreSwitcher&&this.ignoreSwitcher.destroy(),this.markdownEditor.destroy()},onClickClose:function(){v.trackingDispatcher.trackEventNumber(157)},onClickCancel:function(){v.trackingDispatcher.trackEventNumber(159)},onClickAction:function(e){var t=this;this.showLoading(),this.updateDefectType().done(function(){e()}).fail(function(e){o.ajaxFailMessenger(e,"updateDefect")}).always(function(){t.hideLoading()})},onClickSave:function(){var e=this;this.onClickAction(function(){e.successClose()})},updateDefectType:function(){var e=t.Deferred(),r=this.markdownEditor.getValue(),i=this.selectedIssue,s=[],a=this.viewModel.get("replaceComment"),f=this,l;return this.isChanged()?(v.trackingDispatcher.trackEventNumber(160),n.forEach(this.items,function(e){var t=e.getIssue();t.autoAnalyzed&&(t.autoAnalyzed=!1);if(a&&this.isMultipleEdit()||!this.isMultipleEdit())v.trackingDispatcher.trackEventNumber(158),t.comment=r;t.issue_type=i||this.getIssueType(e),s.push({test_item_id:e.get("id"),issue:t})},this),l={issues:s},!this.isMultipleEdit()&&(l.issues[0].issue.ignoreAnalyzer=this.viewModel.get("ignoreAA")),u.updateDefect(l).done(function(){var t=this.getIssueType(this.items[0]);i&&t!==i,o.ajaxSuccessMessenger("updateDefect"),n.forEach(f.items,function(e){var t=e.getIssue();t.autoAnalyzed&&(t.autoAnalyzed=!1),t.issue_type=i||this.getIssueType(e),t.ignoreAnalyzer=f.viewModel.get("ignoreAA"),e.setIssue(t)},f),e.resolve()}.bind(this)).fail(function(t){e.reject(t)}),e):(e.resolve(),e)}});return m}),define("tooltips/LaunchStepTicketTooltipView",["require","exports","module","jquery","backbone-epoxy","util","localization"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone-epoxy"),s=e("util"),o=e("localization"),u=i.View.extend({template:"tpl-launch-step-ticket-tooltip",className:"ticket-tooltip",initialize:function(){this.render()},render:function(){this.$el.html(s.templates(this.template))},update:function(e){r("[data-js-preloader]",this.$el).addClass("hide"),r("[data-js-tooltip-message]",this.$el).html(e)},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.remove(),delete this}});return u}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/version",["jquery"],e):e(jQuery)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/keycode",["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/widgets/datepicker",["jquery","../version","../keycode"],e):e(jQuery)}(function(e){function n(e){var t,n;while(e.length&&e[0]!==document){t=e.css("position");if(t==="absolute"||t==="relative"||t==="fixed"){n=parseInt(e.css("zIndex"),10);if(!isNaN(n)&&n!==0)return n}e=e.parent()}return 0}function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=i(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",n,function(){e(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,s)}function s(){e.datepicker._isDisabledDatepicker(t.inline?t.dpDiv.parent()[0]:t.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).addClass("ui-datepicker-next-hover"))}function o(t,n){e.extend(t,n);for(var r in n)n[r]==null&&(t[r]=n[r]);return t}e.extend(e.ui,{datepicker:{version:"1.12.1"}});var t;return e.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return o(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var r,i,s;r=t.nodeName.toLowerCase(),i=r==="div"||r==="span",t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),i),s.settings=e.extend({},n||{}),r==="input"?this._connectDatepicker(t,s):i&&this._inlineDatepicker(t,s)},_newInst:function(t,n){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var r=e(t);n.append=e([]),n.trigger=e([]);if(r.hasClass(this.markerClassName))return;this._attachments(r,n),r.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t)},_attachments:function(t,n){var r,i,s,o=this._get(n,"appendText"),u=this._get(n,"isRTL");n.append&&n.append.remove(),o&&(n.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[u?"before":"after"](n.append)),t.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),r=this._get(n,"showOn"),(r==="focus"||r==="both")&&t.on("focus",this._showDatepicker);if(r==="button"||r==="both")i=this._get(n,"buttonText"),s=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:i,title:i}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:i,title:i}):i)),t[u?"before":"after"](n.trigger),n.trigger.on("click",function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,r,i,s=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){n=0,r=0;for(i=0;i<e.length;i++)e[i].length>n&&(n=e[i].length,r=i);return r},s.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,n){var r=e(t);if(r.hasClass(this.markerClassName))return;r.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block")},_dialogDatepicker:function(t,n,r,i,s){var u,a,f,l,c,h=this._dialogInst;return h||(this.uuid+=1,u="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+u+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},e.data(this._dialogInput[0],"datepicker",h)),o(h.settings,i||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(a=document.documentElement.clientWidth,f=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+l,f/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(n){var r,i=e(n),s=e.data(n,"datepicker");if(!i.hasClass(this.markerClassName))return;r=n.nodeName.toLowerCase(),e.removeData(n,"datepicker"),r==="input"?(s.append.remove(),s.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):(r==="div"||r==="span")&&i.removeClass(this.markerClassName).empty(),t===s&&(t=null)},_enableDatepicker:function(t){var n,r,i=e(t),s=e.data(t,"datepicker");if(!i.hasClass(this.markerClassName))return;n=t.nodeName.toLowerCase();if(n==="input")t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(n==="div"||n==="span")r=i.children("."+this._inlineClass),r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1);this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e})},_disableDatepicker:function(t){var n,r,i=e(t),s=e.data(t,"datepicker");if(!i.hasClass(this.markerClassName))return;n=t.nodeName.toLowerCase();if(n==="input")t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(n==="div"||n==="span")r=i.children("."+this._inlineClass),r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0);this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,r){var i,s,u,a,f=this._getInst(t);if(arguments.length===2&&typeof n=="string")return n==="defaults"?e.extend({},e.datepicker._defaults):f?n==="all"?e.extend({},f.settings):this._get(f,n):null;i=n||{},typeof n=="string"&&(i={},i[n]=r),f&&(this._curInst===f&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),u=this._getMinMaxDate(f,"min"),a=this._getMinMaxDate(f,"max"),o(f.settings,i),u!==null&&i.dateFormat!==undefined&&i.minDate===undefined&&(f.settings.minDate=this._formatDate(f,u)),a!==null&&i.dateFormat!==undefined&&i.maxDate===undefined&&(f.settings.maxDate=this._formatDate(f,a)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),f),this._autoSize(f),this._setDate(f,s),this._updateAlternate(f),this._updateDatepicker(f))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,r,i,s=e.datepicker._getInst(t.target),o=!0,u=s.dpDiv.is(".ui-datepicker-rtl");s._keyEvent=!0;if(e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return i=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),i[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,i[0]),n=e.datepicker._get(s,"onSelect"),n?(r=e.datepicker._formatDate(s),n.apply(s.input?s.input[0]:null,[r,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,u?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,u?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else t.keyCode===36&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,r,i=e.datepicker._getInst(t.target);if(e.datepicker._get(i,"constrainInput"))return n=e.datepicker._possibleChars(e.datepicker._get(i,"dateFormat")),r=String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||r<" "||!n||n.indexOf(r)>-1},_doKeyUp:function(t){var n,r=e.datepicker._getInst(t.target);if(r.input.val()!==r.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(r,"dateFormat"),r.input?r.input.val():null,e.datepicker._getFormatConfig(r)),n&&(e.datepicker._setDateFromField(r),e.datepicker._updateAlternate(r),e.datepicker._updateDatepicker(r))}catch(i){}return!0},_showDatepicker:function(t){t=t.target||t,t.nodeName.toLowerCase()!=="input"&&(t=e("input",t.parentNode)[0]);if(e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)return;var r,i,s,u,a,f,l;r=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==r&&(e.datepicker._curInst.dpDiv.stop(!0,!0),r&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),i=e.datepicker._get(r,"beforeShow"),s=i?i.apply(t,[t,r]):{};if(s===!1)return;o(r.settings,s),r.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(r),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),u=!1,e(t).parents().each(function(){return u|=e(this).css("position")==="fixed",!u}),a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,r.dpDiv.empty(),r.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(r),a=e.datepicker._checkOffset(r,a,u),r.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":u?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),r.inline||(f=e.datepicker._get(r,"showAnim"),l=e.datepicker._get(r,"duration"),r.dpDiv.css("z-index",n(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[f]?r.dpDiv.show(f,e.datepicker._get(r,"showOptions"),l):r.dpDiv[f||"show"](f?l:null),e.datepicker._shouldFocusInput(r)&&r.input.trigger("focus"),e.datepicker._curInst=r)},_updateDatepicker:function(n){this.maxRows=4,t=n,n.dpDiv.empty().append(this._generateHTML(n)),this._attachHandlers(n);var r,i=this._getNumberOfMonths(n),o=i[1],u=17,a=n.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&s.apply(a.get(0)),n.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&n.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",u*o+"em"),n.dpDiv[(i[0]!==1||i[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),n.dpDiv[(this._get(n,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),n===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),n.yearshtml&&(r=n.yearshtml,setTimeout(function(){r===n.yearshtml&&n.yearshtml&&n.dpDiv.find("select.ui-datepicker-year:first").replaceWith(n.yearshtml),r=n.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,r){var i=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,u=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(r?0:e(document).scrollLeft()),f=document.documentElement.clientHeight+(r?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?i-o:0,n.left-=r&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=r&&n.top===t.input.offset().top+u?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+i>a&&a>i?Math.abs(n.left+i-a):0),n.top-=Math.min(n.top,n.top+s>f&&f>s?Math.abs(s+u):0),n},_findPos:function(t){var n,r=this._getInst(t),i=this._get(r,"isRTL");while(t&&(t.type==="hidden"||t.nodeType!==1||e.expr.filters.hidden(t)))t=t[i?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,r,i,s,o=this._curInst;if(!o||t&&o!==e.data(t,"datepicker"))return;this._datepickerShowing&&(n=this._get(o,"showAnim"),r=this._get(o,"duration"),i=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[n]||e.effects[n])?o.dpDiv.hide(n,e.datepicker._get(o,"showOptions"),r,i):o.dpDiv[n==="slideDown"?"slideUp":n==="fadeIn"?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1,s=this._get(o,"onClose"),s&&s.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(!e.datepicker._curInst)return;var n=e(t.target),r=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&n.parents("#"+e.datepicker._mainDivId).length===0&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==r)&&e.datepicker._hideDatepicker()},_adjustDate:function(t,n,r){var i=e(t),s=this._getInst(i[0]);if(this._isDisabledDatepicker(i[0]))return;this._adjustInstDate(s,n+(r==="M"?this._get(s,"showCurrentAtPos"):0),r),this._updateDatepicker(s)},_gotoToday:function(t){var n,r=e(t),i=this._getInst(r[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(n=new Date,i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()),this._notifyChange(i),this._adjustDate(r)},_selectMonthYear:function(t,n,r){var i=e(t),s=this._getInst(i[0]);s["selected"+(r==="M"?"Month":"Year")]=s["draw"+(r==="M"?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(i)},_selectDay:function(t,n,r,i){var s,o=e(t);if(e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0]))return;s=this._getInst(o[0]),s.selectedDay=s.currentDay=e("a",i).html(),s.selectedMonth=s.currentMonth=n,s.selectedYear=s.currentYear=r,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var r,i=e(t),s=this._getInst(i[0]);n=n!=null?n:this._formatDate(s),s.input&&s.input.val(n),this._updateAlternate(s),r=this._get(s,"onSelect"),r?r.apply(s.input?s.input[0]:null,[n,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],typeof s.input[0]!="object"&&s.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var n,r,i,s=this._get(t,"altField");s&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),i=this.formatDate(n,r,this._getFormatConfig(t)),e(s).val(i))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,r){if(t==null||n==null)throw"Invalid arguments";n=typeof n=="object"?n.toString():n+"";if(n==="")return null;var i,s,o,u=0,a=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,f=typeof a!="string"?a:(new Date).getFullYear()%100+parseInt(a,10),l=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,c=(r?r.dayNames:null)||this._defaults.dayNames,h=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,p=(r?r.monthNames:null)||this._defaults.monthNames,d=-1,v=-1,m=-1,g=-1,y=!1,b,w=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},E=function(e){var t=w(e),r=e==="@"?14:e==="!"?20:e==="y"&&t?4:e==="o"?3:2,i=e==="y"?r:1,s=new RegExp("^\\d{"+i+","+r+"}"),o=n.substring(u).match(s);if(!o)throw"Missing number at position "+u;return u+=o[0].length,parseInt(o[0],10)},S=function(t,r,i){var s=-1,o=e.map(w(t)?i:r,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});e.each(o,function(e,t){var r=t[1];if(n.substr(u,r.length).toLowerCase()===r.toLowerCase())return s=t[0],u+=r.length,!1});if(s!==-1)return s+1;throw"Unknown name at position "+u},x=function(){if(n.charAt(u)!==t.charAt(i))throw"Unexpected literal at position "+u;u++};for(i=0;i<t.length;i++)if(y)t.charAt(i)==="'"&&!w("'")?y=!1:x();else switch(t.charAt(i)){case"d":m=E("d");break;case"D":S("D",l,c);break;case"o":g=E("o");break;case"m":v=E("m");break;case"M":v=S("M",h,p);break;case"y":d=E("y");break;case"@":b=new Date(E("@")),d=b.getFullYear(),v=b.getMonth()+1,m=b.getDate();break;case"!":b=new Date((E("!")-this._ticksTo1970)/1e4),d=b.getFullYear(),v=b.getMonth()+1,m=b.getDate();break;case"'":w("'")?x():y=!0;break;default:x()}if(u<n.length){o=n.substr(u);if(!/^\s+/.test(o))throw"Extra/unparsed characters found in date: "+o}d===-1?d=(new Date).getFullYear():d<100&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=f?0:-100));if(g>-1){v=1,m=g;do{s=this._getDaysInMonth(d,v-1);if(m<=s)break;v++,m-=s}while(!0)}b=this._daylightSavingAdjust(new Date(d,v-1,m));if(b.getFullYear()!==d||b.getMonth()+1!==v||b.getDate()!==m)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var r,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,a=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},f=function(e,t,n){var r=""+t;if(a(e))while(r.length<n)r="0"+r;return r},l=function(e,t,n,r){return a(e)?r[t]:n[t]},c="",h=!1;if(t)for(r=0;r<e.length;r++)if(h)e.charAt(r)==="'"&&!a("'")?h=!1:c+=e.charAt(r);else switch(e.charAt(r)){case"d":c+=f("d",t.getDate(),2);break;case"D":c+=l("D",t.getDay(),i,s);break;case"o":c+=f("o",Math.round(((new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()-(new Date(t.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":c+=f("m",t.getMonth()+1,2);break;case"M":c+=l("M",t.getMonth(),o,u);break;case"y":c+=a("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=t.getTime()*1e4+this._ticksTo1970;break;case"'":a("'")?c+="'":h=!0;break;default:c+=e.charAt(r)}return c},_possibleChars:function(e){var t,n="",r=!1,i=function(n){var r=t+1<e.length&&e.charAt(t+1)===n;return r&&t++,r};for(t=0;t<e.length;t++)if(r)e.charAt(t)==="'"&&!i("'")?r=!1:n+=e.charAt(t);else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":i("'")?n+="'":r=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()===e.lastVal)return;var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),s=i,o=this._getFormatConfig(e);try{s=this.parseDate(n,r,o)||i}catch(u){r=t?"":r}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=r?s.getDate():0,e.currentMonth=r?s.getMonth():0,e.currentYear=r?s.getFullYear():0,this._adjustInstDate(e)},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,r){var i=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(r){}var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=i.getFullYear(),o=i.getMonth(),u=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,f=a.exec(n);while(f){switch(f[2]||"d"){case"d":case"D":u+=parseInt(f[1],10);break;case"w":case"W":u+=parseInt(f[1],10)*7;break;case"m":case"M":o+=parseInt(f[1],10),u=Math.min(u,e.datepicker._getDaysInMonth(s,o));break;case"y":case"Y":s+=parseInt(f[1],10),u=Math.min(u,e.datepicker._getDaysInMonth(s,o))}f=a.exec(n)}return new Date(s,o,u)},o=n==null||n===""?r:typeof n=="string"?s(n):typeof n=="number"?isNaN(n)?r:i(n):new Date(n.getTime());return o=o&&o.toString()==="Invalid Date"?r:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),(i!==e.selectedMonth||s!==e.selectedYear)&&!n&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&e.input.val()===""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),r="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(r,-n,"M")},next:function(){e.datepicker._adjustDate(r,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(r)},selectDay:function(){return e.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(r,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q=new Date,R=this._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth(),q.getDate())),U=this._get(e,"isRTL"),z=this._get(e,"showButtonPanel"),W=this._get(e,"hideIfNoPrevNext"),X=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),$=this._get(e,"showCurrentAtPos"),J=this._get(e,"stepMonths"),K=V[0]!==1||V[1]!==1,Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(e,"min"),Y=this._getMinMaxDate(e,"max"),Z=e.drawMonth-$,et=e.drawYear;Z<0&&(Z+=12,et--);if(Y){t=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth()-V[0]*V[1]+1,Y.getDate())),t=G&&t<G?G:t;while(this._daylightSavingAdjust(new Date(et,Z,1))>t)Z--,Z<0&&(Z=11,et--)}e.drawMonth=Z,e.drawYear=et,n=this._get(e,"prevText"),n=X?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z-J,1)),this._getFormatConfig(e)):n,r=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>",i=this._get(e,"nextText"),i=X?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z+J,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>",o=this._get(e,"currentText"),u=this._get(e,"gotoCurrent")&&e.currentDay?Q:R,o=X?this.formatDate(o,u,this._getFormatConfig(e)):o,a=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",f=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(U?a:"")+(this._isInRange(e,u)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(U?"":a)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,c=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),d=this._get(e,"monthNames"),v=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),g=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="";for(S=0;S<V[0];S++){x="",this.maxRows=4;for(T=0;T<V[1];T++){N=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),C=" ui-corner-all",k="";if(K){k+="<div class='ui-datepicker-group";if(V[1]>1)switch(T){case 0:k+=" ui-datepicker-group-first",C=" ui-corner-"+(U?"right":"left");break;case V[1]-1:k+=" ui-datepicker-group-last",C=" ui-corner-"+(U?"left":"right");break;default:k+=" ui-datepicker-group-middle",C=""}k+="'>"}k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&S===0?U?s:r:"")+(/all|right/.test(C)&&S===0?U?r:s:"")+this._generateMonthYearHeader(e,Z,et,G,Y,S>0||T>0,d,v)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",L=c?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"";for(E=0;E<7;E++)A=(E+l)%7,L+="<th scope='col'"+((E+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+h[A]+"'>"+p[A]+"</span></th>";k+=L+"</tr></thead><tbody>",O=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,O)),M=(this._getFirstDayOfMonth(et,Z)-l+7)%7,_=Math.ceil((M+O)/7),D=K?this.maxRows>_?this.maxRows:_:_,this.maxRows=D,P=this._daylightSavingAdjust(new Date(et,Z,1-M));for(H=0;H<D;H++){k+="<tr>",B=c?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>":"";for(E=0;E<7;E++)j=m?m.apply(e.input?e.input[0]:null,[P]):[!0,""],F=P.getMonth()!==Z,I=F&&!y||!j[0]||G&&P<G||Y&&P>Y,B+="<td class='"+((E+l+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(P.getTime()===N.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===P.getTime()&&b.getTime()===N.getTime()?" "+this._dayOverClass:"")+(I?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!g?"":" "+j[1]+(P.getTime()===Q.getTime()?" "+this._currentClass:"")+(P.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+((!F||g)&&j[2]?" title='"+j[2].replace(/'/g,"&#39;")+"'":"")+(I?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(F&&!g?"&#xa0;":I?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===R.getTime()?" ui-state-highlight":"")+(P.getTime()===Q.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);k+=B+"</tr>"}Z++,Z>11&&(Z=0,et++),k+="</tbody></table>"+(K?"</div>"+(V[0]>0&&T===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=k}w+=x}return w+=f,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,r,i,s,o,u){var a,f,l,c,h,p,d,v,m=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(s||!m)w+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{a=r&&r.getFullYear()===n,f=i&&i.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(l=0;l<12;l++)(!a||l>=r.getMonth())&&(!f||l<=i.getMonth())&&(w+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+u[l]+"</option>");w+="</select>"}y||(b+=w+(s||!m||!g?"&#xa0;":""));if(!e.yearshtml){e.yearshtml="";if(s||!g)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{c=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},d=p(c[0]),v=Math.max(d,p(c[1]||"")),d=r?Math.max(d,r.getFullYear()):d,v=i?Math.min(v,i.getFullYear()):v,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;d<=v;d++)e.yearshtml+="<option value='"+d+"'"+(d===n?" selected='selected'":"")+">"+d+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}}return b+=this._get(e,"yearSuffix"),y&&(b+=(s||!m||!g?"&#xa0;":"")+w),b+="</div>",b},_adjustInstDate:function(e,t,n){var r=e.selectedYear+(n==="Y"?t:0),i=e.selectedMonth+(n==="M"?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+(n==="D"?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),(n==="M"||n==="Y")&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&t<n?n:t;return r&&i>r?r:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return t==null?[1,1]:typeof t=="number"?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return(new Date(e,t,1)).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,r+(t<0?t:i[0]*i[1]),1));return t<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n,r,i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),o=null,u=null,a=this._get(e,"yearRange");return a&&(n=a.split(":"),r=(new Date).getFullYear(),o=parseInt(n[0],10),u=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(o+=r),n[1].match(/[+\-].*/)&&(u+=r)),(!i||t.getTime()>=i.getTime())&&(!s||t.getTime()<=s.getTime())&&(!o||t.getFullYear()>=o)&&(!u||t.getFullYear()<=u)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),e("#"+e.datepicker._mainDivId).length===0&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return typeof t!="string"||t!=="isDisabled"&&t!=="getDate"&&t!=="widget"?t==="option"&&arguments.length===2&&typeof arguments[1]=="string"?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){typeof t=="string"?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new r,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.12.1",e.datepicker}),define("bts/BtsFieldsCommonView",["require","jquery","underscore","backbone-epoxy","util","app","jquery-ui/widgets/datepicker"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("app"),o=s.getInstance(),u;return e("jquery-ui/widgets/datepicker"),u=r.View.extend({template:"",events:{},initialize:function(){},applyTypeForBtsFields:function(e,r){var s=this;n.forEach(e,function(e){var u=e.id.replaceAll(".",""),a,f;s.validForMultiSelect(e)?(a=n.map(e.definedValues,function(e){var t=e.valueName.trim();return{id:t,text:t}}),f=t("#"+e.id,r),i.setupSelect2WhithScroll(f,{tags:!1,data:a}),f.on("remove",function(){f.select2("destroy"),f=null,a=null,t("body > #select2-drop-mask, body > .select2-sizer").remove()})):s.validForDatePicker(e)?t("[data-id="+u+"]").prop("readonly",!0).datepicker({dateFormat:o.dateTimeFormat}).on("remove",function(){t(this).datepicker("destroy")}):s.validForIntegers(e)?i.bootValidator(t("[data-id="+u+"]",r),[{validator:"matchRegex",type:"onlyIntegersRegex",pattern:o.patterns.onlyIntegers}]):s.validForDropDown(e)?e.definedValues&&e.definedValues.length>o.dynamicDropDownVisible&&(i.setupSelect2WhithScroll(t("[data-id="+u+"]",r),{allowClear:!0}),t("[data-id="+u+"]",r).on("remove",function(){t(this).select2("destroy"),t("body > #select2-drop-mask, body > .select2-sizer").remove()})):s.validForDouble(e)&&i.bootValidator(t("[data-id="+u+"]",r),[{validator:"matchRegex",type:"doublesRegex",pattern:o.patterns.doubles}])})},validForMultiSelect:function(e){return e.fieldType==="array"&&e.definedValues&&e.definedValues.length},validForDatePicker:function(e){return e.fieldType==="date"||e.fieldType.toLowerCase()==="datetime"},validForIntegers:function(e){return e.fieldType==="Integer"||e.fieldType==="number"},validForDropDown:function(e){return e.definedValues&&e.definedValues.length&&e.fieldType!=="array"},validForDouble:function(e){return e.fieldType==="Double"},onDestroy:function(){}}),u}),define("modals/modalPostBug",["require","jquery","underscore","modals/_modalView","util","model/SingletonAppModel","app","storageService","coreService","components/DropDownComponent","bts/BtsFieldsCommonView","localization","jquery-ui/widgets/datepicker"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("modals/_modalView"),i=e("util"),s=e("model/SingletonAppModel"),o=e("app"),u=e("storageService"),a=e("coreService"),f=e("components/DropDownComponent"),l=o.getInstance(),c=e("bts/BtsFieldsCommonView"),h,p,d=e("localization");return e("jquery-ui/widgets/datepicker"),h=c.extend({template:"tpl-dynamic-fields",initialize:function(e){this.render(e)},render:function(e){this.$el.html(i.templates(this.template,{collection:e.collection,disabled:e.disabled,update:!1,access:!0,popup:!0}))},onDestroy:function(){}}),p=r.extend({contentBody:"tpl-modal-post-bug",authTpl:"tpl-bts-auth-type",className:"modal-post-bug",events:{"click [data-js-post]":"submit","keyup .required-value":"clearRequiredError","click [data-js-close]":"onClickClose","click [data-js-is-included]":"onClickIncludeData","click [data-js-cancel]":"onClickCancel","change [data-js-is-included]":"disableHideBackdrop","click [data-js-dropdown-menu]":"disableHideBackdrop","click [data-id]":"disableHideBackdrop"},initialize:function(e){this.from=e.from,this.appModel=new s,this.items=e.items,this.isMultiply=this.items.length>1,this.systems=this.appModel.getArr("externalSystem"),this.settings=l.forSettings,this.systemSettings=this.settings["bts"+this.systems[0].systemType],this.user={},this.systemType=this.systems[0].systemType,this.systemAuth=this.systems[0].systemAuth,this.dropdownComponents=[],this.setUserBts(),this.render()},render:function(){var e=[{btnText:d.ui.cancel,btnClass:"rp-btn-cancel",label:"data-js-cancel"},{btnText:d.ui.post,btnClass:"rp-btn-submit",label:"data-js-post"}];return this.$el.html(i.templates(this.contentBody,{isMultiply:this.isMultiply,source:i.getExternalSystem(!0),systems:this.systems,collapse:this.user.bts.hash[this.user.bts.current.id].submits>0,showCredentialsSoft:this.settings["bts"+this.systemType].canUseRPAuthorization,footerButtons:e})),this},onShow:function(){this.setupDropdowns(),this.setupAnchors(),t("[data-js-is-included]",this.$includesBlock).attr("checked","checked"),this.renderFields(),this.renderCredentials(),this.delegateEvents()},setupDropdowns:function(){var e=new f({data:n.map(this.systems,function(e){return{name:e.project,value:e.id,disabled:!1}}),multiple:!1,defaultValue:this.user.bts.current.id}),r=new f({data:n.map(this.settings["bts"+this.systemType].authorizationType,function(e){return{name:e.name,value:e.value,disabled:!1}}),multiple:!1,defaultValue:this.settings["bts"+this.systemType].authorizationType[0].value});t("[data-js-project-selector]",this.$el).html(e.$el),t("[data-js-auth-selector]",this.$el).html(r.$el),t("[data-js-dropdown]",e.$el).attr("id","targetProject"),t("[data-js-dropdown]",r.$el).attr("id","systemAuth"),this.listenTo(e,"change",this.updateFieldSet),this.dropdownComponents.push(e,r)},setupAnchors:function(){this.$dynamicContent=t("#dynamicContent",this.$el),this.$includesBlock=t("#includesBlock",this.$el),this.$includeLogs=t("#include_logs > [data-js-is-included]",this.$includesBlock),this.$includeData=t("#include_data > [data-js-is-included]",this.$includesBlock),this.$includeComments=t("#include_comments > [data-js-is-included]",this.$includesBlock),this.$postToUrl=t("#postToUrl",this.$el),this.$actionBtn=t("[data-js-ok]",this.$el),this.$credentialsLink=t("#credentialsLink",this.$el),this.$collapseCredentials=t("#collapseCredentials",this.$el),this.$authorizationType=t("#authorizationType",this.$el),this.$requiredFieldsWarning=t("#requiredFields",this.$el),this.$credentialsSoftWarning=t("#credentialsSoft",this.$el),this.$credentialsWrongWarning=t("#credentialsWrong",this.$el)},setUserBts:function(){this.user.bts?this.user.bts.current?this.user.bts.current=n.find(this.systems,{id:this.user.bts.current.id}):this.user.bts.current=this.systems[0]:(this.user.bts={hash:{},current:null},this.user.bts.current=this.systems[0],this.updateHash())},updateHash:function(){this.user.bts.hash[this.user.bts.current.id]||(this.user.bts.hash[this.user.bts.current.id]={type:this.systemType,id:this.user.bts.current.id,submits:0})},updateFieldSet:function(e){this.user.bts.current=n.find(this.systems,{id:e}),this.updateHash(),this.renderFields(),this.renderCredentials(),this.$postToUrl.text(this.user.bts.current.url),this.$requiredFieldsWarning.hide(),this.$credentialsLink.removeClass("collapsed"),this.$collapseCredentials.addClass("in")},renderFields:function(){this.postBugFieldsView=new h({collection:this.user.bts.current.fields,disabled:this.systemSettings.disabledForEdit}),this.$dynamicContent.html(this.postBugFieldsView.$el),this.setupFieldsDropdowns(this.user.bts.current.fields),this.user.bts.current.fields?(this.postBugFieldsView.applyTypeForBtsFields(this.user.bts.current.fields,this.$dynamicContent),this.$actionBtn.prop("disabled",!1)):this.$actionBtn.prop("disabled",!0)},setupFieldsDropdowns:function(e){var r=this;t("[data-js-field-with-dropdown]",this.$el).each(function(i,s){var o=n.find(e,function(e){return t(s).attr("data-js-field-with-dropdown")===e.id}),u=new f({data:n.map(o.definedValues,function(e){return{name:e.valueName,value:e.valueId||e.valueName,disabled:!1}}),multiple:!1,defaultValue:o.value?function(){var e=n.find(o.definedValues,function(e){return o.value[0]===e.valueId||o.value[0]===e.valueName});return e?e.valueId||e.valueName:""}():o.definedValues[0].valueId||o.definedValues[0].valueName||""});t(this).html(u.$el),t("[data-js-dropdown]",t(this)).attr("id",t(this).attr("data-js-field-with-dropdown")).addClass("default-value"),t("[data-js-dropdown]",t(this)).data("type",o.fieldType),(!l.userModel.hasPermissions()||l.forSettings.btsJIRA.disabledForEdit.indexOf(o.id)!==-1)&&t("[data-js-dropdown]",t(this)).attr("disabled","disabled"),o.required&&t("[data-js-dropdown]",t(this)).addClass("required-value"),r.dropdownComponents.push(u)})},renderCredentials:function(){var e={systemAuth:this.systemAuth,access:!0,post:!0},t=u.getBtsCredentials()||{},r=this.user.bts.current.id;n.extend(e,this.user.bts.hash[r],t[r]),e.hasPassword=!!this.user.bts.hash[r].password,e.defaultPassword=this.settings.defaultPassword,this.$authorizationType.html(i.templates(this.authTpl,e))},onKeySuccess:function(){t("[data-js-post]",this.$el).trigger("click")},onClickClose:function(){this.from==="logs"?l.trackingDispatcher.trackEventNumber(215):l.trackingDispatcher.trackEventNumber(170)},onClickCancel:function(){this.from==="logs"?l.trackingDispatcher.trackEventNumber(219):l.trackingDispatcher.trackEventNumber(174)},onClickIncludeData:function(e){var n=t(e.currentTarget).closest(".rp-switcher-big").attr("id");if(this.from==="logs")switch(n){case"include_logs":l.trackingDispatcher.trackEventNumber(217);break;case"include_comments":l.trackingDispatcher.trackEventNumber(218);break;default:l.trackingDispatcher.trackEventNumber(216)}else switch(n){case"include_logs":l.trackingDispatcher.trackEventNumber(172);break;case"include_comments":l.trackingDispatcher.trackEventNumber(173);break;default:l.trackingDispatcher.trackEventNumber(171)}},submit:function(){var e=this.getData(),t=this,r=function(e){e.status!==401&&t.parseError(e),t.hideLoading()};e&&(this.from==="logs"?l.trackingDispatcher.trackEventNumber(220):l.trackingDispatcher.trackEventNumber(175),this.showLoading(),this.inSubmit=!0,a.postBugToBts(e,this.user.bts.current.id).done(function(e){var s=t.bindTicketToIssues(t.items,e);a.updateDefect({issues:s}).done(function(){n.each(t.items,function(e){n.each(s,function(n){e.id===n.test_item_id&&t.addIssuesToItem(e,n.issue.externalSystemIssues)})}),i.ajaxSuccessMessenger("addTicket"),t.successClose()}).fail(function(e){r(e)}),t.persistCredentials()}).fail(function(e){r(e)}).always(function(){t.inSubmit=!1}))},bindTicketToIssues:function(e,r){var i=[],s,o,u,a,f;return n.forEach(e,function(e){var n=e.getIssue();s=t(".inline-editor .rp-defect-type-dropdown .pr-defect-type-badge"),o=s.length>0?s.data("id"):null,u={issue_type:o||n.issue_type,comment:n.comment,externalSystemIssues:n.externalSystemIssues||[]},t("#replaceComments").prop("checked")&&(u.comment=t(".markItUpEditor").val().length>0?t(".markItUpEditor").val():e.issue.comment),e.id===t(".editor-row").closest(".selected").attr("id")&&(a=t(".markItUpEditor").val(),f=e.issue.comment,u.comment=f&&a.trim()===f.trim()?f:a),u.ignoreAnalyzer=n.ignoreAnalyzer,u.autoAnalyzed=!1,u.externalSystemIssues.push({ticketId:r.id,systemId:this.user.bts.current.id,url:r.url}),i.push({issue:u,test_item_id:e.id})},this),i},addIssuesToItem:function(e,t){var r=e.getIssue(),i,s;r.externalSystemIssues||(r.externalSystemIssues=[]),i=n.map(t,function(e){return e.ticketId}),s=[],n.each(r.externalSystemIssues,function(e){n.contains(i,e.ticketId)||s.push(e)},this),n.each(t,function(e){s.push({systemId:e.systemId,ticketId:e.ticketId,url:e.url})},this),r.externalSystemIssues=s,e.setIssue(r)},persistCredentials:function(){var e=this.user.bts.hash[this.user.bts.current.id],t;e.submits+=1,t={username:e.username,id:e.id},e.domain&&(t.domain=e.domain),u.setBtsCredentials(t)},parseError:function(e){var t,n;if(e.responseText){this.$credentialsSoftWarning.hide();try{t=JSON.parse(e.responseText),t.message.indexOf(this.systemSettings.credentialsErrorPattern)!==-1&&this.highlightCredentials(!0),l.patterns.htmlError.test(t.message)?(n=t.message.match(l.patterns.getBodyContent).map(function(e){return e.replace(l.patterns.replaceBodyTag,"")}),this.$credentialsWrongWarning.html(n[0]).show(),this.validateBtsHomeLink()):(console.log(e.responseText),this.$credentialsWrongWarning.text(this.$credentialsWrongWarning.data("general")+e.responseText).show())}catch(r){this.$credentialsWrongWarning.text(this.$credentialsWrongWarning.data("general")+e.responseText).show()}return}this.$el.modal("hide"),i.ajaxFailMessenger(null,"postTicketToBts")},getData:function(){var e=!1,r=[],i,s=this.systemType===l.btsEnum.rally,o,u,a,f,c,h,p;n.forEach(t(".default-value, select",this.$dynamicContent),function(n){o=t(n),u=!1;if(o.hasClass("users-typeahead")){if(o.is("div"))return;u=!0}a=o.hasClass("required-value"),o.hasClass("rp-btn")?f=o.parent().find("ul.dropdown-menu > li > a.selected").text()||t(".select-value",o).text():f=o.val().trim(),u?(c=f.split(","),f=c[0]===""?[]:c):f=f?[f]:[],a&&!f.length&&(e=!0,o.closest(".rp-form-group").addClass("has-error")),!a&&!e&&(e=o.closest(".rp-form-group").hasClass("has-error")),h={value:f,required:a,id:o.attr("id"),fieldType:o.data("type")},s&&(h.fieldName=o.data("name")),r.push(h)});if(!this.validateCredentials()||e){e&&this.$requiredFieldsWarning.show();return}return this.$requiredFieldsWarning.hide(),i={fields:r,backLinks:this.getLinks(),item:this.items[0].id,log_quantity:this.systemSettings.logsAmount},p=this.user.bts.hash[this.user.bts.current.id],p.username&&(i.username=p.username,i.password=p.password,p.domain&&(i.domain=p.domain)),p.accessKey&&(i.token=p.accessKey),i.include_logs=this.isMultiply?!1:this.$includeLogs.is(":checked"),i.include_data=this.isMultiply?!1:this.$includeData.is(":checked"),i.include_comments=this.isMultiply?!1:this.$includeComments.is(":checked"),i},validateCredentials:function(){var e=!1,r=this.user.bts.hash[this.user.bts.current.id],i,s,o,u,a=function(){delete r.username,delete r.password,delete r.domain};this.$authorizationType.find(".has-error").removeClass("has-error");switch(this.systemAuth){case"BASIC":case"NTLM":delete r.accessKey,i=t(".bts-property",this.$authorizationType),s=n.every(i,function(e){return!e.value}),o=n.every(i,function(e){return e.value}),o||s&&r.type!=="JIRA"?(e=!0,s&&a(),i[0].value&&n.forEach(i,function(e){if(e.id==="password"&&e.value===this.settings.defaultPassword)return;r[e.id]=e.value}.bind(this))):(a(),n.forEach(i,function(e){e.value?t(e).closest(".rp-form-group").removeClass("has-error"):t(e).closest(".rp-form-group").addClass("has-error")}),this.$credentialsWrongWarning.text(this.$credentialsWrongWarning.data("fill")).show());break;case"APIKEY":a(),u=t("#accessKey",this.$authorizationType),u.val().length?(r.accessKey=u.val(),e=!0):(u.parent().addClass("has-error"),this.$credentialsWrongWarning.text(this.$credentialsWrongWarning.data("fill")).show());break;default:}return e&&this.$credentialsWrongWarning.hide(),e},getLinks:function(){var e={};return n.forEach(this.items,function(t){e[t.id]=encodeURI(window.location.protocol+"//"+window.location.host+"/#"+l.project.projectId+"/launches/all|page.page=1&page.size=50&page.sort=start_time/"+t.get("launchId")+"|page.page=1&page.size=50&page.sort=start_time&filter.eq.has_childs=false&filter.eq.uniqueId="+t.get("uniqueId")+"?page.page=1&page.size=50&page.sort=start_time&filter.eq.has_childs=false&filter.eq.uniqueId="+t.get("uniqueId")+"&log.item="+t.get("id"))}),e},onDestroy:function(){n.each(this.dropdownComponents,function(e){e.destroy()}),this.postBugFieldsView.destroy()}}),p}),define("launches/multipleActions/postBugAction",["require","modals/modalPostBug"],function(e){"use strict";var t=e("modals/modalPostBug"),n=function(e){var n=e.items,r=new t({items:n,from:e.from});return r.show()};return n}),define("modals/modalLoadBug",["require","jquery","underscore","modals/_modalView","backbone","backbone-epoxy","app","util","coreService","model/SingletonAppModel","components/DropDownComponent","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("modals/_modalView"),i=e("backbone"),s=e("backbone-epoxy"),o=e("app"),u=e("util"),a=e("coreService"),f=e("model/SingletonAppModel"),l=e("components/DropDownComponent"),c=o.getInstance(),h=new f,p=e("localization"),d=s.Model.extend({defaults:{url:"",ticketId:""}}),v=i.Collection.extend({model:d}),m=s.View.extend({template:"tpl-model-load-bug-item",className:"ticket-row-view",events:{"click [data-js-remove-row]":"onClickRemove","blur [data-js-link-input]":"onBlurLinkInput"},bindings:{"[data-js-link-input]":"value: url","[data-js-issue-input]":"value: ticketId"},initialize:function(){var e=h.getArr("externalSystem");this.externalSystemType="",e[0]&&e[0].systemType&&(this.externalSystemType=e[0].systemType),this.render(),this.listenTo(this.model.collection,"add remove",this.onChangeCollection),this.onChangeCollection(),u.hintValidator(t("[data-js-issue-input]",this.$el),{validator:"minMaxRequired",type:"issueId",min:1,max:128})},onBlurLinkInput:function(){var e=t("[data-js-link-input]",this.$el),n=t("[data-js-issue-input]",this.$el),r="";if(e.parent().hasClass("validate-error")||t.trim(n.val()))return;this.externalSystemType==="JIRA"&&(r=e.val().split("/"),r=r[r.length-1]),this.externalSystemType==="TFS"&&(r=e.val().split("id=")[1],r=r?r.split("&")[0]:""),this.model.set({ticketId:r}),n.trigger("validate")},onChangeCollection:function(){this.model.collection.models.length<=1?t("[data-js-remove-row]",this.$el).addClass("hide"):t("[data-js-remove-row]",this.$el).removeClass("hide")},render:function(){this.$el.html(u.templates(this.template,{}))},onClickRemove:function(){this.model.collection.remove(this.model),this.destroy()},destroy:function(){this.$el.remove(),this.undelegateEvents(),this.stopListening(),this.unbind(),delete this}}),g=r.extend({template:"tpl-modal-load-bug",className:"modal-load-bug",events:{"click [data-js-add-ticket]":"onClickAddTicket","click [data-js-load]":"onClickLoad","click [data-js-close]":"onClickClose","click [data-js-cancel]":"onClickCancel","change [data-js-load-items-container]":"disableHideBackdrop"},initialize:function(e){this.from=e.from,this.externalSystems=h.getArr("externalSystem"),this.dropdownComponents=[];if(!this.externalSystems.length){console.log("No bts found"),this.hide();return}this.itemModels=e.items,this.testItemsIds=n.map(this.itemModels,function(e){return e.get("id")}),this.render(),this.selectBts(this.externalSystems[0].id),this.collection=new v,this.listenTo(this.collection,"add",this.onAddTicket),this.collection.add({})},onKeySuccess:function(){t("[data-js-load]",this.$el).trigger("click")},onClickAddTicket:function(){this.from==="logs"?c.trackingDispatcher.trackEventNumber(222):c.trackingDispatcher.trackEventNumber(177),this.collection.add({})},onClickClose:function(){this.from==="logs"?c.trackingDispatcher.trackEventNumber(221):c.trackingDispatcher.trackEventNumber(176)},onClickCancel:function(){this.from==="logs"?c.trackingDispatcher.trackEventNumber(223):c.trackingDispatcher.trackEventNumber(178)},onClickLoad:function(){var e=this,r,i;t(".form-control",this.$el).trigger("validate"),t(".validate-error",this.$el).length||(this.from==="logs"?c.trackingDispatcher.trackEventNumber(224):c.trackingDispatcher.trackEventNumber(179),r=n.map(this.collection.models,function(e){return{ticketId:e.get("ticketId"),url:e.get("url")}}),i={systemId:this.currentBts.id,issues:r,testItemIds:this.testItemsIds},a.loadBugs(i).done(function(){u.ajaxSuccessMessenger("submitKeys"),n.each(e.itemModels,function(t){e.addIssuesToItem(t,i.issues)})}).fail(function(e){u.ajaxFailMessenger(e,"submitKeys")}).always(function(){e.successClose()}))},addIssuesToItem:function(e,t){var r=this,i=e.getIssue(),s=[],o=n.map(t,function(e){return e.ticketId});i.externalSystemIssues||(i.externalSystemIssues=[]),n.each(i.externalSystemIssues,function(e){n.contains(o,e.ticketId)||s.push(e)}),n.each(t,function(e){s.push({systemId:r.currentBts.id,ticketId:e.ticketId,url:e.url})}),i.externalSystemIssues=s,e.setIssue(i)},onAddTicket:function(e){t("[data-js-load-items-container]",this.$el).append((new m({model:e})).$el)},onClickBts:function(e){this.selectBts(e)},selectBts:function(e){var r=null;n.each(this.externalSystems,function(t){if(t.id===e)return r=t,!1});if(!r)return;this.currentBts=r,t("[data-js-bts-link]",this.$el).text(r.url)},render:function(){var e,r=[{btnText:p.ui.cancel,btnClass:"rp-btn-cancel",label:"data-js-cancel"},{btnText:p.ui.link,btnClass:"rp-btn-submit",label:"data-js-load"}];this.$el.html(u.templates(this.template,{externalSystems:this.externalSystems,footerButtons:r})),e=new l({data:n.map(this.externalSystems,function(e){return{name:e.project,value:e.id,disabled:!1}}),multiple:!1,defaultValue:this.externalSystems[0].id}),t("[data-js-bts-selector]",this.$el).html(e.$el),this.listenTo(e,"change",this.onClickBts),this.dropdownComponents.push(e)},onHide:function(){n.each(this.dropdownComponents,function(e){e.destroy()})}});return g}),define("launches/multipleActions/loadBugAction",["require","exports","module","modals/modalLoadBug"],function(e,t,n){"use strict";var r=e("modals/modalLoadBug"),i=function(e){var t=e.items,n=new r({items:t,from:e.from});return n.show()};return i}),define("launches/multipleActions/unlinkIssueAction",["require","underscore","backbone-epoxy","util","modals/modalConfirm","coreService","localization"],function(e){"use strict";var t=e("underscore"),n=e("backbone-epoxy"),r=e("util"),i=e("modals/modalConfirm"),s=e("coreService"),o=e("localization"),u=n.View.extend({initialize:function(e){var n=e.items,u;u=new i({headerText:o.dialogHeader.unlinkIssue,bodyText:o.dialog.msgUnlinkIssue,okButtonDanger:!1,cancelButtonText:o.ui.cancel,okButtonText:o.ui.unlink,confirmFunction:function(){var e={issues:[]};return t.each(n,function(t){var n=t.getIssue();n.externalSystemIssues=[],e.issues.push({test_item_id:t.get("id"),issue:n})},this),s.updateDefect(e).done(function(){r.ajaxSuccessMessenger()}).fail(function(e){r.ajaxFailMessenger(e)})}}),this.async=u.show()},getAsync:function(){return this.async}});return u}),define("launches/common/StepLogDefectTypeView",["require","jquery","underscore","backbone","backbone-epoxy","util","app","coreService","localization","components/markdown/MarkdownViewer","coreService","defectType/SingletonDefectTypeCollection","modals/modalDefectEditor","tooltips/LaunchStepTicketTooltipView","launches/multipleActions/postBugAction","launches/multipleActions/loadBugAction","launches/multipleActions/unlinkIssueAction"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone"),i=e("backbone-epoxy"),s=e("util"),o=e("app"),u=e("coreService"),a=e("localization"),f=e("components/markdown/MarkdownViewer"),l=e("coreService"),c=e("defectType/SingletonDefectTypeCollection"),h=e("modals/modalDefectEditor"),p=e("tooltips/LaunchStepTicketTooltipView"),d=e("launches/multipleActions/postBugAction"),v=e("launches/multipleActions/loadBugAction"),m=e("launches/multipleActions/unlinkIssueAction"),g=o.getInstance(),y=i.View.extend({template:"tpl-Launch-step-log-defect-ticket",tagName:"a",events:{"click [data-js-issue-remove-ticket]":"onClickRemove",mouseenter:"onMouseEnter"},bindings:{":el":"attr: {href: url}","[data-js-ticket-id]":"text: ticketId"},initialize:function(){this.render(),this.$el.attr("target","_blank"),this.hoverAction=!1},render:function(){var e=this;this.$el.html(s.templates(this.template,{})),this.tooltip=new p,s.appendTooltip(function(){return e.tooltip.$el},this.$el,this.$el)},onClickRemove:function(e){e.stopPropagation(),e.preventDefault(),this.model.collection.remove(this.model)},onMouseEnter:function(){var e=this;this.hoverAction||(this.hoverAction=!0,this.model.collection.getTicketInfo(this.model.get("ticketId"),this.model.get("systemId")).done(function(t){t.summary.length>200&&e.tooltip.$el.width(432),e.tooltip.update("<span>"+a.logs.summary+"</span><br>"+t.summary+" <br><br>"+"<span>"+a.logs.status+"</span><br>"+(t.status==="Closed"||t.status==="Resolved"?"<s>"+t.status+"</s>":t.status))}).fail(function(){e.tooltip.update("<span> "+a.logs.ticketNotFound+"</span><br>"+a.logs.ticketStatusProblem)}))},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.remove(),delete this}}),b=i.Model.extend({defaults:{submitDate:0,submitter:"",systemId:"",ticketId:"",url:""}}),w=r.Collection.extend({model:b,initialize:function(){this.cacheAnswer={}},getTicketInfo:function(e,n){var r=t.Deferred(),i=this;return this.cacheAnswer[e]&&this.cacheAnswer[e][n]?r.resolve(this.cacheAnswer[e][n]):u.getBtsTicket(e,n).done(function(t){i.cacheAnswer[e]={},i.cacheAnswer[e][n]=t,r.resolve(t)}).fail(function(){r.reject()}),r}}),E=i.View.extend({template:"tpl-launch-step-log-defect-type",events:{"click [data-js-issue-title]":"onClickEditDefect","click [data-js-edit-defect-icon]":"onClickEditDefect","click [data-js-aa-badge]":"onAABadgeClick","click [data-js-ignore-aa-badge]":"onIgnoreAABadgeClick"},bindings:{"[data-js-issue-name]":"text: issueName","[data-js-issue-color]":'attr: {style: format("background-color: $1", issueColor)}',"[data-js-issue-title]":"attr: {title: issueTitle}","[data-js-aa-badge]":"classes: {show: all(not(ignoreAnalyzer), issueAutoanalyzed)}","[data-js-ignore-aa-badge]":"classes: {show: ignoreAnalyzer}","[data-js-edit-defect]":"attr: {disabled: launch_isProcessing, title: editIssueTitle}, classes: {disabled: launch_isProcessing}"},computeds:{issueComment:{deps:["issue"],get:function(){var e=this.model.getIssue();return e&&e.comment?e.comment:""}},issueName:{deps:["issue"],get:function(){var e=this.model.getIssue(),t;return e&&e.issue_type?(t=this.defetTypesCollection.getDefectByLocator(e.issue_type),t.get("longName").setMaxLength(20)):""}},issueAutoanalyzed:{deps:["issue"],get:function(){return this.model.getIssue().autoAnalyzed===!0}},ignoreAnalyzer:{deps:["issue"],get:function(){return this.model.getIssue().ignoreAnalyzer===!0}},issueTitle:{deps:["issue"],get:function(){var e=this.model.getIssue(),t;return e&&e.issue_type?(t=this.defetTypesCollection.getDefectByLocator(e.issue_type),t.get("longName")):""}},issueColor:{deps:["issue"],get:function(){var e=this.model.getIssue(),t;return e&&e.issue_type?(t=this.defetTypesCollection.getDefectByLocator(e.issue_type),t.get("color")):""}},editIssueTitle:{deps:"launch_isProcessing",get:function(e){return e?a.launches.forbiddenIsProcessing:""}}},initialize:function(e){var n=this;this.context=e.context,this.pageType=e.pageType,this.defetTypesCollection=new c,this.defetTypesCollection.ready.done(function(){n.render(),n.ticketsView=[],n.ticketCollection=new w,n.listenTo(n.ticketCollection,"reset",n.onResetTicketCollection),n.listenTo(n.ticketCollection,"remove",n.onRemoveTicket),n.listenTo(n.model,"change:issue",n.onChangeIssue),n.onChangeIssue(),n.markdownViewer=new f({text:n.getBinding("issueComment")}),t("[data-js-issue-comment]",n.$el).html(n.markdownViewer.$el),n.listenTo(n.model,"change:issue",function(){n.markdownViewer.update(n.getBinding("issueComment"))}),n.listenTo(n.markdownViewer,"load",function(){n.trigger("load:comment")})})},render:function(){this.$el.html(s.templates(this.template,{model:this.model.toJSON({computed:!0})})),this.applyBindings()},onResetTicketCollection:function(){var e=this,r=t("[data-js-issue-tickets]",this.$el);while(e.ticketsView.length)e.ticketsView.pop().destroy();n.each(this.ticketCollection.models,function(t){var n=new y({model:t});r.append(n.$el),e.ticketsView.push(n)})},onAABadgeClick:function(){this.trigger("quickFilter:AA")},onIgnoreAABadgeClick:function(){this.trigger("quickFilter:ignoreAA")},onChangeIssue:function(){var e=[],t=this.model.getIssue();t&&t.externalSystemIssues&&(e=t.externalSystemIssues),this.ticketCollection.reset(e)},onClickEditDefect:function(){var e=this,t=new h({items:[this.model],context:this.context});this.pageType==="logs"?g.trackingDispatcher.trackEventNumber(192):g.trackingDispatcher.trackEventNumber(150),t.show().done(function(n){var r;n&&n.action==="postBug"?d({items:t.items}).always(function(){e.trigger("update:issue")}):n&&n.action==="loadBug"?v({items:t.items}).always(function(){e.trigger("update:issue")}):n&&n.action==="unlinkIssue"&&(r=new m({items:[e.model]}),r.getAsync().done(function(){e.trigger("issue:unlink")}).always(function(){e.trigger("update:issue")}))})},onRemoveTicket:function(e){var t=e.get("ticketId"),r=this.model.getIssue(),i=this,o=n.reject(r.externalSystemIssues,function(e){return e.ticketId===t});r.externalSystemIssues=o,l.removeTicket({issues:[{issue:r,test_item_id:this.model.get("id")}]}).done(function(){i.model.setIssue(r),s.ajaxSuccessMessenger("removeTicket")}).fail(function(e){s.ajaxFailMessenger(e)})},onDestroy:function(){this.markdownViewer&&this.markdownViewer.destroy(),this.$el.html(""),delete this}});return E}),define("modals/modalStepItemDetails",["require","modals/_modalView","util","localization","launches/common/ItemDurationView","components/markdown/MarkdownViewer","filters/FilterModel","launches/logLevel/LogItemCollection","jquery"],function(e){"use strict";var t=e("modals/_modalView"),n=e("util"),r=e("localization"),i=e("launches/common/ItemDurationView"),s=e("components/markdown/MarkdownViewer"),o=e("filters/FilterModel"),u=e("launches/logLevel/LogItemCollection"),a=e("jquery"),f=t.extend({template:"tpl-modal-step-item-details",className:"modal-step-item-details",events:{"click [data-js-ok]":"onClickOk","click [data-js-toggle-open-description]":"onClickOpenDescription","click [data-js-toggle-open-stacktrace]":"onClickOpenStacktrace"},bindings:{"[data-js-item-name]":"text: name","[data-js-uid]":"text: uniqueId","[data-js-tags]":"html: getTags","[data-js-tags-container]":"classes: {hide: not(getTags)}","[data-js-parametres-container] ":"classes: {hide: not(isParameters)}","[data-js-description-container]":"classes: {hide: not(isDescription)}"},computeds:{getTags:{deps:["tags"],get:function(e){var t,n="";return e&&(t=JSON.parse(e),_.each(t,function(e){n+="<span>"+e+"</span>"})),n}},isParameters:{deps:["parameters"],get:function(e){return e?!0:!1}},isDescription:{deps:["description"],get:function(e){return e?!0:!1}}},initialize:function(){var e=new o({temp:!0,entities:'[{"filtering_field":"level","condition":"in","value":"ERROR"}]',selection_parameters:'{"is_asc": false, "sorting_column": "time"}'});this.collection=new u({filterModel:e,itemModel:this.model}),this.load(),this.render(),this.listenTo(this.collection,"loading:true",this.onStartLoading),this.listenTo(this.collection,"loading:false",this.onStopLoading),this.listenTo(this.collection,"reset",this.onResetCollection)},load:function(){this.collection.setPaging(1,1)},onShown:function(){var e=150;a("[data-js-description]",this.$el).innerHeight()>e&&a("[data-js-description-container]",this.$el).addClass("show-accordion"),a("[data-js-stack-trace]",this.$el).innerHeight()>e&&a("[data-js-stack-trace-container]",this.$el).addClass("show-accordion"),this.scrool=n.setupBaronScroll(a("[data-js-parametres]",this.$el),null,{direction:"m"}),n.setupBaronScrollSize(this.scrool,{maxHeight:200}),a(window).resize()},onStartLoading:function(){a("[data-js-stack-trace-container]",this.$el).addClass("load")},onStopLoading:function(){a("[data-js-stack-trace-container]",this.$el).removeClass("load")},onResetCollection:function(){this.collection.models.length?a("[data-js-stack-trace]",this.$el).html(this.collection.models[0].get("message")):a(".item-stack-trace",this.$el).addClass("hide")},onClickOpenDescription:function(){a("[data-js-description-container]",this.$el).toggleClass("open")},onClickOpenStacktrace:function(){a("[data-js-stack-trace-container]",this.$el).toggleClass("open")},render:function(){var e=[{btnText:r.ui.ok,btnClass:"rp-btn-submit btn-ok",label:"data-js-ok"}],t=this.model.get("parameters");this.$el.html(n.templates(this.template,{footerButtons:e,params:t})),this.duration=new i({model:this.model,el:a("[data-js-duration]",this.$el)}),this.description=new s({text:this.model.get("description")}),a("[data-js-description]",this.$el).html(this.description.$el)},onClickOk:function(){this.successClose()}});return f}),define("launches/stepLevel/StepItemView",["require","jquery","util","app","underscore","localization","launches/common/ItemDurationView","launches/common/StepLogDefectTypeView","modals/modalLaunchItemEdit","modals/modalStepItemDetails","components/markdown/MarkdownViewer","launches/common/ItemStartTimeView","launches/common/CommonItemView"],function(e){"use strict";var t=e("jquery"),n=e("util"),r=e("app"),i=e("underscore"),s=e("localization"),o=e("launches/common/ItemDurationView"),u=e("launches/common/StepLogDefectTypeView"),a=e("modals/modalLaunchItemEdit"),f=e("modals/modalStepItemDetails"),l=e("components/markdown/MarkdownViewer"),c=e("launches/common/ItemStartTimeView"),h=e("launches/common/CommonItemView"),p=r.getInstance(),d=h.extend({template:"tpl-launch-step-item",className:"row rp-table-row",events:{click:"onClickView","click [data-js-name-link]":"onClickName","click [data-js-item-edit]":"onClickEdit","click [data-js-tag]":"onClickTag","click [data-js-toggle-open]":"onClickOpen","click [data-js-select-label]":"onClickSelectLabel","click [data-js-select-item]":"onClickSelectInput","click [data-js-item-details]":"onClickDetails"},bindings:{"[data-js-name-link]":"attr: {href: url}","[data-js-name]":"text: name","[data-js-item-edit]":"classes: {hide: hideEdit}","[data-js-status]":"text: status_loc","[data-js-owner-block]":"classes: {hide: not(owner)}","[data-js-owner-name]":"text: owner","[data-js-tags-container]":"sortTags: tags","[data-js-method-type]":"text: showMethodType","[data-js-time-from-now]":"text: startFromNow",":el":'classes: {failed: highlightedFailed, "select-state": select, "collapse-method": validateForCollapsed}',"[data-js-select-item]":"checked:select, attr: {disabled: launch_isProcessing}"},bindingHandlers:{sortTags:{set:function(e){var n,r=this.view.model.get("sortTags");r.length?e.removeClass("hide"):e.addClass("hide"),n=t("[data-js-tags]",e),n.html(""),i.each(r,function(e){n.append('  <a data-js-tag="'+e+'">'+e.replaceTabs()+"</a>")})}}},computeds:{hideEdit:{deps:["launch_owner"],get:function(){return this.model.validate.edit()}},showMethodType:{deps:["type"],get:function(e){return s.testTableMethodTypes[e]}},highlightedFailed:{deps:["status"],get:function(e){return e==="FAILED"}},validateForCollapsed:{deps:["status","type"],get:function(e,t){return(t.indexOf("METHOD")>=0||t.indexOf("CLASS")>=0)&&e!=="FAILED"}}},initialize:function(e){var n=this;this.noIssue=e.noIssue,this.filterModel=e.filterModel,this.context=e.context,this.prevModel=e.prevModel,this.render(),this.listenTo(this.model,"scrollToAndHighlight",this.highlightItem),this.markdownViewer=new l({text:this.model.get("description")}),t("[data-js-description]",this.$el).html(this.markdownViewer.$el),this.listenTo(this.model,"change:description",function(e,t){n.markdownViewer.update(t)}),this.listenTo(this.model,"change:description change:tags change:issue",this.activateAccordion),this.listenTo(this.markdownViewer,"load",this.activateAccordion),this.listenTo(this.model,"before:toggle:multipleSelect",this.afterChangeScrollTop),this.listenTo(this.model,"toggle:multipleSelect",this.changeScrollTop)},render:function(){this.$el.html(n.templates(this.template,{model:this.model.toJSON({computed:!0}),noIssue:this.noIssue,isCollapsedMethod:this.isCollapsedMethod()})),this.renderDuration(),this.renderStartTime(),this.renderRetries(),this.renderGrowthDuration(),this.hasIssue()&&!this.noIssue&&this.renderIssue()},highlightItem:function(){var e=this;this.$el.prepend('<div class="highlight"></div>'),p.mainScrollElement.animate({scrollTop:this.el.offsetTop},500,function(){e.$el.addClass("hide-highlight")})},renderGrowthDuration:function(){var e,n,r;this.validForDurationGrowth(this.model)&&this.prevModel&&this.validForDurationGrowth(this.prevModel)&&(e=this.model.get("start_time")-this.model.get("end_time"),n=this.prevModel.get("start_time")-this.prevModel.get("end_time"),r=e/n-1,r>0&&t("[data-js-growth-duration]",this.$el).text("+"+Math.round(r*100)+"%"))},validForDurationGrowth:function(e){var t=e.get("status");return t==="FAILED"||t==="PASSED"},renderStartTime:function(){this.startTime&&this.startTime.destroy(),this.startTime=new c({model:this.model}),t("[data-js-start-time-container]",this.$el).html(this.startTime.$el)},renderDuration:function(){this.duration&&this.duration.destroy(),this.duration=new o({model:this.model,el:t("[data-js-item-status]",this.$el)})},isCollapsedMethod:function(){return this.model.get("type")!=="STEP"&&this.model.get("status")!=="FAILED"},hasIssue:function(){var e=this.model.get("issue");return!!e},renderIssue:function(){this.issueView=new u({model:this.model,el:t("[data-js-step-issue]",this.$el),context:this.context}),this.listenTo(this.issueView,"load:comment",this.activateAccordion),this.listenTo(this.issueView,"issue:unlink",function(){this.collection.load()}),this.listenTo(this.issueView,"quickFilter:AA",function(){this.filterModel.trigger("add_entity","issue$auto_analyzed","TRUE")}),this.listenTo(this.issueView,"quickFilter:ignoreAA",function(){this.filterModel.trigger("add_entity","issue$ignore_analyzer","TRUE")})},onClickTag:function(e){var n=t(e.currentTarget).data("js-tag");this.filterModel&&this.addFastFilter("tags",n)},addFastFilter:function(e,t){this.filterModel.trigger("add_entity",e,t)},onClickEdit:function(){var e=new a({item:this.model});p.trackingDispatcher.trackEventNumber(149),e.show()},onClickDetails:function(){var e=new f({model:this.model});e.show()},onClickView:function(e){(e.ctrlKey||e.metaKey)&&(!t(e.target).is("a")||!!t(e.target).is("input"))&&!this.model.get("launch_isProcessing")&&(this.model.set({select:!this.model.get("select")}),e.altKey&&this.model.get("select")&&this.model.trigger("check:before:items",this.model.get("id")))},onClickSelectLabel:function(e){e.stopPropagation()},onClickSelectInput:function(e){p.trackingDispatcher.trackEventNumber(152),e.ctrlKey&&e.altKey&&this.model.trigger("check:before:items",this.model.get("id"))},activateAccordion:function(){this.$el.innerHeight()>198?this.$el.addClass("show-accordion"):this.$el.removeClass("show-accordion")},onClickOpen:function(){this.$el.toggleClass("open")},onDestroy:function(){this.issueView&&this.issueView.destroy(),this.duration&&this.duration.destroy(),this.duration&&this.duration.destroy(),this.markdownViewer&&this.markdownViewer.destroy(),this.$el.html(""),delete this}});return d}),define("launches/stepLevel/StepTableView",["require","jquery","underscore","backbone-epoxy","util","localization","launches/stepLevel/StepItemView","launches/common/LaunchSuiteStepItemsView","storage/SingletonUserStorage","filters/SingletonLaunchFilterCollection","app","core/StickyHeader"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("localization"),o=e("launches/stepLevel/StepItemView"),u=e("launches/common/LaunchSuiteStepItemsView"),a=e("storage/SingletonUserStorage"),f=e("filters/SingletonLaunchFilterCollection"),l=e("app"),c=e("core/StickyHeader"),h=l.getInstance(),p=r.View.extend({template:"tpl-launch-step-table",events:{"click .rp-grid-th[data-sorter]":"onClickSorter","click .rp-grid-th[data-filter] .rp-icons-filter":"onClickFilter","click [data-js-collapse-label]":"clickCollapseInput","change [data-js-select-all]":"onChangeSelectAll","change [data-js-collapse-input]":"onChangeCollapse"},bindings:{"[data-js-table-container]":'classes: {"exact-driven": updateTimeFormat}',"[data-js-select-all]":"attr: {disabled: validateIsProcessing}"},computeds:{updateTimeFormat:function(){var e=this.userStorage.get("startTimeFormat");return e==="exact"},validateIsProcessing:function(){return this.getBinding("isProcessing")}},initialize:function(e){var r=this;this.context=e.context,this.filterModel=e.filterModel,this.collectionItems=e.collectionItems,this.collectionItems.noChildFilter&&e.crumbs,this.render(),this.tableItems=new u({context:this.context,collection:this.collectionItems,itemView:o,filterModel:this.filterModel}),t("[data-js-table-container]",this.$el).append(this.tableItems.$el),this.listenTo(this.filterModel,"change:newSelectionParameters",this.onChangeSelectionParameters),this.listenTo(this.collectionItems,"reset change:select",n.debounce(this.onResetCollection,100)),this.onChangeSelectionParameters(),this.userStorage=new a,this.userStorage.ready.done(function(){r.applyPreconditionsStatus()}),this.setupStickyHeader()},onShow:function(){this.tableItems.onShow&&this.tableItems.onShow()},activateNextId:function(e){this.tableItems.activateNextId(e)},onResetCollection:function(){var e=this.collectionItems.where({select:!1});e.length&&t("[data-js-select-all]",this.$el).prop("checked",!1)},clickCollapseInput:function(e){e.stopPropagation()},onChangeCollapse:function(e){h.trackingDispatcher.trackEventNumber(138),this.onChangeCollapseInput(t(e.currentTarget))},onChangeCollapseInput:function(e){var n=e.is(":checked"),r=s.launches.showPreconditionMethods;this.userStorage.set("statusPreconditions",n),this.collectionItems.setPredefinedFilter(n?"collapsed":null),t("[data-js-collapse-label]",this.$el).attr("title",r)},applyPreconditionsStatus:function(){var e=t("[data-js-collapse-input]",this.$el);e.prop("checked",this.userStorage.get("statusPreconditions")),this.onChangeCollapseInput(e,!0)},onChangeSelectAll:function(e){var r=!1;h.trackingDispatcher.trackEventNumber(151),t(e.currentTarget).is(":checked")&&(r=!0),n.each(this.collectionItems.models,function(e){e.set({select:r})})},onClickSorter:function(e){var n=t(e.currentTarget).data("sorter"),r=this.filterModel.getParametersObj();switch(n){case"type":h.trackingDispatcher.trackEventNumber(140);break;case"name":h.trackingDispatcher.trackEventNumber(142);break;case"status":h.trackingDispatcher.trackEventNumber(144);break;case"start_time":h.trackingDispatcher.trackEventNumber(146);break;case"issue$issue_type":h.trackingDispatcher.trackEventNumber(148);break;default:}r.sorting_column===n?r.is_asc=!r.is_asc:(r.is_asc=!0,r.sorting_column=n),this.filterModel.set({newSelectionParameters:JSON.stringify(r),curPage:1})},onClickFilter:function(e){var n;e.stopPropagation(),n=t(e.currentTarget).closest(".rp-grid-th").data("filter");switch(n){case"type":h.trackingDispatcher.trackEventNumber(139);break;case"name":h.trackingDispatcher.trackEventNumber(141);break;case"status":h.trackingDispatcher.trackEventNumber(143);break;case"start_time":h.trackingDispatcher.trackEventNumber(145);break;case"issue$issue_type":h.trackingDispatcher.trackEventNumber(147);break;default:}this.filterModel.trigger("add_entity",n)},onChangeSelectionParameters:function(){var e=this.filterModel.getParametersObj(),n=t('[data-sorter="'+e.sorting_column+'"]',this.$el);t("[data-sorter]",this.$el).removeClass("sorting-asc sorting-desc"),n&&n.length&&n.addClass(e.is_asc?"sorting-asc":"sorting-desc")},render:function(){this.$el.html(i.templates(this.template))},setupStickyHeader:function(){this.destroyStickyHeader(),this.stickyHeader=new c({fixedBlock:t("[data-js-fixed-header]",this.$el),topMargin:0,minWidthWindow:900})},destroyStickyHeader:function(){this.stickyHeader&&this.stickyHeader.destroy()},onDestroy:function(){this.destroyStickyHeader(),this.tableItems&&this.tableItems.destroy(),this.$el.html(""),delete this}});return p}),define("launches/logLevel/LogControlView",["require","jquery","underscore","backbone-epoxy","util","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("app"),o=s.getInstance(),u=r.View.extend({events:{"click [data-js-button-prev]":"onClickPrev","click [data-js-button-next]":"onClickNext","click [data-js-button-refresh]":"onClickRefresh","click [data-js-button-load-selection]":"loadSelection"},template:"tpl-launch-log-control",initialize:function(e){this.collectionItems=e.collectionItems,this.render(),this.updateNavButton(this.collectionItems.logOptions.item),this.listenTo(this.collectionItems,"change:log:item",this.updateNavButton)},updateNavButton:function(e){var r=0,i=this.collectionItems.pagingData.number===1,s=this.collectionItems.pagingData.number===this.collectionItems.pagingData.totalPages;n.each(this.collectionItems.models,function(t,n){t.get("id")===e&&(r=n)}),this.setButtonState(t("[data-js-button-prev]",this.$el),this.collectionItems.at(r-1),i),this.setButtonState(t("[data-js-button-next]",this.$el),this.collectionItems.at(r+1),s)},setButtonState:function(e,t,n){if(!t&&n){e.addClass("disabled"),e.removeAttr("href"),e.attr({title:"",disabled:"disabled"});return}if(!t&&!n){if(e.attr("data-js-button-prev")!==undefined){e.removeAttr("href"),e.attr({"data-js-button-load-selection":"",title:"previous page"});return}if(e.attr("data-js-button-next")!==undefined){e.removeAttr("href"),e.attr({"data-js-button-load-selection":"",title:"next page"});return}}e.removeClass("disabled"),e.removeAttr("disabled"),e.removeAttr("data-js-button-load-selection"),e.attr({href:this.collectionItems.getPathByLogItemId(t.get("id")),title:t.get("name")}).data({id:t.get("id")})},loadSelection:function(e){this.listenTo(this.collectionItems,"loading",this.selectionLoadingHandler),t(e.currentTarget).attr("data-js-button-next")!==undefined&&(this.collectionItems.setPaging(this.collectionItems.pagingData.number+1,this.collectionItems.pagingData.size),this.lastClickedNavButton="next"),t(e.currentTarget).attr("data-js-button-prev")!==undefined&&(this.lastClickedNavButton="prev",this.collectionItems.setPaging(this.collectionItems.pagingData.number-1,this.collectionItems.pagingData.size))},selectionLoadingHandler:function(e){var n;if(e){t("[data-js-preloader]",this.$el).show(),t("[data-js-button-prev]",this.$el).prop("disabled",!0),t("[data-js-button-next]",this.$el).prop("disabled",!0);return}t("[data-js-button-prev]",this.$el).removeProp("disabled"),t("[data-js-button-next]",this.$el).removeProp("disabled"),t("[data-js-preloader]",this.$el).hide();switch(this.lastClickedNavButton){case"next":n=this.collectionItems.models[0].id,this.collectionItems.setLogItem(n),this.updateNavButton(n);break;case"prev":n=this.collectionItems.models[this.collectionItems.length-1].id,this.collectionItems.setLogItem(n),this.updateNavButton(n);break;default:}this.stopListening(this.collectionItems,"loading")},onClickPrev:function(e){o.trackingDispatcher.trackEventNumber(186),this.onClickNavigation(e)},onClickNext:function(e){o.trackingDispatcher.trackEventNumber(187),this.onClickNavigation(e)},onClickNavigation:function(e){var n=t(e.currentTarget);e.preventDefault();if(n.attr("data-js-button-load-selection")!==undefined)return;this.collectionItems.setLogItem(n.data("id"))},onClickRefresh:function(){o.trackingDispatcher.trackEventNumber(188),this.collectionItems.trigger("update:logs")},render:function(){this.$el.html(i.templates(this.template,{}))},onDestroy:function(){this.$el.html(""),t(window).off("keydown.logControl"),delete this}});return u}),define("launches/logLevel/LogHistoryLine",["require","exports","module","jquery","underscore","backbone","backbone-epoxy","coreService","launches/common/LaunchSuiteStepItemModel","defectType/SingletonDefectTypeCollection","util","app","localization"],function(e,t,n){"use strict";var r=e("jquery"),i=e("underscore"),s=e("backbone"),o=e("backbone-epoxy"),u=e("coreService"),a=e("launches/common/LaunchSuiteStepItemModel"),f=e("defectType/SingletonDefectTypeCollection"),l=e("util"),c=e("app"),h=e("localization"),p=c.getInstance(),d=s.Collection.extend({model:a,initialize:function(e){this.launchModel=e.launchModel,this.launchId=e.launchId,this.listenTo(this,"activate",this.activateItem)},activateItem:function(e){i.each(this.models,function(e){e.set({active:!1})}),e.set({active:!0})},load:function(e,t){var n=this;return u.loadHistory(e).done(function(e){n.reset(n.parse(e,t))})},parse:function(e,t){var n=this,r=i.map(e,function(e,r){var s={launchNumber:e.launchNumber,active:!1,parent_launch_status:e.launchStatus};return i.each(e.resources,function(e){e.id==t&&(s.active=!0)}),e.launchId==n.launchModel.get("id")||r==0&&n.launchModel.get("failLoad")?(s.parent_launch_investigate=n.launchModel.getToInvestigate(),s.active?i.each(e.resources,function(e){e.id==t&&(s=i.extend(s,n.updateDataForModel(e)))}):s=i.extend(s,n.updateDataForModel(e.resources[0]))):e.resources.length==1?s=i.extend(s,n.updateDataForModel(e.resources[0])):e.resources.length==0?s.status="NOT_FOUND":s.status="MANY",s});return r.reverse()},updateDataForModel:function(e){return e.issue&&(e.issue=JSON.stringify(e.issue)),e.tags&&(e.tags=JSON.stringify(e.tags)),e}}),v=o.View.extend({template:"tpl-launch-log-history-line-item",className:"history-line-item",events:{click:"onClickItem"},bindings:{"[data-js-launch-number]":"text: launchNumber",":el":"classes: {active: active}","[data-js-tooltip-item]":"attr: {title: statusTitle}","[data-js-launch-link]":"attr: {href: getUrl, class: getLinkClass}","[data-js-info]":"classes: {hide: not(hasInfo)}","[data-js-growth-duration]":"text: durationGrowth","[data-js-growth-block]":"classes: {hide: not(durationGrowth)}, attr: {title: durationGrowth}"},computeds:{durationGrowth:{get:function(){var e,t,n;return this.validForDurationGrowth(this.model)&&this.prevModel&&this.validForDurationGrowth(this.prevModel)?(e=this.model.get("start_time")-this.model.get("end_time"),t=this.prevModel.get("start_time")-this.prevModel.get("end_time"),n=e/t-1,n>0?"+"+Math.round(n*100)+"%":""):""}},hasInfo:{get:function(){var e=this.model.getIssue();return e.comment||e.externalSystemIssues&&e.externalSystemIssues.length}},statusTitle:{deps:["status"],get:function(e){var t="";return e!=="MANY"&&e!=="NOT_FOUND"&&e!=="IN_PROGRESS"&&(t="; "+l.timeFormat(this.model.get("start_time"),this.model.get("end_time"),!0)),h.historyLine.tooltips[e]+t}},getLinkClass:{deps:["id"],get:function(e){var t="";return e&&e!==this.currentItemId&&(t="active-link"),t}},getUrl:{deps:["id","launchId","path_names"],get:function(e,t,n){var r;return e&&e!==this.currentItemId&&(r="#"+this.model.appModel.get("projectId")+"/launches/all/",r+=this.model.get("launchId"),i.each(Object.keys(n),function(e){r+="/"+e}),r+="?log.item="+e),r}}},isAction:function(){return this.model.get("status")!=="MANY"&&this.model.get("status")!=="NOT_FOUND"},validForDurationGrowth:function(e){var t=e.get("status");return t==="FAILED"||t==="PASSED"},initialize:function(e){this.currentItemId=e.currentItemId,this.prevModel=e.prevModel,this.render(),this.$el.addClass("status-"+this.model.get("status")),this.defectTypeCollection=new f,this.updateIssue(),this.listenTo(this.model,"change:issue",this.updateIssue),this.model.get("parent_launch_status")==="IN_PROGRESS"&&this.$el.addClass("launch-is-progress")},updateIssue:function(){var e=this,t=this.model.getIssue();t.issue_type?this.defectTypeCollection.ready.done(function(){var n=e.defectTypeCollection.getDefectByLocator(t.issue_type);r("[data-js-issue-type]",e.$el).removeClass("hide").css({backgroundColor:n.get("color"),color:n.get("reverseColor"),boxShadow:"0 0 1px "+n.get("reverseColor")}).text(n.get("shortName"))}):r("[data-js-issue-type]",e.$el).addClass("hide")},onClickItem:function(){!this.model.get("active")&&this.isAction()&&(p.trackingDispatcher.trackEventNumber(190),this.model.trigger("activate",this.model),this.model.trigger("hover:false"))},render:function(){this.$el.html(l.templates(this.template,this.model.toJSON()))},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.remove(),delete this}}),m=o.View.extend({template:"tpl-launch-log-history-line",initialize:function(e){this.collectionItems=e.collectionItems,this.launchModel=e.launchModel,this.renderedItems=[],this.collection=new d({launchModel:this.launchModel}),this.listenTo(this.collection,"reset",this.onResetHistoryItems),this.listenTo(this.collection,"hover:true",this.onHoverItem),this.listenTo(this.collection,"hover:false",this.onOutItem),this.render();var t=this,n=this.collectionItems.getInfoLog().item,r=this.collectionItems.get(n);r&&(this.load=this.collection.load(n,this.collectionItems.getInfoLog().history||n).always(function(){t.trigger("load:history");var e=t.collection.where({active:!0});e.length==1&&t.trigger("activate:item",e[0],!0)})),this.listenTo(this.collection,"activate",function(e){t.trigger("activate:item",e)})},render:function(){this.$el.html(l.templates(this.template,{}))},getLastPassedOrFailedItem:function(e){var t=this.collection.models.slice(0,e).reverse();return i.find(t,function(e){return e.get("status")==="PASSED"||e.get("status")==="FAILED"})},onResetHistoryItems:function(){var e=this.collectionItems.getInfoLog().item,t=r("[data-js-history-container]",this.$el),n=this;i.each(this.collection.models,function(r,i){var s=n.getLastPassedOrFailedItem(i),o=new v({model:r,currentItemId:e,prevModel:s});t.append(o.$el),n.renderedItems.push(o)})},destroy:function(){this.load&&this.load.abort();while(this.renderedItems.length)this.renderedItems.pop().destroy();this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.html(""),delete this}});return m}),define("launches/logLevel/LogItemInfoRetryItemView",["require","backbone-epoxy","util","jquery"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=e("jquery"),i=t.View.extend({template:"tpl-launch-log-item-info-retry-item",className:"launch-log-item-info-retry-item",events:{click:"onClickItem"},bindings:{"[data-js-number]":"text: number",":el":"classes: {active: select}"},initialize:function(){this.render(),r("[data-js-status]",this.$el).addClass("status-"+this.model.get("status"))},render:function(){this.$el.html(n.templates(this.template,{}))},onClickItem:function(){this.model.trigger("select:item",this.model)},onDestroy:function(){this.$el.html("")}});return i}),define("launches/logLevel/LogItemInfoTabs/LogItemInfoDetailsView",["require","jquery","backbone-epoxy","util","launches/stepLevel/StepItemView"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("launches/stepLevel/StepItemView"),s=n.View.extend({template:"tpl-launch-log-item-info-details",events:{"click [data-ja-close]":"onClickClose"},initialize:function(e){this.render(),this.itemModel=e.itemModel,this.parentModel=e.parentModel,this.itemView=new i({el:t("[data-js-item-detail-container]",this.$el),noIssue:!0,model:this.itemModel,context:"logLevel",prevModel:e.prevModel})},render:function(){this.$el.html(r.templates(this.template),{})},onClickClose:function(){this.parentModel.set({itemDetails:!1})},destroy:function(){this.itemView.destroy(),this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.html(""),delete this}});return s}),define("launches/logLevel/LogItemInfoTabs/LogItemInfoActivity",["require","jquery","underscore","backbone-epoxy","util","coreService","moment","components/markdown/MarkdownViewer","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("coreService"),o=e("moment"),u=e("components/markdown/MarkdownViewer"),a=e("localization"),f=r.Model.extend({defaults:{lastModifiedDate:0,userRef:"",history:{},actionType:""},computeds:{fullTime:{deps:["lastModifiedDate"],get:function(e){return i.dateFormat(e)}},momentTime:{deps:["lastModifiedDate"],get:function(e){return o(i.dateFormat(e)).fromNow()}},fullName:{deps:["userRef"],get:function(e){return e.replace("_"," ")}},actionName:{deps:["history","actionType","userRef"],get:function(e,t,r){switch(t){case"update_item":return n.size(e)>1?a.itemEvents.updateItemIssue:a.itemEvents.updateItem;case"post_issue":return a.itemEvents.postIssue;case"link_issue":return a.itemEvents.linkIssue;case"unlink_issue":return a.itemEvents.unlinkIssue;case"analyze_item":return r+" "+a.itemEvents.changedByAnalyzer;case"link_issue_aa":return r+" "+a.itemEvents.issueLoadByAnalyzer;default:}}},actionsHtml:{deps:["history","projectRef"],get:function(e,t){var r=this,i="";return n.each(e,function(e){i+='<div class="action-row">',e.field==="ticketId"?i+='<div class="action-item">'+this.getActionTicketsHtml(e.oldValue)+"</div>"+'<div class="separate-items"><i class="material-icons">keyboard_arrow_right</i></div>'+'<div class="action-item">'+this.getActionTicketsHtml(e.newValue)+"</div>":e.field==="ignoreAnalyzer"?i+='<div class="action-item">'+(e.oldValue==="true"?a.launches.ignoreAA:"")+"</div>"+'<div class="separate-items"><i class="material-icons">keyboard_arrow_right</i></div>'+'<div class="action-item">'+(e.newValue==="true"?a.launches.ignoreAA:"")+"</div>":e.field==="relevantItem"?i+='<div class="action-item">'+this.getActionValueHtml(e.oldValue)+"</div>"+'<div class="separate-items"><i class="material-icons">keyboard_arrow_right</i></div>'+'<div class="action-item">'+r.getLinkToRelevantItem(e,t)+"</div>":i+='<div class="action-item">'+this.getActionValueHtml(e.oldValue)+"</div>"+'<div class="separate-items"><i class="material-icons">keyboard_arrow_right</i></div>'+'<div class="action-item">'+this.getActionValueHtml(e.newValue)+"</div>",i+="</div>"},this),i}}},getLinkToRelevantItem:function(e,t){var n=JSON.parse(e.newValue),r="#"+t+"/launches/all/"+n.launchId+"/"+Object.keys(n.path_names).join("/")+"?log.item="+n.id;return a.widgets.basedOn+' <a target="_blank" href="'+r+'">'+a.ui.item+"</a>"},getActionTicketsHtml:function(e){var e=e||"",t=e.split(","),r=[];return n.each(t,function(e){var t=i.getTicketUrlId(e);r.push(t.url?'<a target="_blank" class="rp-blue-link-undrl" href="'+t.url+'">'+t.id+"</a>":t.id)}),r.join(",")},getActionValueHtml:function(e){var t=new u({text:e});return t.$el.wrap("<p/>").parent().html()}}),l=r.View.extend({template:"tpl-launch-log-item-info-activity-item",className:"activity-row",bindings:{"[data-js-user-name]":"text: userRef","[data-js-action-name]":"text: actionName","[data-js-moment-time]":"text: momentTime","[data-js-full-time]":"text: fullTime","[data-js-difference]":"html: actionsHtml","[data-js-name-cell]":"classes: {hide: isHideNameCell}","[data-js-action-cell]":'classes: {"double-column-width": isHideNameCell}'},computeds:{isHideNameCell:{deps:["actionType"],get:function(e){return e==="analyze_item"||e==="link_issue_aa"}}},initialize:function(){this.render()},render:function(){this.$el.html(i.templates(this.template,{}))}}),c=r.View.extend({template:"tpl-launch-log-item-info-activity",events:{"click [data-js-close]":"onClickClose"},initialize:function(e){this.render(),this.isLoad=!1,this.itemModel=e.itemModel,this.parentModel=e.parentModel,this.listenTo(this.parentModel,"change:activity",this.onShow)},onShow:function(e,t){t&&!this.isLoad&&(this.isLoad=!0,this.listenTo(this.itemModel,"change:issue",this.load),this.load())},load:function(){t("[data-js-activity-container]",this.$el).html(""),t("[data-js-activity-wrapper]",this.$el).addClass("load"),t("[data-js-activity-wrapper]",this.$el).removeClass("not-found");var e=this;s.loadActivityItems(this.itemModel.get("id")).done(function(t){e.parse(t)}).fail(function(){t("[data-js-activity-wrapper]",e.$el).addClass("not-found")}).always(function(){t("[data-js-activity-wrapper]",e.$el).removeClass("load")})},parse:function(e){var r=this,i=t("[data-js-activity-container]",this.$el);e.length==0?t("[data-js-activity-wrapper]",r.$el).addClass("not-found"):(t("[data-js-activity-wrapper]",r.$el).removeClass("not-found"),n.each(e,function(e){var t=new f(e);i.append((new l({model:t})).$el)}))},render:function(){this.$el.html(i.templates(this.template),{})},onClickClose:function(){this.parentModel.set({activity:!1})},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.html(""),delete this}});return c}),function(e,t,n,r){"use strict";function l(e,t,n){return setTimeout(y(e,n),t)}function c(e,t,n){return Array.isArray(e)?(h(e,n[t],n),!0):!1}function h(e,t,n){var i;if(!e)return;if(e.forEach)e.forEach(t,n);else if(e.length!==r){i=0;while(i<e.length)t.call(n,e[i],i,e),i++}else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function p(t,n,r){var i="DEPRECATED METHOD: "+n+"\n"+r+" AT \n";return function(){var n=new Error("get-stack-trace"),r=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=e.console&&(e.console.warn||e.console.log);return s&&s.call(e.console,i,r),t.apply(this,arguments)}}function g(e,t,n){var r=t.prototype,i;i=e.prototype=Object.create(r),i.constructor=e,i._super=r,n&&d(i,n)}function y(e,t){return function(){return e.apply(t,arguments)}}function b(e,t){return typeof e==o?e.apply(t?t[0]||r:r,t):e}function w(e,t){return e===r?t:e}function E(e,t,n){h(N(t),function(t){e.addEventListener(t,n,!1)})}function S(e,t,n){h(N(t),function(t){e.removeEventListener(t,n,!1)})}function x(e,t){while(e){if(e==t)return!0;e=e.parentNode}return!1}function T(e,t){return e.indexOf(t)>-1}function N(e){return e.trim().split(/\s+/g)}function C(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);var r=0;while(r<e.length){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function k(e){return Array.prototype.slice.call(e,0)}function L(e,t,n){var r=[],i=[],s=0;while(s<e.length){var o=t?e[s][t]:e[s];C(i,o)<0&&r.push(e[s]),i[s]=o,s++}return n&&(t?r=r.sort(function(n,r){return n[t]>r[t]}):r=r.sort()),r}function A(e,t){var n,s,o=t[0].toUpperCase()+t.slice(1),u=0;while(u<i.length){n=i[u],s=n?n+o:t;if(s in e)return s;u++}return r}function M(){return O++}function _(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||e}function nt(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){b(e.options.enable,[e])&&n.handler(t)},this.init()}function rt(e){var t,n=e.options.inputClass;return n?t=n:H?t=Tt:B?t=_t:P?t=Pt:t=bt,new t(e,it)}function it(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,s=t&U&&r-i===0,o=t&(W|X)&&r-i===0;n.isFirst=!!s,n.isFinal=!!o,s&&(e.session={}),n.eventType=t,st(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function st(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=at(t)),i>1&&!n.firstMultiple?n.firstMultiple=at(t):i===1&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,u=o?o.center:s.center,l=t.center=ft(r);t.timeStamp=f(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=pt(u,l),t.distance=ht(u,l),ot(n,t),t.offsetDirection=ct(t.deltaX,t.deltaY);var c=lt(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=a(c.x)>a(c.y)?c.x:c.y,t.scale=o?vt(o.pointers,r):1,t.rotation=o?dt(o.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,ut(n,t);var h=e.element;x(t.srcEvent.target,h)&&(h=t.srcEvent.target),t.target=h}function ot(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},s=e.prevInput||{};if(t.eventType===U||s.eventType===W)i=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y};t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}function ut(e,t){var n=e.lastInterval||t,i=t.timeStamp-n.timeStamp,s,o,u,f;if(t.eventType!=X&&(i>R||n.velocity===r)){var l=t.deltaX-n.deltaX,c=t.deltaY-n.deltaY,h=lt(i,l,c);o=h.x,u=h.y,s=a(h.x)>a(h.y)?h.x:h.y,f=ct(l,c),e.lastInterval=t}else s=n.velocity,o=n.velocityX,u=n.velocityY,f=n.direction;t.velocity=s,t.velocityX=o,t.velocityY=u,t.direction=f}function at(e){var t=[],n=0;while(n<e.pointers.length)t[n]={clientX:u(e.pointers[n].clientX),clientY:u(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:ft(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ft(e){var t=e.length;if(t===1)return{x:u(e[0].clientX),y:u(e[0].clientY)};var n=0,r=0,i=0;while(i<t)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:u(n/t),y:u(r/t)}}function lt(e,t,n){return{x:t/e||0,y:n/e||0}}function ct(e,t){return e===t?V:a(e)>=a(t)?e<0?$:J:t<0?K:Q}function ht(e,t,n){n||(n=et);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function pt(e,t,n){n||(n=et);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.atan2(i,r)*180/Math.PI}function dt(e,t){return pt(t[1],t[0],tt)+pt(e[1],e[0],tt)}function vt(e,t){return ht(t[0],t[1],tt)/ht(e[0],e[1],tt)}function bt(){this.evEl=gt,this.evWin=yt,this.allow=!0,this.pressed=!1,nt.apply(this,arguments)}function Tt(){this.evEl=St,this.evWin=xt,nt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function Lt(){this.evTarget=Ct,this.evWin=kt,this.started=!1,nt.apply(this,arguments)}function At(e,t){var n=k(e.touches),r=k(e.changedTouches);return t&(W|X)&&(n=L(n.concat(r),"identifier",!0)),[n,r]}function _t(){this.evTarget=Mt,this.targetIds={},nt.apply(this,arguments)}function Dt(e,t){var n=k(e.touches),r=this.targetIds;if(t&(U|z)&&n.length===1)return r[n[0].identifier]=!0,[n,n];var i,s,o=k(e.changedTouches),u=[],a=this.target;s=n.filter(function(e){return x(e.target,a)});if(t===U){i=0;while(i<s.length)r[s[i].identifier]=!0,i++}i=0;while(i<o.length)r[o[i].identifier]&&u.push(o[i]),t&(W|X)&&delete r[o[i].identifier],i++;if(!u.length)return;return[L(s.concat(u),"identifier",!0),u]}function Pt(){nt.apply(this,arguments);var e=y(this.handler,this);this.touch=new _t(this.manager,e),this.mouse=new bt(this.manager,e)}function zt(e,t){this.manager=e,this.set(t)}function Wt(e){if(T(e,qt))return qt;var t=T(e,Rt),n=T(e,Ut);return t&&n?qt:t||n?t?Rt:Ut:T(e,It)?It:Ft}function Yt(e){this.options=d({},this.defaults,e||{}),this.id=M(),this.manager=null,this.options.enable=w(this.options.enable,!0),this.state=Xt,this.simultaneous={},this.requireFail=[]}function Zt(e){return e&Qt?"cancel":e&Jt?"end":e&$t?"move":e&Vt?"start":""}function en(e){return e==Q?"down":e==K?"up":e==$?"left":e==J?"right":""}function tn(e,t){var n=t.manager;return n?n.get(e):e}function nn(){Yt.apply(this,arguments)}function rn(){nn.apply(this,arguments),this.pX=null,this.pY=null}function sn(){nn.apply(this,arguments)}function on(){Yt.apply(this,arguments),this._timer=null,this._input=null}function un(){nn.apply(this,arguments)}function an(){nn.apply(this,arguments)}function fn(){Yt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ln(e,t){return t=t||{},t.recognizers=w(t.recognizers,ln.defaults.preset),new pn(e,t)}function pn(e,t){this.options=d({},ln.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=rt(this),this.touchAction=new zt(this,this.options.touchAction),dn(this,!0),h(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function dn(e,t){var n=e.element;if(!n.style)return;h(e.options.cssProps,function(e,r){n.style[A(n.style,r)]=t?e:""})}function vn(e,n){var r=t.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=n,n.target.dispatchEvent(r)}var i=["","webkit","Moz","MS","ms","o"],s=t.createElement("div"),o="function",u=Math.round,a=Math.abs,f=Date.now,d;typeof Object.assign!="function"?d=function(t){if(t===r||t===null)throw new TypeError("Cannot convert undefined or null to object");var n=Object(t);for(var i=1;i<arguments.length;i++){var s=arguments[i];if(s!==r&&s!==null)for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])}return n}:d=Object.assign;var v=p(function(t,n,i){var s=Object.keys(n),o=0;while(o<s.length){if(!i||i&&t[s[o]]===r)t[s[o]]=n[s[o]];o++}return t},"extend","Use `assign`."),m=p(function(t,n){return v(t,n,!0)},"merge","Use `assign`."),O=1,D=/mobile|tablet|ip(ad|hone|od)|android/i,P="ontouchstart"in e,H=A(e,"PointerEvent")!==r,B=P&&D.test(navigator.userAgent),j="touch",F="pen",I="mouse",q="kinect",R=25,U=1,z=2,W=4,X=8,V=1,$=2,J=4,K=8,Q=16,G=$|J,Y=K|Q,Z=G|Y,et=["x","y"],tt=["clientX","clientY"];nt.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(_(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(_(this.element),this.evWin,this.domHandler)}};var mt={mousedown:U,mousemove:z,mouseup:W},gt="mousedown",yt="mousemove mouseup";g(bt,nt,{handler:function(t){var n=mt[t.type];n&U&&t.button===0&&(this.pressed=!0),n&z&&t.which!==1&&(n=W);if(!this.pressed||!this.allow)return;n&W&&(this.pressed=!1),this.callback(this.manager,n,{pointers:[t],changedPointers:[t],pointerType:I,srcEvent:t})}});var wt={pointerdown:U,pointermove:z,pointerup:W,pointercancel:X,pointerout:X},Et={2:j,3:F,4:I,5:q},St="pointerdown",xt="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(St="MSPointerDown",xt="MSPointerMove MSPointerUp MSPointerCancel"),g(Tt,nt,{handler:function(t){var n=this.store,r=!1,i=t.type.toLowerCase().replace("ms",""),s=wt[i],o=Et[t.pointerType]||t.pointerType,u=o==j,a=C(n,t.pointerId,"pointerId");s&U&&(t.button===0||u)?a<0&&(n.push(t),a=n.length-1):s&(W|X)&&(r=!0);if(a<0)return;n[a]=t,this.callback(this.manager,s,{pointers:n,changedPointers:[t],pointerType:o,srcEvent:t}),r&&n.splice(a,1)}});var Nt={touchstart:U,touchmove:z,touchend:W,touchcancel:X},Ct="touchstart",kt="touchstart touchmove touchend touchcancel";g(Lt,nt,{handler:function(t){var n=Nt[t.type];n===U&&(this.started=!0);if(!this.started)return;var r=At.call(this,t,n);n&(W|X)&&r[0].length-r[1].length===0&&(this.started=!1),this.callback(this.manager,n,{pointers:r[0],changedPointers:r[1],pointerType:j,srcEvent:t})}});var Ot={touchstart:U,touchmove:z,touchend:W,touchcancel:X},Mt="touchstart touchmove touchend touchcancel";g(_t,nt,{handler:function(t){var n=Ot[t.type],r=Dt.call(this,t,n);if(!r)return;this.callback(this.manager,n,{pointers:r[0],changedPointers:r[1],pointerType:j,srcEvent:t})}}),g(Pt,nt,{handler:function(t,n,r){var i=r.pointerType==j,s=r.pointerType==I;if(i)this.mouse.allow=!1;else if(s&&!this.mouse.allow)return;n&(W|X)&&(this.mouse.allow=!0),this.callback(t,n,r)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ht=A(s.style,"touchAction"),Bt=Ht!==r,jt="compute",Ft="auto",It="manipulation",qt="none",Rt="pan-x",Ut="pan-y";zt.prototype={set:function(e){e==jt&&(e=this.compute()),Bt&&this.manager.element.style&&(this.manager.element.style[Ht]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return h(this.manager.recognizers,function(t){b(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Wt(e.join(" "))},preventDefaults:function(e){if(Bt)return;var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented){t.preventDefault();return}var r=this.actions,i=T(r,qt),s=T(r,Ut),o=T(r,Rt);if(i){var u=e.pointers.length===1,a=e.distance<2,f=e.deltaTime<250;if(u&&a&&f)return}if(o&&s)return;if(i||s&&n&G||o&&n&Y)return this.preventSrc(t)},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Xt=1,Vt=2,$t=4,Jt=8,Kt=Jt,Qt=16,Gt=32;Yt.prototype={defaults:{},set:function(e){return d(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(c(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=tn(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return c(e,"dropRecognizeWith",this)?this:(e=tn(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(c(e,"requireFailure",this))return this;var t=this.requireFail;return e=tn(e,this),C(t,e)===-1&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(c(e,"dropRequireFailure",this))return this;e=tn(e,this);var t=C(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function r(n){t.manager.emit(n,e)}var t=this,n=this.state;n<Jt&&r(t.options.event+Zt(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=Jt&&r(t.options.event+Zt(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Gt},canEmit:function(){var e=0;while(e<this.requireFail.length){if(!(this.requireFail[e].state&(Gt|Xt)))return!1;e++}return!0},recognize:function(e){var t=d({},e);if(!b(this.options.enable,[this,t])){this.reset(),this.state=Gt;return}this.state&(Kt|Qt|Gt)&&(this.state=Xt),this.state=this.process(t),this.state&(Vt|$t|Jt|Qt)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},g(nn,Yt,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return t===0||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(Vt|$t),i=this.attrTest(e);if(r&&(n&X||!i))return t|Qt;if(r||i)return n&W?t|Jt:t&Vt?t|$t:Vt;return Gt}}),g(rn,nn,{defaults:{event:"pan",threshold:10,pointers:1,direction:Z},getTouchAction:function(){var e=this.options.direction,t=[];return e&G&&t.push(Ut),e&Y&&t.push(Rt),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,s=e.deltaX,o=e.deltaY;return i&t.direction||(t.direction&G?(i=s===0?V:s<0?$:J,n=s!=this.pX,r=Math.abs(e.deltaX)):(i=o===0?V:o<0?K:Q,n=o!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return nn.prototype.attrTest.call(this,e)&&(this.state&Vt||!(this.state&Vt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=en(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),g(sn,nn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[qt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Vt)},emit:function(e){if(e.scale!==1){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),g(on,Yt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ft]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;this._input=e;if(!r||!n||e.eventType&(W|X)&&!i)this.reset();else if(e.eventType&U)this.reset(),this._timer=l(function(){this.state=Kt,this.tryEmit()},t.time,this);else if(e.eventType&W)return Kt;return Gt},reset:function(){clearTimeout(this._timer)},emit:function(e){if(this.state!==Kt)return;e&&e.eventType&W?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input))}}),g(un,nn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[qt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Vt)}}),g(an,nn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:G|Y,pointers:1},getTouchAction:function(){return rn.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction,n;return t&(G|Y)?n=e.overallVelocity:t&G?n=e.overallVelocityX:t&Y&&(n=e.overallVelocityY),this._super.attrTest.call(this,e)&&t&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&a(n)>this.options.velocity&&e.eventType&W},emit:function(e){var t=en(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),g(fn,Yt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[It]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;this.reset();if(e.eventType&U&&this.count===0)return this.failTimeout();if(r&&i&&n){if(e.eventType!=W)return this.failTimeout();var s=this.pTime?e.timeStamp-this.pTime<t.interval:!0,o=!this.pCenter||ht(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,!o||!s?this.count=1:this.count+=1,this._input=e;var u=this.count%t.taps;if(u===0)return this.hasRequireFailures()?(this._timer=l(function(){this.state=Kt,this.tryEmit()},t.interval,this),Vt):Kt}return Gt},failTimeout:function(){return this._timer=l(function(){this.state=Gt},this.options.interval,this),Gt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Kt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ln.VERSION="2.0.6",ln.defaults={domEvents:!1,touchAction:jt,enable:!0,inputTarget:null,inputClass:null,preset:[[un,{enable:!1}],[sn,{enable:!1},["rotate"]],[an,{direction:G}],[rn,{direction:G},["swipe"]],[fn],[fn,{event:"doubletap",taps:2},["tap"]],[on]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var cn=1,hn=2;pn.prototype={set:function(e){return d(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?hn:cn},recognize:function(e){var t=this.session;if(t.stopped)return;this.touchAction.preventDefaults(e);var n,r=this.recognizers,i=t.curRecognizer;if(!i||i&&i.state&Kt)i=t.curRecognizer=null;var s=0;while(s<r.length)n=r[s],t.stopped!==hn&&(!i||n==i||n.canRecognizeWith(i))?n.recognize(e):n.reset(),!i&&n.state&(Vt|$t|Jt)&&(i=t.curRecognizer=n),s++},get:function(e){if(e instanceof Yt)return e;var t=this.recognizers;for(var n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(c(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(c(e,"remove",this))return this;e=this.get(e);if(e){var t=this.recognizers,n=C(t,e);n!==-1&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){var n=this.handlers;return h(N(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},off:function(e,t){var n=this.handlers;return h(N(e),function(e){t?n[e]&&n[e].splice(C(n[e],t),1):delete n[e]}),this},emit:function(e,t){this.options.domEvents&&vn(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(!n||!n.length)return;t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};var r=0;while(r<n.length)n[r](t),r++},destroy:function(){this.element&&dn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},d(ln,{INPUT_START:U,INPUT_MOVE:z,INPUT_END:W,INPUT_CANCEL:X,STATE_POSSIBLE:Xt,STATE_BEGAN:Vt,STATE_CHANGED:$t,STATE_ENDED:Jt,STATE_RECOGNIZED:Kt,STATE_CANCELLED:Qt,STATE_FAILED:Gt,DIRECTION_NONE:V,DIRECTION_LEFT:$,DIRECTION_RIGHT:J,DIRECTION_UP:K,DIRECTION_DOWN:Q,DIRECTION_HORIZONTAL:G,DIRECTION_VERTICAL:Y,DIRECTION_ALL:Z,Manager:pn,Input:nt,TouchAction:zt,TouchInput:_t,MouseInput:bt,PointerEventInput:Tt,TouchMouseInput:Pt,SingleTouchInput:Lt,Recognizer:Yt,AttrRecognizer:nn,Tap:fn,Pan:rn,Swipe:an,Pinch:sn,Rotate:un,Press:on,on:E,off:S,each:h,merge:m,extend:v,assign:d,inherit:g,bindFn:y,prefixed:A});var mn=typeof e!="undefined"?e:typeof self!="undefined"?self:{};mn.Hammer=ln,typeof define=="function"&&define.amd?define("Hammer",[],function(){return ln}):typeof module!="undefined"&&module.exports?module.exports=ln:e[n]=ln}(window,document,"Hammer"),function(){var e;e=function(e){var t;return t=function(){function t(t){var n,r;this.options=$.extend({selector:null,activeSlide:0,countSwitchingSlides:1,loop:!1,elementsOnSide:1,positionActive:"auto",percentageSwipeElement:.3,lock:!1,getHtmlItem:function(e){return""},onChange:function(e,t,n,r){},onRender:function(e,t,n){},onUpdate:function(e,t,n){},events:!0,mouseEvents:!1,fastSwipe:!0},t),n=["ms","moz","webkit","o"],r=0;while(r<n.length&&!window.requestAnimationFrame)window.requestAnimationFrame=window[n[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[r]+"CancelAnimationFrame"]||window[n[r]+"CancelRequestAnimationFrame"],++r;window.requestAnimationFrame?this.requestAnimationFrame=$.proxy(window.requestAnimationFrame,window):this.requestAnimationFrame=function(e){return e()},window.cancelAnimationFrame?this.cancelAnimationFrame=$.proxy(window.cancelAnimationFrame,window):this.cancelAnimationFrame=function(){},this.options.selector&&$(this.options.selector).size()!==0?(this.lockGallery=!1,this.container=$(this.options.selector),this.containerContent=$(">.ul_overflow",this.container),this.gallery=$(">ul",this.containerContent),this.galleryItems=$(">*",this.gallery),this.appendControls(),this.arrowLeft=$(">.arrow_left",this.container),this.arrowRight=$(">.arrow_right",this.container),this.controlsContainer=$(">.controls_overflow .controls",this.container),this.requestAnimationId=1,this.startPx=0,this.endPx=0,this.currentActive=this.options.activeSlide,this.currentLeft=0,this.controlItems=null,this.galerySize=0,this.galleryWidth=0,this.showLoop=this.options.loop,this.has3d()?this.styleLeft=function(e){return function(t){return e.gallery.css("transform","translate3d("+t+"px,0,0)")}}(this):this.styleLeft=function(e){return function(t){return e.gallery.css({left:t+"px"})}}(this),this.update(),this.options.events&&(this.hammerManager=new e.Manager(this.containerContent[0]),this.hammerManager.add(new e.Pan({direction:e.DIRECTION_HORIZONTAL,threshold:0})),this.hammerManager.on("panstart panleft panright panend pancancel",$.proxy(this.handleHammer,this))),this.itemsMas.length>0&&this.itemsMas[this.currentActive].selector.addClass("active"),this.options.onRender(this.currentActive,this.galerySize-1,this.itemsMas)):console.log("SwipeGallery: Селектор не может быть пустым")}return t.prototype.updateOptions=function(t){t==null&&(t={}),this.options=$.extend(this.options,t),t.activeSlide&&(this.currentActive=t.activeSlide),this.update();if(this.options.events)return this.hammerManager&&this.hammerManager.destroy(),this.hammerManager=new e.Manager(this.containerContent[0]),this.hammerManager.add(new e.Pan({direction:e.DIRECTION_HORIZONTAL,threshold:0})),this.hammerManager.on("panstart panleft panright panend pancancel",$.proxy(this.handleHammer,this));if(this.hammerManager)return this.hammerManager.destroy()},t.prototype.lock=function(){return this.lockGallery=!0,this.updateControllState(),this.updateArrow()},t.prototype.unLock=function(){return this.lockGallery=!1,this.updateControllState(),this.updateArrow()},t.prototype.createItemsMas=function(){var e,t;return t=this,t.itemsMas&&t.itemsMas.length>0&&(t.currentActive=t.itemsMas[t.currentActive].index),t.itemsMas=[],e=0,t.galleryItems.each(function(n){return t.itemsMas.push({index:n,selector:$(this),width:$(this).width(),left:e}),e+=$(this).width()})},t.prototype.updateWidthGallery=function(){var e;e=0,$.each(this.itemsMas,function(t){return this.selector.css({left:this.left}),e+=this.width}),this.galleryWidth=this.containerContent.width();if(this.options.positionActive==="auto")return this.galleryWidth>=e?this.centerLeft=parseInt(this.galleryWidth/2-e/2,10):this.centerLeft=0,this.maxLeft=0-(this.itemsMas[this.itemsMas.length-1].left-this.galleryWidth+this.itemsMas[this.itemsMas.length-1].width)},t.prototype.updateControllState=function(){return this.lockGallery?this.controlsContainer.addClass("lock"):this.controlsContainer.removeClass("lock"),this.controlItems.removeClass("active"),this.controlItems.eq(this.itemsMas[this.currentActive].index).addClass("active")},t.prototype.appendControls=function(){return this.container.append('<div class="controls_overflow">                            <div class="controls"></div>                           </div>                           <div class="arrow_left"><i class="material-icons">keyboard_arrow_left</i></div>                           <div class="arrow_right"><i class="material-icons">keyboard_arrow_right</i></div>')},t.prototype.destroy=function(){return this.hammerManager&&this.hammerManager.destroy(),$(">.controls_overflow, >.arrow_left, >.arrow_right",this.container).remove()},t.prototype.update=function(e){var t,n;this.containerContent=$(">.ul_overflow",this.container),this.gallery=$(">ul",this.containerContent),this.galleryItems=$(">*",this.gallery),this.createItemsMas(),this.controlsContainer.html(""),this.galerySize=this.galleryItems.size(),t="",n=0;while(n<this.galerySize)t+='<div class="control">'+this.options.getHtmlItem(n)+"</div>",n++;return this.controlsContainer.append(t),this.controlItems=$(">.control",this.controlsContainer),this.options.loop&&this.galerySize>=this.options.elementsOnSide*2+1?this.showLoop=!0:this.showLoop=!1,this.itemsMas.length>0&&(this.updateControllState(),this.updateWidthGallery(),e?this.updateArrow():this.showPane(this.currentActive,!1)),this.options.onUpdate(this.currentActive,this.galerySize-1,this.itemsMas)},t.prototype.updateArrow=function(){return this.lockGallery?(this.arrowLeft.addClass("lock"),this.arrowRight.addClass("lock")):(this.arrowLeft.removeClass("lock"),this.arrowRight.removeClass("lock")),this.currentActive===0?this.arrowLeft.addClass("disable"):this.arrowLeft.removeClass("disable"),this.currentActive>=this.galerySize-this.options.countSwitchingSlides?this.arrowRight.addClass("disable"):this.arrowRight.removeClass("disable"),this.galerySize<=this.options.countSwitchingSlides?(this.arrowLeft.addClass("hide"),this.arrowRight.addClass("hide")):(this.arrowLeft.removeClass("hide"),this.arrowRight.removeClass("hide"))},t.prototype.handleHammer=function(e){var t;if(!this.options.mouseEvents&&e.pointerType==="mouse")return!1;switch(e.type){case"panstart":return this.gallery.removeClass("animate");case"panleft":case"panright":return this.sliderMoveFast(this.currentLeft+e.deltaX);case"panend":case"pancancel":return t=Math.abs(e.velocityX),t<1&&(t=1),this.showPane(this.detectActiveSlideWithPosition(e.deltaX*t,e.deltaTime),!0)}},t.prototype.detectActiveSlideWithPosition=function(e,t){return this.detectActiveSlide(e)},t.prototype.detectActiveSlide=function(e){var t,n;t=this.currentActive,n=0;if(!this.lockGallery){if(e>0){t--;while(this.itemsMas[t]&&e-this.itemsMas[t].width*this.options.percentageSwipeElement-n>=0)n+=this.itemsMas[t].width,t--;return t+1}while(this.itemsMas[t]&&e+this.itemsMas[t].width*this.options.percentageSwipeElement+n<=0)n+=this.itemsMas[t].width,t++;return t}return t},t.prototype.elementMoveLeft=function(){var e;return e=this.itemsMas.pop(),e.left=this.itemsMas[0].left-e.width,this.itemsMas.unshift(e),this.currentActive++,this.setLeft(0)},t.prototype.elementMoveRight=function(){var e;return e=this.itemsMas.shift(),e.left=this.itemsMas[this.galerySize-2].left+this.itemsMas[this.galerySize-2].width,this.itemsMas.push(e),this.currentActive--,this.setLeft(this.galerySize-1)},t.prototype.setLeft=function(e){var t;t=this.itemsMas[e];if(t)return t.selector.css({left:t.left+"px"})},t.prototype.next=function(){if(!this.lockGallery)return this.showPane(this.currentActive+this.options.countSwitchingSlides,!0)},t.prototype.prev=function(){if(!this.lockGallery)return this.showPane(this.currentActive-this.options.countSwitchingSlides,!0)},t.prototype.goTo=function(e){var t;if(!this.lockGallery)return t=0,$.each(this.itemsMas,function(n){if(this.index===e)return t=n}),this.showPane(t,!0)},t.prototype.showPane=function(e,t){var n,r;return e=Math.max(0,Math.min(e,this.galerySize-1)),r="left",n=!1,this.currentActive!==e&&(n=!0,e>this.currentActive&&(r="right"),$(">li.active",this.gallery).removeClass("active"),this.itemsMas[e].selector.addClass("active")),this.currentActive=e,this.updateControllState(),this.options.positionActive==="auto"?(this.currentLeft=0-this.itemsMas[e].left,this.centerLeft!==0?this.currentLeft=this.centerLeft:this.setPositionElement(),this.updateArrow(),!this.showLoop&&Math.abs(this.currentLeft)>Math.abs(this.maxLeft)&&(this.currentLeft=this.maxLeft)):(this.options.positionActive==="left"?this.currentLeft=0-this.itemsMas[e].left:this.options.positionActive==="center"?this.currentLeft=this.galleryWidth/2-this.itemsMas[e].left-this.itemsMas[e].width/2:this.options.positionActive==="right"&&(this.currentLeft=this.galleryWidth-this.itemsMas[e].width-this.itemsMas[e].left),this.setPositionElement(),this.updateArrow()),n&&this.options.onChange(this.currentActive,this.galerySize-1,this.itemsMas,r),this.slidersMove(this.currentLeft,t)},t.prototype.setPositionElement=function(){var e,t;if(this.showLoop){e=this.currentActive;while(e<this.options.elementsOnSide)this.elementMoveLeft(),e++;e=this.currentActive,t=[];while(e>this.galerySize-1-this.options.elementsOnSide)this.elementMoveRight(),t.push(e--);return t}},t.prototype.slidersMove=function(e,t){return this.cancelAnimationFrame(this.requestAnimationId),t?this.gallery.addClass("animate"):this.gallery.removeClass("animate"),this.gallery.width(),this.styleLeft(e)},t.prototype.sliderMoveFast=function(e){return this.cancelAnimationFrame(this.requestAnimationId),this.startPx=this.currentLeft,this.endPx=e,this.requestAnimationId=this.requestAnimationFrame($.proxy(this.moveRequestAnimation,this))},t.prototype.moveRequestAnimation=function(e,t){if(this.startPx!==this.endPx)return this.styleLeft(this.endPx),this.startPx=this.endPx,this.requestAnimationId=this.requestAnimationFrame($.proxy(this.moveRequestAnimation,this))},t.prototype.has3d=function(){var e,t,n,r;e=document.createElement("p"),t=void 0,r={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"},document.body.insertBefore(e,null);for(n in r)e.style[n]!==undefined&&(e.style[n]="translate3d(1px,1px,1px)",t=window.getComputedStyle(e).getPropertyValue(r[n]));return document.body.removeChild(e),t!==undefined&&t.length>0&&t!=="none"},t}()},typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("SwipeGallery",["require","exports","module","Hammer"],function(t,n,r){var i;return i=t("Hammer"),e(i)}):window.SwipeGallery=e(Hammer)}.call(this),define("components/SwipeGalleryComponent",["require","exports","module","jquery","backbone","backbone-epoxy","SwipeGallery","util"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("SwipeGallery"),u=e("util"),a=s.View.extend({template:"tpl-component-swipe-gallery",events:{"click .controls_overflow .control":"onControlClick","click .arrow_left":"onClickLeft","click .arrow_right":"onClickRight"},initialize:function(e){this.render(),this.itemView=e.itemView,this.collection=e.collection,e.options=e.options||{},this.options=_.extend(e.options,{selector:r("[data-js-block]",this.$el),onChange:_.bind(this.onSliderChange,this)}),this.renderAsync=r.Deferred(),this.initCollection(),this.items={},this.collection.length!==0&&this.renderAll(this.collection),this.bindResize=this.resize.bind(this),r.subscribe("window:resize",this.bindResize)},setRenderStatus:function(){this.renderAsync.resolve()},resize:function(e,t){this.gallery&&this.gallery.update()},initCollection:function(){return this.collection==null&&(this.collection=new SwipeGalleryCollection),this.listenTo(this.collection,"reset",this.onResetCollection),this.listenTo(this.collection,"add",this.onAddCollection),this.listenTo(this.collection,"remove",this.onRemoveCollection)},onAddCollection:function(e){var t=this;this.renderAsync.done(function(){t.renderItem(e),t.refreshPlugin()})},renderItem:function(e){var t=new this.itemView({model:e,parentView:this});this.items[e.cid]=t,r("[data-js-list]",this.$el).append(t.$el)},onRemoveCollection:function(e){var t=this;this.renderAsync.done(function(){t.items[e.cid].remove(),t.refreshPlugin()})},onResetCollection:function(e){var t=this;this.renderAsync.done(function(){t.renderAll(e)})},renderAll:function(e){var t=this;this.renderAsync.done(function(){_.each(t.items,function(e){e.remove()}),t.items={},_.each(e.models,function(e){t.renderItem(e)}),t.gallery&&t.gallery.destroy(),t.gallery=new o(t.options)})},onSliderChange:function(e,t,n,r){var i=this,s=[];_.each(n,function(e){s.push(i.collection.models[e.index])}),this.state={index:e,galleryModels:s,dirrection:r},this.trigger("change:slide",this.state)},refreshPlugin:function(){this.gallery?this.gallery.update():this.gallery=new o(this.options)},setOptions:function(e){_.extend(this.options,e)},updateOptions:function(e){this.gallery&&this.gallery.updateOptions(e)},prev:function(){this.gallery&&this.gallery.prev()},next:function(){this.gallery&&this.gallery.next()},lock:function(){this.gallery&&this.gallery.lock()},unlock:function(){this.gallery&&this.gallery.unlock()},onControlClick:function(e){this.gallery&&this.gallery.goTo(r(e.currentTarget).index())},onClickLeft:function(){this.trigger("before:click:left",this.state),this.gallery&&this.gallery.prev(),this.trigger("after:click:left",this.state)},onClickRight:function(){this.trigger("before:click:right",this.state),this.gallery&&this.gallery.next(),this.trigger("after:click:right",this.state)},render:function(){this.$el.html(u.templates(this.template,{}))},destroy:function(){this.gallery&&this.gallery.destroy(),r.unsubscribe("window:resize",this.bindResize),this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.html(""),delete this}});return a}),define("launches/logLevel/LogItemInfoTabs/LogItemInfoAttachments",["require","underscore","jquery","backbone","backbone-epoxy","util","components/SwipeGalleryComponent","callService","dataUrlResolver","launches/logLevel/LogItemModel","app"],function(e){"use strict";var t=e("underscore"),n=e("jquery"),r=e("backbone"),i=e("backbone-epoxy"),s=e("util"),o=e("components/SwipeGalleryComponent"),u=e("callService"),a=e("dataUrlResolver"),f=u.call,l=e("launches/logLevel/LogItemModel"),c=e("app"),h,p,d,v=c.getInstance(),m=6,g=i.Model.extend({defaults:{pageNumber:1,totalPages:1,itemId:"",content:[],itemModels:[]},initialize:function(e){!e.notLoad&&this.get("content").length===0&&this.load(),this.listenTo(this,"change:pageNumber",this.load)},load:function(){var e=n.Deferred(),t=this,r;return this.trigger("load:true",!0),e.always(function(){t.trigger("load:false",!1)}),this.get("pageNumber")<1||this.get("pageNumber")>this.get("totalPages")?(this.set({content:[]}),e.resolve()):(r=a.getLogsUrl()+"?"+this.getParamsUrl().join("&"),this.request&&this.request.abort(),this.request=f("GET",r).done(function(n){if(n.content.length===0){e.reject();return}t.set({content:n.content}),e.resolve(n)}).fail(function(){e.reject()})),e.promise()},getParamsUrl:function(){var e=["filter.ex.binary_content=true"];return e.push("filter.eq.item="+this.get("itemId")),e.push("page.page="+this.get("pageNumber")),e.push("page.size="+m),e}}),y=i.View.extend({tagName:"li",template:"tpl-launch-log-item-info-attachments-items",initialize:function(){this.render(),this.listenTo(this.model,"load",this.onLoad),this.collection=new r.Collection([],{model:l}),this.listenTo(this.model,"change:content",this.onChangeContent),this.listenTo(this.collection,"reset",this.onResetCollection),this.onChangeContent()},onLoad:function(e){if(e){this.$el.addClass("load");return}this.$el.removeClass("load")},onChangeContent:function(){var e=this,n=this.model.get("content");t.each(n,function(t,n){t.pageNumber=e.model.get("pageNumber"),t.pageIndex=n}),this.collection.reset(n),this.model.set({itemModels:this.collection.models})},onResetCollection:function(){var e=n("[data-js-items-list]",this.$el);e.html(""),t.each(this.collection.models,function(t){e.append((new h({model:t})).$el)},this)},render:function(){this.$el.html(s.templates(this.template,{}))}});return h=i.View.extend({className:"gallery-preview",events:{"click [data-js-gallery-image]":"onClickGalleryImage"},bindings:{"[data-js-gallery-image]":"attr: {src:  imagePath}",":el":"classes: {active: active}"},initialize:function(){this.$el.html('<div class="gallery-image"><img data-js-gallery-image></div>')},onClickGalleryImage:function(){v.trackingDispatcher.trackEventNumber(508),this.model.trigger("click:min:item",this.model),this.model.trigger("change:active:slide",this.model)}}),p=i.View.extend({tagName:"li",template:"tpl-launch-log-item-info-attachments-main-item",events:{"click [data-js-main-image]":"onClickMainImage"},bindings:{"[data-js-main-image]":'html: format("<img src=$1>", mainImagePath)'},initialize:function(){this.render(),this.listenTo(this.model,"change:id",this.onChangeId)},onClickMainImage:function(){v.trackingDispatcher.trackEventNumber(507),this.model.trigger("click:attachment",this.model)},onChangeId:function(e,t){this.rotate=0,t?this.$el.removeClass("hide-content"):this.$el.addClass("hide-content")},render:function(){this.$el.html(s.templates(this.template,{}))}}),d=i.View.extend({template:"tpl-launch-log-item-info-attachments",events:{"click [data-js-close]":"onClickClose","click [data-js-destroy-main-gallery]":"destroyMainGallery"},bindings:{"[data-js-main-gallery-current]":"text: currentElement","[data-js-main-gallery-size]":"text: totalElements"},initialize:function(e){this.model=new(i.Model.extend({defaults:{currentElement:0,totalElements:0}})),this.render(),this.isLoad=!1,this.$main=n("[data-js-attachments-container]",this.$el),this.itemModel=e.itemModel,this.parentModel=e.parentModel,this.listenTo(this.parentModel,"change:attachments",this.onShow),this.pageSize=6,this.collectionPreviews=new r.Collection([],{model:g}),this.sortPreviewModels=this.collectionPreviews,this.collectionMain=new r.Collection([],{model:l}),this.currentLoadCollection=new r.Collection,this.totalPages=1,this.curPage=1,this.listenTo(this.collectionMain,"click:attachment",this.onClickMainImage),this.listenTo(this.collectionPreviews,"change:itemModels",this.updateLoadItems),this.listenTo(this.currentLoadCollection,"change:active:slide",this.onChangeMainActiveSlide),this.listenTo(this.currentLoadCollection,"click:min:item",this.activateMainGallery)},onClickMainImage:function(e){this.trigger("click:attachment",e)},onShow:function(e,t){t&&!this.isLoad&&(this.isLoad=!0,this.load(),this.galleryPreviews=new o({el:n("[data-js-min-gallery]",self.$el),collection:this.collectionPreviews,itemView:y,options:{loop:!0}}),this.listenTo(this.galleryPreviews,"change:slide",this.onChangeSlide),this.listenTo(this.galleryPreviews,"after:click:right after:click:left",this.onClickPreviewNav))},goToAttachmentsPrev:function(){this.isLoad=!0},goToAttachments:function(e){var t=this;return this.activateAttachment(e)?!0:(this.$main.addClass("load"),this.findLogPage(e).done(function(e){t.curPage=e,t.totalPages=e}).always(function(){t.load().done(function(){t.activateAttachment(e)})}),undefined)},activateAttachment:function(e){var t=this.currentLoadCollection.get(e);return t?(t.trigger("click:min:item",t),t.trigger("change:active:slide",t),!0):!1},findLogPage:function(e){var t=n.Deferred(),r=a.getLogsUrl()+"/"+e+"/page?filter.eq.item="+this.itemModel.get("id")+"&page.size="+m+"&filter.ex.binary_content=true";return f("GET",r).done(function(e){t.resolve(e.number)}).fail(function(){t.reject()}),t},activateMainGallery:function(){this.galleryMain||(this.galleryMain=new o({el:n("[data-js-main-gallery]",this.$el),collection:this.collectionMain,itemView:p,options:{loop:!0}}),this.listenTo(this.galleryMain,"change:slide",this.onChangeGalleryMainSlide),this.galleryMain.setRenderStatus()),n("[data-js-gallery-main-head]",this.$el).addClass("activate")},destroyMainGallery:function(){this.galleryMain&&(this.stopListening(this.galleryMain),this.galleryMain.destroy(),this.galleryMain=null,n("[data-js-gallery-main-head]",this.$el).removeClass("activate"))},onChangeMainActiveSlide:function(e){var n=0;if(!e)return;this.model.set({currentElement:(e.get("pageNumber")-1)*m+e.get("pageIndex")+1}),t.each(this.currentLoadCollection.models,function(t,r){t.set({active:!1}),t.get("id")===e.get("id")&&(n=r)}),e.set({active:!0}),this.collectionMain.reset([this.currentLoadCollection.at(n).toJSON()]),this.currentLoadCollection.length>1&&(this.currentLoadCollection.at(n+1)?this.collectionMain.add(this.currentLoadCollection.at(n+1).toJSON()):this.collectionMain.add({id:""}),this.currentLoadCollection.at(n-1)?this.collectionMain.add(this.currentLoadCollection.at(n-1).toJSON()):this.collectionMain.add({id:""}))},updateLoadItems:function(){var e=this,n;e.currentLoadCollection.reset([]),t.each(this.sortPreviewModels.models,function(t){e.currentLoadCollection.push(t.get("itemModels"))}),n=this.currentLoadCollection.where({active:!0})[0],(!n||n.get("pageNumber")!==this.curPage)&&t.each(this.currentLoadCollection.models,function(t,n){return t.get("pageNumber")===e.curPage?(e.onChangeMainActiveSlide(t),e.updateArrowMainGallery(n),!1):undefined})},onClickPreviewNav:function(e){e.galleryModels.length<3&&this.updateLoadItems()},load:function(){var e=new g({pageNumber:this.curPage,totalPages:this.totalPages,itemId:this.itemModel.get("id"),notLoad:!0}),t=this,n;return this.$main.addClass("load"),e.load().done(function(r){t.model.set({totalElements:r.page.totalElements}),t.totalPages=r.page.totalPages,e.set({totalPages:t.totalPages}),n=[e],t.totalPages>1&&(n.push({pageNumber:t.curPage+1,itemId:t.itemModel.get("id"),totalPages:t.totalPages}),t.totalPages>2&&n.push({pageNumber:t.curPage-1,itemId:t.itemModel.get("id"),totalPages:t.totalPages})),t.collectionPreviews.reset(n),t.$main.removeClass("load"),t.galleryPreviews.setRenderStatus(),t.galleryMain&&t.galleryMain.setRenderStatus(),t.updateArrowState(t.curPage),t.updateArrowMainGallery(0)}).fail(function(){t.$main.removeClass("load"),t.$main.addClass("not-found")})},updateArrowMainGallery:function(e){this.currentLoadCollection.at(e+1)?n("[data-js-main-gallery] .arrow_right").removeClass("disabled"):n("[data-js-main-gallery] .arrow_right").addClass("disabled"),this.currentLoadCollection.at(e-1)?n("[data-js-main-gallery] .arrow_left").removeClass("disabled"):n("[data-js-main-gallery] .arrow_left").addClass("disabled")},onChangeGalleryMainSlide:function(e){var n=0,r=e.galleryModels[e.index];this.model.set({currentElement:(r.get("pageNumber")-1)*m+r.get("pageIndex")+1});if(r.get("id")===""){e.dirrection==="right"?(v.trackingDispatcher.trackEventNumber(506),this.galleryMain.prev()):(v.trackingDispatcher.trackEventNumber(505),this.galleryMain.next());return}t.each(this.currentLoadCollection.models,function(e,t){e.set({active:!1}),e.get("id")===r.get("id")&&(e.set({active:!0}),n=t)}),this.updateArrowMainGallery(n);if(e.dirrection==="right"){v.trackingDispatcher.trackEventNumber(506);if(!this.currentLoadCollection.at(n+1)){e.galleryModels[e.index+1].set({id:""});return}e.galleryModels[e.index+1].set(this.currentLoadCollection.at(n+1).toJSON()),e.galleryModels[e.index-1].get("pageNumber")&&e.galleryModels[e.index-1].get("pageNumber")!==e.galleryModels[e.index].get("pageNumber")&&this.galleryPreviews.next();return}v.trackingDispatcher.trackEventNumber(505);if(!this.currentLoadCollection.at(n-1)){e.galleryModels[e.index-1].set({id:""});return}e.galleryModels[e.index-1].set(this.currentLoadCollection.at(n-1).toJSON()),e.galleryModels[e.index+1].get("pageNumber")!==e.galleryModels[e.index].get("pageNumber")&&this.galleryPreviews.prev()},onChangeSlide:function(e){var t=e.galleryModels[e.index],n=t.get("pageNumber");this.sortPreviewModels={models:e.galleryModels},this.curPage=n,this.updateArrowState(n);if(n<1||n>this.totalPages){e.dirrection==="left"?this.galleryPreviews.next():this.galleryPreviews.prev();return}if(e.dirrection==="right"){e.galleryModels[e.index+1]&&e.galleryModels[e.index+1].set({pageNumber:n+1});return}e.galleryModels[e.index-1]&&e.galleryModels[e.index-1].set({pageNumber:n-1})},updateArrowState:function(e){e<=1?n("[data-js-min-gallery] .arrow_left",this.$el).addClass("disabled"):n("[data-js-min-gallery] .arrow_left",this.$el).removeClass("disabled"),e>=this.totalPages?n("[data-js-min-gallery] .arrow_right",this.$el).addClass("disabled"):n("[data-js-min-gallery] .arrow_right",this.$el).removeClass("disabled")},onClickClose:function(){this.parentModel.set({attachments:!1})},render:function(){this.$el.html(s.templates(this.template),{})},destroy:function(){this.galleryMain&&this.galleryMain.destroy(),this.galleryPreviews&&this.galleryPreviews.destroy(),this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.html(""),delete this}}),d}),define("launches/logLevel/LogItemInfoTabs/LogItemInfoParametresView",["require","jquery","backbone-epoxy","util"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=n.View.extend({template:"tpl-launch-log-item-info-parametres",bindings:{"[data-js-no-parametres]":"classes: {hide: isParams}","[data-js-item-parametres-container]":"classes: {hide: not(isParams)}"},computeds:{isParams:{deps:["parameters"],get:function(e){return e?!0:!1}}},initialize:function(){this.render()},render:function(){this.$el.html(r.templates(this.template,{params:this.model.get("parameters")}))},destroy:function(){this.unbind(),this.$el.html(""),delete this}});return i}),define("launches/logLevel/LogItemInfoTabs/LogItemInfoLastAction",["require","jquery","underscore","backbone-epoxy","util","coreService","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("coreService"),o=e("localization"),u=r.View.extend({template:"tpl-launch-log-item-info-latest-action",initialize:function(e){this.render(),this.itemModel=e.itemModel,this.onShow()},onShow:function(){this.listenTo(this.itemModel,"change:issue",this.load),this.load()},load:function(){var e=this;s.loadActivityItems(this.itemModel.get("id")).done(function(t){e.parse(t)})},parse:function(e){e.length!==0&&(t("[data-js-name]",this.$el).text(e[0].userRef),t("[data-js-action]",this.$el).text(this.actionName(e[0].actionType)))},actionName:function(e,t){switch(e){case"update_item":return n.size(t)>1?o.itemEvents.updateItemIssue:o.itemEvents.updateItem;case"post_issue":return o.itemEvents.postIssue;case"link_issue":return o.itemEvents.linkIssue;case"unlink_issue":return o.itemEvents.unlinkIssue;case"analyze_item":return o.itemEvents.changedByAnalyzer;case"link_issue_aa":return o.itemEvents.issueLoadByAnalyzer;default:}},render:function(){this.$el.html(i.templates(this.template),{})}});return u}),define("launches/logLevel/LogItemInfoTabs/LogItemInfoTabs",["require","jquery","backbone-epoxy","util","launches/common/StepLogDefectTypeView","launches/logLevel/LogItemInfoTabs/LogItemInfoStackTraceView","launches/logLevel/LogItemInfoTabs/LogItemInfoDetailsView","launches/logLevel/LogItemInfoTabs/LogItemInfoActivity","launches/logLevel/LogItemInfoTabs/LogItemInfoAttachments","launches/logLevel/LogItemInfoTabs/LogItemInfoParametresView","launches/logLevel/LogItemInfoTabs/LogItemInfoLastAction","app","underscore"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("launches/common/StepLogDefectTypeView"),s=e("launches/logLevel/LogItemInfoTabs/LogItemInfoStackTraceView"),o=e("launches/logLevel/LogItemInfoTabs/LogItemInfoDetailsView"),u=e("launches/logLevel/LogItemInfoTabs/LogItemInfoActivity"),a=e("launches/logLevel/LogItemInfoTabs/LogItemInfoAttachments"),f=e("launches/logLevel/LogItemInfoTabs/LogItemInfoParametresView"),l=e("launches/logLevel/LogItemInfoTabs/LogItemInfoLastAction"),c=e("app"),h=e("underscore"),p=c.getInstance(),d=n.View.extend({template:"tpl-launch-log-item-info-tabs",className:"launch-log-item-info-tabs",events:{"click [data-js-item-stack-trace-label]":function(){p.trackingDispatcher.trackEventNumber(200),this.toggleModelField("stackTrace")},"click [data-js-item-gallery-label]":function(){p.trackingDispatcher.trackEventNumber(201),this.toggleModelField("attachments")},"click [data-js-item-details-label]":function(){p.trackingDispatcher.trackEventNumber(202),this.toggleModelField("itemDetails")},"click [data-js-item-activity-label]":function(){p.trackingDispatcher.trackEventNumber(203),this.toggleModelField("activity")},"click [data-js-item-parametres-label]":function(){this.toggleModelField("parametres"),this.scroll=r.setupBaronScroll(t("[data-js-item-parametres-container] table",this.$el),null,{direction:"m"}),r.setupBaronScrollSize(this.scroll,{maxHeight:445}),t(window).resize()}},bindings:{"[data-js-item-stack-trace-label]":"classes: {active: stackTrace}","[data-js-item-gallery-label]":"classes: {active: attachments}","[data-js-item-details-label]":"classes: {active: itemDetails}","[data-js-item-parametres-label]":"classes: {active: parametres}","[data-js-item-activity-label]":"classes: {hide: isShowActivities, active: activity}","[data-js-item-stack-trace]":"classes: {hide: not(stackTrace)}","[data-js-item-gallery]":"classes: {hide: not(attachments)}","[data-js-item-details]":"classes: {hide: not(itemDetails)}","[data-js-item-activity]":"classes: {hide: not(activity)}","[data-js-item-parametres]":"classes: {hide: not(parametres)}"},computeds:{isShowActivities:function(){return this.lastRunItemId!==this.viewModel.get("id")}},initialize:function(e){this.context=e.context,this.viewModel=e.itemModel,this.lastRunItemId=e.lastRunItemId,this.prevModel=e.prevModel,this.model=new(n.Model.extend({defaults:{stackTrace:!1,attachments:!1,itemDetails:!1,activity:!1,parametres:!1}})),this.listenTo(this.model,"change:stackTrace change:attachments change:itemDetails change:activity change:parametres",this.onChangeTabModel),this.render(),this.validateForIssue()&&(this.issueView=new i({model:this.viewModel,pageType:"logs",el:t("[data-js-step-issue]",this.$el),context:this.context})),this.stackTrace=new s({el:t("[data-js-item-stack-trace]",this.$el),itemModel:this.viewModel,parentModel:this.model}),this.details=new o({el:t("[data-js-item-details]",this.$el),itemModel:this.viewModel,parentModel:this.model,prevModel:this.prevModel}),this.activity=new u({el:t("[ data-js-item-activity]",this.$el),itemModel:this.viewModel,parentModel:this.model}),this.attachments=new a({el:t("[data-js-item-gallery]",this.$el),itemModel:this.viewModel,parentModel:this.model}),this.parametres=new f({el:t("[data-js-item-parametres]",this.$el),model:this.viewModel}),this.applyBindings(),this.getBinding("isShowActivities")||(this.latest=new l({itemModel:this.viewModel}),t("[data-js-latest-container]",this.$el).html(this.latest.$el)),this.listenTo(this.stackTrace,"goToLog",this.goToLog),this.listenTo(this.attachments,"click:attachment",this.onClickAttachment)},onClickAttachment:function(e){this.trigger("click:attachment",e)},goToLog:function(e){this.trigger("goToLog",e)},endGoToLog:function(){this.stackTrace.endGoToLog()},goToAttachment:function(e){var t=this;p.mainScrollElement.animate({scrollTop:this.el.offsetTop},500,function(){t.attachments.goToAttachmentsPrev(),t.model.set({attachments:!0}),t.attachments.goToAttachments(e)})},validateForIssue:function(){return!!this.viewModel.get("issue")},onChangeTabModel:function(e,t){t&&this.model.set(h.extend(h.clone(this.model.defaults),e.changed))},toggleModelField:function(e){this.model.set(e,!this.model.get(e))},render:function(){this.$el.html(r.templates(this.template))},onDestroy:function(){this.stackTrace&&this.stackTrace.destroy(),this.details&&this.details.destroy(),this.activity&&this.activity.destroy(),this.attachments&&this.attachments.destroy(),this.latest&&this.latest.destroy()}});return d}),define("launches/logLevel/LogItemInfoView",["require","jquery","underscore","backbone-epoxy","backbone","util","launches/common/StepLogDefectTypeView","launches/common/LaunchSuiteStepItemModel","launches/logLevel/LogItemInfoRetryItemView","launches/logLevel/LogItemInfoTabs/LogItemInfoTabs","modals/modalConfirm","app","launches/multipleActions/postBugAction","launches/multipleActions/loadBugAction","model/SingletonAppModel","localization","coreService"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("backbone"),s=e("util"),o=e("launches/common/StepLogDefectTypeView"),u=e("launches/common/LaunchSuiteStepItemModel"),a=e("launches/logLevel/LogItemInfoRetryItemView"),f=e("launches/logLevel/LogItemInfoTabs/LogItemInfoTabs"),l=e("modals/modalConfirm"),c=e("app"),h=e("launches/multipleActions/postBugAction"),p=e("launches/multipleActions/loadBugAction"),d=e("model/SingletonAppModel"),v=e("localization"),m=e("coreService"),g=c.getInstance(),y=i.Collection.extend({model:u}),b=r.View.extend({template:"tpl-launch-log-item-info",events:{"click [data-js-post-bug]":"onClickPostBug","click [data-js-load-bug]":"onClickLoadBug","click [data-js-send-issue]":"onClickSendIssue","click [data-js-receive-issue]":"onClickReceiveIssue"},bindings:{"[data-js-post-bug]":"classes: {disabled: validatePostBug}, attr: {title: postBugTitle}","[data-js-load-bug]":"classes: {disabled: validateLoadBug}, attr: {title: loadBugTitle}","[data-js-send-issue]":"classes: {disabled: isDisabledSendIssue, hidden: isVisibleSendIssue}","[data-js-receive-issue]":"classes: {disabled: isDisabledReceiveIssue, hidden: isVisibleReceiveIssue}"},computeds:{isDisabledSendIssue:{get:function(){return!(this.viewModel.collection.length>1)||n.isEmpty(this.viewModel.getIssue())||n.isEmpty(this.viewModel.collection.models[this.viewModel.collection.models.length-1].getIssue())}},isVisibleSendIssue:{get:function(){return this.viewModel.get("id")===this.viewModel.collection.models[this.viewModel.collection.models.length-1].get("id")}},isDisabledReceiveIssue:{get:function(){var e=!1;return n.each(this.viewModel.collection.models,function(t,r){r!==this.viewModel.collection.models.length-1&&!n.isEmpty(t.getIssue())&&(e=!0)}.bind(this)),!(this.viewModel.collection.length>1)||n.isEmpty(this.viewModel.getIssue())||!e}},isVisibleReceiveIssue:{get:function(){return this.viewModel.get("id")!==this.viewModel.collection.models[this.viewModel.collection.models.length-1].get("id")}},validateLoadBug:{deps:["launch_isProcessing"],get:function(){return this.viewModel.validate.loadbug()}},validatePostBug:{deps:["launch_isProcessing"],get:function(){return this.viewModel.validate.postbug()}},postBugTitle:{deps:["issue","validatePostBug"],get:function(e,t){return t?t:v.launches.postBug}},loadBugTitle:{deps:["issue","validateLoadBug"],get:function(e,t){return t?t:v.launches.linkIssue}}},initialize:function(e){this.context=e.context,this.appModel=new d,this.viewModel=e.itemModel,this.context==="userdebug"&&this.viewModel.set("mode","DEBUG"),this.prevModel=e.prevModel,this.launchModel=e.launchModel,this.collectionItems=e.collectionItems,this.listenTo(this.launchModel,"change:isProcessing",this.onChangeLaunchProcessing),this.listenTo(this.viewModel,"change:issue",this.onChangeIssue),this.onChangeLaunchProcessing(),this.render(),this.validateForIssue()&&(this.issueView=new o({model:this.viewModel,pageType:"logs",el:t("[data-js-step-issue]",this.$el),context:this.context}),this.listenTo(this.issueView,"update:issue",function(){this.trigger("update:issue")})),this.renderedRetries=[],this.renderRetries()},getCurrentRetry:function(){var e=this.collectionItems.getInfoLog();if(e.retry){var t;return n.each(this.viewModel.get("retries"),function(n){n.id===e.retry&&(t=n)}),t?new u(t):this.viewModel}return this.viewModel},renderTabs:function(e){this.tabsView&&(this.stopListening(this.tabsView),this.tabsView.destroy()),this.tabsView=new f({lastRunItemId:this.viewModel.get("id"),itemModel:e,launchModel:this.launchModel,context:this.context,prevModel:this.prevModel}),t("[data-js-tabs-container]",this.$el).html(this.tabsView.$el),this.listenTo(this.tabsView,"goToLog",this.goToLog),this.listenTo(this.tabsView,"click:attachment",this.onClickAttachment)},renderRetries:function(){var e=this,r=[];if(this.viewModel.get("retries")&&this.viewModel.get("retries").length){var i=this.getCurrentRetry().id;t("[data-js-retries-container]",e.$el).removeClass("hide"),r=n.clone(this.viewModel.get("retries")),r.push(this.viewModel.toJSON()),n.each(r,function(e,t){e.number=t+1,e.id===i&&(e.select=!0)}),this.retriesCollection=new y(r),n.each(this.retriesCollection.models,function(n){var r=new a({model:n});t("[data-js-retries-container]",e.$el).append(r.$el),e.renderedRetries.push(r)}),this.listenTo(this.retriesCollection,"select:item",this.activateRetry)}this.renderTabs(this.getCurrentRetry())},activateRetry:function(e){e.get("select")||(n.each(this.retriesCollection.models,function(e){e.set({select:!1})}),e.set({select:!0}),this.renderTabs(e),this.trigger("change:retry",e))},onClickAttachment:function(e){this.trigger("click:attachment",e)},goToLog:function(e){this.trigger("goToLog",e)},endGoToLog:function(){this.tabsView.endGoToLog()},onChangeIssue:function(){this.trigger("change:issue")},onChangeLaunchProcessing:function(){this.viewModel.set({parent_launch_isProcessing:this.launchModel.get("isProcessing")})},validateForIssue:function(){return!!this.viewModel.get("issue")},onClickPostBug:function(){g.trackingDispatcher.trackEventNumber(193),h({items:[this.viewModel],from:"logs"})},onClickLoadBug:function(){g.trackingDispatcher.trackEventNumber(194),p({items:[this.viewModel],from:"logs"})},onClickSendIssue:function(){var e=this.viewModel.collection.models[this.viewModel.collection.models.length-1],t=this.viewModel.getIssue(),n={issues:[{test_item_id:e.get("id"),issue:{autoAnalyzed:!1,ignoreAnalyzer:t.ignoreAnalyzer,issue_type:t.issue_type,comment:t.comment||"",externalSystemIssues:t.externalSystemIssues||[]}}]};(new l({headerText:v.dialogHeader.sendIssue,confirmText:"",bodyText:s.replaceTemplate(v.dialog.msgSendIssue),cancelButtonText:v.ui.cancel,okButtonText:v.ui.send,okButtonDanger:!1})).show().done(function(){m.updateDefect(n).done(function(){this.trigger("update:issue"),s.ajaxSuccessMessenger("updateDefect")}.bind(this))}.bind(this))},onClickReceiveIssue:function(){var e,t,r;n.each(this.viewModel.collection.models,function(t,r){r!==this.viewModel.collection.models.length-1&&!n.isEmpty(t.getIssue())&&(e=t)}.bind(this)),t=e.getIssue(),r={issues:[{test_item_id:this.viewModel.get("id"),issue:{autoAnalyzed:!1,ignoreAnalyzer:t.ignoreAnalyzer,issue_type:t.issue_type,comment:t.comment||"",externalSystemIssues:t.externalSystemIssues||[]}}]},(new l({headerText:v.dialogHeader.receiveIssue,confirmText:"",bodyText:s.replaceTemplate(v.dialog.msgReceiveIssue),cancelButtonText:v.ui.cancel,okButtonText:v.ui.receive,okButtonDanger:!1})).show().done(function(){m.updateDefect(r).done(function(){this.trigger("update:issue"),s.ajaxSuccessMessenger("updateDefect")}.bind(this))}.bind(this))},render:function(){var e,t=this.viewModel.collection.models[this.viewModel.collection.models.length-1].get("launchNumber"),r,i;n.each(this.viewModel.collection.models,function(t,r){r!==this.viewModel.collection.models.length-1&&!n.isEmpty(t.getIssue())&&(e=t.get("launchNumber"))}.bind(this)),i=e?v.launches.copyDefect+" "+v.ui.from+" #"+e:v.launches.copyDefect,r=t?v.launches.sendDefect+" "+v.ui.to+" #"+t:v.launches.sendDefect,this.$el.html(s.templates(this.template,{context:this.context,sendDefectBtnText:r,copyDefectBtnText:i}))},onDestroy:function(){this.issueView&&this.issueView.destroy(),this.$el.html("")}});return b}),define("launches/logLevel/LogItemLogsItem",["require","jquery","backbone-epoxy","util","app","dataUrlResolver","launches/logLevel/LogMessageView"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("app"),s=e("dataUrlResolver"),o=e("launches/logLevel/LogMessageView"),u=i.getInstance(),a=n.View.extend({className:"rp-table-row",events:{"click [data-js-toggle-open]":"onClickOpen","click [data-js-link]":"onClickImg"},bindings:{"[data-js-time]":"text: timeString","[data-js-image]":"attr: {src: imagePath}","[data-js-link]":"attr: {href: getBinaryDataUrl}, classes: {hide: not(binary_content)}",":el":"levelClass: level"},computeds:{getBinaryDataUrl:{deps:["binary_content"],get:function(e){return e?s.getFileById(e.id):""}}},bindingHandlers:{levelClass:{set:function(e,t){if(!t)return;e.addClass("level-"+t)}}},initialize:function(){this.render(),this.listenTo(this.model,"scrollTo",this.scrollTo),this.messageView=new o({message:this.model.get("message")}),t("[data-js-message]",this.$el).html(this.messageView.$el),this.afterInitialize&&this.afterInitialize()},render:function(){this.$el.html(r.templates(this.template))},onClickOpen:function(){u.trackingDispatcher.trackEventNumber(213),this.$el.toggleClass("open")},supportMarkdown:function(){return!1},resize:function(){this.activateAccordion&&this.activateAccordion()},scrollTo:function(){var e=this;this.$el.removeClass("hide-highlight"),t(".highlight",this.$el).length||this.$el.prepend('<div class="highlight"></div>'),u.mainScrollElement.animate({scrollTop:this.el.offsetTop},500,function(){e.$el.addClass("hide-highlight")})},onClickImg:function(e){e.preventDefault(),u.trackingDispatcher.trackEventNumber(212),this.model.trigger("click:attachment",this.model)},onDestroy:function(){this.messageView&&this.messageView.destroy()}});return a}),define("launches/logLevel/LogItemLogsItemBlock",["require","launches/logLevel/LogItemLogsItem"],function(e){"use strict";var t=e("launches/logLevel/LogItemLogsItem"),n=t.extend({template:"tpl-launch-log-item-logs-item-default",afterInitialize:function(){this.listenTo(this.messageView,"reset",this.activateAccordion)},activateAccordion:function(){var e=133;this.model.get("level")==="ERROR"&&(e=238),this.$el.innerHeight()>e?this.$el.addClass("show-accordion"):this.$el.removeClass("show-accordion")}});return n}),define("launches/logLevel/LogItemLogsItemConsole",["require","launches/logLevel/LogItemLogsItem"],function(e){"use strict";var t=e("launches/logLevel/LogItemLogsItem"),n=t.extend({template:"tpl-launch-log-item-logs-item-console"});return n}),define("launches/logLevel/LogItemNextError/LogItemNextErrorCollection",["require","underscore","backbone","callService","dataUrlResolver","launches/logLevel/LogItemModel"],function(e){"use strict";var t=e("underscore"),n=e("backbone"),r=e("callService"),i=e("dataUrlResolver"),s=r.call,o=e("launches/logLevel/LogItemModel"),u=n.Collection.extend({model:o,initialize:function(e){this.filterModel=e.filterModel,this.itemModel=e.itemModel},load:function(){var e=i.getLogsUrl()+"?"+this.getParamsForRequest().join("&"),t=this;return this.request&&this.request.abort(),this.request=s("GET",e).done(function(e){t.reset(e.content)}),this.request},getParamsForRequest:function(){var e=["filter.eq.item="+this.itemModel.get("id")],n=this.filterModel.getOptions();return e.push("page.page=1"),e.push("page.size=100"),t.each(n,function(t){~t.search("filter.gte.level")||e.push(t)}),e.push("filter.gte.level=ERROR"),e}});return u}),define("launches/logLevel/LogItemNextError/LogItemNextErrorView",["require","jquery","underscore","backbone-epoxy","util","launches/logLevel/LogItemNextError/LogItemNextErrorCollection","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("launches/logLevel/LogItemNextError/LogItemNextErrorCollection"),o=e("app"),u=o.getInstance(),a=r.View.extend({template:"tpl-launch-log-item-next-error",className:"log-item-next-error",events:{"click [data-js-next-error]":"onClickNextError"},bindings:{"[data-js-next-error]":"attr: { disabled: disable }, classes: {load: load}"},computeds:{},initialize:function(e){var t=this;this.model=new r.Model({disable:!1,load:!0}),this.pagingModel=e.pagingModel,this.collectionLogs=e.collectionLogs,this.filterModel=e.filterModel,this.collection=new s({filterModel:this.filterModel,itemModel:e.itemModel}),this.currentLastPage=this.pagingModel.get("number"),this.render(),this.listenTo(this.filterModel,"change:newSelectionParameters change:newEntities",this.onChangeFilter),this.onChangeFilter().done(function(){t.listenTo(t.pagingModel,"change",t.onChangePaging)})},render:function(){this.$el.html(i.templates(this.template,{}))},onClickNextError:function(e){var r=this,i,s,o,a;t(e.currentTarget).hasClass("load")||(u.trackingDispatcher.trackEventNumber(207),i=this.collectionLogs.where({level:"ERROR"}),i.length?(s=i[i.length-1].get("id"),o=-1,n.each(this.collection.models,function(e,t){if(e.get("id")===s)return o=t,!1}),o>=0&&o<=this.collection.models.length-2?(a=this.collection.models[o+1].get("id"),this.model.set({disable:!1,load:!0}),this.collectionLogs.findLogPage(a).done(function(e){r.model.set({disable:!1,load:!1}),r.goToLog(e,a)})):this.model.set({disable:!0,load:!1})):(this.model.set({disable:!1,load:!0}),this.findNextError().done(function(e,t){r.model.set({disable:!1,load:!1}),r.goToLog(e,t)})))},findNextError:function(e,n){var r=this;return e||(e=t.Deferred()),typeof n=="undefined"&&(n=0),this.collectionLogs.findLogPage(this.collection.models[n].get("id")).done(function(t){t<=r.pagingModel.get("number")?r.findNextError(e,n+1):e.resolve(t,r.collection.models[n].get("id"))}),e},goToLog:function(e,t){var n=this;this.collectionLogs.setPaging(e),this.listenToOnce(this.collectionLogs,"loading:false",function(){n.collectionLogs.get(t)&&n.collectionLogs.get(t).trigger("scrollTo")})},onChangePaging:function(e){var t=this;this.collection.length&&(e.changed.size?(t.model.set({load:!0}),this.checkLastLog().done(function(){t.model.set({load:!1}),t.checkPage()})):this.checkPage())},checkPage:function(){this.pagingModel.get("number")>=this.currentLastPage||!this.currentLastPage?this.model.set({disable:!0}):this.model.set({disable:!1})},onChangeFilter:function(){var e=this,r=t.Deferred(),i=!1;return n.each(this.filterModel.getEntitiesObj(),function(e){e.filtering_field==="level"&&(~e.value.search(/ERROR|WARN|INFO|DEBUG|TRACE/)||e.value==="")&&(i=!0)}),i?(this.model.set({disable:!1,load:!0}),this.collection.load().done(function(){if(!e.collection.models.length){e.model.set({disable:!0,load:!1});return}e.checkLastLog().done(function(){e.model.set({load:!1}),e.checkPage()})}).always(function(){r.resolve()})):(this.model.set({disable:!0,load:!1}),this.collection.reset([]),r.resolve()),r},checkLastLog:function(){var e=this;return this.collectionLogs.findLogPage(this.collection.models[this.collection.models.length-1].get("id")).done(function(t){e.currentLastPage=t})}});return a}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/ie",["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/widget",["jquery","./version"],e):e(jQuery)}(function(e){var t=0,n=Array.prototype.slice;return e.cleanData=function(t){return function(n){var r,i,s;for(s=0;(i=n[s])!=null;s++)try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(o){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,s,o,u={},a=t.split(".")[0];t=t.split(".")[1];var f=a+"-"+t;return r||(r=n,n=e.Widget),e.isArray(r)&&(r=e.extend.apply(null,[{}].concat(r))),e.expr[":"][f.toLowerCase()]=function(t){return!!e.data(t,f)},e[a]=e[a]||{},i=e[a][t],s=e[a][t]=function(e,t){if(!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t)},e.extend(s,i,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),o=new n,o.options=e.widget.extend({},o.options),e.each(r,function(t,r){if(!e.isFunction(r)){u[t]=r;return}u[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function i(e){return n.prototype[t].apply(this,e)}return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=i,s=r.apply(this,arguments),this._super=t,this._superApply=n,s}}()}),s.prototype=e.widget.extend(o,{widgetEventPrefix:i?o.widgetEventPrefix||t:t},u,{constructor:s,namespace:a,widgetName:t,widgetFullName:f}),i?(e.each(i._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,s,n._proto)}),delete i._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){var r=n.call(arguments,1),i=0,s=r.length,o,u;for(;i<s;i++)for(o in r[i])u=r[i][o],r[i].hasOwnProperty(o)&&u!==undefined&&(e.isPlainObject(u)?t[o]=e.isPlainObject(t[o])?e.widget.extend({},t[o],u):e.widget.extend({},u):t[o]=u);return t},e.widget.bridge=function(t,r){var i=r.prototype.widgetFullName||t;e.fn[t]=function(s){var o=typeof s=="string",u=n.call(arguments,1),a=this;return o?!this.length&&s==="instance"?a=undefined:this.each(function(){var n,r=e.data(this,i);if(s==="instance")return a=r,!1;if(!r)return e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+s+"'");if(!e.isFunction(r[s])||s.charAt(0)==="_")return e.error("no such method '"+s+"' for "+t+" widget instance");n=r[s].apply(r,u);if(n!==r&&n!==undefined)return a=n&&n.jquery?a.pushStack(n.get()):n,!1}):(u.length&&(s=e.widget.extend.apply(null,[s].concat(u))),this.each(function(){var t=e.data(this,i);t?(t.option(s||{}),t._init&&t._init()):e.data(this,i,new r(s,this))})),a}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r=t,i,s,o;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof t=="string"){r={},i=t.split("."),t=i.shift();if(i.length){s=r[t]=e.widget.extend({},this.options[t]);for(o=0;o<i.length-1;o++)s[i[o]]=s[i[o]]||{},s=s[i[o]];t=i.pop();if(arguments.length===1)return s[t]===undefined?null:s[t];s[t]=n}else{if(arguments.length===1)return this.options[t]===undefined?null:this.options[t];r[t]=n}}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return e==="classes"&&this._setOptionClasses(t),this.options[e]=t,e==="disabled"&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,r,i;for(n in t){i=this.classesElementLookup[n];if(t[n]===this.options.classes[n]||!i||!i.length)continue;r=e(i.get()),this._removeClass(i,n),r.addClass(this._classes({element:r,keys:n,classes:t,add:!0}))}},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function i(i,s){var o,u;for(u=0;u<i.length;u++)o=r.classesElementLookup[i[u]]||e(),t.add?o=e(e.unique(o.get().concat(t.element.get()))):o=e(o.not(t.element).get()),r.classesElementLookup[i[u]]=o,n.push(i[u]),s&&t.classes[i[u]]&&n.push(t.classes[i[u]])}var n=[],r=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&i(t.keys.match(/\S+/g)||[],!0),t.extra&&i(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(r,i){e.inArray(t.target,i)!==-1&&(n.classesElementLookup[r]=e(i.not(t.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,r){r=typeof r=="boolean"?r:n;var i=typeof e=="string"||e===null,s={extra:i?t:n,keys:i?e:t,element:i?this.element:e,add:r};return s.element.toggleClass(this._classes(s),r),this},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^([\w:-]*)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.on(f,l,u):n.on(f,u)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}}),e.widget}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/widgets/mouse",["jquery","../ie","../version","../widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(t)return;this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=n.which===1,s=typeof this.options.cancel=="string"&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;if(!i||s||!this._mouseCapture(n))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(n)&&this._mouseDelayMet(n)){this._mouseStarted=this._mouseStart(n)!==!1;if(!this._mouseStarted)return n.preventDefault(),!0}return!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}if(t.which||t.button)this._mouseMoved=!0;return this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&e.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,n.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/widgets/slider",["jquery","./mouse","../keycode","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.slider",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,r=this.options,i=this.element.find(".ui-slider-handle"),s="<span tabindex='0'></span>",o=[];n=r.values&&r.values.length||1,i.length>n&&(i.slice(n).remove(),i=i.slice(0,n));for(t=i.length;t<n;t++)o.push(s);this.handles=i.add(e(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(t.range===!0&&(t.values?t.values.length&&t.values.length!==2?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),!this.range||!this.range.length?(this.range=e("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")):(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})),(t.range==="min"||t.range==="max")&&this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var n,r,i,s,o,u,a,f,l=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(r-l.values(t));if(i>n||i===n&&(t===l._lastChangedValue||l.values(t)===c.min))i=n,s=e(this),o=t}),u=this._start(t,o),u===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,this._addClass(s,null,"ui-state-active"),s.trigger("focus"),a=s.offset(),f=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=f?{left:0,top:0}:{left:t.pageX-a.left-s.width()/2,top:t.pageY-a.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,s;return this.orientation==="horizontal"?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),r=n/t,r>1&&(r=1),r<0&&(r=0),this.orientation==="vertical"&&(r=1-r),i=this._valueMax()-this._valueMin(),s=this._valueMin()+r*i,this._trimAlignValue(s)},_uiHash:function(e,t,n){var r={handle:this.handles[e],handleIndex:e,value:t!==undefined?t:this.value()};return this._hasMultipleValues()&&(r.value=t!==undefined?t:this.values(e),r.values=n||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var r,i,s=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(t?0:1),s=this.values(t),this.options.values.length===2&&this.options.range===!0&&(n=t===0?Math.min(i,n):Math.max(i,n)),o[t]=n);if(n===s)return;r=this._trigger("slide",e,this._uiHash(t,n,o));if(r===!1)return;this._hasMultipleValues()?this.values(t,n):this.value(n)},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){!this._keySliding&&!this._mouseSliding&&(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(t,n){var r,i,s;if(arguments.length>1){this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),this._change(null,t);return}if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();r=this.options.values,i=arguments[0];for(s=0;s<r.length;s+=1)r[s]=this._trimAlignValue(i[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,n){var r,i=0;t==="range"&&this.options.range===!0&&(n==="min"?(this.options.value=this._values(0),this.options.values=null):n==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(i=this.options.values.length),this._super(t,n);switch(t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css(n==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(r=i-1;r>=0;r--)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e),e},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t),t;if(this._hasMultipleValues()){n=this.options.values.slice();for(r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return Math.abs(n)*2>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step,r=Math.round((e-t)/n)*n;e=r+t,e>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return this.options.min!==null&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return n===-1?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){e==="vertical"&&this.range.css({width:"",left:""}),e==="horizontal"&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,n,r,i,s,o=this.options.range,u=this.options,a=this,f=this._animateOff?!1:u.animate,l={};this._hasMultipleValues()?this.handles.each(function(r){n=(a.values(r)-a._valueMin())/(a._valueMax()-a._valueMin())*100,l[a.orientation==="horizontal"?"left":"bottom"]=n+"%",e(this).stop(1,1)[f?"animate":"css"](l,u.animate),a.options.range===!0&&(a.orientation==="horizontal"?(r===0&&a.range.stop(1,1)[f?"animate":"css"]({left:n+"%"},u.animate),r===1&&a.range[f?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:u.animate})):(r===0&&a.range.stop(1,1)[f?"animate":"css"]({bottom:n+"%"},u.animate),r===1&&a.range[f?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:u.animate}))),t=n}):(r=this.value(),i=this._valueMin(),s=this._valueMax(),n=s!==i?(r-i)/(s-i)*100:0,l[this.orientation==="horizontal"?"left":"bottom"]=n+"%",this.handle.stop(1,1)[f?"animate":"css"](l,u.animate),o==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[f?"animate":"css"]({width:n+"%"},u.animate),o==="max"&&this.orientation==="horizontal"&&this.range.stop(1,1)[f?"animate":"css"]({width:100-n+"%"},u.animate),o==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[f?"animate":"css"]({height:n+"%"},u.animate),o==="max"&&this.orientation==="vertical"&&this.range.stop(1,1)[f?"animate":"css"]({height:100-n+"%"},u.animate))},_handleEvents:{keydown:function(t){var n,r,i,s,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:t.preventDefault();if(!this._keySliding){this._keySliding=!0,this._addClass(e(t.target),null,"ui-state-active"),n=this._start(t,o);if(n===!1)return}}s=this.options.step,this._hasMultipleValues()?r=i=this.values(o):r=i=this.value();switch(t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(r===this._valueMax())return;i=this._trimAlignValue(r+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r===this._valueMin())return;i=this._trimAlignValue(r-s)}this._slide(t,o,i)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),this._removeClass(e(t.target),null,"ui-state-active"))}}})}),define("components/SliderComponent",["require","jquery","underscore","backbone-epoxy","util","jquery-ui/widgets/slider"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util");e("jquery-ui/widgets/slider");var s=r.View.extend({className:"slider-component",template:"tpl-slider-component",events:{"click [data-js-item-label]":"onClickItemLabel"},initialize:function(e){this.options=e,this.options.holder.html(this.$el),this.render()},render:function(){var e=this,r="",s=this.$el.width()/this.options.items.length;this.$el.html(i.templates(this.template,this.options)),this.options.orientation?this.$el.addClass(this.options.orientation):this.$el.addClass("horizontal"),this.slider=t("[data-js-slider-container]",this.$el).slider({min:1,max:this.options.items.length,range:"min",orientation:this.options.orientation||"horizontal",change:function(n,r){var i=r.value;t("[data-js-item-label]",e.$el).each(function(e,n){e<=i-1?t(n).addClass("active"):t(n).removeClass("active")}),e.active=e.options.items[i-1].value,e.trigger("change")}}),t("[data-js-slider-container]",this.$el).css({right:s/2,left:s/2,width:s*(this.options.items.length-1)}),n.each(this.options.items,function(e,t){r+='<div class="item-label" data-js-item-label data-index="'+t+'" style="width: '+s+'px; ">'+e.name+"</div>"}),t("[data-js-labels-container]",this.$el).html(r),this.slider.slider("value",n.findIndex(this.options.items,{value:this.options.defaultVal})+1)},onClickItemLabel:function(e){this.slider&&this.slider.slider("value",t(e.currentTarget).data("index")+1)},onDestroy:function(){this.slider.slider("destroy"),this.$el.html(""),delete this}});return s}),define("launches/logLevel/LogItemLogsTable",["require","jquery","underscore","backbone","backbone-epoxy","util","app","filters/FilterModel","filterEntities/FilterEntities","launches/logLevel/LogItemCollection","core/components","core/StickyHeader","launches/logLevel/LogItemLogsItemBlock","launches/logLevel/LogItemLogsItemConsole","storage/SingletonUserStorage","launches/logLevel/LogItemNextError/LogItemNextErrorView","storage/SingletonAppStorage","components/SliderComponent"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone"),i=e("backbone-epoxy"),s=e("util"),o=e("app"),u=e("filters/FilterModel"),a=e("filterEntities/FilterEntities"),f=e("launches/logLevel/LogItemCollection"),l=e("core/components"),c=e("core/StickyHeader"),h=e("launches/logLevel/LogItemLogsItemBlock"),p=e("launches/logLevel/LogItemLogsItemConsole"),d=e("storage/SingletonUserStorage"),v=e("launches/logLevel/LogItemNextError/LogItemNextErrorView"),m=e("storage/SingletonAppStorage"),g=e("components/SliderComponent"),y=o.getInstance(),b=i.View.extend({template:"tpl-launch-log-item-logs-table",events:{"change [data-js-attachments-filter]":"onChangeAttachments","click .rp-grid-th[data-sorter]":"onClickSorter","change [data-js-switch-to-console-view]":"onChangeView"},onChangeView:function(){var e=t("[data-js-switch-to-console-view]",this.$el).prop("checked");this.appStorage.set({consoleView:e}),this.updateHeader(),n.each(this.items,function(e){e.destroy()}),this.onResetCollection()},updateHeader:function(){var e=this.appStorage.get("consoleView"),n=t("[data-js-fixed-header]",this.$el);n.removeClass("console-view block-view"),e?n.addClass("console-view"):n.addClass("block-view")},initialize:function(e){var i=this,s=e.options,o="true";this.appStorage=new m,this.itemModel=e.itemModel,this.mainPath=e.mainPath,this.collectionItems=e.collectionItems,this.userStorage=new d,s["page.sort"]&&~s["page.sort"].indexOf("DESC")&&(o="false"),this.filterModel=new u({temp:!0,selection_parameters:'{"is_asc": '+o+', "sorting_column": "time"}'}),this.pagingModel=new r.Model,this.nameModel=new a.EntityInputModel({id:"message",condition:"cnt",valueMinLength:3,valueMaxLength:55,valueOnlyDigits:!1,value:decodeURIComponent(s["filter.cnt.message"]||"")}),this.render(),t("[data-js-switch-to-console-view]",this.$el).prop("checked",this.appStorage.get("consoleView")||!1),s["filter.ex.binary_content"]&&s["filter.ex.binary_content"]==="true"&&t("[data-js-attachments-filter]",this.$el).prop("checked",!0),this.onChangeFilter(),this.collection=new f({filterModel:this.filterModel,itemModel:this.itemModel,pagingPage:s["page.page"]&&parseInt(s["page.page"]),pagingSize:s["page.size"]&&parseInt(s["page.size"])||this.userStorage.get("launchLogPageCount")}),this.nextErrorView=new v({filterModel:this.filterModel,itemModel:this.itemModel,collectionLogs:this.collection,pagingModel:this.pagingModel}),t("[data-js-next-error-container]",this.$el).html(this.nextErrorView.$el),this.listenTo(this.collection,"change:paging",this.onChangePaging),this.listenTo(this.collection,"loading:true",this.onStartLoading),this.listenTo(this.collection,"loading:false",this.onStopLoading),this.listenTo(this.collection,"change:options",this.onChangeOptionsFilter),this.listenTo(this.collection,"click:attachment",this.onClickAttachments),this.collection.load(),this.listenTo(this.collection,"reset",this.onResetCollection),this.listenTo(this.nameModel,"change:value",this.onChangeName),this.listenTo(this.filterModel,"change:newSelectionParameters",this.onChangeSelectionParameters),this.onChangeSelectionParameters(),this.listenTo(this.paging,"page",this.onChangePage),this.listenTo(this.minPaging,"page",this.onChangePage),this.listenTo(this.paging,"count",this.onChangePageCount),this.setupStickyHeader(),t('[data-js-select-filter] [data-toggle="dropdown"]',this.$el).on("click",function(){y.trackingDispatcher.trackEventNumber(204)}),t(window).off("resize.logItems").on("resize.logItems",n.debounce(i.resize.bind(i),100))},setupStickyHeader:function(){this.destroyStickyHeader(),this.stickyHeader=new c({fixedBlock:t("[data-js-fixed-header]",this.$el),topMargin:0,minWidthWindow:720})},destroyStickyHeader:function(){this.stickyHeader&&this.stickyHeader.destroy()},resize:function(){n.each(this.items,function(e){e.resize()})},render:function(){var e;this.$el.html(s.templates(this.template,{})),e=t("[data-js-fixed-header]",this.$el),e.html(s.templates("tpl-launch-log-item-table-header",{})),this.updateHeader(),this.slider=new g({holder:t("[data-js-select-filter-slider]",this.$el),items:[{name:"Fatal",value:"FATAL"},{name:"Error",value:"ERROR"},{name:"Warn",value:"WARN"},{name:"Info",value:"INFO"},{name:"Debug",value:"DEBUG"},{name:"Trace",value:"TRACE"}],orientation:"horizontal",defaultVal:this.userStorage.get("logFilteringLevel")||"TRACE"}),this.listenTo(this.slider,"change",this.onChangeSelect),t("[data-js-name-filter]",this.$el).html((new this.nameModel.view({model:this.nameModel})).$el),this.paging=new l.PagingToolbar({el:t("[data-js-paginate-container]",this.$el),model:this.pagingModel}),this.minPaging=new l.PagingToolbar({el:t("[data-js-paginate-min-container]",this.$el),model:this.pagingModel,minMode:!0}),t("[data-js-paginate-min-container]",this.$el).on("click",function(e){var n=t(e.target).closest(".next"),r=t(e.target).closest(".previous");n.length&&!n.hasClass("disabled")?y.trackingDispatcher.trackEventNumber(209):r.length&&!r.hasClass("disabled")&&y.trackingDispatcher.trackEventNumber(208)})},onChangeSelect:function(){y.trackingDispatcher.trackEventNumber(205),this.onChangeFilter()},onChangeAttachments:function(){y.trackingDispatcher.trackEventNumber(206),this.onChangeFilter()},onChangeName:function(e){e.get("value")&&y.trackingDispatcher.trackEventNumber(210),this.onChangeFilter()},onChangeOptionsFilter:function(e){var t={};y.router.navigate(this.mainPath+"&"+e.join("&"),{trigger:!1}),n.each(e,function(e){var n;e=e.replace("log.",""),n=e.split("="),t[n[0]]=n[1]}),t.item=this.collectionItems.getInfoLog().item,t.history=this.collectionItems.getInfoLog().history,t.retry=this.collectionItems.getInfoLog().retry,this.collectionItems.setInfoLog(t)},onStartLoading:function(){t("[data-js-logs-wrapper]",this.$el).addClass("load")},onStopLoading:function(){t("[data-js-logs-wrapper]",this.$el).removeClass("load"),n.each(this.items,function(e){e.activateAccordion&&e.activateAccordion()})},onChangePage:function(e){return this.collection.setPaging(e)},onChangePageCount:function(e){this.collection.setPaging(1,e),this.userStorage.set({launchLogPageCount:e})},onChangePaging:function(e){this.pagingModel.set(e),this.paging.render(),this.minPaging.render(),t("[data-js-next-error]",this.$el).removeClass("hide")},onChangeFilter:function(){var e=[];e.push(this.nameModel.getInfo()),this.slider&&e.push({filtering_field:"level",condition:"gte",value:this.slider.active}),t("[data-js-attachments-filter]",this.$el).is(":checked")&&e.push({condition:"ex",filtering_field:"binary_content",value:"true"}),this.userStorage.set("logFilteringLevel",this.slider.active),this.filterModel.set({newEntities:JSON.stringify(e)})},onClickSorter:function(e){var n=t(e.currentTarget).data("sorter"),r=this.filterModel.getParametersObj();switch(n){case"time":y.trackingDispatcher.trackEventNumber(211)}r.sorting_column===n?r.is_asc=!r.is_asc:(r.is_asc=!0,r.sorting_column=n),this.filterModel.set({newSelectionParameters:JSON.stringify(r),curPage:1})},onChangeSelectionParameters:function(){var e=this.filterModel.getParametersObj(),n=t('[data-sorter="'+e.sorting_column+'"]',this.$el);t("[data-sorter]",this.$el).removeClass("sorting-asc sorting-desc"),n&&n.length&&n.addClass(e.is_asc?"sorting-asc":"sorting-desc")},onResetCollection:function(){var e=t("[data-js-table-container]",this.$el),r=t("[data-js-switch-to-console-view]",this.$el).prop("checked"),i=this;e.html(""),this.collection.models.length?t("[data-js-logs-wrapper]",this.$el).removeClass("not-found"):t("[data-js-logs-wrapper]",this.$el).addClass("not-found"),this.items=[],n.each(this.collection.models,function(t){var n;r?(n=new p({model:t}),n.$el.addClass("console-view-row")):(n=new h({model:t}),n.$el.addClass("block-view-row")),e.append(n.$el),n.activateAccordion&&n.activateAccordion(),i.items.push(n)})},onClickAttachments:function(e){this.trigger("click:attachment",e)},resetFilters:function(){this.slider.active==="FATAL"&&(this.slider.slider.slider("value",2),this.nameModel.set({value:""}),t("[data-js-attachments-filter]",this.$el).prop("checked",!1))},goToLog:function(e){var t=this;this.collection.get(e)?(this.collection.get(e).trigger("scrollTo"),this.trigger("goToLog:end")):this.collection.findLogPage(e,!0).done(function(n){t.resetFilters(),t.onChangeFilter(),t.onChangePage(n),t.listenToOnce(t.collection,"loading:false",function(){t.collection.get(e)&&t.collection.get(e).trigger("scrollTo"),t.trigger("goToLog:end")})})},onDestroy:function(){t(window).off("resize.logItems"),n.each(this.items,function(e){e.destroy()}),this.items=null,this.$el.html("")}});return b}),define("modals/modalLogAttachmentImage",["require","exports","module","jquery","underscore","modals/_modalView","util","dataUrlResolver","app"],function(e,t,n){"use strict";var r=e("jquery"),i=e("underscore"),s=e("modals/_modalView"),o=e("util"),u=e("dataUrlResolver"),a=e("app"),f=a.getInstance(),l=s.extend({tpl:"tpl-modal-log-attachment-image",className:"modal-log-attachment-image",events:{"click [data-js-image]":"openImgInNewWindow","click [data-js-rotate]":"onClickRotate","click [data-js-close]":"onClickClose","click [data-js-cancel]":"onClickCancel"},initialize:function(e){this.rotate=0,this.imageSrc=u.getFileById(e.imageId),this.render()},onShow:function(){this.$modalWrapper.addClass("loading");var e=this;r("[data-js-image]",this.$el).load(function(){e.$modalWrapper.removeClass("loading")})},render:function(){this.$el.html(o.templates(this.tpl,{imageSrc:this.imageSrc}))},onClickClose:function(){f.trackingDispatcher.trackEventNumber(509)},onClickCancel:function(){f.trackingDispatcher.trackEventNumber(511)},onClickRotate:function(){f.trackingDispatcher.trackEventNumber(510),this.rotate+=90,this.nativeSize||(this.nativeSize={width:r("[data-js-image-block]",this.$el).width(),height:r("[data-js-image-block]",this.$el).height()}),r("[data-js-image]",this.$el).css("transform","rotate("+this.rotate+"deg)"),this.rotate/90%2==1?r("[data-js-image-block]",this.$el).css({height:this.nativeSize.width}):r("[data-js-image-block]",this.$el).css({height:this.nativeSize.height})},openImgInNewWindow:function(){window.open(this.imageSrc)}});return l}),define("components/CodeBlockWithHighlightComponent",["require","exports","module","jquery","backbone","util"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("util"),o=i.View.extend({className:"code-highlighter",template:"tpl-component-code-highlighter",initialize:function(e){var t=this;this.ready=r.Deferred(),this.language=e.language,this.binaryContent=e.binaryContent,this.isPlain=this.language==="plain";if(this.language=="html"||this.language=="HTML")this.language="xml";this.loadHighlightJS().done(function(){t.isPlain?(t.ready.resolve(),t.render({binaryContent:t.binaryContent})):t.loadLanguage(t.language).done(function(){hljs.registerLanguage(t.language,window["hljs_"+t.language]),t.ready.resolve(),t.render({binaryContent:t.binaryContent})}).fail(function(){t.isPlain=!0,t.ready.resolve(),t.render({binaryContent:t.binaryContent})})})},render:function(e){this.$el.html(s.templates(this.template,{binaryContent:e.binaryContent})),r("[data-js-code]",this.$el).addClass(this.isPlain?"nohighlight":this.language),hljs.highlightBlock(r("[data-js-code]",this.$el)[0])},loadHighlightJS:function(){var e=r.Deferred();if(typeof hljs!="undefined")return e.resolve(),e;var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="js/lib/highlightJS/highlight.min.js",t.onload=function(){e.resolve()},t.onerror=function(t){e.reject()};var n=document.getElementsByTagName("script")[0];return n.parentNode.insertBefore(t,n),e},loadLanguage:function(e){var t=r.Deferred(),n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="js/lib/highlightJS/languages/"+e+".js",n.onload=function(){t.resolve()},n.onerror=function(e){t.reject()};var i=document.getElementsByTagName("script")[0];return i.parentNode.insertBefore(n,i),t}});return o}),define("modals/modalLogAttachmentBinary",["require","jquery","modals/_modalView","util","dataUrlResolver","app","components/CodeBlockWithHighlightComponent"],function(e){"use strict";var t=e("jquery"),n=e("modals/_modalView"),r=e("util"),i=e("dataUrlResolver"),s=e("app"),o=s.getInstance(),u=e("components/CodeBlockWithHighlightComponent"),a=n.extend({tpl:"tpl-modal-log-attachment-binary",className:"modal-log-attachment-binary",events:{"click [data-js-close]":"onClickClose","click [data-js-cancel]":"onClickCancel"},initialize:function(e){var n=this;this.supportedLanguages=e.supportedLanguages,this.binaryId=e.binaryId,this.language=~this.supportedLanguages.indexOf(e.language)?e.language:"plain",this.binarySource=i.getFileById(e.binaryId),this.loadData().done(function(e){var r=new u({language:n.language,binaryContent:e});t("[data-js-binary-holder]",n.$el).html(r.el),r.ready.done(function(){n.$modalWrapper.removeClass("loading")})}),this.render()},render:function(){this.$el.html(r.templates(this.tpl))},onShow:function(){this.$modalWrapper.addClass("loading")},onClickClose:function(){o.trackingDispatcher.trackEventNumber(509)},onClickCancel:function(){o.trackingDispatcher.trackEventNumber(511)},loadData:function(){var e=t.Deferred(),n=this;return t.ajax({url:n.binarySource,type:"GET",dataType:"text",async:!0,success:function(t){e.resolve(t)}}),e}});return a}),function(e){if(typeof exports=="object"&&typeof module!="undefined")module.exports=e();else if(typeof define=="function"&&define.amd)define("PerfCascade",[],e);else{var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t=this,t.perfCascade=e()}}(function(){var e,t,n;return function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return i(n?n:t)},l,l.exports,r,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){"use strict";function r(e,t){var n=e.classList;return n?t.split(" ").forEach(function(e){return n.add(e)}):e.setAttribute("class",e.getAttribute("class")+" "+t),e}function i(e,t){var n=e.classList;return n?n.remove(t):e.setAttribute("class",e.getAttribute("class").replace(new RegExp("(\\s|^)"+t+"(\\s|$)","g"),"$2")),e}function s(e,t){if(typeof e.closest=="function")return e.closest("."+t);while(e){if(e.classList.contains(t))return e;e=e.parentElement}return undefined}function o(e){while(e.hasChildNodes())e.removeChild(e.lastChild);return e}function u(e){return!e||e.length===0?undefined:e.item(e.length-1)}function a(e,t){Array.prototype.forEach.call(e,t)}function f(e,t,n){t in e.style?e.style[t]=n:console.warn(new Error("Trying to set non-existing style "+(t+" = "+n+" on a <"+e.tagName.toLowerCase()+">.")))}function l(e,t,n){t in e||console.warn(new Error("Trying to set non-existing attribute "+(t+" = "+n+" on a <"+e.tagName.toLowerCase()+">."))),e.setAttributeNS(null,t,n)}function c(e,t){Object.keys(t).forEach(function(n){f(e,n,t[n].toString())})}function h(e,t){Object.keys(t).forEach(function(n){l(e,n,t[n].toString())})}function p(){var e=document.createElement("html");return e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/xmlns/"),e}function d(e,t){e===void 0&&(e={}),t===void 0&&(t="");var n=document.createElement("body");return n.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),c(n,e),n.innerHTML=t,n}Object.defineProperty(n,"__esModule",{value:!0}),n.addClass=r,n.removeClass=i,n.getParentByClassName=s,n.removeChildren=o,n.getLastItemOfNodeList=u,n.forEachNodeList=a,n.safeSetStyle=f,n.safeSetAttribute=l,n.safeSetStyles=c,n.safeSetAttributes=h,n.makeHtmlEl=p,n.makeBodyEl=d},{}],2:[function(e,t,n){"use strict";function i(e,t){var n=r(t.toLowerCase());return e.some(n)}function o(e,t){var n=r(t.toLowerCase()),i;return s?i=e.find(n):i=e.map(n).pop(),i?i.value:undefined}function u(e,t){var n=r(t.toLowerCase());return e.filter(n).map(function(e){return[t,e.value]})}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return function(t){return t.name.toLowerCase()===e}};n.hasHeader=i;var s=!!Array.prototype.find;n.getHeader=o,n.getHeaders=u},{}],3:[function(e,t,n){"use strict";function o(e,t,n,o){o===void 0&&(o=1);if(s===undefined){var u="M18 6.216v2.77q0 .28-.206.486-.205.206-.486.206h-.693q-.28 0-.486-.206-.21-.205-.21\n  -.487v-2.77q0-1.145-.81-1.957-.813-.81-1.96-.81-1.146 0-1.957.81-.81.812-.81 1.958v2.077h1.037q.434\n  0 .737.303.302.303.302.736v6.23q0 .433-.305.736t-.737.303H1.038q-.433 0-.736-.3Q0 15.996 0\n  15.56V9.33q0-.433.303-.736t.735-.303h7.27V6.218q0-2 1.422-3.423 1.423-1.423 3.424-1.423 2\n  0 3.424 1.424Q18 4.214 18 6.216";s=r.newPath(u)}return i(e,t,n,"icon-no-tls",o,s.cloneNode(!1))}function a(e,t,n,s){s===void 0&&(s=1);if(u===undefined){var o="M17 2.333V7q0 .27-.198.47-.198.197-.47.197h-4.665q-.438 0-.615-.417-.177-.406.146-.72l1.437-1.436Q11.095\n  3.667 9 3.667q-1.083 0-2.068.422-.984.42-1.703 1.14-.72.715-1.14 1.7-.426.984-.426 2.07 0 1.08.422 2.065.42.984\n  1.14 1.703.718.72 1.702 1.14.984.422 2.067.422 1.24 0 2.344-.54 1.104-.543 1.864-1.533.073-.105.24-.126.146 0\n  .26.095l1.427 1.436q.095.084.1.214.006.13-.08.234-1.133 1.376-2.75 2.13Q10.793 17 9 17q-1.625\n  0-3.104-.635-1.48-.636-2.552-1.71-1.073-1.072-1.71-2.55Q1 10.625 1 9t.635-3.104q.636-1.48 1.71-2.552\n  1.072-1.073 2.55-1.71Q7.375 1 9 1q1.53 0 2.964.578 1.432.578 2.546\n  1.63l1.355-1.343q.302-.323.73-.146.405.173.405.61z";u=r.newPath(o)}return i(e,t,n,"icon-redirect",s,u.cloneNode(!1))}function f(e,t,n,r){return r===void 0&&(r=1),N(e,t,n,r)}function l(e,t,n,r){return r===void 0&&(r=1),N(e,t,n,r)}function h(e,t,n,s){s===void 0&&(s=1);if(c===undefined){var o="M15.247 4.393q.25.25.43.678.177.43.177.79v10.287q0\n  .357-.25.607t-.607.25h-12q-.357 0-.607-.25t-.25-.606V1.858q0-.358.25-.608T2.997 1h8q.357 0\n  .786.18.428.177.678.427zm-3.964-2.18V5.57h3.357q-.09-.256-.196-.364L11.65 2.41q-.108-.106-.367\n  -.196zm3.428 13.644V6.714H11q-.357 0-.607-.25t-.25-.607V2.143h-6.86v13.714H14.71zM5.57\n  8.143q0-.125.08-.205.08-.08.204-.08h6.286q.125 0 .205.08.08.08.08.205v.57q0 .126-.08.207-.08.08\n  -.205.08H5.854q-.125 0-.205-.08-.08-.08-.08-.206v-.57zm6.57 2q.125 0 .205.08.08.08.08.206V11q0\n  .125-.08.205-.08.08-.205.08H5.854q-.125 0-.205-.08-.08-.08-.08-.205v-.57q0-.126.08-.207.08-.08.2\n  -.08h6.286zm0 2.286q.125 0 .205.08.08.08.08.2v.572q0 .125-.08.205-.08.08-.205.08H5.854q-.125 0-.205\n  -.08-.08-.08-.08-.205v-.572q0-.124.08-.204.08-.08.2-.08h6.286z";c=r.newPath(o)}return i(e,t,n,"icon-plain",s,c.cloneNode(!1))}function d(e,t,n,s){s===void 0&&(s=1);if(p===undefined){var o="M10.8 13.5v3q0 .2-.15.35-.15.15-.35.15h-3q-.2 0-.35-.15-.15-.15-.15-.35v-3q0-.2.15-.35.15\n  -.15.35-.15h3q.2 0 .35.15.15.15.15.35zM14.75 6q0 .675-.193 1.262-.193.588-.437.957-.244.365\n  -.688.74-.443.375-.718.543-.275.17-.763.444-.51.286-.852.81-.344.526-.344.84 0 .21-.15.405-.15.194\n  -.35.194h-3q-.186 0-.318-.23-.13-.234-.13-.47v-.564q0-1.037.812-1.956.812-.917 1.787-1.355.74-.336\n  1.05-.7.314-.362.314-.95 0-.524-.583-.924-.58-.4-1.343-.4-.814 0-1.35.362-.44.312-1.34 1.437-.16.2\n  -.386.2-.15 0-.313-.1L3.4 4.987q-.16-.124-.193-.312-.03-.188.07-.35Q5.277 1 9.077 1q1 0 2.01.387\n  1.01.388 1.825 1.038.812.65 1.325 1.594.51.94.51 1.98z";p=r.newPath(o)}return i(e,t,n,"icon-other",s,p.cloneNode(!1))}function m(e,t,n,s){s===void 0&&(s=1);if(v===undefined){var o="M13.516 2.9c-2.766 0-4.463 1.522-4.463 3.536 0 1.733 1.295 2.82 3.256 3.52\n  1.413.49 1.973.926 1.973 1.644 0 .787-.647 1.296-1.873 1.296-1.137 0-2.26-.368-2.96-.736l-.54\n  2.19c.665.367 1.996.734 3.344.734 3.238 0 4.744-1.68 4.744-3.658\n  0-1.68-.966-2.767-3.05-3.537-1.54-.6-2.186-.93-2.186-1.68 0-.6.56-1.14 1.714-1.14\n  1.137 0 1.996.33 2.45.56l.596-2.138c-.7-.332-1.663-.596-3.01-.596zm-9.032.192v7.44c0\n  1.822-.702 2.33-1.822 2.33-.525 0-.997-.09-1.365-.212L1 14.805c.525.175 1.33.28 1.96.28\n  2.574 0 4.185-1.173 4.185-4.534V3.097h-2.66z";v=r.newPath(o)}return i(e,t,n,"icon-js",s,v.cloneNode(!1))}function y(e,t,n,s){s===void 0&&(s=1);if(g===undefined){var o="M6 6q0 .75-.525 1.275Q4.95 7.8 4.2 7.8q-.75 0-1.275-.525Q2.4 6.75 2.4\n  6q0-.75.525-1.275Q3.45 4.2 4.2 4.2q.75 0 1.275.525Q6 5.25 6 6zm9.6 3.6v4.2H2.4V12l3-3\n  1.5 1.5 4.8-4.8zm.9-6.6h-15q-.122 0-.21.09-.09.088-.09.21v11.4q0\n  .122.09.21.088.09.21.09h15q.122 0 .21-.09.09-.088.09-.21V3.3q0-.122-.09-.21Q16.623\n  3 16.5 3zm1.5.3v11.4q0 .62-.44 1.06-.44.44-1.06.44h-15q-.62 0-1.06-.44Q0 15.32 0\n  14.7V3.3q0-.62.44-1.06.44-.44 1.06-.44h15q.62 0 1.06.44.44.44.44 1.06z";g=r.newPath(o)}return i(e,t,n,"icon-image",s,g.cloneNode(!1))}function b(e,t,n,r){return r===void 0&&(r=1),y(e,t,n,r)}function E(e,t,n,s){s===void 0&&(s=1);if(w===undefined){var o="M5.626 13.31l-.492.492q-.098.098-.226.098t-.226-.098L.098 9.22Q0 9.12 0\n  8.99q0-.127.098-.226L4.682 4.18q.098-.097.226-.097t.226.098l.492.49q.1.1.1.23t-.1.23L1.76\n  8.99l3.866 3.866q.1.098.1.226t-.1.226zM11.44 2.815l-3.67\n  12.7q-.04.127-.152.19-.113.065-.23.026l-.61-.162q-.13-.04-.193-.152-.064-.112-.024-.24l3.67-12.698q.04\n  -.128.157-.192.113-.064.23-.025l.61.167q.13.04.193.152.063.113.023.24zM17.9\n  9.22l-4.582 4.58q-.098.098-.226.098t-.226-.098l-.492-.492q-.1-.098-.1-.226t.1-.226L16.24\n  8.99l-3.867-3.865q-.1-.098-.1-.226t.1-.23l.492-.49q.098-.1.226-.1t.23.1l4.58 4.583q.1.1.1.226 0 .13-.1.23z";w=r.newPath(o)}return i(e,t,n,"icon-html",s,w.cloneNode(!1))}function x(e,t,n,s){s===void 0&&(s=1);if(S===undefined){var o="M15.436.99q.625 0 1.095.416.47.415.47 1.04 0 .564-.4 1.35-2.97 5.624-4.16 6.724-.865.814\n  -1.946.814-1.127 0-1.935-.827-.81-.827-.81-1.962 0-1.144.822-1.895l5.705-5.175Q14.8.99\n  15.435.99zM7.31 10.232q.35.68.953 1.162.603.483 1.345.68l.01.634q.035 1.904-1.16 3.102-1.192\n  1.198-3.114 1.198-1.1 0-1.948-.416-.85-.415-1.364-1.14-.514-.723-.773-1.635Q1 12.905 1\n  11.85l.366.268q.304.224.555.398.25.175.53.327.277.15.41.15.368 0 .493-.33.224-.59.515-1.005.29\n  -.415.62-.68.332-.263.788-.424.455-.16.92-.228.465-.066 1.118-.094z";S=r.newPath(o)}return i(e,t,n,"icon-css",s,S.cloneNode(!1))}function N(e,t,n,s){s===void 0&&(s=1);if(T===undefined){var o="M6 6q0 .75-.525 1.275Q4.95 7.8 4.2 7.8q-.75 0-1.275-.525Q2.4 6.75 2.4\n  6q0-.75.525-1.275Q3.45 4.2 4.2 4.2q.75 0 1.275.525Q6 5.25 6 6zm9.6 3.6v4.2H2.4V12l3-3\n  1.5 1.5 4.8-4.8zm.9-6.6h-15q-.122 0-.21.09-.09.088-.09.21v11.4q0\n  .122.09.21.088.09.21.09h15q.122 0 .21-.09.09-.088.09-.21V3.3q0-.122-.09-.21Q16.623\n  3 16.5 3zm1.5.3v11.4q0 .62-.44 1.06-.44.44-1.06.44h-15q-.62 0-1.06-.44Q0 15.32 0\n  14.7V3.3q0-.62.44-1.06.44-.44 1.06-.44h15q.62 0 1.06.44.44.44.44 1.06z";T=r.newPath(o)}return i(e,t,n,"icon-warning",s,T.cloneNode(!1))}function k(e,t,n,s){s===void 0&&(s=1);if(C===undefined){var o="M9 1q2.177 0 4.016 1.073 1.838 1.073 2.91 2.91Q17 6.823 17 9q0 2.177-1.073 4.016-1.073\n  1.838-2.91 2.91Q11.177 17 9 17q-2.177 0-4.016-1.073-1.838-1.073-2.91-2.91Q1 11.177 1 9q0-2.177 1.073-4.016\n  1.073-1.838 2.91-2.91Q6.823 1 9 1zm1.333 12.99v-1.98q0-.145-.093-.244-.094-.1-.23-.1h-2q-.135 0-.24.105\n  -.103.106-.103.24v1.98q0 .136.104.24.106.104.24.104h2q.137 0 .23-.1.094-.098.094-.243zm-.02-3.584l.187\n  -6.468q0-.125-.104-.188-.104-.084-.25-.084H7.854q-.146 0-.25.084-.104.062-.104.188l.177 6.468q0\n  .104.104.183.106.076.25.076h1.93q.146 0 .245-.078.1-.08.11-.184z";C=r.newPath(o)}return i(e,t,n,"icon-no-gzip",s,C.cloneNode(!1))}function A(e,t,n,s){s===void 0&&(s=1);if(L===undefined){var o="M7.97 5.754L6.338 10.08q.317 0 1.312.02.994.02 1.542.02.183 0 .548-.02-.836-2.432-1.77\n  -4.345zM1 16.38l.02-.76q.22-.068.538-.12.317-.053.548-.102.23-.048.476-.14.245-.09.428-.278.182\n  -.187.298-.485l2.28-5.923 2.69-6.962H9.51q.077.135.105.202l1.972 4.615q.317.75 1.02 2.476.7 1.726\n  1.095 2.64.144.327.558 1.39.413 1.062.692 1.62.192.432.336.547.183.145.847.284.663.14.807.197.058.37.058.55\n  0 .04-.005.13t-.005.128q-.605 0-1.827-.076-1.22-.08-1.836-.08-.73 0-2.067.07-1.337.067-1.712.076 0-.412.04\n  -.75l1.258-.27q.01 0 .12-.022l.15-.033q.038-.01.14-.044.1-.034.143-.06l.1-.08q.06-.048.082-.106.024-.056.024\n  -.133 0-.152-.298-.926t-.693-1.71q-.392-.93-.402-.96l-4.325-.02q-.25.56-.734 1.88-.487 1.32-.487 1.56 0\n  .213.136.362.134.15.418.235.285.087.467.13.185.044.55.08.366.04.395.04.01.183.01.558 0 .087-.02.26-.558\n  0-1.678-.095-1.12-.098-1.678-.098-.08 0-.26.04-.18.037-.208.037-.77.136-1.808.136Z";L=r.newPath(o)}return i(e,t,n,"icon-font",s,L.cloneNode(!1))}function M(e,t,n,s){s===void 0&&(s=1);if(O===undefined){var o="M13.724 4.738q.195.216.076.476L7.96 17.73q-.142.27-.456.27-.043 0-.15-.022-.185-.054-.277\n  -.205-.092-.15-.05-.325l2.132-8.74L4.765 9.8q-.044.01-.13.01-.195 0-.336-.118-.193-.162-.14-.422L6.337.346q.043\n  -.15.173-.25Q6.64 0 6.81 0h3.548q.206 0 .346.135.14.135.14.32 0 .086-.053.194L8.94 5.654l4.285\n  -1.06q.086-.02.13-.02.205 0 .367.16z";O=r.newPath(o)}return i(e,t,n,"icon-flash",s,O.cloneNode(!1))}function D(e,t,n,s){s===void 0&&(s=1);if(_===undefined){var o="M17 4.107v9.714q0 .38-.348.53-.116.05-.223.05-.25 0-.41-.17l-3.6-3.6v1.48q0 1.067-.757 1.82-.754.756\n  -1.817.756H3.57q-1.06 0-1.816-.753Q1 13.17 1 12.106V5.82q0-1.06.754-1.816.755-.754 1.817-.754h6.29q1.07 0\n  1.82.754.76.755.76 1.817V7.3l3.597-3.59q.16-.17.4-.17.107 0 .22.045.35.153.35.528z";_=r.newPath(o)}return i(e,t,n,"icon-video",s,_.cloneNode(!1))}function H(e,t,n,s){s===void 0&&(s=1);if(P===undefined){var o="M8.385 3.756v10.46q0 .252-.183.434-.183.183-.433.183t-.44-.183l-3.2-3.202H1.61q-.25\n  0-.43-.183-.18-.182-.18-.432V7.14q0-.25.182-.432.182-.183.432-.183h2.52l3.202-3.202q.182-.183.432\n  -.183t.43.183q.182.183.182.433zm3.692 5.23q0 .73-.41 1.36-.407.63-1.08.9-.097.048-.24.048-.25 0\n  -.434-.178-.182-.177-.182-.437 0-.21.12-.35.12-.14.28-.24.16-.1.33-.22.166-.12.28-.34.117-.22.117\n  -.55 0-.33-.115-.55-.115-.224-.28-.344-.163-.12-.326-.22-.165-.1-.28-.24-.116-.14-.116-.34 0-.26.183\n  -.44t.43-.176q.146 0 .24.048.676.26 1.08.894.41.636.41 1.367zm2.46 0q0 1.472-.816 2.717t-2.16 1.813q\n  -.12.048-.24.048-.26 0-.44-.183-.18-.18-.18-.43 0-.37.378-.56.54-.28.73-.42.713-.52 1.11-1.302.4\n  -.783.4-1.667 0-.886-.4-1.67-.4-.783-1.11-1.303-.192-.145-.73-.424-.376-.192-.376-.567 0-.25.183\n  -.434.183-.18.433-.18.123 0 .25.047 1.344.567 2.16 1.812.82 1.244.82 2.716zm2.463 0q0 2.212\n  -1.22 4.063-1.222 1.85-3.25 2.72-.126.05-.25.05-.25 0-.434-.19-.183-.183-.183-.433 0-.346.375\n  -.568.068-.04.217-.1.15-.064.216-.1.45-.244.79-.494 1.19-.875 1.85-2.183.67-1.306.67-2.777 0\n  -1.47-.663-2.78-.664-1.304-1.846-2.18-.346-.25-.79-.49-.065-.035-.214-.1-.15-.06-.22-.1\n  -.375-.22-.375-.57 0-.25.183-.43.183-.182.433-.182.123 0 .25.047 2.027.876 3.25 2.727Q17 6.775 17 8.99Z";P=r.newPath(o)}return i(e,t,n,"icon-audio",s,P.cloneNode(!1))}function j(e,t,n,s){s===void 0&&(s=1);if(B===undefined){var o="M14.668 9q0 .416-.285.7L9.37 14.716Q9.067 15 8.667 15q-.393 0-.694-.285l-.577\n  -.578q-.293-.292-.293-.7 0-.41.293-.7l2.256-2.258H4.23q-.4 0-.65-.29t-.25-.698v-.986q0-.408.25\n  -.697.25-.29.65-.29h5.423L7.397 5.257q-.293-.278-.293-.693 0-.416.293-.694l.577-.576Q8.267 3 8.668\n  3q.408 0 .7.293l5.015 5.014q.285.27.285.693z";B=r.newPath(o)}return i(e,t,n,"icon-push",s,B.cloneNode(!1))}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./svg"),i=function(e,t,n,i,s,o){var u=r.newSvg("",{x:e,y:t}),a=r.newG("icon "+i,{transform:"scale("+s+")"});return a.appendChild(o),a.appendChild(r.newTitle(n)),u.appendChild(a),u},s;n.noTls=o;var u;n.err3xx=a,n.err4xx=f,n.err5xx=l;var c;n.plain=h;var p;n.other=d;var v;n.javascript=m;var g;n.image=y,n.svg=b;var w;n.html=E;var S;n.css=x;var T;n.warning=N;var C;n.error=k;var L;n.font=A;var O;n.flash=M;var _;n.video=D;var P;n.audio=H;var B;n.push=j},{"./svg":6}],4:[function(e,t,n){"use strict";function r(e){var t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=e.match(t);return{authority:n[4],fragment:n[9],path:n[5],query:n[7],scheme:n[2]}}function i(e,t){return e.some(function(e){return e===t})}function s(e,t){var n=0;if(!e||e.length<1)return undefined;var r=e.length;while(n<r){if(t(e[n],n))return n;n++}return undefined}function o(e,t){var n=s(e,t);return n===undefined?undefined:e[n]}function u(e,t){if(e.length<t)return e.replace(/https?:\/\//,"");var n=r(e);if((n.authority+n.path).length<t)return n.authority+n.path;var i=Math.floor(t/2)-3,s=Math.floor(t/2)-5,o=n.path.split("/");return n.authority.length>i?n.authority.substr(0,i)+"..."+o[o.length-1].substr(-s):n.authority+"..."+o[o.length-1].substr(-s)}function a(e,t){return t===void 0&&(t=2),Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function f(e,t,n){return e>=t&&e<=n}function c(e){return e.toLowerCase().replace(l,"")}function h(e,t){return e+(t>1?"s":"")}function p(e){return e.which===9&&e.shiftKey}function d(e){return e.which===9&&!e.shiftKey}Object.defineProperty(n,"__esModule",{value:!0}),n.contains=i,n.findIndex=s,n.find=o,n.resourceUrlFormatter=u,n.roundNumber=a,n.isInStatusCodeRange=f;var l=/[^a-z-]/g;n.toCssClass=c,n.pluralize=h,n.isTabUp=p,n.isTabDown=d},{}],5:[function(e,t,n){"use strict";function i(e,t,n){n===void 0&&(n=s);if(e===undefined)return undefined;var r=t(e);return r===undefined?undefined:n(r)}function s(e){if(typeof e["toString"]=="function")return e.toString();throw TypeError("Can't convert type ${typeof source} to string")}function o(e){return e.trim().length>0?e:undefined}function u(e){var t=new Date(e);return isNaN(t.getTime())?undefined:t}function a(e){var t=function(e){return e>=0};return l(e,t)}function f(e){var t=function(e){return e>0};return l(e,t)}function l(e,t){var n=function(e){return t(e)?e:undefined};if(typeof e=="string"){var r=parseInt(e,10);return isFinite(r)?n(r):undefined}return n(e)}function c(e){return r.roundNumber(e,3)+" ms"}function v(e){var t=r.roundNumber(e,3)+" s";return e>d?t+" (~"+r.roundNumber(e/d,0)+" days)":e>p?t+" (~"+r.roundNumber(e/p,0)+" hours)":e>h?t+" (~"+r.roundNumber(e/h,0)+" minutes)":t}function m(e){return e.toUTCString()+"<br/>(local time: "+e.toLocaleString()+")"}function b(e){var t=e+" bytes";return e>=y?t+" (~"+r.roundNumber(e/y,1)+" MB)":e>=g?t+" (~"+r.roundNumber(e/g,0)+" kB)":t}function S(e){e===void 0&&(e="");if(typeof e!="string"){if(typeof e["toString"]!="function")throw TypeError("Invalid parameter");e=e.toString()}return e.replace(E,function(e){return w[e]})}function T(e){var t=e.replace(x,"_");return t.indexOf("http://")===0||t.indexOf("https://")===0?t:(console.warn("skipped link, due to potentially unsafe url",e),"")}function C(e){return e.toString().replace(N,"")}function k(e){return typeof e=="number"?e:typeof e=="string"?parseInt(e,10):undefined}function L(e){var t=function(t){e[t]=k(e[t]);if(e[t]===undefined)throw TypeError('option "'+t+'" needs to be a number')},n=function(t){e[t]=!!e[t]};return t("leftColumnWith"),t("rowHeight"),t("selectedPage"),n("showAlignmentHelpers"),n("showIndicatorIcons"),n("showMimeTypeIcon"),e}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./misc");n.parseAndFormat=i,n.parseNonEmpty=o,n.parseDate=u,n.parseNonNegative=a,n.parsePositive=f,n.formatMilliseconds=c;var h=60,p=60*h,d=24*p;n.formatSeconds=v,n.formatDateLocalized=m;var g=1024,y=1024*g;n.formatBytes=b;var w={'"':"&quot","&":"&amp","'":"&#039","<":"&lt",">":"&gt"},E=new RegExp(Object.keys(w).join("|"),"g");n.escapeHtml=S;var x=new RegExp("[^-A-Za-z0-9+&@#/%?=~_|!:,.;()]","g");n.sanitizeUrlForLink=T;var N=new RegExp("[^a-zA-Z0-9]","g");n.sanitizeAlphaNumeric=C,n.toInt=k,n.validateOptions=L},{"./misc":4}],6:[function(e,t,n){"use strict";function s(e,t){var n=t===void 0?{}:t,s=n.attributes,o=s===void 0?{}:s,u=n.css,a=u===void 0?{}:u,f=n.text,l=f===void 0?"":f,c=n.className,h=c===void 0?"":c,p=document.createElementNS(i,e);return h&&r.addClass(p,h),l&&(p.textContent=l),r.safeSetStyles(p,a),r.safeSetAttributes(p,o),p}function o(e,t,n){return n===void 0&&(n={}),s("svg",{className:e,attributes:t,css:n})}function u(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={}),s("g",{className:e,attributes:t,css:n})}function a(e){var t={id:e};return s("clipPath",{attributes:t})}function f(e,t,n){return t===void 0&&(t=""),n===void 0&&(n={}),s("foreignObject",{attributes:e,className:t,css:n})}function l(e){return s("a",{className:e})}function c(e,t,n){return t===void 0&&(t=""),n===void 0&&(n={}),s("rect",{attributes:e,className:t,css:n})}function h(e,t){return t===void 0&&(t=""),s("line",{className:t,attributes:e})}function p(e){var t=document.createElementNS(i,"title");return t.setAttribute("text",e),t}function d(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={}),s("text",{text:e,attributes:t,css:n})}function v(e){var t=document.createElementNS(i,"path");return t.setAttribute("d",e),t}function g(e,t){t===void 0&&(t=!1);if(e.textContent.length===0)return 0;var n=m(),r,i;t?(i=e.style.textShadow,r=e):(r=e.cloneNode(!0),r.setAttribute("x","0"),r.setAttribute("y","0")),r.style.textShadow="0",n.appendChild(r),window.document.body.appendChild(n);var s=r.getComputedTextLength();return t&&i!==undefined&&(e.style.textShadow=i),s}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./dom"),i="http://www.w3.org/2000/svg";n.newSvg=o,n.newG=u,n.newClipPath=a,n.newForeignObject=f,n.newA=l,n.newRect=c,n.newLine=h,n.newTitle=p,n.newTextEl=d,n.newPath=v;var m=function(){var e,t;return function(){if(e===undefined){var n={className:"water-fall-chart temp",width:"9999px"},r={left:"0px",position:"absolute",top:"0px",visibility:"hidden","z-index":"99999"};e=o("water-fall-chart temp",n,r)}return e.parentElement===undefined&&window.document.body.appendChild(e),clearTimeout(t),t=setTimeout(function(){e.parentNode.removeChild(e)},500),e}}();n.getNodeTextWidth=g},{"./dom":1}],7:[function(e,t,n){"use strict";function r(){var e=document.createElement("ul");return e.className="resource-legend",e.innerHTML='\n        <li class="legend-blocked" title="Time spent in a queue waiting for a network connection.">Blocked</li>\n        <li class="legend-dns" title="DNS resolution time.">DNS</li>\n        <li class="legend-connect" title="Time required to create TCP connection.">Connect</li>\n        <li class="legend-ssl" title="Time required for SSL/TLS negotiation.">SSL (TLS)</li>\n        <li class="legend-send" title="Time required to send HTTP request to the server.">Send</li>\n        <li class="legend-wait" title="Waiting for a response from the server.">Wait</li>\n        <li class="legend-receive"\n        title="Time required to read entire response from the server (or cache).">Receive</li>',e}Object.defineProperty(n,"__esModule",{value:!0}),n.makeLegend=r},{}],8:[function(e,t,n){"use strict";function c(){return s.makeLegend()}function h(e,t){t===void 0&&(t={});var n=i.validateOptions(r({},f,t)),u=new o.default(e,n.selectedPage),l=a.createWaterfallSvg(u.getSelectedPage(),n);return u.onPageUpdate(function(e,t){var r=l.parentElement,i=a.createWaterfallSvg(t,n);r.replaceChild(i,l),l=i}),n.pageSelector&&u.initPagingSelectBox(n.pageSelector),n.legendHolder&&(n.legendHolder.innerHTML="",n.legendHolder.appendChild(s.makeLegend())),l}function p(e,t){t===void 0&&(t={});var n=r({},l,t),i=u.transformDoc(e,n);return typeof t.onParsed=="function"&&t.onParsed(i),h(i,t)}var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./helpers/parse"),s=e("./legend/legend"),o=e("./paging/paging"),u=e("./transformers/har"),a=e("./waterfall/svg-chart"),f={leftColumnWith:25,legendHolder:undefined,onParsed:undefined,pageSelector:undefined,rowHeight:23,selectedPage:0,showAlignmentHelpers:!0,showIndicatorIcons:!0,showMimeTypeIcon:!0},l={showUserTiming:!1,showUserTimingEndMarker:!1};n.makeLegend=c,n.fromHar=p},{"./helpers/parse":5,"./legend/legend":7,"./paging/paging":9,"./transformers/har":13,"./waterfall/svg-chart":27}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../helpers/dom"),i=function(){function e(e,t){t===void 0&&(t=0),this.doc=e,this.selectedPageIndex=t,this.onPageUpdateCbs=[],t>=this.doc.pages.length&&(this.selectedPageIndex=this.doc.pages.length-1)}return e.prototype.getPageCount=function(){return this.doc.pages.length},e.prototype.getSelectedPage=function(){return this.doc.pages[this.selectedPageIndex]},e.prototype.getSelectedPageIndex=function(){return this.selectedPageIndex},e.prototype.setSelectedPageIndex=function(e){var t=this;if(this.selectedPageIndex===e)return;if(e<0||e>=this.getPageCount())throw new Error("Page does not exist - Invalid pageIndex selected");this.selectedPageIndex=e;var n=this.doc.pages[this.selectedPageIndex];this.onPageUpdateCbs.forEach(function(e){e(t.selectedPageIndex,n)})},e.prototype.onPageUpdate=function(e){return this.getPageCount()>1?this.onPageUpdateCbs.push(e):undefined},e.prototype.initPagingSelectBox=function(e){var t=this,n=this;if(this.getPageCount()<=1){e.style.display="none";return}r.removeChildren(e),this.doc.pages.forEach(function(n,r){var i=new Option(n.title,r.toString(),!1,r===t.selectedPageIndex);e.add(i)}),e.style.display="block",e.addEventListener("change",function(e){var t=parseInt(e.target.value,10);n.setSelectedPageIndex(t)})},e}();n.default=i},{"../helpers/dom":1}],10:[function(e,t,n){"use strict";function f(e,t,n){return[["Request Number","#"+n],["Started",(new Date(e.startedDateTime)).toLocaleString()+(t>0?" ("+i.formatMilliseconds(t)+" after page request started)":"")],["Duration",i.formatMilliseconds(e.time)],["Error/Status Code",e.response.status+" "+e.response.statusText],["Server IPAddress",e.serverIPAddress],["Connection",e.connection],["Browser Priority",e._priority||e._initialPriority],["Was pushed",i.parseAndFormat(e._was_pushed,i.parsePositive,function(){return"yes"})],["Initiator (Loaded by)",e._initiator],["Initiator Line",e._initiator_line],["Host",r.getHeader(e.request.headers,"Host")],["IP",e._ip_addr],["Client Port",i.parseAndFormat(e._client_port,i.parsePositive)],["Expires",e._expires],["Cache Time",i.parseAndFormat(e._cache_time,i.parsePositive,i.formatSeconds)],["CDN Provider",e._cdn_provider],o("ObjectSize",e._objectSize),o("Bytes In (downloaded)",e._bytesIn),o("Bytes Out (uploaded)",e._bytesOut),o("JPEG Scan Count",e._jpeg_scan_count),o("Gzip Total",e._gzip_total),o("Gzip Save",e._gzip_save),o("Minify Total",e._minify_total),o("Minify Save",e._minify_save),o("Image Total",e._image_total),o("Image Save",e._image_save)].filter(a)}function l(e){var t=e.request,n=function(e){return r.getHeaders(t.headers,e)};return s.flattenKvTuple([["Method",t.method],["HTTP Version",t.httpVersion],o("Bytes Out (uploaded)",e._bytesOut),o("Headers Size",t.headersSize),o("Body Size",t.bodySize),["Comment",i.parseAndFormat(t.comment,i.parseNonEmpty)],n("User-Agent"),n("Host"),n("Connection"),n("Accept"),n("Accept-Encoding"),n("Expect"),n("Forwarded"),n("If-Modified-Since"),n("If-Range"),n("If-Unmodified-Since"),u("Querystring parameters count",t.queryString.length),u("Cookies count",t.cookies.length)]).filter(a)}function c(e){var t=e.response,n=t.content,u=t.headers,f=function(e,t){return t===void 0&&(t=e),r.getHeaders(u,t)},l=function(e){var t=r.getHeader(u,e);return[e,i.parseAndFormat(t,i.parseDate,i.formatDateLocalized)]},c=r.getHeader(u,"Content-Length"),h;n.size!==-1&&c!==n.size.toString()&&(h=n.size);var p=r.getHeader(u,"Content-Type");return e._contentType&&e._contentType!==p&&(p=p+" | "+e._contentType),s.flattenKvTuple([["Status",t.status+" "+t.statusText],["HTTP Version",t.httpVersion],o("Bytes In (downloaded)",e._bytesIn),o("Headers Size",t.headersSize),o("Body Size",t.bodySize),["Content-Type",p],f("Cache-Control"),f("Content-Encoding"),l("Expires"),l("Last-Modified"),f("Pragma"),o("Content-Length",c),o("Content Size",h),o("Content Compression",n.compression),f("Connection"),f("ETag"),f("Accept-Patch"),["Age",i.parseAndFormat(r.getHeader(u,"Age"),i.parseNonNegative,i.formatSeconds)],f("Allow"),f("Content-Disposition"),f("Location"),f("Strict-Transport-Security"),f("Trailer (for chunked transfer coding)","Trailer"),f("Transfer-Encoding"),f("Upgrade"),f("Vary"),f("Timing-Allow-Origin"),["Redirect URL",i.parseAndFormat(t.redirectURL,i.parseNonEmpty)],["Comment",i.parseAndFormat(t.comment,i.parseNonEmpty)]]).filter(a)}function h(e,t,n){var r=e.timings,s=function(e){return i.parseAndFormat(e,i.parseNonNegative,i.formatMilliseconds)},o=typeof t!="number"||typeof n!="number"?undefined:n-t,u=s(r.connect);return r.ssl>0&&(u=u+" (without TLS: "+s(r.connect-r.ssl)+")"),[["Total",i.formatMilliseconds(o)],["Blocked",s(r.blocked)],["DNS",s(r.dns)],["Connect",u],["SSL (TLS)",s(r.ssl)],["Send",i.formatMilliseconds(r.send)],["Wait",i.formatMilliseconds(r.wait)],["Receive",i.formatMilliseconds(r.receive)]]}function p(e,t,n,r){var i=e.request.headers,s=e.response.headers,o=function(e){return[e.name,e.value]};return{general:f(e,n,t),request:l(e),requestHeaders:i.map(o),response:c(e),responseHeaders:s.map(o),timings:h(e,n,r)}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../helpers/har"),i=e("../helpers/parse"),s=e("./helpers"),o=function(e,t){return[e,i.parseAndFormat(t,i.parsePositive,i.formatBytes)]},u=function(e,t){return[e,i.parseAndFormat(t,i.parsePositive)]},a=function(e){return e.length>1&&e[1]!==undefined&&e[1]!==""};n.getKeys=p},{"../helpers/har":2,"../helpers/parse":5,"./helpers":14}],11:[function(e,t,n){"use strict";function s(e,t){var n=1e3;if(e.response.bodySize<n)return!1;if(i.contains(["html","css","javascript","svg","plain"],t))return!0;var r=e.response.content.mimeType,s=["application/vnd.ms-fontobject","application/x-font-opentype","application/x-font-truetype","application/x-font-ttf","application/xml","font/eot","font/opentype","font/otf","image/vnd.microsoft.icon"];return i.contains(["text"],r.split("/")[0])||i.contains(s,r.split(";")[0])?!0:!1}function o(e){if(e.request.method.toLowerCase()!=="get")return!1;if(e.response.status===204||!i.isInStatusCodeRange(e.response.status,200,299))return!1;var t=e.response.headers;return!r.hasHeader(t,"Cache-Control")&&!r.hasHeader(t,"Expires")}function u(e,t){var n=e.response.headers;return!r.hasHeader(n,"Content-Encoding")&&s(e,t)}function a(e){return e.request.url.indexOf("https://")===0}function f(e){function t(e){return typeof e=="string"?parseInt(e,10):e}return t(e._was_pushed)===1}function l(e){var t=e.filter(function(e){return!e.response.redirectURL})[0];return t===undefined?e.length>0?a(e[0]):!1:a(t)}function c(e,t,n){var r=[];return f(e)&&r.push({description:"Response was pushed by the server using HTTP2 push.",icon:"push",id:"push",title:"Response was pushed by the server",type:"info"}),t&&!a(e)&&r.push({description:"Insecure request, it should use HTTPS.",id:"noTls",title:"Insecure Connection",type:"error"}),o(e)&&r.push({description:"The response is not allow to be cached on the client. Consider setting 'Cache-Control' headers.",id:"noCache",title:"Response not cached",type:"error"}),u(e,n)&&r.push({description:"The response is not compressed. Consider enabling HTTP compression on your server.",id:"noGzip",title:"no gzip",type:"error"}),!e.response.content.mimeType&&i.isInStatusCodeRange(e.response.status,200,299)&&e.response.status!==204&&r.push({description:"Response doesn't contain a 'Content-Type' header.",id:"warning",title:"No MIME Type defined",type:"warning"}),r}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../helpers/har"),i=e("../helpers/misc");n.documentIsSecure=l,n.collectIndicators=c},{"../helpers/har":2,"../helpers/misc":4}],12:[function(e,t,n){"use strict";function u(e,t,n,r,i,u){var f=[],v=s.getKeys(e,t,r,i);return f.push(l(v.general,u)),f.push(c(v.request,v.requestHeaders)),f.push(h(v.response,v.responseHeaders)),f.push(a("Timings",o.makeDefinitionList(v.timings,!0))),f.push(p(e)),n==="image"&&f.push(d(e)),f.filter(function(e){return e!==undefined})}function a(e,t,n){return n===void 0&&(n=""),{content:t,tabClass:n,title:e}}function f(e,t,n){return n===void 0&&(n=""),{renderContent:t,tabClass:n,title:e}}function l(e,t){var n=o.makeDefinitionList(e);if(t.length===0)return a("General",n);var i="<h2>General</h2>\n<dl>"+n+"<dl>",s="",u=t.filter(function(e){return e.type==="error"}).map(function(e){return[e.title,e.description]}),f=t.filter(function(e){return e.type==="warning"}).map(function(e){return[e.title,e.description]}),l=t.filter(function(e){return e.type!=="error"&&e.type!=="warning"}).map(function(e){return[e.title,e.description]});u.length>0&&(s+='<h2 class="no-boder">'+r.pluralize("Error",u.length)+"</h2>\n    <dl>"+o.makeDefinitionList(u)+"</dl>"),f.length>0&&(s+='<h2 class="no-boder">'+r.pluralize("Warning",f.length)+"</h2>\n    <dl>"+o.makeDefinitionList(f)+"</dl>"),l.length>0&&(s+='<h2 class="no-boder">Info</h2>\n    <dl>'+o.makeDefinitionList(l)+"</dl>"),a("General",s+i)}function c(e,t){var n="<dl>\n      "+o.makeDefinitionList(e)+"\n    </dl>\n    <h2>All Request Headers</h2>\n    <dl>\n      "+o.makeDefinitionList(t)+"\n    </dl>";return a("Request",n)}function h(e,t){var n="<dl>\n      "+o.makeDefinitionList(e)+"\n    </dl>\n    <h2>All Response Headers</h2>\n    <dl>\n      "+o.makeDefinitionList(t)+"\n    </dl>";return a("Response",n)}function p(e){return f("Raw Data",function(){return"<pre><code>"+i.escapeHtml(JSON.stringify(e,null,2))+"</code></pre>"},"raw-data")}function d(e){return f("Preview",function(t){return'<img class="preview" style="max-height:'+(t-100)+'px"\n data-src="'+i.sanitizeUrlForLink(e.request.url)+'" />'})}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../helpers/misc"),i=e("../helpers/parse"),s=e("./extract-details-keys"),o=e("./helpers");n.makeTabs=u},{"../helpers/misc":4,"../helpers/parse":5,"./extract-details-keys":10,"./helpers":14}],13:[function(e,t,n){"use strict";function a(e,t){var n=this,r=e.log!==undefined?e.log:e,i=l(r);return{pages:i.map(function(e,i){return n.transformPage(r,i,t)})}}function f(e,t,n,r){n=Math.round(n);var a=Math.round(i.toInt(e._all_end)||n+e.time),f=u.mimeToRequestType(e.response.content.mimeType),l=s.collectIndicators(e,r,f),c=m(e,l);return u.createWaterfallEntry(e.request.url,n,a,d(n,e),c,o.makeTabs(e,t+1,f,n,a,l))}function c(e,t,n){t===void 0&&(t=0);var r=e.log!==undefined?e.log:e,i=l(r),o=i[t],u=(new Date(o.startedDateTime)).getTime(),a=o.pageTimings,c=0,p=s.documentIsSecure(r.entries),d=r.entries.filter(function(e){return e.request.url.indexOf("data:")===0||e.request.url.indexOf("javascript:")===0?!1:i.length===1&&o.id===""?!0:e.pageref===o.id}).map(function(e,t){var n=(new Date(e.startedDateTime)).getTime()-u;return c=Math.max(c,n+e.time),f(e,t,n,p)}),v=h(a,o,n);return v.forEach(function(e){e.startTime>c&&(c=e.startTime)}),n.fixedLengthMs&&(c=n.fixedLengthMs),c+=100,{docIsTLS:p,durationMs:c,entries:d,marks:v,title:o.title}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../helpers/misc"),i=e("../helpers/parse"),s=e("./har-heuristics"),o=e("./har-tabs"),u=e("./helpers");n.transformDoc=a;var l=function(e){if(e.pages&&e.pages.length>0)return e.pages;var t=e.entries.reduce(function(e,t){var n=Date.parse(t.startedDateTime),r=Date.parse(e);return r<n?e:t.startedDateTime},e.entries[0].startedDateTime);return[{id:"",pageTimings:{},startedDateTime:t,title:"n/a"}]};n.transformPage=c;var h=function(e,t,n){var s=function(e,t){return e.startTime-t.startTime},o=Object.keys(e).filter(function(t){return typeof e[t]=="number"&&e[t]>=0}).map(function(t){return{name:i.escapeHtml(t.replace(/^[_]/,""))+" ("+r.roundNumber(e[t],0)+" ms)",startTime:e[t]}});return n.showUserTiming?p(t,n).concat(o).sort(s):o.sort(s)},p=function(e,t){var n=t.showUserTimingEndMarker?function(e){return e.indexOf("_userTime.")===0}:function(e){return e.indexOf("_userTime.")===0&&e.indexOf("_userTime.endTimer-")!==0},r=n;if(Array.isArray(t.showUserTiming)){var s=t.showUserTiming;r=function(e){return n(e)&&s.indexOf(e.replace(/^_userTime\./,""))>=0}}var o=/^_userTime\.((?:startTimer-)?(.+))$/,u=function(n){var r,s,u;a=o.exec(n),s=a[1],r=a[2],s=i.escapeHtml(s),r=i.escapeHtml(r);if(s!==r&&e["_userTime.endTimer-"+r])return u=e["_userTime.endTimer-"+r]-e[n],{duration:u,name:(t.showUserTimingEndMarker?s:r)+" ("+e[n]+" - "+(e[n]+u)+" ms)",startTime:e[n]};return{name:s,startTime:e[n]};var a};return Object.keys(e).filter(r).map(u)},d=function(e,t){var n=t.timings;return["blocked","dns","connect","send","wait","receive"].reduce(function(r,i){var s=v(i,t,r,e);if(s.end&&s.start>=s.end)return r;if(i==="connect"&&n.ssl&&n.ssl!==-1){var o=parseInt(t._ssl_start,10)||s.start,a=parseInt(t._ssl_end,10)||s.start+n.ssl,f=parseInt(t._ssl_start,10)?s.start:a;return r.concat([u.createWaterfallEntryTiming("ssl",Math.round(o),Math.round(a))]).concat([u.createWaterfallEntryTiming(i,Math.round(f),Math.round(s.end))])}return r.concat([u.createWaterfallEntryTiming(i,Math.round(s.start),Math.round(s.end))])},[])},v=function(e,t,n,r){var i;switch(e){case"wait":i="ttfb";break;case"receive":i="download";break;default:i=e}var s=parseInt(t["_"+i+"_start"],10),o=parseInt(t["_"+i+"_end"],10),u=isNaN(s)?n.length>0?n[n.length-1].end:r:s,a=isNaN(o)?u+t.timings[e]:o;return{end:Math.round(a),start:Math.round(u)}},m=function(e,t){var n=u.mimeToRequestType(e.response.content.mimeType),r=i.toInt(e.response.status);return{icon:u.makeMimeTypeIcon(r,e.response.statusText,n,e.response.redirectURL),indicators:t,requestType:n,rowClass:u.makeRowCssClasses(r),statusCode:r}}},{"../helpers/misc":4,"../helpers/parse":5,"./har-heuristics":11,"./har-tabs":12,"./helpers":14}],14:[function(e,t,n){"use strict";function u(e,t){t===void 0&&(t=!1);var n=function(e){if(!t)return"";var n=r.toCssClass(e)||"no-colour";return'class="'+n+'"'};return e.filter(function(e){return e[1]!==undefined}).map(function(e){return"\n      <dt "+n(e[0])+">"+o(e[0])+"</dt>\n      <dd>"+o(e[1])+"</dd>\n    "}).join("")}function a(e){if(e===undefined)return"other";var t=e.split("/"),n=t[1];n!==undefined&&(n=n.indexOf(";")>-1?n.split(";")[0]:n);switch(t[0]){case"image":return n==="svg+xml"?"svg":"image";case"font":return"font";case"video":return"video";case"audio":return"audio";default:}switch(n){case"xml":case"html":return"html";case"plain":return"plain";case"css":return"css";case"vnd.ms-fontobject":case"font-woff":case"font-woff2":case"x-font-truetype":case"x-font-opentype":case"x-font-woff":return"font";case"javascript":case"x-javascript":case"script":case"json":return"javascript";case"x-shockwave-flash":return"flash";default:return"other"}}function f(e,t,n,r,i,s){r===void 0&&(r=[]);var o=typeof t!="number"||typeof n!="number"?undefined:n-t;return{end:n,responseDetails:i,segments:r,start:t,tabs:s,total:o,url:e}}function l(e,t,n){var r=typeof t!="number"||typeof n!="number"?undefined:n-t,s=i.sanitizeAlphaNumeric(e);return{end:n,start:t,total:r,type:s}}function c(e){var t=["row-item"];return r.isInStatusCodeRange(e,500,599)?t.push("status5xx"):r.isInStatusCodeRange(e,400,499)?t.push("status4xx"):e!==304&&r.isInStatusCodeRange(e,300,399)&&t.push("status3xx"),t.join(" ")}function h(e,t,n,o){o===void 0&&(o="");if(!o)return r.isInStatusCodeRange(e,400,499)?s.makeIcon("err4xx",e+" response status: "+i.escapeHtml(t)):r.isInStatusCodeRange(e,500,599)?s.makeIcon("err5xx",e+" response status: "+i.escapeHtml(t)):e===204?s.makeIcon("plain","No content"):s.makeIcon(i.sanitizeAlphaNumeric(n),i.escapeHtml(n));var u=encodeURI(o.split("?")[0]||"");return s.makeIcon("err3xx",e+" response status: Redirect to "+i.escapeHtml(u)+"...")}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../helpers/misc"),i=e("../helpers/parse"),s=e("../waterfall/row/svg-indicators"),o=function(e){return i.escapeHtml(e).replace("&ltbr/&gt","<br/>")};n.makeDefinitionList=u,n.mimeToRequestType=a,n.createWaterfallEntry=f,n.createWaterfallEntryTiming=l,n.makeRowCssClasses=c,n.makeMimeTypeIcon=h,n.flattenKvTuple=function(e){var t=[];return e.forEach(function(e){if(e===undefined||e.length===0)return;if(Array.isArray(e[0])){t.push.apply(t,e);return}t.push(e)}),t}},{"../helpers/misc":4,"../helpers/parse":5,"../waterfall/row/svg-indicators":20}],15:[function(e,t,n){"use strict";function r(e){return"block-"+e}function i(e){return"block-"+e}Object.defineProperty(n,"__esModule",{value:!0}),n.requestTypeToCssClass=r,n.timingTypeToCssClass=i},{}],16:[function(e,t,n){"use strict";function s(e,t,n){var s=r.makeHtmlEl(),o=r.makeBodyEl(),u=n.tabs.map(function(e){return'<li><button class="tab-button">'+e.title+"</button></li>"}).join("\n"),a=n.tabs.map(function(e){var n="tab";e.tabClass&&(n+=" "+e.tabClass);var r="";if(e.content)r=e.content;else{if(typeof e.renderContent!="function")throw TypeError("Invalid Details Tab");r=e.renderContent(t),e.content=r}return'<div class="tab '+n+'">'+r+"</div>"}).join("\n");return o.innerHTML='\n    <div class="wrapper">\n      <header class="type-'+n.responseDetails.requestType+'">\n        <h3><strong>#'+e+'</strong> <a href="'+i.sanitizeUrlForLink(n.url)+'">\n          '+i.escapeHtml(n.url)+'\n        </a></h3>\n        <nav class="tab-nav">\n          <ul>\n            '+u+"\n          </ul>\n        </nav>\n      </header>\n      "+a+"\n    </div>\n    ",s.appendChild(o),s}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/dom"),i=e("../../helpers/parse");n.createDetailsBody=s},{"../../helpers/dom":1,"../../helpers/parse":5}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/dom"),i=e("../../helpers/misc"),s=e("./svg-details-overlay"),o=function(){function e(e){this.context=e,this.openOverlays=[],this.realignRow=function(e,t){e.setAttribute("transform","translate(0, "+t+")")}}return e.prototype.getCombinedOverlayHeight=function(){return this.openOverlays.reduce(function(e,t){return e+t.height},0)},e.prototype.openOverlay=function(e,t,n,r,i){if(this.openOverlays.some(function(t){return t.index===e}))return;var s=this,o={defaultY:t,entry:r,index:e,onClose:function(){s.closeOverlay(e,n,i)},openTabIndex:0};this.openOverlays.push(o),this.openOverlays=this.openOverlays.sort(function(e,t){return e.index>t.index?1:-1}),this.renderOverlays(n,i),this.context.pubSub.publishToOverlayChanges({changedIndex:e,combinedOverlayHeight:s.getCombinedOverlayHeight(),type:"open"})},e.prototype.toggleOverlay=function(e,t,n,r,i){this.openOverlays.some(function(t){return t.index===e})?this.closeOverlay(e,n,i):this.openOverlay(e,t,n,r,i)},e.prototype.closeOverlay=function(e,t,n){var r=this;this.openOverlays.splice(this.openOverlays.reduce(function(t,n,r){return n.index===e?r:t},-1),1),this.renderOverlays(t,n),this.context.pubSub.publishToOverlayChanges({changedIndex:e,combinedOverlayHeight:r.getCombinedOverlayHeight(),type:"closed"})},e.prototype.renderOverlays=function(t,n){var o=this,u=0,a=function(e,t,n){u+=n,e.actualY=t,e.height=n},f=function(n,i){var o=i.defaultY+u,f=s.createRowInfoOverlay(i,o,t),l=f.querySelector("img.preview");l&&!l.src&&l.setAttribute("src",l.attributes.getNamedItem("data-src").value),f.querySelector("a").addEventListener("keydown",e.firstElKeypress),r.getLastItemOfNodeList(f.querySelectorAll("button")).addEventListener("keydown",e.lastElKeypress),n.appendChild(f),a(i,o,f.getBoundingClientRect().height)},l=function(t,n){var s=i.find(o.openOverlays,function(e){return e.index===n}),l=t.nextElementSibling.firstElementChild;o.realignRow(t,u);if(s===undefined){l&&(t.nextElementSibling.querySelector("a").removeEventListener("keydown",e.firstElKeypress),r.getLastItemOfNodeList(t.nextElementSibling.querySelectorAll("button")).removeEventListener("keydown",e.lastElKeypress),r.removeChildren(t.nextElementSibling));return}if(l){var c=l.querySelector(".info-overlay-bg"),h=l.querySelector("foreignObject"),p=l.querySelector(".info-overlay-close-btn rect"),d=l.querySelector(".info-overlay-close-btn text");a(s,s.defaultY+u,s.height),c.setAttribute("y",s.actualY.toString()),h.setAttribute("y",s.actualY.toString()),d.setAttribute("y",s.actualY.toString()),p.setAttribute("y",s.actualY.toString());return}f(t.nextElementSibling,s)};n.forEach(l)},e}();o.showFullName=function(e){e.getElementsByClassName("row-fixed").item(0).dispatchEvent(new MouseEvent("mouseenter"))},o.firstElKeypress=function(e){if(i.isTabUp(e)){var t=r.getParentByClassName(e.target,"row-overlay-holder");t&&t.previousElementSibling&&o.showFullName(t.previousElementSibling)}},o.lastElKeypress=function(e){if(i.isTabDown(e)){var t=r.getParentByClassName(e.target,"row-overlay-holder");t&&t.nextElementSibling&&o.showFullName(t.nextElementSibling)}},n.OverlayManager=o,n.default=o},{"../../helpers/dom":1,"../../helpers/misc":4,"./svg-details-overlay":19}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){this.subscribers=[]}return e.prototype.subscribeToOverlayChanges=function(e){this.subscribers.push(e)},e.prototype.subscribeToSpecificOverlayChanges=function(e,t){this.subscribers.push(function(n){n.changedIndex===e&&t(n)})},e.prototype.publishToOverlayChanges=function(e){this.subscribers.forEach(function(t){return t(e)})},e}();n.PubSub=r,n.default=r},{}],19:[function(e,t,n){"use strict";function o(e){var t=i.newA("info-overlay-close-btn");return t.appendChild(i.newRect({height:23,width:23,x:"100%",y:e})),t.appendChild(i.newTextEl("✕",{dx:7,dy:16,x:"100%",y:e})),t.appendChild(i.newTitle("Close Overlay")),t}function u(e,t){var n=i.newG("info-overlay-holder"),r=i.newRect({height:t,rx:2,ry:2,width:"100%",x:"0",y:e},"info-overlay-bg");return n.appendChild(r),n}function a(e,t,n){var a=e.index+1,f=u(t,n),l=i.newForeignObject({height:n,width:"100%",x:"0",y:t}),c=o(t);c.addEventListener("click",function(){return e.onClose(e.index)});var h=s.createDetailsBody(a,n,e.entry),p=h.getElementsByClassName("tab-button"),d=h.getElementsByClassName("tab"),v=function(t){e.openTabIndex=t,r.forEachNodeList(d,function(e,n){e.style.display=t===n?"block":"none",p.item(n).classList.toggle("active",t===n)})};return r.forEachNodeList(p,function(e,t){e.addEventListener("click",function(){return v(t)})}),v(e.openTabIndex),l.appendChild(h),f.appendChild(l),f.appendChild(c),f}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/dom"),i=e("../../helpers/svg"),s=e("./html-details-body");n.createRowInfoOverlay=a},{"../../helpers/dom":1,"../../helpers/svg":6,"./html-details-body":16}],20:[function(e,t,n){"use strict";function i(e,t){return{type:e,title:t,width:20}}function s(e){var t=e.responseDetails.indicators;if(t.length===0)return[];var n=[],s="",o=t.filter(function(e){return e.type==="error"}),u=t.filter(function(e){return e.type==="warning"}),a=t.filter(function(e){return e.type!=="error"&&e.type!=="warning"});return o.length>0&&(n.push(r.pluralize("Error",o.length)+":\n "+o.map(function(e){return e.title}).join("\n")),s="error"),u.length>0&&(n.push(r.pluralize("Warning",u.length)+":\n"+u.map(function(e){return e.title}).join("\n")),s=s||"warning"),a.length>0&&(n.push("Info:\n"+a.map(function(e){return e.title}).join("\n")),!s&&a.length===1?s=a[0].icon||a[0].type:s=s||"info"),[i(s,n.join("\n"))]}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/misc");n.makeIcon=i,n.getIndicatorIcons=s},{"../../helpers/misc":4}],21:[function(e,t,n){"use strict";function a(e,t){var n=s.newG(""),r=e.height-1,o=i.roundNumber(e.x/e.unit)+"%",u=s.newRect({height:r,width:i.roundNumber(e.width/e.unit)+"%",x:o,y:e.y},t);return n.appendChild(u),e.showOverlay&&e.hideOverlay&&(u.addEventListener("mouseenter",e.showOverlay(e)),u.addEventListener("mouseleave",e.hideOverlay(e))),n}function f(e,t){return{cssClass:o.timingTypeToCssClass(e.type),height:t.height-6,hideOverlay:t.hideOverlay,label:"<strong>"+e.type+"</strong><br/>"+(Math.round(e.start)+"ms - "+Math.round(e.end)+"ms<br/>")+("total: "+Math.round(e.total)+"ms"),showOverlay:t.showOverlay,unit:t.unit,width:e.total,x:e.start||.001,y:t.y}}function l(e,t,n){var r=500,o=5/r*100,u=e.y+e.height/1.5,a=Math.round(t)+" ms",f=(e.x+e.width)/e.unit+o,l=s.newTextEl(a,{x:i.roundNumber(f)+"%",y:u}),c=a.length*8;return f+c/r*100>100&&(f=n/e.unit-o,l=s.newTextEl(a,{x:i.roundNumber(f)+"%",y:u},{textAnchor:"end"})),l}function c(e,t,n){var r=a(e,"time-block "+e.cssClass),i=s.newG("rect-holder"),o=e.x;return i.appendChild(r),t&&t.length>0&&(t.forEach(function(t){if(t.total>0&&typeof t.start=="number"){var n=f(t,e),r=a(n,"segment "+n.cssClass);o=Math.min(o,n.x),i.appendChild(r)}}),i.appendChild(l(e,n,o))),i}function h(e,t,n,r,i){return t+=Math.round(r/2)+5,e+=i,s.newTextEl(n,{x:e,y:t},{"text-anchor":"end"})}function p(e,t,n,r){var i=v(e,t,n,r);return i.style.clipPath="url(#titleClipPath)",i}function d(e,t,n,r){var i=v(e,t,n,r),o=s.newG("full-label",{},{clipPath:"url(#titleFullClipPath)"});return o.appendChild(s.newRect({height:r-4,rx:5,ry:5,width:500,x:e-3,y:t+3},"label-full-bg")),o.appendChild(i),o}function v(e,t,n,r){var o=i.resourceUrlFormatter(n,125);t=t+Math.round(r/2)+5;var u=s.newTextEl(o,{x:e,y:t});return u.appendChild(s.newTitle(n)),u.style.opacity=n.match(/js.map$/)?"0.5":"1",u}function g(e,t,n,r){var i=r.getElementsByTagName("rect")[0],s=r.getElementsByTagName("text")[0];r.style.display="none",r.style.visibility="hidden",e.appendChild(t),e.appendChild(n),e.appendChild(r);var o=!1,u;e.addEventListener("mouseenter",function(){r.style.display="block",n.style.display="none",r.style.visibility="visible";var e=function(){var e=s.getComputedTextLength()+10;i.setAttribute("width",e.toString()),o=!0,u=undefined};o||(m?u=window.requestAnimationFrame(e):e())}),e.addEventListener("mouseleave",function(){n.style.display="block",r.style.display="none",r.style.visibility="hidden",m&&u!==undefined&&cancelAnimationFrame(u)})}function y(e,t,n){var r=n?"even":"odd";return s.newRect({height:t,width:"100%",x:0,y:e},r)}function b(e,t){var n=s.newG("row row-fixed");return n.appendChild(s.newRect({height:t,width:"100%",x:"0",y:e},"",{opacity:0})),n}function w(e,t){var n=s.newG("row row-flex");return n.appendChild(s.newRect({height:t,width:"100%",x:"0",y:e},"",{opacity:0})),n}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/dom"),i=e("../../helpers/misc"),s=e("../../helpers/svg"),o=e("../../transformers/styling-converters"),u=e("./svg-tooltip");n.createRect=c,n.createRequestNumberLabel=h,n.createRequestLabelClipped=p,n.createRequestLabelFull=d;var m=typeof window.requestAnimationFrame=="function"&&typeof window.cancelAnimationFrame=="function";n.appendRequestLabels=g,n.createBgStripe=y,n.createNameRowBg=b,n.createRowBg=w},{"../../helpers/dom":1,"../../helpers/misc":4,"../../helpers/svg":6,"../../transformers/styling-converters":15,"./svg-tooltip":23}],22:[function(e,t,n){"use strict";function c(e,t,n,c,h,p,d){var v=h.y,m=h.height,g=e.options.leftColumnWith,y=s.newA(p.responseDetails.rowClass);y.setAttribute("tabindex","0"),y.setAttribute("xlink:href","javascript:void(0)");var b=s.newSvg("left-fixed-holder",{width:g+"%",x:"0"}),w=s.newSvg("flex-scale-waterfall",{width:100-g+"%",x:g+"%"}),E=u.createRect(h,p.segments,p.total),S=u.createNameRowBg(v,m),x=u.createRowBg(v,m),T=u.createBgStripe(v,m,t%2===0),N=l+n;if(e.options.showMimeTypeIcon){var C=p.responseDetails.icon;N-=C.width,S.appendChild(r[C.type](N,v+3,C.title))}e.options.showIndicatorIcons&&o.getIndicatorIcons(p).forEach(function(e){N-=e.width,S.appendChild(r[e.type](N,v+3,e.title))}),N=l+n;var k=""+(t+1),L=u.createRequestNumberLabel(N,v,k,m,c);N+=c+4;var A=u.createRequestLabelClipped(N,v,i.resourceUrlFormatter(p.url,40),m),O=u.createRequestLabelFull(N,v,p.url,m);x.appendChild(E),u.appendRequestLabels(S,L,A,O),e.pubSub.subscribeToSpecificOverlayChanges(t,function(e){M=e.type==="open"}),t>0&&e.pubSub.subscribeToSpecificOverlayChanges(t-1,function(e){_=e.type==="open"});var M,_;return y.addEventListener("click",function(e){e.preventDefault(),d(e)}),y.addEventListener("keydown",function(e){if(e.which===32||e.which===13)return e.preventDefault(),d(e);if(i.isTabUp(e)&&!_&&t>0){y.previousSibling.previousSibling.lastChild.lastChild.dispatchEvent(new MouseEvent("mouseenter"));return}if(i.isTabDown(e)&&!M){y.nextSibling&&y.nextSibling.nextSibling&&y.nextSibling.nextSibling.lastChild.lastChild.dispatchEvent(new MouseEvent("mouseenter"));return}}),y.addEventListener("focusout",function(){S.dispatchEvent(new MouseEvent("mouseleave"))}),w.appendChild(x),b.appendChild(a.cloneNode(!0)),b.appendChild(S),y.appendChild(f.cloneNode(!0)),y.appendChild(T),y.appendChild(w),y.appendChild(b),y}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/icons"),i=e("../../helpers/misc"),s=e("../../helpers/svg"),o=e("./svg-indicators"),u=e("./svg-row-subcomponents"),a=s.newClipPath("titleClipPath");a.appendChild(s.newRect({height:"100%",width:"100%"}));var f=s.newClipPath("titleFullClipPath");f.appendChild(s.newRect({height:"100%",width:"100%"}));var l=3;n.createRow=c},{"../../helpers/icons":3,"../../helpers/misc":4,"../../helpers/svg":6,"./svg-indicators":20,"./svg-row-subcomponents":21}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/dom"),i=e("../../helpers/svg"),s=/(?:translate)\(.+[, ]+(.+)\)/,o=200,u=function(e){e===void 0&&(e="");var t=s.exec(e);return t&&t.length>=2?parseInt(t[1],10):0};n.onHoverInShowTooltip=function(e,t,n){var i=n.querySelector(".tooltip-payload"),s=r.getParentByClassName(e,"row-item"),a=u(s.getAttribute("transform")),f=parseInt(e.getAttribute("y"),10),l=e.getAttribute("x"),c=parseFloat(l),h=50,p=e.width.baseVal.value||e.getBoundingClientRect().width,d=p/(t.width/t.unit),v=t.width/t.unit/p,m=c>50&&(95-c)*d<o;i.innerHTML=t.label,r.addClass(i,"no-anim"),n.style.display="block",i.style.opacity="0.01";var g=i.clientHeight+5;f+a-g>0?h=a-g:h=a+t.height+10;if(m){var y=c-(i.clientWidth+5)*v,b=parseInt(n.querySelector("body").style.left,10),w=1/(.01*(100-b));b=w*b,y>-b?i.style.left=y+"%":i.style.left=-b+"%"}else i.style.left=l;n.setAttribute("y",""+(f+h)),n.setAttribute("height",g.toString()),r.removeClass(i,"no-anim"),i.style.opacity="1";var E=i.clientHeight+5-g;E!==0&&(n.setAttribute("height",(g+E).toString()),n.setAttribute("y",""+(f+h-E)))},n.onHoverOutShowTooltip=function(e){var t=r.getParentByClassName(e,"water-fall-chart"),n=t.querySelector(".tooltip"),i=n.querySelector(".tooltip-payload");n.style.display="none",n.setAttribute("height","250"),i.style.opacity="0"},n.makeTooltip=function(e){var t=e.leftColumnWith,n=i.newSvg("tooltip-holder",{width:"100%",x:"0",y:"0"}),s=i.newForeignObject({width:"100%",x:"0",y:t+"%"},"tooltip",{display:"none"}),u=r.makeHtmlEl(),a=r.makeBodyEl({left:t+"%",width:100-t+"%"},'<div class="tooltip-payload" style="max-width: '+o+'px; opacity: 0;"></div>');return u.appendChild(a),s.appendChild(u),n.appendChild(s),n}},{"../../helpers/dom":1,"../../helpers/svg":6}],24:[function(e,t,n){"use strict";function s(e){return{endline:i.newLine({x1:"0",x2:"0",y1:"0",y2:e},"line-end"),startline:i.newLine({x1:"0",x2:"0",y1:"0",y2:e},"line-start")}}function o(e){return{onMouseEnterPartial:function(){return function(t){var n=t.target;r.addClass(n,"active");var i=n.x.baseVal.valueInSpecifiedUnits+n.width.baseVal.valueInSpecifiedUnits+"%",s=n.x.baseVal.valueInSpecifiedUnits+"%";e.endline.x1.baseVal.valueAsString=i,e.endline.x2.baseVal.valueAsString=i,e.startline.x1.baseVal.valueAsString=s,e.startline.x2.baseVal.valueAsString=s,r.addClass(e.endline,"active"),r.addClass(e.startline,"active")}},onMouseLeavePartial:function(){return function(t){var n=t.target;r.removeClass(n,"active"),r.removeClass(e.endline,"active"),r.removeClass(e.startline,"active")}}}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/dom"),i=e("../../helpers/svg");n.createAlignmentLines=s,n.makeHoverEvtListeners=o},{"../../helpers/dom":1,"../../helpers/svg":6}],25:[function(e,t,n){"use strict";function o(e,t){var n=i.newG("time-scale full-width"),r=Math.ceil(t/1e4)*200,o=1e3/r,u=t/1e3,a=t/r;for(var f=0;f<=a;f++){var l=f%o<1e-9,c=f/o;s(e,n,u,c,l)}return n}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/misc"),i=e("../../helpers/svg"),s=function(e,t,n,s,o){o===void 0&&(o=!1);var u=e.diagramHeight,a=100/n,f,l="sub-second-line";if(o){var c=s>n-.2;l="second-line";var h=r.roundNumber(a*s)+.5+"%",p={};c&&(h=r.roundNumber(a*s)-.5+"%",p["text-anchor"]="end"),f=i.newTextEl(s+"s",{x:h,y:u},p)}var d=r.roundNumber(a*s)+"%",v=i.newLine({x1:d,x2:d,y1:0,y2:u},l);e.pubSub.subscribeToOverlayChanges(function(e){var t=e.combinedOverlayHeight,n=(u+t)/u;v.setAttribute("transform","scale(1, "+n+")"),o&&f.setAttribute("transform","translate(0, "+t+")")}),t.appendChild(v),o&&t.appendChild(f)};n.createTimeScale=o},{"../../helpers/misc":4,"../../helpers/svg":6}],26:[function(e,t,n){"use strict";function o(e,t){var n=e.diagramHeight,o=s.newG("marker-holder",{transform:"scale(1, 1)"});return t.forEach(function(a,f){var l=i.roundNumber(a.startTime/e.unit),c=s.newG("mark-holder type-"+a.name.toLowerCase().replace(/([0-9]+[ ]?ms)|\W/g,"")),h=s.newG("line-holder"),p=s.newG("line-label-holder"),d=s.newTextEl(a.name,{x:l+"%",y:n+25});d.setAttribute("writing-mode","tb");var v;a.x=l;var m=s.newLine({x1:l+"%",x2:l+"%",y1:0,y2:n}),g=t[f-1],y=2.5;g&&a.x-g.x<y&&(d.setAttribute("x",g.x+y+"%"),a.x=g.x+y);var b=s.newLine({x1:l+"%",x2:a.x+"%",y1:n,y2:n+23});h.appendChild(m),h.appendChild(b),a.duration&&(v=u(e,a),h.appendChild(v)),e.pubSub.subscribeToOverlayChanges(function(e){var t=e.combinedOverlayHeight,r=(n+t)/n;m.setAttribute("transform","scale(1, "+r+")"),p.setAttribute("transform","translate(0, "+t+")"),b.setAttribute("transform","translate(0, "+t+")"),v&&v.setAttribute("transform","translate(0, "+t+")")});var w=!1,E=!1,S=function(){w||(c.parentNode.appendChild(c),w=!0,typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(function(){return r.addClass(h,"active")}):r.addClass(h,"active"))},x=function(){w=!1,E||r.removeClass(h,"active")},T=function(){E?(w=!1,r.removeClass(h,"active")):w?w=!1:r.addClass(h,"active"),E=!E};d.addEventListener("mouseenter",S),d.addEventListener("mouseleave",x),d.addEventListener("click",T),p.appendChild(d),c.appendChild(s.newTitle(a.name)),c.appendChild(h),c.appendChild(p),o.appendChild(c)}),o}function u(e,t){var n=s.newG("line-mark-holder line-marker-"+i.toCssClass(t.name));return n.appendChild(s.newTitle(t.name.replace(/^startTimer-/,""))),n.appendChild(s.newRect({height:e.diagramHeight,width:(t.duration||1)/e.unit+"%",x:(t.startTime||.001)/e.unit+"%",y:0},"line-mark")),n}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/dom"),i=e("../../helpers/misc"),s=e("../../helpers/svg");n.createMarks=o,n.createLineRect=u},{"../../helpers/dom":1,"../../helpers/misc":4,"../../helpers/svg":6}],27:[function(e,t,n){"use strict";function h(e){var t=Math.floor(Math.log(e)/Math.LN10)+1,n="";for(var r=0;r<t;r++)n+="0";return n}function p(e,t){var n=e.reduce(function(e,t){var n={x:0,y:0};return Math.max(e,r.getNodeTextWidth(r.newTextEl(t.name,n),!0))},0);return Math.floor(t+n+35)}function d(e,t,n){var r=e.durationMs/100,i=(n.length+1)*t.rowHeight,u={diagramHeight:i,options:t,overlayManager:undefined,pubSub:new o.PubSub,unit:r};return u.overlayManager=new s.default(u),u}function v(e,t){function A(){return m+v.overlayManager.getCombinedOverlayHeight()}function O(e,n){var s=e.total||1,a=t.rowHeight*n,f=e.start||.001,l=450,c={cssClass:i.requestTypeToCssClass(e.responseDetails.requestType),height:t.rowHeight,hideOverlay:t.showAlignmentHelpers?w.onMouseLeavePartial:undefined,label:"<strong>"+e.url+"</strong><br/>"+(Math.round(e.start)+"ms - "+Math.round(e.end)+"ms<br/>")+("total: "+Math.round(e.total)+"ms"),showOverlay:t.showAlignmentHelpers?w.onMouseEnterPartial:undefined,unit:v.unit,width:s,x:f,y:a},h=function(){v.overlayManager.toggleOverlay(n,a+t.rowHeight,l,e,L)},p=u.createRow(v,n,N,k,c,e,h);L.push(p),o.appendChild(p),o.appendChild(r.newG("row-overlay-holder"))}var n=e.entries.filter(function(e){return typeof e.start=="number"&&typeof e.total=="number"}).sort(function(e,t){return(e.start||0)-(t.start||0)}),s=r.newG("overlays"),o=r.newG("rows-holder"),v=d(e,t,n),m=p(e.marks,v.diagramHeight),g=r.newSvg("water-fall-chart",{height:m}),y=r.newSvg("scale-and-marks-holder",{width:100-t.leftColumnWith+"%",x:t.leftColumnWith+"%"}),b,w;if(t.showAlignmentHelpers){b=r.newG("hover-overlays");var E=f.createAlignmentLines(v.diagramHeight);b.appendChild(E.startline),b.appendChild(E.endline),w=f.makeHoverEvtListeners(E)}y.appendChild(l.createTimeScale(v,e.durationMs)),y.appendChild(c.createMarks(v,e.marks));var S=n[0].responseDetails.icon.width,x=0;t.showMimeTypeIcon&&(x+=1);if(t.showIndicatorIcons){var T=n.map(function(e){return e.responseDetails.indicators.length>0?1:0});x+=Math.max.apply(null,T)}var N=x*S,C=h(n.length),k=r.getNodeTextWidth(r.newTextEl(""+C),!0),L=[];return v.pubSub.subscribeToOverlayChanges(function(){var e=A();g.classList.toggle("closing",e<g.clientHeight),g.style.height=e+"px"}),n.forEach(O),t.showAlignmentHelpers&&y.appendChild(b),g.appendChild(y),g.appendChild(o),g.appendChild(s),g.appendChild(a.makeTooltip(t)),g}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../helpers/svg"),i=e("../transformers/styling-converters"),s=e("./details-overlay/overlay-manager"),o=e("./details-overlay/pub-sub"),u=e("./row/svg-row"),a=e("./row/svg-tooltip"),f=e("./sub-components/svg-alignment-helper"),l=e("./sub-components/svg-general-components"),c=e("./sub-components/svg-marks");n.createWaterfallSvg=v},{"../helpers/svg":6,"../transformers/styling-converters":15,"./details-overlay/overlay-manager":17,"./details-overlay/pub-sub":18,"./row/svg-row":22,"./row/svg-tooltip":23,"./sub-components/svg-alignment-helper":24,"./sub-components/svg-general-components":25,"./sub-components/svg-marks":26}]},{},[8])(8)}),define("modals/modalLogAttachmentBinaryHar",["require","jquery","modals/_modalView","util","dataUrlResolver","app","PerfCascade","localization"],function(e){"use strict";var t=e("jquery"),n=e("modals/_modalView"),r=e("util"),i=e("dataUrlResolver"),s=e("app"),o=e("PerfCascade"),u=e("localization"),a=s.getInstance(),f=n.extend({tpl:"tpl-modal-log-attachment-binary-har",className:"modal-log-attachment-binary-har",events:{"click [data-js-close]":"onClickClose","click [data-js-cancel]":"onClickCancel"},initialize:function(e){this.binarySource=i.getFileById(e.binaryId),this.isEdge()||this.loadData().done(function(e){t("[data-js-load-file]",this.$el).removeClass("load");try{var n=o.fromHar(JSON.parse(e));t("[data-js-binary-holder]",this.$el).append(n)}catch(r){t("[data-js-error-block]",this.$el).show()}}),this.render()},isEdge:function(){return navigator.userAgent.search(/Edge/)>0},onShow:function(){this.isEdge()?t("[data-js-error-block]",this.$el).show():t("[data-js-load-file]",this.$el).addClass("load")},loadData:function(){var e=t.Deferred();return t.ajax({url:this.binarySource,type:"GET",dataType:"text",async:!0,success:function(t){e.resolve(t)}}),e},render:function(){this.$el.html(r.templates(this.tpl,{link:r.replaceTemplate(u.logs.harFileError,this.binarySource)}))},onClickClose:function(){a.trackingDispatcher.trackEventNumber(509)},onClickCancel:function(){a.trackingDispatcher.trackEventNumber(511)}});return f}),define("launches/logLevel/LogBodyView",["require","jquery","underscore","backbone-epoxy","util","app","launches/logLevel/LogHistoryLine","launches/logLevel/LogItemInfoView","launches/logLevel/LogItemLogsTable","dataUrlResolver","modals/modalLogAttachmentImage","modals/modalLogAttachmentBinary","modals/modalLogAttachmentBinaryHar"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("app"),o=e("launches/logLevel/LogHistoryLine"),u=e("launches/logLevel/LogItemInfoView"),a=e("launches/logLevel/LogItemLogsTable"),f=e("dataUrlResolver"),l=e("modals/modalLogAttachmentImage"),c=e("modals/modalLogAttachmentBinary"),h=e("modals/modalLogAttachmentBinaryHar"),p=s.getInstance(),d=r.View.extend({template:"tpl-launch-log-body",initialize:function(e){this.context=e.context,this.collectionItems=e.collectionItems,this.launchModel=e.launchModel,this.render(),this.listenTo(this.collectionItems,"change:log:item",this.onChangeLogItem),this.listenTo(this.collectionItems,"update:logs",this.onChangeLogItem),this.onChangeLogItem(),this.context==="userdebug"&&this.$el.find("[data-js-log-item-container]").addClass("debug-mode"),this.supportedLogBinary=["xml","javascript","json","css","php","har"]},onChangeLogItem:function(){var e=this;t("[data-js-log-item-container]",this.$el).removeClass("not-found"),t("[data-js-log-item-container]",this.$el).addClass("load"),this.history&&this.stopListening(this.history),this.history&&this.history.destroy(),this.historyItem&&this.historyItem.destroy(),this.logsItem&&this.logsItem.destroy(),this.collectionItems.get(this.collectionItems.getInfoLog().item)?(this.history=new o({el:t("[data-js-history-line]",this.$el),collectionItems:this.collectionItems,launchModel:this.launchModel}),this.listenTo(this.history,"load:history",this.onLoadHistory),this.listenTo(this.history,"activate:item",this.selectHistoryItem)):(this.collectionItems.loadLogLevelById().done(function(){var t=e.collectionItems.models[0],r=["all",t.get("launchId")].concat(n.keys(t.get("path_names"))),s="log.item="+t.get("id");e.trigger("update:crumbs",r,s),i.ajaxInfoMessenger("restoredTestItem")}).fail(function(){t("[data-js-log-item-container]",e.$el).addClass("not-found")}),t("[data-js-log-item-container]",this.$el).removeClass("load"))},onLoadHistory:function(){t("[data-js-log-item-container]",this.$el).removeClass("load")},getLastPassedOrFailedItem:function(e){var t=this.history.collection.models.slice(0,e).reverse();return n.find(t,function(e){return e.get("status")==="PASSED"||e.get("status")==="FAILED"})},selectHistoryItem:function(e,r){var i=this.collectionItems.getInfoLog(),s,o,a=this;i.history=e.get("id"),this.collectionItems.setInfoLog(i),!r&&p.router.navigate(this.collectionItems.getPathByLogItemId(i.item),{trigger:!1}),s=this.collectionItems.get(e.id),s&&e.set("path_names",s.get("path_names")),this.historyItem&&this.stopListening(this.historyItem)&&this.historyItem.destroy(),n.map(this.history.collection.models,function(t,n){t.get("id")===e.get("id")&&(o=a.getLastPassedOrFailedItem(n))}),this.historyItem=new u({el:t("[data-js-item-info]",this.$el),context:this.context,itemModel:e,launchModel:this.launchModel,supportedLogBinary:this.supportedLogBinary,collectionItems:this.collectionItems,prevModel:o}),this.listenTo(this.historyItem,"goToLog",this.goToLog),this.listenTo(this.historyItem,"change:issue",this.onChangeItemIssue),this.listenTo(this.historyItem,"click:attachment",this.onClickAttachments),this.listenTo(this.historyItem,"change:retry",this.onChangeRetry),this.listenTo(this.historyItem,"update:issue",this.onChangeLogItem),this.onChangeRetry(this.historyItem.getCurrentRetry(),r)},onChangeRetry:function(e,n){var r=this.collectionItems.getInfoLog();r.retry=e.get("id"),this.collectionItems.setInfoLog(r),!n&&p.router.navigate(this.collectionItems.getPathByLogItemId(r.item),{trigger:!1}),this.logsItem&&this.stopListening(this.logsItem)&&this.logsItem.destroy(),this.logsItem=new a({el:t("[data-js-item-logs]",this.$el),itemModel:e,collectionItems:this.collectionItems,mainPath:this.collectionItems.getPathByLogItemId(this.collectionItems.getInfoLog().item),options:this.collectionItems.getInfoLog(),supportedLogBinary:this.supportedLogBinary}),this.listenTo(this.logsItem,"goToLog:end",this.onEndGoToLog),this.listenTo(this.logsItem,"click:attachment",this.onClickAttachments)},onChangeItemIssue:function(){n.each(this.launchModel.collection.models,function(e){e.get("level")&&e.updateData(!0)})},goToLog:function(e){this.logsItem&&this.logsItem.goToLog(e)},onClickAttachments:function(e){var t=e.get("binary_content").content_type,r=e.get("binary_content").id,i=t.split("/")[1],s=t.indexOf("image/")>-1,o=n.contains(this.supportedLogBinary,i)||s,u,a;o?s?(u=new l({imageId:r}),u.show()):i==="har"?(u=new h({binaryId:r,language:i,supportedLanguages:this.supportedLogBinary}),u.show()):(u=new c({binaryId:r,language:i,supportedLanguages:this.supportedLogBinary}),u.show()):(a=f.getFileById(r),window.open(a))},onEndGoToLog:function(){this.historyItem.endGoToLog()},render:function(){this.$el.html(i.templates(this.template,{context:this.context}))},onDestroy:function(){this.history&&this.history.destroy(),this.historyItem&&this.historyItem.destroy(),this.logsItem&&this.logsItem.destroy(),this.$el.html("")}});return d}),define("launches/historyGrid/HistoryControlView",["require","exports","module","filterEntities/FilterEntitiesView","util","jquery","backbone-epoxy","launches/common/InfoPanelView","app","localization"],function(e,t,n){"use strict";var r=e("filterEntities/FilterEntitiesView"),i=e("util"),s=e("jquery"),o=e("backbone-epoxy"),u=e("launches/common/InfoPanelView"),a=e("app"),f=e("localization"),l=a.getInstance(),c=o.View.extend({events:{"click [data-js-refresh]":"onClickRefresh"},template:"tpl-launch-history-control",initialize:function(e){this.parentModel=e.parentModel,this.collectionItems=e.collectionItems,this.render(),this.infoLine=new u({el:s("[data-js-info-line]",this.$el),model:this.parentModel})},render:function(){this.$el.html(i.templates(this.template,{}))},onClickRefresh:function(){this.trigger("refresh::history")},destroy:function(){this.infoLine&&this.infoLine.destroy(),this.$el.html(""),this.undelegateEvents(),this.stopListening(),this.unbind(),delete this}});return c}),define("tooltips/LaunchItemInfoTooltipView",["require","exports","module","jquery","backbone-epoxy","util","components/markdown/MarkdownViewer","launches/common/ItemDurationView","localization"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone-epoxy"),s=e("util"),o=e("components/markdown/MarkdownViewer"),u=e("launches/common/ItemDurationView"),a=e("localization"),f=i.View.extend({template:"tpl-launch-item-info-tooltip",className:"launch-item-tooltip launch-suite-step-items",bindings:{"[data-js-name-link]":"attr: {href: url}","[data-js-name]":"text: name","[data-js-analize-label]":"classes: {visible: isProcessing}","[data-js-launch-number]":"text: numberText","[data-js-status]":"text: status","[data-js-owner-block]":"classes: {hide: not(owner)}","[data-js-owner-name]":"text: owner","[data-js-time-from-now]":"text: startFromNow","[data-js-time-exact]":"text: startFormat","[data-js-tags-container]":"sortTags: tags","[data-js-method-type]":"text: showMethodType","[data-js-step-block]":"classes: {hide: not(isStepItem)}"},bindingHandlers:{sortTags:{set:function(e){var t=this.view.model.get("sortTags");t.length?e.removeClass("hide"):e.addClass("hide");var n=r("[data-js-tags]",e);n.html(""),_.each(t,function(e){n.append('  <a data-js-tag="'+e+'">'+e.replaceTabs()+"</a>")})}}},computeds:{showMethodType:{deps:["type"],get:function(e){return a.testTableMethodTypes[e]}},isStepItem:{deps:["type"],get:function(e){return e=="SUITE"||e=="STORY"||e=="TEST"||e=="SCENARIO"?!1:!0}}},initialize:function(e){this.render(),this.markdownViewer=new o({text:this.model.get("description")}),r("[data-js-description]",this.$el).html(this.markdownViewer.$el),this.duration=new u({model:this.model,el:r("[data-js-item-status]",this.$el)})},render:function(){this.$el.html(s.templates(this.template))},onDestroy:function(){this.markdownViewer&&this.markdownViewer.destroy()}});return f}),define("launches/historyGrid/HistoryItemNameView",["require","jquery","backbone-epoxy","util","app","tooltips/LaunchItemInfoTooltipView"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("app"),s=e("tooltips/LaunchItemInfoTooltipView"),o=i.getInstance(),u=n.View.extend({template:"tpl-launch-history-item",className:"history-grid-row",events:{"click [data-js-name]":"onClickName"},bindings:{"[data-js-name]":"text: name, attr: {href: getUrl}"},computeds:{getUrl:{deps:["launches"],get:function(e){var n=window.location.hash,r=n.split("?")[0],i=_.last(this.launches.models),s=e[i.get("launchNumber")],o=_.isEmpty(s)?null:s[0];return o?r+(o.has_childs?"/":"?log.item=")+o.id:(t("[data-js-name]",this.$el).addClass("not-link"),"")}}},initialize:function(e){this.launches=e.launches,this.render(),this.applyBindings(),this.collectionItems=e.collectionItems;var n=this.collectionItems.get(this.model.get("id"));if(n){this.tooltip=new s({model:n});var i=this;r.appendTooltip(function(){return i.tooltip.$el},t("[data-js-name]",this.$el),t("[data-js-name-block]",this.$el))}},render:function(){this.$el.html(r.templates(this.template,{item:this.model.toJSON()}))},onClickName:function(e){e.preventDefault();var n=t(e.currentTarget).attr("href");n&&(o.trackingDispatcher.trackEventNumber(133),o.router.navigate(n,{trigger:!0}))},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.html(""),delete this}});return u}),define("launches/historyGrid/HistoryItemCellView",["require","jquery","underscore","backbone-epoxy","util","app","defectType/SingletonDefectTypeCollection","launches/common/LaunchSuiteDefectsHoverView","tooltips/SimpleTooltipView","components/markdown/MarkdownViewer"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("app"),o=e("defectType/SingletonDefectTypeCollection"),u=e("launches/common/LaunchSuiteDefectsHoverView"),a=e("tooltips/SimpleTooltipView"),f=e("components/markdown/MarkdownViewer"),l=s.getInstance(),c=r.View.extend({template:"tpl-launch-history-item-cell",issueTpl:"tpl-launch-history-item-issue",statisticsTpl:"tpl-launch-history-item-stats",attributes:function(){return{"data-js-history-cell":""}},bindings:{"[data-js-history-cell]":"getClass: status","[data-js-history-statistics]":"getStatistics: statistics","[data-js-history-issue]":"getIssue: issue"},bindingHandlers:{getClass:{set:function(e,t){var n=this.view.getCellWidth(),r="history-status-"+t;e.css("width",n+"%"),e.addClass("history-col "+r)}},getStatistics:{set:function(e,t){var r=this.view.model,s=r.get("issue"),o,u={},a,f,c;return s||(e.html(""),o=t.defects,n.each(o,function(e,t){e.total!==0&&(a=l.patterns.defectsLocator,f=n.findKey(e,function(e,t){return a.test(t)}),f&&(c=this.view.defectsCollection.getDefectType(f),c&&(u[t]={shortName:c.shortName,fullName:c.longName,color:c.color||i.getDefaultColor(t),cls:i.getDefectCls(t)})))},this),e.append(i.templates(this.view.statisticsTpl,{stats:u}))),""}},getIssue:{set:function(e){function a(e){var t=new f({text:e}),n=t.$el.wrap("<p/>").parent().html();return t.destroy(),n}var t,r,s,o=this.view.model,u=o.get("issue");return u&&(e.html(""),t=o.getIssue(),r=this.view.defectsCollection.getDefectType(t.issue_type),s={tickets:n.map(t.externalSystemIssues,function(e){return e.ticketId}).join(", "),comment:t.comment?a(t.comment.setMaxLength(256)):"",issueType:r,cls:i.getDefectCls(r.typeRef.toLocaleLowerCase())},e.append(i.templates(this.view.issueTpl,{stats:s}))),""}}},getUrl:function(){var e;return this.itemInLaunch&&this.itemInLaunch.length===1?(e="#"+this.model.appModel.get("projectId")+"/launches/all/",e+=this.model.get("launchId"),this.itemInLaunch[0].path_names&&n.each(Object.keys(this.itemInLaunch[0].path_names),function(t){e+="/"+t}),this.itemInLaunch[0].has_childs?e+="/"+this.model.get("id"):e+="?log.item="+this.model.get("id"),e):undefined},initialize:function(e){this.cellWidth=e.cellWidth,this.itemInLaunch=e.itemInLaunch,this.$container=e.container,this.defectsCollection=new o,this.defectsCollection.ready.done(function(){this.render()}.bind(this))},events:{"mouseenter [data-tooltip-type]":"showTooltip"},render:function(){var e=this.getUrl();this.$container.append(this.$el.addClass().html(i.templates(this.template,{link:e,"class":e?"cell-link available":"cell-link"})))},getCellWidth:function(){return this.cellWidth},showTooltip:function(e){var n=t(e.currentTarget),r=n.data("tooltipType");n.data("tooltip")||(n.data("tooltip","tooltip"),this.createTooltip(n,r))},createTooltip:function(e,t){var n=e,r=this;t==="warning"||t==="comment"||t==="tickets"||t==="issue"?(i.appendTooltip(function(){var n=new a({width:200,message:t==="issue"?'<span class="defect-color" style="background: '+e.css("backgroundColor")+'"></span>'+" "+e.data("tooltip-content"):e.data("tooltip-content")});return n.$el},n,n),e.uitooltip("option","position",{my:"center+7.5 top+10",collision:"flipfit"}).uitooltip("open")):(i.appendTooltip(function(){var e=new u({type:t,noLink:!0,model:r.model});return e.$el},n,n),e.uitooltip("option","position",{my:"center+7.5 top+10",collision:"flipfit"}).uitooltip("open"))},onDestroy:function(){this.$el.html(""),delete this}});return c}),define("launches/historyGrid/HistoryItemCellsView",["require","backbone-epoxy","underscore","launches/common/LaunchSuiteStepItemModel","launches/historyGrid/HistoryItemCellView"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("underscore"),r=e("launches/common/LaunchSuiteStepItemModel"),i=e("launches/historyGrid/HistoryItemCellView"),s=t.View.extend({className:"history-grid-row",initialize:function(e){this.launches=e.launches,this.collectionItems=e.collectionItems,this.renderedItems=[],this.render()},render:function(){this.renderItems()},getNameCellWidth:function(){var e=this.launches.length;if(e>10)return 8;if(e>5)return 20;if(e>=3&&e<=5)return 35;if(e<=2)return 50},renderItems:function(){var e=this.model.get("launches");n.each(this.launches.models,function(t){var s,o=t.get("launchNumber"),u={launchNumber:o,parent_launch_status:t.get("launchStatus")},a=e[o];a?a.length===1?u=n.extend(u,this.updateDataForModel(a[0])):u.status="MANY":u.status="NOT_FOUND",s=new i({launchesSize:this.launches.length,container:this.$el,cellWidth:100/(this.launches.length||1),model:new r(u),itemInLaunch:a}),this.renderedItems.push(s)},this)},updateDataForModel:function(e){return e.issue&&e.issue instanceof Object&&(e.issue=JSON.stringify(e.issue)),e.tags&&(e.tags=JSON.stringify(e.tags)),e},destroy:function(){while(this.renderedItems.length)this.renderedItems.pop().destroy();this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.html(""),delete this}});return s}),define("launches/historyGrid/HistoryTableView",["require","exports","module","jquery","backbone-epoxy","util","launches/historyGrid/HistoryItemNameView","launches/historyGrid/HistoryItemCellsView","app","baron"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone-epoxy"),s=e("util"),o=e("launches/historyGrid/HistoryItemNameView"),u=e("launches/historyGrid/HistoryItemCellsView"),a=e("app");e("baron");var f=a.getInstance(),l=i.View.extend({template:"tpl-launch-history-table",events:{},initialize:function(e){this.filterModel=e.filterModel,this.collectionItems=e.collectionItems,this.launches=e.launches,this.items=e.items,this.renderedItems=[],this.render()},render:function(){this.$el.html(s.templates(this.template,{launches:this.launches.toJSON(),nameWidth:this.getNameCellWidth()})),this.renderItems();var e=s.setupBaronScroll(r("[data-js-history-items-cells]",this.$el),null,{direction:"h"});s.setupBaronScrollSize(e,{}),r(window).resize()},getNameCellWidth:function(){var e=this.launches.length;if(e>10)return 15;if(e>5)return 20;if(e>=3&&e<=5)return 35;if(e<=2)return 50},renderItems:function(){var e=r("[data-js-history-names]",this.$el),t=r("[data-js-history-items-cells]",this.$el);_.each(this.items.models,function(n){var i=new o({model:n,launches:this.launches,collectionItems:this.collectionItems}),s=new u({model:n,launches:this.launches,collectionItems:this.collectionItems});e.append(i.$el),t.append(s.$el);var a=s.$el.height(),f=i.$el.height(),l=f>=a?f:a;r("[data-js-name-block]",i.$el).height(l),r("[data-js-history-cell]",s.$el).height(l),r("[data-js-history-cell] .cell-link",s.$el).css("min-height",l),this.renderedItems.push(i),this.renderedItems.push(s)},this)},destroy:function(){while(this.renderedItems.length)this.renderedItems.pop().destroy();this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.html(""),delete this}});return l}),define("launches/historyGrid/HistoryBodyView",["require","jquery","backbone","backbone-epoxy","util","localization","coreService","launches/historyGrid/HistoryTableView","storage/SingletonUserStorage","filterEntities/FilterEntities","underscore","app"],function(e){"use strict";var t=e("jquery"),n=e("backbone"),r=e("backbone-epoxy"),i=e("util"),s=e("localization"),o=e("coreService"),u=e("launches/historyGrid/HistoryTableView"),a=e("storage/SingletonUserStorage"),f=e("filterEntities/FilterEntities"),l=e("underscore"),c=e("app"),h=c.getInstance(),p=r.View.extend({template:"tpl-launch-history-body",events:{"click [data-js-load-more]":"onLoadMore"},initialize:function(e){this.storage=new a,this.filterModel=e.filterModel,this.collectionItems=e.collectionItems,this.conrol=e.control,!this.storage.get("historyDepth")&&this.storage.set("historyDepth","10"),this.depth=this.storage.get("historyDepth"),this.qty=h.historyItemsToLoad,this.ids=l.map(this.collectionItems.models,function(e){return e.get("id")}),this.resetGrid(),this.depthFilterModel=new f.EntityDropDownModel({name:s.filterNameById.history_depth,id:"history_depth",noConditions:!0,required:!0,options:[{value:"3",name:"3"},{value:"5",name:"5"},{value:"10",name:"10"},{value:"15",name:"15"},{value:"20",name:"20"},{value:"25",name:"25"},{value:"30",name:"30"}],value:this.depth}),this.listenTo(this.depthFilterModel,"change:value",this.onChangeDepth),this.listenTo(this.conrol,"refresh::history",this.onRefreshGrid),this.render(),this.load()},render:function(){this.$el.html(i.templates(this.template,{})),t("[data-js-depth-filter]",this.$el).html((new this.depthFilterModel.view({model:this.depthFilterModel})).$el)},updateHistory:function(){this.table=new u({el:t("[data-js-history-table]",this.$el),launches:this.launches,items:this.items,collectionItems:this.collectionItems})},load:function(){this.table&&this.table.destroy(),this.toggleIsLoad("show"),o.getHistoryData(this.getItemsForLoad(),this.depth).done(function(e){this.parseHistoryItems(e),this.loaded+=this.toLoadIds.length,this.updateHistory(),this.toggleIsLoad("hide")}.bind(this)).fail(function(e){i.ajaxFailMessenger(e,"loadHistory")})},parseHistoryItems:function(e){var t=[],n=[];l.forEach(e,function(e){var r=e.launchNumber;e.id=e.launchId,l.forEach(e.resources,function(e){var t={id:e.id,name:e.name,description:e.description||"",tags:e.tags,launches:{},uniqueId:e.uniqueId};t.launches[r]=[e];if(l.isEmpty(n))n.push(t);else{var i=l.find(n,function(e){return e.uniqueId===t.uniqueId});i?i.launches[r]?i.launches[r].push(e):i.launches[r]=[e]:n.push(t)}}),delete e.resources,t.push(e)}),t.sort(function(e,t){return parseInt(e.launchNumber)-parseInt(t.launchNumber)}),this.launches.add(t,{merge:!0}),this.items.add(n,{merge:!0})},onLoadMore:function(e){t(e.currentTarget).hasClass("disabled")||(e.preventDefault(),this.load())},resetGrid:function(){this.launches=new n.Collection,this.items=new n.Collection,this.loaded=0,this.toLoadIds=[]},onRefreshGrid:function(){this.resetGrid(),this.load()},onChangeDepth:function(){var e=this.depthFilterModel.getInfo();this.depth=e.value,this.storage.set("historyDepth",e.value),h.trackingDispatcher.trackEventNumber(132),this.onRefreshGrid()},getItemsForLoad:function(){return this.toLoadIds=this.ids.slice(this.loaded,this.loaded+this.qty),this.toLoadIds},toggleIsLoad:function(e){var n=t("[data-js-load-more]",this.$el),r=t("[data-js-history-loader]",this.$el);n[(e==="hide"?"remove":"add")+"Class"]("disabled"),r[e](),this.loaded>=this.ids.length&&n.hide()},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.html(""),delete this}});return p}),define("launches/LaunchUtils",["require"],function(e){"use strict";var t={calculateFilterOptions:function(e){var t=e.split("&"),n=[],r={toAsign:{}};return r.toAsign.noChildFilter=!1,r.toAsign.logOptions={},r.toAsign.historyOptions={},_.each(t,function(e){var t=e.split("="),i=t[0].split("."),s=i[0],o,u;s==="filter"&&(t[0]==="filter.eq.has_childs"&&(r.toAsign.noChildFilter=!0),n.push({condition:i[1],filtering_field:i[2],value:decodeURIComponent(t[1])})),s==="page"&&(i[1]==="page"?r.toAsign.pagingPage=parseInt(t[1],10):i[1]==="size"?r.toAsign.pagingSize=parseInt(t[1],10):i[1]==="sort"&&(o=t[1].split("%2C"),r.toAsign.selection_parameters=JSON.stringify({is_asc:o[1]==="ASC",sorting_column:o[0]}))),i.shift(),u=i.join("."),s==="log"&&(r.toAsign.logOptions[u]=t[1]),s==="history"&&(r.toAsign.historyOptions[u]=t[1])},this),r.newEntities=JSON.stringify(n),r.entities=JSON.stringify(n),r}};return t}),define("launches/common/LaunchSuiteStepItemCollection",["require","backbone","jquery","underscore","filters/SingletonLaunchFilterCollection","filters/FilterModel","storage/SingletonAppStorage","launches/common/LaunchSuiteStepItemModel","storage/SingletonUserStorage","callService","coreService","dataUrlResolver","launches/LaunchUtils"],function(e){"use strict";var t=e("backbone"),n=e("jquery"),r=e("underscore"),i=e("filters/SingletonLaunchFilterCollection"),s=e("filters/FilterModel"),o=e("storage/SingletonAppStorage"),u=e("launches/common/LaunchSuiteStepItemModel"),a=e("storage/SingletonUserStorage"),f=e("callService"),l=e("coreService"),c=e("dataUrlResolver"),h=f.call,p=e("launches/LaunchUtils"),d=t.Collection.extend({model:u,initialize:function(e){this.listenTo(this,"remove",this.onRemove),this.userStorage=new a,this.pagingPage=1,this.pagingTotalPages=1,this.pagingSize=this.userStorage.get("launchPageSize")||50,this.noChildFilter=!1,this.context=e.context,this.appStorage=new o,this.listenTo(this.appStorage,"change:launchDistinct",this.changeLaunchDistinct)},changeLaunchDistinct:function(){this.load()},checkForDifference:function(e,t,n){return!e&&this.launchModel||e&&!this.launchModel||!t&&this.parentModel||t&&!this.parentModel?!0:e&&e.id!==this.launchModel.id||t&&t.id!==this.parentModel.id?!0:this.filterModel?(!n.selection_parameters&&(n.selection_parameters=""),n.entities.replace(/ /g,"")!==this.filterModel.get("entities").replace(/ /g,"")||n.selection_parameters.replace(/ /g,"")!==this.filterModel.get("selection_parameters").replace(/ /g,"")?!0:!1):!0},update:function(e,t,r,o){var u=n.Deferred(),a=r||"",f=this,l,c,h,d,v,m;this.crumbs=o,this.pagingPage=1,this.pagingTotalPages=1,v=p.calculateFilterOptions(a);for(m in v.toAsign)this[m]=v.toAsign[m];var l={};return l.entities=v.entities,d=this.checkForDifference(e,t,l),this.launchModel=e,this.parentModel=t,!e&&!t?(h=new i,h.ready.done(function(){c=h.where({active:!0})[0],c||(c=new s({temp:!0,id:"all"})),f.setSelfModels(c).done(function(){u.resolve()}).fail(function(){u.reject()})})):(l.temp=!0,c=new s(l),l.selection_parameters||c.set("selection_parameters",'{"is_asc": true, "sorting_column": "start_time"}'),d?f.setSelfModels(c).done(function(){u.resolve()}).fail(function(){u.reject()}):(this.afterLoadActions(),u.resolve())),u.promise()},restorePath:function(){r.each(this.models,function(e){e.restorePath()})},getPathByLogItemId:function(e){var t=this.getParamsFilter(),n=window.location.hash.split("?")[0];return t.push("log.item="+e),this.logOptions.history&&t.push("log.history="+this.logOptions.history),this.logOptions.retry&&t.push("log.retry="+this.logOptions.retry),n+"?"+t.join("&")},getPathByPredefinedFilter:function(e){var t=this.getParamsFilter(),n=window.location.hash.split("?")[0];return e&&t.push("predefined_filter="+e),n+"?"+t.join("&")},loadLogLevelById:function(){var e=n.Deferred(),t=this;return l.getTestItemInfo(this.logOptions.item).done(function(n){t.pagingData={number:1,size:t.pagingSize,totalElements:1,totalPages:1},t.reset(new u(n)),t.trigger("change:log:item",n.id,!1),e.resolve()}).fail(function(t){e.reject(t)}),e},setPredefinedFilter:function(e){this.predefinedFilter=e,this.trigger("change:predefined_filter",e),this.load()},setPaging:function(e,t){this.pagingPage=e,this.pagingTotalPages=e,t&&(this.pagingSize=t,this.userStorage.set("launchPageSize",t)),this.activateChangeParamsTrigger(),this.load()},setLogItem:function(e,t){if(!this.get(e)){console.log("log item not found");return}this.logOptions={item:e,history:e},!t&&this.trigger("change:log:item",e)},setSelfModels:function(e){return this.filterModel&&this.stopListening(this.filterModel),this.filterModel=e,this.listenTo(this.filterModel,"change:newEntities change:entities",this.changeFilterOptions),this.listenTo(this.filterModel,"change:newSelectionParameters",this.changeSelectionParameters),this.listenTo(this.filterModel,"discard",this.load),this.activateChangeParamsTrigger(),this.load()},activateLogsItem:function(e){var t=this.get(e);t&&this.trigger("activate:log",t)},changeSelectionParameters:function(){this.load(),this.activateChangeParamsTrigger()},changeFilterOptions:function(e,t){if(e.get("newEntities")!==""||e.changed.entities&&e.get("entities")!==e._previousAttributes.newEntities)this.pagingPage=1,this.load();this.activateChangeParamsTrigger()},setPartUrl:function(e){r.each(this.models,function(t){t.set({filter_url:e})})},getInfoByCollection:function(){var e=n.Deferred(),t=this;return this.checkType().done(function(n){e.resolve({filterModel:t.filterModel,parentModel:t.parentModel,launchModel:t.launchModel,type:n})}),e},getInfoLog:function(){return this.logOptions},setInfoLog:function(e){this.logOptions=e},checkType:function(e){var t=e||this.toJSON(),i=n.Deferred(),s=this,o={},u;if(this.logOptions.item)return i.resolve("LOG"),i;if(this.historyOptions.item)return i.resolve("HISTORY"),i;r.each(t,function(e){o[e.type]=!0}),u=r.keys(o);if(u.length===0)this.launchModel?this.noChildFilter?i.resolve("STEP"):this.launchModel&&!this.parentModel?i.resolve("SUITE"):this.loadSuiteStepChildren().done(function(e){e.content.length?s.checkType(e.content).done(function(e){i.resolve(e)}):i.resolve("STEP")}):i.resolve("LAUNCH");else if(u.length===1)i.resolve(u[0]||"LAUNCH");else{var a=u[0],f=["SUITE","STORY","TEST","SCENARIO","STEP","BEFORE_CLASS","BEFORE_GROUPS","BEFORE_METHOD","BEFORE_SUITE","BEFORE_TEST","AFTER_CLASS","AFTER_GROUPS","AFTER_METHOD","AFTER_SUITE","AFTER_TEST"];r.each(f,function(e){if(r.contains(u,e))return a=e,!1}),i.resolve(a)}return i},getParamsFilter:function(e){var t=[];return t.push("page.page="+this.pagingPage),t.push("page.size="+this.pagingSize),e?t:(t=t.concat(this.filterModel.getOptions()),t)},activateChangeParamsTrigger:function(){var e,t,n="";return this.logOptions.item?this.getParamsFilter().join("&"):(this.historyOptions.item||(this.launchModel||(n=this.getParamsFilter(!0).join("&"),this.trigger("change:params",n)),e=this.getParamsFilter(),this.launchModel&&(t=[],r.each(this.logOptions,function(e,n){t.push("log."+n+"="+e)}),t=t.concat(e),n=t.join("&"),this.trigger("change:params",n))),n)},load:function(e){var t=this,r;this.appStorage.get("launchDistinct")==="latest"&&this.context!=="userdebug"?r=c.getGridUrl("launch/latest"):r=c.getGridUrl("launch",this.context==="userdebug");var i=this.getParamsFilter(),s;return this.launchModel&&(r=c.getGridUrl("suit"),!this.launchModel.get("failLoad")&&i.push("filter.eq.launch="+this.launchModel.get("id")),this.parentModel?(this.noChildFilter&&i.push("filter.in.path="+this.parentModel.get("id")),!this.noChildFilter&&i.push("filter.eq.parent="+this.parentModel.get("id"))):!this.noChildFilter&&i.push("filter.size.path=0")),this.predefinedFilter&&i.push("predefined_filter="+this.predefinedFilter),i&&i.length&&(r+="?"+i.join("&")),this.request&&this.request.abort(),this.trigger("loading",!0),this.reset([]),s=n.Deferred(),this.request=h("GET",r).done(function(n){if(!n.content.length&&e&&n.page.totalPages!==0)return t.setPaging(n.page.totalPages),!1;t.pagingData=n.page,t.parse(n),t.afterLoadActions(),s.resolve(n)}).fail(function(e,n){n==="abort"?s.resolve():s.reject(),t.afterLoadActions()}),s},afterLoadActions:function(){this.logOptions&&this.logOptions.item&&this.trigger("set:log:item",this.logOptions.item),this.trigger("loading",!1)},loadSuiteStepChildren:function(){var e=c.getGridUrl("suit")+"?filter.eq.launch="+this.launchModel.get("id")+"&filter.eq.parent="+this.parentModel.get("id");return h("GET",e)},onRemove:function(){this.load(this.lastParams)},validateForAllCases:function(){var e=this.filterModel.getEntitiesObj(),t=r.find(e,function(e){return e.filtering_field==="has_childs"});return!!t},parse:function(e){var t=this,n=this.getParamsFilter().join("&");r.each(e.content,function(i){var s=i;s.filter_url=n,s.issue&&(s.issue=JSON.stringify(s.issue)),s.tags&&(s.tags=JSON.stringify(s.tags)),t.launchModel?(s.parent_launch_owner=t.launchModel.get("owner"),s.parent_launch_status=t.launchModel.get("status"),s.parent_launch_isProcessing=t.launchModel.get("isProcessing"),s.parent_launch_number=t.launchModel.get("number"),s.parent_launch_investigate=t.launchModel.getToInvestigate()):r.each(e.content,function(e){var t=e;t.type="LAUNCH"})}),this.validateForAllCases()?(r(e.content).chain().sortBy(function(e){var t=r.keys(e.path_names);return e.path_names[t[1]]}).sortBy(function(e){var t=r.keys(e.path_names);return e.path_names[t[0]]}).value(),this.reset(e.content)):this.reset(e.content)}});return d}),define("modals/modalLaunchesMerge",["require","jquery","underscore","modals/_modalView","app","util","coreService","model/SingletonAppModel","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("modals/_modalView"),i=e("app"),s=e("util"),o=e("coreService"),u=e("model/SingletonAppModel"),a=e("localization"),f=i.getInstance(),l=new u,c=r.extend({template:"tpl-modal-launches-merge",className:"modal-launches-merge",initialize:function(e){var t=this.getRenderOptions(e.items);this.launches=e.items,this.minStartTime=t.startTime,this.maxEndTime=t.endTime,this.render(t),this.showLoading(),this.$el.addClass("disable-state")},events:{"change [data-js-select-type-input]":"onChangeType","click [data-js-submit]":"submit","click [data-js-close]":"onClickClose","click [data-js-cancel]":"onClickCancel","change [data-js-merge-tags]":"disableHideBackdrop","change [data-js-description]":"disableHideBackdrop","change [data-js-merge-name]":"disableHideBackdrop","change [data-js-extend-checkbox]":"disableHideBackdrop"},getRenderOptions:function(e){var t={description:[],endTime:0,startTime:Number.POSITIVE_INFINITY,tags:[],dateFormat:s.dateFormat,owner:f.userModel.get("name").replace("_"," ").capitalize(),name:e[0].get("name")};return n.forEach(e,function(e){var n=e.get("start_time"),r=e.get("end_time"),i=e.get("description");t.tags.push(e.getTags()),n<t.startTime&&(t.startTime=n,this.lastLaunch=e.get("id")),r>t.endTime&&(t.endTime=r),i&&t.description.push(i.trim())},this),t.description=t.description.join(f.commentsSeparator),t.tags=n.union.apply(this,t.tags),t},render:function(e){var t=[{btnText:a.ui.cancel,btnClass:"rp-btn-cancel",label:"data-js-cancel"},{btnText:a.ui.merge,btnClass:"rp-btn-submit",label:"data-js-submit"}];e.footerButtons=t,this.$el.html(s.templates(this.template,e)),this.setupAnchors(),s.hintValidator(this.$name,{validator:"minMaxRequired",type:"mergeName",min:3,max:256}),s.hintValidator(this.$description,{validator:"minMaxNotRequired",type:"launchDescription",min:0,max:1024}),this.$description.trigger("validate"),s.setupSelect2Tags(this.$tags),this.delegateEvents()},onChangeType:function(e){this.$el.removeClass("disable-state"),this.mergeType=t(e.currentTarget).val(),t("[data-js-current-type]",this.$el).removeClass("deep-merge linear-merge"),this.mergeType==="BASIC"?(t("[data-js-current-type]",this.$el).addClass("linear-merge"),f.trackingDispatcher.trackEventNumber(522)):(t("[data-js-current-type]",this.$el).addClass("deep-merge"),f.trackingDispatcher.trackEventNumber(523))},onKeySuccess:function(){this.submit()},setupAnchors:function(){this.$name=t("[data-js-merge-name]",this.$el),this.$description=t("[data-js-description]",this.$el),this.$tags=t("[data-js-merge-tags]",this.$el),this.$extendWithOriginal=t("[data-js-extend-checkbox]",this.$el)},onClickClose:function(){f.trackingDispatcher.trackEventNumber(80)},onClickCancel:function(){f.trackingDispatcher.trackEventNumber(81)},submit:function(){var e={},r=this;t("input",this.$el).trigger("validate"),t(".validate-error",this.$el).length||(e={tags:this.$tags.val().trim().split(","),start_time:this.minStartTime,end_time:this.maxEndTime,name:this.$name.val(),description:this.$description.val(),launches:n.map(this.launches,function(e){return e.get("id")}),extendSuitesDescription:this.$extendWithOriginal.is(":checked"),merge_type:this.mergeType},f.trackingDispatcher.trackEventNumber(82),this.showLoading(),o.mergeLaunches(e).done(function(e){r.successClose(e,r.lastLaunch),s.ajaxSuccessMessenger("mergeLaunches"),f.router.navigate("#"+l.get("projectId")+"/launches/all/"+e.id,{trigger:!0})}).fail(function(e){s.ajaxFailMessenger(e,"mergeLaunches"),r.hide()}))}});return c}),define("launches/multipleActions/mergeAction",["require","backbone-epoxy","modals/modalLaunchesMerge"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("modals/modalLaunchesMerge"),r=t.View.extend({initialize:function(e){var t=new n({items:e.items});this.async=t.show()},getAsync:function(){return this.async}});return r}),define("modals/modalLaunchesCompare",["require","jquery","underscore","modals/_modalView","util","coreService","newWidgets/WidgetService","newWidgets/WidgetModel","newWidgets/widgets/launchesComparison/index"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("modals/_modalView"),i=e("util"),s=e("coreService"),o=e("newWidgets/WidgetService"),u=e("newWidgets/WidgetModel"),a=e("newWidgets/widgets/launchesComparison/index"),f=r.extend({template:"tpl-modal-launches-compare",className:"modal-launches-compare",initialize:function(e){this.ids=n.map(e.items,function(e){return e.get("id")}),this.$el.addClass("load"),this.render(),this.load()},load:function(){var e=this;s.getCompare(this.ids.join(",")).done(function(t){e.$el.removeClass("load"),e.createChart(t)}).fail(function(t){i.ajaxFailMessenger(t,"errorUpdateWidget"),e.hide()})},onKeySuccess:function(){},createChart:function(e){var r="launches_comparison_chart",i=this;t.when(o.getSettingsGadget(r)).done(function(s){var o=s,f={id:n.uniqueId()+"-"+r,content_parameters:{gadget:r},content:e};n.each(o.uiControl,function(e){if(e.control==="static"&&e.options.action==="criteria")return f.content_parameters.content_fields=e.options.fields,!1}),i.widget=new a({isPreview:!1,unclickableChart:!0,model:new u(f,{parse:!0})}),i.$el.addClass("ready"),setTimeout(function(){t("[data-js-widget-content]",this.$el).append(i.widget.$el),i.widget.onShow()},500)})},render:function(){this.$el.html(i.templates(this.template,{}))},onHide:function(){this.widget.destroy()}});return f}),define("launches/multipleActions/compareAction",["require","exports","module","jquery","underscore","backbone-epoxy","util","core/components","coreService","app","modals/modalLaunchesCompare"],function(e,t,n){"use strict";var r=e("jquery"),i=e("underscore"),s=e("backbone-epoxy"),o=e("util"),u=e("core/components"),a=e("coreService"),f=e("app"),l=e("modals/modalLaunchesCompare"),c=f.getInstance(),h=s.View.extend({initialize:function(e){var t=new l({items:e.items});this.async=t.show()},getAsync:function(){return this.async}});return h}),define("launches/multipleActions/editDefectAction",["require","jquery","backbone-epoxy","modals/modalDefectEditor"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("modals/modalDefectEditor"),i=n.View.extend({initialize:function(e){var n=this,i=new r({items:e.items});this.async=t.Deferred(),i.show().done(function(e){n.async.resolve(e)}).fail(function(){n.async.resolve()})},getAsync:function(){return this.async}});return i}),define("launches/multipleActions/ignoreAAAction",["require","underscore","backbone-epoxy","util","modals/modalConfirm","coreService","localization"],function(e){"use strict";var t=e("underscore"),n=e("backbone-epoxy"),r=e("util"),i=e("modals/modalConfirm"),s=e("coreService"),o=e("localization"),u=n.View.extend({initialize:function(e){var n=e.items,u=n.length>1?o.ui.items:o.ui.item,a,f;a=n.length>1?u:u+" '"+n[0].get("name").bold()+"'",f=new i({headerText:r.replaceTemplate(o.dialogHeader.ignoreAA,u),bodyText:r.replaceTemplate(o.dialog.msgIgnoreAA,a),cancelButtonText:o.ui.cancel,okButtonText:o.ui.ignore,okButtonDanger:!0,confirmFunction:function(){var e,i={issues:[]};return t.each(n,function(e){var t=e.getIssue();t.ignoreAnalyzer=!0,i.issues.push({test_item_id:e.get("id"),issue:t})},this),e=n.length>1?"ignoreItemsAA":"ignoreItemAA",s.updateDefect(i).done(function(){r.ajaxSuccessMessenger(e)}).fail(function(t){r.ajaxFailMessenger(t,e)})}}),this.async=f.show()},getAsync:function(){return this.async}});return u}),define("launches/multipleActions/includeAAAction",["require","underscore","backbone-epoxy","util","modals/modalConfirm","coreService","localization"],function(e){"use strict";var t=e("underscore"),n=e("backbone-epoxy"),r=e("util"),i=e("modals/modalConfirm"),s=e("coreService"),o=e("localization"),u=n.View.extend({initialize:function(e){var n=e.items,u=n.length>1?o.ui.items:o.ui.item,a,f;a=n.length>1?u:u+" '"+n[0].get("name").bold()+"'",f=new i({headerText:r.replaceTemplate(o.dialogHeader.includeAA,u),bodyText:r.replaceTemplate(o.dialog.msgIncludeAA,a),cancelButtonText:o.ui.cancel,okButtonText:o.ui.include,okButtonDanger:!1,confirmFunction:function(){var e,i={issues:[]};return t.each(n,function(e){var t=e.getIssue();t.ignoreAnalyzer=!1,i.issues.push({test_item_id:e.get("id"),issue:t})},this),e=n.length>1?"includeItemsAA":"includeItemAA",s.updateDefect(i).done(function(){r.ajaxSuccessMessenger(e)}).fail(function(t){r.ajaxFailMessenger(t,e)})}}),this.async=f.show()},getAsync:function(){return this.async}});return u}),define("launches/LaunchMultipleSelect",["require","jquery","underscore","backbone","backbone-epoxy","app","launches/common/LaunchSuiteStepItemModel","util","launches/multipleActions/mergeAction","launches/multipleActions/compareAction","launches/multipleActions/editDefectAction","launches/multipleActions/forceFinishAction","launches/multipleActions/removeAction","launches/multipleActions/changeModeAction","launches/multipleActions/postBugAction","launches/multipleActions/ignoreAAAction","launches/multipleActions/includeAAAction","launches/multipleActions/loadBugAction","launches/multipleActions/unlinkIssueAction","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone"),i=e("backbone-epoxy"),s=e("app"),o=e("launches/common/LaunchSuiteStepItemModel"),u=e("util"),a=e("launches/multipleActions/mergeAction"),f=e("launches/multipleActions/compareAction"),l=e("launches/multipleActions/editDefectAction"),c=e("launches/multipleActions/forceFinishAction"),h=e("launches/multipleActions/removeAction"),p=e("launches/multipleActions/changeModeAction"),d=e("launches/multipleActions/postBugAction"),v=e("launches/multipleActions/ignoreAAAction"),m=e("launches/multipleActions/includeAAAction"),g=e("launches/multipleActions/loadBugAction"),y=e("launches/multipleActions/unlinkIssueAction"),b=e("localization"),w=s.getInstance(),E=i.View.extend({className:"multi-select-item",template:"tpl-launch-multiple-selected-item",events:{"click [data-ja-close-item]":"onClickClose"},bindings:{"[data-js-item-name]":'text: format("$1$2", name, numberText)',":el":'attr: {title: invalidMessage}, classes: {"error-validate": invalidMessage}'},initialize:function(){this.render(),this.listenTo(this.model,"remove",this.destroy)},render:function(){this.$el.html(u.templates(this.template,{}))},onClickClose:function(){var e=this.model.get("type");switch(e){case"LAUNCH":w.trackingDispatcher.trackEventNumber(67);break;case"SUITE":case"TEST":w.trackingDispatcher.trackEventNumber(100.2);break;default:w.trackingDispatcher.trackEventNumber(161)}this.model.trigger("deleteTicket",this.model),this.model.set({select:!1,invalidMessage:""})},onDestroy:function(){this.$el.remove()}}),S=r.Collection.extend({model:o}),x=i.View.extend({template:"tpl-launch-multiple-selected",events:{"click [data-ja-close]":"onClickClose","click [data-js-proceed]":"onClickProceed"},actionValidators:{merge:function(){this.collection.models.length===1?this.collection.models[0].set({invalidMessage:b.launches.selectMoreItem}):n.each(this.collection.models,function(e){e.set({invalidMessage:e.validate.merge()})})},compare:function(){n.each(this.collection.models,function(e){e.set({invalidMessage:""})})},editdefect:function(){n.each(this.collection.models,function(e){e.set({invalidMessage:e.validate.editDefect()})})},changemode:function(){n.each(this.collection.models,function(e){e.set({invalidMessage:e.validate.changeMode()})})},forcefinish:function(){n.each(this.collection.models,function(e){e.set({invalidMessage:e.validate.forceFinish()})})},remove:function(){n.each(this.collection.models,function(e){e.set({invalidMessage:e.validate.remove()})})},postbug:function(){n.each(this.collection.models,function(e){e.set({invalidMessage:e.validate.postbug()})})},loadbug:function(){n.each(this.collection.models,function(e){e.set({invalidMessage:e.validate.loadbug()})})},unlinkIssue:function(){n.each(this.collection.models,function(e){e.set({invalidMessage:e.validate.unlinkIssue()})})},includeaa:function(){n.each(this.collection.models,function(e){e.set({invalidMessage:e.validate.includeaa()})})},ignoreaa:function(){n.each(this.collection.models,function(e){e.set({invalidMessage:e.validate.ignoreaa()})})}},actionCall:{merge:function(){var e=this;this.mergeAction=new a({items:this.collection.models}),this.mergeAction.getAsync().done(function(){e.collectionItems.load(),e.mergeAction=null,e.reset()})},compare:function(){var e=this;this.compareAction=new f({items:this.collection.models}),this.compareAction.getAsync().done(function(){e.compareAction=null,e.reset()})},editdefect:function(){var e=this;this.editDefectAction=new l({items:this.collection.models}),this.editDefectAction.getAsync().done(function(t){t&&t.action==="postBug"?e.actionCall.postbug.call(e):t&&t.action==="loadBug"?e.actionCall.loadbug.call(e):t&&t.action==="unlinkIssue"?e.setAction("unlinkIssue"):(e.collectionItems.load(),e.reset()),e.editDefectAction=null})},changemode:function(){var e=this;p({items:this.collection.models}).done(function(){e.collectionItems.load(!0),e.reset()})},forcefinish:function(){var e=this;c({items:this.collection.models}).done(function(){e.collectionItems.load(),e.reset()})},remove:function(){var e,t=this;h({items:this.collection.models}).done(function(){t.compareAction=null,t.collectionItems.load(!0),e=t.collectionItems.parentModel||t.collectionItems.launchModel,e&&n.each(e.collection.models,function(e){e.updateData(!0)}),t.reset()})},postbug:function(){var e=this;d({items:this.collection.models}).done(function(){e.reset()})},loadbug:function(){var e=this;g({items:this.collection.models}).done(function(){e.reset()})},unlinkIssue:function(){var e=this;this.unlinkIssueAction=new y({items:this.collection.models}),this.unlinkIssueAction.getAsync().done(function(){e.collectionItems.load(),e.reset()})},includeaa:function(){var e=this;this.includeAAAction=new m({items:this.collection.models}),this.includeAAAction.getAsync().done(function(){e.collectionItems.load(),e.includeAAAction=null,e.reset()})},ignoreaa:function(){var e=this;this.ignoreAAAction=new v({items:this.collection.models}),this.ignoreAAAction.getAsync().done(function(){e.collectionItems.load(),e.ignoreAAAction=null,e.reset()})}},initialize:function(e){this.collectionItems=e.collectionItems,this.collection=new S,this.activate=!1,this.render(),this.listenTo(this.collectionItems,"change:select",this.onChangeSelect),this.listenTo(this.collectionItems,"reset",this.onResetCollectionItems),this.listenTo(this.collection,"change:select",this.onUnCheckItem),this.listenTo(this.collection,"add",this.onAddItem),this.listenTo(this.collection,"deleteTicket",this.onDeleteTicket),this.currentAction="",this.scrollItems=u.setupBaronScroll(t("[data-js-multi-select-items]",this.$el))},onChangeSelect:function(e,t){t?!this.collection.get(e.get("id"))&&this.collection.add(e):this.collection.remove(e.get("id")),this.checkStatus(e),u.setupBaronScrollSize(this.scrollItems,{maxHeight:120}),this.scrollItems.scrollTop(this.scrollItems.get(0).scrollHeight)},onDeleteTicket:function(e){var t=this.collectionItems.get(e.get("id"));this.collection.remove(e),t&&t.set("select",!1)},onResetCollectionItems:function(){var e=this;n.each(this.collection.models,function(t){var n=e.collectionItems.get(t.get("id"));n&&n.set({select:!0})})},checkStatus:function(e){e.trigger("before:toggle:multipleSelect"),this.collection.models.length&&!this.activate&&(this.trigger("activate:true"),this.activate=!0),!this.collection.models.length&&this.activate&&(this.trigger("activate:false"),this.activate=!1),e.trigger("toggle:multipleSelect")},onUnCheckItem:function(e){var t=this.collectionItems.get(e.get("id"));e.set({invalidMessage:""}),t||(this.collection.remove(e),this.checkStatus(e)),this.currentAction&&(this.actionValidators[this.currentAction].call(this),this.checkInvalidStatus())},checkInvalidStatus:function(){var e,r,i=!0;return n.each(this.collection.models,function(e){return e.get("invalidMessage")!==""?(i=!1,!1):!0}),i?(this.$el.removeClass("invalid-state"),this.currentAction=""):(e=t("[data-js-proceed]",this.$el),r=n.every(this.collection.toJSON(),function(e){return e.invalidMessage})?"addClass":"removeClass",e[r]("disabled"),this.$el.addClass("invalid-state")),i},setAction:function(e){this.actionValidators[e]&&(this.actionValidators[e].call(this),this.currentAction=e,this.checkInvalidStatus()&&this.actionCall[e].call(this))},reset:function(){var e,t;while(this.collection.models.length)e=this.collection.at(0),e.get("select")?e.set({select:!1}):(t=this.collectionItems.get(e.get("id")),t&&t.set({issue:e.get("issue")}),this.collection.remove(e),this.checkStatus(e))},resetDefaultState:function(){this.reset(),this.currentAction="",this.checkInvalidStatus()},onClickProceed:function(){var e=this,t=n.filter(this.collection.models,function(e){return e.get("invalidMessage")!==""});this.collectionItems.checkType().done(function(e){switch(e){case"LAUNCH":w.trackingDispatcher.trackEventNumber(70);break;case"SUITE":case"TEST":w.trackingDispatcher.trackEventNumber(100.4);break;default:w.trackingDispatcher.trackEventNumber(162)}}),n.each(t,function(t){var n=e.collectionItems.get(t.id);t.set({select:!1}),e.currentAction==="unlinkIssue"&&n&&e.collectionItems.length&&n.set("select",!1)}),this.setAction(this.currentAction)},onClickClose:function(){this.collectionItems.checkType().done(function(e){switch(e){case"LAUNCH":w.trackingDispatcher.trackEventNumber(68);break;case"SUITE":case"TEST":w.trackingDispatcher.trackEventNumber(100.3);break;default:w.trackingDispatcher.trackEventNumber(161)}}),this.reset()},render:function(){this.$el.html(u.templates(this.template,{}))},onAddItem:function(e){t("[data-js-multi-select-items]",this.$el).append((new E({model:e})).$el)},onDestroy:function(){this.collection.destroy(),this.$el.html("")}});return x}),define("launches/LaunchCrumbs",["require","filters/SingletonLaunchFilterCollection","jquery","underscore","backbone","backbone-epoxy","app","util","filters/FilterModel","callService","dataUrlResolver","storage/SingletonAppStorage","localization"],function(e){"use strict";var t=e("filters/SingletonLaunchFilterCollection"),n=e("jquery"),r=e("underscore"),i=e("backbone"),s=e("backbone-epoxy"),o=e("app"),u=e("util"),a=e("filters/FilterModel"),f=e("callService"),l=e("dataUrlResolver"),c=f.call,h=e("storage/SingletonAppStorage"),p=e("localization"),d=o.getInstance(),v=s.Model.extend({defaults:{id:"",name:"",url:"",partUrl:"",level:"",type:"FILTER",isProcessing:!1,number:"",listView:!1,failLoad:!1,nextModelId:"",afterListView:!1},computeds:{fullName:{deps:["name","number"],get:function(e,t){return t?e+" #"+t:e}}},initialize:function(){this.appStorage=new h,this.ready=n.Deferred(),this.listenTo(this,"change:id",this.onChangeId),this.updateData()},getToInvestigate:function(){var e;return this.get("parent_launch_investigate")?this.get("parent_launch_investigate"):(e=this.get("statistics"),e&&e.defects&&e.defects.to_investigate?e.defects.to_investigate.total:0)},onChangeId:function(){this.ready&&this.ready.resolve(),this.ready=n.Deferred(),this.updateData()},updateData:function(e){var n=this,r,i;if(this.get("level")==="filter")this.get("id")==="all"?this.appStorage.get("launchDistinct")==="latest"?this.set({name:p.launches.latestLaunches_short}):this.set({name:p.launches.allLaunches_short}):(r=new t,r.ready.done(function(){var e=r.get(n.get("id"));e?(n.set({name:e.get("name"),failLoad:!1}),n.stopListening(e),n.listenTo(e,"change:name",function(){n.set({name:e.get("name")})})):n.appStorage.get("launchDistinct")==="latest"?n.set({name:p.launches.latestLaunches_short}):n.set({name:p.launches.allLaunches_short})})),this.ready.resolve();else{if(!e){if(this.collection.cacheModel&&this.collection.cacheModel.get("id")===this.get("id")){this.set(this.collection.cacheModel.toJSON()),this.ready.resolve();return}if(this.collection.lastLogItem&&this.collection.lastLogItem===this.get("id")){this.ready.resolve();return}}i=l.getProjectBase()+"/"+this.get("level")+"/"+this.get("id"),c("GET",i).done(function(e){e.type=e.type||"LAUNCH",e.failLoad=!1,n.set(e),n.ready.resolve()}).fail(function(){n.set({failLoad:!0}),n.ready.resolve()})}}}),m=i.Collection.extend({model:v,initialize:function(e,t){this.context=t.context,this.appStorage=new h,this.listenTo(this.appStorage,"change:launchDistinct",this.updateLatestMode)},updateLatestMode:function(){var e=this.get("all");e&&(this.appStorage.get("launchDistinct")==="latest"?e.set({name:p.launches.latestLaunches_short}):e.set({name:p.launches.allLaunches_short}))},updateUrlModels:function(){var e="";r.each(this.models,function(t){t.set({url:e+t.get("partUrl").replace("|","?")}),e+=t.get("partUrl").replaceAll("|",encodeURIComponent("|"))})},forceUpdate:function(){r.each(this.models,function(e){e.updateData(!0)})},update:function(e,t){var i=n.Deferred(),s=[],o;this.mainFilterId="all",this.cacheModel=t,r.each(this.models,function(e){s.push(e.get("id"))});for(var u=0;u<Math.max(e.length,s.length);u++)if(e[u]){var f=!1,l="",c="item",h=e[u].split("|"),p=h[0],d=h[1]?"|"+decodeURIComponent(h[1]).replace(/,/g,"%2C"):"";u===0?(c="filter",this.mainFilterId=p,o=new a({id:p,context:this.context}),l=o.get("url")+d,o.destroy()):(l+="/"+p+d,~d.indexOf("filter.eq.has_child")&&(f=!0),c=u===1?"launch":"item"),s[u]?this.get(s[u]).set({id:p,level:c,partUrl:l,listView:f,afterListView:!1}):this.add({id:p,level:c,partUrl:l,listView:f}),u>0&&this.models[u-1].set({nextModelId:p})}else this.remove(s[u]);this.updateUrlModels();var v=this.models[this.models.length-1],m=null,g=null;if(this.models.length<=1)this.trigger("lost:launch",!1),i.resolve(m,g);else{var y=this;this.models[1].ready.always(function(){m=y.models[1],y.models.length>2?v.ready.always(function(){g=v,m.get("failLoad")?v.get("failLoad")?i.reject(1):y.checkLostLaunch(i,m,g):(y.trigger("lost:launch",!1),v.get("failLoad")?i.reject(2):i.resolve(m,g))}):m.get("failLoad")?y.models.length===2&&v.get("level")==="item"?(g=v,i.resolve(m,g)):i.reject(1):i.resolve(m,g)})}return i.promise()},isLaunchLost:function(){var e=r.find(this.models,function(e){return e.get("level")==="launch"});return e&&!e.get("failLoad")},checkLostLaunch:function(e,t,i){var s=this;n.when.apply(this,r.map(this.models,function(e){return e.ready})).always(function(){var t=s.where({failLoad:!0});t.length===1&&t[0].get("level")==="launch"&&s.models.length>2&&s.models[1].set("id",s.models[2].get("launchId")).ready.done(function(){var t=s.models[1].get("partUrl").split("|");t[0]="/"+s.models[1].get("id"),s.models[1].set({partUrl:t.join("|")}),s.updateUrlModels(),e.resolve(s.models[1],i),s.trigger("lost:launch",!0)}).fail(function(){e.reject(1)})})}}),g=s.View.extend({tagName:"li",className:"crumb",template:"tpl-launch-crumb",templatePath:"tpl-launch-crumb-path",bindings:{"[data-js-name]":"text: fullName","[data-js-link]":"text: fullName, attr: {href: url}","[data-js-auto-analize]":"classes: {visible: isProcessing}","[data-js-list-view-icon]":"classes: {hide: not(listView)}","[data-js-arrow-next]":'classes: {"hide": listView}',":el":'classes: {"fail-load": failLoad}'},events:{"click [data-js-link]":"onClickItem"},initialize:function(e){this.context=e.context,this.listenTo(this.model,"remove",this.onRemove),this.listenTo(this.model,"change:afterListView",this.onChangeAfterListView),this.onChangeAfterListView()},onChangeAfterListView:function(){this.model.get("afterListView")?this.renderPathNames():this.render(),this.applyBindings()},render:function(){this.$el.html(u.templates(this.template,{}))},renderPathNames:function(){var e=new a({id:this.model.collection.mainFilterId,context:this.context}),t=e.get("url")+"/"+this.model.get("launchId"),n=[];e.destroy(),r.each(this.model.get("path_names"),function(e,r){t+="/"+r,n.push({name:e,link:t})}),this.$el.html(u.templates(this.templatePath,{pathData:n}))},onClickItem:function(){var e=this.model.collection,t=e.last(),n=t.get("type");switch(n){case"LAUNCH":case"SUITE":case"TEST":this.model.get("id")==="all"?d.trackingDispatcher.trackEventNumber(84):d.trackingDispatcher.trackEventNumber(85);break;default:this.model.get("id")==="all"?d.trackingDispatcher.trackEventNumber(184):d.trackingDispatcher.trackEventNumber(185)}},onRemove:function(){this.destroy()},onDestroy:function(){this.$el.remove(),delete this}}),y=s.View.extend({template:"tpl-launch-crumbs",events:{"click [data-js-switch-mode]":"onClickSwitchMode","click [data-js-restore-lost-path]":"onClickRestorePath"},initialize:function(e){var t=this;this.context=e.context,this.lastModel=null,this.collection=new m([],{context:this.context}),this.listenTo(this.collection,"add",this.onAddCrumb),this.listenTo(this.collection,"lost:launch",function(e){e?n("[data-js-crumbs-container]",t.$el).addClass("lost-path"):n("[data-js-crumbs-container]",this.$el).removeClass("lost-path")}),this.render()},render:function(){this.$el.html(u.templates(this.template,{}))},cacheItem:function(e){this.cacheModel=e},update:function(e,t){var r=this;n("#breadCrumbs",this.$el).addClass("load"),this.collection.update(e,this.cacheModel).done(function(e,i){n("#breadCrumbs",r.$el).removeClass("load"),r.lastModel=i,r.trigger("change:path",e,i,t,r.collection.models[r.collection.models.length-1].get("nextModelId"))}).fail(function(e){r.trigger("fail:load",e)})},setLogItem:function(e,t){var n,r=!1,i;if(this.collection.last().get("listView")||this.collection.last().get("afterListView"))r=!0;e?(this.collection.lastLogItem&&this.collection.remove(this.collection.lastLogItem),this.collection.lastLogItem=e.get("id"),i=e.toJSON(),i.afterListView=r,this.collection.add(i)):(this.collection.lastLogItem=t,this.collection.add({id:t,failLoad:!0})),n=this.collection.models,n.length>1&&n[n.length-2].set({nextModelId:t})},onAddCrumb:function(e){n("[data-js-crumbs-container]",this.$el).append((new g({model:e,context:this.context})).$el)},onClickSwitchMode:function(){var e=this.collection.last(),t=e.get("type");switch(t){case"LAUNCH":case"SUITE":case"TEST":d.trackingDispatcher.trackEventNumber(83);break;default:d.trackingDispatcher.trackEventNumber(183)}n("[data-js-crumbs-container]",this.$el).toggleClass("min-size")},onClickRestorePath:function(){var e=window.location.hash.split("?"),t=e[1]?"?"+e[1]:"";d.router.navigate(this.lastModel.get("url")+t,{trigger:!1}),this.trigger("restore:path"),n("[data-js-crumbs-container]",this.$el).removeClass("lost-path")},setListViewForLastItem:function(){this.collection.last().set({listView:!0})},onDestroy:function(){this.$el.html(""),delete this}});return y}),define("launches/LaunchBodyView",["require","jquery","backbone-epoxy","app","underscore","launches/launchLevel/LaunchControlView","launches/launchLevel/LaunchTableView","launches/suiteLevel/SuiteControlView","launches/suiteLevel/SuiteTableView","launches/stepLevel/StepControlView","launches/stepLevel/StepTableView","launches/logLevel/LogControlView","launches/logLevel/LogBodyView","launches/historyGrid/HistoryControlView","launches/historyGrid/HistoryBodyView","localization","launches/common/LaunchSuiteStepItemCollection","launches/LaunchMultipleSelect","launches/LaunchCrumbs","util","core/StickyHeader"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("app"),i=e("underscore"),s=e("launches/launchLevel/LaunchControlView"),o=e("launches/launchLevel/LaunchTableView"),u=e("launches/suiteLevel/SuiteControlView"),a=e("launches/suiteLevel/SuiteTableView"),f=e("launches/stepLevel/StepControlView"),l=e("launches/stepLevel/StepTableView"),c=e("launches/logLevel/LogControlView"),h=e("launches/logLevel/LogBodyView"),p=e("launches/historyGrid/HistoryControlView"),d=e("launches/historyGrid/HistoryBodyView"),v=e("localization"),m=e("launches/common/LaunchSuiteStepItemCollection"),g=e("launches/LaunchMultipleSelect"),y=e("launches/LaunchCrumbs"),b=e("util"),w=e("core/StickyHeader"),E=r.getInstance(),S=n.View.extend({template:"tpl-launch-body",initialize:function(e){this.context=e.context,this.render(),this.crumbs=new y({el:t("[data-js-crumbs]",this.$el),context:this.context}),this.currentLevel="",this.collectionItems=new m({context:e.context}),this.multipleSelected=new g({el:t("[data-js-multiple-selected]",this.$el),collectionItems:this.collectionItems}),this.listenTo(this.collectionItems,"change:params",this.onChangeParamsFilter),this.listenTo(this.collectionItems,"drill:item",this.onDrillItem),this.listenTo(this.collectionItems,"change:log:item",this.onChangeLogItem),this.listenTo(this.collectionItems,"change:predefined_filter",this.onChangeCollapse),this.listenTo(this.collectionItems,"set:log:item",this.onSetLogItem),this.listenTo(this.crumbs,"change:path",this.onChangeItemCrumbs),this.listenTo(this.crumbs,"restore:path",this.onRestoreItemCrumbs),this.listenTo(this.crumbs,"fail:load",this.onFailCrumbs),this.listenTo(this.multipleSelected,"activate:true",this.onActivateMultipleSelect),this.listenTo(this.multipleSelected,"activate:false",this.onDisableMultipleSelect)},onActivateMultipleSelect:function(){this.trigger("change:level","MULTIPLE"),this.body&&this.body.destroyStickyHeader(),this.stickyHeader&&this.stickyHeader.destroy(),t("[data-js-header-bar]",this.$el).addClass("multiple-select"),this.stickyHeader=new w({fixedBlock:t("[data-js-header-bar]",this.$el),topMargin:0}),this.control&&this.control.activateMultiple()},onDisableMultipleSelect:function(){this.trigger("change:level",this.currentLevel),t("[data-js-header-bar]",this.$el).removeClass("multiple-select"),this.multipleSelected.resetDefaultState(),this.body&&this.body.setupStickyHeader(),this.stickyHeader&&this.stickyHeader.destroy(),this.control&&this.control.disableMultiple()},onMultiAction:function(e){this.multipleSelected.setAction(e)},onChangeParamsFilter:function(e){var t=window.location.hash.split("?")[0];E.router.navigate(t+"?"+e,{trigger:!1,replace:!0})},onChangeCollapse:function(e){E.router.navigate(this.collectionItems.getPathByPredefinedFilter(e),{trigger:!1,replace:!0})},onChangeLogItem:function(e){this.crumbs.setLogItem(this.collectionItems.get(e)),E.router.navigate(this.collectionItems.getPathByLogItemId(e),{trigger:!1})},onSetLogItem:function(e){var t=this.collectionItems.get(e);this.crumbs.setLogItem(t,e)},onDrillItem:function(e){this.crumbs.cacheItem(e)},createHeaderForPrint:function(){var e=[];i.each(this.crumbs.collection.models,function(t){i.each(t.get("path_names"),function(t){e.push(t)}),e.push(t.get("name"))}),e.length===1?t(this.$el).find(".print p:last-child").html(v.launches.listOfLaunches):(e=e.slice(1).join(" / "),t(this.$el).find(".print p:last-child").html(v.projectEvents.objectTypes.launch+": <span>"+e+"</span>"))},onChangeItemCrumbs:function(e,n,r,i){var s=this;this.collectionItems.update(e,n,r,this.crumbs).done(function(){s.onChangePathId(),s.createHeaderForPrint()}).always(function(){t("[data-js-preloader-launch-body]",s.$el).removeClass("rp-display-block"),i&&r&&s.body&&s.body.activateNextId&&s.body.activateNextId(i)}).fail(function(){s.onChangePathId()}),this.collectionItems.logOptions.item?this.trigger("change:level","LOG"):this.collectionItems.noChildFilter&&this.crumbs.setListViewForLastItem()},onRestoreItemCrumbs:function(){this.collectionItems.restorePath()},onFailCrumbs:function(e){t("[data-js-preloader-launch-body]",this.$el).removeClass("rp-display-block");switch(e){case 1:t("[data-js-launch-not-found]",this.$el).addClass("rp-display-block"),this.trigger("change:level","SUITE"),this.currentLevel="SUITE";break;case 2:t("[data-js-item-not-found]",this.$el).addClass("rp-display-block"),this.trigger("change:level","SUITE"),this.currentLevel="SUITE";break;default:}},render:function(){this.$el.html(b.templates(this.template,{projectName:E.project.projectId}))},update:function(e,n){this.multipleSelected.reset(),this.body&&this.body.destroy(),this.control&&this.stopListening(this.control)&&this.control.destroy(),t("[data-js-preloader-launch-body]",this.$el).addClass("rp-display-block"),t("[data-js-launch-not-found]",this.$el).removeClass("rp-display-block"),t("[data-js-item-not-found]",this.$el).removeClass("rp-display-block"),this.crumbs.update(e,n)},onChangePathId:function(){this.collectionItems.getInfoByCollection().done(function(e){switch(e.type){case"LAUNCH":this.renderLaunchLevel(e.filterModel),this.trigger("change:level","LAUNCH"),this.currentLevel="LAUNCH";break;case"SUITE":case"STORY":case"TEST":case"SCENARIO":this.renderSuiteLevel(e),this.trigger("change:level","SUITE"),this.currentLevel="SUITE";break;case"STEP":case"BEFORE_CLASS":case"BEFORE_GROUPS":case"BEFORE_METHOD":case"BEFORE_SUITE":case"BEFORE_TEST":case"AFTER_CLASS":case"AFTER_GROUPS":case"AFTER_METHOD":case"AFTER_SUITE":case"AFTER_TEST":this.renderStepLevel(e),this.trigger("change:level","STEP"),this.currentLevel="STEP";break;case"HISTORY":this.trigger("change:level","HISTORY"),this.currentLevel="HISTORY",this.renderHistory(e);break;case"LOG":this.trigger("change:level","LOG"),this.currentLevel="LOG",this.renderLogLevel(e);break;default:}this.listenTo(this.control,"multi:action",this.onMultiAction)}.bind(this))},renderLogLevel:function(e){this.control=new c({el:t("[data-js-controls-container]",this.$el),collectionItems:this.collectionItems}),this.body=new h({el:t("[data-js-info-container]",this.$el),context:this.context,collectionItems:this.collectionItems,launchModel:e.launchModel}),this.listenTo(this.body,"update:crumbs",function(e,t){this.crumbs.collection.isLaunchLost()&&this.crumbs.update(e,t)}.bind(this))},renderHistory:function(e){this.control=new p({el:t("[data-js-controls-container]",this.$el),filterModel:e.filterModel,parentModel:e.parentModel||e.launchModel,collectionItems:this.collectionItems}),this.body=new d({el:t("[data-js-info-container]",this.$el),filterModel:e.filterModel,control:this.control,collectionItems:this.collectionItems})},renderStepLevel:function(e){this.control=new f({el:t("[data-js-controls-container]",this.$el),context:this.context,filterModel:e.filterModel,launchModel:e.launchModel,parentModel:e.parentModel||e.launchModel,collectionItems:this.collectionItems}),this.body=new l({el:t("[data-js-info-container]",this.$el),context:this.context,filterModel:e.filterModel,model:e.launchModel||e.parentModel,collectionItems:this.collectionItems,crumbs:this.crumbs}),this.body.onShow&&this.body.onShow()},renderSuiteLevel:function(e){this.control=new u({context:this.context,filterModel:e.filterModel,launchModel:e.launchModel,parentModel:e.parentModel||e.launchModel,el:t("[data-js-controls-container]",this.$el),collectionItems:this.collectionItems}),this.body=new a({el:t("[data-js-info-container]",this.$el),filterModel:e.filterModel,model:e.launchModel||e.parentModel,collectionItems:this.collectionItems}),this.body.onShow&&this.body.onShow()},renderLaunchLevel:function(e){this.control=new s({el:t("[data-js-controls-container]",this.$el),collectionItems:this.collectionItems,context:this.context,filterModel:e}),this.body=new o({el:t("[data-js-info-container]",this.$el),filterModel:e,userDebugMode:this.context==="userdebug",collectionItems:this.collectionItems}),this.body.onShow&&this.body.onShow()},onDestroy:function(){this.stickyHeader&&this.stickyHeader.destroy(),this.collectionItems.destroy(),this.multipleSelected.destroy(),this.control&&this.control.destroy(),this.body&&this.body.destroy(),this.$el.html(""),delete this}});return S}),define("launches/LaunchPage",["require","filters/SingletonLaunchFilterCollection","backbone-epoxy","app","launches/LaunchHeaderView","launches/LaunchBodyView","launches/LaunchUtils","underscore","callService","dataUrlResolver","coreService"],function(e){"use strict";var t=e("filters/SingletonLaunchFilterCollection"),n=e("backbone-epoxy"),r=e("app"),i=e("launches/LaunchHeaderView"),s=e("launches/LaunchBodyView"),o=e("launches/LaunchUtils"),u=e("underscore"),a=e("callService"),f=a.call,l=e("dataUrlResolver"),c=e("coreService"),h=r.getInstance(),p=n.View.extend({initialize:function(e){this.contextName=e.contextName,this.launchFilterCollection=new t,this.context=e.context,this.header=new i({el:this.context.getMainView().$header}),this.body=new s({el:this.context.getMainView().$body}),this.listenTo(this.body,"change:level",this.onChangeLevel),this.update({subContext:e.subContext})},render:function(){return this},onChangeLevel:function(e){this.header.setState(e)},isFilterExist:function(e){return u.find(h.preferences.filters,function(t){return e===t})},update:function(e){var t,n=e.subContext[3],r=this,i,s=e.subContext[1];t=[s],this.filterId=s.split("|")[0],i=this.isFilterExist(this.filterId),!i&&this.filterId!=="all"&&this.filterId!=="New_filter"?c.putPreferences({filters:h.preferences.filters?h.preferences.filters.concat([this.filterId]):[this.filterId]}).done(function(t){var n;h.preferences=t,i=r.isFilterExist(r.filterId),i?r.launchFilterCollection.parse(h.preferences.filters).done(function(){r.update({subContext:e.subContext})}):(n=e.subContext,n[1]="all",n[3]=null,r.update({subContext:n}))}):(e.subContext[2]&&(t=t.concat(e.subContext[2].split("/"))),t.length<=1&&this.onChangeLevel("LAUNCH"),this.launchFilterCollection.ready.done(function(){var i,s;r.launchFilterCollection.get(r.filterId)||(r.filterId="all"),r.filterId==="all"?e.subContext[3]&&!e.subContext[2]?(i=o.calculateFilterOptions(e.subContext[3]),i.entities!=="[]"?(s=r.launchFilterCollection.generateTempModel(i),r.launchFilterCollection.activateFilter(s.get("id")).done(function(){h.router.navigate(s.get("url")+"?"+e.subContext[3],{trigger:!1,replace:!0}),r.body.update([s.get("id")],"")})):r.body.update(t,n)):(r.launchFilterCollection.activateFilter(r.filterId),r.body.update(t,n)):r.launchFilterCollection.activateFilter(r.filterId).fail(function(){setTimeout(function(){h.router.navigate(r.header.model.get("url")+(e.subContext[2]||""),{trigger:!0})}),r.header.onChangeActiveFilter()}).done(function(){r.body.update(t,n)})}))},onDestroy:function(){this.header.destroy(),this.body.destroy(),this.$el.html("")}});return{ContentView:p}}),define("launches/LaunchDebugPage",["require","exports","module","jquery","backbone-epoxy","app","launches/LaunchBodyView","filters/SingletonLaunchFilterCollection"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone-epoxy"),s=e("app"),o=e("launches/LaunchBodyView"),u=e("filters/SingletonLaunchFilterCollection"),a=s.getInstance(),f=i.View.extend({initialize:function(e){this.contextName=e.contextName,this.launchFilterCollection=new u,this.context=e.context,this.body=new o({el:this.context.getMainView().$body,context:this.contextName}),this.listenTo(this.body,"change:level",this.onChangeLevel),this.update({subContext:e.subContext})},render:function(){return this},update:function(e){var t=["all"];this.launchFilterCollection.activateFilter("all");var n=e.subContext[3];e.subContext[2]&&(t=t.concat(e.subContext[2].split("/"))),this.body.update(t,n)},destroy:function(){this.body.destroy(),this.$el.html(""),this.undelegateEvents(),this.stopListening(),this.unbind(),delete this}});return{ContentView:f}}),define("dashboard/DashboardHeaderListItemView",["require","exports","module","util","jquery","backbone-epoxy","app"],function(e,t,n){"use strict";var r=e("util"),i=e("jquery"),s=e("backbone-epoxy"),o=e("app"),u=o.getInstance(),a=s.View.extend({className:"dashboard-header-list-item",tagName:"li",template:"tpl-dashboard-header-list-item",events:{click:"onClickDashboard"},bindings:{"[data-js-dashboard-name]":"text: name",":el":"classes: {active: active}"},initialize:function(){this.render()},render:function(){this.$el.html(r.templates(this.template,{}))},onClickDashboard:function(){u.router.navigate(this.model.get("url"),{trigger:!0})},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.remove()}});return a}),define("dashboard/DashboardHeaderView",["require","exports","module","util","jquery","backbone-epoxy","components/MainBreadcrumbsComponent","dashboard/DashboardHeaderListItemView","app","localization","storage/SingletonAppStorage"],function(e,t,n){"use strict";var r=e("util"),i=e("jquery"),s=e("backbone-epoxy"),o=e("components/MainBreadcrumbsComponent"),u=e("dashboard/DashboardHeaderListItemView"),a=e("app"),f=e("localization"),l=e("storage/SingletonAppStorage"),c=a.getInstance(),h=s.View.extend({className:"dashboard-header",template:"tpl-dashboard-header",events:{"click [data-js-add-dashboard]":"onClickAddDashboard"},initialize:function(e){this.appStorage=new l,this.render(),this.listenModel=null,this.mainBreadcrumbs=new o({data:[{name:f.dashboard.allDashboards,link:this.collection.defaultPath}]}),i("[data-js-main-breadcrumbs]",this.$el).append(this.mainBreadcrumbs.$el),this.mainBreadcrumbs.$el.on("click [data-js-link]",function(e){i(e.target).text()==f.dashboard.allDashboards&&c.trackingDispatcher.trackEventNumber(279)});var t=this;this.collection.ready.done(function(){t.listenTo(t.collection,"change:active",t.onChangeActive),t.listenTo(t.collection,"reset:active",t.changeActive),t.activateDashboardList(),t.changeActive()})},render:function(){this.$el.html(r.templates(this.template,{}))},activateDashboardList:function(){var e=this;_.each(this.collection.models,function(t){var n=new u({model:t});i("[data-js-dashboard-list-mobile]",e.$el).append(n.$el)})},onClickAddDashboard:function(e){c.trackingDispatcher.trackEventNumber(260),this.collection.createNewDashboard()},onChangeActive:function(e,t){t&&this.changeActive()},changeActive:function(){var e=this.collection.where({active:!0}),t=[{name:f.dashboard.allDashboards,link:this.collection.defaultPath}];this.listenModel&&this.stopListening(this.listenModel);if(e.length){this.listenModel=e[0],i("[data-js-active-dashboard]",this.$el).text(this.listenModel.get("name")),t.push({name:this.listenModel.get("name"),link:""});var n=this;this.listenTo(this.listenModel,"change:name",function(e,t){n.mainBreadcrumbs.collection.models[1].set({name:t}),i("[data-js-active-dashboard]",n.$el).text(t)}),this.appStorage.get("dashboardView")=="list"&&this.$el.removeClass("hide-header")}else this.appStorage.get("dashboardView")=="list"&&this.$el.addClass("hide-header"),i("[data-js-active-dashboard]",this.$el).text(f.dashboard.allDashboards);this.mainBreadcrumbs.collection.reset(t)},destroy:function(){this.mainBreadcrumbs&&this.mainBreadcrumbs.destroy(),this.$el.empty(),this.undelegateEvents(),this.stopListening(),this.unbind(),delete this}});return h}),define("dashboard/DashboardListItemView",["require","util","jquery","backbone-epoxy","app","modals/modalEditDashboard","modals/modalConfirm","localization","underscore"],function(e){"use strict";var t=e("util"),n=e("jquery"),r=e("backbone-epoxy"),i=e("app"),s=e("modals/modalEditDashboard"),o=e("modals/modalConfirm"),u=e("localization"),a=e("underscore"),f=i.getInstance(),l=r.View.extend({className:"dashboard-list-item-view",templateBlock:"tpl-dashboard-block-item",templateList:"tpl-dashboard-list-item",events:{"click [data-js-edit]":"onClickEdit","click [data-js-remove]":"onClickRemove","click [data-js-dashboard-info]":"onClickItem"},bindings:{"[data-js-name]":"html: getName","[data-js-owner]":"text: owner","[data-js-description]":"text: displayingDescription, classes: {hide: not(description)}","[data-js-share-icon]":"classes: {hide: not(isMy)}, attr: {title: sharedTitle}","[data-js-global-icon]":"classes: {hide: isMy}, attr: {title: sharedTitle}","[data-js-icon-description]":"text: sharedTitle","[data-js-shared-container]":"classes: {hide: not(share)}","[data-js-edit]":"classes: {hide: not(isMy)}","[data-js-remove]":"classes: {hide: not(canRemove)}"},computeds:{displayingDescription:{deps:["description"],get:function(e){return e===null?"":e}},getName:{deps:["name","search"],get:function(e,n){return(n?t.textWrapper(e,n):e).escapeScript()}},canRemove:{deps:["isMy"],get:function(e){return f.userModel.get("isAdmin")||f.userModel.getRoleForCurrentProject()===f.projectRolesEnum.project_manager||e}}},initialize:function(e){this.blockTemplate=e.blockTemplate,this.render()},render:function(){this.blockTemplate?this.$el.html(t.templates(this.templateBlock,{})):this.$el.html(t.templates(this.templateList,{})),this.setPreview()},onClickEdit:function(e){var t=this;e.stopPropagation(),(new s({dashboardCollection:this.model.collection,dashboardModel:this.model,mode:"edit"})).show().done(function(e){t.model.set(e.toJSON())})},onClickRemove:function(e){var n=this;e.stopPropagation(),(new o({headerText:u.dialogHeader.dashboardDelete,bodyText:t.replaceTemplate(u.dialog.dashboardDelete,this.model.get("name")),confirmText:this.model.get("isMy")?"":u.dialog.dashboardDeleteDangerConfirmText,okButtonDanger:!0,cancelButtonText:u.ui.cancel,okButtonText:u.ui.delete})).show().done(function(){n.model.collection.remove(n.model),n.destroy()})},onClickItem:function(){this.model.get("isMy")?f.trackingDispatcher.trackEventNumber(262):f.trackingDispatcher.trackEventNumber(265),f.router.navigate(this.model.get("url"),{trigger:!0}),f.mainScrollElement.scrollTop(0)},setPreview:function(){var e=this.model.get("id"),t=0;a.each(this.model.get("id"),function(n,r){t+=e.charCodeAt(r)}),n("[data-js-description-wrapper]",this.$el).addClass("preview-"+t%14)},onDestroy:function(){this.$el.remove()}});return l}),define("dashboard/ListView",["require","util","jquery","backbone-epoxy","dashboard/DashboardListItemView"],function(e){"use strict";var t=e("util"),n=e("jquery"),r=e("backbone-epoxy"),i=e("dashboard/DashboardListItemView"),s=r.View.extend({className:"dashboard-list-view-list",template:"tpl-dashboards-list",initialize:function(e){this.search=e.search,this.collection.models=this.sortDashboardCollectionByASC(this.collection.models),this.render()},render:function(){this.$el.html(t.templates(this.template,{search:this.search}));var e=this;_.each(this.collection.models,function(t){var r=new i({model:t,blockTemplate:!1});n("[data-js-dashboards-container]",e.$el).append(r.$el)}),t.hintValidator(n("[data-js-filter-name]",this.$el),[{validator:"minMaxNotRequired",type:"dashboardName",min:3,max:128}]),this.collection.models.length||n("[data-js-dashboard-not-found]",this.$el).addClass("rp-display-block")},sortDashboardCollectionByASC:function(e){return _.sortBy(e,function(e){return e.get("name").toUpperCase()})}});return s}),define("dashboard/BlockView",["require","exports","module","util","jquery","backbone","backbone-epoxy","app","dashboard/DashboardListItemView"],function(e,t,n){"use strict";var r=e("util"),i=e("jquery"),s=e("backbone"),o=e("backbone-epoxy"),u=e("app"),a=e("dashboard/DashboardListItemView"),f=u.getInstance(),l=o.View.extend({className:"dashboard-list-view-table",template:"tpl-dashboards-table",initialize:function(e){this.search=e.search,this.render(),this.myDashboardCollection=new s.Collection,this.myDashboardViews=[],this.sharedDashboardCollectoin=new s.Collection,this.sharedDashboardViews=[],this.listenTo(this.myDashboardCollection,"reset",this.renderMyDashboards),this.listenTo(this.sharedDashboardCollectoin,"reset",this.renderSharedDashboards),i("[data-js-dashboard-not-found]",this.$el).removeClass("rp-display-block"),i("[data-js-shared-dashboard-not-found]",this.$el).removeClass("rp-display-block");var t=[],n=[],r=this;_.each(this.collection.models,function(e){e.get("owner")==f.userModel.get("name")?t.push(e):n.push(e)}),this.myDashboardCollection.reset(t),this.sharedDashboardCollectoin.reset(n),t.length||i("[data-js-dashboard-not-found]",this.$el).addClass("rp-display-block"),n.length||i("[data-js-shared-dashboard-not-found]",this.$el).addClass("rp-display-block")},render:function(){this.$el.html(r.templates(this.template,{search:this.search}))},renderMyDashboards:function(){_.each(this.myDashboardViews,function(e){e.destroy()}),this.myDashboardViews=[],this.myDashboardCollection.models=this.sortDashboardCollectionByASC(this.myDashboardCollection.models);var e=this;_.each(this.myDashboardCollection.models,function(t){var n=new a({model:t,blockTemplate:!0});e.myDashboardViews.push(n),i("[data-js-my-dashboards-container]",e.$el).append(n.$el)})},renderSharedDashboards:function(){_.each(this.sharedDashboardViews,function(e){e.destroy()}),this.sharedDashboardViews=[],this.sharedDashboardCollectoin.models=this.sortDashboardCollectionByASC(this.sharedDashboardCollectoin.models);var e=this;_.each(this.sharedDashboardCollectoin.models,function(t){var n=new a({model:t,blockTemplate:!0});e.sharedDashboardViews.push(n),i("[data-js-shared-dashboards-container]",e.$el).append(n.$el)})},sortDashboardCollectionByASC:function(e){return _.sortBy(e,function(e){return e.get("name").toUpperCase()})},onDestroy:function(){_.each(this.myDashboardViews,function(e){e.destroy()}),_.each(this.sharedDashboardViews,function(e){e.destroy()})}});return l}),define("dashboard/DashboardListView",["require","util","jquery","backbone","backbone-epoxy","app","dashboard/ListView","dashboard/BlockView","storage/SingletonAppStorage"],function(e){"use strict";var t=e("util"),n=e("jquery"),r=e("backbone"),i=e("backbone-epoxy"),s=e("app"),o=e("dashboard/ListView"),u=e("dashboard/BlockView"),a=e("storage/SingletonAppStorage"),f=s.getInstance(),l=i.View.extend({className:"dashboard-list-view",template:"tpl-dashboards",events:{"validation:success [data-js-filter-name]":"onChangeDashboardName","click [data-js-add-dashboard]":"onClickAddDashboard","click [data-js-view-type]":"changeDashboardsView"},bindings:{":el":"classes: {search: any(search)}","[data-js-view-table]":"classes: {active: isTable}","[data-js-view-list]":"classes: {active: not(isTable)}"},computeds:{isTable:{deps:["dashboardView"],get:function(e){return e==="table"?!0:!1}}},initialize:function(){var e=this;this.appStorage=new a,this.model=new(i.Model.extend({defaults:{search:"",dashboardView:"table"}})),this.appStorage.get("dashboardView")&&this.model.set({dashboardView:this.appStorage.get("dashboardView")}),this.render(),this.collection.ready.done(function(){e.collection.models.length||n("[data-js-filter-name]",e.$el).prop({disabled:"disabled"}),e.listenTo(e.collection,"change:owner change:name reset",e.changeCollection),e.listenTo(e.collection,"add",e.onAddCollection),e.listenTo(e.collection,"remove",e.onRemoveCollection),e.changeCollection()}),this.listenTo(this.model,"change:search",this.onChangeSearch),this.listenTo(this.model,"change:dashboardView",this.setDashboardView)},setDashboardView:function(){var e=this.model.get("dashboardView");this.appStorage.set({dashboardView:e}),this.changeCollection()},changeDashboardsView:function(e){var t=n(e.currentTarget),r=t.data("js-view-type");this.model.set("dashboardView",r)},onAddCollection:function(){n("[data-js-filter-name]",this.$el).prop({disabled:null}),this.changeCollection()},onRemoveCollection:function(e){this.collection.remove(e),this.collection.models.length||this.changeCollection()},changeCollection:function(){var e=new r.Collection,t=this;this.dashboardsView&&this.onDestroy(),_.each(this.collection.models,function(n){(t.model.get("search")&&~n.get("name").toLowerCase().indexOf(t.model.get("search").toLowerCase())||!t.model.get("search"))&&e.push(n)}),this.model.get("dashboardView")==="list"?this.dashboardsView=new o({collection:e,search:this.model.get("search")}):this.dashboardsView=new u({collection:e,search:this.model.get("search")}),n("[data-js-list-views]",this.$el).html(this.dashboardsView.$el)},render:function(){this.$el.html(t.templates(this.template,{dashboardName:this.model.get("name"),projectName:f.project.projectId})),t.hintValidator(n("[data-js-filter-name]",this.$el),[{validator:"minMaxNotRequired",type:"dashboardName",min:3,max:128}])},onClickAddDashboard:function(){f.trackingDispatcher.trackEventNumber(346),this.collection.createNewDashboard()},onChangeSearch:function(){f.trackingDispatcher.trackEventNumber(261)},onChangeDashboardName:function(e){n(e.currentTarget).val(n(e.currentTarget).val().trim()),this.model.set({search:n(e.currentTarget).val().trim()}),this.changeCollection()},onDestroy:function(){this.dashboardsView.destroy()}});return l}),define("modals/addSharedWidget/SharedWidgetItem",["require","backbone-epoxy","util","localization"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=e("localization"),i=t.View.extend({className:"shared-widget-item",template:"tpl-modal-add-shared-widget-item",bindings:{"[data-js-widget-select]":"checked: active, disabled: added",":el":'classes: {"widget-already-added": added}, attr: {title: getAddedTitle}',"[data-js-widget-name]":"text: name","[data-js-gadget-name]":"html: gadgetName","[data-js-owner-name]":"text: owner","[data-js-description]":"text: description"},computeds:{getAddedTitle:{deps:["added"],get:function(e){return e?r.wizard.sharedWidgetAdded:""}}},initialize:function(){this.render()},render:function(){this.$el.html(n.templates(this.template,{}))},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.remove()}});return i}),define("modals/addSharedWidget/modalAddSharedWidget",["require","backbone-epoxy","backbone","modals/_modalView","modals/addSharedWidget/SharedWidgetItem","newWidgets/PreviewWidgetView","util","jquery","underscore","coreService","newWidgets/WidgetService","app","localization"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("backbone"),r=e("modals/_modalView"),i=e("modals/addSharedWidget/SharedWidgetItem"),s=e("newWidgets/PreviewWidgetView"),o=e("util"),u=e("jquery"),a=e("underscore"),f=e("coreService"),l=e("newWidgets/WidgetService"),c=e("app"),h=e("localization"),p=c.getInstance(),d=t.Model.extend({defaults:{active:!1,added:!1,id:"",name:"",owner:"",description:"",content_fields:"[]",widgetOptions:"{}"},computeds:{gadgetName:{deps:["gadget"],get:function(e){if(!e)return"";var t=l.getWidgetConfig(e);return t?l.getWidgetConfig(e).gadget_name:""}}}}),v=n.Collection.extend({model:d,initialize:function(){this.pageToLoad=1,this.listenTo(this,"change:active",this.onChangeActive),this.listenTo(this,"reset",function(){this.pageToLoad=1}.bind(this))},onChangeActive:function(e,t){t&&a.each(this.models,function(t){t!==e&&t.set({active:!1})})},load:function(e){var t=this,n=u.Deferred(),r="getSharedWidgets",i={page:this.pageToLoad};return e&&(i.term=e,r="sharedWidgetSearch"),this.pageToLoad&&this.totalPages&&this.pageToLoad>this.totalPages?n.reject():f[r](i).done(function(e){var r=t.add(a.map(e.content,function(e){return{id:e.id,gadget:e.content_parameters.gadget,name:e.name,owner:e.owner,description:e.description,content_fields:e.content_parameters.content_fields?JSON.stringify(e.content_parameters.content_fields):"[]",widgetOptions:e.content_parameters.widgetOptions?JSON.stringify(e.content_parameters.widgetOptions):"{}"}}));t.totalPages=e.page.totalPages,t.pageToLoad=e.page.number+1,n.resolve(r)}).fail(function(){n.reject(),o.ajaxFailMessenger(null,"connectToServer")}),n}}),m=r.extend({template:"tpl-modal-add-shared-widget",className:"modal-add-shared-widget",events:{"click [data-js-add-widget]":"onClickAddWidget","click [data-js-close]":"onClickClose","click [data-js-cancel]":"onClickCancel","click [data-js-widget-select]":"disableHideBackdrop","keyup [data-js-shared-widget-search]":"debounceChange"},bindings:{"[data-js-preview-block]":"classes: {hide: not(name)}","[data-js-active-widget-name]":"text: name","[data-js-add-widget]":"attr: {disabled: not(name)}"},initialize:function(e){this.render(),u("[data-js-action-block]",this.$el).addClass("load"),this.dashboardModel=e.dashboardModel,this.debounceChange=a.debounce(this.onChangeSharedWidgetSearch,800),this.collection=new v,this.listenTo(this.collection,"change:active",this.onChangeActive)},render:function(){this.renderedViews=[],this.$el.html(o.templates(this.template,{})),this.bindValidators()},bindValidators:function(){o.hintValidator(u("[data-js-shared-widget-search]",this.$el),[{validator:"minMaxRequired",type:"valueSize",min:3,max:256}])},renderViews:function(e){var t=u("[data-js-widgets-list]",this.$el),n=this,r;if(this.collection.isEmpty()){this.term?u("[data-js-empty-message]",this.$el).text(h.ui.noResultsFound):(u("[data-js-empty-message]",this.$el).text(h.wizard.noSharedWidgets),u("[data-js-shared-widget-search]",n.$el).prop({disabled:"disabled"})),u("[data-js-widgets-empty]",this.$el).removeClass("hide");return}u("[data-js-widgets-empty]",this.$el).addClass("hide"),a.each(e,function(e){a.find(n.dashboardModel.getWidgets(),function(t){return t.widgetId===e.get("id")})&&e.set("added",!0),r=new i({model:e,dashboardModel:n.dashboardModel}),n.renderedViews.push(r),t.append(r.$el)})},onShown:function(){var e=this;this.previousTerm="",this.collection.load().done(function(t){e.renderViews(t)}).always(function(){u("[data-js-action-block]",e.$el).removeClass("load"),e.baronScroll=o.setupBaronScroll(u("[data-js-widgets-list-scroll]",e.$el)),o.setupBaronScrollSize(e.baronScroll,{maxHeight:440}),u("[data-js-widgets-list]",e.$el).closest(".baron_scroller").on("scroll",function(){p.trackingDispatcher.trackEventNumber(317)}),e.baronScroll.on("scroll",function(t){var n=t.target;e.collection.models.length&&n.scrollTop===n.scrollHeight-n.clientHeight&&e.collection.load(e.term).done(function(t){e.renderViews(t)})})})},destroyViews:function(){this.renderedViews&&this.renderedViews.length&&a.each(this.renderedViews,function(e){e.destroy()}),this.renderedViews=[]},onChangeSharedWidgetSearch:function(){var e=this;this.term=u("[data-js-shared-widget-search]",this.$el).val(),u("[data-js-shared-widget-search]",this.$el).trigger("validate");if(this.term.length===1||this.term.length===2||!this.previousTerm&&!this.term||this.term===this.previousTerm)return;this.destroyViews(),this.collection.reset(),this.collection.load(this.term).done(function(t){e.renderViews(t)}),this.previousTerm=this.term},onClickClose:function(){p.trackingDispatcher.trackEventNumber(315)},onClickCancel:function(){p.trackingDispatcher.trackEventNumber(318)},onChangeActive:function(e,t){t&&(p.trackingDispatcher.trackEventNumber(316),this.model.set({gadget:e.get("gadget"),name:e.get("name"),id:e.get("id")}),this.previewWidgetView&&this.previewWidgetView.destroy(),this.previewWidgetView=new s({sharedWidgetModel:e}),u("[data-js-widget-preview]",this.$el).html(this.previewWidgetView.$el))},onClickAddWidget:function(){p.trackingDispatcher.trackEventNumber(319),this.dashboardModel.addWidget(this.model),this.successClose({widgetId:this.model.get("id")})},onDestroy:function(){this.baronScroll.off("scroll"),this.destroyViews()}});return m}),define("dashboard/GadgetCollection",["require","exports","module","jquery","backbone","backbone-epoxy","app","dashboard/GadgetModel","coreService","util"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("app"),u=e("dashboard/GadgetModel"),a=e("coreService"),f=e("util"),l=o.getInstance(),c=i.Collection.extend({model:u,initialize:function(e,t){this.dashboardModel=t.dashboardModel,this.listenTo(this,"change:x change:y change:width change:height",_.debounce(this.onChangePosition,10)),this.listenTo(this,"remove",this.onRemoveGadget),this.listenTo(this,"add",this.onAddGadget)},onChangePosition:function(){this.dashboardModel.setWidgets(this.getGadgetsData())},getGadgetsData:function(){var e=[];return _.each(this.models,function(t){e.push({widgetId:t.get("id"),widgetPosition:[t.get("x"),t.get("y")],widgetSize:[t.get("width"),t.get("height")]})}),e},onRemoveGadget:function(e){this.dashboardModel.setWidgets(this.getGadgetsData()),a.updateDashboard(this.dashboardModel.get("id"),{deleteWidget:e.get("id")}).done(function(){f.ajaxSuccessMessenger("deletedWidget")}).fail(function(e){f.ajaxFailMessenger(e,"updateDashboard")})},onAddGadget:function(e){},comparator:function(e,t){return e.get("y")-t.get("y")},parse:function(e){return _.map(e,function(e){return{id:e.widgetId,x:e.widgetPosition[0],y:e.widgetPosition[1],width:e.widgetSize[0],height:e.widgetSize[1]}})}});return c}),define("modals/addWidget/modalEditWidget",["require","modals/_modalView","util","jquery","underscore","newWidgets/WidgetService","modals/addWidget/WidgetSettingsView","modals/addWidget/SaveWidgetView","newWidgets/PreviewWidgetView","coreService","app"],function(e){"use strict";var t=e("modals/_modalView"),n=e("util"),r=e("jquery"),i=e("underscore"),s=e("newWidgets/WidgetService"),o=e("modals/addWidget/WidgetSettingsView"),u=e("modals/addWidget/SaveWidgetView"),a=e("newWidgets/PreviewWidgetView"),f=e("coreService"),l=e("app"),c=l.getInstance(),h=t.extend({template:"tpl-modal-edit-widget",className:"modal-edit-widget",events:{"click [data-js-save]":"onClickSaveWidget","click [data-js-close]":"onClickClose","click [data-js-cancel]":"onClickCancel"},bindings:{"[data-js-widget-type]":"html: gadgetName","[data-js-widget-description]":"html: gadgetDescription"},initialize:function(e){if(!e.model)return!1;this.originalModel=e.model,this.model=this.originalModel.clone(),this.curWidget=s.getWidgetConfig(this.model.get("gadget")),this.render(),this.listenTo(this.model,"change",this.disableHideBackdrop)},sendEvent:function(e){switch(e.view){case"filter":switch(e.action){case"add filter":c.trackingDispatcher.trackEventNumber(328);break;case"submit filter":c.trackingDispatcher.trackEventNumber(331);break;case"cancel filter":c.trackingDispatcher.trackEventNumber(330);break;case"change filter name":c.trackingDispatcher.trackEventNumber(327);break;case"edit filter item":c.trackingDispatcher.trackEventNumber(298);break;case"select filter item":c.trackingDispatcher.trackEventNumber(329);break;case"entity choice click":c.trackingDispatcher.trackEventNumber(332);break;case"sorting list click":c.trackingDispatcher.trackEventNumber(333);break;case"cancel add click":c.trackingDispatcher.trackEventNumber(334);break;case"ok add click":c.trackingDispatcher.trackEventNumber(335);break;case"edit entity":c.trackingDispatcher.trackEventNumber(336);break;case"cancel edit filter":c.trackingDispatcher.trackEventNumber(337);break;case"ok edit filter":c.trackingDispatcher.trackEventNumber(338)}}},render:function(){this.$el.html(n.templates(this.template,{})),this.widgetSettingsView=new o({model:this.model,isShortForm:!0}),r("[data-js-widget-settings]",this.$el).html(this.widgetSettingsView.$el),this.listenTo(this.widgetSettingsView,"change:view",this.onChangeSettingsViewMode),this.listenTo(this.widgetSettingsView,"send:event",this.sendEvent),this.saveWidget=new u({model:this.model,dashboardModel:this.dashboardModel}),r("[data-js-widget-save]",this.$el).html(this.saveWidget.$el),this.listenTo(this.model,"change",i.debounce(this.onChangeModel,10))},onChangeModel:function(e){this.curWidget=s.getWidgetConfig(e.get("gadget"))},onChangePreview:function(){this.previewWidgetView&&this.previewWidgetView.destroy(),this.previewWidgetView=new a({model:this.model,validateForPreview:this.validateForPreview.bind(this)}),r("[data-js-widget-preview]",this.$el).html(this.previewWidgetView.$el)},onShown:function(){this.listenTo(this.model,"change:gadget change:widgetOptions change:content_fields change:filter_id change:itemsCount",i.debounce(this.onChangePreview,10)),this.onChangePreview()},onShow:function(){this.widgetSettingsView.activate(),this.saveWidget.activate()},onChangeSettingsViewMode:function(e){if(e.mode==="expandedSettingView"){this.$el.addClass("expanded-setting-view-mode"),r("[data-js-cancel]",this.$el).add("[data-js-save]",this.$el).attr("disabled","disabled");return}r("[data-js-cancel]",this.$el).add("[data-js-save]",this.$el).removeAttr("disabled"),this.$el.removeClass("expanded-setting-view-mode")},onClickClose:function(){c.trackingDispatcher.trackEventNumber(320)},onClickCancel:function(){c.trackingDispatcher.trackEventNumber(325)},onKeySuccess:function(){r("[data-js-save]",this.$el).focus().trigger("click")},onClickSaveWidget:function(){var e=this,t,r={};this.saveWidget.validate()&&this.widgetSettingsView.validate()&&(c.trackingDispatcher.trackEventNumber(326),this.$el.addClass("load"),r.type=this.curWidget.widget_type,r.gadget=this.model.get("gadget"),r.metadata_fields=this.model.get("metadata_fields"),r.itemsCount=this.model.get("itemsCount"),this.model.getContentFields().length&&(r.content_fields=this.model.getContentFields()),r.widgetOptions=this.model.getWidgetOptions(),t={name:this.model.get("name"),share:this.model.get("share"),content_parameters:r},this.model.get("filter_id")&&(t.filter_id=this.model.get("filter_id")),this.model.get("description")&&(t.description=this.model.get("description")),this.showLoading(),f.updateWidget(t,this.model.get("id")).done(function(t){e.originalModel.set(e.model.toJSON()),e.successClose(t.id),n.ajaxSuccessMessenger("widgetSave")}).fail(function(){n.ajaxFailMessenger(null,"widgetSave"),e.hideLoading()}))},validateForPreview:function(){return this.widgetSettingsView.validate({forPreview:!0})},onDestroy:function(){this.widgetSettingsView&&this.widgetSettingsView.destroy(),this.saveWidget&&this.saveWidget.destroy()}});return h}),define("dashboard/GadgetView",["require","jquery","underscore","backbone-epoxy","util","app","modals/modalConfirm","localization","newWidgets/WidgetModel","newWidgets/WidgetView","modals/addWidget/modalEditWidget","tooltips/SimpleTooltipView","filters/SingletonLaunchFilterCollection","newWidgets/WidgetErrorView"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("app"),o=e("modals/modalConfirm"),u=e("localization"),a=e("newWidgets/WidgetModel"),f=e("newWidgets/WidgetView"),l=e("modals/addWidget/modalEditWidget"),c=e("tooltips/SimpleTooltipView"),h=e("filters/SingletonLaunchFilterCollection"),p=e("newWidgets/WidgetErrorView"),d=s.getInstance(),v=new h,m=r.View.extend({className:"gadget-view grid-stack-item",template:"tpl-gadget-view",events:{"click [data-js-gadget-refresh]":"onClickRefresh","click [data-js-gadget-remove]":"onClickRemove","click [data-js-gadget-edit]":"onClickGadgetEdit","click [data-js-edit-invalid-data]":"onClickGadgetEdit"},bindings:{"[data-js-name]":"text: name","[data-js-comment]":"classes: {hide: not(description)}","[data-js-shared]":"classes: {hide: any(not(share), not(isMy))}","[data-js-widget-type]":"html: gadgetName","[data-js-public]":"classes: {hide: isMy}, attr: {title: sharedTitle}","[data-js-gadget-remove]":"classes: {hide: not(canRemove)}","[data-js-gadget-edit]":"classes: {hide: not(isMy)}","[data-js-timeline]":"text: specialModeText,classes: {hide: not(specialMode)}"},computeds:{canRemove:{deps:["isMy","isMyDashboard"],get:function(e,t){return d.userModel.get("isAdmin")||d.userModel.getRoleForCurrentProject()===d.projectRolesEnum.project_manager||t||e&&t}}},initialize:function(){this.activate=!1,this.isInitialWidgetUpdate=!0,this.render(),this.$el.addClass("load"),this.$el.attr({"data-id":this.model.get("id"),"data-gs-min-width":d.minWidgetWidth,"data-gs-min-height":d.minWidgetHeight}),this.el.backboneView=this,this.listenTo(this.model,"update:timer",this.updateTimer)},render:function(){this.$el.html(i.templates(this.template,{}))},appendTooltip:function(){var e=this.model.get("description"),n=t("[data-js-comment]",this.$el);e&&i.appendTooltip(function(){var t=new c({message:e});return t.$el},n,n)},onClickRefresh:function(){d.trackingDispatcher.trackEventNumber(287),this.update()},startResize:function(){this.$el.addClass("hide-widget")},stopResize:function(){this.widgetView&&this.widgetView.resize({width:this.model.get("width"),height:this.model.get("height")}),this.$el.removeClass("hide-widget")},update:function(e){var t=this;!e&&this.$el.addClass("load"),this.model.update().done(function(){!e&&t.$el.removeClass("load"),t.updateWidget()}).fail(function(n){!e&&t.$el.removeClass("load"),t.onLoadDataError(n)})},updateTimer:function(){this.activate&&this.update(!0)},updateWidget:function(){var e,r;if(this.isInitialWidgetUpdate||!n.isEqual(this.widgetView.model.getContent(),this.model.get("widgetData").content)||!n.isEqual(this.widgetView.model.getParameters(),this.model.get("widgetData").content_parameters)){this.isInitialWidgetUpdate=!1,this.widgetView&&this.widgetView.widget&&this.widgetView.widget&&(r=this.widgetView.widget.widgetView?this.widgetView.widget.widgetView:this.widgetView.widget,r.chart&&(e=n.difference(n.map(r.chart.data(),function(e){return e.id}),n.map(r.chart.data.shown(),function(e){return e.id}))),r.charts&&(e=[],n.each(r.charts,function(t){e=e.concat(n.difference(n.map(t.data(),function(e){return e.id}),n.map(t.data.shown(),function(e){return e.id})))}))),this.widgetView&&this.widgetView.destroy();if(!this.model.get("gadget")){this.onLoadDataError();return}this.widgetView=new f({gadgetSize:{width:this.model.get("width"),height:this.model.get("height")},model:new a(this.model.get("widgetData"),{parse:!0}),hiddenItems:e||[]}),t("[data-js-widget-container]",this.$el).html(this.widgetView.$el),this.widgetView.onShow()}this.appendTooltip()},onLoadDataError:function(e){var n="",r,i,s;e&&e.status===404?n=u.widgets.widgetNotFound:e&&e.status===500?n=u.widgets.unableLoadData:(r=this.model.get("owner"),i=this.model.get("share"),!i&&r!==d.userModel.get("name")&&(n=u.widgets.unsharedWidget)),s=new p({message:n}),t("[data-js-widget-container]",this.$el).html(s.$el)},onClickRemove:function(e){var n=this,r=!this.model.get("isMy")&&!this.model.get("isMyDashboard"),s,a="";e.stopPropagation(),r&&(a=u.dialog.deletedWidgetDangerConfirmText),this.model.get("isMy")&&this.model.get("isMyDashboard")&&this.model.get("share")&&(a=u.dialog.deletedOwnSharedWidgetDangerConfirmText),d.trackingDispatcher.trackEventNumber(288),s=new o({headerText:u.dialogHeader.deletedWidget,bodyText:i.replaceTemplate(u.dialog.deletedWidget,this.model.get("name")),confirmText:a,okButtonDanger:!0,cancelButtonText:u.ui.cancel,okButtonText:u.ui.delete}),s.show().done(function(){n.model.trigger("remove:view",n),n.model.collection.remove(n.model),n.destroy()}),t("[data-js-close]",s.$el).on("click",function(){d.trackingDispatcher.trackEventNumber(339)}),t("[data-js-cancel]",s.$el).on("click",function(){d.trackingDispatcher.trackEventNumber(340)}),t("[data-js-ok]",s.$el).on("click",function(){d.trackingDispatcher.trackEventNumber(341)})},activateGadget:function(){this.activate=!0,this.update()},onClickGadgetEdit:function(){var e=this;this.model.get("isMy")&&(d.trackingDispatcher.trackEventNumber(286),(new l({model:this.model})).show().done(function(){typeof e.model.changed.share!="undefined"&&v.ready.done(function(){v.update()}),e.update()}))},getDataForGridStack:function(){return[this.el,this.model.get("x"),this.model.get("y"),this.model.get("width"),this.model.get("height")]},onDestroy:function(){this.widgetView&&this.widgetView.destroy(),this.$el.remove()}});return m}),function(e){if(typeof define=="function"&&define.amd)define("gridstack",["jquery","underscore"],e);else if(typeof exports!="undefined"){try{jQuery=require("jquery")}catch(t){}try{_=require("lodash")}catch(t){}e(jQuery,_)}else e(jQuery,_)}(function(e,t){function o(e){this.grid=e}var n=window,r=function(e,t,n){var r=function(){return console.warn("gridstack.js: Function `"+t+"` is deprecated as of v0.2.5 and has been replaced "+"with `"+n+"`. It will be **completely** removed in v1.0."),e.apply(this,arguments)};return r.prototype=e.prototype,r},i=function(e,t){console.warn("gridstack.js: Option `"+e+"` is deprecated as of v0.2.5 and has been replaced with `"+t+"`. It will be **completely** removed in v1.0.")},s={isIntercepted:function(e,t){return!(e.x+e.width<=t.x||t.x+t.width<=e.x||e.y+e.height<=t.y||t.y+t.height<=e.y)},sort:function(e,n,r){return r=r||t.chain(e).map(function(e){return e.x+e.width}).max().value(),n=n!=-1?1:-1,t.sortBy(e,function(e){return n*(e.x+e.y*r)})},createStylesheet:function(e){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.setAttribute("data-gs-style-id",e),t.styleSheet?t.styleSheet.cssText="":t.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(t),t.sheet},removeStylesheet:function(t){e("STYLE[data-gs-style-id="+t+"]").remove()},insertCSSRule:function(e,t,n,r){typeof e.insertRule=="function"?e.insertRule(t+"{"+n+"}",r):typeof e.addRule=="function"&&e.addRule(t,n,r)},toBool:function(e){return typeof e=="boolean"?e:typeof e=="string"?(e=e.toLowerCase(),e!==""&&e!="no"&&e!="false"&&e!="0"):Boolean(e)},_collisionNodeCheck:function(e){return e!=this.node&&s.isIntercepted(e,this.nn)},_didCollide:function(e){return s.isIntercepted({x:this.n.x,y:this.newY,width:this.n.width,height:this.n.height},e)},_isAddNodeIntercepted:function(e){return s.isIntercepted({x:this.x,y:this.y,width:this.node.width,height:this.node.height},e)},parseHeight:function(e){var n=e,r="px";if(n&&t.isString(n)){var i=n.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw)?$/);if(!i)throw new Error("Invalid height");r=i[2]||"px",n=parseFloat(i[1])}return{height:n,unit:r}}};s.is_intercepted=r(s.isIntercepted,"is_intercepted","isIntercepted"),s.create_stylesheet=r(s.createStylesheet,"create_stylesheet","createStylesheet"),s.remove_stylesheet=r(s.removeStylesheet,"remove_stylesheet","removeStylesheet"),s.insert_css_rule=r(s.insertCSSRule,"insert_css_rule","insertCSSRule"),o.registeredPlugins=[],o.registerPlugin=function(e){o.registeredPlugins.push(e)},o.prototype.resizable=function(e,t){return this},o.prototype.draggable=function(e,t){return this},o.prototype.droppable=function(e,t){return this},o.prototype.isDroppable=function(e){return!1},o.prototype.on=function(e,t,n){return this};var u=0,a=function(e,t,n,r,i){this.width=e,this.float=n||!1,this.height=r||0,this.nodes=i||[],this.onchange=t||function(){},this._updateCounter=0,this._float=this.float,this._addedNodes=[],this._removedNodes=[]};a.prototype.batchUpdate=function(){this._updateCounter=1,this.float=!0},a.prototype.commit=function(){this._updateCounter!==0&&(this._updateCounter=0,this.float=this._float,this._packNodes(),this._notify())},a.prototype.getNodeDataByDOMEl=function(e){return t.find(this.nodes,function(t){return e.get(0)===t.el.get(0)})},a.prototype._fixCollisions=function(e){var n=this;this._sortNodes(-1);var r=e,i=Boolean(t.find(this.nodes,function(e){return e.locked}));!this.float&&!i&&(r={x:0,y:e.y,width:this.width,height:e.height});for(;;){var o=t.find(this.nodes,t.bind(s._collisionNodeCheck,{node:e,nn:r}));if(typeof o=="undefined")return;this.moveNode(o,o.x,e.y+e.height,o.width,o.height,!0)}},a.prototype.isAreaEmpty=function(e,n,r,i){var o={x:e||0,y:n||0,width:r||1,height:i||1},u=t.find(this.nodes,t.bind(function(e){return s.isIntercepted(e,o)},this));return u===null||typeof u=="undefined"},a.prototype._sortNodes=function(e){this.nodes=s.sort(this.nodes,e,this.width)},a.prototype._packNodes=function(){this._sortNodes(),this.float?t.each(this.nodes,t.bind(function(e,n){if(e._updating||typeof e._origY=="undefined"||e.y==e._origY)return;var r=e.y;while(r>=e._origY){var i=t.chain(this.nodes).find(t.bind(s._didCollide,{n:e,newY:r})).value();i||(e._dirty=!0,e.y=r),--r}},this)):t.each(this.nodes,t.bind(function(e,n){if(e.locked)return;while(e.y>0){var r=e.y-1,i=n===0;if(n>0){var o=t.chain(this.nodes).take(n).find(t.bind(s._didCollide,{n:e,newY:r})).value();i=typeof o=="undefined"}if(!i)break;e._dirty=e.y!=r,e.y=r}},this))},a.prototype._prepareNode=function(e,n){return e=t.defaults(e||{},{width:1,height:1,x:0,y:0}),e.x=parseInt(""+e.x),e.y=parseInt(""+e.y),e.width=parseInt(""+e.width),e.height=parseInt(""+e.height),e.autoPosition=e.autoPosition||!1,e.noResize=e.noResize||!1,e.noMove=e.noMove||!1,e.width>this.width?e.width=this.width:e.width<1&&(e.width=1),e.height<1&&(e.height=1),e.x<0&&(e.x=0),e.x+e.width>this.width&&(n?e.width=this.width-e.x:e.x=this.width-e.width),e.y<0&&(e.y=0),e},a.prototype._notify=function(){var e=Array.prototype.slice.call(arguments,0);e[0]=typeof e[0]=="undefined"?[]:[e[0]],e[1]=typeof e[1]=="undefined"?!0:e[1];if(this._updateCounter)return;var t=e[0].concat(this.getDirtyNodes());this.onchange(t,e[1])},a.prototype.cleanNodes=function(){if(this._updateCounter)return;t.each(this.nodes,function(e){e._dirty=!1})},a.prototype.getDirtyNodes=function(){return t.filter(this.nodes,function(e){return e._dirty})},a.prototype.addNode=function(e,n){e=this._prepareNode(e),typeof e.maxWidth!="undefined"&&(e.width=Math.min(e.width,e.maxWidth)),typeof e.maxHeight!="undefined"&&(e.height=Math.min(e.height,e.maxHeight)),typeof e.minWidth!="undefined"&&(e.width=Math.max(e.width,e.minWidth)),typeof e.minHeight!="undefined"&&(e.height=Math.max(e.height,e.minHeight)),e._id=++u,e._dirty=!0;if(e.autoPosition){this._sortNodes();for(var r=0;;++r){var i=r%this.width,o=Math.floor(r/this.width);if(i+e.width>this.width)continue;if(!t.find(this.nodes,t.bind(s._isAddNodeIntercepted,{x:i,y:o,node:e}))){e.x=i,e.y=o;break}}}return this.nodes.push(e),typeof n!="undefined"&&n&&this._addedNodes.push(t.clone(e)),this._fixCollisions(e),this._packNodes(),this._notify(),e},a.prototype.removeNode=function(e,n){n=typeof n=="undefined"?!0:n,this._removedNodes.push(t.clone(e)),e._id=null,this.nodes=t.without(this.nodes,e),this._packNodes(),this._notify(e,n)},a.prototype.canMoveNode=function(n,r,i,s,o){if(!this.isNodeChangedPosition(n,r,i,s,o))return!1;var u=Boolean(t.find(this.nodes,function(e){return e.locked}));if(!this.height&&!u)return!0;var f,l=new a(this.width,null,this.float,0,t.map(this.nodes,function(t){return t==n?(f=e.extend({},t),f):e.extend({},t)}));if(typeof f=="undefined")return!0;l.moveNode(f,r,i,s,o);var c=!0;return u&&(c&=!Boolean(t.find(l.nodes,function(e){return e!=f&&Boolean(e.locked)&&Boolean(e._dirty)}))),this.height&&(c&=l.getGridHeight()<=this.height),c},a.prototype.canBePlacedWithRespectToHeight=function(n){if(!this.height)return!0;var r=new a(this.width,null,this.float,0,t.map(this.nodes,function(t){return e.extend({},t)}));return r.addNode(n),r.getGridHeight()<=this.height},a.prototype.isNodeChangedPosition=function(e,t,n,r,i){return typeof t!="number"&&(t=e.x),typeof n!="number"&&(n=e.y),typeof r!="number"&&(r=e.width),typeof i!="number"&&(i=e.height),typeof e.maxWidth!="undefined"&&(r=Math.min(r,e.maxWidth)),typeof e.maxHeight!="undefined"&&(i=Math.min(i,e.maxHeight)),typeof e.minWidth!="undefined"&&(r=Math.max(r,e.minWidth)),typeof e.minHeight!="undefined"&&(i=Math.max(i,e.minHeight)),e.x==t&&e.y==n&&e.width==r&&e.height==i?!1:!0},a.prototype.moveNode=function(e,t,n,r,i,s){if(!this.isNodeChangedPosition(e,t,n,r,i))return e;typeof t!="number"&&(t=e.x),typeof n!="number"&&(n=e.y),typeof r!="number"&&(r=e.width),typeof i!="number"&&(i=e.height),typeof e.maxWidth!="undefined"&&(r=Math.min(r,e.maxWidth)),typeof e.maxHeight!="undefined"&&(i=Math.min(i,e.maxHeight)),typeof e.minWidth!="undefined"&&(r=Math.max(r,e.minWidth)),typeof e.minHeight!="undefined"&&(i=Math.max(i,e.minHeight));if(e.x==t&&e.y==n&&e.width==r&&e.height==i)return e;var o=e.width!=r;return e._dirty=!0,e.x=t,e.y=n,e.width=r,e.height=i,e.lastTriedX=t,e.lastTriedY=n,e.lastTriedWidth=r,e.lastTriedHeight=i,e=this._prepareNode(e,o),this._fixCollisions(e),s||(this._packNodes(),this._notify()),e},a.prototype.getGridHeight=function(){return t.reduce(this.nodes,function(e,t){return Math.max(e,t.y+t.height)},0)},a.prototype.beginUpdate=function(e){t.each(this.nodes,function(e){e._origY=e.y}),e._updating=!0},a.prototype.endUpdate=function(){t.each(this.nodes,function(e){e._origY=e.y});var e=t.find(this.nodes,function(e){return e._updating});e&&(e._updating=!1)};var f=function(n,r){var s=this,u,f;r=r||{},this.container=e(n),typeof r.handle_class!="undefined"&&(r.handleClass=r.handle_class,i("handle_class","handleClass")),typeof r.item_class!="undefined"&&(r.itemClass=r.item_class,i("item_class","itemClass")),typeof r.placeholder_class!="undefined"&&(r.placeholderClass=r.placeholder_class,i("placeholder_class","placeholderClass")),typeof r.placeholder_text!="undefined"&&(r.placeholderText=r.placeholder_text,i("placeholder_text","placeholderText")),typeof r.cell_height!="undefined"&&(r.cellHeight=r.cell_height,i("cell_height","cellHeight")),typeof r.vertical_margin!="undefined"&&(r.verticalMargin=r.vertical_margin,i("vertical_margin","verticalMargin")),typeof r.min_width!="undefined"&&(r.minWidth=r.min_width,i("min_width","minWidth")),typeof r.static_grid!="undefined"&&(r.staticGrid=r.static_grid,i("static_grid","staticGrid")),typeof r.is_nested!="undefined"&&(r.isNested=r.is_nested,i("is_nested","isNested")),typeof r.always_show_resize_handle!="undefined"&&(r.alwaysShowResizeHandle=r.always_show_resize_handle,i("always_show_resize_handle","alwaysShowResizeHandle")),r.itemClass=r.itemClass||"grid-stack-item";var l=this.container.closest("."+r.itemClass).length>0;this.opts=t.defaults(r||{},{width:parseInt(this.container.attr("data-gs-width"))||12,height:parseInt(this.container.attr("data-gs-height"))||0,itemClass:"grid-stack-item",placeholderClass:"grid-stack-placeholder",placeholderText:"",handle:".grid-stack-item-content",handleClass:null,cellHeight:60,verticalMargin:20,auto:!0,minWidth:768,"float":!1,staticGrid:!1,_class:"grid-stack-instance-"+(Math.random()*1e4).toFixed(0),animate:Boolean(this.container.attr("data-gs-animate"))||!1,alwaysShowResizeHandle:r.alwaysShowResizeHandle||!1,resizable:t.defaults(r.resizable||{},{autoHide:!r.alwaysShowResizeHandle&&!0,handles:"se"}),draggable:t.defaults(r.draggable||{},{handle:(r.handleClass?"."+r.handleClass:r.handle?r.handle:"")||".grid-stack-item-content",scroll:!1,appendTo:"body"}),disableDrag:r.disableDrag||!1,disableResize:r.disableResize||!1,rtl:"auto",removable:!1,removeTimeout:2e3,verticalMarginUnit:"px",cellHeightUnit:"px",oneColumnModeClass:r.oneColumnModeClass||"grid-stack-one-column-mode",ddPlugin:null}),this.opts.ddPlugin===!1?this.opts.ddPlugin=o:this.opts.ddPlugin===null&&(this.opts.ddPlugin=t.first(o.registeredPlugins)||o),this.dd=new this.opts.ddPlugin(this),this.opts.rtl==="auto"&&(this.opts.rtl=this.container.css("direction")==="rtl"),this.opts.rtl&&this.container.addClass("grid-stack-rtl"),this.opts.isNested=l,f=this.opts.cellHeight==="auto",f?s.cellHeight(s.cellWidth(),!0):this.cellHeight(this.opts.cellHeight,!0),this.verticalMargin(this.opts.verticalMargin,!0),this.container.addClass(this.opts._class),this._setStaticClass(),l&&this.container.addClass("grid-stack-nested"),this._initStyles(),this.grid=new a(this.opts.width,function(e,n){n=typeof n=="undefined"?!0:n;var r=0;t.each(e,function(e){n&&e._id===null?e.el&&e.el.remove():(e.el.attr("data-gs-x",e.x).attr("data-gs-y",e.y).attr("data-gs-width",e.width).attr("data-gs-height",e.height),r=Math.max(r,e.y+e.height))}),s._updateStyles(r+10)},this.opts.float,this.opts.height);if(this.opts.auto){var c=[],h=this;this.container.children("."+this.opts.itemClass+":not(."+this.opts.placeholderClass+")").each(function(t,n){n=e(n),c.push({el:n,i:parseInt(n.attr("data-gs-x"))+parseInt(n.attr("data-gs-y"))*h.opts.width})}),t.chain(c).sortBy(function(e){return e.i}).each(function(e){s._prepareElement(e.el)}).value()}this.setAnimation(this.opts.animate),this.placeholder=e('<div class="'+this.opts.placeholderClass+" "+this.opts.itemClass+'">'+'<div class="placeholder-content">'+this.opts.placeholderText+"</div></div>").hide(),this._updateContainerHeight(),this._updateHeightsOnResize=t.throttle(function(){s.cellHeight(s.cellWidth(),!1)},100),this.onResizeHandler=function(){f&&s._updateHeightsOnResize();if(s._isOneColumnMode()){if(u)return;s.container.addClass(s.opts.oneColumnModeClass),u=!0,s.grid._sortNodes(),t.each(s.grid.nodes,function(e){s.container.append(e.el);if(s.opts.staticGrid)return;(e.noMove||s.opts.disableDrag)&&s.dd.draggable(e.el,"disable"),(e.noResize||s.opts.disableResize)&&s.dd.resizable(e.el,"disable"),e.el.trigger("resize")})}else{if(!u)return;s.container.removeClass(s.opts.oneColumnModeClass),u=!1;if(s.opts.staticGrid)return;t.each(s.grid.nodes,function(e){!e.noMove&&!s.opts.disableDrag&&s.dd.draggable(e.el,"enable"),!e.noResize&&!s.opts.disableResize&&s.dd.resizable(e.el,"enable"),e.el.trigger("resize")})}},e(window).resize(this.onResizeHandler),this.onResizeHandler();if(!s.opts.staticGrid&&typeof s.opts.removable=="string"){var p=e(s.opts.removable);this.dd.isDroppable(p)||this.dd.droppable(p,{accept:"."+s.opts.itemClass}),this.dd.on(p,"dropover",function(t,n){var r=e(n.draggable),i=r.data("_gridstack_node");if(i._grid!==s)return;s._setupRemovingTimeout(r)}).on(p,"dropout",function(t,n){var r=e(n.draggable),i=r.data("_gridstack_node");if(i._grid!==s)return;s._clearRemovingTimeout(r)})}if(!s.opts.staticGrid&&s.opts.acceptWidgets){var d=null,v=function(e,t){var n=d,r=n.data("_gridstack_node"),i=s.getCellFromPixel(t.offset,!0),o=Math.max(0,i.x),u=Math.max(0,i.y);if(!r._added)r._added=!0,r.el=n,r.x=o,r.y=u,s.grid.cleanNodes(),s.grid.beginUpdate(r),s.grid.addNode(r),s.container.append(s.placeholder),s.placeholder.attr("data-gs-x",r.x).attr("data-gs-y",r.y).attr("data-gs-width",r.width).attr("data-gs-height",r.height).show(),r.el=s.placeholder,r._beforeDragX=r.x,r._beforeDragY=r.y,s._updateContainerHeight();else{if(!s.grid.canMoveNode(r,o,u))return;s.grid.moveNode(r,o,u),s._updateContainerHeight()}};this.dd.droppable(s.container,{accept:function(t){t=e(t);var n=t.data("_gridstack_node");return n&&n._grid===s?!1:t.is(s.opts.acceptWidgets===!0?".grid-stack-item":s.opts.acceptWidgets)}}).on(s.container,"dropover",function(t,n){var r=s.container.offset(),i=e(n.draggable),o=s.cellWidth(),u=s.cellHeight(),a=i.data("_gridstack_node"),f=a?a.width:Math.ceil(i.outerWidth()/o),l=a?a.height:Math.ceil(i.outerHeight()/u);d=i;var c=s.grid._prepareNode({width:f,height:l,_added:!1,_temporary:!0});i.data("_gridstack_node",c),i.data("_gridstack_node_orig",a),i.on("drag",v)}).on(s.container,"dropout",function(t,n){var r=e(n.draggable);r.unbind("drag",v);var i=r.data("_gridstack_node");i.el=null,s.grid.removeNode(i),s.placeholder.detach(),s._updateContainerHeight(),r.data("_gridstack_node",r.data("_gridstack_node_orig"))}).on(s.container,"drop",function(t,n){s.placeholder.detach();var r=e(n.draggable).data("_gridstack_node");r._grid=s;var i=e(n.draggable).clone(!1);i.data("_gridstack_node",r),e(n.draggable).remove(),r.el=i,s.placeholder.hide(),i.attr("data-gs-x",r.x).attr("data-gs-y",r.y).attr("data-gs-width",r.width).attr("data-gs-height",r.height).addClass(s.opts.itemClass).removeAttr("style").enableSelection().removeData("draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled").unbind("drag",v),s.container.append(i),s._prepareElementsByNode(i,r),s._updateContainerHeight(),s._triggerChangeEvent(),s.grid.endUpdate()})}};return f.prototype._triggerChangeEvent=function(e){var t=this.grid.getDirtyNodes(),n=!1,r=[];t&&t.length&&(r.push(t),n=!0),(n||e===!0)&&this.container.trigger("change",r)},f.prototype._triggerAddEvent=function(){this.grid._addedNodes&&this.grid._addedNodes.length>0&&(this.container.trigger("added",[t.map(this.grid._addedNodes,t.clone)]),this.grid._addedNodes=[])},f.prototype._triggerRemoveEvent=function(){this.grid._removedNodes&&this.grid._removedNodes.length>0&&(this.container.trigger("removed",[t.map(this.grid._removedNodes,t.clone)]),this.grid._removedNodes=[])},f.prototype._initStyles=function(){this._stylesId&&s.removeStylesheet(this._stylesId),this._stylesId="gridstack-style-"+(Math.random()*1e5).toFixed(),this._styles=s.createStylesheet(this._stylesId),this._styles!==null&&(this._styles._max=0)},f.prototype._updateStyles=function(e){if(this._styles===null||typeof this._styles=="undefined")return;var t="."+this.opts._class+" ."+this.opts.itemClass,n=this,r;typeof e=="undefined"&&(e=this._styles._max,this._initStyles(),this._updateContainerHeight());if(!this.opts.cellHeight)return;if(this._styles._max!==0&&e<=this._styles._max)return;!this.opts.verticalMargin||this.opts.cellHeightUnit===this.opts.verticalMarginUnit?r=function(e,t){return n.opts.cellHeight*e+n.opts.verticalMargin*t+n.opts.cellHeightUnit}:r=function(e,t){return!e||!t?n.opts.cellHeight*e+n.opts.verticalMargin*t+n.opts.cellHeightUnit:"calc("+(n.opts.cellHeight*e+n.opts.cellHeightUnit)+" + "+(n.opts.verticalMargin*t+n.opts.verticalMarginUnit)+")"},this._styles._max===0&&s.insertCSSRule(this._styles,t,"min-height: "+r(1,0)+";",0);if(e>this._styles._max){for(var i=this._styles._max;i<e;++i)s.insertCSSRule(this._styles,t+'[data-gs-height="'+(i+1)+'"]',"height: "+r(i+1,i)+";",i),s.insertCSSRule(this._styles,t+'[data-gs-min-height="'+(i+1)+'"]',"min-height: "+r(i+1,i)+";",i),s.insertCSSRule(this._styles,t+'[data-gs-max-height="'+(i+1)+'"]',"max-height: "+r(i+1,i)+";",i),s.insertCSSRule(this._styles,t+'[data-gs-y="'+i+'"]',"top: "+r(i,i)+";",i);this._styles._max=e}},f.prototype._updateContainerHeight=function(){if(this.grid._updateCounter)return;var e=this.grid.getGridHeight();this.container.attr("data-gs-current-height",e);if(!this.opts.cellHeight)return;this.opts.verticalMargin?this.opts.cellHeightUnit===this.opts.verticalMarginUnit?this.container.css("height",e*(this.opts.cellHeight+this.opts.verticalMargin)-this.opts.verticalMargin+this.opts.cellHeightUnit):this.container.css("height","calc("+(e*this.opts.cellHeight+this.opts.cellHeightUnit)+" + "+(e*(this.opts.verticalMargin-1)+this.opts.verticalMarginUnit)+")"):this.container.css("height",e*this.opts.cellHeight+this.opts.cellHeightUnit)},f.prototype._isOneColumnMode=function(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=this.opts.minWidth},f.prototype._setupRemovingTimeout=function(t){var n=this,r=e(t).data("_gridstack_node");if(r._removeTimeout||!n.opts.removable)return;r._removeTimeout=setTimeout(function(){t.addClass("grid-stack-item-removing"),r._isAboutToRemove=!0},n.opts.removeTimeout)},f.prototype._clearRemovingTimeout=function(t){var n=e(t).data("_gridstack_node");if(!n._removeTimeout)return;clearTimeout(n._removeTimeout),n._removeTimeout=null,t.removeClass("grid-stack-item-removing"),n._isAboutToRemove=!1},f.prototype._prepareElementsByNode=function(t,n){if(typeof e.ui=="undefined")return;var r=this,i,s,o=function(e,o){var u=Math.round(o.position.left/i),a=Math.floor((o.position.top+s/2)/s),f,l;e.type!="drag"&&(f=Math.round(o.size.width/i),l=Math.round(o.size.height/s));if(e.type=="drag")u<0||u>=r.grid.width||a<0?(r.opts.removable===!0&&r._setupRemovingTimeout(t),u=n._beforeDragX,a=n._beforeDragY,r.placeholder.detach(),r.placeholder.hide(),r.grid.removeNode(n),r._updateContainerHeight(),n._temporaryRemoved=!0):(r._clearRemovingTimeout(t),n._temporaryRemoved&&(r.grid.addNode(n),r.placeholder.attr("data-gs-x",u).attr("data-gs-y",a).attr("data-gs-width",f).attr("data-gs-height",l).show(),r.container.append(r.placeholder),n.el=r.placeholder,n._temporaryRemoved=!1));else if(e.type=="resize"&&u<0)return;var c=typeof f!="undefined"?f:n.lastTriedWidth,h=typeof l!="undefined"?l:n.lastTriedHeight;if(!r.grid.canMoveNode(n,u,a,f,l)||n.lastTriedX===u&&n.lastTriedY===a&&n.lastTriedWidth===c&&n.lastTriedHeight===h)return;n.lastTriedX=u,n.lastTriedY=a,n.lastTriedWidth=f,n.lastTriedHeight=l,r.grid.moveNode(n,u,a,f,l),r._updateContainerHeight()},u=function(o,u){r.container.append(r.placeholder);var a=e(this);r.grid.cleanNodes(),r.grid.beginUpdate(n),i=r.cellWidth();var f=Math.ceil(a.outerHeight()/a.attr("data-gs-height"));s=r.container.height()/parseInt(r.container.attr("data-gs-current-height")),r.placeholder.attr("data-gs-x",a.attr("data-gs-x")).attr("data-gs-y",a.attr("data-gs-y")).attr("data-gs-width",a.attr("data-gs-width")).attr("data-gs-height",a.attr("data-gs-height")).show(),n.el=r.placeholder,n._beforeDragX=n.x,n._beforeDragY=n.y,r.dd.resizable(t,"option","minWidth",i*(n.minWidth||1)),r.dd.resizable(t,"option","minHeight",f*(n.minHeight||1)),o.type=="resizestart"&&a.find(".grid-stack-item").trigger("resizestart")},a=function(i,s){var o=e(this);if(!o.data("_gridstack_node"))return;var u=!1;r.placeholder.detach(),n.el=o,r.placeholder.hide(),n._isAboutToRemove?(u=!0,t.removeData("_gridstack_node"),t.remove()):(r._clearRemovingTimeout(t),n._temporaryRemoved?(o.attr("data-gs-x",n._beforeDragX).attr("data-gs-y",n._beforeDragY).attr("data-gs-width",n.width).attr("data-gs-height",n.height).removeAttr("style"),n.x=n._beforeDragX,n.y=n._beforeDragY,r.grid.addNode(n)):o.attr("data-gs-x",n.x).attr("data-gs-y",n.y).attr("data-gs-width",n.width).attr("data-gs-height",n.height).removeAttr("style")),r._updateContainerHeight(),r._triggerChangeEvent(u),r.grid.endUpdate();var a=o.find(".grid-stack");a.length&&i.type=="resizestop"&&(a.each(function(t,n){e(n).data("gridstack").onResizeHandler()}),o.find(".grid-stack-item").trigger("resizestop"))};this.dd.draggable(t,{start:u,stop:a,drag:o}).resizable(t,{start:u,stop:a,resize:o}),(n.noMove||this._isOneColumnMode()||this.opts.disableDrag)&&this.dd.draggable(t,"disable"),(n.noResize||this._isOneColumnMode()||this.opts.disableResize)&&this.dd.resizable(t,"disable"),t.attr("data-gs-locked",n.locked?"yes":null)},f.prototype._prepareElement=function(t,n){n=typeof n!="undefined"?n:!1;var r=this;t=e(t),t.addClass(this.opts.itemClass);var i=r.grid.addNode({x:t.attr("data-gs-x"),y:t.attr("data-gs-y"),width:t.attr("data-gs-width"),height:t.attr("data-gs-height"),maxWidth:t.attr("data-gs-max-width"),minWidth:t.attr("data-gs-min-width"),maxHeight:t.attr("data-gs-max-height"),minHeight:t.attr("data-gs-min-height"),autoPosition:s.toBool(t.attr("data-gs-auto-position")),noResize:s.toBool(t.attr("data-gs-no-resize")),noMove:s.toBool(t.attr("data-gs-no-move")),locked:s.toBool(t.attr("data-gs-locked")),el:t,id:t.attr("data-gs-id"),_grid:r},n);t.data("_gridstack_node",i),this._prepareElementsByNode(t,i)},f.prototype.setAnimation=function(e){e?this.container.addClass("grid-stack-animate"):this.container.removeClass("grid-stack-animate")},f.prototype.addWidget=function(t,n,r,i,s,o,u,a,f,l,c){return t=e(t),typeof n!="undefined"&&t.attr("data-gs-x",n),typeof r!="undefined"&&t.attr("data-gs-y",r),typeof i!="undefined"&&t.attr("data-gs-width",i),typeof s!="undefined"&&t.attr("data-gs-height",s),typeof o!="undefined"&&t.attr("data-gs-auto-position",o?"yes":null),typeof u!="undefined"&&t.attr("data-gs-min-width",u),typeof a!="undefined"&&t.attr("data-gs-max-width",a),typeof f!="undefined"&&t.attr("data-gs-min-height",f),typeof l!="undefined"&&t.attr("data-gs-max-height",l),typeof c!="undefined"&&t.attr("data-gs-id",c),this.container.append(t),this._prepareElement(t,!0),this._triggerAddEvent(),this._updateContainerHeight(),this._triggerChangeEvent(!0),t},f.prototype.makeWidget=function(t){return t=e(t),this._prepareElement(t,!0),this._triggerAddEvent(),this._updateContainerHeight(),this._triggerChangeEvent(!0),t},f.prototype.willItFit=function(e,t,n,r,i){var s={x:e,y:t,width:n,height:r,autoPosition:i};return this.grid.canBePlacedWithRespectToHeight(s)},f.prototype.removeWidget=function(t,n){n=typeof n=="undefined"?!0:n,t=e(t);var r=t.data("_gridstack_node");r||(r=this.grid.getNodeDataByDOMEl(t)),this.grid.removeNode(r,n),t.removeData("_gridstack_node"),this._updateContainerHeight(),n&&t.remove(),this._triggerChangeEvent(!0),this._triggerRemoveEvent()},f.prototype.removeAll=function(e){t.each(this.grid.nodes,t.bind(function(t){this.removeWidget(t.el,e)},this)),this.grid.nodes=[],this._updateContainerHeight()},f.prototype.destroy=function(t){e(window).off("resize",this.onResizeHandler),this.disable(),typeof t!="undefined"&&!t?(this.removeAll(!1),this.container.removeData("gridstack")):this.container.remove(),s.removeStylesheet(this._stylesId),this.grid&&(this.grid=null)},f.prototype.resizable=function(t,n){var r=this;return t=e(t),t.each(function(t,i){i=e(i);var s=i.data("_gridstack_node");if(typeof s=="undefined"||s===null||typeof e.ui=="undefined")return;s.noResize=!n&&!0,s.noResize||r._isOneColumnMode()?r.dd.resizable(i,"disable"):r.dd.resizable(i,"enable")}),this},f.prototype.movable=function(t,n){var r=this;return t=e(t),t.each(function(t,i){i=e(i);var s=i.data("_gridstack_node");if(typeof s=="undefined"||s===null||typeof e.ui=="undefined")return;s.noMove=!n&&!0,s.noMove||r._isOneColumnMode()?(r.dd.draggable(i,"disable"),i.removeClass("ui-draggable-handle")):(r.dd.draggable(i,"enable"),i.addClass("ui-draggable-handle"))}),this},f.prototype.enableMove=function(e,t){this.movable(this.container.children("."+this.opts.itemClass),e),t&&(this.opts.disableDrag=!e)},f.prototype.enableResize=function(e,t){this.resizable(this.container.children("."+this.opts.itemClass),e),t&&(this.opts.disableResize=!e)},f.prototype.disable=function(){this.movable(this.container.children("."+this.opts.itemClass),!1),this.resizable(this.container.children("."+this.opts.itemClass),!1),this.container.trigger("disable")},f.prototype.enable=function(){this.movable(this.container.children("."+this.opts.itemClass),!0),this.resizable(this.container.children("."+this.opts.itemClass),!0),this.container.trigger("enable")},f.prototype.locked=function(t,n){return t=e(t),t.each(function(t,r){r=e(r);var i=r.data("_gridstack_node");if(typeof i=="undefined"||i===null)return;i.locked=n||!1,r.attr("data-gs-locked",i.locked?"yes":null)}),this},f.prototype.maxHeight=function(t,n){return t=e(t),t.each(function(t,r){r=e(r);var i=r.data("_gridstack_node");if(typeof i=="undefined"||i===null)return;isNaN(n)||(i.maxHeight=n||!1,r.attr("data-gs-max-height",n))}),this},f.prototype.minHeight=function(t,n){return t=e(t),t.each(function(t,r){r=e(r);var i=r.data("_gridstack_node");if(typeof i=="undefined"||i===null)return;isNaN(n)||(i.minHeight=n||!1,r.attr("data-gs-min-height",n))}),this},f.prototype.maxWidth=function(t,n){return t=e(t),t.each(function(t,r){r=e(r);var i=r.data("_gridstack_node");if(typeof i=="undefined"||i===null)return;isNaN(n)||(i.maxWidth=n||!1,r.attr("data-gs-max-width",n))}),this},f.prototype.minWidth=function(t,n){return t=e(t),t.each(function(t,r){r=e(r);var i=r.data("_gridstack_node");if(typeof i=="undefined"||i===null)return;isNaN(n)||(i.minWidth=n||!1,r.attr("data-gs-min-width",n))}),this},f.prototype._updateElement=function(t,n){t=e(t).first();var r=t.data("_gridstack_node");if(typeof r=="undefined"||r===null)return;var i=this;i.grid.cleanNodes(),i.grid.beginUpdate(r),n.call(this,t,r),i._updateContainerHeight(),i._triggerChangeEvent(),i.grid.endUpdate()},f.prototype.resize=function(e,t,n){this._updateElement(e,function(e,r){t=t!==null&&typeof t!="undefined"?t:r.width,n=n!==null&&typeof n!="undefined"?n:r.height,this.grid.moveNode(r,r.x,r.y,t,n)})},f.prototype.move=function(e,t,n){this._updateElement(e,function(e,r){t=t!==null&&typeof t!="undefined"?t:r.x,n=n!==null&&typeof n!="undefined"?n:r.y,this.grid.moveNode(r,t,n,r.width,r.height)})},f.prototype.update=function(e,t,n,r,i){this._updateElement(e,function(e,s){t=t!==null&&typeof t!="undefined"?t:s.x,n=n!==null&&typeof n!="undefined"?n:s.y,r=r!==null&&typeof r!="undefined"?r:s.width,i=i!==null&&typeof i!="undefined"?i:s.height,this.grid.moveNode(s,t,n,r,i)})},f.prototype.verticalMargin=function(e,t){if(typeof e=="undefined")return this.opts.verticalMargin;var n=s.parseHeight(e);if(this.opts.verticalMarginUnit===n.unit&&this.opts.height===n.height)return;this.opts.verticalMarginUnit=n.unit,this.opts.verticalMargin=n.height,t||this._updateStyles()},f.prototype.cellHeight=function(e,t){if(typeof e=="undefined"){if(this.opts.cellHeight)return this.opts.cellHeight;var n=this.container.children("."+this.opts.itemClass).first();return Math.ceil(n.outerHeight()/n.attr("data-gs-height"))}var r=s.parseHeight(e);if(this.opts.cellHeightUnit===r.heightUnit&&this.opts.height===r.height)return;this.opts.cellHeightUnit=r.unit,this.opts.cellHeight=r.height,t||this._updateStyles()},f.prototype.cellWidth=function(){return Math.round(this.container.outerWidth()/this.opts.width)},f.prototype.getCellFromPixel=function(e,t){var n=typeof t!="undefined"&&t?this.container.offset():this.container.position(),r=e.left-n.left,i=e.top-n.top,s=Math.floor(this.container.width()/this.opts.width),o=Math.floor(this.container.height()/parseInt(this.container.attr("data-gs-current-height")));return{x:Math.floor(r/s),y:Math.floor(i/o)}},f.prototype.batchUpdate=function(){this.grid.batchUpdate()},f.prototype.commit=function(){this.grid.commit(),this._updateContainerHeight()},f.prototype.isAreaEmpty=function(e,t,n,r){return this.grid.isAreaEmpty(e,t,n,r)},f.prototype.setStatic=function(e){this.opts.staticGrid=e===!0,this.enableMove(!e),this.enableResize(!e),this._setStaticClass()},f.prototype._setStaticClass=function(){var e="grid-stack-static";this.opts.staticGrid===!0?this.container.addClass(e):this.container.removeClass(e)},f.prototype._updateNodeWidths=function(e,t){this.grid._sortNodes(),this.grid.batchUpdate();var n={};for(var r=0;r<this.grid.nodes.length;r++)n=this.grid.nodes[r],this.update(n.el,Math.round(n.x*t/e),undefined,Math.round(n.width*t/e),undefined);this.grid.commit()},f.prototype.setGridWidth=function(e,t){this.container.removeClass("grid-stack-"+this.opts.width),t!==!0&&this._updateNodeWidths(this.opts.width,e),this.opts.width=e,this.grid.width=e,this.container.addClass("grid-stack-"+e)},a.prototype.batch_update=r(a.prototype.batchUpdate),a.prototype._fix_collisions=r(a.prototype._fixCollisions,"_fix_collisions","_fixCollisions"),a.prototype.is_area_empty=r(a.prototype.isAreaEmpty,"is_area_empty","isAreaEmpty"),a.prototype._sort_nodes=r(a.prototype._sortNodes,"_sort_nodes","_sortNodes"),a.prototype._pack_nodes=r(a.prototype._packNodes,"_pack_nodes","_packNodes"),a.prototype._prepare_node=r(a.prototype._prepareNode,"_prepare_node","_prepareNode"),a.prototype.clean_nodes=r(a.prototype.cleanNodes,"clean_nodes","cleanNodes"),a.prototype.get_dirty_nodes=r(a.prototype.getDirtyNodes,"get_dirty_nodes","getDirtyNodes"),a.prototype.add_node=r(a.prototype.addNode,"add_node","addNode, "),a.prototype.remove_node=r(a.prototype.removeNode,"remove_node","removeNode"),a.prototype.can_move_node=r(a.prototype.canMoveNode,"can_move_node","canMoveNode"),a.prototype.move_node=r(a.prototype.moveNode,"move_node","moveNode"),a.prototype.get_grid_height=r(a.prototype.getGridHeight,"get_grid_height","getGridHeight"),a.prototype.begin_update=r(a.prototype.beginUpdate,"begin_update","beginUpdate"),a.prototype.end_update=r(a.prototype.endUpdate,"end_update","endUpdate"),a.prototype.can_be_placed_with_respect_to_height=r(a.prototype.canBePlacedWithRespectToHeight,"can_be_placed_with_respect_to_height","canBePlacedWithRespectToHeight"),f.prototype._trigger_change_event=r(f.prototype._triggerChangeEvent,"_trigger_change_event","_triggerChangeEvent"),f.prototype._init_styles=r(f.prototype._initStyles,"_init_styles","_initStyles"),f.prototype._update_styles=r(f.prototype._updateStyles,"_update_styles","_updateStyles"),f.prototype._update_container_height=r(f.prototype._updateContainerHeight,"_update_container_height","_updateContainerHeight"),f.prototype._is_one_column_mode=r(f.prototype._isOneColumnMode,"_is_one_column_mode","_isOneColumnMode"),f.prototype._prepare_element=r(f.prototype._prepareElement,"_prepare_element","_prepareElement"),f.prototype.set_animation=r(f.prototype.setAnimation,"set_animation","setAnimation"),f.prototype.add_widget=r(f.prototype.addWidget,"add_widget","addWidget"),f.prototype.make_widget=r(f.prototype.makeWidget,"make_widget","makeWidget"),f.prototype.will_it_fit=r(f.prototype.willItFit,"will_it_fit","willItFit"),f.prototype.remove_widget=r(f.prototype.removeWidget,"remove_widget","removeWidget"),f.prototype.remove_all=r(f.prototype.removeAll,"remove_all","removeAll"),f.prototype.min_height=r(f.prototype.minHeight,"min_height","minHeight"),f.prototype.min_width=r(f.prototype.minWidth,"min_width","minWidth"),f.prototype._update_element=r(f.prototype._updateElement,"_update_element","_updateElement"),f.prototype.cell_height=r(f.prototype.cellHeight,"cell_height","cellHeight"),f.prototype.cell_width=r(f.prototype.cellWidth,"cell_width","cellWidth"),f.prototype.get_cell_from_pixel=r(f.prototype.getCellFromPixel,"get_cell_from_pixel","getCellFromPixel"),f.prototype.batch_update=r(f.prototype.batchUpdate,"batch_update","batchUpdate"),f.prototype.is_area_empty=r(f.prototype.isAreaEmpty,"is_area_empty","isAreaEmpty"),f.prototype.set_static=r(f.prototype.setStatic,"set_static","setStatic"),f.prototype._set_static_class=r(f.prototype._setStaticClass,"_set_static_class","_setStaticClass"),n.GridStackUI=f,n.GridStackUI.Utils=s,n.GridStackUI.Engine=a,n.GridStackUI.GridStackDragDropPlugin=o,e.fn.gridstack=function(t){return this.each(function(){var n=e(this);n.data("gridstack")||n.data("gridstack",new f(this,t))})},n.GridStackUI}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/data",["jquery","./version"],e):e(jQuery)}(function(e){return e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])}})}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/disable-selection",["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}})}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/focusable",["jquery","./version"],e):e(jQuery)}(function(e){function t(e){var t=e.css("visibility");while(t==="inherit")e=e.parent(),t=e.css("visibility");return t!=="hidden"}return e.ui.focusable=function(n,r){var i,s,o,u,a,f=n.nodeName.toLowerCase();return"area"===f?(i=n.parentNode,s=i.name,!n.href||!s||i.nodeName.toLowerCase()!=="map"?!1:(o=e("img[usemap='#"+s+"']"),o.length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(f)?(u=!n.disabled,u&&(a=e(n).closest("fieldset")[0],a&&(u=!a.disabled))):"a"===f?u=n.href||r:u=r,u&&e(n).is(":visible")&&t(e(n)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,e.attr(t,"tabindex")!=null)}}),e.ui.focusable}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/form",["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.form=function(){return typeof this[0].form=="string"?this.closest("form"):e(this[0].form)}}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/escape-selector",["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.escapeSelector=function(){var e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(t){return t.replace(e,"\\$1")}}()}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/labels",["jquery","./version","./escape-selector"],e):e(jQuery)}(function(e){return e.fn.labels=function(){var t,n,r,i,s;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(i=this.eq(0).parents("label"),r=this.attr("id"),r&&(t=this.eq(0).parents().last(),s=t.add(t.length?t.siblings():this.siblings()),n="label[for='"+e.ui.escapeSelector(r)+"']",i=i.add(s.find(n).addBack(n))),this.pushStack(i))}}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/jquery-1-7",["jquery","./version"],e):e(jQuery)}(function(e){e.fn.jquery.substring(0,3)==="1.7"&&(e.each(["Width","Height"],function(t,n){function o(t,n,i,s){return e.each(r,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var r=n==="Width"?["Left","Right"]:["Top","Bottom"],i=n.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return t===undefined?s["inner"+n].call(this):this.each(function(){e(this).css(i,o(this,t)+"px")})},e.fn["outer"+n]=function(t,r){return typeof t!="number"?s["outer"+n].call(this,t):this.each(function(){e(this).css(i,o(this,t,!0,r)+"px")})}}),e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))})}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/plugin",["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.plugin={add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,s=e.plugins[t];if(!s)return;if(!r&&(!e.element[0].parentNode||e.element[0].parentNode.nodeType===11))return;for(i=0;i<s.length;i++)e.options[s[i][0]]&&s[i][1].apply(e.element,n)}}}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/safe-active-element",["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(n){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/safe-blur",["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeBlur=function(t){t&&t.nodeName.toLowerCase()!=="body"&&e(t).trigger("blur")}}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/scroll-parent",["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.scrollParent=function(t){var n=this.css("position"),r=n==="absolute",i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var t=e(this);return r&&t.css("position")==="static"?!1:i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return n==="fixed"||!s.length?e(this[0].ownerDocument||document):s}}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/tabbable",["jquery","./version","./focusable"],e):e(jQuery)}(function(e){return e.extend(e.expr[":"],{tabbable:function(t){var n=e.attr(t,"tabindex"),r=n!=null;return(!r||n>=0)&&e.ui.focusable(t,r)}})}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/unique-id",["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}})}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/widgets/draggable",["jquery","./mouse","../data","../plugin","../safe-active-element","../safe-blur","../scroll-parent","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper==="original"&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),e==="handle"&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=!0;return}this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blurActiveElement(t),this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=e.ui.safeActiveElement(this.document[0]),r=e(t.target);if(r.closest(n).length)return;e.ui.safeBlur(n)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return e(this).css("position")==="fixed"}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute");if(!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),this.options.revert==="invalid"&&!r||this.options.revert==="valid"&&r||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper),i=r?e(n.helper.apply(this.element[0],[t])):n.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo(n.appendTo==="parent"?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]!==this.element[0]&&!/(fixed|absolute)/.test(i.css("position"))&&i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return this.cssPosition==="absolute"&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options,s=this.document[0];this.relativeContainer=null;if(!i.containment){this.containment=null;return}if(i.containment==="window"){this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(i.containment==="document"){this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(i.containment.constructor===Array){this.containment=i.containment;return}i.containment==="parent"&&(i.containment=this.helper[0].parentNode),n=e(i.containment),r=n[0];if(!r)return;t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n},_convertPositionTo:function(e,t){t||(t=this.position);var n=e==="absolute"?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,s,o=this.options,u=this._isRootNode(this.scrollParent[0]),a=e.pageX,f=e.pageY;if(!u||!this.offset.scroll)this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()};return t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(a=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(f=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(a=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(f=n[3]+this.offset.click.top)),o.grid&&(i=o.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,f=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-o.grid[1]:i+o.grid[1]:i,s=o.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,a=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-o.grid[0]:s+o.grid[0]:s),o.axis==="y"&&(a=this.originalPageX),o.axis==="x"&&(f=this.originalPageY)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:u?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:u?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var i=e.extend({},n,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,i))})},stop:function(t,n,r){var i=e.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,function(){var e=this;e.isOver?(e.isOver=0,r.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(t,n,r){e.each(r.sortables,function(){var i=!1,s=this;s.positionAbs=r.positionAbs,s.helperProportions=r.helperProportions,s.offset.click=r.offset.click,s._intersectsWith(s.containerCache)&&(i=!0,e.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&e.contains(s.element[0],this.element[0])&&(i=!1),i})),i?(s.isOver||(s.isOver=1,r._parent=n.helper.parent(),s.currentItem=n.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return n.helper[0]},t.target=s.currentItem[0],s._mouseCapture(t,!0),s._mouseStart(t,!0,!0),s.offset.click.top=r.offset.click.top,s.offset.click.left=r.offset.click.left,s.offset.parent.left-=r.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=r.offset.parent.top-s.offset.parent.top,r._trigger("toSortable",t),r.dropped=s.element,e.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,s.fromOutside=r),s.currentItem&&(s._mouseDrag(t),n.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",t,s._uiHash(s)),s._mouseStop(t,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(t),n.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var i=e("body"),s=r.options;i.css("cursor")&&(s._cursor=i.css("cursor")),i.css("cursor",s.cursor)},stop:function(t,n,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var i=e(n.helper),s=r.options;i.css("opacity")&&(s._opacity=i.css("opacity")),i.css("opacity",s.opacity)},stop:function(t,n,r){var i=r.options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&n.scrollParentNotHidden[0].tagName!=="HTML"&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,r){var i=r.options,s=!1,o=r.scrollParentNotHidden[0],u=r.document[0];if(o!==u&&o.tagName!=="HTML"){if(!i.axis||i.axis!=="x")r.overflowOffset.top+o.offsetHeight-t.pageY<i.scrollSensitivity?o.scrollTop=s=o.scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-i.scrollSpeed);if(!i.axis||i.axis!=="y")r.overflowOffset.left+o.offsetWidth-t.pageX<i.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-i.scrollSpeed)}else{if(!i.axis||i.axis!=="x")t.pageY-e(u).scrollTop()<i.scrollSensitivity?s=e(u).scrollTop(e(u).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(u).scrollTop())<i.scrollSensitivity&&(s=e(u).scrollTop(e(u).scrollTop()+i.scrollSpeed));if(!i.axis||i.axis!=="y")t.pageX-e(u).scrollLeft()<i.scrollSensitivity?s=e(u).scrollLeft(e(u).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(u).scrollLeft())<i.scrollSensitivity&&(s=e(u).scrollLeft(e(u).scrollLeft()+i.scrollSpeed))}s!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var i=r.options;r.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,r){var i,s,o,u,a,f,l,c,h,p,d=r.options,v=d.snapTolerance,m=n.offset.left,g=m+r.helperProportions.width,y=n.offset.top,b=y+r.helperProportions.height;for(h=r.snapElements.length-1;h>=0;h--){a=r.snapElements[h].left-r.margins.left,f=a+r.snapElements[h].width,l=r.snapElements[h].top-r.margins.top,c=l+r.snapElements[h].height;if(g<a-v||m>f+v||b<l-v||y>c+v||!e.contains(r.snapElements[h].item.ownerDocument,r.snapElements[h].item)){r.snapElements[h].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=!1;continue}d.snapMode!=="inner"&&(i=Math.abs(l-b)<=v,s=Math.abs(c-y)<=v,o=Math.abs(a-g)<=v,u=Math.abs(f-m)<=v,i&&(n.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top),s&&(n.position.top=r._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left),u&&(n.position.left=r._convertPositionTo("relative",{top:0,left:f}).left)),p=i||s||o||u,d.snapMode!=="outer"&&(i=Math.abs(l-y)<=v,s=Math.abs(c-b)<=v,o=Math.abs(a-m)<=v,u=Math.abs(f-g)<=v,i&&(n.position.top=r._convertPositionTo("relative",{top:l,left:0}).top),s&&(n.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top),o&&(n.position.left=r._convertPositionTo("relative",{top:0,left:a}).left),u&&(n.position.left=r._convertPositionTo("relative",{top:0,left:f-r.helperProportions.width}).left)),!r.snapElements[h].snapping&&(i||s||o||u||p)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=i||s||o||u||p}}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var i,s=r.options,o=e.makeArray(e(s.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(!o.length)return;i=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",i+t)}),this.css("zIndex",i+o.length)}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var i=e(n.helper),s=r.options;i.css("zIndex")&&(s._zIndex=i.css("zIndex")),i.css("zIndex",s.zIndex)},stop:function(t,n,r){var i=r.options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}}),e.ui.draggable}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/widgets/droppable",["jquery","./draggable","./mouse","../version","../widget"],e):e(jQuery)}(function(e){e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,r=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){if(!arguments.length)return t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};t=arguments[0]},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){var t=0;for(;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,n){if(t==="accept")this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if(t==="scope"){var r=e.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0])return;this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0])return;this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(n)))},_drop:function(n,r){var i=r||e.ui.ddmanager.current,s=!1;return!i||(i.currentItem||i.element)[0]===this.element[0]?!1:(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var r=e(this).droppable("instance");if(r.options.greedy&&!r.options.disabled&&r.options.scope===i.options.scope&&r.accept.call(r.element[0],i.currentItem||i.element)&&t(i,e.extend(r,{offset:r.element.offset()}),r.options.tolerance,n))return s=!0,!1}),s?!1:this.accept.call(this.element[0],i.currentItem||i.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",n,this.ui(i)),this.element):!1)},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var t=e.ui.intersect=function(){function e(e,t,n){return e>=t&&e<t+n}return function(t,n,r,i){if(!n.offset)return!1;var s=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,u=s+t.helperProportions.width,a=o+t.helperProportions.height,f=n.offset.left,l=n.offset.top,c=f+n.proportions().width,h=l+n.proportions().height;switch(r){case"fit":return f<=s&&u<=c&&l<=o&&a<=h;case"intersect":return f<s+t.helperProportions.width/2&&u-t.helperProportions.width/2<c&&l<o+t.helperProportions.height/2&&a-t.helperProportions.height/2<h;case"pointer":return e(i.pageY,l,n.proportions().height)&&e(i.pageX,f,n.proportions().width);case"touch":return(o>=l&&o<=h||a>=l&&a<=h||o<l&&a>h)&&(s>=f&&s<=c||u>=f&&u<=c||s<f&&u>c);default:return!1}}}();return e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r,i,s=e.ui.ddmanager.droppables[t.options.scope]||[],o=n?n.type:null,u=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<s.length;r++){if(s[r].options.disabled||t&&!s[r].accept.call(s[r].element[0],t.currentItem||t.element))continue;for(i=0;i<u.length;i++)if(u[i]===s[r].element[0]){s[r].proportions().height=0;continue e}s[r].visible=s[r].element.css("display")!=="none";if(!s[r].visible)continue;o==="mousedown"&&s[r]._activate.call(s[r],n),s[r].offset=s[r].element.offset(),s[r].proportions({width:s[r].element[0].offsetWidth,height:s[r].element[0].offsetHeight})}},drop:function(n,r){var i=!1;return e.each((e.ui.ddmanager.droppables[n.options.scope]||[]).slice(),function(){if(!this.options)return;!this.options.disabled&&this.visible&&t(n,this,this.options.tolerance,r)&&(i=this._drop.call(this,r)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,r))}),i},dragStart:function(t,n){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(n,r){n.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(n,r),e.each(e.ui.ddmanager.droppables[n.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var i,s,o,u=t(n,this,this.options.tolerance,r),a=!u&&this.isover?"isout":u&&!this.isover?"isover":null;if(!a)return;this.options.greedy&&(s=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===s}),o.length&&(i=e(o[0]).droppable("instance"),i.greedyChild=a==="isover")),i&&a==="isover"&&(i.isover=!1,i.isout=!0,i._out.call(i,r)),this[a]=!0,this[a==="isout"?"isover":"isout"]=!1,this[a==="isover"?"_over":"_out"].call(this,r),i&&a==="isout"&&(i.isout=!1,i.isover=!0,i._over.call(i,r))})},dragStop:function(t,n){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},e.uiBackCompat!==!1&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/widgets/resizable",["jquery","./mouse","../disable-selection","../plugin","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},_create:function(){var t,n=this.options,r=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),n.autoHide&&e(this.element).on("mouseenter",function(){if(n.disabled)return;r._removeClass("ui-resizable-autohide"),r._handles.show()}).on("mouseleave",function(){if(n.disabled)return;r.resizing||(r._addClass("ui-resizable-autohide"),r._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(e,t){this._super(e,t);switch(e){case"handles":this._removeHandles(),this._setupHandles();break;default:}},_setupHandles:function(){var t=this.options,n,r,i,s,o,u=this;this.handles=t.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e();if(this.handles.constructor===String){this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={};for(r=0;r<i.length;r++)n=e.trim(i[r]),s="ui-resizable-"+n,o=e("<div>"),this._addClass(o,"ui-resizable-handle "+s),o.css({zIndex:t.zIndex}),this.handles[n]=".ui-resizable-"+n,this.element.append(o)}this._renderAxis=function(t){var n,r,i,s;t=t||this.element;for(n in this.handles){if(this.handles[n].constructor===String)this.handles[n]=this.element.children(this.handles[n]).first().show();else if(this.handles[n].jquery||this.handles[n].nodeType)this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:u._mouseDown});this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=e(this.handles[n],this.element),s=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])}},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){u.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),u.axis=o&&o[1]?o[1]:"se")}),t.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles){r=e(this.handles[n])[0];if(r===t.target||e.contains(r,t.target))i=!0}return!this.options.disabled&&i},_mouseStart:function(t){var n,r,i,s=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),s.containment&&(n+=e(s.containment).scrollLeft()||0,r+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:n,top:r},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof s.aspectRatio=="number"?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor",i==="auto"?this.axis+"-resize":i),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,r,i=this.originalMousePosition,s=this.axis,o=t.pageX-i.left||0,u=t.pageY-i.top||0,a=this._change[s];this._updatePrevProperties();if(!a)return!1;n=a.apply(this,[t,o,u]),this._updateVirtualBoundaries(t.shiftKey);if(this._aspectRatio||t.shiftKey)n=this._updateRatio(n,t);return n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1},_mouseStop:function(t){this.resizing=!1;var n,r,i,s,o,u,a,f=this.options,l=this;return this._helper&&(n=this._proportionallyResizeElements,r=n.length&&/textarea/i.test(n[0].nodeName),i=r&&this._hasScroll(n[0],"left")?0:l.sizeDiff.height,s=r?0:l.sizeDiff.width,o={width:l.helper.width()-s,height:l.helper.height()-i},u=parseFloat(l.element.css("left"))+(l.position.left-l.originalPosition.left)||null,a=parseFloat(l.element.css("top"))+(l.position.top-l.originalPosition.top)||null,f.animate||this.element.css(e.extend(o,{top:a,left:u})),l.helper.height(l.size.height),l.helper.width(l.size.width),this._helper&&!f.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,r,i,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||e)t=s.minHeight*this.aspectRatio,r=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,i=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),r>s.minHeight&&(s.minHeight=r),n<s.maxWidth&&(s.maxWidth=n),i<s.maxHeight&&(s.maxHeight=i);this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),r==="sw"&&(e.left=t.left+(n.width-e.width),e.top=null),r==="nw"&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,i=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,u=this.originalPosition.left+this.originalSize.width,a=this.originalPosition.top+this.originalSize.height,f=/sw|nw|w/.test(n),l=/nw|ne|n/.test(n);return s&&(e.width=t.minWidth),o&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),i&&(e.height=t.maxHeight),s&&f&&(e.left=u-t.minWidth),r&&f&&(e.left=u-t.maxWidth),o&&l&&(e.top=a-t.minHeight),i&&l&&(e.top=a-t.maxHeight),!e.width&&!e.height&&!e.left&&e.top?e.top=null:!e.width&&!e.height&&!e.top&&e.left&&(e.left=null),e},_getPaddingPlusBorderDimensions:function(e){var t=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],i=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];for(;t<4;t++)n[t]=parseFloat(r[t])||0,n[t]+=parseFloat(i[t])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length)return;var e,t=0,n=this.helper||this.element;for(;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize,i=this.originalPosition;return{top:i.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),t!=="resize"&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),r=n.options,i=n._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,u=s?0:n.sizeDiff.width,a={width:n.size.width-u,height:n.size.height-o},f=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,l=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(a,l&&f?{top:l,left:f}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,r,i,s,o,u,a=e(this).resizable("instance"),f=a.options,l=a.element,c=f.containment,h=c instanceof e?c.get(0):/parent/.test(c)?l.parent().get(0):c;if(!h)return;a.containerElement=e(h),/document/.test(c)||c===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){n[e]=a._num(t.css("padding"+r))}),a.containerOffset=t.offset(),a.containerPosition=t.position(),a.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},r=a.containerOffset,i=a.containerSize.height,s=a.containerSize.width,o=a._hasScroll(h,"left")?h.scrollWidth:s,u=a._hasScroll(h)?h.scrollHeight:i,a.parentData={element:h,left:r.left,top:r.top,width:o,height:u})},resize:function(t){var n,r,i,s,o=e(this).resizable("instance"),u=o.options,a=o.containerOffset,f=o.position,l=o._aspectRatio||t.shiftKey,c={top:0,left:0},h=o.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(c=a),f.left<(o._helper?a.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-a.left:o.position.left-c.left),l&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=u.helper?a.left:0),f.top<(o._helper?a.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-a.top:o.position.top),l&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?a.top:0),i=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),i&&s?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),n=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-c.left:o.offset.left-a.left)),r=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-c.top:o.offset.top-a.top)),n+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-n,l&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),r+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-r,l&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,r=t.containerOffset,i=t.containerPosition,s=t.containerElement,o=e(t.helper),u=o.offset(),a=o.outerWidth()-t.sizeDiff.width,f=o.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(s.css("position"))&&e(this).css({left:u.left-i.left-r.left,width:a,height:f}),t._helper&&!n.animate&&/static/.test(s.css("position"))&&e(this).css({left:u.left-i.left-r.left,width:a,height:f})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options;e(n.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,n){var r=e(this).resizable("instance"),i=r.options,s=r.originalSize,o=r.originalPosition,u={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0};e(i.alsoResize).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),i={},s=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var n=(r[t]||0)+(u[t]||0);n&&n>=0&&(i[t]=n||null)}),t.css(i)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),e.uiBackCompat!==!1&&typeof t.options.ghost=="string"&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),r=n.options,i=n.size,s=n.originalSize,o=n.originalPosition,u=n.axis,a=typeof r.grid=="number"?[r.grid,r.grid]:r.grid,f=a[0]||1,l=a[1]||1,c=Math.round((i.width-s.width)/f)*f,h=Math.round((i.height-s.height)/l)*l,p=s.width+c,d=s.height+h,v=r.maxWidth&&r.maxWidth<p,m=r.maxHeight&&r.maxHeight<d,g=r.minWidth&&r.minWidth>p,y=r.minHeight&&r.minHeight>d;r.grid=a,g&&(p+=f),y&&(d+=l),v&&(p-=f),m&&(d-=l);if(/^(se|s|e)$/.test(u))n.size.width=p,n.size.height=d;else if(/^(ne)$/.test(u))n.size.width=p,n.size.height=d,n.position.top=o.top-h;else if(/^(sw)$/.test(u))n.size.width=p,n.size.height=d,n.position.left=o.left-c;else{if(d-l<=0||p-f<=0)t=n._getPaddingPlusBorderDimensions(this);d-l>0?(n.size.height=d,n.position.top=o.top-h):(d=l-t.height,n.size.height=d,n.position.top=o.top+s.height-d),p-f>0?(n.size.width=p,n.position.left=o.left-c):(p=f-t.width,n.size.width=p,n.position.left=o.left+s.width-p)}}}),e.ui.resizable}),function(e){if(typeof define=="function"&&define.amd)define("gridstackUi",["jquery","underscore","gridstack","jquery-ui/data","jquery-ui/disable-selection","jquery-ui/focusable","jquery-ui/form","jquery-ui/ie","jquery-ui/keycode","jquery-ui/labels","jquery-ui/jquery-1-7","jquery-ui/plugin","jquery-ui/safe-active-element","jquery-ui/safe-blur","jquery-ui/scroll-parent","jquery-ui/tabbable","jquery-ui/unique-id","jquery-ui/version","jquery-ui/widget","jquery-ui/widgets/mouse","jquery-ui/widgets/draggable","jquery-ui/widgets/droppable","jquery-ui/widgets/resizable"],e);else if(typeof exports!="undefined"){try{jQuery=require("jquery")}catch(t){}try{_=require("lodash")}catch(t){}try{GridStackUI=require("gridstack")}catch(t){}e(jQuery,_,GridStackUI)}else e(jQuery,_,GridStackUI)}(function(e,t,n){function i(e){n.GridStackDragDropPlugin.call(this,e)}var r=window;return n.GridStackDragDropPlugin.registerPlugin(i),i.prototype=Object.create(n.GridStackDragDropPlugin.prototype),i.prototype.constructor=i,i.prototype.resizable=function(n,r){n=e(n);if(r==="disable"||r==="enable")n.resizable(r);else if(r==="option"){var i=arguments[2],s=arguments[3];n.resizable(r,i,s)}else n.resizable(t.extend({},this.grid.opts.resizable,{start:r.start||function(){},stop:r.stop||function(){},resize:r.resize||function(){}}));return this},i.prototype.draggable=function(n,r){return n=e(n),r==="disable"||r==="enable"?n.draggable(r):n.draggable(t.extend({},this.grid.opts.draggable,{containment:this.grid.opts.isNested?this.grid.container.parent():null,start:r.start||function(){},stop:r.stop||function(){},drag:r.drag||function(){}})),this},i.prototype.droppable=function(t,n){return t=e(t),n==="disable"||n==="enable"?t.droppable(n):t.droppable({accept:n.accept}),this},i.prototype.isDroppable=function(t,n){return t=e(t),Boolean(t.data("droppable"))},i.prototype.on=function(t,n,r){return e(t).on(n,r),this},i}),function(e,t){typeof define=="function"&&define.amd?define("fullscreen",["jquery"],function(e){return t(e)}):typeof exports=="object"?t(require("jquery")):t(e.jQuery)}(this,function(e){function t(e){return typeof e!="undefined"}function n(t,n,r){var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t,n.prototype.constructor=n,t._super=n.prototype,r&&e.extend(t.prototype,r)}function s(e,n){var s;typeof e=="string"&&(n=e,e=document);for(var o=0;o<r.length;++o){n=n.replace(r[o][0],r[o][1]);for(var u=0;u<i.length;++u){s=i[u],s+=u===0?n:n.charAt(0).toUpperCase()+n.substr(1);if(t(e[s]))return e[s]}}return void 0}var r=[["",""],["exit","cancel"],["screen","Screen"]],i=["","o","ms","moz","webkit","webkitCurrent"],o=navigator.userAgent,u=s("fullscreenEnabled"),a=o.match(/Android.*Chrome\/(\d+)\./),f=!!a,l,c;f&&(c=parseInt(a[1]));var h=(!f||c>37)&&t(s("fullscreenElement"))&&(!t(u)||u===!0),p=e.fn.jquery.split("."),d=parseInt(p[0])<2&&parseInt(p[1])<7,v=function(){this.__options=null,this._fullScreenElement=null,this.__savedStyles={}};v.prototype={"native":s,_DEFAULT_OPTIONS:{styles:{boxSizing:"border-box",MozBoxSizing:"border-box",WebkitBoxSizing:"border-box"},toggleClass:null},__documentOverflow:"",__htmlOverflow:"",_preventDocumentScroll:function(){this.__documentOverflow=document.body.style.overflow,this.__htmlOverflow=document.documentElement.style.overflow,e(this._fullScreenElement).is("body, html")||e("body, html").css("overflow","hidden")},_allowDocumentScroll:function(){document.body.style.overflow=this.__documentOverflow,document.documentElement.style.overflow=this.__htmlOverflow},_fullScreenChange:function(){if(!this.__options)return;this.isFullScreen()?(this._preventDocumentScroll(),this._triggerEvents()):(this._allowDocumentScroll(),this._revertStyles(),this._triggerEvents(),this._fullScreenElement=null)},_fullScreenError:function(t){if(!this.__options)return;this._revertStyles(),this._fullScreenElement=null,t&&e(document).trigger("fscreenerror",[t])},_triggerEvents:function(){e(this._fullScreenElement).trigger(this.isFullScreen()?"fscreenopen":"fscreenclose"),e(document).trigger("fscreenchange",[this.isFullScreen(),this._fullScreenElement])},_saveAndApplyStyles:function(){var t=e(this._fullScreenElement);this.__savedStyles={};for(var n in this.__options.styles)this.__savedStyles[n]=this._fullScreenElement.style[n],this._fullScreenElement.style[n]=this.__options.styles[n];t.is("body")&&(document.documentElement.style.overflow=this.__options.styles.overflow),this.__options.toggleClass&&t.addClass(this.__options.toggleClass)},_revertStyles:function(){var t=e(this._fullScreenElement);for(var n in this.__options.styles)this._fullScreenElement.style[n]=this.__savedStyles[n];t.is("body")&&(document.documentElement.style.overflow=this.__savedStyles.overflow),this.__options.toggleClass&&t.removeClass(this.__options.toggleClass)},open:function(t,n){if(t===this._fullScreenElement)return;this.isFullScreen()&&this.exit(),this._fullScreenElement=t,this.__options=e.extend(!0,{},this._DEFAULT_OPTIONS,n),this._saveAndApplyStyles()},exit:null,isFullScreen:null,isNativelySupported:function(){return h}};var m=function(){m._super.constructor.apply(this,arguments),this.exit=e.proxy(s("exitFullscreen"),document),this._DEFAULT_OPTIONS=e.extend(!0,{},this._DEFAULT_OPTIONS,{styles:{width:"100%",height:"100%"}}),e(document).bind(this._prefixedString("fullscreenchange")+" MSFullscreenChange",e.proxy(this._fullScreenChange,this)).bind(this._prefixedString("fullscreenerror")+" MSFullscreenError",e.proxy(this._fullScreenError,this))};n(m,v,{VENDOR_PREFIXES:["","o","moz","webkit"],_prefixedString:function(t){return e.map(this.VENDOR_PREFIXES,function(e){return e+t}).join(" ")},open:function(e,t){m._super.open.apply(this,arguments);var n=s(e,"requestFullscreen");n.call(e)},exit:e.noop,isFullScreen:function(){return s("fullscreenElement")!==null},element:function(){return s("fullscreenElement")}});var g=function(){g._super.constructor.apply(this,arguments),this._DEFAULT_OPTIONS=e.extend({},this._DEFAULT_OPTIONS,{styles:{position:"fixed",zIndex:"2147483647",left:0,top:0,bottom:0,right:0}}),this.__delegateKeydownHandler()};return n(g,v,{__isFullScreen:!1,__delegateKeydownHandler:function(){var t=e(document);t.delegate("*","keydown.fullscreen",e.proxy(this.__keydownHandler,this));var n=d?t.data("events"):e._data(document).events,r=n.keydown;d?n.live.unshift(n.live.pop()):r.splice(0,0,r.splice(r.delegateCount-1,1)[0])},__keydownHandler:function(e){return this.isFullScreen()&&e.which===27?(this.exit(),!1):!0},_revertStyles:function(){g._super._revertStyles.apply(this,arguments),this._fullScreenElement.offsetHeight},open:function(e){g._super.open.apply(this,arguments),this.__isFullScreen=!0,this._fullScreenChange()},exit:function(){if(!this.__isFullScreen)return;this.__isFullScreen=!1,this._fullScreenChange()},isFullScreen:function(){return this.__isFullScreen},element:function(){return this.__isFullScreen?this._fullScreenElement:null}}),e.fullscreen=h?new m:new g,e.fn.fullscreen=function(t){var n=this[0];return t=e.extend({toggleClass:null,overflow:"hidden"},t),t.styles={overflow:t.overflow},delete t.overflow,n&&e.fullscreen.open(n,t),this},e.fullscreen}),define("dashboard/DashboardItemView",["require","exports","module","util","jquery","underscore","backbone-epoxy","app","modals/modalEditDashboard","modals/modalConfirm","modals/addWidget/modalAddWidget","modals/addSharedWidget/modalAddSharedWidget","localization","dashboard/GadgetCollection","dashboard/GadgetView","dashboard/GadgetModel","filters/SingletonLaunchFilterCollection","gridstackUi","fullscreen"],function(e,t,n){"use strict";function S(e){this.blocks=e,this.scrollMap=[],this.documentHeight=0,this._createScrollMap=function(){this.scrollMap=[],this.documentHeight=document.documentElement.clientHeight;for(var e=0;e<this.blocks.length;e++)this.scrollMap.push({scrollStart:this.blocks[e].el.offsetTop,scrollEnd:this.blocks[e].el.offsetTop+this.blocks[e].el.offsetHeight})},this.activateScroll=function(e){var t=e+this.documentHeight,n=[];for(var r=0;r<this.scrollMap.length;r++)if(this.scrollMap[r].scrollStart<=t&&e<this.scrollMap[r].scrollStart||this.scrollMap[r].scrollEnd<=t&&e<this.scrollMap[r].scrollEnd||this.scrollMap[r].scrollEnd>t&&e>=this.scrollMap[r].scrollStart)n.push(r),this.blocks[r].activate||(this.blocks[r].activate=!0,this.blocks[r].activateGadget());if(n.length!==2)return n[parseInt(n.length/2,10)];var i=t-this.documentHeight/2,s=this.scrollMap[n[0]].scrollEnd;return s>i?n[0]:n[1]},this.resize=function(){this._createScrollMap(),this.activateScroll(g.mainScrollElement.scrollTop())},this._createScrollMap()}var r=e("util"),i=e("jquery"),s=e("underscore"),o=e("backbone-epoxy"),u=e("app"),a=e("modals/modalEditDashboard"),f=e("modals/modalConfirm"),l=e("modals/addWidget/modalAddWidget"),c=e("modals/addSharedWidget/modalAddSharedWidget"),h=e("localization"),p=e("dashboard/GadgetCollection"),d=e("dashboard/GadgetView"),v=e("dashboard/GadgetModel"),m=e("filters/SingletonLaunchFilterCollection");e("gridstackUi"),e("fullscreen");var g=u.getInstance(),y=new m,b=6e4,w=3e4,E=o.View.extend({className:"dashboard-item-view",template:"tpl-dashboard-item",events:{"click [data-js-edit]":"onClickEdit","click [data-js-remove]":"onClickRemove","click [data-js-full-screen]":"onClickFullScreen","click [data-js-close-fullscreen]":"onClickExitFullScreen","click [data-js-add-widget]":"onClickAddWidget","click [data-js-add-widget-bootm]":"onClickWidgetBottom","click [data-js-add-shared-widget]":"onClickAddSharedWidget"},bindings:{":el":'classes: {"not-my": not(isMy)}',"[data-js-owner-name]":"text: owner"},initialize:function(){var e=this;this.gadgetViews=[],this.scrollElement=g.mainScrollElement,this.onShowAsync=i.Deferred(),this.render(),this.model.get("notLoad")?(this.$el.addClass("load"),this.model.update().done(function(){e.$el.removeClass("load"),e.postInit(),e.applyBindings()})):this.postInit()},postInit:function(){this.gadgetCollection=new p([],{dashboardModel:this.model}),this.listenTo(this.gadgetCollection,"add",this.onAddGadget),this.listenTo(this.gadgetCollection,"remove:view",this.onRemoveGadget),this.listenTo(this.gadgetCollection,"remove",this.checkEmptyDashboard),this.activateGridStack(),this.listenTo(this.model,"add:widget",this.onAddNewGadget),this.listenTo(this.model,"change:share",this.onShareDashboard),this.updateGadgetsTimer(b)},render:function(){var e=this;this.$el.html(r.templates(this.template,{isMyDashboard:this.isMyDashboard(),dashboardName:this.model.get("name"),projectName:g.project.projectId})),i(document).on("fscreenchange",function(t,n){g.fullscreenMode=n,!n&&e.updateGadgetsTimer(b)})},isMyDashboard:function(){return this.model.get("owner")===g.userModel.get("name")},onAddNewGadget:function(e){this.checkEmptyDashboard(),this.gadgetCollection.add(e),this.updateScroll()},onShareDashboard:function(){this.model.get("share")&&s.each(this.gadgetViews,function(e){e.model.set("share",!0)},this)},activateGridStack:function(){var e=i("[data-js-grid-stack]",this.$el);e.gridstack({cellHeight:g.widgetGridCellHeight,verticalMargin:g.widgetGridVerticalMargin,draggable:{handle:"[data-js-drag-handle]"},resizable:{handles:"se, sw"},disableDrag:!this.model.get("isMy"),disableResize:!this.model.get("isMy")}),this.gridStack=e.data("gridstack"),this.createGadgets();var t=this;e.on("change",function(e,n){s.each(n,function(e){var n=e.el.data("id");if(!n)return;var r=t.gadgetCollection.get(n);if(!r)return;r.set({x:e.x,y:e.y,width:e.width,height:e.height})}),t.gadgetCollection.sort(),t.updateScroll()}),e.on("dragstop",function(e,t){g.trackingDispatcher.trackEventNumber(285)}),e.on("resizestart",function(e,t){var n=e.target.backboneView;n&&n.startResize(),g.trackingDispatcher.trackEventNumber(289)}),e.on("resizestop",function(e,t){var n=e.target.backboneView;setTimeout(function(){n&&n.stopResize()},300)})},onClickFullScreen:function(e){e.preventDefault(),g.trackingDispatcher.trackEventNumber(283),i("body").fullscreen({toggleClass:"fullscreen"}),this.updateGadgetsTimer(w)},onAddGadget:function(e){e.get("share")&&y.ready.done(function(){y.update()});var t=new d({model:e,dashboardModel:this.model});this.gridStack.addWidget.apply(this.gridStack,t.getDataForGridStack()),this.gadgetViews.push(t)},onRemoveGadget:function(e){this.gridStack.removeWidget(e.el)},checkEmptyDashboard:function(){this.model.getWidgets().length?this.$el.removeClass("not-found"):this.$el.addClass("not-found")},createGadgets:function(){this.checkEmptyDashboard(),this.gadgetCollection.add(this.model.getWidgets(),{silent:!0,parse:!0}),this.gadgetCollection.forEach(function(e){this.onAddGadget(e)},this),this.updateScroll();var e=this;this.$el.on("resize",function(){e.scrollerAnimate.resize()})},updateScroll:function(){var e=this;this.onShowAsync.done(function(){e.scrollerAnimate=new S(e.gadgetViews),e.scrollElement.off("scroll.dashboardPage").on("scroll.dashboardPage",function(){e.onScroll()}),e.onScroll()})},onShow:function(){this.onShowAsync.resolve()},onScroll:function(){var e=this.scrollElement.scrollTop();this.scrollerAnimate.activateScroll(e)},onClickEdit:function(e){e.preventDefault(),e.stopPropagation(),g.trackingDispatcher.trackEventNumber(282);var t=this;(new a({dashboardCollection:this.model.collection,dashboardModel:this.model,mode:"edit"})).show().done(function(e){t.model.set(e.toJSON())})},onClickRemove:function(e){e.preventDefault(),e.stopPropagation(),g.trackingDispatcher.trackEventNumber(284);var t=this,n=new f({headerText:h.dialogHeader.dashboardDelete,bodyText:r.replaceTemplate(h.dialog.dashboardDelete,this.model.get("name")),okButtonDanger:!0,cancelButtonText:h.ui.cancel,okButtonText:h.ui.delete});n.show().done(function(){var e=t.model.collection;t.model.collection.remove(t.model),t.destroy(),e.resetActive()}),n.$el.on("click",function(){var t=i(e.target),n=t.is("[data-js-cancel]"),r=t.is("[data-js-ok]"),s=t.is("[data-js-close]")||t.is("[data-js-close] i");s?g.trackingDispatcher.trackEventNumber(276):n?g.trackingDispatcher.trackEventNumber(277):r&&g.trackingDispatcher.trackEventNumber(278)})},onClickExitFullScreen:function(e){this.updateGadgetsTimer(b),e.preventDefault(),e.stopPropagation(),i.fullscreen.exit()},updateGadgetsTimer:function(e){clearTimeout(this.updateTimer);var t=this;this.updateTimer=setTimeout(function(){s.each(t.gadgetCollection.models,function(e){e.trigger("update:timer")}),t.updateGadgetsTimer(e)},e)},onClickAddWidget:function(e){e.preventDefault(),e.stopPropagation(),g.trackingDispatcher.trackEventNumber(280),(new l({dashboardModel:this.model})).show()},onClickWidgetBottom:function(e){e.preventDefault(),e.stopPropagation(),g.trackingDispatcher.trackEventNumber(345),(new l({dashboardModel:this.model})).show()},onClickAddSharedWidget:function(e){e.preventDefault(),e.stopPropagation(),g.trackingDispatcher.trackEventNumber(281),(new c({model:new v,dashboardModel:this.model})).show()},destroy:function(){i(document).off("fscreenchange"),clearTimeout(this.updateTimer),i.fullscreen.exit(),s.each(this.gadgetViews,function(e){e.destroy()}),this.undelegateEvents(),this.gridStack&&this.gridStack.destroy(),this.$el.off("resize"),this.scrollElement.off("scroll.dashboardPage"),this.stopListening(),this.unbind(),this.$el.remove()}});return E}),define("dashboard/DashboardBodyView",["require","exports","module","util","jquery","backbone-epoxy","dashboard/DashboardListView","dashboard/DashboardItemView","app","localization"],function(e,t,n){"use strict";var r=e("util"),i=e("jquery"),s=e("backbone-epoxy"),o=e("dashboard/DashboardListView"),u=e("dashboard/DashboardItemView"),a=e("app"),f=e("localization"),l=a.getInstance(),c=s.View.extend({className:"dashboard-body",template:"tpl-dashboard-body",events:{},initialize:function(e){this.onShowAsync=i.Deferred(),this.$el.addClass("load"),this.render(),this.$container=i("[data-js-dashboard-content]",this.$el),this.content=null;var t=this;this.listenTo(this.collection,"reset:active",this.activate),this.listenTo(this.collection,"change:active",this.onChangeActive),this.collection.ready.done(function(){t.$el.removeClass("load"),t.activate()})},render:function(){this.$el.html(r.templates(this.template,{}))},onShow:function(){this.onShowAsync.resolve()},onChangeActive:function(e,t){t&&this.activate()},activate:function(){var e=this.collection.where({active:!0});this.content&&this.content.destroy(),e.length?this.content=new u({model:e[0]}):this.content=new o({collection:this.collection}),this.$container.html(this.content.$el);var t=this;this.onShowAsync.done(function(){t.content.onShow&&t.content.onShow()})},destroy:function(){this.content&&this.content.destroy(),this.undelegateEvents(),this.stopListening(),this.unbind(),delete this}});return c}),define("dashboard/DashboardPage",["require","exports","module","jquery","backbone","backbone-epoxy","app","dashboard/DashboardHeaderView","dashboard/DashboardBodyView","dashboard/DashboardCollection","filters/SingletonLaunchFilterCollection"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("app"),u=e("dashboard/DashboardHeaderView"),a=e("dashboard/DashboardBodyView"),f=e("dashboard/DashboardCollection"),l=e("filters/SingletonLaunchFilterCollection"),c=o.getInstance(),h=new l,p=s.View.extend({initialize:function(e){this.contextName=e.contextName,this.context=e.context,this.collection=new f({startId:e.subContext}),this.header=new u({collection:this.collection}),this.body=new a({collection:this.collection}),this.context.getMainView().$header.html(this.header.$el),this.context.getMainView().$body.html(this.body.$el),this.body.onShow&&this.body.onShow(),this.listenTo(this.collection,"after:update",this.onChangeShare)},onChangeShare:function(e){typeof e.changed.share!="undefined"&&h.ready.done(function(){h.update()})},update:function(e){this.collection.resetActive(),e.subContext&&(this.collection.get(e.subContext)?this.collection.get(e.subContext).set({active:!0}):console.log("dashboard not found"))},render:function(){return this},destroy:function(){this.header.destroy(),this.body.destroy(),this.$el.html(""),this.undelegateEvents(),this.stopListening(),this.unbind(),delete this}});return{ContentView:p}}),define("apiPage/ApiHeaderView",["require","util","jquery","backbone-epoxy","components/MainBreadcrumbsComponent","localization"],function(e){"use strict";var t=e("util"),n=e("jquery"),r=e("backbone-epoxy"),i=e("components/MainBreadcrumbsComponent"),s=e("localization"),o=r.View.extend({className:"api-header",template:"tpl-api-header",initialize:function(){this.render(),this.mainBreadcrumbs=new i({data:[{name:s.api.apiDocumentation,link:""}]}),n("[data-js-main-breadcrumbs]",this.$el).append(this.mainBreadcrumbs.$el)},render:function(){this.$el.html(t.templates(this.template,{}))},onDestroy:function(){this.mainBreadcrumbs&&this.mainBreadcrumbs.destroy(),this.$el.empty()}});return o}),define("apiPage/ApiBodyView",["require","util","jquery","backbone-epoxy","model/UserModel"],function(e){"use strict";var t=e("util"),n=e("jquery"),r=e("backbone-epoxy"),i=e("model/UserModel"),s=r.View.extend({className:"api-body",template:"tpl-api-body",events:{"change [data-js-select-type-input]":"onChangeType"},initialize:function(){this.render(),this.userModel=new i,this.onChangeType()},render:function(){this.$el.html(t.templates(this.template,{}))},onChangeType:function(){var e=n("[data-js-select-type-input]:checked",this.$el).val();this.loadApi(e)},loadApi:function(e){var t=this,r=n("[data-js-iframe-container]",this.$el),i=document.createElement("iframe");i.setAttribute("src","swagger-ui/index.html?url="+e),i.setAttribute("scrolling","no"),i.setAttribute("frameborder","0"),i.onload=function(){i.contentWindow.successStartCallback=function(){t.$el.removeClass("load")},i.contentWindow.changeHeightCallback=function(){i.style.height=i.contentWindow.document.body.clientHeight+"px"},i.contentWindow.changeInfoCallback=function(e,r){n("[data-js-status]",t.$el).text("[ base url: "+r+" , api version: "+e.version+" ]")},i.contentWindow.failRequestCallback=function(){t.userModel.logout()}},this.$el.addClass("load"),n("[data-js-status]",this.$el).text(""),r.html(i)},onDestroy:function(){this.$el.empty()}});return s}),define("apiPage/ApiPage",["require","backbone-epoxy","apiPage/ApiHeaderView","apiPage/ApiBodyView"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("apiPage/ApiHeaderView"),r=e("apiPage/ApiBodyView"),i=t.View.extend({initialize:function(e){this.contextName=e.contextName,this.context=e.context,this.header=new n,this.body=new r,this.context.getMainView().$header.html(this.header.$el),this.context.getMainView().$body.html(this.body.$el)},update:function(){},render:function(){return this},onDestroy:function(){this.header.destroy(),this.body.destroy(),this.$el.html("")}});return{ContentView:i}}),define("projectSettings/tabViews/general/generalSettingsModel",["require","backbone","app"],function(e){"use strict";var t=e("backbone"),n=e("app"),r=n.getInstance(),i=t.Model.extend({defaults:{interruptedJob:r.forSettings.interruptedJob[0].value,keepLogs:r.forSettings.keepLogs[0].value,keepScreenshots:r.forSettings.keepScreenshots[0].value,projectSpecific:r.forSettings.projectSpecific[0].value},getProjectSettings:function(){var e={interruptedJob:this.get("interruptedJob"),keepLogs:this.get("keepLogs"),keepScreenshots:this.get("keepScreenshots"),projectSpecific:this.get("projectSpecific")};return{configuration:e}}});return i}),define("projectSettings/tabViews/general/generalTabView",["require","jquery","underscore","backbone-epoxy","util","app","coreService","components/DropDownComponent","model/SingletonAppModel","model/SingletonRegistryInfoModel","model/UserModel","projectSettings/tabViews/general/generalSettingsModel"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("app"),o=e("coreService"),u=e("components/DropDownComponent"),a=e("model/SingletonAppModel"),f=e("model/SingletonRegistryInfoModel"),l=e("model/UserModel"),c=s.getInstance(),h=new a,p=e("projectSettings/tabViews/general/generalSettingsModel"),d=r.View.extend({className:"general-project-settings",tpl:"tpl-project-settings-general",events:{"click #submit-settings":"submitSettings"},initialize:function(){this.userModel=new l,this.registryInfoModel=new f,this.model=new p(h.get("configuration")),this.dropdownComponents=[],this.listenTo(this.model,"change:interruptedJob",function(){c.trackingDispatcher.trackEventNumber(381)}),this.listenTo(this.model,"change:keepLogs",function(){c.trackingDispatcher.trackEventNumber(382)}),this.listenTo(this.model,"change:keepScreenshots",function(){c.trackingDispatcher.trackEventNumber(383)}),this.render()},render:function(){var e=n.merge(this.model.toJSON(),{currentProject:c.project.projectId,access:c.userModel.hasPermissions()});return this.$el.html(i.templates(this.tpl,e)),this.setupDropdowns(),this},setupDropdowns:function(){var e=this.registryInfoModel.get("isEpamInstance"),r=new u({data:n.map(c.forSettings.interruptedJob,function(e){return{name:e.name,value:e.value,disabled:!1}}),multiple:!1,defaultValue:this.model.get("interruptedJob")}),i=new u({data:n.map(e?n.reject(c.forSettings.keepLogs,function(e){return e.value==="forever"}):c.forSettings.keepLogs,function(e){return{name:e.name,value:e.value,disabled:!1}}),multiple:!1,defaultValue:this.model.get("keepLogs")}),s=new u({data:n.map(e?n.reject(c.forSettings.keepScreenshots,function(e){return e.value==="forever"}):c.forSettings.keepScreenshots,function(e){return{name:e.name,value:e.value,disabled:!1}}),multiple:!1,defaultValue:this.model.get("keepScreenshots")});t('[data-js-selector="interruptedJob"]',this.$el).html(r.$el),t('[data-js-selector="keepLogs"]',this.$el).html(i.$el),t('[data-js-selector="keepScreenshots"]',this.$el).html(s.$el),this.listenTo(r,"change",this.selectProp),this.listenTo(i,"change",this.selectProp),this.listenTo(s,"change",this.selectProp),c.userModel.hasPermissions()||t("[data-js-selector] [data-js-dropdown]",this.$el).attr("disabled","disabled"),this.dropdownComponents.push(r,i,s)},selectProp:function(e,n){var r=e,i=t(n.currentTarget).closest("[data-js-selector]").attr("data-js-selector");this.model.set(i,r)},submitSettings:function(){var e=this.model.getProjectSettings();c.trackingDispatcher.trackEventNumber(385),e.configuration.isAutoAnalyzerEnabled||(e.configuration.analyzer_mode="LAUNCH_NAME",t('[value="LAUNCH_NAME"]',this.$el).attr("checked","checked")),o.updateProject(e).done(function(){var t=h.get("configuration");n.merge(t,e.configuration),h.set({configuration:t}),i.ajaxSuccessMessenger("updateProjectSettings")}).fail(function(e){i.ajaxFailMessenger(e,"updateProjectSettings")})},onDestroy:function(){n.each(this.dropdownComponents,function(e){e.destroy()}),t("body > #select2-drop-mask, body > .select2-sizer").remove()}});return d}),define("projectSettings/tabViews/notifications/notificationSettingsModel",["require","exports","module","jquery","backbone"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=i.Model.extend({defaults:{emailEnabled:!1,fromAddress:"reportportal@epam.com",emailCases:[]},getProjectSettings:function(e){var t=JSON.parse(JSON.stringify(this.get("emailCases")));t=r.grep(t,function(t){return r.inArray(t.id,e)==-1}),_.each(t,function(e){delete e.id});var n={emailEnabled:this.get("emailEnabled"),fromAddress:this.get("fromAddress"),emailCases:t};return{configuration:n}}});return s}),define("projectSettings/tabViews/notifications/notificationsTabView",["require","jquery","backbone-epoxy","util","app","localization","coreService","underscore","model/SingletonAppModel","components/DropDownComponent","projectSettings/tabViews/notifications/notificationSettingsModel"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("app"),s=e("localization"),o=e("coreService"),u=e("underscore"),a=e("model/SingletonAppModel"),f=e("components/DropDownComponent"),l=i.getInstance(),c=e("projectSettings/tabViews/notifications/notificationSettingsModel"),h=n.View.extend({emailCaseId:0,id:"notificationsSettings",className:"notifications-project-settings",tpl:"tpl-project-settings-notifications",tplItem:"tpl-project-settings-notifications-item",events:{"click #submit-notifications":"submitNotifications","click .launchOwner":"selectOwner","click #add-notification-rule":"addRule","click .remove-email-item":"removeRule","click .email-case-label":"removeRule"},initialize:function(){this.appModel=new a,this.dropdownComponents=[],this.updateIds(),this.model=new c(this.appModel.get("configuration").emailConfiguration),this.users=[],this.isValidEmail=!0,this.listenTo(this.model,"change:emailEnabled",function(){l.trackingDispatcher.trackEventNumber(387)}),this.listenTo(this.model,"change:fromAddress",function(){l.trackingDispatcher.trackEventNumber(388)}),this.render()},updateIds:function(e){var t,n=e||this.appModel.get("configuration").emailConfiguration.emailCases;for(t=0;t<n.length;t+=1)n[t].id=this.emailCaseId,this.emailCaseId+=1},render:function(){var e=u.merge(this.model.toJSON(),{access:l.userModel.hasPermissions()});this.$el.html(r.templates(this.tpl,e));var n=new f({data:[{name:s.ui.on,value:"ON"},{name:s.ui.off,value:"OFF"}],multiple:!1,defaultValue:this.model.get("emailEnabled")?"ON":"OFF"});return this.dropdownComponents.push(n),t("[data-js-email-notifications-switcher]",this.$el).html(n.$el),t("[data-js-email-notifications-switcher] [data-js-dropdown]",this.$el).attr("id","emailEnabled"),l.userModel.hasPermissions()||t("[data-js-email-notifications-switcher] [data-js-dropdown]",this.$el).attr("disabled","disabled"),this.listenTo(n,"change",this.selectProp),this.$notificationArray=t("#notificationArray",this.$el),this.$notificationArray.html(r.templates(this.tplItem,e)),this.$emailBlock=t("#emailNotificationsSettings",this.$el),this.model.get("emailEnabled")&&this.$emailBlock.show(),this},onShow:function(){this.renderEmailCases(),this.validateRecipients()},initValidators:function(){var e=this;r.bootValidator(t("#from",this.$el),[{validator:"required"},{validator:"matchRegex",type:"emailMatchRegex",pattern:l.patterns.email},{validator:"minMaxRequired",type:"emailNotification",min:5,max:256}]),t("#from",this.$el).on("validation::change",function(t,n){n.valid&&e.model.set("fromAddress",n.value)})},renderEmailCases:function(){var e=this;t(".email-case-item",this.$el).each(function(n){var i=new f({data:u.map(l.forSettings.emailInCase,function(e){return{name:e.name,value:e.value,disabled:!1}}),multiple:!1,defaultValue:e.model.get("emailCases")[n].sendCase});t("[data-js-case-dropdown]",t(this)).html(i.$el),l.userModel.hasPermissions()||t("[data-js-dropdown]",t(this)).attr("disabled","disabled"),e.listenTo(i,"change",e.selectProp),r.isCustomer()&&!r.isAdmin()?e.setupDisabledRecipients(n):e.filterMembers(!0,n),e.model.get("emailEnabled")&&(e.filterLaunches(n),e.filterTags(n)),e.dropdownComponents.push(i)}),e.initValidators(),e.updateRules(),e.validateRecipients()},setupDisabledRecipients:function(e){var n=this,i=n.getRecipients(e);n.$recipients=t("input.recipients",this.$el),n.$launchOwner=t("input.launchOwner",this.$el),n.$recipients&&n.$recipients.length&&(r.setupSelect2WhithScroll(n.$recipients.eq(e),{tags:i}),n.$recipients.eq(e).select2("val",u.pluck(i,"id")),n.$recipients.eq(e).prop("disabled",!0)),n.$launchOwner.eq(e).prop("disabled",!0)},addRule:function(){var e=this,n,i,s,o=u.merge(this.model.toJSON(),{access:l.userModel.hasPermissions()});o.addRule=!0,l.trackingDispatcher.trackEventNumber(395),n=this.model.get("emailCases"),i={launchNames:[],recipients:["OWNER"],sendCase:"ALWAYS",tags:[],id:e.emailCaseId},o.newCase=i,n.push(i),this.model.set("emailCases",n),this.$notificationArray.append(r.templates(this.tplItem,o));var a=new f({data:u.map(l.forSettings.emailInCase,function(e){return{name:e.name,value:e.value,disabled:!1}}),multiple:!1,defaultValue:l.forSettings.emailInCase[0].value});t('[data-email-case-id="'+this.emailCaseId+'"] [data-js-case-dropdown]',this.$el).html(a.$el),l.userModel.hasPermissions()||t(' [data-email-case-id="'+this.emailCaseId+'"] [data-js-case-dropdown] [data-js-dropdown]',this.$el).attr("disabled","disabled"),this.listenTo(a,"change",this.selectProp),this.dropdownComponents.push(a),e.updateRules(),e.emailCaseId+=1,s=t("input.recipients",this.$el).length-1,this.filterMembers(!0,s),this.filterLaunches(s),this.filterTags(s)},updateRules:function(){var e,n=t(".email-case-item",this.$el).length,r=t(".email-case-item",this.$el).find(".remove-email-case:checked").length;if(!l.userModel.hasPermissions())return;t(".email-case-item",this.$el).length>1&&n-r>1?(t(".remove-email-case",this.$el).prop("disabled",!1),t(".email-case-item",this.$el).prop("disabled",!0).removeClass("the-only")):(t(".remove-email-case:not(:checked)",this.$el).prop("disabled",!0).closest(".email-case-item").addClass("the-only"),n===r&&(e=t(".email-case-item",this.$el).eq(0),this.updateEmailCase(e,"remove"),t(".remove-email-case",e).prop("disabled",!0),e.addClass("the-only")))},rulesToDelete:[],updateEmailCase:function(e,n){var r=e.find(".remove-email-case"),i=t(".ruleName",e),o=t(".duplicate-error",e);n==="add"?(i.text(s.project.deleteRule),o.text(s.project.ruleDeleted).show(),r.closest(".remove-email-item").addClass("checked"),e.addClass("will-delete"),r.attr("checked","checked").prop("checked",!0),this.rulesToDelete.push(e.data("email-case-id"))):(r.closest(".remove-email-item").removeClass("checked"),e.removeClass("will-delete"),r.attr("checked",!1).prop("checked",!1),i.text(s.project.rule),o.empty().hide(),this.rulesToDelete=t.grep(this.rulesToDelete,function(t){return t!==e.data("email-case-id")}))},removeRule:function(e){var n=this,r,i,s,o=t(e.target).closest(".email-case-item");if(!l.userModel.hasPermissions())return;l.trackingDispatcher.trackEventNumber(389),o.hasClass("local-item")?(r=u.reject(this.model.get("emailCases"),function(e){return e.id===o.data("email-case-id")}),this.model.set("emailCases",r),o.fadeOut(function(){o.remove(),n.updateRules()}),i=n.model.getProjectSettings(),this.appModel.get("configuration").emailConfiguration=i.configuration,this.checkCases()):o.hasClass("the-only")||(s=o.find(".remove-email-case"),s.is(":checked")?(this.updateEmailCase(o,"add"),this.checkCases(),this.updateRules()):(this.updateEmailCase(o,"remove"),this.updateRules(),this.checkCases()))},filterMembers:function(e,n){var i,a,f,c,h,p;this.$recipients=t("input.recipients",this.$el),this.$launchOwner=t("input.launchOwner",this.$el),r.isInPrivilegedGroup()&&(this.$recipients.prop("disabled",!1),this.$launchOwner.prop("disabled",!1)),i=t(".email-case-item",this.$el).eq(n||0),a=i.find("input.recipients"),f=[],c=this.getRecipients(n),h=l.forms.filterUser,p=this;if(e||!a.hasClass("select2-offscreen"))r.setupSelect2WhithScroll(a,{multiple:!0,minimumInputLength:1,maximumInputLength:128,formatInputTooShort:function(){return s.ui.minPrefix+h+s.ui.minSufixAuto3},formatResultCssClass:function(e){return(f.length===0||u.indexOf(f,e.text)<0)&&t(".users-typeahead.recipients:not(input)",p.$el).eq(n).find("input").val()===e.text?"exact-match":undefined},allowClear:!0,createSearchChoice:function(e,n){return t(n).filter(function(){return this.text.localeCompare(e)===0}).length===0?r.validateEmail(e)?{id:e,text:e}:null:undefined},initSelection:function(e,t){t({id:e.val(),text:e.val()})},formatNoMatches:function(){return s.project.notFoundRecipients},query:function(e){var t,n;t=e.term.length,n={results:[]},t>=h?t>256?p.validateRecipients():(t<=256&&p.validateRecipients(),o.getProjectUsersById(e.term).done(function(t){f=[],u.each(t,function(e){f.push(e),n.results.push({id:e,text:e})}),e.callback(n)}).fail(function(e){r.ajaxFailMessenger(e)})):(f=[],n.results.push({id:e.term,text:e.term}),e.callback(n))}}),this.$recipients.eq(n).on("select2-open",function(){t(".select2-drop-mask",p.$el).remove()}).on("select2-loaded",function(){t(".select2-drop-active",p.$el).removeClass("select2-drop-above"),p.$recipients.eq(n).select2("positionDropdown")}).on("change",function(){var e=t(this).select2("data");p.onChangeRicipients(e,t(this).closest(".email-case-item"))}).select2("data",c),t(this.el).on("mousedown.recipients",function(){t(".users-typeahead.recipients",p.$el).select2("close"),t(".select2-container.recipients",p.$el).each(function(){var e=t(this);e.find(".select2-input").val().length<=256&&p.validateRecipients()})})},parseUsers:function(e){var t=u.map(e.content,function(e){return{id:e.userId,text:e.userId}});this.users=this.users.concat(t)},onChangeRicipients:function(e,t){var n,r=u.map(e,function(e){return e.id}),i=t.find(".launchOwner").is(":checked"),o=[];l.trackingDispatcher.trackEventNumber(390),this.hideFormsErrors(t.find(".select2-container.recipients")),this.isValidEmail=!0,u.isEmpty(r)&&!i&&this.showFormErrors(t.find(".select2-container.recipients"),s.project.invalidRecipients),u.each(r,function(e){var t=u.find(this.users,function(t){return t.id===e});t?(o.push(t.id),this.isValidEmail=!0):o.push(e)},this),i&&o.push(t.find(".launchOwner").val()),n=u.findWhere(this.model.get("emailCases"),{id:t.data("email-case-id")}),n&&(n.recipients=o),this.checkCases()},onChangeLaunchNames:function(e,t){var n=u.map(e,function(e){return e.id}),r=u.findWhere(this.model.get("emailCases"),{id:t.data("email-case-id")});l.trackingDispatcher.trackEventNumber(393),r.launchNames=n,this.checkCases()},onChangeTags:function(e,t){var n,r=e?e.trim().split(","):[];l.trackingDispatcher.trackEventNumber(394),this.validateTags(r),n=u.findWhere(this.model.get("emailCases"),{id:t.data("email-case-id")}),n.tags=r,this.checkCases()},getRecipients:function(e){var n,r,i,s;return this.model?e!==undefined?(this.$launchOwner=t(".launchOwner",this.$el),n=this.model.get("emailCases")[e],r=n.recipients||[],i=[],s=u.reject(r,function(t){return t===this.$launchOwner.eq(e).val()},this),u.each(s,function(e){var t=u.find(this.users,function(t){return t.id===e});t?i.push(t):i.push({id:e,text:e})},this),i):(r=this.model.get("recipients"),i=[],s=u.reject(r,function(e){return e===this.$launchOwner.val()},this),u.each(s,function(e){var t=u.find(this.users,function(t){return t.id===e});t?i.push(t):i.push({id:e,text:e})},this),i):undefined},filterTags:function(e){var n=this,i=[],a=[];u.each(this.model.get("emailCases")[e].tags,function(e){i.push({id:e,text:e})}),this.$tagsContainer=t("input.users-typeahead.tags",this.$el),this.$tagsContainer.eq(e)&&(r.setupSelect2WhithScroll(n.$tagsContainer.eq(e),{multiple:!0,minimumInputLength:1,maximumInputLength:128,formatInputTooShort:function(){return s.ui.enterChars},formatResultCssClass:function(r){return(a.length===0||u.indexOf(a,r.text)<0)&&t(".users-typeahead.tags:not(input)",n.$el).eq(e).find("input").val()===r.text?"exact-match":undefined},tags:!0,initSelection:function(e,t){var n;i=e.val().split(","),n=u.map(i,function(e){var t=e.trim();return{id:t,text:t}}),t(n)},createSearchChoice:function(e,n){return t(n).filter(function(){return this.text.localeCompare(e)===0}).length===0?{id:e,text:e}:undefined},query:function(e){var t=e.term.length,i={results:[]};t>=1?t>256?n.validateTags(null,!0):(t===256&&n.validateTags(null,!0),o.searchTags(e).done(function(t){a=[],u.each(t,function(e){a.push(e),i.results.push({id:e,text:e})}),e.callback(i)}).fail(function(e){r.ajaxFailMessenger(e)})):(a=[],i.results.push({id:e.term,text:e.term}),e.callback(i))}}),this.$tagsContainer.eq(e).on("select2-loaded",function(){t(".select2-drop-active",n.$el).removeClass("select2-drop-above"),n.$tagsContainer.eq(e).select2("positionDropdown")}).on("select2-open",function(){t(".select2-drop-mask",n.$el).remove()}).on("change",function(){n.onChangeTags(t(this).val(),t(this).closest(".email-case-item"))}).select2("data",i)),t(this.el).on("mousedown.tags",function(){var e;t(".users-typeahead.tags",n.$el).select2("close"),e=t(".users-typeahead.tags",n.$el).find(".select2-input"),e&&e.length&&e.val().length<=256&&n.validateTags()}),!r.isInPrivilegedGroup()&&this.$tagsContainer&&this.$tagsContainer.select2("disable")},filterLaunches:function(e){var n=this,i=[],a=[];u.each(this.model.get("emailCases")[e].launchNames,function(e){a.push({id:e,text:e})}),this.$launchContainer=t("input.users-typeahead.launches",this.$el),this.$launchContainer.eq(e)&&(r.setupSelect2WhithScroll(n.$launchContainer.eq(e),{multiple:!0,minimumInputLength:1,maximumInputLength:128,formatInputTooShort:function(){return s.ui.minPrefix+"3"+s.ui.minSufixAuto3},formatResultCssClass:function(r){return(i.length===0||u.indexOf(i,r.text)<0)&&t(".users-typeahead.launches:not(input)",n.$el).eq(e).find("input").val()===r.text?"exact-match":undefined},allowClear:!0,createSearchChoice:function(e,n){return t(n).filter(function(){return this.text.localeCompare(e)===0}).length===0?{id:e,text:e}:undefined},initSelection:function(e,t){t({id:e.val(),text:e.val()})},query:function(t){var s=t.term.length,a={results:[]};s>=3?s>256?n.toggleLaunchNamesErrors(!0,!1,n.$launchContainer.eq(e)):(s===256&&n.toggleLaunchNamesErrors(!1,!1,n.$launchContainer.eq(e)),o.searchLaunches(t).done(function(e){i=[],u.each(e,function(e){i.push(e),a.results.push({id:e,text:e})}),t.callback(a)}).fail(function(e){r.ajaxFailMessenger(e)})):(i=[],a.results.push({id:t.term,text:t.term}),t.callback(a))}}),this.$launchContainer.eq(e).on("select2-open",function(){t(".select2-drop-mask",n.$el).remove()}).on("select2-loaded",function(){t(".select2-drop-active",n.$el).removeClass("select2-drop-above"),n.$launchContainer.eq(e).select2("positionDropdown")}).on("change",function(){var r=n.$launchContainer.eq(e).select2("data");n.onChangeLaunchNames(r,t(this).closest(".email-case-item"))}).select2("data",a)),t(this.el).on("mousedown.launches",function(){t(".users-typeahead.launches",n.$el).select2("close"),t(".select2-container.launches",n.$el).each(function(){var e=t(this);e.find(".select2-input").val().length<=256&&n.toggleLaunchNamesErrors(!1,!0,e)})}),!r.isInPrivilegedGroup()&&this.$launchContainer&&this.$launchContainer.select2("disable")},validateTags:function(e,n){var r=!0,i=this;return t(".email-case-item",this.$el).each(function(e,o){var u=t(o).find(".select2-container.tags");return n&&t.inArray(t(o).data("email-case-id"),i.rulesToDelete)===-1?(i.showFormErrors(u,s.ui.maxPrefix+"256"+s.ui.maxSufix),t(".select2-drop-active",i.$el).hide(),t(".select2-input.select2-active",i.$el).removeClass("select2-active"),r=!1,!1):(i.hideFormsErrors(u),!0)}),r},checkCases:function(){var e=this,n,r,i,s,o,u=!1,a=this.model.get("emailCases");t(".email-case-item",this.$el).removeClass("duplicate");if(a.length===1)return!1;for(n=0;n<a.length;n+=1){o=a[n];for(r=n+1;r<a.length;r+=1)this.isCasesEqual(o,a[r])&&(s=t(".email-case-item[data-email-case-id="+a[r].id+"]",e.$el),i=t(".email-case-item[data-email-case-id="+o.id+"]",e.$el),!s.hasClass("will-delete")&&!i.hasClass("will-delete")&&(s.addClass("duplicate"),u=!0))}return u},isCasesEqual:function(e,t){return e.sendCase!==t.sendCase?!1:e.tags.length!==t.tags.length?!1:e.launchNames.length!==t.launchNames.length?!1:e.recipients.length!==t.recipients.length?!1:u.sortBy(e.tags).equals(u.sortBy(t.tags))&&u.sortBy(e.launchNames).equals(u.sortBy(t.launchNames))&&u.sortBy(e.recipients).equals(u.sortBy(t.recipients))?!0:!1},selectOwner:function(e){var n=t(e.target),r=n.closest(".email-case-item"),i=n.val(),o=u.findWhere(this.model.get("emailCases"),{id:r.data("email-case-id")}),a=o.recipients||[];l.trackingDispatcher.trackEventNumber(391),n.is(":checked")?(a.push(i),a.length&&this.hideFormsErrors(r.find(".select2-container.recipients")),this.validateRecipients()):(a=u.reject(a,function(e){return e===i}),o&&(o.recipients=a),!a.length&&this.showFormErrors(r.find(".select2-container.recipients"),s.project.invalidRecipients),this.validateRecipients()),a.recipients=a,this.checkCases()},selectProp:function(e,n){var i=this,s,a,f=e,c=t(n.target).closest("[data-js-case-dropdown]").find("[data-js-dropdown]"),h=t(n.target).closest("[data-js-email-notifications-switcher]").find("[data-js-dropdown]"),p=h.attr("id");p==="emailEnabled"?(f=f==="ON",s=f?"show":"hide",this.$emailBlock[s](),f?(i.model.set("emailEnabled",!0),t(".email-case-item",i.$el).each(function(e){i.filterLaunches(e),i.filterTags(e)}),o.getProject().done(function(){i.render(),i.onShow(),r.ajaxSuccessMessenger("updateProjectSettings")}).fail(function(e){r.ajaxFailMessenger(e,"updateProjectSettings")})):i.model.set("emailEnabled",!1),this.model.set(p,f),this.updateRules()):(a=u.findWhere(this.model.get("emailCases"),{id:c.closest(".email-case-item").data("email-case-id")}),a&&(l.trackingDispatcher.trackEventNumber(392),a.sendCase=f),this.checkCases())},setEmailToDefault:function(){var e=this;t(".email-case-item",this.$el).each(function(n,r){var i=u.findWhere(e.model.get("emailCases"),{id:t(r).data("email-case-id")}),s=l.forSettings.emailInCase[0];t(r).find(".launchOwner").attr("checked","checked").prop("checked","checked"),t(r).find(".select-value").text(s.name).val(s.value),t(r).find(".recipients").val(""),i.recipients=[t(r).find(".launchOwner").val()],i.sendCase=s.value})},clearFormErrors:function(){t("div.error-block",this.$el).is(":visible")&&(t(".rp-form-group",this.$el).removeClass("has-error"),t("div.error-block",this.$el).empty().hide())},showFormErrors:function(e,n){var r=e.closest(".rp-form-group");r.addClass("has-error"),t("div.error-block",r).empty().html(n).show()},hideFormsErrors:function(e){var n=e.closest(".rp-form-group");n.removeClass("has-error"),t("div.error-block",n).empty().hide()},validateRecipients:function(){var e=this,n=!1,r=!0,i,o,a;return t(".email-case-item").each(function(f,l){a=!0,i=u.findWhere(e.model.get("emailCases"),{id:t(l).data("email-case-id")}),o=t.inArray(t(l).data("email-case-id"),e.rulesToDelete)!==-1,!n&&i&&!o&&(n=u.isEmpty(i.recipients)),i&&u.isEmpty(i.recipients)&&!o&&e.showFormErrors(t(l).find("input.recipients"),s.project.invalidRecipients),i&&!o&&(a&&(a=!u.isEmpty(i.recipients)),r=a,a||e.showFormErrors(t(l).find("input.recipients"),s.project.invalidRecipients))}),this.model.get("emailEnabled")&&(n||!r)},toggleLaunchNamesErrors:function(e,n,r){var i=r;e?(this.showFormErrors(i,s.ui.maxPrefix+"256"+s.ui.maxSufix),t(".select2-drop-active",this.$el).hide(),t(".select2-input.select2-active",this.$el).removeClass("select2-active")):(this.hideFormsErrors(i),n||(t(".select2-drop-active",this.$el).last().show(),i.find(".select2-input").addClass("select2-active")))},checkTagsAndLaunches:function(e){var t=e.configuration;return t.launchNames&&t.launchNames.length===0&&delete t.launchNames,t.tags&&t.tags.length===0&&delete t.tags,e.configuration=t,e},submitNotifications:function(){var e=this,n=t("#from",this.$el),i=this.model.getProjectSettings(this.rulesToDelete);l.trackingDispatcher.trackEventNumber(396);if(this.model.get("emailEnabled")){if(!this.validateTags())return!1;if(this.validateRecipients())return!1;if(t(".email-case-item:not(.will-delete)",this.$el).find(".has-error").length>0)return!1;if(this.checkCases())return!1;this.clearFormErrors();if(!r.validateEmail(n.val()))return n.trigger("validate"),!1}else e.model.set("emailEnabled",!1),t(".email-case-item").remove(),i=e.model.getProjectSettings();return i=this.checkTagsAndLaunches(i),o.updateEmailProjectSettings(i.configuration).done(function(){e.appModel.get("configuration").emailConfiguration=i.configuration,e.emailCaseId=0,e.rulesToDelete.length=0,e.updateIds(),e.model.set(e.appModel.get("configuration").emailConfiguration),e.render(),e.onShow(),r.ajaxSuccessMessenger("updateProjectSettings")}).fail(function(e){r.ajaxFailMessenger(e,"updateProjectSettings")}),undefined},onDestroy:function(){u.each(this.dropdownComponents,function(e){e.destroy()}),this.$recipients=t("input.recipients",this.$el),this.$launchContainer=t("input.launchNames",this.$el),this.$tagsContainer=t("input.tags",this.$el),this.$recipients&&this.$recipients.length&&(this.$recipients.select2("destroy"),this.$recipients=null),this.$launchContainer&&this.$launchContainer.length&&(this.$launchContainer.select2("destroy"),this.$launchContainer=null),this.$tagsContainer&&this.$tagsContainer&&(this.$tagsContainer.select2("destroy"),this.$tagsContainer=null),t("body > #select2-drop-mask, body > .select2-sizer").remove()}});return h}),define("projectSettings/tabViews/bts/btsPropertiesModel",["require","backbone","app"],function(e){"use strict";var t=e("backbone"),n=e("app"),r=n.getInstance(),i=t.Model.extend({defaults:{id:0,url:"",project:"",systemType:"",systemAuth:"",username:"",password:r.forSettings.defaultPassword,accessKey:"",fields:[],domain:"",mode:"",modelCache:null,restorable:["url","project","domain"]},initialize:function(e){var t,n;if(!e){n=r.forSettings.btsList[0];if(!n)return;this.set({systemType:n.name})}this.get("systemAuth")||(t=r.forSettings["bts"+this.get("systemType")].authorizationType[0].value,this.set("systemAuth",t))},isValid:function(){var e=!!this.get("url")&&!!this.get("project"),t;return this.validForBasic()?this.get("id")?t=this.hasCredentials():t=this.hasCredentials()&&this.get("password")!==r.forSettings.defaultPassword:t=!!this.get("accessKey"),this.isTFS()&&(e=e&&!!this.get("domain")),e&&t},hasCredentials:function(){return!!this.get("username")&&!!this.get("password")},shouldClearPassword:function(e){return!this.get("url")&&e===r.forSettings.defaultPassword},isEdit:function(){return!!this.get("mode")},setupEdit:function(){this.set("mode","edit"),this.set("modelCache",this.toJSON())},cancelEdit:function(){var e=this.get("modelCache");this.set("modelCache",null),this.set(e),this.set("mode","")},discardEdit:function(){this.isEdit()&&(this.set("modelCache",null),this.set("mode",""))},resetCredentials:function(){this.set("username",""),this.set("password",""),this.set("token","")},validForApiKey:function(){return this.get("systemAuth")==="APIKEY"},validForBasic:function(){var e=this.get("systemAuth");return e==="BASIC"||e==="NTLM"},isRally:function(){return this.get("systemType")==="RALLY"},isTFS:function(){return this.get("systemType")==="TFS"},fieldsWereSelected:function(){return this.get("id")&&this.get("fields").length},toJSON:function(){var e=t.Model.prototype.toJSON.call(this);return this.isTFS()||delete e.domain,e},getBtsSettings:function(){var e=this.toJSON(),t=function(){delete e.username,delete e.password};return delete e.mode,delete e.modelCache,delete e.restorable,delete e.links,delete e.access,delete e.text,delete e.defaultPassword,delete e.hasPassword,delete e.projectRef,e.id&&e.password&&e.password===r.forSettings.defaultPassword&&t(),this.validForApiKey()&&t(),this.validForBasic()&&delete e.accessKey,e.id||delete e.fields,e}});return i}),define("projectSettings/tabViews/bts/btsFieldsView",["require","jquery","underscore","util","app","components/DropDownComponent","bts/BtsFieldsCommonView"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("util"),i=e("app"),s=e("components/DropDownComponent"),o=i.getInstance(),u=e("bts/BtsFieldsCommonView"),a=u.extend({fieldsTpl:"tpl-dynamic-fields",events:{},initialize:function(e){this.$el=e.holder,this.editable=e.editable,this.fields=e.fields,this.disabled=o.forSettings.btsJIRA.disabledForEdit,this.dropdownComponents=[]},render:function(){return this.$el.html(r.templates(this.fieldsTpl,{collection:this.fields,disabled:this.disabled,update:!0,editable:this.editable,access:o.userModel.hasPermissions()})),this.setupDropdowns(this.fields),this.setupMultiSelect(this.fields),this},setupMultiSelect:function(e){this.applyTypeForBtsFields(e,this.$el)},setupDropdowns:function(e){var r=this;t("[data-js-field-with-dropdown]",this.$el).each(function(i,u){var a=n.find(e,function(e){return t(u).attr("data-js-field-with-dropdown")===e.id}),f=new s({data:n.map(a.definedValues,function(e){return{name:e.valueName,value:e.valueId||e.valueName,disabled:!1}}),multiple:!1,defaultValue:a.value?function(){var e=n.find(a.definedValues,function(e){return a.value[0]===e.valueId||a.value[0]===e.valueName});return e?e.valueId||e.valueName:""}():a.definedValues[0].valueId||a.definedValues[0].valueName||""});t(this).html(f.$el),t("[data-js-dropdown]",t(this)).attr("id",t(this).attr("data-js-field-with-dropdown")).addClass("default-value"),(!o.userModel.hasPermissions()||o.forSettings.btsJIRA.disabledForEdit.indexOf(a.id)!==-1)&&t("[data-js-dropdown]",t(this)).attr("disabled","disabled"),a.required&&t("[data-js-dropdown]",t(this)).addClass("required-value"),r.dropdownComponents.push(f)})},update:function(e){return this.$el.html(r.templates(this.fieldsTpl,{collection:e,update:!0,disabled:this.disabled,access:o.userModel.hasPermissions()})),this.setupDropdowns(e),this.setupMultiSelect(e),this},updateData:function(e){this.fields=e,this.render()},getDefaultValues:function(){var e={};return n.forEach(t(".default-selector:checked",this.$el),function(n){var r=t(n),i,s,o;r.data("type")==="array"?(i=r.closest(".rp-form-group").find("input.default-value:first"),s=i.val()):(o=r.closest(".rp-form-group").find("select:first"),o.length?i=o:i=r.closest(".rp-form-group").find(".default-value:first"),s=i.is("button")?i.parent().find("ul.dropdown-menu > li > a.selected").data("value")||i.parent().find(".select-value:first").text():i.val()),e[i.attr("id")]=(""+s).trim()}),e},onDestroy:function(){n.each(this.dropdownComponents,function(e){e.destroy()}),this.$el.html("")}});return a}),define("projectSettings/tabViews/bts/btsTabView",["require","jquery","backbone-epoxy","underscore","util","app","localization","coreService","model/SingletonAppModel","modals/modalConfirm","components/DropDownComponent","projectSettings/tabViews/bts/btsPropertiesModel","projectSettings/tabViews/bts/btsFieldsView"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("underscore"),i=e("util"),s=e("app"),o=e("localization"),u=e("coreService"),a=e("model/SingletonAppModel"),f=e("modals/modalConfirm"),l=e("components/DropDownComponent"),c=s.getInstance(),h=e("projectSettings/tabViews/bts/btsPropertiesModel"),p=e("projectSettings/tabViews/bts/btsFieldsView"),d=n.View.extend({defaultFields:null,className:"bts-project-settings",wrapperTpl:"tpl-bts-wrapper",instanceTpl:"tpl-bts-instance",multiTpl:"tpl-bts-multi-selector",authTpl:"tpl-bts-auth-type",events:{"keyup .bts-property":"updateModel","blur .bts-property":"updateModel","click #submitBtsProperties":"saveProperties","click #editBtsProperties":"editProperties","click #deleteInstance":"deleteInstance","click #cancelBtsProperties":"cancelEditProperties","click .bts-instance":"selectBtsInstance","click .close-add-action":"discardAddNew","click #submitFields":"submitFields","click #updateFields":"onClickUpdate","click #cancelFields":"cancelFieldsUpdate"},initialize:function(){var e=[];this.dropdownComponents=[],this.appModel=new a,this.settings=c.forSettings,this.access=i.isInPrivilegedGroup(),this.systems=this.appModel.get("configuration").externalSystem,r.each(this.systems,function(t){return r.each(c.forSettings.btsList,function(n){if(n.name===t.systemType)return e.push(t),!1})}),this.model=new h(e[0]),this.listenTo(this.model,"change:fields",function(){c.trackingDispatcher.trackEventNumber(408)}),this.systemAt=0,this.render()},render:function(){var e;return this.$el.html(i.templates(this.wrapperTpl,{settings:this.settings,systemType:this.model.get("systemType"),access:this.access})),e=new l({data:r.map(this.settings.btsList,function(e){return{name:e.name,value:e.value,disabled:!1}}),multiple:!1,defaultValue:this.model.get("systemType")}),t("[data-js-bts-switcher]",this.$el).html(e.$el),this.access||e.disabled(),this.listenTo(e,"change",this.changeBts),this.dropdownComponents.push(e),this.$instanceHead=t("#instanceHead",this.$el),this.$instanceBoby=t("#instanceBody",this.$el),c.forSettings.btsList.length?(this.renderMultiSelector(),this.renderInstance()):(t("button",this.$el).prop({disabled:"disabled"}),t("[data-js-no-bts-message]",this.$el).removeClass("hide")),this},renderMultiSelector:function(){var e,t;return this.$instanceHead.empty(),e=this.model.get("systemType"),this.systemWithMultipleProjects(e)?(t=this.systems.length&&e===this.systems[0].systemType?this.systems:[],this.$instanceHead.html(i.templates(this.multiTpl,{systems:t,index:this.systemAt,access:this.access})),!0):!1},renderInstance:function(){var e=this.model.toJSON(),n;this.$instanceBoby.empty(),e.access=this.access,e.settings=this.settings,e.projectType=this.model.isRally()?"projectId":"projectName",this.$instanceBoby.html(i.templates(this.instanceTpl,e)),n=new l({data:r.map(this.settings["bts"+this.model.get("systemType")].authorizationType,function(e){return{name:e.name,value:e.value,disabled:!1}}),multiple:!1,defaultValue:this.model.get("systemAuth")}),t("li",n.$el).each(function(e,n){t(n).attr("id",t("a",t(n)).data("value"))}),t("[data-js-dropdown]",n.$el).attr("id","systemAuth").attr("disabled",this.access?"":"disabled"),t("[data-js-auth-type-selector]",this.$el).html(n.$el),this.listenTo(n,"change",this.updateAuthType),this.dropdownComponents.push(n),this.setupAnchors(),this.setAuthBlock(e),this.bindValidators(),this.access&&this.setupValidityState(),this.renderFields()},validateForAuthenticationType:function(){i.hasValidBtsSystem()&&this.model.set("systemAuth",this.settings["bts"+this.model.get("systemType")].authorizationType[0].value)},systemWithMultipleProjects:function(e){return this.settings["bts"+e]&&this.settings["bts"+e].multiple},changeBts:function(e){c.trackingDispatcher.trackEventNumber(398),this.validateBtsChange(e)},validateBtsChange:function(e){var t=this.checkIfSystemDefined(e)?this.systems[this.systemAt]:{systemType:e};this.model=new h(t),this.validateForChangeBtsWarning(),this.renderMultiSelector(),this.renderInstance()},validateForChangeBtsWarning:function(){var e=this.systems.length&&!this.model.get("id")?"show":"hide";this.$tbsChangeWarning[e]()},checkIfSystemDefined:function(e){return r.any(this.systems,function(t){return t.systemType===e})},focusOnFields:function(){t("html, body").animate({scrollTop:this.$fieldsWrapper.offset().top},1e3)},renderFields:function(){var e=this;this.model.get("id")&&(e.model.get("fields").length?(e.fieldsView&&e.fieldsView.destroy(),e.fieldsView=(new p({holder:e.$dynamicFieldsWrapper,fields:e.model.get("fields"),editable:!0})).render(),t("[data-js-bts-fields-wrapper]",this.$el).removeClass("edit-mode"),e.$fieldsWrapper.show()):e.renderDefaultBtsFields())},onClickUpdate:function(){this.$fieldsWrapper.hide(),this.renderDefaultBtsFields()},renderDefaultBtsFields:function(){var e=this;this.selectIssueType&&(this.stopListening(this.selectIssueType),this.selectIssueType.destroy()),t("[data-js-issue-type-loader]",e.$el).show(),this.fieldsView&&this.fieldsView.destroy(),u.getBtsTypes(this.model.get("id")).done(function(n){var i=n[0],s=r.find(e.model.get("fields"),{id:"issuetype"});s&&~n.indexOf(s.value[0])&&(i=s.value[0]),e.$fieldsWrapper.show(),e.selectIssueType=new l({data:r.map(n,function(e){return{name:e,value:e}}),defaultValue:i}),t("[data-js-issue-type-select]",e.$el).html(e.selectIssueType.$el),e.listenTo(e.selectIssueType,"change",e.loadDefaultBtsFields),e.loadDefaultBtsFields()}).fail(function(t){var n=JSON.parse(t.responseText).message;e.$externalSystemWarning.text(n).show()}).always(function(){t("[data-js-issue-type-loader]",e.$el).hide()}),t("[data-js-bts-fields-wrapper]",this.$el).addClass("edit-mode")},setupAnchors:function(){this.$tbsChangeWarning=t("#tbsChangeWarning",this.$el),this.$authDropDown=t("#systemAuth",this.$el),this.$authType=t("#authorizationType",this.$el),this.$fieldsLoader=t("#fieldsLoader",this.$el),this.$submitBlock=t("#submitPropertiesBlock",this.$el),this.$editBtn=t("#editBtsProperties",this.$el),this.$deleteBtn=t("#deleteInstance",this.$el),this.$cancelBtn=t("#cancelBtsProperties",this.$el),this.$propertiesWrapper=t("#propertiesWrapper",this.$el),this.$resetFieldsWarning=t("#resetFieldsWarning",this.$el),this.$externalSystemWarning=t("#externalError",this.$el),this.$fieldsWrapper=t("#fieldsWrapper",this.$el),this.$dynamicFieldsWrapper=t("#dynamicFields",this.$el),this.$fieldsControls=t(".fields-controls",this.$el),this.$updateFieldsBtn=t("#updateFields",this.$fieldsControls),this.$cancelFieldsBtn=t("#cancelFields",this.$fieldsControls)},discardAddNew:function(e){e.preventDefault(),t(e.currentTarget).closest("li").removeClass("activated").removeClass("active"),t(e.currentTarget).closest("ul").find("[data-index="+this.systemAt+"]").parent().addClass("active"),t(e.currentTarget).closest("ul").find(".bts-instance-action").removeClass("disabled"),this.model=new h(this.systems[this.systemAt]),this.renderInstance(),e.stopPropagation()},selectBtsInstance:function(e){var n,r,i,s;e.preventDefault(),n=t(e.currentTarget),r=n.parent();if(r.hasClass("active")||r.hasClass("disabled"))return!1;n.hasClass("add-new")?(c.trackingDispatcher.trackEventNumber(400),r.closest("ul").find(".active").removeClass("active"),r.addClass("disabled"),r.closest("ul").find(".bts-name-new-project").addClass("active").addClass("activated"),i=this.model.get("systemType"),s=this.systems[0].url,this.model=new h({systemType:i,url:s}),this.renderInstance()):(c.trackingDispatcher.trackEventNumber(399),this.systemAt=n.data("index"),this.model=new h(this.systems[this.systemAt]),this.renderMultiSelector(),this.renderInstance())},submitFields:function(){var e=[],t=this.defaultFields?this.defaultFields:this.model.get("fields"),n;c.trackingDispatcher.trackEventNumber(410),r.forEach(this.fieldsView.getDefaultValues(),function(i,s){var o=i;n=r.find(t,{id:s}),n&&(n.fieldType==="array"?o=o.split(","):o=[o],n.value=o,e.push(n))}),this.model.set("fields",e),this.saveProperties(),this.systems[this.systemAt].fields=e},loadDefaultBtsFields:function(){var e=this;c.trackingDispatcher.trackEventNumber(409),this.$fieldsLoader.show(),this.fieldsView&&this.fieldsView.destroy(),this.fieldsView=new p({holder:this.$dynamicFieldsWrapper,fields:[],editable:!0}),u.getBtsFields(this.model.get("id"),this.selectIssueType.getValue()).done(function(t){e.$fieldsLoader.hide(),e.defaultFields=r.cloneDeep(t),r.forEach(e.model.get("fields"),function(n){var i=r.find(t,{id:n.id});i&&(i.id==="issuetype"?i.value=[e.selectIssueType.getValue()]:i.value=n.value,i.checked=!0)}),e.fieldsView.update(t),e.$updateFieldsBtn.hide(),e.model.fieldsWereSelected()&&e.$cancelFieldsBtn.show(),e.$fieldsWrapper.show(),e.$externalSystemWarning.hide(),e.focusOnFields()}).fail(function(t){e.handleBtsFailure(t),e.$fieldsLoader.hide()})},cancelFieldsUpdate:function(){this.renderFields(),this.$updateFieldsBtn.show(),this.$cancelFieldsBtn.hide()},preventDefault:function(e){e.preventDefault()},saveProperties:function(){this.model.isValid()?(c.trackingDispatcher.trackEventNumber(404),this.validateForSystemsClearance()?(c.userModel.set("bts",null),u.clearExternalSystem().done(function(){this.saveBts(!0)}.bind(this)).fail(function(){i.ajaxSuccessMessenger("clearExternalSystem")})):this.saveBts()):t("input:visible, textarea:visible",this.$propertiesWrapper).trigger("validate")},saveBts:function(e){var t=this,n,s;this.$fieldsLoader.show();if(e)while(this.systems.length)this.systems.pop();n=this.model.get("id")?"updateExternalSystem":"createExternalSystem",s=this.model.getBtsSettings(),this.checkIfLinkOrProjectNameChanged(s)&&(this.model.set("fields",[]),s.fields=[]),u[n](s).done(function(e){t.setupValidityState(),t.$fieldsWrapper.show(),e.id?(t.externalId=e.id,t.updateCredentials(s,e.id),t.systems.push(s),t.systemAt=t.systems.length-1,t.renderMultiSelector(),s.id=t.externalId):(r.merge(t.systems[t.systemAt],s),t.model.discardEdit(),s.id=t.systems[t.systemAt].id),t.appModel.setArr("externalSystem",t.systems),t.renderInstance(),t.renderMultiSelector(),t.$tbsChangeWarning.hide(),n==="updateExternalSystem"&&i.addMessage({clazz:"success",message:e.msg})}).fail(function(e){t.handleBtsFailure(e),t.$fieldsWrapper.hide(),t.$fieldsLoader.hide()}).always(function(){t.model.get("fields").length&&t.$fieldsLoader.hide()})},handleBtsFailure:function(e){var t,n=this.$externalSystemWarning.data("casual");try{t=JSON.parse(e.responseText)}catch(r){console.log(r)}if(t&&t.message){this.$externalSystemWarning.text(t.message).show();return}e.status===404&&(n="Impossible interact with external system. External system with type JIRA is not deployed or not available"),e.status===403?n=o.failMessages.noPermissions:e.responseText&&e.responseText.indexOf(this.settings.projectNotFoundPattern)!==-1&&(n=this.$externalSystemWarning.data("noproject").replace("%%%",this.model.get("project"))),(e.status===400||e.status===409)&&t.error_code===4032&&(n=t.message),this.$externalSystemWarning.text(n).show()},updateCredentials:function(e,t){var n=e;this.model.set("id",t),n.id=t,this.model.validForBasic()?(this.model.set("password",this.settings.defaultPassword),n.password=this.settings.defaultPassword):this.model.validForApiKey()&&(n.accessKey=this.model.get("accessKey"))},validateForSystemsClearance:function(){return this.systems.length&&this.model.get("systemType")!==this.systems[0].systemType},deleteInstance:function(){var e=this,n=new f({headerText:o.dialogHeader.deleteBts,bodyText:i.replaceTemplate(o.dialog.deleteBts,this.model.get("systemType"),this.model.get("project")),cancelButtonText:o.ui.cancel,okButtonDanger:!0,okButtonText:o.ui.delete,confirmFunction:function(){return c.trackingDispatcher.trackEventNumber(407),u.deleteExternalSystem(e.model.get("id")).done(function(){var t;e.systems.splice(e.systemAt,1),e.systems.length?e.model=new h(e.systems[0]):(t=e.model.get("systemType"),e.model=new h({systemType:t})),e.systems.length>0?e.appModel.setArr("externalSystem",[e.systems[0]]):e.appModel.setArr("externalSystem",[]),e.systemAt=0,e.renderMultiSelector(),e.renderInstance(),e.setPristineBTSForm(),i.ajaxSuccessMessenger("deleteBts")}).fail(function(e){i.ajaxFailMessenger(e,"deleteBts")})}});c.trackingDispatcher.trackEventNumber(402),t("[data-js-close]",n.$el).on("click",function(){c.trackingDispatcher.trackEventNumber(405)}),t("[data-js-cancel]",n.$el).on("click",function(){c.trackingDispatcher.trackEventNumber(406)}),n.show()},setPristineBTSForm:function(){var e=c.forSettings.btsList[0].value;t("#btsSettings").find("#systemType").find(".select-value").text(e),this.renderMultiSelector(),this.renderInstance()},checkIfLinkOrProjectNameChanged:function(e){var t=r.find(this.systems,{id:e.id});return t&&(t.url!==e.url||t.project!==e.project)},editProperties:function(){c.trackingDispatcher.trackEventNumber(401),this.model.setupEdit(),this.setupValidityState(),this.$cancelBtn.show()},cancelEditProperties:function(){var e=this.model.get("modelCache"),n=this,i;c.trackingDispatcher.trackEventNumber(403),r.forEach(e.restorable,function(r){t("#"+r,n.$propertiesWrapper).val(e[r])}),i=t("#"+e.systemAuth,this.$propertiesWrapper),i.closest(".dropdown-menu").find(".active").removeClass("active"),i.addClass("active"),t("#systemAuth",this.$el).find(".select-value").text(i.text()),this.setAuthBlock(e),t(".has-error",this.$propertiesWrapper).removeClass("has-error"),this.model.cancelEdit(),this.$resetFieldsWarning.hide(),this.setupValidityState(),this.$externalSystemWarning.is(":visible")&&(this.$externalSystemWarning.hide(),this.$fieldsWrapper.show())},updateModel:function(e){var n=t(e.currentTarget),r=n.val().trim(),i=n.attr("id"),s;r!==this.model.get(i)&&(i!=="password"&&n.trigger("validate"),r=n.data("valid")?r:"",this.model.isEdit()&&this.checkIfCanResetFields(i)&&(this.model.fieldsWereSelected()&&this.$resetFieldsWarning.show(),t("#username, #password, #accessKey",this.$el).val(""),this.model.set({username:"",password:"",accessKey:""})),i==="username"&&(s=t("#password",this.$propertiesWrapper),s.val()===this.settings.defaultPassword&&(s.val(""),this.model.set("password",""))),this.model.set(i,r))},bindValidators:function(){i.bootValidator(t("#url",this.$propertiesWrapper),[{validator:"required",type:"btsLink"},{validator:"matchRegex",type:"btsLinkRegex",pattern:"(http|https)://[a-z0-9-_]+(.[a-z0-9-_]+)+([a-z0-9-.,@?^=%&;:/~+#]*[a-z0-9-@?^=%&;/~+#])?",arg:"i"}]),i.bootValidator(t("#project",this.$propertiesWrapper),{validator:"minMaxRequired",type:"projectName",min:1,max:55}),this.model.isRally()&&i.bootValidator(t("#accessKey",this.$propertiesWrapper),{validator:"required",type:"accessKey"})},setupValidityState:function(){this.model.isValid()&&!this.model.isEdit()?(this.$submitBlock.hide(),this.$editBtn.show(),this.$deleteBtn.show(),t("input, textarea",this.$propertiesWrapper).prop("disabled",!0),this.$authDropDown.prop("disabled",!0)):(this.$submitBlock.show(),this.$editBtn.hide(),this.$deleteBtn.hide(),t("input, textarea",this.$propertiesWrapper).prop("disabled",!1),this.$authDropDown.prop("disabled",!1))},setAuthBlock:function(e){var n=e;n.access=this.access,n.hasPassword=!!this.model.get("id"),n.defaultPassword=this.settings.defaultPassword,this.$authType.html(i.templates(this.authTpl,n)),this.model.validForBasic()?(i.bootValidator(t("#username",this.$propertiesWrapper),{validator:"required"}),i.bootValidator(t("#password",this.$propertiesWrapper),{validator:"required"}),this.model.isTFS()&&i.bootValidator(t("#domain",this.$propertiesWrapper),{validator:"minMaxRequired",type:"tfsDomain",min:1,max:255})):this.model.validForApiKey()?i.bootValidator(t("#accessKey",this.$propertiesWrapper),{validator:"minMaxRequired",type:"apiKey",min:4,max:128}):i.bootValidator(t("#accessKey",this.$propertiesWrapper),{validator:"required"})},updateAuthType:function(e){this.model.set("systemAuth",e),this.setAuthBlock()},checkIfCanResetFields:function(e){return e==="url"||e==="project"},onDestroy:function(){r.each(this.dropdownComponents,function(e){e.destroy()}),this.defaultFields&&(this.defaultFields=null),this.fieldsView&&this.fieldsView.destroy()}});return d}),function(e){"use strict";typeof define=="function"&&define.amd?define("spectrum",["jquery"],e):typeof exports=="object"&&typeof module=="object"?module.exports=e(require("jquery")):e(jQuery)}(function(e,t){"use strict";function a(t,n,r,i){var o=[];for(var u=0;u<t.length;u++){var a=t[u];if(a){var f=tinycolor(a),l=f.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(n,a)?" sp-thumb-active":"";var c=f.toString(i.preferredFormat||"rgb"),h=s?"background-color:"+f.toRgbString():"filter:"+f.toFilter();o.push('<span title="'+c+'" data-color="'+f.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+h+';" /></span>')}else{var p="sp-clear-display";o.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="'+p+'"></span>').attr("title",i.noColorSelectedText)).html())}}return"<div class='sp-cf "+r+"'>"+o.join("")+"</div>"}function f(){for(var e=0;e<r.length;e++)r[e]&&r[e].hide()}function l(t,r){var i=e.extend({},n,t);return i.callbacks={move:v(i.move,r),change:v(i.change,r),show:v(i.show,r),hide:v(i.hide,r),beforeShow:v(i.beforeShow,r)},i}function c(n,c){function Tt(){p.showPaletteOnly&&(p.showPalette=!0),ct.text(p.showPaletteOnly?p.togglePaletteMoreText:p.togglePaletteLessText);if(p.palette){F=p.palette.slice(0),I=e.isArray(F[0])?F:[F],q={};for(var t=0;t<I.length;t++)for(var n=0;n<I[t].length;n++){var r=tinycolor(I[t][n]).toRgbString();q[r]=!0}}Q.toggleClass("sp-flat",v),Q.toggleClass("sp-input-disabled",!p.showInput),Q.toggleClass("sp-alpha-enabled",p.showAlpha),Q.toggleClass("sp-clear-enabled",xt),Q.toggleClass("sp-buttons-disabled",!p.showButtons),Q.toggleClass("sp-palette-buttons-disabled",!p.togglePaletteOnly),Q.toggleClass("sp-palette-disabled",!p.showPalette),Q.toggleClass("sp-palette-only",p.showPaletteOnly),Q.toggleClass("sp-initial-disabled",!p.showInitial),Q.addClass(p.className).addClass(p.containerClassName),$t()}function Nt(){function n(t){return t.data&&t.data.ignore?(qt(e(t.target).closest(".sp-thumb-el").data("color")),zt()):(qt(e(t.target).closest(".sp-thumb-el").data("color")),zt(),Vt(!0),p.hideAfterPaletteSelect&&Ft()),!1}i&&Q.find("*:not(input)").attr("unselectable","on"),Tt(),dt&&J.after(vt).hide(),xt||ft.hide();if(v)J.after(Q).hide();else{var t=p.appendTo==="parent"?J.parent():e(p.appendTo);t.length!==1&&(t=e("body")),t.append(Q)}Ct(),mt.bind("click.spectrum touchstart.spectrum",function(t){K||Pt(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()}),(J.is(":disabled")||p.disabled===!0)&&Gt(),Q.click(d),st.change(Dt),st.bind("paste",function(){setTimeout(Dt,1)}),st.keydown(function(e){e.keyCode==13&&Dt()}),at.text(p.cancelText),at.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),It(),Ft()}),ft.attr("title",p.clearText),ft.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),St=!0,zt(),v&&Vt(!0)}),lt.text(p.chooseText),lt.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),i&&st.is(":focus")&&st.trigger("change"),Ut()&&(Vt(!0),Ft())}),ct.text(p.showPaletteOnly?p.togglePaletteMoreText:p.togglePaletteLessText),ct.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),p.showPaletteOnly=!p.showPaletteOnly,!p.showPaletteOnly&&!v&&Q.css("left","-="+(G.outerWidth(!0)+5)),Tt()}),m(rt,function(e,t,n){j=e/M,St=!1,n.shiftKey&&(j=Math.round(j*10)/10),zt()},Mt,_t),m(et,function(e,t){P=parseFloat(t/A),St=!1,p.showAlpha||(j=1),zt()},Mt,_t),m(Y,function(e,t,n){if(!n.shiftKey)W=null;else if(!W){var r=H*C,i=k-B*k,s=Math.abs(e-r)>Math.abs(t-i);W=s?"x":"y"}var o=!W||W==="x",u=!W||W==="y";o&&(H=parseFloat(e/C)),u&&(B=parseFloat((k-t)/k)),St=!1,p.showAlpha||(j=1),zt()},Mt,_t),yt?(qt(yt),Wt(),wt=p.preferredFormat||tinycolor(yt).format,kt(yt)):Wt(),v&&Ht();var r=i?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ot.delegate(".sp-thumb-el",r,n),ut.delegate(".sp-thumb-el:nth-child(1)",r,{ignore:!0},n)}function Ct(){if(w&&window.localStorage){try{var t=window.localStorage[w].split(",#");t.length>1&&(delete window.localStorage[w],e.each(t,function(e,t){kt(t)}))}catch(n){}try{R=window.localStorage[w].split(";")}catch(n){}}}function kt(t){if(b){var n=tinycolor(t).toRgbString();if(!q[n]&&e.inArray(n,R)===-1){R.push(n);while(R.length>U)R.shift()}if(w&&window.localStorage)try{window.localStorage[w]=R.join(";")}catch(r){}}}function Lt(){var e=[];if(p.showPalette)for(var t=0;t<R.length;t++){var n=tinycolor(R[t]).toRgbString();q[n]||e.push(R[t])}return e.reverse().slice(0,p.maxSelectionSize)}function At(){var t=Rt(),n=e.map(I,function(e,n){return a(e,t,"sp-palette-row sp-palette-row-"+n,p)});Ct(),R&&n.push(a(Lt(),t,"sp-palette-row sp-palette-row-selection",p)),ot.html(n.join(""))}function Ot(){if(p.showInitial){var e=bt,t=Rt();ut.html(a([e,t],t,"sp-palette-row-initial",p))}}function Mt(){(k<=0||C<=0||A<=0)&&$t(),N=!0,Q.addClass(z),W=null,J.trigger("dragstart.spectrum",[Rt()])}function _t(){N=!1,Q.removeClass(z),J.trigger("dragstop.spectrum",[Rt()])}function Dt(){var e=st.val();if(e!==null&&e!==""||!xt){var t=tinycolor(e);t.isValid()?(qt(t),Vt(!0)):st.addClass("sp-validation-error")}else qt(null),Vt(!0)}function Pt(){T?Ft():Ht()}function Ht(){var t=e.Event("beforeShow.spectrum");if(T){$t();return}J.trigger(t,[Rt()]);if(S.beforeShow(Rt())===!1||t.isDefaultPrevented())return;f(),T=!0,e(X).bind("keydown.spectrum",Bt),e(X).bind("click.spectrum",jt),e(window).bind("resize.spectrum",x),vt.addClass("sp-active"),Q.removeClass("sp-hidden"),$t(),Wt(),bt=Rt(),Ot(),S.show(bt),J.trigger("show.spectrum",[bt])}function Bt(e){e.keyCode===27&&Ft()}function jt(e){if(e.button==2)return;if(N)return;Et?Vt(!0):It(),Ft()}function Ft(){if(!T||v)return;T=!1,e(X).unbind("keydown.spectrum",Bt),e(X).unbind("click.spectrum",jt),e(window).unbind("resize.spectrum",x),vt.removeClass("sp-active"),Q.addClass("sp-hidden"),S.hide(Rt()),J.trigger("hide.spectrum",[Rt()])}function It(){qt(bt,!0)}function qt(e,t){if(tinycolor.equals(e,Rt())){Wt();return}var n,r;!e&&xt?St=!0:(St=!1,n=tinycolor(e),r=n.toHsv(),P=r.h%360/360,H=r.s,B=r.v,j=r.a),Wt(),n&&n.isValid()&&!t&&(wt=p.preferredFormat||n.getFormat())}function Rt(e){return e=e||{},xt&&St?null:tinycolor.fromRatio({h:P,s:H,v:B,a:Math.round(j*100)/100},{format:e.format||wt})}function Ut(){return!st.hasClass("sp-validation-error")}function zt(){Wt(),S.move(Rt()),J.trigger("move.spectrum",[Rt()])}function Wt(){st.removeClass("sp-validation-error"),Xt();var e=tinycolor.fromRatio({h:P,s:1,v:1});Y.css("background-color",e.toHexString());var t=wt;j<1&&(j!==0||t!=="name")&&(t==="hex"||t==="hex3"||t==="hex6"||t==="name")&&(t="rgb");var n=Rt({format:t}),r="";gt.removeClass("sp-clear-display"),gt.css("background-color","transparent");if(!n&&xt)gt.addClass("sp-clear-display");else{var o=n.toHexString(),u=n.toRgbString();s||n.alpha===1?gt.css("background-color",u):(gt.css("background-color","transparent"),gt.css("filter",n.toFilter()));if(p.showAlpha){var a=n.toRgb();a.a=0;var f=tinycolor(a).toRgbString(),l="linear-gradient(left, "+f+", "+o+")";i?nt.css("filter",tinycolor(f).toFilter({gradientType:1},o)):(nt.css("background","-webkit-"+l),nt.css("background","-moz-"+l),nt.css("background","-ms-"+l),nt.css("background","linear-gradient(to right, "+f+", "+o+")"))}r=n.toString(t)}p.showInput&&st.val(r),p.showPalette&&At(),Ot()}function Xt(){var e=H,t=B;if(xt&&St)it.hide(),tt.hide(),Z.hide();else{it.show(),tt.show(),Z.show();var n=e*C,r=k-t*k;n=Math.max(-L,Math.min(C-L,n-L)),r=Math.max(-L,Math.min(k-L,r-L)),Z.css({top:r+"px",left:n+"px"});var i=j*M;it.css({left:i-_/2+"px"});var s=P*A;tt.css({top:s-D+"px"})}}function Vt(e){var t=Rt(),n="",r=!tinycolor.equals(t,bt);t&&(n=t.toString(wt),kt(t)),ht&&J.val(n),e&&r&&(S.change(t),J.trigger("change",[t]))}function $t(){if(!T)return;C=Y.width(),k=Y.height(),L=Z.height(),O=et.width(),A=et.height(),D=tt.height(),M=rt.width(),_=it.width(),v||(Q.css("position","absolute"),p.offset?Q.offset(p.offset):Q.offset(h(Q,mt))),Xt(),p.showPalette&&At(),J.trigger("reflow.spectrum")}function Jt(){J.show(),mt.unbind("click.spectrum touchstart.spectrum"),Q.remove(),vt.remove(),r[Zt.id]=null}function Kt(n,r){if(n===t)return e.extend({},p);if(r===t)return p[n];p[n]=r,n==="preferredFormat"&&(wt=p.preferredFormat),Tt()}function Qt(){K=!1,J.attr("disabled",!1),mt.removeClass("sp-disabled")}function Gt(){Ft(),K=!0,J.attr("disabled",!0),mt.addClass("sp-disabled")}function Yt(e){p.offset=e,$t()}var p=l(c,n),v=p.flat,b=p.showSelectionPalette,w=p.localStorageKey,E=p.theme,S=p.callbacks,x=g($t,10),T=!1,N=!1,C=0,k=0,L=0,A=0,O=0,M=0,_=0,D=0,P=0,H=0,B=0,j=1,F=[],I=[],q={},R=p.selectionPalette.slice(0),U=p.maxSelectionSize,z="sp-dragging",W=null,X=n.ownerDocument,V=X.body,J=e(n),K=!1,Q=e(u,X).addClass(E),G=Q.find(".sp-picker-container"),Y=Q.find(".sp-color"),Z=Q.find(".sp-dragger"),et=Q.find(".sp-hue"),tt=Q.find(".sp-slider"),nt=Q.find(".sp-alpha-inner"),rt=Q.find(".sp-alpha"),it=Q.find(".sp-alpha-handle"),st=Q.find(".sp-input"),ot=Q.find(".sp-palette"),ut=Q.find(".sp-initial"),at=Q.find(".sp-cancel"),ft=Q.find(".sp-clear"),lt=Q.find(".sp-choose"),ct=Q.find(".sp-palette-toggle"),ht=J.is("input"),pt=ht&&J.attr("type")==="color"&&y(),dt=ht&&!v,vt=dt?e(o).addClass(E).addClass(p.className).addClass(p.replacerClassName):e([]),mt=dt?vt:J,gt=vt.find(".sp-preview-inner"),yt=p.color||ht&&J.val(),bt=!1,wt=p.preferredFormat,Et=!p.showButtons||p.clickoutFiresChange,St=!yt,xt=p.allowEmpty&&!pt;Nt();var Zt={show:Ht,hide:Ft,toggle:Pt,reflow:$t,option:Kt,enable:Qt,disable:Gt,offset:Yt,set:function(e){qt(e),Vt()},get:Rt,destroy:Jt,container:Q};return Zt.id=r.push(Zt)-1,Zt}function h(t,n){var r=0,i=t.outerWidth(),s=t.outerHeight(),o=n.outerHeight(),u=t[0].ownerDocument,a=u.documentElement,f=a.clientWidth+e(u).scrollLeft(),l=a.clientHeight+e(u).scrollTop(),c=n.offset();return c.top+=o,c.left-=Math.min(c.left,c.left+i>f&&f>i?Math.abs(c.left+i-f):0),c.top-=Math.min(c.top,c.top+s>l&&l>s?Math.abs(s+o-r):r),c}function p(){}function d(e){e.stopPropagation()}function v(e,t){var n=Array.prototype.slice,r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}function m(t,n,r,s){function p(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function d(e){if(u){if(i&&o.documentMode<9&&!e.button)return m();var r=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0],s=r&&r.pageX||e.pageX,h=r&&r.pageY||e.pageY,d=Math.max(0,Math.min(s-a.left,l)),v=Math.max(0,Math.min(h-a.top,f));c&&p(e),n.apply(t,[d,v,e])}}function v(n){var i=n.which?n.which==3:n.button==2;!i&&!u&&r.apply(t,arguments)!==!1&&(u=!0,f=e(t).height(),l=e(t).width(),a=e(t).offset(),e(o).bind(h),e(o.body).addClass("sp-dragging"),d(n),p(n))}function m(){u&&(e(o).unbind(h),e(o.body).removeClass("sp-dragging"),setTimeout(function(){s.apply(t,arguments)},0)),u=!1}n=n||function(){},r=r||function(){},s=s||function(){};var o=document,u=!1,a={},f=0,l=0,c="ontouchstart"in window,h={};h.selectstart=p,h.dragstart=p,h["touchmove mousemove"]=d,h["touchend mouseup"]=m,e(t).bind("touchstart mousedown",v)}function g(e,t,n){var r;return function(){var i=this,s=arguments,o=function(){r=null,e.apply(i,s)};n&&clearTimeout(r);if(n||!r)r=setTimeout(o,t)}}function y(){return e.fn.spectrum.inputTypeColorSupport()}var n={beforeShow:p,move:p,change:p,show:p,hide:p,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},r=[],i=!!/msie/i.exec(window.navigator.userAgent),s=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div"),n=t.style;return n.cssText="background-color:rgba(0,0,0,.5)",e(n.backgroundColor,"rgba")||e(n.backgroundColor,"hsla")}(),o=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),u=function(){var e="";if(i)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),b="spectrum.id";e.fn.spectrum=function(t,n){if(typeof t=="string"){var i=this,s=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=r[e(this).data(b)];if(n){var o=n[t];if(!o)throw new Error("Spectrum: no such method: '"+t+"'");t=="get"?i=n.get():t=="container"?i=n.container:t=="option"?i=n.option.apply(n,s):t=="destroy"?(n.destroy(),e(this).removeData(b)):o.apply(n,s)}}),i}return this.spectrum("destroy").each(function(){var n=e.extend({},t,e(this).data()),r=c(this,n);e(this).data(b,r.id)})},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=m,e.fn.spectrum.defaults=n,e.fn.spectrum.inputTypeColorSupport=function w(){if(typeof w._cachedResult=="undefined"){var t=e("<input type='color'/>")[0];w._cachedResult=t.type==="color"&&t.value!==""}return w._cachedResult},e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.spectrum.processNativeColorInputs=function(){var t=e("input[type=color]");t.length&&!y()&&t.spectrum({preferredFormat:"hex6"})},function(){function f(e){var t={r:0,g:0,b:0},n=1,r=!1,i=!1;return typeof e=="string"&&(e=W(e)),typeof e=="object"&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(t=l(e.r,e.g,e.b),r=!0,i=String(e.r).substr(-1)==="%"?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=q(e.s),e.v=q(e.v),t=d(e.h,e.s,e.v),r=!0,i="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=q(e.s),e.l=q(e.l),t=h(e.h,e.s,e.l),r=!0,i="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=D(n),{ok:r,format:e.format||i,r:s(255,o(t.r,0)),g:s(255,o(t.g,0)),b:s(255,o(t.b,0)),a:n}}function l(e,t,n){return{r:P(e,255)*255,g:P(t,255)*255,b:P(n,255)*255}}function c(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var r=o(e,t,n),i=s(e,t,n),u,a,f=(r+i)/2;if(r==i)u=a=0;else{var l=r-i;a=f>.5?l/(2-r-i):l/(r+i);switch(r){case e:u=(t-n)/l+(t<n?6:0);break;case t:u=(n-e)/l+2;break;case n:u=(e-t)/l+4}u/=6}return{h:u,s:a,l:f}}function h(e,t,n){function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var r,i,s;e=P(e,360),t=P(t,100),n=P(n,100);if(t===0)r=i=s=n;else{var u=n<.5?n*(1+t):n+t-n*t,a=2*n-u;r=o(a,u,e+1/3),i=o(a,u,e),s=o(a,u,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function p(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var r=o(e,t,n),i=s(e,t,n),u,a,f=r,l=r-i;a=r===0?0:l/r;if(r==i)u=0;else{switch(r){case e:u=(t-n)/l+(t<n?6:0);break;case t:u=(n-e)/l+2;break;case n:u=(e-t)/l+4}u/=6}return{h:u,s:a,v:f}}function d(e,t,n){e=P(e,360)*6,t=P(t,100),n=P(n,100);var i=r.floor(e),s=e-i,o=n*(1-t),u=n*(1-s*t),a=n*(1-(1-s)*t),f=i%6,l=[n,u,o,o,a,n][f],c=[a,n,n,u,o,o][f],h=[o,o,a,n,n,u][f];return{r:l*255,g:c*255,b:h*255}}function v(e,t,n,r){var s=[I(i(e).toString(16)),I(i(t).toString(16)),I(i(n).toString(16))];return r&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function m(e,t,n,r){var s=[I(R(r)),I(i(e).toString(16)),I(i(t).toString(16)),I(i(n).toString(16))];return s.join("")}function g(e,t){t=t===0?0:t||10;var n=a(e).toHsl();return n.s-=t/100,n.s=H(n.s),a(n)}function y(e,t){t=t===0?0:t||10;var n=a(e).toHsl();return n.s+=t/100,n.s=H(n.s),a(n)}function b(e){return a(e).desaturate(100)}function w(e,t){t=t===0?0:t||10;var n=a(e).toHsl();return n.l+=t/100,n.l=H(n.l),a(n)}function E(e,t){t=t===0?0:t||10;var n=a(e).toRgb();return n.r=o(0,s(255,n.r-i(255*-(t/100)))),n.g=o(0,s(255,n.g-i(255*-(t/100)))),n.b=o(0,s(255,n.b-i(255*-(t/100)))),a(n)}function S(e,t){t=t===0?0:t||10;var n=a(e).toHsl();return n.l-=t/100,n.l=H(n.l),a(n)}function x(e,t){var n=a(e).toHsl(),r=(i(n.h)+t)%360;return n.h=r<0?360+r:r,a(n)}function T(e){var t=a(e).toHsl();return t.h=(t.h+180)%360,a(t)}function N(e){var t=a(e).toHsl(),n=t.h;return[a(e),a({h:(n+120)%360,s:t.s,l:t.l}),a({h:(n+240)%360,s:t.s,l:t.l})]}function C(e){var t=a(e).toHsl(),n=t.h;return[a(e),a({h:(n+90)%360,s:t.s,l:t.l}),a({h:(n+180)%360,s:t.s,l:t.l}),a({h:(n+270)%360,s:t.s,l:t.l})]}function k(e){var t=a(e).toHsl(),n=t.h;return[a(e),a({h:(n+72)%360,s:t.s,l:t.l}),a({h:(n+216)%360,s:t.s,l:t.l})]}function L(e,t,n){t=t||6,n=n||30;var r=a(e).toHsl(),i=360/n,s=[a(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(a(r));return s}function A(e,t){t=t||6;var n=a(e).toHsv(),r=n.h,i=n.s,s=n.v,o=[],u=1/t;while(t--)o.push(a({h:r,s:i,v:s})),s=(s+u)%1;return o}function _(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function D(e){e=parseFloat(e);if(isNaN(e)||e<0||e>1)e=1;return e}function P(e,t){j(e)&&(e="100%");var n=F(e);return e=s(t,o(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),r.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function H(e){return s(1,o(0,e))}function B(e){return parseInt(e,16)}function j(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function F(e){return typeof e=="string"&&e.indexOf("%")!=-1}function I(e){return e.length==1?"0"+e:""+e}function q(e){return e<=1&&(e=e*100+"%"),e}function R(e){return Math.round(parseFloat(e)*255).toString(16)}function U(e){return B(e)/255}function W(n){n=n.replace(e,"").replace(t,"").toLowerCase();var r=!1;if(O[n])n=O[n],r=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=z.rgb.exec(n))?{r:i[1],g:i[2],b:i[3]}:(i=z.rgba.exec(n))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=z.hsl.exec(n))?{h:i[1],s:i[2],l:i[3]}:(i=z.hsla.exec(n))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=z.hsv.exec(n))?{h:i[1],s:i[2],v:i[3]}:(i=z.hsva.exec(n))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=z.hex8.exec(n))?{a:U(i[1]),r:B(i[2]),g:B(i[3]),b:B(i[4]),format:r?"name":"hex8"}:(i=z.hex6.exec(n))?{r:B(i[1]),g:B(i[2]),b:B(i[3]),format:r?"name":"hex"}:(i=z.hex3.exec(n))?{r:B(i[1]+""+i[1]),g:B(i[2]+""+i[2]),b:B(i[3]+""+i[3]),format:r?"name":"hex"}:!1}var e=/^[\s,#]+/,t=/\s+$/,n=0,r=Math,i=r.round,s=r.min,o=r.max,u=r.random,a=function(e,t){e=e?e:"",t=t||{};if(e instanceof a)return e;if(!(this instanceof a))return new a(e,t);var r=f(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=i(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=r.ok,this._tc_id=n++};a.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},setAlpha:function(e){return this._a=D(e),this._roundA=i(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=i(e.h*360),n=i(e.s*100),r=i(e.v*100);return this._a==1?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=c(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=c(this._r,this._g,this._b),t=i(e.h*360),n=i(e.s*100),r=i(e.l*100);return this._a==1?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return v(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return m(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(P(this._r,255)*100)+"%",g:i(P(this._g,255)*100)+"%",b:i(P(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+i(P(this._r,255)*100)+"%, "+i(P(this._g,255)*100)+"%, "+i(P(this._b,255)*100)+"%)":"rgba("+i(P(this._r,255)*100)+"%, "+i(P(this._g,255)*100)+"%, "+i(P(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:M[v(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+m(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=a(e);n=i.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0,i=!t&&r&&(e==="hex"||e==="hex6"||e==="hex3"||e==="name");if(i)return e==="name"&&this._a===0?this.toName():this.toRgbString();e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString());if(e==="hex"||e==="hex6")n=this.toHexString();return e==="hex3"&&(n=this.toHexString(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString()},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(E,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(L,arguments)},complement:function(){return this._applyCombination(T,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(N,arguments)},tetrad:function(){return this._applyCombination(C,arguments)}},a.fromRatio=function(e,t){if(typeof e=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=q(e[r]));e=n}return a(e,t)},a.equals=function(e,t){return!e||!t?!1:a(e).toRgbString()==a(t).toRgbString()},a.random=function(){return a.fromRatio({r:u(),g:u(),b:u()})},a.mix=function(e,t,n){n=n===0?0:n||50;var r=a(e).toRgb(),i=a(t).toRgb(),s=n/100,o=s*2-1,u=i.a-r.a,f;o*u==-1?f=o:f=(o+u)/(1+o*u),f=(f+1)/2;var l=1-f,c={r:i.r*f+r.r*l,g:i.g*f+r.g*l,b:i.b*f+r.b*l,a:i.a*s+r.a*(1-s)};return a(c)},a.readability=function(e,t){var n=a(e),r=a(t),i=n.toRgb(),s=r.toRgb(),o=n.getBrightness(),u=r.getBrightness(),f=Math.max(i.r,s.r)-Math.min(i.r,s.r)+Math.max(i.g,s.g)-Math.min(i.g,s.g)+Math.max(i.b,s.b)-Math.min(i.b,s.b);return{brightness:Math.abs(o-u),color:f}},a.isReadable=function(e,t){var n=a.readability(e,t);return n.brightness>125&&n.color>500},a.mostReadable=function(e,t){var n=null,r=0,i=!1;for(var s=0;s<t.length;s++){var o=a.readability(e,t[s]),u=o.brightness>125&&o.color>500,f=3*(o.brightness/125)+o.color/500;if(u&&!i||u&&i&&f>r||!u&&!i&&f>r)i=u,r=f,n=a(t[s])}return n};var O=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M=a.hexNames=_(O),z=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=a}(),e(function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()})}),define("components/ColorPicker",["require","exports","module","jquery","backbone","util","spectrum"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("util");e("spectrum");var o=i.View.extend({className:"colorpicker-spectrum",template:"tpl-component-colorpicker",initialize:function(e){this.initColor=e.initColor||"#000000",this.render()},render:function(){this.$el.html(s.templates(this.template)),this.colorPicker=r("[data-js-colorpicker-holder]",this.$el).spectrum(this.config())},config:function(){var e=this;return{color:e.initColor,showInput:!0,allowEmpty:!1,showPalette:!0,showSelectionPalette:!1,clickoutFiresChange:!0,showInitial:!1,showButtons:!1,preferredFormat:"hex",appendTo:e.el,palette:[["#f48fb1","#cc92d6","#b39ddb","#81d4fa","#8de1ec","#80cbc4","#c5e1a5","#e6ee9c","#ffcc80","#ffab91"],["#f50057","#d500f9","#651fff","#00b0ff","#00e5ff","#1de9b6","#76ff03","#c6ff00","#ffc400","#ff3d00"],["#ad1457","#6a1b9a","#4527a0","#0277bd","#00838f","#00695c","#558b2f","#9e9d24","#ff8f00","#d84315"]],show:function(t){e.colorPicker.spectrum("set",e.initColor)},hide:function(t){e.trigger("change:color",t.toHexString())}}},getColor:function(){return this.colorPicker.spectrum("get").toHexString()},setColor:function(e){this.colorPicker.spectrum("set",e)}});return o}),define("projectSettings/tabViews/defectTypes/defectTypeSubView",["require","jquery","backbone-epoxy","util","app","localization","defectType/DefectTypeModel","modals/modalConfirm","components/ColorPicker","underscore"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("app"),s=e("localization"),o=e("defectType/DefectTypeModel"),u=e("modals/modalConfirm"),a=e("components/ColorPicker"),f=e("underscore"),l=i.getInstance(),c=n.View.extend({model:{},"static":"tpl-defect-type-item",editor:"tpl-defect-type-item-edit",confirmModal:"tpl-modal-with-confirm",el:"",parent:{},name:"",events:{"click .delete-item":"deleteItem","click .edit-item":"editItem","click .save-item":"saveItem","click .cancel-item":"cancelItem","focusout .rp-input":"liveValidate"},initialize:function(e){f.extend(this,e),this.on("initClrPicker",this.initColorPicker,this),this.editModel=new o,this.listenTo(this.model,"change:locator",this.onChangeLocator),this.listenTo(this.model,"change:longName",function(){l.trackingDispatcher.trackEventNumber(413)}),this.listenTo(this.model,"change:shortName",function(){l.trackingDispatcher.trackEventNumber(414)}),this.listenTo(this.model,"change:color",function(){l.trackingDispatcher.trackEventNumber(415)}),this.listenTo(this.model,"change",this.render)},onChangeLocator:function(e,t){this.$el.attr({id:t})},render:function(){var e=this.model.get("locator"),n=this.static,i=this.setTemplateData(),s;t(this.el).html(r.templates(n,i)),e==="newItem"&&(s=t("#"+e),this.trigger("initClrPicker",s))},setTemplateData:function(){var e={model:this.model.toJSON(),color:this.parent.color,edit:this.edit};return e.first=this.model.get("mainType"),e},editItem:function(e){var n,i;e&&(e.preventDefault(),l.trackingDispatcher.trackEventNumber(411)),this.el.html(r.templates(this.editor,this.model.toJSON())),this.editModel.set(this.model.toJSON()),n=this.model.get("locator"),i=t("#"+n),this.trigger("initClrPicker",i)},saveItem:function(e){l.trackingDispatcher.trackEventNumber(416),e.preventDefault();if(!this.editModel.isValid()){t('[data-type="longName"]',this.$el).focusout(),t('[data-type="shortName"]',this.$el).focusout();return}t("[data-js-colorpicker-holder]",this.$el).spectrum("hide"),this.model.set(this.editModel.toJSON()),this.el.html(r.templates(this.static,this.setTemplateData())),this.model.get("locator")==="newItem"&&this.model.collection.add(this.model)},deleteItem:function(e){var n,i=this,o=t(e.target).closest(".dt-body-item").attr("id"),a=t(e.target).closest(".dt-body-item").attr("data-defect-type"),f=this.model.get("typeRef").replace("_"," ").capitalize(),c=this.model.get("longName");e.preventDefault();if(o===a.toUpperCase()+"0")return;l.trackingDispatcher.trackEventNumber(412),n=new u({headerText:s.dialogHeader.titleDeleteDefectType,bodyText:r.replaceTemplate(s.dialog.msgMessageTop,c,f),confirmText:"",cancelButtonText:s.ui.cancel,okButtonDanger:!0,okButtonText:s.ui.delete}),t("[data-js-close]",n.$el).on("click",function(){l.trackingDispatcher.trackEventNumber(418)}),t("[data-js-cancel]",n.$el).on("click",function(){l.trackingDispatcher.trackEventNumber(419)}),n.show().done(function(){l.trackingDispatcher.trackEventNumber(420),i.model.collection.remove(i.model),i.destroy(),r.ajaxSuccessMessenger("deleteOneSubType")})},cancelItem:function(e){var t;e.preventDefault(),l.trackingDispatcher.trackEventNumber(417);if(this.model.get("locator")==="newItem"){t=this.model,this.destroy(),t.collection.trigger("cancel:add",t.get("typeRef"));return}this.el.html(r.templates(this.static,this.setTemplateData()))},getData:function(e){var n={longName:t(e).find("[data-type=longName]").val(),shortName:t(e).find("[data-type=shortName]").val().toUpperCase(),color:t(e).find("[data-type=color]").val()};return n},initColorPicker:function(){var e=new a({initColor:this.editModel.get("color")}),n=this;t(".holder-color-picker",this.$el).html(e.el),this.listenTo(e,"change:color",function(e){n.editModel.set("color",e)})},liveValidate:function(e){var n,r=t(e.target).closest(".dt-body-item"),i=t(e.target).attr("data-type"),s=t.trim(t(e.target).val());t(e.target).val(s),this.editModel.set(i,s),this.editModel.isValid()||(n=this.uniteErrors(this.editModel.validationError,{}),f.each(n,function(e,t){t!==i&&delete n[t]}),this.showErrors({data:n},r,[i]))},uniteErrors:function(e,t){var n={};return f.each(e,function(e){e.valid||(n[e.key]=e.reason)}),f.each(t,function(e){if(e.valid===!0)return;if(f.has(n,e.key)){f.each(e.reason,function(t){n[e.key].push(t)},this);return}n[e.key]=e.reason}),n},showErrors:function(e,t,n){this.clearErrMessages(n,t),this.addErrMessage(e,t)},addErrMessage:function(e,n){f.each(e.data,function(e,r){var i,o=t(n).find("[data-type="+r+"]");o.attr("required",!0),i=s.validation[e],o.closest("div").find("p")&&o.closest("div").append("<p>"+i+"</p>"),o.closest("div").find(".check-color-picker")&&o.closest("div").find(".check-color-picker").addClass("data-failed")},this)},clearErrMessages:function(e,n){f.each(e,function(e){var r;if(e==="color")return;r=t(n).find("[data-type="+e+"]"),r.removeAttr("required"),r.closest("div").find("p").remove(),r.closest("div").find(".check-color-picker").removeClass("data-failed")})},onDestroy:function(){this.remove()}});return c}),define("projectSettings/tabViews/defectTypes/defectTypeView",["require","jquery","underscore","backbone-epoxy","util","d3","c3","defectType/DefectTypeModel","projectSettings/tabViews/defectTypes/defectTypeSubView","app"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("d3"),o=e("c3"),u=e("defectType/DefectTypeModel"),a=e("projectSettings/tabViews/defectTypes/defectTypeSubView"),f=e("app"),l=f.getInstance(),c=r.View.extend({template:"tpl-defect-type",subTemplate:"tpl-defect-subType",events:{"click .add-item":"addItem"},collection:{},name:"",initialize:function(e){n.extend(this,e),this.collection.on("AddNew:"+this.name,this.updateControls,this),this.collection.on("Remove:"+this.name,this.updateControls,this),this.collection.on("cancel:add",this.lockAddButton,this),this.collection.on("change",this.updateControls,this),this.collection.on("remove",this.onRemove,this),this.render()},render:function(){var e;e={name:this.name,color:this.color,addLeft:this.addLeft,edit:this.edit},this.$el.html(i.templates(this.template,e)),this.updateControls()},onShow:function(){this.renderSubTypes()},renderSubTypes:function(){if(this.collection.length===0)return;n.each(this.collection.models,function(e){var n;if(e.get("typeRef").toLowerCase()!==this.name)return;n={model:e,parent:this,edit:this.edit},this.renderItem(n),this.name==="to_investigate"&&t(".controll-panel",this.$el).remove()},this),this.drawDonutChart(this.getChartData())},renderItem:function(e){var n=e,r=n.model.get("locator"),s=i.templates(this.subTemplate,{id:r,type:n.model.get("typeRef"),edit:n.edit}),o;return t(".controll-panel",this.$el).before(s),n.el=t("#"+r,this.$el),o=new a(n),o.render(),o},addItem:function(e){var n,r,i;l.trackingDispatcher.trackEventNumber(421),e.preventDefault(),n=new u({locator:"newItem",typeRef:this.name.toUpperCase(),color:this.color}),n.collection=this.collection,t(e.currentTarget).attr("disabled","disabled"),r={model:n,parent:this,edit:this.edit},i=this.renderItem(r),i.editItem()},getChartData:function(){var e={columns:[],colors:{}};return n.each(this.collection.models,function(t){if(t.get("typeRef")!==this.name.toUpperCase())return;e.columns.push([t.get("locator"),1]),e.colors[t.get("locator")]=t.get("color")},this),e},drawDonutChart:function(e){var n=t("[data-js-chart-container]",this.$el);this.chart=o.generate({bindto:n[0],data:{columns:e.columns,type:"donut",order:null,colors:e.colors},size:{width:56,height:56},interaction:{enabled:!0},legend:{show:!1},donut:{width:12,label:{show:!1}},tooltip:{show:!1}})},updateChart:function(){var e=this.getChartData();this.chart&&this.chart.data.colors(e.colors),this.chart&&this.chart.load({columns:e.columns})},onRemove:function(e){this.chart&&this.chart.unload({ids:[e.get("locator")]}),this.updateControls()},lockAddButton:function(){var e=this.getCollectionLength();if(e>=10||t("#newItem",this.$el).length){t(".add-item",this.$el).prop("disabled",!0);return}t(".add-item",this.$el).prop("disabled",!1)},getCollectionLength:function(){var e=0;return n.each(this.collection.models,function(t){var n=t.get("typeRef").toLowerCase();n===this.name&&(e+=1)},this),e},recountAddLeft:function(){var e=this.getCollectionLength(),n=this.$el.find(".add-item").parent();this.addLeft=10-e;if(this.addLeft>0){t(n).find("p:first span").html(this.addLeft),t(n).find("p:last").hide(),t(n).find("p:first").show();return}t(n).find("p:first").hide(),t(n).find("p:last").show()},updateControls:function(){this.recountAddLeft(),this.lockAddButton(),this.updateChart()},onDestroy:function(){this.chart&&(this.chart=this.chart.destroy()),this.remove()}});return c}),define("projectSettings/tabViews/defectTypes/defectTypesTabView",["require","jquery","underscore","backbone-epoxy","util","app","localization","d3","c3","model/SingletonAppModel","defectType/SingletonDefectTypeCollection","modals/modalConfirm","projectSettings/tabViews/defectTypes/defectTypeView"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("app"),o=e("localization"),u=e("d3"),a=e("c3"),f=e("model/SingletonAppModel"),l=e("defectType/SingletonDefectTypeCollection"),c=e("modals/modalConfirm"),h=e("projectSettings/tabViews/defectTypes/defectTypeView"),p=s.getInstance(),d=r.View.extend({defectTypes:{},items:{},showOrder:["product_bug","automation_bug","system_issue","no_defect","to_investigate"],editAccess:["PROJECT_MANAGER","LEAD"],confirmModal:"tpl-modal-with-confirm",canEdit:!0,className:"defect-types-project-settings",template:"tpl-defect-type-main-view",item:"tpl-defect-type-item",events:{"click #reset-color":"onResetColors"},initialize:function(){var e=this;this.appModel=new f,this.drawOrder=this.showOrder.slice(0,this.showOrder.length).reverse(),this.settings=p.project,this.roles=p.userModel.get("projects")[this.appModel.get("projectId")],this.userRole=p.userModel.get("userRole")||"ADMINISTRATOR",this.userRole==="ADMINISTRATOR"?this.canEdit=!0:this.canEdit=n.include(this.editAccess,this.roles.projectRole),this.defectTypes=new l,this.defectTypes.on("reset",function(){this.renderTypes()},this),this.defectTypes.on("change remove add",n.debounce(e.updateControls,100),this),this.render()},updateControls:function(){this.drawStackedAreaChart(),this.disableReset()},render:function(){return this.$el.html(i.templates(this.template,{order:this.showOrder,edit:this.canEdit})),this},onShow:function(){this.renderTypes()},renderTypes:function(){var e=this;n.each(this.showOrder,function(n){var r=this.getColor(n),i=new h({name:n,color:r,collection:this.defectTypes,edit:this.canEdit});t("#"+n,e.$el).html(i.$el),i.onShow&&i.onShow()},this),this.updateControls()},getColor:function(e){var t;return n.each(this.defectTypes.models,function(n){var r=n.get("locator"),i=n.get("typeRef").toLowerCase(),s=n.get("shortName")+"001";r===s&&i===e&&(t=n.get("color"))}),t},getChartData:function(){var e={columns:[],colors:{}};return n.each(this.drawOrder,function(t){n.each(this.defectTypes.models,function(r){if(r.get("typeRef").toLowerCase()!==t)return;e.columns.push([r.get("locator")].concat([n.random(5,10),n.random(2,6),n.random(5,10),n.random(2,6),n.random(5,10)])),e.colors[r.get("locator")]=r.get("color")},this)},this),e},drawStackedAreaChart:function(){var e=this,r=this.getChartData(),i=t("[data-js-colors-chart]",this.$el);u.selectAll(t(".c3-area",i)).on("click",null),this.chart&&(this.chart=this.chart.destroy()),this.chart=a.generate({bindto:i[0],data:{columns:r.columns,type:"area-spline",order:null,groups:[n.map(r.columns,function(e){return e[0]})],colors:r.colors},point:{show:!1},axis:{x:{show:!1},y:{show:!1,padding:{top:0}}},legend:{show:!1},size:{height:150},onrendered:function(){i.css("max-height","none"),u.selectAll(t(".c3-area",i)).on("click",function(t){var r=n.map(e.chart.data.shown(),function(e){return e.id});r.length>1?e.chart.hide(n.without(r,t.id)):e.chart.show()})}})},onResetColors:function(e){e.preventDefault();if(t(e.target).hasClass("disabled"))return;this.showModalResetColors(),p.trackingDispatcher.trackEventNumber(422)},showModalResetColors:function(){var e=this,n=new c({headerText:o.dialogHeader.titleResetDefectColors,bodyText:o.dialog.msgResetColorsDefectType,cancelButtonText:o.ui.cancel,okButtonDanger:!0,okButtonText:o.uiCommonElements.reset});t("[data-js-close]",n.$el).on("click",function(){p.trackingDispatcher.trackEventNumber(423)}),t("[data-js-cancel]",n.$el).on("click",function(){p.trackingDispatcher.trackEventNumber(424)}),n.show().done(function(){p.trackingDispatcher.trackEventNumber(425),e.resetColors(),i.ajaxSuccessMessenger("changedColorDefectTypes")})},resetColors:function(){this.defectTypes.trigger("resetColors")},disableReset:function(){var e=[],r;n.each(this.defectTypes.models,function(t){t.get("mainType")&&e.push(t.get("color"))}),r=n.every(this.defectTypes.models,function(t){return n.contains(e,t.get("color"))},this);if(r){t("#reset-color",this.$el).addClass("disabled").attr("title",o.project.noCustomColors);return}t("#reset-color",this.$el).removeClass("disabled").removeAttr("title")},onDestroy:function(){u.selectAll(t("[data-js-colors-chart].c3-area",this.$el)).on("click",null),this.chart&&(this.chart=this.chart.destroy())}});return d}),define("projectSettings/tabViews/demoData/demoDataTabView",["require","exports","module","jquery","backbone-epoxy","backbone","util","app","localization","coreService"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone-epoxy"),s=e("backbone"),o=e("util"),u=e("app"),a=e("localization"),f=e("coreService"),l=u.getInstance(),c=i.View.extend({className:"demo-data-project-settings",attributes:{"data-js-demo-data":""},tpl:"tpl-project-settings-demo-data",events:{"click [data-js-demo-data-submit]":"submitSettings","input [data-js-demo-data-postfix]":"validate","keypress [data-js-demo-data-postfix]":"onEnterActions"},initialize:function(){this.model=new s.Model({postfix:""}),this.listenTo(this.model,"change:postfix",function(){l.trackingDispatcher.trackEventNumber(428)}),this.render()},render:function(){return this.$el.html(o.templates(this.tpl)),this.setupAnchors(),this.initValidators(),this},setupAnchors:function(){this.$submitSettings=r("[data-js-demo-data-submit]",this.$el),this.$postfixInput=r("[data-js-demo-data-postfix]",this.$el),this.$alertLoaderBlock=r("[data-js-demo-data-loader]",this.$el)},toggleDisableForm:function(e){this.$postfixInput.prop("disabled",e),this.$submitSettings.prop("disabled",e)},initValidators:function(){o.hintValidator(this.$postfixInput,[{type:"postfix",validator:"minMaxRequired",min:1,max:90}])},validate:function(){this.$postfixInput.trigger("validate")},onEnterActions:function(e){if(e.keyCode===13)return this.submitSettings(),!1},showFormError:function(e){var t=null,n="";if(e){try{t=JSON.parse(e.responseText)}catch(i){n=a.failMessages.defaults}e.status===409?n=a.project.posfixUniq:t&&t.message&&(t.message.indexOf("You couldn't create the duplicate")>=0?n=a.project.posfixUniq:n=t.message.replace("{}",""))}var s=this.$postfixInput.closest(".rp-form-group");s.addClass("has-error"),r(".help-inline",s).text(n)},hideFormError:function(){var e=this.$postfixInput.closest(".rp-form-group");e.removeClass("has-error"),r(".help-inline",e).text("")},toggleLoader:function(e){this.$alertLoaderBlock[e]()},submitSettings:function(e){this.validate();if(r(".validate-error",this.$el).length)return;this.hideFormError(),l.trackingDispatcher.trackEventNumber(429);var t=this.$postfixInput.val(),n={isCreateDashboard:"true",postfix:t};this.model.set("postfix",t),this.toggleDisableForm(!0),this.toggleLoader("show"),f.generateDemoData(n).done(function(e){this.$postfixInput.val(""),o.ajaxSuccessMessenger("generateDemoData")}.bind(this)).fail(function(e){this.showFormError(e);if(e.status===409){var t=a.project.posfixUniq;o.ajaxFailMessenger(null,"dublPostFix")}else o.ajaxFailMessenger(e)}.bind(this)).always(function(){this.toggleLoader("hide"),this.toggleDisableForm(!1)}.bind(this))},onDestroy:function(){}});return c}),define("projectSettings/tabViews/autoAnalysis/autoAnalysisSettingsModel",["require","backbone","app"],function(e){"use strict";var t=e("backbone"),n=e("app"),r=n.getInstance(),i=t.Model.extend({defaults:{isAutoAnalyzerEnabled:!0,analyzer_mode:r.forSettings.analyzerMode,minDocFreq:r.autoAnalysisAccuracy.CLASSIC.minDocFreq,minShouldMatch:r.autoAnalysisAccuracy.CLASSIC.minShouldMatch,minTermFreq:r.autoAnalysisAccuracy.CLASSIC.minTermFreq,numberOfLogLines:r.autoAnalysisAccuracy.CLASSIC.numberOfLogLines},getAutoAnalysisSettings:function(){var e={isAutoAnalyzerEnabled:this.get("isAutoAnalyzerEnabled"),analyzer_mode:this.get("analyzer_mode"),minDocFreq:this.get("minDocFreq"),minShouldMatch:this.get("minShouldMatch"),minTermFreq:this.get("minTermFreq"),numberOfLogLines:this.get("numberOfLogLines")};return{configuration:{analyzerConfiguration:e}}}});return i}),define("projectSettings/tabViews/autoAnalysis/autoAnalysisTabView",["require","jquery","underscore","backbone-epoxy","util","app","coreService","model/SingletonAppModel","model/SingletonRegistryInfoModel","components/DropDownComponent","model/UserModel","modals/modalConfirm","localization","projectSettings/tabViews/autoAnalysis/autoAnalysisSettingsModel","components/SettingSwitcherView"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("app"),o=e("coreService"),u=e("model/SingletonAppModel"),a=e("model/SingletonRegistryInfoModel"),f=e("components/DropDownComponent"),l=e("model/UserModel"),c=e("modals/modalConfirm"),h=s.getInstance(),p=new u,d=e("localization"),v=e("projectSettings/tabViews/autoAnalysis/autoAnalysisSettingsModel"),m=e("components/SettingSwitcherView"),g=r.View.extend({className:"auto-analysis-project-settings",tpl:"tpl-project-settings-auto-analysis",events:{"click [data-js-is-auto-analyze]":"switchAutoAnalysis","click [data-js-submit-settings]":"submitSettings",'change input[type="radio"]':"onChangeAABase","change [data-js-mode-param]":"isMatchPreset","click [data-js-remove-index]":"onRemoveIndex","click [data-js-generate-index]":"onGenerateIndex","keypress [data-js-mode-param]":"allowNumber","click [data-js-switch-item]":"onChangeMode"},bindings:{"[data-js-is-auto-analyze]":"checked: isAutoAnalyzerEnabled","[data-js-match-input]":"value: minShouldMatch","[data-js-doc-freq-input]":"value: minDocFreq","[data-js-term-freq-input]":"value: minTermFreq","[data-js-numder-str-input]":"value: numberOfLogLines","[data-js-remove-index]":"classes: {disabled: isIndexBtnDisabled}, attr:{title: indexBtnTitle}","[data-js-generate-index]":"classes: {disabled: isIndexBtnDisabled}, attr:{title: indexBtnTitle}, text:inProgressText"},computeds:{inProgressText:{deps:["indexing_running"],get:function(e){return e?d.project.indexInProgress:d.project.generateIndex}},isIndexBtnDisabled:{deps:["indexing_running"],get:function(e){return!this.registryModel.get("services").ANALYZER||e}},indexBtnTitle:{get:function(){return this.registryModel.get("services").ANALYZER?"":d.project.noAutoAnalysisService}}},onChangeMode:function(){h.trackingDispatcher.trackEventNumber(583)},initialize:function(){this.userModel=new l,this.model=new v(p.get("configuration").analyzerConfiguration),this.registryModel=new a,this.render()},switchAutoAnalysis:function(){h.trackingDispatcher.trackEventNumber(581)},render:function(){this.$el.html(i.templates(this.tpl,{access:h.userModel.hasPermissions()})),this.logStrNumberSelector=new f({data:h.logStrNumberAutoAnalyze,multiple:!1,defaultValue:this.model.get("numberOfLogLines")||h.autoAnalysisAccuracy.CLASSIC.numberOfLogLines}),t("[data-js-numder-str-input]",this.$el).html(this.logStrNumberSelector.$el),this.listenTo(this.logStrNumberSelector,"change",function(e){this.model.set("numberOfLogLines",e),this.isMatchPreset()}),this.modeSwitcher=new m({options:{isShortForm:!1,items:[{name:d.project.classicMode,value:"CLASSIC"},{name:d.project.moderateMode,value:"MODERATE"},{name:d.project.lightMode,value:"LIGHT"}],value:-1}}),this.modeSwitcher.activate(),t("[data-js-mode-switcher]",this.$el).html(this.modeSwitcher.$el),this.listenTo(this.modeSwitcher.model,"change:value",function(){this.setAccuracySettings(this.getModeValue()),this.validate()}),this.setupAnalyzerSetting(),this.isMatchPreset(),this.addValidators()},getModeValue:function(){var e=this,t;return n.each(this.modeSwitcher.model.get("items"),function(n,r){r===e.modeSwitcher.model.get("value")&&(t=n)}),t&&t.value},setupAnalyzerSetting:function(){var e;t('[value="'+(this.model.get("analyzer_mode")||"LAUNCH_NAME")+'"]',this.$el).attr("checked","checked"),this.userModel.get("userRole")!=="ADMINISTRATOR"&&(e=this.userModel.get("projects")[p.get("projectId")].projectRole,e!=="PROJECT_MANAGER"&&(t("[data-js-is-auto-analyze]",this.$el).attr("disabled","disabled").parent().addClass("disabled"),t("[data-js-aa-base-block] input",this.$el).attr("disabled","disabled"),t("[data-js-mode-param]",this.$el).attr("disabled","disabled"),t("[data-js-dropdown]",this.$el).addClass("disabled"),t("[data-js-switch-item]",this.$el).addClass("disabled"),t("[data-js-remove-index]",this.$el).attr("disabled","disabled"),t("[data-js-generate-index]",this.$el).attr("disabled","disabled")))},isMatchPreset:function(){var e=Object.keys(h.autoAnalysisAccuracy),t=this;this.modeSwitcher.model.set("value",-1),e.forEach(function(e){var r=h.autoAnalysisAccuracy[e],i=r.minDocFreq===t.model.get("minDocFreq").toString()&&r.minShouldMatch===t.model.get("minShouldMatch").toString()&&r.minTermFreq===t.model.get("minTermFreq").toString()&&r.numberOfLogLines===t.model.get("numberOfLogLines").toString();i&&n.each(t.modeSwitcher.model.get("items"),function(n,r){n.value===e&&t.modeSwitcher.model.set("value",r)})})},addValidators:function(){i.hintValidator(t("[data-js-match-input]",this.$el),[{validator:"minMaxNumberRequired",type:"autoAnalysis",min:50,max:100}]),i.hintValidator(t("[data-js-doc-freq-input]",this.$el),[{validator:"minMaxNumberRequired",type:"autoAnalysis",min:1,max:10}]),i.hintValidator(t("[data-js-term-freq-input]",this.$el),[{validator:"minMaxNumberRequired",type:"autoAnalysis",min:1,max:10}])},allowNumber:function(e){var t=e.which?e.which:event.keyCode;return!(t>31&&(t<48||t>57))},onRemoveIndex:function(){var e;h.trackingDispatcher.trackEventNumber(585),e=new c({headerText:d.project.removeIndex,bodyText:d.project.removeIndexConfirm,cancelButtonText:d.ui.cancel,okButtonDanger:!0,okButtonText:d.ui.remove,safeRemoval:!0,confirmFunction:function(){return o.removeIndex().done(function(){i.ajaxSuccessMessenger("removeIndex")}).fail(function(e){i.ajaxFailMessenger(e)})}}),e.show()},onGenerateIndex:function(){var e,t=this;h.trackingDispatcher.trackEventNumber(586),e=new c({headerText:d.project.generateIndex,bodyText:d.project.generateIndexConfirm,cancelButtonText:d.ui.cancel,okButtonText:d.ui.generate,safeRemoval:!0,noteText:d.project.noteText,confirmFunction:function(){return o.generateIndex().done(function(){i.ajaxSuccessMessenger("generateIndex"),o.getProject().done(function(e){p.set(e),t.model.set("indexing_running",e.configuration.analyzerConfiguration.indexing_running)})}).fail(function(e){i.ajaxFailMessenger(e)})}}),e.show()},onChangeAABase:function(e){h.trackingDispatcher.trackEventNumber(582),this.model.set("analyzer_mode",e.target.value)},setAccuracySettings:function(e){var t;e&&(t=h.autoAnalysisAccuracy[e],this.model.set({minDocFreq:t.minDocFreq,minShouldMatch:t.minShouldMatch,minTermFreq:t.minTermFreq,numberOfLogLines:t.numberOfLogLines}),this.logStrNumberSelector.activateItem(t.numberOfLogLines))},validate:function(){return!(t("[data-js-match-input]",this.$el).trigger("validate").data("validate-error")||t("[data-js-doc-freq-input]",this.$el).trigger("validate").data("validate-error")||t("[data-js-term-freq-input]",this.$el).trigger("validate").data("validate-error"))},submitSettings:function(){var e;if(!this.validate())return;e=this.model.getAutoAnalysisSettings(),h.trackingDispatcher.trackEventNumber(584),o.updateProject(e).done(function(){var t=p.get("configuration");n.merge(t,e.configuration),p.set({configuration:t}),i.ajaxSuccessMessenger("updateProjectSettings")}).fail(function(e){i.ajaxFailMessenger(e,"updateProjectSettings")})}});return g}),define("projectSettings/projectSettingsView",["require","jquery","backbone-epoxy","util","app","model/SingletonAppModel","components/DropDownComponent","projectSettings/tabViews/general/generalTabView","projectSettings/tabViews/notifications/notificationsTabView","projectSettings/tabViews/bts/btsTabView","projectSettings/tabViews/defectTypes/defectTypesTabView","projectSettings/tabViews/demoData/demoDataTabView","projectSettings/tabViews/autoAnalysis/autoAnalysisTabView"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("app"),s=e("model/SingletonAppModel"),o=e("components/DropDownComponent"),u=e("projectSettings/tabViews/general/generalTabView"),a=e("projectSettings/tabViews/notifications/notificationsTabView"),f=e("projectSettings/tabViews/bts/btsTabView"),l=e("projectSettings/tabViews/defectTypes/defectTypesTabView"),c=e("projectSettings/tabViews/demoData/demoDataTabView"),h=e("projectSettings/tabViews/autoAnalysis/autoAnalysisTabView"),p=i.getInstance(),d=n.View.extend({className:"project-settings",tpl:"tpl-project-settings-shell",events:{"click .tab.settings":"getTab"},initialize:function(e){this.adminPage=e.adminPage,this.projectId=e.projectId,this.tab=e.tab||"general",this.appModel=new s,this.render()},render:function(){return this.$el.html(r.templates(this.tpl,{tab:this.tab,projectId:this.projectId,generateDemoDataAccess:r.isInPrivilegedGroup()||this.isPersonalProjectOwner(),adminPage:this.adminPage,projectName:p.project.projectId})),this},onShow:function(){this.setupAnchors(),this.setupSelectDropDown(),this.renderTabContent()},setupAnchors:function(){this.$tabContent=t("[data-js-tab-content]",this.$el)},renderTabContent:function(){var e;this.tabView&&this.tabView.destroy(),e=this.getTabView(this.tab),this.tabView=new e,this.$tabContent.html(this.tabView.$el),this.tabView.onShow&&this.tabView.onShow(),this.tabSelector.activateItem(this.tab),t("[data-js-tab-action]",this.$el).closest("li.active").removeClass("active"),t('[data-js-tab-action="'+this.tab+'"]',this.$el).closest("li").addClass("active")},update:function(e){t(".users-typeahead.launches").select2("close"),t(".users-typeahead.tags").select2("close"),t(".users-typeahead.recipients").select2("close"),this.tab=e||"general",this.renderTabContent()},setupSelectDropDown:function(){this.tabSelector=new o({data:[{name:"GENERAL",value:"general"},{name:"NOTIFICATIONS",value:"notifications"},{name:"BUG TRACKING SYSTEM",value:"bts"},{name:"DEFECT TYPES",value:"defect"},{name:"AUTO-ANALYSIS",value:"autoAnalysis"},{name:"DEMO DATA",value:"demoData"}],multiple:!1,defaultValue:this.tab}),t("[data-js-nav-tabs-mobile]",this.$el).html(this.tabSelector.$el),this.listenTo(this.tabSelector,"change",this.updateTabs)},isPersonalProjectOwner:function(){var e=p.userModel.get("name"),t=this.appModel.get("projectId"),n=this.appModel.isPersonalProject();return n&&t===e+"_personal"},getTabView:function(e){switch(e){case"notifications":return a;case"bts":return f;case"defect":return l;case"autoAnalysis":return h;case"demoData":return c;default:return u}},getTab:function(e){var n=t(e.currentTarget).data("js-tab-action");switch(n){case"notifications":p.trackingDispatcher.trackEventNumber(386);break;case"bts":p.trackingDispatcher.trackEventNumber(397);break;case"defect":p.trackingDispatcher.trackEventNumber(426);break;case"autoAnalysis":p.trackingDispatcher.trackEventNumber(580);break;case"demoData":p.trackingDispatcher.trackEventNumber(427);break;default:p.trackingDispatcher.trackEventNumber(380)}e.preventDefault(),this.updateTabs(n)},updateTabs:function(e){var t=this.adminPage?"#administrate/project-details/"+this.projectId+"/settings/"+e:"#"+this.projectId+"/settings/"+e;p.router.navigate(t,{trigger:!0})},onDestroy:function(){this.tabView&&this.tabView.destroy(),this.tabView=null}});return d}),define("projectSettings/projectSettingsPage",["require","jquery","backbone-epoxy","util","app","localization","components/MainBreadcrumbsComponent","projectSettings/projectSettingsView"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("app"),s=i.getInstance(),o=e("localization"),u=e("components/MainBreadcrumbsComponent"),a=e("projectSettings/projectSettingsView"),f=n.View.extend({id:"headerBar",tpl:"tpl-project-settings-header",initialize:function(){this.mainBreadcrumbs=new u({data:this.getHeaderData()}),this.render()},getHeaderData:function(){var e=[{name:o.project.settings,link:"#"+s.project.projectId+"/settings"}];return e},render:function(){return this.$el.html(r.templates(this.tpl)),t("[data-js-main-breadcrumbs]",this.$el).append(this.mainBreadcrumbs.$el),this},onDestroy:function(){this.$el.empty()}}),l=n.View.extend({initialize:function(e){this.context=e.context,this.tab=e.tab},render:function(){return this.projectSettings=new a({projectId:s.project.projectId,tab:this.tab}),this.$el.html(this.projectSettings.$el),this.projectSettings.onShow&&this.projectSettings.onShow(),this},onShow:function(){this.render()},update:function(e){this.tab=e,this.projectSettings.update(this.tab)},onDestroy:function(){this.projectSettings&&this.projectSettings.destroy()}}),c=n.View.extend({initialize:function(e){this.contextName=e.contextName,this.context=e.context,this.subContext=e.subContext},render:function(){return this.header=new f,this.context.getMainView().$header.html(this.header.$el),this.body=new l({context:this.context,tab:this.subContext}),this.context.getMainView().$body.html(this.body.$el),this.body.onShow&&this.body.onShow(),this},update:function(e){this.body.update(e.subContext)},onDestroy:function(){this.header.destroy(),this.body.destroy(),t(".select2-drop-active",this.$el).remove()}});return{ContentView:c}}),define("adminService",["require","exports","module","jquery","dataUrlResolver","callService"],function(e,t,n){"use strict";var r=e("jquery"),i=e("dataUrlResolver"),s=e("callService"),o=s.call,u=function(e){return o("GET",i.adminProject(e))},a=function(e){return o("GET",i.getProject(e))},f=function(e){return o("GET",i.adminProjects(e))},l=function(e){return o("DELETE",i.modifyUserUrl(e))},c=function(e){return o("POST",i.adminProjectRoot(),{projectName:e,entryType:"INTERNAL"})},h=function(e){return o("DELETE",i.adminProjectRootId(e))},p=function(){return o("GET",i.getProjectNames())},d=function(e){return o("GET",i.allUsersUrl(e))},v=function(e){return o("GET",i.searchUsersUrl(e))},m=function(e,t,n){return o("GET",i.projectDetailsWidgets(e,t,n))},g=function(e){return o("GET",i.getAdminSettings(e))},y=function(e){return o("DELETE",i.deleteEmailSettings(e))},b=function(e,t){return o("POST",i.setAdminSettings(t),e)},w=function(e){return o("GET",i.adminAuthSettings(e))},E=function(e,t){return o("PUT",i.adminAuthSettings(e),t)},S=function(e){return o("DELETE",i.adminAuthSettings(e))},x=function(e,t){return o("GET",i.detailsIntervalCall(e,t))};return{getProject:u,getProjectInfo:a,getProjects:f,deleteUser:l,createProject:c,deleteProject:h,getAdminSettings:g,setAdminSettings:b,deleteEmailSettings:y,getProjectNames:p,getAllUser:d,getSearchUser:v,loadProjectInfo:x,loadProjectDetailsWidgets:m,getAuthSettings:w,setAuthSettings:E,deleteAuthSettings:S}}),define("projectinfo",["require","exports","module","jquery","backbone","util","core/components","dataUrlResolver","app","localization","coreService","adminService","newWidgets/WidgetModel","newWidgets/WidgetService","select2"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("util"),o=e("core/components"),u=e("dataUrlResolver"),a=e("app"),f=e("localization"),l=e("coreService"),c=e("adminService"),h=e("newWidgets/WidgetModel"),p=e("newWidgets/WidgetService");e("select2");var d=a.getInstance(),v=i.View.extend({initialize:function(e){this.contextName=e.contextName,this.context=e.context,this.subContext=e.subContext},render:function(){return this.$header=(new m({header:this.context.getMainView().$header})).render(),this.$body=(new g({context:this.context,body:this.context.getMainView().$body,tab:this.subContext})).render(),this},update:function(e){this.$body.update(e.subContext)},destroy:function(){this.$header.destroy(),this.$body.destroy(),this.undelegateEvents(),this.unbind(),delete this}}),m=o.BaseView.extend({initialize:function(e){this.$el=e.header},tpl:"tpl-projectinfo-header",render:function(){return this.$el.html(s.templates(this.tpl,{projectId:d.project.projectId})),this}}),g=o.BaseView.extend({initialize:function(e){this.widgets=[],this.staticWidgets=[{id:"launches_quantity"},{id:"investigated"},{id:"last_launch"},{id:"activities"},{id:"issues_chart",childs:["bugs_percentage","system_issues_percentage","auto_bugs_percentage"]}],this.context=e.context,this.$el=e.body,this.interval=3,this.project=d.project.projectId,this.isRenderLaunchesOwner=!1,this.xhrPool=[]},tpl:"tpl-projectinfo-page",tplGeneralInfo:"tpl-project-general-info",tplLaunchesOwners:"tpl-project-launch-owners",unableLoadTpl:"tpl-project-widget-unable-load",render:function(){return this.$el.html(s.templates(this.tpl)),this.setupAnchors(),this.loadProjectInfo(),this.loadWidgets(),this},renderGeneralInfo:function(e){var t=this.$generalInfo,n=t.find(".general-info"),i=n.length>0;r(".loading-widget",t).hide(),n.remove(),t.append(s.templates(this.tplGeneralInfo,{info:e,hasValidBtsSystem:s.hasValidBtsSystem()})),i||s.setupBaronScroll(t)},renderLaunchesOwners:function(e){var t=this.$launchOwners,n={};r(".loading-widget",t).hide(),n.launchesPerUser=_.sortByOrder(e.launchesPerUser,"count",!1),t.append(s.templates(this.tplLaunchesOwners,n)),this.isRenderLaunchesOwner||(s.setupBaronScroll(t),this.isRenderLaunchesOwner=!0)},setupAnchors:function(){this.$launchOwners=r("#launches_owners .widget-body",this.$el),this.$generalInfo=r("#general_info .widget-body",this.$el),this.$projectDetails=[this.$generalInfo,this.$launchOwners]},loadProjectInfo:function(){var e=this,t=this.project;_.each(this.$projectDetails,function(e){var t=r(".project-content",e);t.length&&t.remove(),r(".loading-widget",e).show()}),c.loadProjectInfo(t,this.interval).done(function(t){e.renderGeneralInfo(t),e.renderLaunchesOwners(t)}).fail(function(e){s.ajaxFailMessenger(e,"loadProjectInfo")})},loadStaticWidget:function(e){var t=this,n=e.id,r=this.project,i=c.loadProjectDetailsWidgets(r,n,this.interval).done(function(r){t.renderWidget(r,n),e.childs&&_.each(e.childs,function(e){t.renderWidget(r,e)})}).fail(function(r){t.renderFailedLoad(n),e.childs&&_.each(e.childs,function(e){t.renderFailedLoad(e)}),s.ajaxFailMessenger(r,"widgetData")}).always(function(){var e=this.xhrPool.indexOf(i);e>-1&&this.xhrPool.splice(e,1)}.bind(this));this.xhrPool.push(i)},renderFailedLoad:function(e){var t=r("#"+e),n=r(".loading-widget",t),i=r("div.no-data-error",t);n.hide(),i.length&&i.remove(),r(".widget-body",t).append(s.templates(this.unableLoadTpl,{}))},renderWidget:function(e,t){var n=r("#"+t),i=r("div.no-data-error",n),s=r(".loading-widget",n),o=p.getWidgetView(t),u=null,a=new h({id:_.uniqueId()+"-"+t,content_parameters:{gadget:t},content:e,interval:this.interval},{parse:!0}),f={isPreview:!1,model:a};s.hide(),i.length&&i.remove(),u=new o(f),r(".widget-body",n).append(u.$el),u.onShow(),this.widgets.push({id:t,view:u})},loadWidgets:function(){var e=_.clone(this.xhrPool);_.each(e,function(e){e.abort()}),_.each(this.widgets,function(e){e.view.destroy();var t=e.id,n=r("#"+t);r(".loading-widget",n).show()},this),this.destroyWidgets(),_.each(this.staticWidgets,function(e){this.loadStaticWidget(e)},this)},update:function(){this.loadProjectInfo(),this.loadWidgets()},destroyWidgets:function(){_.each(this.widgets,function(e){e.view.destroy(),e.view.$el.remove()}),this.widgets=[]},destroy:function(){this.destroyWidgets(),o.BaseView.prototype.destroy.call(this)}});return{Body:g,ContentView:v}}),define("projectMembers/MembersService",["require","dataUrlResolver","callService"],function(e){"use strict";var t=e("dataUrlResolver"),n=e("callService"),r=n.call,i=function(e){return e||(e={}),e.page||(e.page=1),e.size||(e.size=10),"?page.page="+e.page+"&page.size="+e.size+"&page.sort=login,ASC"},s=function(e,n){var s=i(n);return n.search&&(s+="&filter.cnt.name="+n.search),r("GET",t.getMembers(e,s))},o=function(e,n){var s=i(n);return n.search&&(s+="&filter.cnt.name="+n.search),r("GET",t.getAssignableMembers(e,s))},u=function(e,n){return r("PUT",t.updateProjectUnassign(n),{userNames:[e]})},a=function(e,n,i){var s={};return s[n]=e,r("PUT",t.updateProject(i),{users:s})},f=function(e,n){return r("PUT",t.updateProjectAssign(n),{userNames:e})},l=function(e){return r("POST",t.addMemberUrl(),e)},c=function(e){return r("POST",t.sendInviteUrl(),e)},h=function(e,n){return r("POST",t.registerUserUrl(n),e,null,!0)},p=function(e,n,i){return r("PUT",t.modifyUserUrl(n),e)},d=function(e){return r("GET",t.validateRegisterBidUrl(e))},v=function(e){return r("GET",t.searchUsersUrl(e))},m=function(e){return r("GET",t.searchUsersSafe(e))};return{assignMember:f,getMembers:s,getAssignableMembers:o,unAssignMember:u,updateMember:a,updateUser:p,addMember:l,inviteMember:c,validateRegisterBid:d,registerUser:h,getSearchUser:v,getSearchUserSafe:m}}),define("projectMembers/MembersItemView",["require","jquery","underscore","backbone-epoxy","util","app","localization","model/SingletonAppModel","modals/modalConfirm","projectMembers/MembersService","callService","dataUrlResolver","components/DropDownComponent"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("app"),o=e("localization"),u=e("model/SingletonAppModel"),a=e("modals/modalConfirm"),f=e("projectMembers/MembersService"),l=e("callService"),c=e("dataUrlResolver"),h=e("components/DropDownComponent"),p=s.getInstance(),d=r.View.extend({tpl:"tpl-project-members-item",className:"row rp-table-row",bindings:{"[data-js-time-from-now]":"text: lastLoginFromNow","[data-js-time-exact]":"text: lastLoginFormat","[data-js-member-avatar]":"attr: {src: imagePath}","[data-js-member-name]":"html: getFullName","[data-js-member-login]":"html: getLogin","[data-js-member-you]":"classes: {hide: not(isYou)}","[data-js-member-admin]":"classes: {hide: not(isAdmin), notlink: any(isYou, not(isAdminContext))}","[data-js-member-unassign]":"classes: {disabled: not(canUnAssign)}, attr: {disabled: not(canUnAssign), title: getUnAssignTitle}","[data-js-select-roles]":"classes: {hide: isAdmin}","[data-js-admin-role]":"classes: {hide: not(isAdmin)}","[data-js-member-role-mobile]":"text: getProjectRole, classes: {hide: isAdmin}","[data-js-select-roles] [data-js-dropdown-menu]":"updateRoleDropDown: assigned_projects","[data-js-select-roles] [data-js-dropdown]":"classes: {disabled: not(canChangeRole)}, attr: {disabled: not(canChangeRole)}","[data-js-make-admin]":"classes: {hide: hideMakeAdmin}"},computeds:{getFullName:{deps:["full_name"],get:function(e){return this.searchString?i.textWrapper(e,this.searchString):e}},getUnAssignTitle:{deps:["isYou","userId","assigned_projects"],get:function(e){var t=o.members;return this.isPersonalProjectOwner()?t.unAssignTitlePersonal:e?t.unAssignTitleYou:this.validateForPermissions()?this.unassignedLock()?t.unAssignTitleExternal:t.unAssignTitle:t.unAssignTitleNoPermission}},getLogin:{deps:["userId"],get:function(e){return this.searchString?i.textWrapper(e,this.searchString):e}},canUnAssign:{deps:["isYou","userId","assigned_projects"],get:function(e){return!this.isPersonalProjectOwner()&&!this.unassignedLock()&&!e&&this.validateForPermissions()}},canChangeRole:{deps:["isYou","assigned_projects"],get:function(e){return!e&&this.validateForPermissions()}},getProjectRole:{deps:["assigned_projects"],get:function(){var e=this.model.getAssignedProjects(),t=this.appModel.get("projectId"),n=i.getRolesMap();return n[e[t].projectRole]}},hideMakeAdmin:{deps:["isAdmin","isYou"],get:function(e,t){return e||t||!this.isAdminContext}},isAdminContext:{get:function(){return!!this.isAdminContext}}},bindingHandlers:{updateRoleDropDown:{set:function(e){var r=this.view.model.getAssignedProjects(),i=this.view.appModel.get("projectId"),s=r[i].projectRole;n.each(t("a",e),function(e){var n=t(e).data("value"),r=this.view.validateForPermissions(n)?"remove":"add";t(e)[r==="add"?"attr":"removeAttr"]("title",o.members.unAssignTitleNoPermission)},this)}}},events:{"click [data-js-login-time]":"toggleTimeView","click [data-js-dropdown-roles] a":"updateProjectRole","click [data-js-member-unassign]":"unAssignMember","click [data-js-member-admin]":"confirmChangeAccountRole","click [data-js-make-admin]":"confirmChangeAccountRole"},initialize:function(e){this.isAdminContext=e.isAdminContext,this.searchString=e.searchString||"",this.roles=i.getRolesMap(),this.appModel=new u,this.render()},render:function(){var e=this;this.$el.html(i.templates(this.tpl)),this.roleSelector=new h({data:n.map(this.roles,function(t,n){return{name:t,value:n,disabled:!e.validateForPermissions(n)}}),multiple:!1,defaultValue:this.model.getProjectRole(this.appModel.get("projectId"))}),t("[data-js-select-roles]",this.$el).html(this.roleSelector.$el),this.listenTo(this.roleSelector,"change",this.updateProjectRole)},confirmChangeAccountRole:function(e){var n;e.preventDefault();if(!this.isAdminContext)return;if(!this.model.get("isYou")||!!this.isAdminContext)p.trackingDispatcher.trackEventNumber(463),n=new a({headerText:o.dialogHeader.changeRole,bodyText:i.replaceTemplate(o.dialog.changeRole,this.model.get("full_name")||this.model.get("userId")),cancelButtonText:o.ui.cancel,okButtonDanger:!0,okButtonText:o.dialog.changeRoleBtn,confirmFunction:this.changeAccountRole.bind(this)}),t("[data-js-close]",n.$el).on("click",function(){p.trackingDispatcher.trackEventNumber(472)}),t("[data-js-cancel]",n.$el).on("click",function(){p.trackingDispatcher.trackEventNumber(473)}),n.show()},changeAccountRole:function(){var e=this.model.get("userId"),t=this.model.get("full_name"),n=this.model.get("userRole")===p.accountRolesEnum.user?p.accountRolesEnum.administrator:p.accountRolesEnum.user;return p.trackingDispatcher.trackEventNumber(474),l.call("PUT",c.modifyUserUrl(e),{role:n}).done(function(){this.model.set("userRole",n),i.ajaxSuccessMessenger("changeRole",t||e)}.bind(this)).fail(function(n){i.ajaxFailMessenger(n,"changeRole",t||e)})},isPersonalProjectOwner:function(){var e=this.appModel.get("projectId"),t=this.appModel.isPersonalProject();return t&&e===this.model.get("userId")+"_personal"},unassignedLock:function(){var e=this.model.toJSON(),t=this.appModel.get("projectId");return i.isUnassignedLock(e,e.assigned_projects[t])},updateProjectRole:function(e){var t=e,n,r,s;p.trackingDispatcher.trackEventNumber(433),n=this.model.get("userId"),r=this.appModel.get("projectId"),s=this.model.getAssignedProjects(),s[r].projectRole=t,f.updateMember(t,n,r).done(function(){this.model.setAssignedProjects(s),i.ajaxSuccessMessenger("updateProjectRole",this.model.get("full_name")||this.model.get("userId"))}.bind(this)).fail(function(e){i.ajaxFailMessenger(e,"updateProjectRole")})},validateForPermissions:function(e){var t=p.userModel.getRoleForCurrentProject(),r=this.model.getAssignedProjects(),i=this.appModel.get("projectId"),s=e||r[i].projectRole,o=n.indexOf(p.projectRoles,t),u=n.indexOf(p.projectRoles,s);return p.userModel.get("isAdmin")||p.userModel.hasPermissions()&&o>=u},unAssignMember:function(e){var t;p.trackingDispatcher.trackEventNumber(434),e.preventDefault(),t=new a({headerText:o.dialogHeader.unAssignMember,bodyText:i.replaceTemplate(o.dialog.unAssignMember,this.model.get("userId").escapeHtml(),this.appModel.get("projectId")),okButtonDanger:!0,cancelButtonText:o.ui.cancel,okButtonText:o.ui.unassign}),t.show().done(function(){return this.model.unAssign(this.appModel.get("projectId"))}.bind(this))},toggleTimeView:function(e){var n=t(e.currentTarget);e.preventDefault(),n.closest("[data-js-members-table]").toggleClass("show-from-now")},onDestroy:function(){this.roleSelector.destroy(),this.remove(),delete this}});return d}),define("projectMembers/MembersModel",["require","exports","module","jquery","backbone","backbone-epoxy","util","app","dataUrlResolver","callService"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("util"),u=e("app"),a=e("dataUrlResolver"),f=e("callService"),l=u.getInstance(),c=s.Model.extend({defaults:{account_type:"INTERNAL",assigned_projects:{},full_name:"",last_login:0,photoId:"",photo_loaded:!1,userId:"",userRole:"USER"},computeds:{isAdmin:{deps:["userRole"],get:function(e){return e===l.accountRolesEnum.administrator}},isYou:{deps:["userId"],get:function(e){return e===l.userModel.get("name")}},lastLoginFormat:{deps:["last_login"],get:function(e){return o.dateFormat(e)}},lastLoginFromNow:{deps:["lastLoginFormat"],get:function(e){return o.fromNowFormat(e)}},imagePath:{deps:["userId"],get:function(e){return o.updateImagePath(a.getAvatar()+e)}}},getAssignedProjects:function(){try{return JSON.parse(this.get("assigned_projects"))}catch(e){return{}}},setAssignedProjects:function(e){this.set({assigned_projects:JSON.stringify(e)})},getProjectRole:function(e){var t=this.getAssignedProjects();return t?t[e].projectRole:null},setProjectRole:function(e,t){var n=this.getAssignedProjects();n&&(n[e].projectRole=t),this.setAssignedProjects(n)},unAssign:function(e){var t=this.get("userId");return f.call("PUT",a.updateProjectUnassign(e),{userNames:[t]}).done(function(){o.ajaxSuccessMessenger("unAssignMember"),this.collection&&this.collection.remove(this)}.bind(this)).fail(function(e){o.ajaxFailMessenger(e,"unAssignMember")})},"delete":function(){var e=this.get("userId"),t=this.get("full_name");return f.call("DELETE",a.modifyUserUrl(e)).done(function(){o.ajaxSuccessMessenger("deleteMember",t||e),this.collection&&this.collection.remove(this)}.bind(this)).fail(function(e){o.ajaxFailMessenger(e,"deleteMember")})}});return c}),define("projectMembers/MembersCollection",["require","exports","module","jquery","backbone","projectMembers/MembersModel"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("projectMembers/MembersModel"),o=i.Collection.extend({model:s,parse:function(e){_.each(e,function(e){e.assigned_projects&&(e.assigned_projects=JSON.stringify(e.assigned_projects))},this),this.reset(e)}});return o}),define("modals/modalAddUser",["require","jquery","underscore","modals/_modalView","backbone-epoxy","app","util","projectMembers/MembersService","adminService","model/SingletonAppModel","components/DropDownComponent","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("modals/_modalView"),i=e("backbone-epoxy"),s=e("app"),o=e("util"),u=e("projectMembers/MembersService"),a=e("adminService"),f=e("model/SingletonAppModel"),l=e("components/DropDownComponent"),c=e("localization"),h=s.getInstance(),p=r.extend({template:"tpl-modal-add-user",className:"modal-add-user",events:{"click [data-js-load]":"onClickLoad","click [data-js-generate-password]":"generatePassword","click [data-js-close]":"onClickClose","click [data-js-cancel]":"onClickCancel","change [data-js-add-user]":"blockModal"},blockModal:function(){this.disableHideBackdrop()},bindings:{"[data-js-user-login]":"value: userId","[data-js-user-password]":"value: password","[data-js-user-email]":"value: email","[data-js-user-full-name]":"value: full_name","[data-js-user-project]":"value: default_project"},initialize:function(e){this.type=e.type,this.appModel=new f,this.model=new(i.Model.extend({defaults:{userId:"",password:"",email:"",full_name:"",accountRole:h.defaultAccountRole,default_project:"",projectRole:h.defaultProjectRole}})),this.render()},onClickLoad:function(){this.validate()&&this.addUser()},onKeySuccess:function(){t("[data-js-load]",this.$el).focus(),this.validate()&&this.addUser()},render:function(){var e=[{btnText:c.ui.cancel,btnClass:"rp-btn-cancel",label:"data-js-cancel"},{btnText:c.ui.add,btnClass:"rp-btn-submit",label:"data-js-load"}];this.$el.html(o.templates(this.template,{isUsers:this.isUsers(),footerButtons:e})),this.setupAnchors(),this.setupDropDowns(),this.bindValidators(),this.isUsers()&&this.setupProjectSearch()},isUsers:function(){return this.type==="users"},setupAnchors:function(){this.$login=t("[data-js-user-login]",this.$el),this.$fullName=t("[data-js-user-full-name]",this.$el),this.$email=t("[data-js-user-email]",this.$el),this.$password=t("[data-js-user-password]",this.$el),this.$selectProject=t("[data-js-user-project]",this.$el)},setupDropDowns:function(){this.selectProjectRole=new l({data:n.map(h.projectRolesEnum,function(e){return{name:e,value:e}}),multiple:!1,defaultValue:this.model.get("projectRole")}),t("[data-js-project-role-dropdown]",this.$el).html(this.selectProjectRole.$el),this.listenTo(this.selectProjectRole,"change",this.onChangeProjectRole),this.selectAccoutRole=new l({data:n.map(h.accountRolesEnum,function(e){return{name:e,value:e}}),multiple:!1,defaultValue:this.model.get("accountRole")}),t("[data-js-accout-role-dropdown]",this.$el).html(this.selectAccoutRole.$el),this.listenTo(this.selectAccoutRole,"change",this.onChangeAccountRole)},onChangeProjectRole:function(e){this.model.set("projectRole",e),this.disableHideBackdrop()},onChangeAccountRole:function(e){var t=e===h.accountRolesEnum.administrator?h.projectRolesEnum.project_manager:h.defaultProjectRole;this.model.set("accountRole",e),this.updateProjectRole(t),this.disableHideBackdrop()},updateProjectRole:function(e){this.model.set("projectRole",e),this.selectProjectRole.activateItem(e)},bindValidators:function(){o.hintValidator(this.$login,[{validator:"required"},{validator:"matchRegex",type:"loginRegex",pattern:h.patterns.login},{validator:"minMaxRequired",type:"loginRange",min:h.forms.nameRange[0],max:h.forms.nameRange[1]},{validator:"remoteLogin",remote:!0,message:c.validation.registeredLogin,type:"remoteLogin"}]),o.hintValidator(this.$fullName,[{validator:"required"},{validator:"matchRegex",type:"fullNameInfoRegex",pattern:h.patterns.fullName},{validator:"minMaxRequired",type:"userName",min:h.forms.fullNameRange[0],max:h.forms.fullNameRange[1]}]),o.hintValidator(this.$email,[{validator:"required"},{validator:"matchRegex",type:"emailMatchRegex",pattern:h.patterns.email},{validator:"remoteEmail",remote:!0,message:c.validation.registeredEmail,type:"remoteEmail"}]),o.hintValidator(this.$password,[{validator:"required"},{validator:"minMaxRequired",type:"password",min:h.forms.passwordRange[0],max:h.forms.passwordRange[1]}])},setupProjectSearch:function(){var e=this;o.setupSelect2WhithScroll(this.$selectProject,{multiple:!1,min:h.forms.projectNameRange[0],minimumInputLength:h.forms.projectNameRange[0],maximumInputLength:h.forms.projectNameRange[1],placeholder:c.admin.enterProjectName,allowClear:!0,initSelection:function(e,t){t({id:e.val(),text:e.val()})},query:function(t){a.getProjects(e.getSearchQuery(t.term)).done(function(r){var i={results:[]};n.each(r.content,function(t){t.projectId!==e.model.get("default_project")&&i.results.push({id:t.projectId,text:t.projectId})}),t.callback(i)}).fail(function(e){o.ajaxFailMessenger(e)})}}),o.hintValidator(this.$selectProject,[{validator:"required"}]),this.$selectProject.on("change",function(){this.$selectProject.trigger("validate"),this.disableHideBackdrop()}.bind(this))},getSearchQuery:function(e){return"?page.sort=name,asc&page.page=1&page.size=10&&filter.cnt.name="+e},generatePassword:function(e){var n;e.preventDefault(),t(e.target).hasClass("disabled")||(h.trackingDispatcher.trackEventNumber(480),n=this.randomPassword(),this.$password.val(n),this.$password.trigger("validate"),this.model.set("password",n)),this.disableHideBackdrop()},validate:function(){var e=[this.$login,this.$fullName,this.$email,this.$password,this.$selectProject];return!this.$login.data("validate-error")||!this.$email.data("validate-error")?!1:(t("input",this.$el).trigger("validate"),!n.any(e,function(e){return e.data("validate-error")}))},onClickClose:function(){h.trackingDispatcher.trackEventNumber(478)},onClickCancel:function(){h.trackingDispatcher.trackEventNumber(479)},randomPassword:function(){var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",t=6,n="",r,i;for(r=0,i=e.length;r<t;++r)n+=e.charAt(Math.floor(Math.random()*i));return n},getUserData:function(){var e=this.model.toJSON();return{default_project:this.isUsers()?e.default_project:this.appModel.get("projectId"),login:e.userId,email:e.email,projectRole:e.projectRole,accountRole:this.isUsers()?e.accountRole:h.defaultAccountRole,full_name:e.full_name,password:e.password}},addUser:function(){var e=this.getUserData();this.showLoading(),e&&(h.trackingDispatcher.trackEventNumber(481),u.addMember(e).done(function(e){var t;e.warning?(t=c.failMessages,e.warning.indexOf(t.serverNotConfigured)>=0?o.ajaxSuccessMessenger("addUserWithoutEmail"):o.ajaxFailMessenger(null,"addMember",e.warning)):o.ajaxSuccessMessenger("addMember"),this.trigger("add:user")}.bind(this)).fail(function(e){o.ajaxFailMessenger(e,"addMember")}).always(function(){this.successClose()}.bind(this)))}});return p}),define("components/UserSearchComponent",["require","exports","module","util","underscore","projectMembers/MembersService","model/SingletonAppModel","model/UserModel","localization","dataUrlResolver"],function(e,t,n){"use strict";var r=e("util"),i=e("underscore"),s=e("projectMembers/MembersService"),o=e("model/SingletonAppModel"),u=e("model/UserModel"),a=e("localization"),f=e("dataUrlResolver"),l=function(e,t){var n=new o,l=n.get("configuration"),c=function(e){var t=!1,r,s,o;return e.assigned_projects?(r=n.get("projectId"),s=i.keys(e.assigned_projects),t=i.contains(s,r)):(o=e.userId||e.id,i.each(n.get("users"),function(e,n){if(n===o)return t=!0,!1})),t},h=function(e){var t=!1,n=l&&(l.entryType==="INTERNAL"||l.entryType==="PERSONAL");return e.account_type!=="INTERNAL"&&!n&&(t=!0),t},p=[];r.setupSelect2WhithScroll(e,{min:1,minimumInputLength:1,maximumInputLength:256,maximumSelectionSize:1,multiple:!1,dropdownCssClass:"rp-select2-user-search",allowClear:!0,placeholder:a.members.enterLoginEmail,initSelection:function(e,t){t({id:e.val(),text:e.val()})},formatResultCssClass:function(){return p.length===0?"no-exact-match-user":""},createSearchChoice:function(e,t){if(i.filter(t,function(t){return t.text.localeCompare(e)===0}).length===0)return r.validateEmail(e)&&!p.length?{id:e,text:e}:null},formatResult:function(e){return r.templates("tpl-user-search-result",{user:e,imagePath:r.updateImagePath(f.getAvatar()+e.id)})},query:function(e){var t=new u,n=function(e){var t={results:[]};return p=[],i.each(e.content,function(e){var n=c(e),i=h(e),s=n?a.members.alredyAdded:i?r.replaceTemplate(a.members.externalUserAdded,e.account_type,l.entryType):"";p.push(e),t.results.push({id:e.userId,text:e.userId,name:e.full_name,disabled:n||i,isExternalUser:i,isAddedUser:n,title:s})}),t};t.get("isAdmin")?s.getSearchUser({search:e.term}).done(function(t){e.callback(n(t))}).fail(function(e){r.ajaxFailMessenger(e)}):s.getSearchUserSafe({search:e.term}).done(function(t){e.callback(n(t))}).fail(function(e){r.ajaxFailMessenger(e)})}})};return{setupUserSearch:l}}),define("modals/modalInviteMember",["require","jquery","underscore","modals/_modalView","backbone-epoxy","model/SingletonAppModel","app","util","projectMembers/MembersService","localization","components/DropDownComponent","components/UserSearchComponent"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("modals/_modalView"),i=e("backbone-epoxy"),s=e("model/SingletonAppModel"),o=e("app"),u=o.getInstance(),a=e("util"),f=e("projectMembers/MembersService"),l=e("localization"),c=e("components/DropDownComponent"),h=e("components/UserSearchComponent"),p=r.extend({template:"tpl-modal-invite-member",className:"modal-invite-member",events:{"click [data-js-invite]":"onClickInvite","click [data-js-close]":"onClickClose","click [data-js-cancel]":"onClickCancel","click [data-js-ok]":"onClickOk","focus [data-js-invite-link]":"selectLink","click [data-js-copy-link]":"copyLink","change [data-js-member]":"validate"},bindings:{"[data-js-member]":"value: user"},initialize:function(){this.appModel=new s,this.model=new i.Model({user:"",projectRole:u.defaultProjectRole}),this.render()},render:function(){var e=[{btnText:l.ui.cancel,btnClass:"rp-btn-cancel button-cancel",label:"data-js-cancel"},{btnText:l.admin.invite,btnClass:"rp-btn-submit button-invite",label:"data-js-invite"},{btnText:l.ui.ok,btnClass:"rp-btn-submit button-ok",label:"data-js-ok"}];this.$el.html(a.templates(this.template,{footerButtons:e})),this.setupDropdown(),this.setupUserSearch()},setupDropdown:function(){var e=this;this.projectRoleSelector=new c({data:n.map(a.getRolesMap(),function(t,n){return{name:t,value:n,disabled:!e.canSelectRole.bind(e)(t)}}),multiple:!1,defaultValue:this.model.get("projectRole")}),t("[data-js-role-selector]",this.$el).html(this.projectRoleSelector.$el),this.listenTo(this.projectRoleSelector,"change",this.selectRole)},setupUserSearch:function(){h.setupUserSearch(t("[data-js-member]",this.$el))},selectRole:function(e){this.model.set("projectRole",e),this.disableHideBackdrop()},selectLink:function(e){e.preventDefault(),t(e.currentTarget).select()},copyLink:function(e){e.preventDefault(),t("[data-js-invite-link]",this.$el).select();try{document.execCommand("copy")}catch(n){console.log(n)}},canSelectRole:function(e){var t=u.userModel,r=t.getRoleForCurrentProject(),i=n.indexOf(u.projectRoles,r),s=n.indexOf(u.projectRoles,e),o=t.get("isAdmin");return o||t.hasPermissions()&&i>=s},validate:function(){if(!t("[data-js-member]",this.$el).val()){t("[data-js-invite-form]",this.$el).addClass("not-valid");return}t("[data-js-invite-form]",this.$el).removeClass("not-valid"),this.disableHideBackdrop()},inviteMember:function(){var e=this.getUserData(),t;e&&(t={},t[e.email]=e.role,this.showLoading(),f.assignMember(t,e.default_project).done(function(){a.ajaxSuccessMessenger("assignMember",e.email),this.trigger("invite:member"),this.successClose()}.bind(this)).fail(function(e){a.ajaxFailMessenger(e,"assignMember")}).always(function(){this.hideLoading()}.bind(this)))},inviteUser:function(){var e=this.getUserData();e&&(this.showLoading(),f.inviteMember(e).done(function(e){this.showSuccess(e),a.ajaxSuccessMessenger("inviteMember")}.bind(this)).fail(function(e){var t;if(e)try{t=JSON.parse(e.responseText)}catch(n){console.log(n)}t?a.addMessage({clazz:"alert",message:t.message}):a.ajaxFailMessenger(e,"inviteMember")}).always(function(){this.hideLoading()}.bind(this)))},showSuccess:function(e){this.$el.addClass("success-invite"),t("[data-js-invite-link]",this.$el).val(e.backLink),t("[data-js-email-sent]",this.$el).text(this.model.get("user"))},getUserData:function(){return{default_project:this.appModel.get("projectId"),email:this.model.get("user"),role:this.model.get("projectRole")}},onKeySuccess:function(){this.$el.hasClass("success-invite")?t("[data-js-ok]",this.$el).focus().trigger("click"):t("[data-js-invite]",this.$el).focus().trigger("click")},onClickInvite:function(){u.trackingDispatcher.trackEventNumber(437),this.validate(),t("[data-js-invite-form]",this.$el).hasClass("not-valid")||(a.validateEmail(this.model.get("user"))?this.inviteUser():this.inviteMember())},onClickCancel:function(){u.trackingDispatcher.trackEventNumber(436)},onClickClose:function(){u.trackingDispatcher.trackEventNumber(435)},onClickOk:function(){this.successClose()},onDestroy:function(){this.projectRoleSelector.destroy()}});return p}),define("modals/modalPermissionsMap",["require","exports","module","jquery","modals/_modalView","util"],function(e,t,n){"use strict";var r=e("jquery"),i=e("modals/_modalView"),s=e("util"),o=i.extend({template:"tpl-modal-permissions-map",className:"modal-permissions-map",initialize:function(e){this.render()},render:function(){this.$el.html(s.templates(this.template,{}))},onKeySuccess:function(){return}});return o}),define("projectMembers/MembersTableView",["require","jquery","underscore","backbone","backbone-epoxy","util","core/components","app","localization","model/SingletonAppModel","projectMembers/MembersItemView","projectMembers/MembersService","projectMembers/MembersCollection","modals/modalAddUser","modals/modalInviteMember","modals/modalPermissionsMap"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone"),i=e("backbone-epoxy"),s=e("util"),o=e("core/components"),u=e("app"),a=e("localization"),f=e("model/SingletonAppModel"),l=e("projectMembers/MembersItemView"),c=e("projectMembers/MembersService"),h=e("projectMembers/MembersCollection"),p=e("modals/modalAddUser"),d=e("modals/modalInviteMember"),v=e("modals/modalPermissionsMap"),m=u.getInstance(),g=i.View.extend({tpl:"tpl-project-members-shell",emptyMembersTpl:"tpl-project-members-empty",className:"rp-project-members",bindings:{"[data-js-members-search]":"attr: {placeholder: getPlaceHolder}","[data-js-add-user]":"classes: {hide: not(showAddMemberBtn)}","[data-js-invite-user]":"classes: {disabled: not(canInviteUser)}, attr: {disabled: not(canInviteUser)}"},computeds:{getPlaceHolder:function(){return a.members.searchName},showAddMemberBtn:function(){return this.isGrandAdmin},canInviteUser:function(){return m.userModel.get("isAdmin")||m.userModel.hasPermissions()}},initialize:function(e){this.isGrandAdmin=e.grandAdmin,this.model=new r.Model({search:"",empty:!1,notFound:!1}),this.renderViews=[],this.appModel=new f,e.project&&this.appModel.set(e.project),this.collection=new h,this.listenTo(this.collection,"reset",this.renderMembersList),this.listenTo(this.collection,"remove",this.onRemoveMember),this.pageType="PaginateProjectMembers_unAssignMember_"+this.projectId,this.render()},events:{"validation::change [data-js-members-search]":"onChangeFilterName","click [data-js-add-user]":"showAddUser","click [data-js-invite-user]":"showInviteUser","click [data-js-permissions]":"showPermissionsModal"},render:function(){return this.$el.html(s.templates(this.tpl,{projectName:m.project.projectId})),this.setupAnchors(),s.bootValidator(this.$searchFilter,[{validator:"minMaxNotRequired",type:"memberName",min:1,max:128}]),this.paging=new o.PagingToolbarSaveUser({el:this.$pagingBlock,model:new r.Model,pageType:this.pageType}),this.listenTo(this.paging,"page",this.updateMembers),this.listenTo(this.paging,"count",this.updateMembers),this.paging.ready.done(function(){this.paging.urlModel.get("filter.cnt.name")&&(this.model.set({search:this.paging.urlModel.get("filter.cnt.name")}),this.$searchFilter.val(this.model.get("search"))),this.listenTo(this.model,"change:search",this.onChangeModelSearch),this.updateMembers()}.bind(this)),this},setupAnchors:function(){this.$membersList=t("[data-js-members-list]",this.$el),this.$pagingBlock=t("[data-js-members-paginate]",this.$el),this.$searchFilter=t("[data-js-members-search]",this.$el)},onRemoveMember:function(e){this.trigger("remove:member",e),this.updateMembers()},onInviteMember:function(){this.trigger("invite:member"),this.updateMembers()},updateMembers:function(){this.paging.render(),this.loadMembers()},loadMembers:function(){c.getMembers(this.appModel.get("projectId"),this.getSearchQuery()).done(function(e){if(e.page.totalPages<e.page.number&&e.page.totalPages!==0){this.paging.trigger("page",e.page.totalPages);return}this.paging.model.set(e.page),this.paging.render(),this.collection.parse(e.content?e.content:e)}.bind(this)).fail(function(e){this.collection.parse([]),s.ajaxFailMessenger(e,"loadMembers")}.bind(this)).always(function(){t("#filter-page",this.$el).removeClass("load")}.bind(this))},onChangeModelSearch:function(){this.paging.trigger("page",1)},onChangeFilterName:function(e,t){t.valid&&(t.value&&m.trackingDispatcher.trackEventNumber(430),this.model.set({search:t.value}),this.paging.urlModel.set({"filter.cnt.name":t.value}))},getSearchQuery:function(){return{search:encodeURIComponent(this.model.get("search")),page:this.paging.model.get("number"),size:this.paging.model.get("size")}},renderEmptyMembers:function(){this.clearMembers(),this.$membersList.append(s.templates(this.emptyMembersTpl,{}))},renderMembersList:function(){this.clearMembers();if(n.isEmpty(this.collection.models)){this.renderEmptyMembers();return}n.each(this.collection.models,function(e){var t=new l({model:e,searchString:this.model.get("search"),isAdminContext:this.isGrandAdmin});this.$membersList.append(t.$el),this.renderViews.push(t)},this)},clearMembers:function(){n.each(this.renderViews,function(e){e.destroy()}),this.$membersList.html(""),this.renderViews=[]},showInviteUser:function(e){var t;m.trackingDispatcher.trackEventNumber(432),e.preventDefault(),t=new d({}),this.listenToOnce(t,"invite:member",this.onInviteMember),t.show()},showAddUser:function(e){var t;e.preventDefault(),t=new p({}),this.listenToOnce(t,"add:user",this.updateMembers),t.show()},showPermissionsModal:function(e){var t;m.trackingDispatcher.trackEventNumber(431),e.preventDefault(),t=new v({}),t.show()},onDestroy:function(){this.clearMembers(),this.remove(),delete this}});return g}),define("projectMembers/MembersPageView",["require","jquery","backbone-epoxy","util","projectMembers/MembersTableView","model/SingletonAppModel"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("projectMembers/MembersTableView"),s=e("model/SingletonAppModel"),o=n.View.extend({template:"tpl-project-members",templateHeader:"tpl-project-members-header",initialize:function(e){this.contextName=e.contextName,this.context=e.context,this.$header=this.context.getMainView().$header,this.$el=this.context.getMainView().$body,this.appModel=new s},render:function(){this.renderHeader(),this.$el.html(r.templates(this.template),{}),this.body=new i({}),t("[data-js-members]",this.$el).append(this.body.$el),this.listenTo(this.body,"remove:member invite:member",this.onChangeMembers)},update:function(){this.body&&this.body.destroy(),this.body=new i({}),t("[data-js-members]",this.$el).append(this.body.$el),this.listenTo(this.body,"remove:member invite:member",this.onChangeMembers)},onChangeMembers:function(){this.appModel.update()},renderHeader:function(){this.$header.html(r.templates(this.templateHeader),{})},onDestroy:function(){this.$header.empty(),this.body&&this.body.destroy()}});return{ContentView:o}}),define("userProfile/UserProfileHeader",["require","exports","module","jquery","backbone","backbone-epoxy","core/components","util"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("core/components"),u=e("util"),a=o.BaseView.extend({initialize:function(e){this.$el=e.header,this.vent=e.vent,this.context=e.context},tpl:"tpl-user-page-header",render:function(){return this.$el.html(u.templates(this.tpl)),this},clearActives:function(){r("#main_content #topHeader").find(".active").removeClass("active")},destroy:function(){this.$el.empty(),this.clearActives(),this.undelegateEvents(),this.unbind(),delete this}});return a}),define("modals/modalChangePassword",["require","exports","module","jquery","underscore","modals/_modalView","backbone","backbone-epoxy","app","util","coreService","localization"],function(e,t,n){"use strict";var r=e("jquery"),i=e("underscore"),s=e("modals/_modalView"),o=e("backbone"),u=e("backbone-epoxy"),a=e("app"),f=e("util"),l=e("coreService"),c=e("localization"),h=a.getInstance(),p=s.extend({tpl:"tpl-modal-change-password",className:"modal-change-password",events:{"click [data-js-ok]:not(.disabled)":"submitChangePassword","change [data-js-show-password]":"showPassword","validation::change [data-js-change-password]":"validatePass","click [data-js-close]":"onClickClose","click [data-js-cancel]":"onClickCancel"},initialize:function(e){this.render(),f.confirmValidator({holder:this.$confirmGroup,min:4,max:25}),f.configRegexValidation(this.$originalPass,"originalPass")},render:function(){var e={};e.footerButtons=[{btnText:c.ui.cancel,btnClass:"rp-btn-cancel",label:"data-js-cancel"},{btnText:c.ui.submit,btnClass:"rp-btn-submit disabled",label:"data-js-ok"}],this.$el.html(f.templates(this.tpl,e)),this.setupAnchors()},setupAnchors:function(){this.$originalPass=r("[data-js-origin-password]",this.$el),this.$newPass=r("[data-js-new-password]",this.$el),this.$confirmPass=r("[data-js-confirm-password]",this.$el),this.$submitBtn=r("[data-js-ok]",this.$el),this.$confirmGroup=r("[data-js-confirm-group]",this.$el)},onKeySuccess:function(){this.$submitBtn.hasClass("disabled")||this.submitChangePassword()},validatePass:function(e,t){var n;t.valid?n=this.$originalPass.val()&&this.$originalPass.data("valid")&&this.$newPass.val()&&!this.$confirmGroup.hasClass("has-error")?"remove":"add":n="add",this.$submitBtn[n+"Class"]("disabled"),this.disableHideBackdrop()},showPassword:function(e){var t=r(e.currentTarget).is(":checked")?"text":"password";this.$originalPass.add(this.$newPass).add(this.$confirmPass).attr("type",t)},onClickClose:function(){h.trackingDispatcher.trackEventNumber(367)},onClickCancel:function(){h.trackingDispatcher.trackEventNumber(368)},submitChangePassword:function(){h.trackingDispatcher.trackEventNumber(369);var e={oldPassword:this.$originalPass.val(),newPassword:this.$newPass.val()},t=this;l.submitPassChange(e).done(function(){f.ajaxSuccessMessenger("submitChangePass"),t.hide()}).fail(function(e){var n=e.responseText.indexOf("40010")>-1?"submitChangePassInvalid":"submitChangePass";n==="submitChangePassInvalid"&&(t.$originalPass.focus(),t.$originalPass.closest(".rp-form-group").addClass("has-error")),f.ajaxFailMessenger(null,n)})}});return p}),define("modals/modalRegenerateUUID",["require","exports","module","jquery","underscore","modals/_modalView","backbone","backbone-epoxy","util"],function(e,t,n){"use strict";var r=e("jquery"),i=e("underscore"),s=e("modals/_modalView"),o=e("backbone"),u=e("backbone-epoxy"),a=e("util"),f=s.extend({tpl:"tpl-modal-regenerate-uuid",className:"modal-regenerate-UUID",events:{"click [data-js-ok]":"onConfirm"},initialize:function(){this.render()},render:function(){this.$el.html(a.templates(this.tpl))},onConfirm:function(){this.successClose()}});return f}),define("modals/modalEditUserInfo",["require","exports","module","jquery","underscore","modals/_modalView","backbone","backbone-epoxy","app","util","localization","coreService"],function(e,t,n){var r=e("jquery"),i=e("underscore"),s=e("modals/_modalView"),o=e("backbone"),u=e("backbone-epoxy"),a=e("app"),f=e("util"),l=e("localization"),c=e("coreService"),h=a.getInstance(),p=s.extend({tpl:"tpl-modal-edit-user-info",className:"modal-edit-user-info",bindings:{"[data-js-full-name]":"value: fullName","[data-js-user-email]":"value: email"},events:{"click [data-js-ok]":"submitEditInfo","click [data-js-close]":"onClickClose","click [data-js-cancel]":"onClickCancel"},initialize:function(){this.userModel=h.userModel,this.model=new o.Model({fullName:this.userModel.get("fullName"),email:this.userModel.get("email")}),this.listenTo(this.model,"change:fullName",this.onChangeName),this.listenTo(this.model,"change:email",this.onChangeEmail),this.render()},render:function(){var e={};e.footerButtons=[{btnText:l.ui.cancel,btnClass:"rp-btn-cancel",label:"data-js-cancel"},{btnText:l.ui.submit,btnClass:"rp-btn-submit",label:"data-js-ok"}],this.$el.html(f.templates(this.tpl,e)),this.setupAnchors(),this.setupValidation()},onKeySuccess:function(){this.$submitInfo.hasClass("disabled")||this.submitEditInfo()},setupAnchors:function(){this.$fullName=r("[data-js-full-name]",this.$el),this.$email=r("[data-js-user-email]",this.$el),this.$submitInfo=r("[data-js-ok]",this.$el)},setupValidation:function(){f.hintValidator(this.$email,[{validator:"matchRegex",type:"emailMatchRegex",message:l.validation.submitProfileInfoEmail,pattern:h.patterns.email},{validator:"required"}]),f.hintValidator(this.$fullName,[{validator:"matchRegex",type:"fullNameInfoRegex",pattern:h.patterns.fullName},{validator:"required"}])},onClickCancel:function(){h.trackingDispatcher.trackEventNumber(376)},onChangeName:function(){h.trackingDispatcher.trackEventNumber(374),this.disableHideBackdrop()},onChangeEmail:function(){h.trackingDispatcher.trackEventNumber(375),this.disableHideBackdrop()},onClickClose:function(){h.trackingDispatcher.trackEventNumber(373)},submitEditInfo:function(){h.trackingDispatcher.trackEventNumber(377),r("input",this.$el).trigger("validate");if(!r(".validate-error",this.$el).length){var e={full_name:this.model.get("fullName"),email:this.model.get("email")},t=this;this.showLoading(),c.submitProfileInfo(e).done(function(){f.ajaxSuccessMessenger("submitProfileInfo"),t.userModel.set({fullName:t.model.get("fullName"),email:t.model.get("email")}),t.successClose()}).fail(function(e){t.hideLoading();var n="submitProfileInfo",i="";e.responseText.indexOf("4094")>=0?n="submitProfileInfoDuplication":h.patterns.emailWrong.test(e.responseText)&&(n="submitProfileInfoWrongData"),n!=="submitProfileInfoWrongData"?(t.$email.focus(),t.$email.closest("label").addClass("validate-error"),i=l.validation.registeredEmail):i=l.failMessages.submitProfileInfoWrongData,r(".help-line",t.$email.closest(".rp-form-group")).text(i),f.ajaxFailMessenger(null,n)})}}});return p}),define("tooltips/RegenerateUUIDTooltipView",["require","exports","module","jquery","backbone-epoxy","util","localization"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone-epoxy"),s=e("util"),o=e("localization"),u=i.View.extend({template:"tpl-profile-regenerate-uuid",className:"regenerate-uuid-tooltip",initialize:function(){this.render()},render:function(){this.$el.html(s.templates(this.template))},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.remove(),delete this}});return u}),define("modals/modalForceUpdate",["require","exports","module","jquery","underscore","modals/_modalView","backbone","backbone-epoxy","util"],function(e,t,n){"use strict";var r=e("jquery"),i=e("underscore"),s=e("modals/_modalView"),o=e("backbone"),u=e("backbone-epoxy"),a=e("util"),f=s.extend({tpl:"tpl-modal-force-update",className:"modal-force-update",events:{"click [data-js-ok]":"onConfirm"},bindings:{"[data-js-type]":"text: account_type"},initialize:function(e){this.msg=e.msg,this.render()},render:function(){this.$el.html(a.templates(this.tpl,{msg:this.msg}))},onConfirm:function(){this.successClose()}});return f}),define("userProfile/UserProfileView",["require","exports","module","jquery","backbone","backbone-epoxy","core/components","coreService","localization","modals/modalChangePassword","modals/modalRegenerateUUID","modals/modalEditUserInfo","modals/modalConfirm","tooltips/RegenerateUUIDTooltipView","model/SingletonRegistryInfoModel","components/DropDownComponent","storage/SingletonAppStorage","modals/modalForceUpdate","callService","dataUrlResolver","util","app"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("core/components"),u=e("coreService"),a=e("localization"),f=e("modals/modalChangePassword"),l=e("modals/modalRegenerateUUID"),c=e("modals/modalEditUserInfo"),h=e("modals/modalConfirm"),p=e("tooltips/RegenerateUUIDTooltipView"),d=e("model/SingletonRegistryInfoModel"),v=e("components/DropDownComponent"),m=e("storage/SingletonAppStorage"),g=e("modals/modalForceUpdate"),y=e("callService"),b=e("dataUrlResolver"),w=e("util"),E=e("app"),S=E.getInstance(),x=o.BaseView.extend({tpl:"tpl-user-profile-view",bindings:{"[data-js-user-name]":"text: fullName","[data-js-user-email]":"text: email","[data-js-user-login]":"text: user_login","[data-js-change-password]":"attr: {disabled: isDemo}","[data-js-upload-photo-form]":"classes: {hide: isDemo}","[data-js-edit-name]":"classes: {hide: isDemo}","[data-js-edit-email]":"classes: {hide: isDemo}"},computeds:{isDemo:function(){return this.infoModel.get("isDemo")}},events:{"click [data-js-config-tab] li > a ":"changeLangConfig","click [data-js-change-password]":"showChangePass","click [data-js-edit-name]":"onEditUserName","click [data-js-edit-email]":"onEditUserEmail","click [data-js-select-photo]":"onClickUploadPhoto","change [data-js-select-photo]":"previewPhoto","submit [data-js-upload-photo-form]":"uploadPhoto","click [data-js-remove-photo]":"removePhoto","click [data-js-input-token]":"selectToken","click [data-js-update-token]":"updateToken","click [data-js-force-update]":"forceUpdate"},initialize:function(e){this.$el=e.body,this.context=e.context,this.model=S.userModel,this.infoModel=new d,this.apiTokenModel=new i.Model({apiToken:null}),this.listenTo(this.apiTokenModel,"change:apiToken",this.setEditorValue),this.render(),this.appStorage=new m,this.dropDown=new v({data:[{name:'<span class="en-flag"></span>'+a.userProfile.english,value:"en"},{name:'<span class="ru-flag"></span>'+a.userProfile.russian,value:"ru"}],multiple:!1,defaultValue:this.appStorage.get("appLanguage")||"en"}),r("[data-js-language-container]",this.$el).before(this.dropDown.$el),this.listenTo(this.dropDown,"change",this.onChangeLanguage)},render:function(){return this.model.ready.done(function(){var e=this.getParams();this.$el.html(w.templates(this.tpl,e)),this.setupAnchors(),this.setApiToken(),this.initEditor(),this.loadRegenerateUUIDTooltip()}.bind(this)),this},setApiToken:function(){var e=this,t=this.model.get("apiToken");t?(e.apiTokenModel.set({apiToken:t.split("bearer ")[1]}),e.$apiToken.val(t.split("bearer ")[1])):u.getApiToken().done(function(t){e.model.set("apiToken","bearer "+t.access_token),e.apiTokenModel.set({apiToken:t.access_token}),e.$apiToken.val(t.access_token)}).fail(function(){e.generateApiToken()})},onChangeLanguage:function(e){S.trackingDispatcher.trackEventNumber(575),this.appStorage.set("appLanguage",e),r("[data-js-disclamer]",this.$el).removeClass("hide")},getParams:function(){var e=this.model.toJSON();return e.image=w.updateImagePath(e.image),e.apiToken=this.apiTokenModel.get("apiToken"),e},setupAnchors:function(){this.$editPhotoBlock=r("[data-js-edit-photo]",this.$el),this.$uploadPhotoBlock=r("[data-js-upload-block]",this.$el),this.$wrongImageMessage=r("[data-js-photo-error]",this.$el),this.$imgSelector=r("[data-js-select-photo]",this.$el),this.$profileAvatar=r("[data-js-user-img]",this.$el),this.$editor=r("[data-js-editor]",this.$el),this.$certificate=r("[data-js-certificate]",this.$el),this.$apiToken=r("[data-js-input-token]",this.$el)},selectToken:function(e){r(e.target).select()},loadRegenerateUUIDTooltip:function(){var e=r("[data-js-update-token]",this.$el);w.appendTooltip(function(){var e=new p({});return e.$el.html()},e,e)},updateToken:function(){S.trackingDispatcher.trackEventNumber(365);var e=this;(new l).show().done(function(){return e.generateApiToken()})},forceUpdate:function(e){e.preventDefault();var t=this.model.get("account_type").toLowerCase();t!=="internal"&&t!=="ldap"&&u.externalForceUpdate(t).done(function(e){this.showForceUpdateModal(e)}.bind(this)).fail(function(e){w.ajaxFailMessenger(e,"forceUpdateGitHub")})},showForceUpdateModal:function(e){var t=this,n=e&&e.msg?e.msg:a.userProfile.infoSynchronized;(new g({model:t.model,msg:n})).show().done(function(){t.model.logout()})},showChangePass:function(){S.trackingDispatcher.trackEventNumber(360);var e=new f({model:this.model});e.show()},onEditUserName:function(){S.trackingDispatcher.trackEventNumber(361),this.showEditUserInfo()},onEditUserEmail:function(){S.trackingDispatcher.trackEventNumber(362),this.showEditUserInfo()},showEditUserInfo:function(){var e=new c;e.show()},onClickUploadPhoto:function(){S.trackingDispatcher.trackEventNumber(363)},generateApiToken:function(){var e=this;u.generateApiToken().done(function(t){e.model.set("apiToken","bearer "+t.access_token),e.apiTokenModel.set({apiToken:t.access_token}),e.$apiToken.val(t.access_token),w.ajaxSuccessMessenger("updateUuid")}).fail(function(e){e.status!==401&&w.ajaxFailMessenger(e,"updateUuid")}).always(function(){e.modalToken&&e.modalToken.$el.modal("hide")})},previewPhoto:function(e){var t=e.currentTarget.files[0],n=this;if(t)if(this.validateFileExtension(t)){var r=new FileReader,i=new Image;r.readAsDataURL(t),r.onload=function(e){i.src=e.target.result,i.onload=function(){n.validateImageSize(i,t)?(n.$profileAvatar.attr("src",e.target.result),n.$editPhotoBlock.hide(),n.$uploadPhotoBlock.show(),n.$wrongImageMessage.hide().removeClass("shown")):(n.$editPhotoBlock.show(),n.$uploadPhotoBlock.hide(),n.$wrongImageMessage.show().addClass("shown"))}}}else this.$wrongImageMessage.show()},validateImageSize:function(e,t){var n=e.width,r=e.height,i=~~(t.size/1024);return i<=1e3&&n<=300&&r<=500},validateFileExtension:function(e){return/\.(gif|jpg|jpeg|png)$/i.test(e.name)},uploadPhoto:function(e){var t=new FormData;t.append("file",this.$imgSelector[0].files[0]);var n=new XMLHttpRequest,i=this,s="";n.onreadystatechange=function(){i.$editPhotoBlock.show(),i.$uploadPhotoBlock.hide(),n.readyState===4&&n.status===200?(s=i.$profileAvatar.attr("src"),r("#profileImage").attr("src",s),S.userModel.set("photo_loaded",!0),i.$profileAvatar.parent().addClass("active"),i.$imgSelector.wrap("<form></form>").parent().trigger("reset").children().unwrap("<form></form>"),w.setProfileUrl(),w.ajaxSuccessMessenger("submitUpload")):n.readyState===4&&n.status!==200&&w.ajaxFailMessenger(null,"submitUpload")},n.open("POST",w.updateImagePath(b.uploadPhoto()),!0),n.send(t),e.preventDefault()},removePhoto:function(e){S.trackingDispatcher.trackEventNumber(364);var t=this,n=new h({headerText:a.dialogHeader.deleteImage,bodyText:a.dialog.deleteImage,cancelButtonText:a.ui.cancel,okButtonDanger:!0,okButtonText:a.ui.delete,confirmFunction:function(){return S.trackingDispatcher.trackEventNumber(372),y.call("DELETE",b.uploadPhoto()).done(function(){S.userModel.set("photo_loaded",!1),w.setProfileUrl(),r("#profileImage").attr("src",S.userModel.get("image")),t.$profileAvatar.attr("src",S.userModel.get("image")),t.$profileAvatar.parent().removeClass("active"),t.$wrongImageMessage.hide().removeClass("shown"),w.ajaxSuccessMessenger("deletePhoto")}).fail(function(e){w.ajaxFailMessenger(e,"deletePhoto")})}});r("[data-js-close]",n.$el).on("click",function(){S.trackingDispatcher.trackEventNumber(370)}),r("[data-js-cancel]",n.$el).on("click",function(){S.trackingDispatcher.trackEventNumber(371)}),n.show()},changeLangConfig:function(e){S.trackingDispatcher.trackEventNumber(366),e.preventDefault();var t=r(e.target);if(!t.parent().hasClass("active")){var n=t.attr("href")||t.find("a").attr("href");this.lang=_.last(n.split("#")),r("li",t.closest("ul")).removeClass("active"),t.parent().addClass("active"),this.setEditorValue();var i=this.lang==="testng"?"show":"hide";this.$certificate[i]()}},initEditor:function(){this.setEditorValue()},setEditorValue:function(){if(this.$editor){var e;switch(this.lang){case"ruby":e="<h1>"+a.userProfile.rubyConfigTitle+"</h1>"+"<br>"+'<div class="options">'+"<p>uuid: "+this.apiTokenModel.get("apiToken")+"</p>"+"<p>endpoint: "+document.location.origin+"/api/v1"+"</p>"+"<p>project: "+this.model.appModel.get("projectId")+"</p>"+"<p>launch: "+this.model.get("name")+"_TEST_EXAMPLE</p>"+"<p>tags:  [tag1, tag2]</p>"+"</div>";break;case"soap":e="<h1>"+a.userProfile.soapConfigTitle+"</h1>"+"<br>"+'<div class="options">'+"<p>rp.uuid = "+this.apiTokenModel.get("apiToken")+"</p>"+"<p>rp.endpoint = "+document.location.origin+"</p>"+"<br>"+"<p>rp.launch = "+this.model.get("name")+"_TEST_EXAMPLE</p>"+"<p>rp.project = "+this.model.appModel.get("projectId")+"</p>"+"<p>rp.tags = TAG1;TAG2</p>"+"<p>rp.description = My awesome launch</p>"+"</div>";break;case".net":e="<h1>"+a.userProfile.dotnetConfigTitle+"</h1>";break;case"nodeJS":e="<h1>"+a.userProfile.nodeJSConfigTitle+' <a href="https://github.com/reportportal/client-javascript">'+a.userProfile.nodeJSConfigLink+"</a></h1>"+"<h1>"+a.userProfile.nodeJSConfigExample+"</h1>"+"<br>"+'<div class="options">'+"<p>uuid: "+this.apiTokenModel.get("apiToken")+"</p>"+"<p>endpoint: "+document.location.origin+"/api/v1</p>"+"<p>launch: "+this.model.get("name")+"_TEST_EXAMPLE</p>"+"<p>project: "+this.model.appModel.get("projectId")+"</p>"+"</div>";break;default:e="<h1>"+a.userProfile.defaultConfigTitle+"</h1>"+"<h1>"+a.userProfile.required+"</h1>"+'<div class="options">'+"<p>rp.endpoint = "+document.location.origin+"</p>"+"<p>rp.uuid = "+this.apiTokenModel.get("apiToken")+"</p>"+"<p>rp.launch = "+this.model.get("name")+"_TEST_EXAMPLE</p>"+"<p>rp.project = "+this.model.appModel.get("projectId")+"</p>"+"</div>"+"<h1>"+a.userProfile.notRequired+"</h1>"+'<div class="options">'+"<p>rp.enable = true</p>"+"<p>rp.description = My awesome launch</p>"+"<p>rp.tags = TAG1;TAG2</p>"+"<p>rp.convertimage = true</p>"+"<p>rp.mode = DEFAULT</p>"+"<p>rp.skipped.issue = true</p>"+"<p>rp.batch.size.logs = 20</p>"+"<p>rp.keystore.resource = &lt;PATH_TO_YOUR_KEYSTORE&gt;</p>"+"<p>rp.keystore.password = &lt;PASSWORD_OF_YOUR_KEYSTORE&gt;</p>"+"</div>"}this.$editor.html(e)}},onDestroy:function(){this.dropDown&&this.dropDown.destroy(),this.$el.html("")}});return x}),define("userProfile/UserProfilePage",["require","exports","module","jquery","backbone","app","core/components","userProfile/UserProfileHeader","userProfile/UserProfileView"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("app"),o=e("core/components"),u=e("userProfile/UserProfileHeader"),a=e("userProfile/UserProfileView"),f=s.getInstance(),l=o.BaseView.extend({initialize:function(e){this.contextName=e.contextName,this.context=e.context,this.vent=_.extend({},i.Events)},render:function(){return this.createHeader(),this.createBody(),this},update:function(){this.render()},createHeader:function(e){this.$header&&this.$header.destroy(),this.$header=(new u({header:this.context.getMainView().$header,vent:this.vent,context:this.context})).render()},createBody:function(e){this.$body&&this.$body.destroy(),this.$body=new a({body:this.context.getMainView().$body,vent:this.vent,context:this.context})},destroy:function(){this.$header.destroy(),this.$body.destroy(),this.$el.html(""),this.undelegateEvents(),this.stopListening(),this.unbind(),delete this}});return{ContentView:l}}),define("projectEvents/projectEventsItemView",["require","jquery","underscore","backbone-epoxy","util","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("localization"),o=r.View.extend({className:"project-events-item row rp-table-row",template:"tpl-project-events-table-item",valueTemplate:"tpl-project-events-item-value",events:{"click [data-js-time-format]":"toggleTimeView"},bindings:{"[data-js-time-from-now]":"text: lastModifiedDateFromNow","[data-js-time-exact]":"text: lastModifiedDateFormat","[data-js-user]":"text: userRef","[data-js-action]":"localizedActionType: actionType","[data-js-object-type]":"localizedObjectType: objectType","[data-js-object-name]":"text: objectName","[data-js-old-val]":"valueString: history","[data-js-new-val]":"valueString: history"},bindingHandlers:{localizedActionType:{set:function(e,t){e.text(s.projectEvents.eventTypes[t])}},localizedObjectType:{set:function(e,t){e.text(s.projectEvents.objectTypes[t])}},valueString:{set:function(e,r){var s,o=e.hasClass("old-val-grid-cell"),u=t(document.createElement("div")).addClass("values-wrapper");n.each(r,function(e){var r,a=[],f=[],l=this.view.model.get("actionType");(l==="post_issue"||l==="link_issue"||l==="unlink_issue")&&n.each(e,function(e,t){var r;(t==="newValue"||t==="oldValue")&&n.each(e.split(","),function(e){r=e.split(":"),s='<a target="_blank" href="'+r[1]+":"+r[2]+'">'+r[0]+"</a>",t==="newValue"?f.push(s):a.push(s)})}),r=t(document.createElement("div")).addClass("value-item").html(i.templates(this.view.valueTemplate,{valueFieldName:e.field,value:o?e.oldValue&&a.length?a.join(", "):e.oldValue:e.newValue&&f.length?f.join(", "):e.newValue})),u.append(r)}.bind(this)),e.html(u)}}},initialize:function(e){this.model=e.eventModel,this.render()},render:function(){this.$el.html(i.templates(this.template,{}))},toggleTimeView:function(){this.model.collection.trigger("change:time:format")},update:function(){},onDestroy:function(){this.$el.html(""),delete this}});return o}),define("projectEvents/projectEventsItemModel",["require","backbone-epoxy","util"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=t.Model.extend({defaults:{actionType:"all",activityId:"",history:{},lastModifiedDate:0,objectType:"all",objectName:"",projectRef:"",userRef:"",loggedObjectRef:""},computeds:{lastModifiedDateFormat:{deps:["lastModifiedDate"],get:function(e){return n.dateFormat(e)}},lastModifiedDateFromNow:{deps:["lastModifiedDate"],get:function(e){return n.fromNowFormat(e)}}},initialize:function(){}});return r}),define("projectEvents/projectEventsCollection",["require","backbone","jquery","projectEvents/projectEventsItemModel","coreService"],function(e){"use strict";var t=e("backbone"),n=e("jquery"),r=e("projectEvents/projectEventsItemModel"),i=e("coreService"),s=t.Collection.extend({model:r,initialize:function(e){this.filterModel=e.filterModel,this.pagingModel=e.pagingModel,this.listenTo(this.filterModel,"change:newEntities",this.changeFilterOptions),this.listenTo(this.filterModel,"change:newSelectionParameters",this.changeSelectionParameters)},changeFilterOptions:function(){this.pagingModel.set("number",1),this.load()},changeSelectionParameters:function(){this.load()},getParamsFilter:function(){var e=[];return e.push("page.page="+this.pagingModel.get("number")),e.push("page.size="+this.pagingModel.get("size")),e=e.concat(this.filterModel.getOptions()),e},load:function(){var e=this,t=n.Deferred(),r=this.getParamsFilter(),s="?"+r.join("&");return this.trigger("loading",!0),i.getProjectEvents(s).done(function(n){if(!n.content.length&&n.page.totalPages!==0)return e.reset(n.content),e.trigger("loading",!1),!1;e.pagingModel.set(n.page),e.reset(n.content),e.trigger("loading",!1),t.resolve(n)}).fail(function(){t.reject(),e.trigger("loading",!1)}),t}});return s}),define("projectEvents/projectEventsTableView",["require","jquery","underscore","backbone-epoxy","util","projectEvents/projectEventsItemView","projectEvents/projectEventsCollection","core/components","storage/SingletonUserStorage"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("projectEvents/projectEventsItemView"),o=e("projectEvents/projectEventsCollection"),u=e("core/components"),a=e("storage/SingletonUserStorage"),f=r.View.extend({className:"project-events-table",template:"tpl-project-events-table",events:{"click .rp-grid-th[data-sorter]":"onClickSorter","click .rp-grid-th[data-filter] .rp-icons-filter":"onClickFilter"},initialize:function(e){this.userStorage=new a,this.filterModel=e.filterModel,this.pagingModel=new r.Model({number:e.pagingPage||1,totalPages:1,size:e.pagingSize||this.userStorage.get("ProjectEventsPageSize")||50}),this.eventsCollection=new o({filterModel:this.filterModel,pagingModel:this.pagingModel}),this.itemViews=[],this.listenTo(this.filterModel,"change:newSelectionParameters",this.onChangeSelectionParameters),this.listenTo(this.eventsCollection,"loading",this.eventsLoadingHandler),this.listenTo(this.eventsCollection,"change:time:format",this.onChangeTimeFormat),this.render(),this.setupPaging()},render:function(){this.$el.html(i.templates(this.template,{})),this.userStorage.get("startTimeFormat")==="exact"&&this.$el.addClass("exact-driven"),this.eventsCollection.load()},renderItems:function(e){e.length?(t("[data-js-no-results]",this.$el).hide(),n.each(e,function(e){var n=new s({eventModel:e});t("[data-js-items-container]",this.$el).append(n.el),this.itemViews.push(n)}.bind(this))):t("[data-js-no-results]",this.$el).show()},update:function(){n.each(this.itemViews,function(e){e.destroy()}),this.itemViews=[],this.eventsCollection.load()},setupPaging:function(){this.paging=new u.PagingToolbar({el:t("[data-js-paginate-container]",this.$el),model:this.pagingModel}),this.listenTo(this.paging,"page",this.changePagingPage),this.listenTo(this.paging,"count",this.changePagingCount)},changePagingCount:function(e){this.userStorage.set("ProjectEventsPageSize",e),this.pagingModel.set("size",e),this.changePaging()},changePagingPage:function(e){this.pagingModel.set("number",e),this.changePaging()},changePaging:function(){this.trigger("changePaging"),this.paging.render(),this.update()},onChangeTimeFormat:function(e){var t=this.userStorage.get("startTimeFormat");e||(t==="exact"?t="":t="exact",this.userStorage.set("startTimeFormat",t)),t?this.$el.addClass("exact-driven"):this.$el.removeClass("exact-driven")},eventsLoadingHandler:function(e){e?(t("[data-js-preloader]",this.$el).show(),n.each(this.itemViews,function(e){e.destroy()}),this.itemViews=[],t("[data-js-items-container]",this.$el).html("")):(t("[data-js-preloader]",this.$el).hide(),this.renderItems(this.eventsCollection.models),this.paging.render())},onChangeSelectionParameters:function(){var e=this.filterModel.getParametersObj(),n=t('[data-sorter="'+e.sorting_column+'"]',this.$el);t("[data-sorter]",this.$el).removeClass("sorting-asc sorting-desc"),n&&n.length&&n.addClass(e.is_asc?"sorting-asc":"sorting-desc")},onClickSorter:function(e){var n=t(e.currentTarget).data("sorter"),r=this.filterModel.getParametersObj();r.sorting_column===n?r.is_asc=!r.is_asc:(r.is_asc=!0,r.sorting_column=n),this.filterModel.set({newSelectionParameters:JSON.stringify(r)})},onClickFilter:function(e){e.stopPropagation(),this.filterModel.trigger("add_entity",t(e.currentTarget).closest(".rp-grid-th").data("filter"))},onDestroy:function(){n.each(this.itemViews,function(e){e.destroy()})}});return f}),define("projectEvents/projectEventsView",["require","jquery","backbone-epoxy","util","filterEntities/FilterEntitiesView","filters/FilterModel","projectEvents/projectEventsTableView","app"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("filterEntities/FilterEntitiesView"),s=e("filters/FilterModel"),o=e("projectEvents/projectEventsTableView"),u=e("app"),a=u.getInstance(),f=n.View.extend({className:"project-events",template:"tpl-project-events",events:{"click [data-js-refresh]":"update"},initialize:function(){var e=this.calculateFilterOptions(window.location.hash.split("?")[1]);this.filterModel=new s({temp:!0,context:"projectEvents",entities:e.entities,selection_parameters:e.selection_parameters}),this.render(),this.listenTo(this.filterModel,"change:newSelectionParameters change:newEntities",this.changeUrl),this.listenTo(this.eventsTable,"changePaging",this.changeUrl),this.listenTo(this.eventsTable.eventsCollection,"loading",this.handleRefreshButton)},calculateFilterOptions:function(e){var t,n=[],r={};return e&&(t=e.split("&"),_.each(t,function(e){var t=e.split("="),i=t[0].split("."),s=i[0],o;s==="filter"&&n.push({condition:i[1],filtering_field:i[2],value:decodeURIComponent(t[1])}),s==="page"&&(i[1]==="page"?this.pagingPage=parseInt(t[1],10):i[1]==="size"?this.pagingSize=parseInt(t[1],10):i[1]==="sort"&&(o=t[1].split("%2C"),r.selection_parameters=JSON.stringify({is_asc:o[1]==="ASC",sorting_column:o[0]}))),i.shift()},this),r.entities=JSON.stringify(n)),r},render:function(){return this.$el.html(r.templates(this.template,{})),this.renderEntities(),this.renderTable(),this},update:function(){this.eventsTable&&this.eventsTable.update()},changeUrl:function(){var e=window.location.hash.split("?")[0],t=this.eventsTable.eventsCollection.getParamsFilter(),n="?"+t.join("&");a.router.navigate(e+n,{trigger:!1,replace:!0})},handleRefreshButton:function(e){e?t("[data-js-refresh]",this.$el).addClass("disabled"):t("[data-js-refresh]",this.$el).removeClass("disabled")},renderEntities:function(){this.filterEntities&&this.filterEntities.destroy(),this.filterEntities=new i({el:t("[data-js-refine-entities]",this.$el),filterLevel:"projectEvents",model:this.filterModel})},renderTable:function(){this.eventsTable&&this.eventsTable.destroy(),this.eventsTable=new o({filterModel:this.filterModel,pagingPage:this.pagingPage?this.pagingPage:null,pagingSize:this.pagingSize?this.pagingSize:null}),t("[data-js-events-table-container]",this.$el).html(this.eventsTable.el)},onDestroy:function(){this.filterEntities&&this.filterEntities.destroy(),this.eventsTable&&this.eventsTable.destroy()}});return f}),define("adminProjects/ProjectsDetailsView",["require","jquery","util","app","adminService","dataUrlResolver","projectinfo","core/components"],function(e){"use strict";var t=e("jquery"),n=e("util"),r=e("app"),i=e("adminService"),s=e("dataUrlResolver"),o=e("projectinfo"),u=e("core/components"),a=r.getInstance(),f=o.Body.extend({bodyTpl:"tpl-projects-details",events:{"change [name=interval]":"updateInterval"},initialize:function(e){o.Body.prototype.initialize.call(this,e),this.$el=e.el,this.action=e.action,this.interval=this.getInterval(e.queryString),this.project=e.id},getInterval:function(e){return e?+e.split("=")[1]:3},render:function(){this.$el.html(n.templates(this.bodyTpl,{projectName:a.project.projectId})),this.$content=t("#contentTarget",this.$el),this.$content.html(n.templates(this.tpl)),this.$interval=t(".btn-group:first",this.$el),this.setupAnchors(),this.setActiveInterval();var e=this;return a.project={projectId:this.project},t.when(i.getProjectInfo()).done(function(t){a.project=t,e.loadProjectInfo(),e.loadWidgets()}).fail(function(e){n.ajaxFailMessenger(e,"projectLoad")}),this},setActiveInterval:function(){t(".active",this.$interval).removeClass("active"),t("#interval"+this.interval,this.$interval).prop("checked",!0).parent().addClass("active")},updateInterval:function(e){var n=t("input[name=interval]:checked",this.$interval).data("value");this.interval=n,a.router.navigate(s.detailsInterval(this.id,n),{silent:!0}),this.loadProjectInfo(),this.loadWidgets()},update:function(e){this.interval=e.queryString?+e.queryString.split("=")[1]:3,this.setActiveInterval(),this.loadProjectInfo(),this.loadWidgets()},destroy:function(){u.BaseView.prototype.destroy.call(this)}});return f}),define("adminProjects/ProjectsModel",["require","exports","module","jquery","backbone","backbone-epoxy","util","app","adminService"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("util"),u=e("app"),a=e("adminService"),f=u.getInstance(),l=s.Model.extend({defaults:{creationDate:0,entryType:"",launchesQuantity:0,usersQuantity:0,projectId:""},"delete":function(){var e=this.get("projectId");return a.deleteProject(e).done(function(){var t=f.userModel.get("projects");delete t[e],f.userModel.set("projects",t),this.collection&&this.collection.remove(this),o.ajaxSuccessMessenger("deleteProject")}.bind(this)).fail(function(e){o.ajaxFailMessenger(e,"deleteProject")})}});return l}),define("adminProjects/ProjectsCollection",["require","exports","module","jquery","backbone","adminProjects/ProjectsModel"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("adminProjects/ProjectsModel"),o=i.Collection.extend({model:s});return o}),define("adminProjects/ProjectsItemView",["require","jquery","backbone-epoxy","util","app","localization","modals/modalConfirm","projectMembers/MembersService"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("app"),s=e("localization"),o=e("modals/modalConfirm"),u=e("projectMembers/MembersService"),a=i.getInstance(),f=n.View.extend({tplList:"tpl-projects-item-list",tplTable:"tpl-projects-item-table",bindings:{"[data-js-project-name]":"html: getProjectName, attr: {href: getProjectDetailsUrl}","[data-js-project-name-label]":"classes: {nameLabel: isNew}","[data-js-project-new]":"classes: {hide: not(isNew)}","[data-js-project-users]":"html: getUsersQuantity","[data-js-project-launches]":"html: getLaunchesQuantity","[data-js-project-last-run]":"html: getLastRun","[data-js-settings-link]":"attr: {href: getSettingsUrl}","[data-js-members-link]":"attr: {href: getMembersUrl}","[data-js-events-link]":"attr: {href: getEventsUrl}","[data-js-go-to-project]":"classes: {hide: not(assignToProject)}, attr: {href: openProjectUrl}","[data-js-assign-to-project]":"classes: {hide: assignToProject}","[data-js-delete-project]":"classes: {hide: not(canDeleteProject)}"},computeds:{getProjectName:{deps:["projectId"],get:function(e){return this.wrapSearchResult(e)}},getUsersQuantity:{deps:["usersQuantity"],get:function(e){var t=this.filterModel.get("viewType"),n=t!=="table"?e===1?s.admin.usersQuantitySingular:s.admin.usersQuantity:"";return'<span class="mobile-name">'+n+"</span> <strong>"+e+"</strong><span>"+n+"</span>"}},getLaunchesQuantity:{deps:["launchesQuantity"],get:function(e){var t=this.filterModel.get("viewType"),n=t!=="table"?e===1?s.admin.launchesQuantitySingular:s.admin.launchesQuantity:"";return'<span class="mobile-name">'+n+"</span> <strong>"+e+"</strong><span>"+n+"</span>"}},getLastRun:{deps:["lastRun"],get:function(e){return'<span class="mobile-name">'+s.admin.lastRunMobile+"</span> "+(e?r.daysFromNow(e):s.admin.lastRunSuffix)+"<span>"+s.admin.lastRunPrefix+"</span>"}},getProjectDetailsUrl:{deps:["projectId"],get:function(e){return"#administrate/project-details/"+e}},openProjectUrl:{deps:["projectId"],get:function(e){return"#"+e}},getSettingsUrl:{deps:["projectId"],get:function(e){return"#administrate/project-details/"+e+"/settings"}},getMembersUrl:{deps:["projectId"],get:function(e){return"#administrate/project-details/"+e+"/members"}},getEventsUrl:{deps:["projectId"],get:function(e){return"#administrate/project-details/"+e+"/events"}},isNew:{deps:["creationDate"],get:function(e){return r.daysBetween(new Date,new Date(e))<=7}},assignToProject:{deps:["projectId"],get:function(e){var t=a.userModel.get("projects");return!!t[e]}},canDeleteProject:{deps:["entryType"],get:function(e){return!this.isDeleteLock()}}},events:{"click [data-js-delete-project]":"deleteProject","click [data-js-assign-to-project]":"assignAdminToProject","click [data-js-project-name]":"onClickProject","click [data-js-settings-link]":"onClickSettings","click [data-js-members-link]":"onClickMembers","click [data-js-events-link]":"onClickEvents","click [data-js-go-to-project]":"onOpenProject"},initialize:function(e){this.filterModel=e.filterModel,this.render()},render:function(){var e=this.getViewTemplate();this.$el.addClass(this.getViewClass()).html(r.templates(e,{}))},getViewClass:function(){return this.filterModel.get("viewType")==="table"?"project-table-row project-item":"project-list-row project-item"},getViewTemplate:function(){return this.filterModel.get("viewType")==="table"?this.tplTable:this.tplList},wrapSearchResult:function(e){var t=this.filterModel.get("search");return t?r.textWrapper(e,t):e},isPersonalProject:function(e){return e==="PERSONAL"},isDeleteLock:function(){var e=this.model.toJSON();return r.isDeleteLock(e)},onClickProject:function(){a.trackingDispatcher.trackEventNumber(447)},onClickSettings:function(){a.trackingDispatcher.trackEventNumber(449)},onClickMembers:function(){a.trackingDispatcher.trackEventNumber(450)},onClickEvents:function(){},onOpenProject:function(){a.trackingDispatcher.trackEventNumber(452)},assignAdminToProject:function(e){var n=this.model.get("projectId"),i={},s=a.projectRolesEnum.project_manager;a.trackingDispatcher.trackEventNumber(451),e.preventDefault(),i[a.userModel.get("name")]=s,u.assignMember(i,n).done(function(){a.userModel.get("projects")[n]={projectRole:s},t("[data-js-assign-to-project]",this.$el).addClass("hide"),t("[data-js-go-to-project]",this.$el).removeClass("hide"),r.ajaxSuccessMessenger("assignYourSelf",(n+"").toUpperCase())}.bind(this)).fail(function(e){r.ajaxFailMessenger(e,"assignYourSelf")})},deleteProject:function(e){var n;a.trackingDispatcher.trackEventNumber(448),e.preventDefault(),n=new o({headerText:s.dialogHeader.deleteProject,bodyText:r.replaceTemplate(s.dialog.deleteProject,this.model.get("projectId")),confirmText:"",cancelButtonText:s.ui.cancel,okButtonDanger:!0,okButtonText:s.ui.delete,confirmFunction:function(){return a.trackingDispatcher.trackEventNumber(456),this.model.delete()}.bind(this)}),t("[data-js-close]",n.$el).on("click",function(){a.trackingDispatcher.trackEventNumber(456)}),t("[data-js-cancel]",n.$el).on("click",function(){a.trackingDispatcher.trackEventNumber(458)}),n.show()},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.remove(),delete this}});return f}),define("adminProjects/ProjectsListView",["require","exports","module","jquery","backbone","backbone-epoxy","util","app","core/components","adminService","localization","adminProjects/ProjectsCollection","adminProjects/ProjectsItemView"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("util"),u=e("app"),a=e("core/components"),f=e("adminService"),l=e("localization"),c=e("adminProjects/ProjectsCollection"),h=e("adminProjects/ProjectsItemView"),p=u.getInstance(),d=s.View.extend({template:"tpl-projects-list",listHeadTpl:"tpl-projects-list-head",bindings:{"[data-js-search-text]":"text: search"},initialize:function(e){this.projectsType=e.projectsType,this.$total=e.total,this.renderViews=[],this.collection=new c,this.listenTo(this.collection,"reset",this.updateView.bind(this)),this.listenTo(this.collection,"remove",this.update.bind(this)),this.render()},render:function(){this.$el.html(o.templates(this.template,{})),this.setupAnchors(),this.paging=new a.PagingToolbarSaveUser({el:this.$pagingEl,model:new i.Model(this.getDefaultPaging()),pageType:"adminProjectList"}),this.listenTo(this.paging,"page",this.onPage),this.listenTo(this.paging,"count",this.onPageCount),this.loadProjects()},setupAnchors:function(){this.$loaderEl=r("[data-js-projects-loader]",this.$el),this.$projectsList=r("[data-js-projects-list]",this.$el),this.$pagingEl=r("[data-js-projects-paging]",this.$el),this.$projectsContent=r("[data-js-projects-content]",this.$el),this.$emptyContent=r("[data-js-projects-empty]",this.$el)},renderProjects:function(){if(_.isEmpty(this.collection.models)){this.$emptyContent.removeClass("hide");return}this.$projectsContent.removeClass("hide"),this.updateList(),_.each(this.collection.models,function(e){var t=new h({model:e,filterModel:this.model});this.$projectsList.append(t.$el),this.renderViews.push(t)},this),this.trigger("loadProjectsReady")},updateView:function(){this.clearProjects(),this.renderProjects()},updateList:function(){this.model.get("viewType")==="table"?(this.$projectsList.attr("class","projects-table-view"),this.$projectsList.append(o.templates(this.listHeadTpl,{}))):this.$projectsList.attr("class","projects-list-view")},update:function(){this.clearProjects(),this.loadProjects()},getDefaultPaging:function(){return{number:1,size:12}},onPage:function(e){this.update()},onPageCount:function(e){this.update()},onLoadProjects:function(e){if(e.page.totalPages<e.page.number&&e.page.totalPages!=0){this.paging.trigger("page",e.page.totalPages);return}this.paging.model.set(e.page),this.paging.render(),this.collection.reset(e.content?e.content:e),this.$total.html("("+e.page.totalElements+")")},getQueryData:function(){var e=this.projectsType=="personal"?"?filter.eq.configuration$entryType=PERSONAL":"?filter.in.configuration$entryType=INTERNAL,UPSA",t=this.model.get("search"),n=this.model.get("sort"),r=this.model.get("direction");return t&&(e+="&filter.cnt.name="+t),n&&(e+="&page.sort="+n,r&&(e+=","+r)),e+="&page.page="+this.paging.model.get("number")+"&page.size="+this.paging.model.get("size"),e},loadProjects:function(){var e=this.getQueryData();p.userModel.ready.done(function(){this.$projectsContent.addClass("hide"),this.$emptyContent.addClass("hide"),this.toggleLoader("show"),f.getProjects(e).done(function(e){this.onLoadProjects(e)}.bind(this)).fail(function(e){o.ajaxFailMessenger(e,"adminLoadProjects")}).always(function(){this.toggleLoader("hide")}.bind(this))}.bind(this))},toggleLoader:function(e){this.$loaderEl[e]()},clearProjects:function(){_.each(this.renderViews,function(e){e.destroy()}),this.$projectsList.empty(),this.renderViews=[]},destroy:function(){this.clearProjects(),this.undelegateEvents(),this.stopListening(),this.unbind(),this.remove(),delete this}});return d}),define("adminProjects/ProjectsTabsView",["require","exports","module","jquery","backbone","backbone-epoxy","util","app","adminProjects/ProjectsListView","localization","components/DropDownComponent"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("util"),u=e("app"),a=e("adminProjects/ProjectsListView"),f=e("localization"),l=e("components/DropDownComponent"),c=u.getInstance(),h=s.View.extend({tpl:"tpl-projects-list-shell",events:{"click [data-js-tab-action]":"getTab","click [data-js-sort-block] .rp-btn":"changeSorting","validation::change [data-js-filter-projects]":"filterProjects","click [data-js-view-type]":"changeProjectsView"},initialize:function(e){this.tab=e.action,this.model=new s.Model({search:c.defaultProjectsSettings.search,sort:c.defaultProjectsSettings.sorting,direction:c.defaultProjectsSettings.sortingDirection,viewType:c.defaultProjectsSettings.listView});var t=this;this.model.on("change:sort change:direction change:search",function(){t.update(t.tab)}),this.model.on("change:viewType",function(){t.tabView.updateView()}),this.render()},render:function(){this.$el.html(o.templates(this.tpl,{tab:this.tab})),this.setupAnchors(),this.setupSelectDropDown(),this.fillContent()},update:function(e,t){this.tab=e||"internal",this.renderTabContent()},updateTabs:function(e){switch(e){case"personal":c.trackingDispatcher.trackEventNumber(446);break;default:c.trackingDispatcher.trackEventNumber(445)}c.router.navigate("#administrate/projects/"+e),this.clearSearch(),this.update(e,!0)},setupSelectDropDown:function(){this.tabSelector=new l({data:[{name:"INTERNAL PROJECTS",value:"internal"},{name:"PERSONAL PROJECTS",value:"personal"}],multiple:!1,defaultValue:this.tab}),r("[data-js-nav-tabs-mobile]",this.$el).html(this.tabSelector.$el),this.listenTo(this.tabSelector,"change",this.updateTabs)},getTab:function(e){e.preventDefault(),this.updateTabs(r(e.currentTarget).data("js-tab-action"))},renderTabContent:function(){this.tabView&&this.tabView.destroy(),this.tabView=this.getProjectsView(),this.$tabContent.html(this.tabView.$el),r("[data-js-tab-action]",this.$el).closest("li.active").removeClass("active"),r('[data-js-tab-action="'+this.tab+'"]',this.$el).closest("li").addClass("active"),this.tabSelector.activateItem(this.tab)},fillContent:function(e){o.bootValidator(this.$searchString,[{validator:"minMaxNotRequired",type:"addProjectName",min:3,max:256}]),this.renderTabContent(),this.listenTo(this.tabView,"loadProjectsReady",this.onLoadProjectsReady)},setupAnchors:function(){this.$sortBlock=r("[data-js-sort-block]",this.$el),this.$searchString=r("[data-js-filter-projects]",this.$el),this.$tabContent=r("[data-js-tab-content]",this.$el)},getProjectsView:function(){return new a({projectsType:this.tab,total:r("[data-js-"+this.tab+"-qty]",this.$el),model:this.model})},changeProjectsView:function(e){e.preventDefault();var t=r(e.currentTarget),n=t.data("js-view-type");switch(n){case"table":c.trackingDispatcher.trackEventNumber(444);break;default:c.trackingDispatcher.trackEventNumber(443)}r(".projects-view.active").removeClass("active"),t.addClass("active"),this.model.set("viewType",n)},changeSorting:function(e){c.trackingDispatcher.trackEventNumber(442);var t=r(e.currentTarget);t.hasClass("active")?(t.toggleClass("desc"),this.model.set("direction",t.hasClass("desc")?"desc":"asc")):(r(".active, .desc",this.$sortBlock).removeClass("active").removeClass("desc"),t.addClass("active"),this.model.set("direction","asc"),this.model.set("sort",t.data("type")))},filterProjects:function(e,t){var n=this;clearTimeout(this.searching),this.searching=setTimeout(function(){t.valid&&n.model.get("search")!==t.value&&(c.trackingDispatcher.trackEventNumber(441),n.model.set("search",t.value))},c.userFilterDelay)},clearSearch:function(){this.model.set("search",c.defaultProjectsSettings.search,{silent:!0}),this.$searchString.val("")},destroy:function(){this.tabView&&this.tabView.destroy(),this.undelegateEvents(),this.stopListening(),this.unbind(),this.remove(),delete this}});return h}),define("modals/modalAddProject",["require","jquery","underscore","modals/_modalView","app","util","adminService","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("modals/_modalView"),i=e("app"),s=e("util"),o=e("adminService"),u=e("localization"),a=i.getInstance(),f=r.extend({template:"tpl-modal-add-project",className:"modal-add-project",events:{"click [data-js-add]":"addProject","click [data-js-close]":"onClickClose","click [data-js-cancel]":"onClickCancel","change [data-js-project-name]":"disableHideBackdrop"},initialize:function(){this.render()},render:function(){var e=[{btnText:u.ui.cancel,btnClass:"rp-btn-cancel",label:"data-js-cancel"},{btnText:u.ui.add,btnClass:"rp-btn-submit",label:"data-js-add"}];this.$el.html(s.templates(this.template,{footerButtons:e})),this.setupAnchors()},onShow:function(){var e=this;this.showLoading(),o.getProjectNames().done(function(t){e.allNames=n.map(t,function(e){return e.toLowerCase()})}).always(function(){e.bindValidators(),e.hideLoading()})},setupAnchors:function(){this.$project=t("[data-js-project-name]",this.$el)},bindValidators:function(){s.hintValidator(this.$project,[{validator:"required",type:"projectName",noTrim:!0},{validator:"minMaxNotRequired",type:"addProjectName",min:3,max:256,noTrim:!0},{validator:"matchRegex",type:"projectNameRegex",pattern:"^[a-zA-Z0-9_-]*$",arg:"i",noTrim:!0},{validator:"noDuplications",type:"projectName",source:this.allNames||[]}])},getProjectUrl:function(e,t){var n="#administrate/project-details/",r=e?e+"/"+t:t;return n+r},onClickClose:function(){a.trackingDispatcher.trackEventNumber(453)},onClickCancel:function(){a.trackingDispatcher.trackEventNumber(454)},onKeySuccess:function(){t("[data-js-add]",this.$el).focus().trigger("click")},addProject:function(){var e=this.$project.val().toLowerCase(),n=this;this.$project.trigger("validate");if(t(".validate-error",this.$el).length)return;a.trackingDispatcher.trackEventNumber(455),this.showLoading(),o.createProject(e).done(function(){a.userModel.get("projects")[e]={projectRole:"MEMBER",entryType:"INTERNAL"},s.ajaxSuccessMessenger("projectCreated",e),n.successClose(),a.router.navigate(n.getProjectUrl(e,"settings"),{trigger:!0})}).fail(function(e){n.hideLoading(),s.ajaxFailMessenger(e,"projectCreate"),n.$project.trigger("validate:error")})}});return f}),define("adminProjects/ProjectsHeaderView",["require","jquery","backbone-epoxy","util","app","localization","components/MainBreadcrumbsComponent","modals/modalAddProject"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("app"),s=e("localization"),o=e("components/MainBreadcrumbsComponent"),u=e("modals/modalAddProject"),a=i.getInstance(),f=n.View.extend({tpl:"tpl-projects-header",bindings:{"[data-js-project-buttons]":"classes: {hide: showProjectBtns}","[data-js-add-project-button]":"classes: {hide: showAddProject}","[data-js-project-settings]":"classes: {disabled: showSettingsBtn}, attr: {href: getSettingsLink}","[data-js-project-members]":"classes: {disabled: showMembersBtn}, attr: {href: getMembersLink}","[data-js-project-events]":"classes: {disabled: showEventsBtn}, attr: {href: getEventsLink}"},computeds:{showProjectBtns:{deps:["id"],get:function(e){return!e}},showAddProject:{deps:["id","action"],get:function(e,t){return!!e||!!t}},showSettingsBtn:{deps:["action"],get:function(e){return e==="settings"}},showMembersBtn:{deps:["action"],get:function(e){return e==="members"}},showEventsBtn:{deps:["action"],get:function(e){return e==="events"}},getSettingsLink:{deps:["id"],get:function(e){return"#administrate/project-details/"+e+"/settings"}},getMembersLink:{deps:["id"],get:function(e){return"#administrate/project-details/"+e+"/members"}},getEventsLink:{deps:["id"],get:function(e){return"#administrate/project-details/"+e+"/events"}}},initialize:function(e){this.model=new n.Model,this.model.set({page:e.page,id:e.id,action:e.action,queryString:e.queryString}),this.mainBreadcrumbs=new o({data:this.getHeaderData()}),this.render()},events:{"click [data-js-add-project]":"addProject"},render:function(){this.$el.html(r.templates(this.tpl)),t("[data-js-main-breadcrumbs]",this.$el).append(this.mainBreadcrumbs.$el)},getHeaderData:function(){var e=this.model.get("page"),t=this.model.get("id"),n=this.model.get("action"),r="#administrate/"+e,i=[{name:s.admin.titleAllProjects,link:"#administrate/projects"}];return this.id&&(r+="/"+t,i.push({name:t,link:r}),n&&(r+="/"+n,i.push({name:s.admin["title"+n.capitalize()],link:r}))),i},addProject:function(e){var t=new u;a.trackingDispatcher.trackEventNumber(440),e.preventDefault(),t.show()},onDestroy:function(){this.remove(),delete this}});return f}),define("adminProjects/ProjectsPageView",["require","jquery","backbone-epoxy","util","app","projectMembers/MembersTableView","projectSettings/projectSettingsView","projectEvents/projectEventsView","adminProjects/ProjectsDetailsView","adminProjects/ProjectsTabsView","adminService","adminProjects/ProjectsHeaderView","model/SingletonAppModel"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("app"),s=e("projectMembers/MembersTableView"),o=e("projectSettings/projectSettingsView"),u=e("projectEvents/projectEventsView"),a=e("adminProjects/ProjectsDetailsView"),f=e("adminProjects/ProjectsTabsView"),l=e("adminService"),c=e("adminProjects/ProjectsHeaderView"),h=e("model/SingletonAppModel"),p=i.getInstance(),d=n.View.extend({tpl:"tpl-projects-body",initialize:function(e){this.$el=e.el,this.$header=e.header,this.page=e.page,this.id=e.id,this.action=e.action,this.queryString=e.queryString},events:{"[data-js-add-project]":"addProject"},render:function(){return this.$el.html(r.templates(this.tpl)),this.renderHeader(),this.renderBody(),this},renderHeader:function(){this.destroyHeader(),this.header=new c({page:this.page,id:this.id,action:this.action,queryString:this.queryString}),this.$header.append(this.header.$el)},renderBody:function(){var e;this.destroyBody(),this.page==="project-details"?(e=new h,l.getProjectInfo(this.id).done(function(t){e.parse(t),p.project=t,this.renderProject()}.bind(this)).fail(function(e){r.ajaxFailMessenger(e,"projectLoad")})):this.renderProjectsList()},renderProjectsList:function(){this.body=new f({action:this.action||"internal"}),t("[data-js-admin-projects]",this.$el).append(this.body.$el)},renderProject:function(){var e=this.action;switch(e){case"settings":this.body=new o({projectId:this.id,adminPage:!0,tab:this.queryString}),t("[data-js-admin-projects]",this.$el).html(this.body.$el),this.body.onShow&&this.body.onShow();break;case"members":this.body=new s({projectId:this.id,grandAdmin:!0}),t("[data-js-admin-projects]",this.$el).append(this.body.$el);break;case"events":this.body=new u({projectId:this.id,adminPage:!0}),t("[data-js-admin-projects]",this.$el).append(this.body.$el);break;default:this.body=(new a({contextName:this.page,context:{},el:t("[data-js-admin-projects]",this.$el),id:this.id,queryString:this.queryString,adminPage:!0})).render()}},update:function(e){this.body.update(e.queryString)},addProject:function(e){e.preventDefault()},destroyHeader:function(){this.header&&(this.header.destroy(),this.header=null),this.$header.empty()},destroyBody:function(){this.body&&(this.body.destroy(),this.body=null)},onDestroy:function(){this.destroyHeader(),this.destroyBody(),this.$el.html("")}});return{ContentView:d}}),define("adminUsers/UsersHeaderView",["require","exports","module","jquery","backbone","backbone-epoxy","util","app","localization","components/MainBreadcrumbsComponent"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("util"),u=e("app"),a=e("localization"),f=e("components/MainBreadcrumbsComponent"),l=u.getInstance(),c=s.View.extend({tpl:"tpl-users-header",initialize:function(e){this.mainBreadcrumbs=new f({data:this.getHeaderData()}),this.render()},render:function(){this.$el.html(o.templates(this.tpl)),r("[data-js-main-breadcrumbs]",this.$el).append(this.mainBreadcrumbs.$el)},getHeaderData:function(){var e=[{name:a.admin.users,link:"#administrate/users"}];return e},destroy:function(){this.mainBreadcrumbs&&this.mainBreadcrumbs.destroy(),this.undelegateEvents(),this.stopListening(),this.unbind(),this.remove(),delete this}});return c}),define("memberService",["require","exports","module","jquery","dataUrlResolver","callService","app"],function(e,t,n){"use strict";var r=e("jquery"),i=e("dataUrlResolver"),s=e("callService"),o=e("app"),u=s.call,a=o.getInstance(),f=function(e){return e||(e={}),e.page||(e.page=1),e.size||(e.size=10),"?page.page="+e.page+"&page.size="+e.size+"&page.sort=login,ASC"},l=function(e,t){var n=f(t);return t.search&&(n+="&filter.cnt.name="+t.search),u("GET",i.getMembers(e,n))},c=function(e,t){var n=f(t);return t.search&&(n+="&filter.cnt.name="+t.search),u("GET",i.getAssignableMembers(e,n))},h=function(e,t){return u("PUT",i.updateProjectUnassign(t),{userNames:[e]})},p=function(e,t,n){var r={};return r[t]=e,u("PUT",i.updateProject(n),{users:r})},d=function(e,t){return u("PUT",i.updateProjectAssign(t),{userNames:e})},v=function(e){return u("POST",i.addMemberUrl(),e)},m=function(e){return u("POST",i.sendInviteUrl(),e)},g=function(e,t){return u("POST",i.registerUserUrl(t),e,null,!0)},y=function(e,t,n){return u("PUT",i.modifyUserUrl(t),e)},b=function(e){return u("GET",i.validateRegisterBidUrl(e))};return{assignMember:d,getMembers:l,getAssignableMembers:c,unAssignMember:h,updateMember:p,updateUser:y,addMember:v,inviteMember:m,validateRegisterBid:b,registerUser:g}}),define("adminUsers/UserProjectsItemView",["require","jquery","underscore","backbone-epoxy","util","app","callService","memberService","dataUrlResolver","modals/modalConfirm","localization","components/DropDownComponent"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("app"),o=e("callService"),u=e("memberService"),a=e("dataUrlResolver"),f=e("modals/modalConfirm"),l=e("localization"),c=e("components/DropDownComponent"),h=s.getInstance(),p=r.View.extend({tpl:"tpl-users-projects-item",className:"row rp-table-row user-projects-row",bindings:{"[data-js-project]":"text: projectId","[data-js-project-role]":"text: getProjectRole","[data-js-dropdown-roles]":"updateRoleDropDown: projectRole","[data-js-unassign]":"classes: {disabled: not(canUnAssign)}, attr: {disabled: not(canUnAssign)}"},computeds:{canUnAssign:{deps:["projectId","entryType"],get:function(){return!this.isPersonalProjectOwner()&&!this.unassignedLock()}},getProjectRole:{deps:["projectRole"],get:function(e){var t=i.getRolesMap();return t[e]}}},bindingHandlers:{updateRoleDropDown:{set:function(e,r){n.each(t("a",e),function(e){var n=t(e).data("value")===r?"add":"remove";t(e)[n+"Class"]("active")})}}},events:{"click [data-js-unassign]":"confirmUnassign","click [data-js-project]":"redirectToProject"},initialize:function(e){this.userModel=e.userModel,this.render()},render:function(){this.$el.html(i.templates(this.tpl,{roles:i.getRolesMap(),isPersonal:this.isPersonalProjectOwner()})),this.setupSelectDropDown()},setupSelectDropDown:function(){this.projectRoleSelector=new c({data:n.map(i.getRolesMap(),function(e,t){return{name:e,value:t}}),multiple:!1,defaultValue:this.model.get("projectRole")}),t("[data-js-user-select-role]",this.$el).html(this.projectRoleSelector.$el),this.listenTo(this.projectRoleSelector,"change",this.updateProjectRole)},isPersonalProjectOwner:function(){var e=this.model.get("projectId"),t=this.model.get("entryType")==="PERSONAL";return t&&e===this.userModel.get("userId")+"_personal"},unassignedLock:function(){return i.isUnassignedLock(this.userModel.toJSON(),this.model.toJSON())},updateProjectRole:function(e){var t=e;h.trackingDispatcher.trackEventNumber(465),u.updateMember(t,this.userModel.get("userId"),this.model.get("projectId")).done(function(){this.model.set("projectRole",t),i.ajaxSuccessMessenger("updateProjectRole",this.userModel.get("full_name")||this.userModel.get("userId"))}.bind(this)).fail(function(e){i.ajaxFailMessenger(e,"updateProjectRole")})},confirmUnassign:function(e){var t=this,n;h.trackingDispatcher.trackEventNumber(466.1),e.preventDefault(),n=new f({headerText:l.dialogHeader.unAssignMember,bodyText:i.replaceTemplate(l.dialog.unAssignMember,this.userModel.get("userId").escapeHtml(),this.model.get("projectId")),okButtonDanger:!0,cancelButtonText:l.ui.cancel,okButtonText:l.ui.unassign,confirmFunction:function(){return t.unAssign()}}),n.show()},redirectToProject:function(e){h.router.navigate("#administrate/project-details/"+this.model.get("projectId"),{trigger:!0})},unAssign:function(){return o.call("PUT",a.updateProjectUnassign(this.model.get("projectId")),{userNames:[this.userModel.get("userId")]}).done(function(){i.ajaxSuccessMessenger("unAssignMember"),this.model.collection&&this.model.collection.remove(this.model)}.bind(this)).fail(function(e){i.ajaxFailMessenger(e,"unAssignMember")})},onDestroy:function(){this.projectRoleSelector.destroy(),this.$el.html(""),delete this}});return p}),define("adminUsers/UserProjectsCollection",["require","exports","module","jquery","backbone","backbone-epoxy"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=i.Collection.extend({model:s.Model,parse:function(e){var t=[];_.each(e,function(e,n){t.push(_.extend(e,{projectId:n}))},this),this.reset(t)},comparator:function(e,t){return e.get("projectId")>t.get("projectId")?1:e.get("projectId")<t.get("projectId")?-1:0}});return o}),function(e){typeof define=="function"&&define.amd?define("validate",["jquery"],e):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.");return}var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0),e(t.target).attr("formnovalidate")!==undefined&&(n.cancelSubmit=!0)}),this.submit(function(t){function r(){var r,i;return n.settings.submitHandler?(n.submitButton&&(r=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),i=n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&r.remove(),i!==undefined?i:!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,r()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):r():(n.focusInvalid(),!1)})),n)},valid:function(){var t,n;return e(this[0]).is("form")?t=this.validate().form():(t=!0,n=e(this[0].form).validate(),this.each(function(){t=n.element(this)&&t})),t},removeAttrs:function(t){var n={},r=this;return e.each(t.split(/\s/),function(e,t){n[t]=r.attr(t),r.removeAttr(t)}),n},rules:function(t,n){var r=this[0],i,s,o,u,a,f;if(t){i=e.data(r.form,"validator").settings,s=i.rules,o=e.validator.staticRules(r);switch(t){case"add":e.extend(o,e.validator.normalizeRule(n)),delete o.messages,s[r.name]=o,n.messages&&(i.messages[r.name]=e.extend(i.messages[r.name],n.messages));break;case"remove":if(!n)return delete s[r.name],o;return f={},e.each(n.split(/\s/),function(t,n){f[n]=o[n],delete o[n],n==="required"&&e(r).removeAttr("aria-required")}),f}}return u=e.validator.normalizeRules(e.extend({},e.validator.classRules(r),e.validator.attributeRules(r),e.validator.dataRules(r),e.validator.staticRules(r)),r),u.required&&(a=u.required,delete u.required,u=e.extend({required:a},u),e(r).attr("aria-required","true")),u.remote&&(a=u.remote,delete u.remote,u=e.extend(u,{remote:a})),u}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return arguments.length===1?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){!this.checkable(e)&&(e.name in this.submitted||!this.optional(e))&&this.element(e)},onkeyup:function(e,t){if(t.which===9&&this.elementValue(e)==="")return;(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,r){t.type==="radio"?this.findByName(t.name).addClass(n).removeClass(r):e(t).addClass(n).removeClass(r)},unhighlight:function(t,n,r){t.type==="radio"?this.findByName(t.name).removeClass(n).addClass(r):e(t).removeClass(n).addClass(r)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function r(t){var n=e.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,""),i=n.settings;i[r]&&!this.is(i.ignore)&&i[r].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t=this.groups={},n;e.each(this.settings.groups,function(n,r){typeof r=="string"&&(r=r.split(/\s/)),e.each(r,function(e,r){t[r]=n})}),n=this.settings.rules,e.each(n,function(t,r){n[t]=e.validator.normalizeRule(r)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",r).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",r),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var n=this.clean(t),r=this.validationTargetFor(n),i=!0;return this.lastElement=r,r===undefined?delete this.invalid[n.name]:(this.prepareElement(r),this.currentElements=e(r),i=this.check(r)!==!1,i?delete this.invalid[r.name]:this.invalid[r.name]=!0),e(t).attr("aria-invalid",!i),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0,n;for(n in e)t++;return t},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&e.grep(this.errorList,function(e){return e.element.name===t.name}).length===1&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n,r=e(t),i=t.type;return i==="radio"||i==="checkbox"?e("input[name='"+t.name+"']:checked").val():i==="number"&&typeof t.validity!="undefined"?t.validity.badInput?!1:r.val():(n=r.val(),typeof n=="string"?n.replace(/\r/g,""):n)},check:function(t){t=this.validationTargetFor(this.clean(t));var n=e(t).rules(),r=e.map(n,function(e,t){return t}).length,i=!1,s=this.elementValue(t),o,u,a;for(u in n){a={method:u,parameters:n[u]};try{o=e.validator.methods[u].call(this,s,t,a.parameters);if(o==="dependency-mismatch"&&r===1){i=!0;continue}i=!1;if(o==="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!o)return this.formatAndAdd(t,a),!1}catch(f){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+a.method+"' method.",f),f}}if(i)return;return this.objectLength(n)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==undefined)return arguments[e];return undefined},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||undefined,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var r=this.defaultMessage(t,n.method),i=/\$?\{(\d+)\}/g;typeof r=="function"?r=r.call(this,n.parameters,t):i.test(r)&&(r=e.validator.format(r.replace(i,"{$1}"),n.parameters)),this.errorList.push({message:r,element:t,method:n.method}),this.errorMap[t.name]=r,this.submitted[t.name]=r},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var r,i,s,o=this.errorsFor(t),u=this.idOrName(t),a=e(t).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(n)):(o=e("<"+this.settings.errorElement+">").attr("id",u+"-error").addClass(this.settings.errorClass).html(n||""),r=o,this.settings.wrapper&&(r=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(r):this.settings.errorPlacement?this.settings.errorPlacement(r,e(t)):r.insertAfter(t),o.is("label")?o.attr("for",u):o.parents("label[for='"+u+"']").length===0&&(s=o.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"),a?a.match(new RegExp("\\b"+s+"\\b"))||(a+=" "+s):a=s,e(t).attr("aria-describedby",a),i=this.groups[t.name],i&&e.each(this.groups,function(t,n){n===i&&e("[name='"+t+"']",this.currentForm).attr("aria-describedby",o.attr("id"))}))),!n&&this.settings.success&&(o.text(""),typeof this.settings.success=="string"?o.addClass(this.settings.success):this.settings.success(o,t)),this.toShow=this.toShow.add(o)},errorsFor:function(t){var n=this.idOrName(t),r=e(t).attr("aria-describedby"),i="label[for='"+n+"'], label[for='"+n+"'] *";return r&&(i=i+", #"+r.replace(/\s+/g,", #")),this.errors().filter(i)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&this.pendingRequest===0&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&this.pendingRequest===0&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},r=e(t).attr("class");return r&&e.each(r.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n={},r=e(t),i=t.getAttribute("type"),s,o;for(s in e.validator.methods)s==="required"?(o=t.getAttribute(s),o===""&&(o=!0),o=!!o):o=r.attr(s),/min|max/.test(s)&&(i===null||/number|range|text/.test(i))&&(o=Number(o)),o||o===0?n[s]=o:i===s&&i!=="range"&&(n[s]=!0);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var n,r,i={},s=e(t);for(n in e.validator.methods)r=s.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),r!==undefined&&(i[n]=r);return i},staticRules:function(t){var n={},r=e.data(t.form,"validator");return r.settings.rules&&(n=e.validator.normalizeRule(r.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(r,i){if(i===!1){delete t[r];return}if(i.param||i.depends){var s=!0;switch(typeof i.depends){case"string":s=!!e(i.depends,n.form).length;break;case"function":s=i.depends.call(n,n)}s?t[r]=i.param!==undefined?i.param:!0:delete t[r]}}),e.each(t,function(r,i){t[r]=e.isFunction(i)?i(n):i}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:typeof t[this]=="string"&&(n=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(t.min!=null&&t.max!=null&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength!=null&&t.maxlength!=null&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if(typeof t=="string"){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,r){e.validator.methods[t]=n,e.validator.messages[t]=r!==undefined?r:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,r){if(!this.depend(r,n))return"dependency-mismatch";if(n.nodeName.toLowerCase()==="select"){var i=e(n).val();return i&&i.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test((new Date(e)).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n=0,r=0,i=!1,s,o;e=e.replace(/\D/g,"");if(e.length<13||e.length>19)return!1;for(s=e.length-1;s>=0;s--)o=e.charAt(s),r=parseInt(o,10),i&&(r*=2)>9&&(r-=9),n+=r,i=!i;return n%10===0},minlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||i>=r},maxlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||i<=r},rangelength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||i>=r[0]&&i<=r[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(t,n,r){var i=e(r);return this.settings.onfocusout&&i.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===i.val()},remote:function(t,n,r){if(this.optional(n))return"dependency-mismatch";var i=this.previousValue(n),s,o;return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),i.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=i.message,r=typeof r=="string"&&{url:r}||r,i.old===t?i.valid:(i.old=t,s=this,this.startRequest(n),o={},o[n.name]=t,e.ajax(e.extend(!0,{url:r,mode:"abort",port:"validate"+n.name,dataType:"json",data:o,context:s.currentForm,success:function(r){var o=r===!0||r==="true",u,a,f;s.settings.messages[n.name].remote=i.originalMessage,o?(f=s.formSubmitted,s.prepareElement(n),s.formSubmitted=f,s.successList.push(n),delete s.invalid[n.name],s.showErrors()):(u={},a=r||s.defaultMessage(n,"remote"),u[n.name]=i.message=e.isFunction(a)?a(t):a,s.invalid[n.name]=!0,s.showErrors(u)),i.valid=o,s.stopRequest(n,o)}},r)),"pending")}}}),e.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var t={},n;e.ajaxPrefilter?e.ajaxPrefilter(function(e,n,r){var i=e.port;e.mode==="abort"&&(t[i]&&t[i].abort(),t[i]=r)}):(n=e.ajax,e.ajax=function(r){var i=("mode"in r?r:e.ajaxSettings).mode,s=("port"in r?r:e.ajaxSettings).port;return i==="abort"?(t[s]&&t[s].abort(),t[s]=n.apply(this,arguments),t[s]):n.apply(this,arguments)}),e.extend(e.fn,{validateDelegate:function(t,n,r){return this.bind(n,function(n){var i=e(n.target);if(i.is(t))return r.apply(i,arguments)})}})}),define("adminUsers/UserAddProjectView",["require","exports","module","jquery","backbone","backbone-epoxy","util","app","localization","adminService","projectMembers/MembersService","validate"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("util"),u=e("app"),a=e("localization"),f=e("adminService"),l=e("projectMembers/MembersService");e("validate");var c=u.getInstance(),h=s.View.extend({tpl:"tpl-users-project-add",className:"row rp-table-row user-projects-row",bindings:{"[data-js-project]":"value: projectId","[data-js-project-role]":"text: getProjectRole","[data-js-dropdown-roles]":"updateRoleDropDown: projectRole","[data-js-assign]":"classes: {disabled: not(canAssign)}, attr: {disabled: not(canAssign)}"},computeds:{canAssign:{deps:["projectId","projectRole"],get:function(e,t){return e&&t}},getProjectRole:{deps:["projectRole"],get:function(e){var t=o.getRolesMap();return t[e]}}},bindingHandlers:{updateRoleDropDown:{set:function(e,t){_.each(r("a",e),function(e){var n=r(e).data("value")===t?"add":"remove";r(e)[n+"Class"]("active")})}}},events:{"click [data-js-dropdown-roles] a":"selectProjectRole","click [data-js-assign]":"assignToProject"},initialize:function(e){this.userModel=e.userModel,this.model=new s.Model({projectId:"",entryType:"",projectRole:c.defaultProjectRole}),this.render(),this.setupAnchors()},render:function(){this.$el.html(o.templates(this.tpl,{roles:o.getRolesMap()})),this.setupAnchors(),this.setupValidation(),this.setupProjectSearch()},setupAnchors:function(){this.$form=r("[data-js-assign-form]",this.$el),this.$selectProject=r("[data-js-project]",this.$el)},setupProjectSearch:function(){var e=this;o.setupSelect2WhithScroll(this.$selectProject,{multiple:!1,min:c.forms.projectNameRange[0],minimumInputLength:c.forms.projectNameRange[0],maximumInputLength:c.forms.projectNameRange[1],placeholder:a.admin.enterProjectName,allowClear:!0,initSelection:function(e,t){t({id:e.val(),text:e.val()})},query:function(t){f.getProjects(e.getSearchQuery(t.term)).done(function(n){var r={results:[]};_.each(n.content,function(t){var n=_.keys(e.userModel.getAssignedProjects());_.contains(n,t.projectId)||r.results.push({id:t.projectId,text:t.projectId})}),t.callback(r)}).fail(function(e){o.ajaxFailMessenger(e)})}})},setupValidation:function(){r.validator.setDefaults({debug:!0,success:"valid"}),this.validator=this.$form.validate({errorClass:"has-error",rules:{project:{required:!0}},messages:{project:{required:a.validation.requiredDefault}},ignore:'input[id^="s2id"]',errorPlacement:function(e,t){e.appendTo(r("[data-js-error-text]",t.closest("[data-js-assign-form-group]")))},highlight:function(e,t){r(e).closest("[data-js-assign-form-group]").addClass(t)},unhighlight:function(e,t){r(e).closest("[data-js-assign-form-group]").removeClass(t)}})},getSearchQuery:function(e){return"?page.sort=name,asc&page.page=1&page.size=10&&filter.cnt.name="+e},selectProjectRole:function(e){e.preventDefault();var t=r(e.currentTarget);if(t.hasClass("active")||t.hasClass("disabled"))return;var n=t.data("value");this.model.set("projectRole",n)},assignToProject:function(e){c.trackingDispatcher.trackEventNumber(466.2),e.preventDefault();var t={};t[this.userModel.get("userId")]=this.model.get("projectRole"),l.assignMember(t,this.model.get("projectId")).done(function(){this.trigger("user:assigned"),o.ajaxSuccessMessenger("assignMember",this.userModel.get("full_name")||this.userModel.get("userId"))}.bind(this)).fail(function(e){o.ajaxFailMessenger(e,"assignMember")})},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.remove(),delete this}});return h}),define("adminUsers/UserProjectsView",["require","jquery","underscore","backbone-epoxy","util","app","adminUsers/UserProjectsItemView","adminUsers/UserProjectsCollection","coreService","adminUsers/UserAddProjectView"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("app"),o=e("adminUsers/UserProjectsItemView"),u=e("adminUsers/UserProjectsCollection"),a=e("coreService"),f=e("adminUsers/UserAddProjectView"),l=s.getInstance(),c=r.View.extend({tpl:"tpl-users-projects",className:"user-projects-list",bindings:{},computeds:{},events:{"click [data-js-add-project]":"addUserProject"},initialize:function(){this.renderViews=[],this.collection=new u,this.listenTo(this.collection,"reset",this.renderProjectsList),this.listenTo(this.collection,"remove",this.removeProjectItem),this.render(),this.setupAnchors(),this.showProjects()},showProjects:function(){var e=this.model.get("assigned_projects");this.collection.parse(JSON.parse(e)),this.toggleLoader("hide")},render:function(){this.$el.html(i.templates(this.tpl,{}))},setupAnchors:function(){this.$addProjectRow=t("[data-js-add-project-row]",this.$el),this.$loader=t("[data-js-loader]",this.$el)},loadProjects:function(){this.toggleLoader("show"),a.getUserAssignedProjects(this.model.get("userId")).done(function(e){var t=JSON.stringify(e);this.model.set("assigned_projects",t),this.collection.parse(e),this.toggleLoader("hide")}.bind(this))},removeProjectItem:function(){this.loadProjects(),this.renderProjectsList()},renderProjectsList:function(){this.clearItems(),n.each(this.collection.models,function(e){var n=new o({model:e,userModel:this.model});t("[data-js-project-list]",this.$el).append(n.$el),this.renderViews.push(n)},this)},toggleAddProject:function(e){var t=e==="hide"?"add":"remove";this.$addProjectRow[t+"Class"]("hide")},toggleLoader:function(e){var t=e==="hide"?"add":"remove";this.$loader[t+"Class"]("hide")},addUserProject:function(e){var n;l.trackingDispatcher.trackEventNumber(467),e.preventDefault(),this.toggleAddProject("hide"),n=new f({userModel:this.model}),t("[data-js-add-form]",this.$el).append(n.$el),this.listenToOnce(n,"user:assigned",function(){this.loadProjects(),this.toggleAddProject("show"),n.destroy()}.bind(this))},clearItems:function(){n.each(this.renderViews,function(e){e.destroy()}),t("[data-js-project-list]",this.$el).html(""),this.renderViews=[]},destroy:function(){this.clearItems(),this.undelegateEvents(),this.stopListening(),this.unbind(),this.remove(),delete this}});return c}),define("adminUsers/UsersItemView",["require","jquery","underscore","backbone-epoxy","util","app","localization","model/SingletonAppModel","modals/modalConfirm","callService","dataUrlResolver","adminUsers/UserProjectsView"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("app"),o=e("localization"),u=e("model/SingletonAppModel"),a=e("modals/modalConfirm"),f=e("callService"),l=e("dataUrlResolver"),c=e("adminUsers/UserProjectsView"),h=s.getInstance(),p=r.View.extend({tpl:"tpl-users-item",className:"row rp-table-row user-row",bindings:{"[data-js-time-from-now]":"text: lastLoginFromNow","[data-js-time-exact]":"text: lastLoginFormat","[data-js-user-avatar]":"attr: {src: imagePath}","[data-js-user-name]":"html: getFullName","[data-js-user-login]":"html: getLogin","[data-js-user-email]":"html: getEmail, attr: {href: getEmailLink}","[data-js-user-you]":"classes: {hide: not(isYou)}","[data-js-delete-user]":"classes: {you: isYou}","[data-js-user-admin]":"classes: {hide: not(isAdmin), notlink: isYou}","[data-js-make-admin]":"classes: {hide: hideMakeAdmin}","[data-js-user-projects-mobile]":"getUserProjects: assigned_projects"},computeds:{getFullName:{deps:["full_name"],get:function(e){return this.wrapSearchResult(e)}},getLogin:{deps:["userId"],get:function(e){return this.wrapSearchResult(e)}},getEmail:{deps:["email"],get:function(e){return this.wrapSearchResult(e)}},getEmailLink:{deps:["email"],get:function(e){return"mailto: "+e}},canDelete:{deps:["isAdmin"],get:function(){return""}},hideMakeAdmin:{deps:["isAdmin","isYou"],get:function(e,t){return e||t}}},bindingHandlers:{getUserProjects:{set:function(e){var t=this.view.model.getAssignedProjects();n.each(t,function(t,n){e.append("<p><span>"+o.admin.projectName+":</span><strong>"+n+"</strong><br> <span>"+o.admin.projectRole+":</span>"+t.projectRole+"</p>")})}}},events:{"click [data-js-login-time]":"toggleTimeView","click [data-js-view-projects]":"showUserProjects","click [data-js-delete-user]":"deleteUser","click [data-js-user-admin]":"confirmChangeRole","click [data-js-make-admin]":"confirmChangeRole"},initialize:function(e){this.table=e.table,this.searchString=e.searchString||"",this.appModel=new u,this.render()},render:function(){this.$el.html(i.templates(this.tpl,{isYou:this.model.get("isYou")}))},showUserProjects:function(e){var r=t(e.currentTarget);e.preventDefault(),n.each(this.table.renderViews,function(e){var n=e;n.userProjectsView&&n.model.get("userId")!==this.model.get("userId")&&(t("[data-js-view-projects]",n.$el).removeClass("active"),n.userProjectsView.destroy(),n.userProjectsView=null)},this),this.userProjectsView?(r.removeClass("active"),this.userProjectsView.destroy(),this.userProjectsView=null):(h.trackingDispatcher.trackEventNumber(464),r.addClass("active"),this.userProjectsView=new c({model:this.model}),t("[data-js-user-projects]",this.$el).html(this.userProjectsView.$el))},wrapSearchResult:function(e){return this.searchString?i.textWrapper(e,this.searchString):e},confirmChangeRole:function(e){var n;e.preventDefault(),this.model.get("isYou")||(h.trackingDispatcher.trackEventNumber(463),n=new a({headerText:o.dialogHeader.changeRole,bodyText:i.replaceTemplate(o.dialog.changeRole,this.model.get("full_name")||this.model.get("userId")),cancelButtonText:o.ui.cancel,okButtonDanger:!0,okButtonText:o.dialog.changeRoleBtn,confirmFunction:this.changeRole.bind(this)}),t("[data-js-close]",n.$el).on("click",function(){h.trackingDispatcher.trackEventNumber(472)}),t("[data-js-cancel]",n.$el).on("click",function(){h.trackingDispatcher.trackEventNumber(473)}),n.show())},changeRole:function(){var e=this.model.get("userId"),t=this.model.get("full_name"),n=this.model.get("userRole")===h.accountRolesEnum.user?h.accountRolesEnum.administrator:h.accountRolesEnum.user;return h.trackingDispatcher.trackEventNumber(474),f.call("PUT",l.modifyUserUrl(e),{role:n}).done(function(){this.model.set("userRole",n),i.ajaxSuccessMessenger("changeRole",t||e)}.bind(this)).fail(function(n){i.ajaxFailMessenger(n,"changeRole",t||e)})},deleteUser:function(e){var n;h.trackingDispatcher.trackEventNumber(468),e.preventDefault(),h.userModel.get("user_login")!==this.model.get("userId")&&(n=new a({headerText:o.dialogHeader.deleteUser,bodyText:i.replaceTemplate(o.dialog.deleteUser,this.model.get("full_name")||this.model.get("userId")),cancelButtonText:o.ui.cancel,okButtonDanger:!0,okButtonText:o.ui.delete,confirmFunction:function(){return h.trackingDispatcher.trackEventNumber(477),this.model.delete()}.bind(this),safeRemoval:!0}),t("[data-js-close]",n.$el).on("click",function(){h.trackingDispatcher.trackEventNumber(475)}),t("[data-js-cancel]",n.$el).on("click",function(){h.trackingDispatcher.trackEventNumber(476)}),n.show())},toggleTimeView:function(e){var n=t(e.currentTarget);e.preventDefault(),n.closest("[data-js-users-table]").toggleClass("show-from-now")},destroy:function(){this.userProjectsView&&this.userProjectsView.destroy(),this.undelegateEvents(),this.stopListening(),this.unbind(),this.remove(),delete this}});return p}),define("modals/modalInviteUser",["require","jquery","underscore","modals/_modalView","backbone-epoxy","app","util","projectMembers/MembersService","adminService","model/SingletonAppModel","localization","components/DropDownComponent"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("modals/_modalView"),i=e("backbone-epoxy"),s=e("app"),o=s.getInstance(),u=e("util"),a=e("projectMembers/MembersService"),f=e("adminService"),l=e("model/SingletonAppModel"),c=e("localization"),h=e("components/DropDownComponent"),p=r.extend({template:"tpl-modal-invite-user",className:"modal-invite-user",events:{"click [data-js-invite]":"onClickInvite","click [data-js-ok]":"onClickOk","focus [data-js-invite-link]":"selectLink","click [data-js-copy-link]":"copyLink","click [data-js-close]":"onClickClose","click [data-js-cancel]":"onClickCancel","change [data-js-user-project]":"validate","change [data-js-email]":"disableHideBackdrop"},bindings:{"[data-js-email]":"value: email","[data-js-user-project]":"value: default_project"},initialize:function(){this.appModel=new l,this.model=new i.Model({email:"",default_project:"",projectRole:o.defaultProjectRole}),this.render()},render:function(){var e=[{btnText:c.ui.cancel,btnClass:"rp-btn-cancel button-cancel",label:"data-js-cancel"},{btnText:c.admin.invite,btnClass:"rp-btn-submit button-invite",label:"data-js-invite"},{btnText:c.ui.ok,btnClass:"rp-btn-submit button-ok",label:"data-js-ok"}];this.$el.html(u.templates(this.template,{footerButtons:e})),this.setupDropDowns(),this.setupProjectSearch(),this.setupValidators()},setupDropDowns:function(){var e=this;this.projectRoleSelector=new h({data:n.map(u.getRolesMap(),function(t,n){return{name:t,value:n,disabled:!e.canSelectRole.bind(e)(t)}}),multiple:!1,defaultValue:this.model.get("projectRole")}),t("[data-js-role-selector]",this.$el).html(this.projectRoleSelector.$el),this.listenTo(this.projectRoleSelector,"change",this.selectRole)},setupProjectSearch:function(){var e=this;u.setupSelect2WhithScroll(t("[data-js-user-project]",this.$el),{multiple:!1,min:o.forms.projectNameRange[0],minimumInputLength:o.forms.projectNameRange[0],maximumInputLength:o.forms.projectNameRange[1],placeholder:c.admin.enterProjectName,allowClear:!0,initSelection:function(e,t){t({id:e.val(),text:e.val()})},query:function(t){f.getProjects(e.getSearchQuery(t.term)).done(function(r){var i={results:[]};n.each(r.content,function(t){t.projectId!==e.model.get("default_project")&&i.results.push({id:t.projectId,text:t.projectId})}),t.callback(i)}).fail(function(e){u.ajaxFailMessenger(e)})}})},setupValidators:function(){u.hintValidator(t("[data-js-email]",this.$el),[{validator:"required"},{validator:"matchRegex",type:"emailMatchRegex",pattern:o.patterns.email},{validator:"remoteEmail",remote:!0,message:c.validation.registeredEmail,type:"remoteEmail"}]),u.hintValidator(t("[data-js-user-project]",this.$el),{validator:"required"})},selectLink:function(e){e.preventDefault(),t(e.currentTarget).select()},getSearchQuery:function(e){return"?page.sort=name,asc&page.page=1&page.size="+o.autocompletePageSize+"&filter.cnt.name="+e},canSelectRole:function(e){var t=o.userModel,r=t.getRoleForCurrentProject(),i=n.indexOf(o.projectRoles,r),s=n.indexOf(o.projectRoles,e),u=t.get("isAdmin");return u||t.hasPermissions()&&i>=s},copyLink:function(e){e.preventDefault(),t("[data-js-invite-link]",this.$el).select();try{document.execCommand("copy")}catch(n){console.log(n)}},inviteUser:function(){var e=this.getUserData();e&&(this.showLoading(),a.inviteMember(e).done(function(e){this.showSuccess(e),u.ajaxSuccessMessenger("inviteMember")}.bind(this)).fail(function(e){var t;if(e)try{t=JSON.parse(e.responseText)}catch(n){console.log(n)}t?u.addMessage({clazz:"alert",message:t.message}):u.ajaxFailMessenger(e,"inviteMember")}).always(function(){this.hideLoading()}.bind(this)))},selectRole:function(e){this.model.set("projectRole",e),this.disableHideBackdrop()},getUserData:function(){return{default_project:this.model.get("default_project"),email:this.model.get("email"),role:this.model.get("projectRole")}},validate:function(){t("[data-js-email]",this.$el).trigger("validate"),t("[data-js-user-project]",this.$el).trigger("validate"),this.disableHideBackdrop()},showSuccess:function(e){this.$el.addClass("success-invite"),t("[data-js-invite-link]",this.$el).val(e.backLink),t("[data-js-email-sent]",this.$el).text(this.model.get("email"))},onClickOk:function(){this.successClose()},onClickInvite:function(){o.trackingDispatcher.trackEventNumber(471),this.validate();if(t(".validate-error",t("[data-js-invite-user-form]",this.$el)).length)return;this.inviteUser()},onKeySuccess:function(){this.$el.hasClass("success-invite")?t("[data-js-ok]",this.$el).focus().trigger("click"):t("[data-js-invite]",this.$el).focus().trigger("click")},onClickClose:function(){o.trackingDispatcher.trackEventNumber(469)},onClickCancel:function(){o.trackingDispatcher.trackEventNumber(470)},onDestroy:function(){this.projectRoleSelector.destroy()}});return p}),define("adminUsers/UsersTableView",["require","jquery","backbone","backbone-epoxy","util","core/components","app","localization","adminUsers/UsersItemView","projectMembers/MembersCollection","adminService","modals/modalAddUser","modals/modalInviteUser","underscore"],function(e){"use strict";var t=e("jquery"),n=e("backbone"),r=e("backbone-epoxy"),i=e("util"),s=e("core/components"),o=e("app"),u=e("localization"),a=e("adminUsers/UsersItemView"),f=e("projectMembers/MembersCollection"),l=e("adminService"),c=e("modals/modalAddUser"),h=e("modals/modalInviteUser"),p=e("underscore"),d=o.getInstance(),v=r.View.extend({tpl:"tpl-users-shell",emptyMembersTpl:"tpl-project-members-empty",bindings:{"[data-js-users-search]":"attr: {placeholder: getPlaceHolder}"},computeds:{getPlaceHolder:function(){return u.members.searchNameLoginEmail}},initialize:function(){this.model=new n.Model({search:"",empty:!1,notFound:!1}),this.renderViews=[],this.collection=new f,this.listenTo(this.collection,"reset",this.renderUsersList),this.listenTo(this.collection,"remove",this.updateUsers),this.listenTo(this.model,"change:search",function(){d.trackingDispatcher.trackEventNumber(460)}),this.pageType="PaginateAdminMembers",this.render()},events:{"validation::change [data-js-users-search]":"onChangeFilterName","click [data-js-add-user]":"showAddUser","click [data-js-invite-user]":"showInviteUser"},render:function(){return this.$el.html(i.templates(this.tpl,{})),this.setupAnchors(),i.bootValidator(this.$searchFilter,[{validator:"minMaxNotRequired",type:"memberName",min:1,max:128}]),this.paging=new s.PagingToolbarSaveUser({el:this.$pagingBlock,model:new n.Model,pageType:this.pageType}),this.listenTo(this.paging,"page",this.updateUsers),this.listenTo(this.paging,"count",this.updateUsers),this.paging.ready.done(function(){this.paging.urlModel.get("filter.cnt.name")&&(this.model.set({search:decodeURIComponent(this.paging.urlModel.get("filter.cnt.name"))}),this.$searchFilter.val(this.model.get("search"))),this.listenTo(this.model,"change:search",this.onChangeModelSearch),this.updateUsers()}.bind(this)),this},setupAnchors:function(){this.$usersList=t("[data-js-users-list]",this.$el),this.$pagingBlock=t("[data-js-users-paginate]",this.$el),this.$searchFilter=t("[data-js-users-search]",this.$el)},updateUsers:function(){this.paging.render(),this.loadUsers()},loadUsers:function(){l.getSearchUser(this.getSearchQuery()).done(function(e){if(e.page.totalPages<e.page.number&&e.page.totalPages!==0){this.paging.trigger("page",e.page.totalPages);return}this.paging.model.set(e.page),this.paging.render(),this.collection.parse(e.content?e.content:e)}.bind(this)).fail(function(e){this.collection.parse([]),i.ajaxFailMessenger(e,"loadUsers")}.bind(this))},onChangeModelSearch:function(){this.paging.trigger("page",1)},onChangeFilterName:function(e,t){t.valid&&(this.model.set({search:t.value}),this.paging.urlModel.set({"filter.cnt.name":t.value}))},getSearchQuery:function(){return{search:encodeURIComponent(this.model.get("search")),page:this.paging.model.get("number"),size:this.paging.model.get("size")}},renderEmptyUsers:function(){this.clearUsers(),this.$usersList.append(i.templates(this.emptyMembersTpl,{}))},renderUsersList:function(){this.clearUsers();if(p.isEmpty(this.collection.models)){this.renderEmptyUsers();return}p.each(this.collection.models,function(e){var t=new a({model:e,searchString:this.model.get("search"),table:this});this.$usersList.append(t.$el),this.renderViews.push(t)},this)},clearUsers:function(){p.each(this.renderViews,function(e){e.destroy()}),this.$usersList.html(""),this.renderViews=[]},showInviteUser:function(e){var t;d.trackingDispatcher.trackEventNumber(461),e.preventDefault(),t=new h,t.show()},showAddUser:function(e){var t;d.trackingDispatcher.trackEventNumber(462),e.preventDefault(),t=new c({type:"users"}),this.listenToOnce(t,"add:user",this.updateUsers),t.show()},destroy:function(){this.clearUsers(),this.undelegateEvents(),this.stopListening(),this.unbind(),this.$el.remove(),delete this}});return v}),define("adminUsers/UsersPageView",["require","exports","module","jquery","backbone","backbone-epoxy","util","app","adminUsers/UsersHeaderView","adminUsers/UsersTableView"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("util"),u=e("app"),a=e("adminUsers/UsersHeaderView"),f=e("adminUsers/UsersTableView"),l=u.getInstance(),c=s.View.extend({template:"tpl-users-body",initialize:function(e){this.context=e.context,this.$el=e.el,this.$header=e.header,this.action=e.action,this.queryString=e.queryString},render:function(){return this.renderHeader(),this.$el.html(o.templates(this.template),{}),this.renderBody(),this},renderBody:function(){this.body=new f({}),r("[data-js-all-users]",this.$el).append(this.body.$el)},update:function(){this.body&&(this.body.destroy(),this.body=null),this.renderBody()},renderHeader:function(){this.header=new a,this.$header.append(this.header.$el)},destroy:function(){this.header&&this.header.destroy(),this.body&&this.body.destroy(),this.$el.html(""),this.undelegateEvents(),this.stopListening(),this.unbind(),delete this}});return{ContentView:c}}),define("adminServerSettings/ServerSettingsHeaderView",["require","exports","module","jquery","backbone","backbone-epoxy","util","app","localization","components/MainBreadcrumbsComponent"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("util"),u=e("app"),a=e("localization"),f=e("components/MainBreadcrumbsComponent"),l=u.getInstance(),c=s.View.extend({tpl:"tpl-server-settings-header",initialize:function(e){this.mainBreadcrumbs=new f({data:this.getHeaderData()}),this.render()},render:function(){this.$el.html(o.templates(this.tpl)),r("[data-js-main-breadcrumbs]",this.$el).append(this.mainBreadcrumbs.$el)},getHeaderData:function(){var e=[{name:a.admin.serverSettings,link:"#administrate/settings"}];return e},destroy:function(){this.mainBreadcrumbs&&this.mainBreadcrumbs.destroy(),this.undelegateEvents(),this.stopListening(),this.unbind(),this.remove(),delete this}});return c}),define("adminServerSettings/EmailServerSettingsModel",["require","exports","module","jquery","backbone","backbone-epoxy","app"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("app"),u=o.getInstance(),a=s.Model.extend({defaults:{enableEmailServer:!1,authEnabled:!1,host:"",port:"",from:"",protocol:u.forAdminSettings.defaultProtocol,sslEnabled:!1,starTlsEnabled:!1,username:"",password:""},getEmailServerSettings:function(){var e={authEnabled:this.get("authEnabled"),starTlsEnabled:this.get("starTlsEnabled"),sslEnabled:this.get("sslEnabled"),host:r.trim(this.get("host")),password:this.get("authEnabled")?this.get("password"):"",port:r.trim(this.get("port")),from:r.trim(this.get("from")),protocol:this.get("protocol"),username:this.get("authEnabled")?this.get("username"):""};return this.get("enableEmailServer")?e:{}}});return a}),define("adminServerSettings/EmailServerSettingsView",["require","exports","module","jquery","backbone","backbone-epoxy","util","app","adminService","adminServerSettings/EmailServerSettingsModel","components/DropDownComponent","localization"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("util"),u=e("app"),a=e("adminService"),f=e("adminServerSettings/EmailServerSettingsModel"),l=e("components/DropDownComponent"),c=e("localization"),h=u.getInstance(),p=s.View.extend({className:"rp-email-server-settings",template:"tpl-email-server-settings",bindings:{"[data-js-server-enable]":"checked: enableEmailServer","[data-js-server-enable-mobile]":"html: getState","[data-js-server-config]":"classes: {hide: not(enableEmailServer)}","[data-js-server-host]":"value: host","[data-js-server-port]":"value: port","[dats-js-server-auth-config]":"classes: {hide: not(authEnabled)}","[data-js-server-username]":"value: username","[data-js-server-sender]":"value: from","[data-js-server-password]":"value: password","[data-js-server-tls]":"checked: starTlsEnabled","[data-js-server-ssl]":"checked: sslEnabled"},computeds:{getState:{deps:["enableEmailServer"],get:function(e){return e?"ON":"OFF"}}},events:{"click [data-js-submit-server-settings]":"submitEmailSettings"},initialize:function(e){this.model=new f,this.getSettings(),this.listenTo(this.model,"change:enableEmailServer",function(){h.trackingDispatcher.trackEventNumber(492)})},getSettings:function(e){a.getAdminSettings("default").done(function(e){this.serverSettings=e,this.model.set(_.extend({enableEmailServer:!!e.serverEmailConfig},e.serverEmailConfig)),this.render(e),this.bindValidators()}.bind(this))},render:function(e){this.$el.html(o.templates(this.template,{emailConfig:e.serverEmailConfig,settings:h.forAdminSettings})),this.applyBindings(),this.setupAnchors(),this.setupSelectDropDown(),this.bindValidators()},setupAnchors:function(){this.$host=r("[data-js-server-host]",this.$el),this.$port=r("[data-js-server-port]",this.$el),this.$user=r("[data-js-server-user]",this.$el),this.$sender=r("[data-js-server-sender]",this.$el),this.$password=r("[data-js-server-password]",this.$el),this.$errorBlock=r("[data-js-server-connection-error]",this.$el),this.$errorMessage=r("[data-js-server-connection-message]",this.$el)},setupSelectDropDown:function(){var e=h.forAdminSettings,t=[c.ui.on,c.ui.off];this.selectProtocol=new l({data:e.protocol,multiple:!1,defaultValue:this.model.get("protocol")}),r("[data-js-server-protocol]",this.$el).html(this.selectProtocol.$el),this.listenTo(this.selectProtocol,"change",this.onChangeProtocol),this.authEnabled=new l({data:[{name:t[0],value:t[0]},{name:t[1],value:t[1]}],multiple:!1,defaultValue:this.model.get("authEnabled")?t[0]:t[1]}),r("[data-js-server-auth]",this.$el).html(this.authEnabled.$el),this.listenTo(this.authEnabled,"change",this.onChangeAuth)},onChangeProtocol:function(e){this.model.set("protocol",e)},onChangeAuth:function(e){e=e==="ON",e||this.resetAuth(),this.model.set("authEnabled",e)},bindValidators:function(){o.hintValidator(this.$host,[{validator:"required"},{validator:"matchRegex",type:"hostMatchRegex",pattern:h.patterns.hostandIP}]),o.hintValidator(this.$port,[{validator:"required"},{validator:"minMaxNumberRequired",min:1,type:"host",max:65535}])},resetAuth:function(){this.model.set("username",""),this.$user.val(""),this.model.set("password",""),this.$password.val("")},deleteEmailSettings:function(){a.deleteEmailSettings("default").done(function(e){this.model.set(this.model.defaults),this.resetAuth(),this.selectProtocol.activateItem(h.forAdminSettings.defaultProtocol),this.authEnabled.activateItem(c.ui.off),o.ajaxSuccessMessenger("deleteOAuthSettings")}.bind(this)).fail(function(e){o.ajaxFailMessenger(e,"deleteOAuthSettings")})},submitEmailSettings:function(e){h.trackingDispatcher.trackEventNumber(493),e.preventDefault();var t=this.model.get("enableEmailServer");t?this.updateEmailSettings():this.deleteEmailSettings()},updateEmailSettings:function(){this.$host.trigger("validate"),this.$port.trigger("validate");if(r(".validate-error",this.$el).length)return;var e=this.model.getEmailServerSettings();this.toggleErrorMessage("hide"),a.setAdminSettings(e,"default").done(function(e){o.ajaxSuccessMessenger("setAdminSettings")}).fail(function(e){this.toggleErrorMessage("show",e)}.bind(this))},toggleErrorMessage:function(e,t){var n=c.failMessages.setAdminSettings,r="";if(e=="show"){if(t){try{r=JSON.parse(t.responseText)}catch(i){}r&&r.message&&(n='<strong class="connection-error-title"><i class="rp-icons rp-icons-warning"></i>'+c.admin.emailError+"</strong><br>"+r.message)}this.$errorMessage.html(n),this.$errorBlock.removeClass("hide")}else this.$errorBlock.addClass("hide"),this.$errorMessage.html("")},destroy:function(){this.selectProtocol&&this.selectProtocol.destroy(),this.authEnabled&&this.authEnabled.destroy(),this.undelegateEvents(),this.stopListening(),this.unbind(),this.remove(),delete this}});return p}),define("adminServerSettings/authServerSettings/GithubAuthServerSettingsModel",["require","backbone-epoxy"],function(e){"use strict";var t=e("backbone-epoxy"),n=t.Model.extend({defaults:{gitHubAuthEnabled:!1,clientId:"",clientSecret:"",organizations:""},getOrganizations:function(){try{return JSON.parse(this.get("organizations"))}catch(e){return[]}},setOrganizations:function(e){this.set({organizations:JSON.stringify(e)})}});return n}),define("adminServerSettings/authServerSettings/GithubAuthServerSettingsView",["require","jquery","underscore","backbone-epoxy","util","app","adminService","adminServerSettings/authServerSettings/GithubAuthServerSettingsModel","modals/modalConfirm","localization"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("app"),o=e("adminService"),u=e("adminServerSettings/authServerSettings/GithubAuthServerSettingsModel"),a=e("modals/modalConfirm"),f=e("localization"),l=s.getInstance(),c=r.View.extend({className:"github-auth-config",template:"tpl-github-auth-config",orgTpl:"tpl-auth-server-organizations",events:{"click [data-js-add-org-btn]":"showAddOrganization","click [data-js-delete-org]":"confirmDeleteOrg","click [data-js-remove-add-new-org]":"hideAddOrganization","click [data-js-submit-github-auth-settings]":"submitAuthSettings"},bindings:{"[data-js-github-enable]":"checked: gitHubAuthEnabled","[data-js-github-enable-mobile]":"html: getGitHubAuthState","[data-js-github-config]":"classes: {hide: not(gitHubAuthEnabled)}","[data-js-client-id]":"value: clientId","[data-js-client-secret]":"value: clientSecret","[data-js-onganizations]":"updateOrganizations: organizations"},computeds:{getGitHubAuthState:{deps:["gitHubAuthEnabled"],get:function(e){return e?"ON":"OFF"}},showAddOrg:{deps:["organizations"],get:function(){var e=this.model.getOrganizations();return!!e&&!n.isEmpty(e)}}},bindingHandlers:{updateOrganizations:{set:function(e){var t=this.view.model.getOrganizations();e.empty(),n.each(t,function(t){e.append(i.templates(this.view.orgTpl,{name:t}))},this)}}},initialize:function(){this.model=new u,this.authType=l.authTypes.gitHub,this.getAuthSettings(),this.listenTo(this.model,"change:gitHubAuthEnabled",function(){l.trackingDispatcher.trackEventNumber(494)})},render:function(){this.$el.html(i.templates(this.template,{})),this.setupAnchors(),this.bindValidators(),this.applyBindings()},setupAnchors:function(){this.$addOrg=t("[data-js-add-org-btn]",this.$el),this.$addOrgForm=t("[data-js-add-org-form]",this.$el),this.$addOrgField=t("[data-js-new-org]",this.$el),this.$clientId=t("[data-js-client-id]",this.$el),this.$clientSecret=t("[data-js-client-secret]",this.$el)},bindValidators:function(){i.hintValidator(this.$clientId,[{validator:"required"}]),i.hintValidator(this.$clientSecret,[{validator:"required"}])},getAuthSettings:function(){o.getAuthSettings(this.authType).done(function(e){this.model.set("gitHubAuthEnabled",!0),this.updateModel(e)}.bind(this)).fail(function(){this.model.set("gitHubAuthEnabled",!1)}.bind(this)).always(function(){this.render()}.bind(this))},updateModel:function(e){this.model.set({clientId:e.clientId,clientSecret:e.clientSecret}),this.model.setOrganizations(e.restrictions&&e.restrictions.organizations?e.restrictions.organizations.split(","):[])},showAddOrganization:function(e){l.trackingDispatcher.trackEventNumber(495),e.preventDefault(),this.$addOrg.addClass("hide"),this.$addOrgForm.removeClass("hide")},hideAddOrganization:function(e){e&&e.preventDefault(),this.$addOrg.removeClass("hide"),this.$addOrgForm.addClass("hide"),this.$addOrgField.val(""),this.$addOrgField.closest("[data-js-add-org-row]").removeClass("validate-error")},confirmDeleteOrg:function(e){var n=t(e.currentTarget),r=t("[data-js-org-name]",n.closest("[data-js-org-row]")),s=""+r.data("js-org-name"),o=this,u;e.preventDefault(),u=new a({headerText:f.dialogHeader.deleteOrg,confirmText:"",bodyText:i.replaceTemplate(f.dialog.msgDeleteOrg),okButtonDanger:!0,cancelButtonText:f.ui.cancel,okButtonText:f.ui.delete}),u.show().done(function(){o.deleteOrganization(s)})},deleteOrganization:function(e){var t=n.without(this.model.getOrganizations(),e);this.model.setOrganizations(t),this.updateAuthSettings("delete_org")},deleteAuthSettings:function(){o.deleteAuthSettings(this.authType).done(function(){this.updateModel(this.model.defaults),i.ajaxSuccessMessenger("deleteOAuthSettings")}.bind(this)).fail(function(e){i.ajaxFailMessenger(e,"deleteOAuthSettings")})},updateAuthSettings:function(e){var t=this.model.getOrganizations(),n={};this.$addOrgField.val()&&t.push(this.$addOrgField.val()),n.restrictions={organizations:t.join(",")},n.clientId=this.model.get("clientId"),n.clientSecret=this.model.get("clientSecret"),o.setAuthSettings(this.authType,n).done(function(t){this.updateModel(t.github),this.hideAddOrganization(),e==="delete_org"?i.ajaxSuccessMessenger("deleteOrgOAuthSettings"):i.ajaxSuccessMessenger("setOAuthSettings")}.bind(this)).fail(function(e){i.ajaxFailMessenger(e,"setOAuthSettings")})},submitAuthSettings:function(e){var t;l.trackingDispatcher.trackEventNumber(496),e.preventDefault(),t=this.model.get("gitHubAuthEnabled"),t?this.validate()&&this.updateAuthSettings():this.deleteAuthSettings()},validate:function(){return this.$clientId.trigger("validate"),this.$clientSecret.trigger("validate"),!this.$clientId.data("validate-error")&&!this.$clientSecret.data("validate-error")},onDestroy:function(){this.remove(),delete this}});return c}),define("adminServerSettings/authServerSettings/LdapAuthServerSettingsModel",["require","backbone-epoxy"],function(e){"use strict";var t=e("backbone-epoxy"),n=t.Model.extend({defaults:{ldapAuthEnabled:!1,url:"",baseDn:"",userDnPattern:"",userSearchFilter:"",groupSearchBase:"",groupSearchFilter:"",passwordAttribute:"",managerDn:"",managerPassword:"",passwordEncoderType:"disabled",email:"",fullName:"",photo:""}});return n}),define("adminServerSettings/authServerSettings/LdapAuthServerSettingsView",["require","jquery","backbone-epoxy","util","app","localization","adminService","adminServerSettings/authServerSettings/LdapAuthServerSettingsModel","components/DropDownComponent"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("app"),s=e("localization"),o=e("adminService"),u=e("adminServerSettings/authServerSettings/LdapAuthServerSettingsModel"),a=e("components/DropDownComponent"),f=i.getInstance(),l=n.View.extend({className:"ldap-auth-config",template:"tpl-ldap-auth-config",events:{"click [data-js-submit-ldap-auth-settings]":"submitAuthSettings","change [data-js-ldap-enable]":"enableSubmit","keydown .rp-input":"enableSubmit","keydown [data-js-manager-dn]":"enableUserSearchFilterField","keydown [data-js-manager-password]":"enableUserSearchFilterField"},bindings:{"[data-js-ldap-enable]":"checked: ldapAuthEnabled","[data-js-ldap-enable-mobile]":"html: getLdapAuthState","[data-js-ldap-config]":"classes: {hide: not(ldapAuthEnabled)}","[data-js-ldap-url]":"value: trimValue(url)","[data-js-base-dn]":"value: trimValue(baseDn)","[data-js-user-dn-pattern]":"value: trimValue(userDnPattern)","[data-js-user-search-filter]":"value: trimValue(userSearchFilter)","[data-js-group-search-base]":"value: trimValue(groupSearchBase)","[data-js-group-search-filter]":"value: trimValue(groupSearchFilter)","[data-js-password-attribute]":"value: trimValue(passwordAttribute)","[data-js-manager-dn]":"value: trimValue(managerDn)","[data-js-manager-password]":"value: trimValue(managerPassword)","[data-js-email]":"value: trimValue(email)","[data-js-full-name]":"value: trimValue(fullName)","[data-js-photo]":"value: trimValue(photo)"},bindingFilters:{trimValue:{get:function(e){return e.trim()},set:function(e){return e.trim()}}},computeds:{getLdapAuthState:{deps:["ldapAuthEnabled"],get:function(e){return e?"ON":"OFF"}}},initialize:function(){this.model=new u,this.authType=f.authTypes.ldap,this.getAuthSettings()},render:function(){this.$el.html(r.templates(this.template,{})),this.setupEncTypeDropDown(),this.setupAnchors(),this.bindValidators(),this.applyBindings(),this.setupLdapProtocol()},setupAnchors:function(){this.$url=t("[data-js-ldap-url]",this.$el),this.$baseDn=t("[data-js-base-dn]",this.$el),this.$email=t("[data-js-email]",this.$el)},bindValidators:function(){r.hintValidator(this.$url,[{validator:"required"}]),r.hintValidator(this.$baseDn,[{validator:"required"}]),r.hintValidator(this.$email,[{validator:"required"}])},getAuthSettings:function(){o.getAuthSettings(this.authType).done(function(e){this.model.set("ldapAuthEnabled",!0),this.updateModel(e)}.bind(this)).fail(function(){this.model.set("ldapAuthEnabled",!1)}.bind(this)).always(function(){this.render(),this.model.get("passwordEncoderType")==="disabled"&&t("[data-js-password-attribute]",this.$el).val("").attr("disabled","disabled"),!this.model.get("managerDn")&&!this.model.get("managerPassword")&&t("[data-js-user-search-filter]",this.$el).val("").attr("disabled","disabled")}.bind(this))},updateModel:function(e){var t,n;e.url&&(t=e.url.indexOf("ldaps://")===0,t?n="ldaps://":n="ldap://"),this.model.set({url:e.url?e.url.split(n)[1]:"",ldapProtocol:n,baseDn:e.baseDn,userDnPattern:e.userDnPattern?e.userDnPattern:"",userSearchFilter:e.userSearchFilter?e.userSearchFilter:"",groupSearchBase:e.groupSearchBase?e.groupSearchBase:"",groupSearchFilter:e.groupSearchFilter?e.groupSearchFilter:"",passwordAttribute:e.passwordAttribute?e.passwordAttribute:"",managerDn:e.managerDn?e.managerDn:"",managerPassword:e.managerPassword?e.managerPassword:"",passwordEncoderType:e.passwordEncoderType?e.passwordEncoderType:"disabled",email:e.synchronizationAttributes&&e.synchronizationAttributes.email?e.synchronizationAttributes.email:"",fullName:e.synchronizationAttributes&&e.synchronizationAttributes.fullName?e.synchronizationAttributes.fullName:"",photo:e.synchronizationAttributes&&e.synchronizationAttributes.photo?e.synchronizationAttributes.photo:""})},setupLdapProtocol:function(){this.ldapProtocolSelector=new a({data:[{name:"ldap://",value:"ldap://"},{name:"ldaps://",value:"ldaps://"}],multiple:!1,defaultValue:this.model.get("ldapProtocol")?this.model.get("ldapProtocol"):"ldap://"}),t("[data-js-ldap-protocol]",this.$el).html(this.ldapProtocolSelector.$el),this.listenTo(this.ldapProtocolSelector,"change",function(e){this.model.set("ldapProtocol",e),this.enableSubmit()})},setupEncTypeDropDown:function(){this.encTypeSelector=new a({data:[{name:s.ui.no.toUpperCase(),value:"disabled"},{name:"PLAIN",value:"PLAIN"},{name:"SHA",value:"SHA"},{name:"LDAP_SHA",value:"LDAP_SHA"},{name:"MD4",value:"MD4"},{name:"MD5",value:"MD5"}],multiple:!1,defaultValue:this.model.get("passwordEncoderType")?this.model.get("passwordEncoderType"):"disabled"}),t("[data-js-pass-enc-type-dropdown]",this.$el).html(this.encTypeSelector.$el),this.listenTo(this.encTypeSelector,"change",function(e){e==="disabled"?t("[data-js-password-attribute]",this.$el).val("").attr("disabled","disabled"):t("[data-js-password-attribute]",this.$el).attr("disabled",!1),this.model.set("passwordEncoderType",e),this.enableSubmit()})},submitAuthSettings:function(e){var n;e.preventDefault(),t.each(t("[data-js-ldap-config] .rp-input",this.$el),function(e,t){t.value=t.value.trim()}),n=this.model.get("ldapAuthEnabled"),n?this.validate()&&this.updateAuthSettings():this.deleteAuthSettings()},validate:function(){return this.$url.trigger("validate"),this.$baseDn.trigger("validate"),this.$email.trigger("validate"),!(this.$url.data("validate-error")||this.$baseDn.data("validate-error")||this.$email.data("validate-error"))},deleteAuthSettings:function(){o.deleteAuthSettings(this.authType).done(function(){this.updateModel(this.model.defaults),t(".validate-error",this.$el).removeClass("validate-error"),this.encTypeSelector.activateItem("disabled"),this.encTypeSelector.trigger("change","disabled"),t("[data-js-user-search-filter]",this.$el).val("").attr("disabled","disabled"),r.ajaxSuccessMessenger("deleteOAuthSettings")}.bind(this)).fail(function(e){r.ajaxFailMessenger(e,"deleteOAuthSettings")})},updateAuthSettings:function(){var e=this.model.get("ldapProtocol")?this.model.get("ldapProtocol"):this.ldapProtocolSelector.getValue(),n={enabled:this.model.get("ldapAuthEnabled"),baseDn:this.model.get("baseDn"),url:e+this.model.get("url"),synchronizationAttributes:{email:this.model.get("email")}};this.model.get("userDnPattern")&&(n.userDnPattern=this.model.get("userDnPattern")),this.model.get("userSearchFilter")&&(n.userSearchFilter=this.model.get("userSearchFilter")),this.model.get("groupSearchBase")&&(n.groupSearchBase=this.model.get("groupSearchBase")),this.model.get("groupSearchFilter")&&(n.groupSearchFilter=this.model.get("groupSearchFilter")),this.model.get("passwordAttribute")&&(n.passwordAttribute=this.model.get("passwordAttribute")),this.model.get("managerDn")&&(n.managerDn=this.model.get("managerDn")),this.model.get("managerPassword")&&(n.managerPassword=this.model.get("managerPassword")),this.model.get("passwordEncoderType")!=="disabled"&&(n.passwordEncoderType=this.model.get("passwordEncoderType")),this.model.get("fullName")&&(n.synchronizationAttributes.fullName=this.model.get("fullName")),this.model.get("photo")&&(n.synchronizationAttributes.photo=this.model.get("photo")),o.setAuthSettings(this.authType,n).done(function(e){this.updateModel(e),t(".validate-error",this.$el).removeClass("validate-error")}.bind(this)).fail(function(e){r.ajaxFailMessenger(e,"setOAuthSettings")})},enableSubmit:function(){t("[data-js-submit-ldap-auth-settings]",this.$el).attr("disabled",!1)},enableUserSearchFilterField:function(){t("[data-js-user-search-filter]",this.$el).attr("disabled",!1)},onDestroy:function(){this.encTypeSelector&&this.encTypeSelector.destroy(),this.remove(),delete this}});return l}),define("adminServerSettings/authServerSettings/AdAuthServerSettingsModel",["require","backbone-epoxy"],function(e){"use strict";var t=e("backbone-epoxy"),n=t.Model.extend({defaults:{adAuthEnabled:!1,domain:"",url:"",baseDn:"",email:"",fullName:"",photo:""}});return n}),define("adminServerSettings/authServerSettings/AdAuthServerSettingsView",["require","jquery","backbone-epoxy","util","app","adminService","adminServerSettings/authServerSettings/AdAuthServerSettingsModel","components/DropDownComponent"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("app"),s=e("adminService"),o=e("adminServerSettings/authServerSettings/AdAuthServerSettingsModel"),u=i.getInstance(),a=e("components/DropDownComponent"),f=n.View.extend({className:"ad-auth-config",template:"tpl-ad-auth-config",events:{"click [data-js-submit-ad-auth-settings]":"submitAuthSettings","change [data-js-ad-enable]":"enableSubmit","keydown .rp-input":"enableSubmit"},bindings:{"[data-js-ad-enable]":"checked: adAuthEnabled","[data-js-ad-enable-mobile]":"html: getAdAuthState","[data-js-ad-config]":"classes: {hide: not(adAuthEnabled)}","[data-js-domain]":"value: trimValue(domain)","[data-js-ldap-url]":"value: trimValue(url)","[data-js-base-dn]":"value: trimValue(baseDn)","[data-js-email]":"value:  trimValue(email)","[data-js-full-name]":"value: trimValue(fullName)","[data-js-photo]":"value: trimValue(photo)"},bindingFilters:{trimValue:{get:function(e){return e.trim()},set:function(e){return e.trim()}}},computeds:{getAdAuthState:{deps:["adAuthEnabled"],get:function(e){return e?"ON":"OFF"}}},initialize:function(){this.model=new o,this.authType=u.authTypes.activeDirectory,this.getAuthSettings()},render:function(){this.$el.html(r.templates(this.template,{})),this.setupAnchors(),this.bindValidators(),this.applyBindings(),this.setupLdapProtocol()},getAuthSettings:function(){s.getAuthSettings(this.authType).done(function(e){this.model.set("adAuthEnabled",!0),this.updateModel(e)}.bind(this)).fail(function(){this.model.set("adAuthEnabled",!1)}.bind(this)).always(function(){this.render()}.bind(this))},updateModel:function(e){var t,n;e.url&&(t=e.url.indexOf("ldaps://")===0,t?n="ldaps://":n="ldap://"),this.model.set({domain:e.domain,url:e.url?e.url.split(n)[1]:"",ldapProtocol:n,baseDn:e.baseDn,email:e.synchronizationAttributes&&e.synchronizationAttributes.email?e.synchronizationAttributes.email:"",fullName:e.synchronizationAttributes&&e.synchronizationAttributes.fullName?e.synchronizationAttributes.fullName:"",photo:e.synchronizationAttributes&&e.synchronizationAttributes.photo?e.synchronizationAttributes.photo:""})},setupLdapProtocol:function(){this.ldapProtocolSelector=new a({data:[{name:"ldap://",value:"ldap://"},{name:"ldaps://",value:"ldaps://"}],multiple:!1,defaultValue:this.model.get("ldapProtocol")?this.model.get("ldapProtocol"):"ldap://"}),t("[data-js-ldap-protocol]",this.$el).html(this.ldapProtocolSelector.$el),this.listenTo(this.ldapProtocolSelector,"change",function(e){this.model.set("ldapProtocol",e),this.enableSubmit()})},setupAnchors:function(){this.$domain=t("[data-js-domain]",this.$el),this.$url=t("[data-js-ldap-url]",this.$el),this.$baseDn=t("[data-js-base-dn]",this.$el),this.$email=t("[data-js-email]",this.$el)},bindValidators:function(){r.hintValidator(this.$domain,[{validator:"required"},{validator:"matchRegex",type:"domainMatchRegex",pattern:u.patterns.domain}]),r.hintValidator(this.$url,[{validator:"required"}]),r.hintValidator(this.$baseDn,[{validator:"required"}]),r.hintValidator(this.$email,[{validator:"required"}])},submitAuthSettings:function(e){var n;e.preventDefault(),t.each(t("[data-js-ad-config] .rp-input",this.$el),function(e,t){t.value=t.value.trim()}),n=this.model.get("adAuthEnabled"),n?this.validate()&&this.updateAuthSettings():this.deleteAuthSettings()},validate:function(){return this.$domain.trigger("validate"),this.$url.trigger("validate"),this.$baseDn.trigger("validate"),this.$email.trigger("validate"),!(this.$domain.data("validate-error")||this.$url.data("validate-error")||this.$baseDn.data("validate-error")||this.$email.data("validate-error"))},deleteAuthSettings:function(){s.deleteAuthSettings(this.authType).done(function(){this.updateModel(this.model.defaults),t(".validate-error",this.$el).removeClass("validate-error"),r.ajaxSuccessMessenger("deleteOAuthSettings")}.bind(this)).fail(function(e){r.ajaxFailMessenger(e,"deleteOAuthSettings")})},updateAuthSettings:function(){var e=this.model.get("ldapProtocol")?this.model.get("ldapProtocol"):this.ldapProtocolSelector.getValue(),n={enabled:this.model.get("adAuthEnabled"),domain:this.model.get("domain"),baseDn:this.model.get("baseDn"),url:e+this.model.get("url"),synchronizationAttributes:{email:this.model.get("email")}};this.model.get("fullName")&&(n.synchronizationAttributes.fullName=this.model.get("fullName")),this.model.get("photo")&&(n.synchronizationAttributes.photo=this.model.get("photo")),s.setAuthSettings(this.authType,n).done(function(e){this.updateModel(e),t(".validate-error",this.$el).removeClass("validate-error")}.bind(this)).fail(function(e){r.ajaxFailMessenger(e,"setOAuthSettings")})},enableSubmit:function(){t("[data-js-submit-ad-auth-settings]",this.$el).attr("disabled",!1)},onDestroy:function(){this.remove(),delete this}});return f}),define("adminServerSettings/authServerSettings/AuthServerSettingsView",["require","jquery","backbone-epoxy","util","adminServerSettings/authServerSettings/GithubAuthServerSettingsView","adminServerSettings/authServerSettings/LdapAuthServerSettingsView","adminServerSettings/authServerSettings/AdAuthServerSettingsView"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("adminServerSettings/authServerSettings/GithubAuthServerSettingsView"),s=e("adminServerSettings/authServerSettings/LdapAuthServerSettingsView"),o=e("adminServerSettings/authServerSettings/AdAuthServerSettingsView"),u=n.View.extend({className:"rp-auth-server-settings",template:"tpl-auth-server-settings",initialize:function(){this.githubAuthServerSettingsView=new i,this.adAuthServerSettingsView=new o,this.ldapAuthServerSettingsView=new s,this.render()},render:function(){this.$el.html(r.templates(this.template,{})),t("[data-js-github-auth-config-container]",this.$el).html(this.githubAuthServerSettingsView.el),t("[data-js-ad-auth-config-container]",this.$el).html(this.adAuthServerSettingsView.el),t("[data-js-ldap-auth-config-container]",this.$el).html(this.ldapAuthServerSettingsView.el)},onDestroy:function(){this.githubAuthServerSettingsView&&this.githubAuthServerSettingsView.destroy(),this.adAuthServerSettingsView&&this.adAuthServerSettingsView.destroy(),this.ldapAuthServerSettingsView&&this.ldapAuthServerSettingsView.destroy(),this.remove(),delete this}});return u}),define("analytics/AnalyticsObject",["require","exports","module","backbone"],function(e,t,n){var r=e("backbone"),i=r.Model.extend({init:function(e){this.listenTo(e,"track:event",this.send),this.listenTo(e,"page:view",this.pageView)},send:function(){},pageView:function(){}});return i}),define("analytics/AnalyticsGA",["require","analytics/AnalyticsObject","model/SingletonRegistryInfoModel"],function(e){var t=e("analytics/AnalyticsObject"),n=e("model/SingletonRegistryInfoModel"),r=t.extend({initialize:function(){var e=this;this.registryInfoModel=new n,this.registryInfoModel.ready.done(function(){var t=e.registryInfoModel.get("services"),n="";t&&t.API&&t.API.extensions&&t.API.extensions.instanceId&&(n=t.API.extensions.instanceId),window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+(new Date),ga("create","UA-96321031-1","auto"),ga("set","dimension1",n),ga("send","pageview");var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://www.google-analytics.com/analytics.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)})},send:function(e){this.registryInfoModel.ready.done(function(){ga("send","event",e[0],e[1],e[2])})},pageView:function(e){this.registryInfoModel.ready.done(function(){ga("send","pageview",e[0])})}});return r}),define("analytics/SingletonAnalyticsConnect",["require","exports","module","analytics/AnalyticsGA","app","underscore"],function(e,t,n){var r=e("analytics/AnalyticsGA"),i=e("app"),s=e("underscore"),o=null,u=function(){return{analyticsList:[r],init:function(){var e=i.getInstance();this.analytics=[];var t=this;s.each(this.analyticsList,function(n){var r=new n;r.init(e.trackingDispatcher),t.analytics.push(r)})},destroy:function(){s.each(this.analytics,function(e){e.destroy()}),this.analytics=[]}}};return function(){return o||(o=new u),o}}),define("adminServerSettings/StatisticsServerSettingsView",["require","jquery","backbone-epoxy","util","coreService","model/SingletonRegistryInfoModel","analytics/SingletonAnalyticsConnect","app"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("coreService"),s=e("model/SingletonRegistryInfoModel"),o=e("analytics/SingletonAnalyticsConnect"),u=e("app"),a=u.getInstance(),f=n.View.extend({className:"rp-statistics-server-settings",template:"tpl-statistics-server-settings",events:{"click [statistics-list-toggler]":"toggleList","click [data-js-submit]":"submit","change [data-js-switcher]":"onChangeSwitcher"},bindings:{"[data-js-switcher]":"attr: {checked: sendStatistics}"},initialize:function(){this.model=new s,this.analyticsConnect=new o,this.render()},render:function(){this.$el.html(r.templates(this.template,{})),this.setupAnchors()},setupAnchors:function(){this.$switcher=t("[data-js-switcher]",this.$el)},toggleList:function(){t(".statistics-list",this.$el).toggleClass("list-shown")},onChangeSwitcher:function(){a.trackingDispatcher.trackEventNumber(512)},submit:function(){var e=this,t=e.$switcher.prop("checked");a.trackingDispatcher.trackEventNumber(513),i.toggleAnalytics({enabled:t,type:"all"}).done(function(){e.model.update(),t?(e.analyticsConnect.destroy(),e.analyticsConnect.init()):e.analyticsConnect.destroy(),r.ajaxSuccessMessenger("updateServerSettings")}).fail(function(e){r.ajaxInfoMessenger(e,"updateServerSettings")})},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.remove(),delete this}});return f}),define("adminServerSettings/ServerSettingsTabsView",["require","jquery","backbone-epoxy","util","app","adminServerSettings/EmailServerSettingsView","adminServerSettings/authServerSettings/AuthServerSettingsView","adminServerSettings/StatisticsServerSettingsView","components/DropDownComponent"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("app"),s=e("adminServerSettings/EmailServerSettingsView"),o=e("adminServerSettings/authServerSettings/AuthServerSettingsView"),u=e("adminServerSettings/StatisticsServerSettingsView"),a=e("components/DropDownComponent"),f=i.getInstance(),l=n.View.extend({tpl:"tpl-server-settings-shell",events:{"click [data-js-tab-action]":"getTab"},initialize:function(e){this.tab=e.action||"email",this.render()},render:function(){this.$el.html(r.templates(this.tpl,{tab:this.tab})),this.setupAnchors(),this.setupSelectDropDown(),this.renderTabContent()},update:function(e){this.tab=e||"email",this.renderTabContent()},setupSelectDropDown:function(){this.tabSelector=new a({data:[{name:"E-MAIL SERVER",value:"email"},{name:"AUTHORIZATION CONFIGURATION",value:"auth"},{name:"STATISTICS",value:"statistics"}],multiple:!1,defaultValue:this.tab}),t("[data-js-nav-tabs-mobile]",this.$el).html(this.tabSelector.$el),this.listenTo(this.tabSelector,"change",this.updateTabs)},getTab:function(e){e.preventDefault(),this.updateTabs(t(e.currentTarget).data("js-tab-action"))},updateTabs:function(e){switch(e){case"auth":f.trackingDispatcher.trackEventNumber(491);break;default:f.trackingDispatcher.trackEventNumber(490)}f.router.navigate("#administrate/settings/"+e),this.update(e)},renderTabContent:function(){var e;this.tabView&&this.tabView.destroy(),e=this.getTabView(this.tab),this.tabView=new e,this.$tabContent.html(this.tabView.$el),t("[data-js-tab-action]",this.$el).closest("li.active").removeClass("active"),t('[data-js-tab-action="'+this.tab+'"]',this.$el).closest("li").addClass("active"),this.tabSelector.activateItem(this.tab)},getTabView:function(e){switch(e){case"auth":return o;case"statistics":return u;default:return s}},setupAnchors:function(){this.$tabContent=t("[data-js-tab-content]",this.$el)},destroy:function(){this.tabView&&this.tabView.destroy(),this.undelegateEvents(),this.stopListening(),this.unbind(),this.remove(),delete this}});return l}),define("adminServerSettings/ServerSettingsPageView",["require","exports","module","jquery","backbone","backbone-epoxy","util","app","adminServerSettings/ServerSettingsHeaderView","adminServerSettings/ServerSettingsTabsView"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("util"),u=e("app"),a=e("adminServerSettings/ServerSettingsHeaderView"),f=e("adminServerSettings/ServerSettingsTabsView"),l=u.getInstance(),c=s.View.extend({tpl:"tpl-server-settings-body",initialize:function(e){this.$el=e.el,this.$header=e.header,this.action=e.action},render:function(){return this.$el.html(o.templates(this.tpl)),this.renderHeader(),this.renderBody(),this},renderHeader:function(){this.header=new a,this.$header.append(this.header.$el)},renderBody:function(){this.body&&(this.body.destroy(),this.body=null),this.body=new f({action:this.action}),r("[data-js-settings]",this.$el).append(this.body.$el)},update:function(){this.body&&(this.body.destroy(),this.body=null),this.renderBody()},destroy:function(){this.header&&this.header.destroy(),this.body&&this.body.destroy(),this.$el.html(""),this.undelegateEvents(),this.stopListening(),this.unbind(),delete this}});return{ContentView:c}}),define("sections/content",["require","jquery","backbone","util","favorites/favorites","launches/LaunchPage","launches/LaunchDebugPage","dashboard/DashboardPage","apiPage/ApiPage","projectSettings/projectSettingsPage","projectinfo","projectMembers/MembersPageView","userProfile/UserProfilePage","adminProjects/ProjectsPageView","adminUsers/UsersPageView","adminServerSettings/ServerSettingsPageView"],function(e){"use strict";var t=e("jquery"),n=e("backbone"),r=e("util"),i=e("favorites/favorites"),s=e("launches/LaunchPage"),o=e("launches/LaunchDebugPage"),u=e("dashboard/DashboardPage"),a=e("apiPage/ApiPage"),f=e("projectSettings/projectSettingsPage"),l=e("projectinfo"),c=e("projectMembers/MembersPageView"),h=e("userProfile/UserProfilePage"),p=e("adminProjects/ProjectsPageView"),d=e("adminUsers/UsersPageView"),v=e("adminServerSettings/ServerSettingsPageView"),m=n.View.extend({initialize:function(e){this.isAdminPage=e.isAdminPage,this.$el=e.el,this.isAdminPage&&(this.queryString=e.queryString)},tpl:"tpl-container",render:function(e){return this.$el.html(r.templates(this.tpl)),this.isAdminPage&&(this.$container=t("#dynamic-content",this.$el)),this.setupPageView(e),(this.pageView.contextName==="settings"||this.pageView.contextName==="members"||this.isAdminPage)&&this.$el.find(".rp-main-panel").addClass("mobile-without-content-header"),this},update:function(e){this.page!==e.contextName||this.action!==e.action?(this.pageView.destroy(),this.isAdminPage&&(this.page=e.page,this.action=e.action),this.setupPageView(e)):this.pageView.update(e),this.isAdminPage||this.pageView.contextName==="settings"||this.pageView.contextName==="members"?this.$el.find(".rp-main-panel").addClass("mobile-without-content-header"):this.$el.find(".rp-main-panel").removeClass("mobile-without-content-header")},setupPageView:function(e){var n,r=this,i=e;this.isAdminPage?(this.page=i.page,n=this.getViewForAdministratePage(i),i.el=this.$container,i.header=t("#contentHeader",this.$el),this.pageView=(new n(i)).render()):(this.page=i.contextName,n=this.getViewForPage(i.contextName),this.$header=t("#contentHeader",this.$el),this.$body=t("#dynamic-content",this.$el),this.pageView=new n.ContentView({contextName:i.contextName,context:this.getAppProp(r),subContext:i.subContext,queryString:i.queryString}),this.pageView.render())},getAppProp:function(e){var t=e;return{getMainView:function(){return t}}},getViewForPage:function(e){switch(e){case"dashboard":return u;case"filters":return i;case"userdebug":return o;case"launches":return s;case"members":return c;case"settings":return f;case"user-profile":return h;case"info":return l;case"api":return a;default:}},getViewForAdministratePage:function(e){switch(e.page){case"users":return d.ContentView;case"settings":return v.ContentView;default:return p.ContentView}},onDestroy:function(){this.pageView.destroy(),this.$el.off().empty()}});return m}),define("sections/sidebar",["require","jquery","backbone","util","storageService","storage/SingletonUserStorage","app"],function(e){"use strict";var t=e("jquery"),n=e("backbone"),r=e("util"),i=e("storageService"),s=e("storage/SingletonUserStorage"),o=e("app"),u=o.getInstance(),a=n.View.extend({el:"#pageSidebar",events:{"click .main-menu a":"onClickSidebarLink","click .user-menu a":"closeMenu","click [data-js-sidebar-close]":"closeMenu","click [data-js-administrate-page-link]":"setLastActivePage","click [data-js-logout]":"onClickLogout","click [global-back-top]":"onClickToTop"},initialize:function(e){this.tpl=e.tpl,this.lastURL=e.lastURL,this.projectUrl=e.projectUrl,this.currentPage=e.currentPage,this.canDebug=r.isAdmin()||!r.isCustomer(),this.currentHash="#"+n.history.getFragment().split("?")[0].split("/",2).join("/"),this.listenTo(u.router,"route",this.updateActiveLink),this.userStorage=new s},setupAnchors:function(){this.$bodyElement=t("body")},render:function(){var e=this,n=new Date,s=new Date(2018,11,21),o=new Date(2019,0,13),a={projectUrl:this.projectUrl,userLogin:i.getDebugUser()||u.userModel.get("name"),canDebug:this.canDebug,isAdmin:r.isAdmin(u.userModel.toJSON()),lastActive:this.getLastActive(),lastURL:this.lastURL,isNewYear:n>=s&&n<=o};return this.$el.html(r.templates(this.tpl,a)).show(),this.setupAnchors(),this.updateActiveLink(),r.setupBaronScroll(this.$el.find("[data-js-scroll-container]")),t(window).off("resize.sidebar").on("resize.sidebar",function(){window.innerWidth>=768&&e.$bodyElement.hasClass("menu-open")&&e.closeMenu()}),this},onClickToTop:function(){u.trackingDispatcher.trackEventNumber(350)},setLastActivePage:function(){var e=n.history.getFragment();e==="user-profile"?this.userStorage.set("lastActiveURL",this.projectUrl):this.userStorage.set("lastActiveURL",e)},updateActiveLink:function(){this.clearActives(),this.currentHash="#"+n.history.getFragment().split("?")[0].split("/",2).join("/"),this.currentHash==="#"+this.projectUrl&&(this.currentHash+="/dashboard"),this.currentHash==="#"+this.projectUrl+"/"&&(this.currentHash+="dashboard"),this.currentHash==="#administrate"&&(this.currentHash+="/projects"),this.currentHash==="#administrate/project-details"&&(this.currentHash="#administrate/projects"),this.$el.find('a[href^="'+this.currentHash+'"]',this.$el).addClass("active")},getLastActive:function(){var e="",t=this.userStorage.get("lastActiveURL");return t&&(e=t),e},onClickSidebarLink:function(e){e.preventDefault();switch(t(e.currentTarget).attr("id")){case"dashboard":u.trackingDispatcher.trackEventNumber(1);break;case"filters":u.trackingDispatcher.trackEventNumber(2);break;case"userdebug":u.trackingDispatcher.trackEventNumber(3);break;case"projectsSection":u.trackingDispatcher.trackEventNumber(502);break;case"usersSection":u.trackingDispatcher.trackEventNumber(503);break;case"settingsSection":u.trackingDispatcher.trackEventNumber(504);break;default:}this.closeMenu(),u.router.navigate(t(e.currentTarget).attr("href"),{trigger:!0})},closeMenu:function(){this.$bodyElement.removeClass("menu-open")},clearActives:function(){t("a.active",this.$el).removeClass("active")},onClickLogout:function(e){e.preventDefault(),e.stopPropagation(),u.userModel.logout()},onDestroy:function(){t(window).off("resize.sidebar"),this.$el.html(""),delete this}});return a}),define("sections/footer",["require","exports","module","jquery","backbone","util","moment","model/SingletonRegistryInfoModel","app"],function(e,t,n){var r=e("jquery"),i=e("backbone"),s=e("util"),o=e("moment"),u=e("model/SingletonRegistryInfoModel"),a=e("app"),f=a.getInstance(),l=i.View.extend({el:"#pageFooter",tpl:"tpl-footer",initialize:function(){this.viewModel=new u},events:{"click [data-js-fork-us]":"onClickForkUs","click [data-js-chat-slack]":"onClickChatSlack","click [data-js-contact-us]":"onClickContactUs","click [data-js-epam]":"onClickEpamLink","click [data-js-docs]":"onClickDocs","click [data-js-api]":"onClickApi"},render:function(){var e=this;return this.$el.html(s.templates(this.tpl,{moment:o,util:s})).show(),this.viewModel.ready.done(function(){r("#buildVersion",e.$el).text(e.viewModel.get("uiBuildVersion"))}),s.setupBaronScroll(r("#ComponentsModal .modal-dialog",this.$el)),this},onClickForkUs:function(e){f.trackingDispatcher.trackEventNumber(351)},onClickChatSlack:function(){f.trackingDispatcher.trackEventNumber(352)},onClickContactUs:function(){f.trackingDispatcher.trackEventNumber(353)},onClickEpamLink:function(){f.trackingDispatcher.trackEventNumber(354)},onClickDocs:function(){f.trackingDispatcher.trackEventNumber(355)},onClickApi:function(){f.trackingDispatcher.trackEventNumber(356)},destroy:function(){this.$el.html(""),this.undelegateEvents(),this.stopListening(),this.unbind(),delete this}});return l}),define("mainview",["require","backbone","app","sections/header","sections/content","sections/sidebar","sections/footer"],function(e){"use strict";var t=e("backbone"),n=e("app"),r=e("sections/header"),i=e("sections/content"),s=e("sections/sidebar"),o=e("sections/footer"),u=n.getInstance(),a=t.View.extend({initialize:function(e){this.$el=e.el,this.contextName=e.contextName},render:function(e){this.$el.empty(),this.sidebarView=(new s({tpl:"tpl-sidebar",projectUrl:u.project.projectId,currentPage:this.contextName})).render(),this.footerView=(new o).render(),this.headerView=(new r({tpl:"tpl-header",currentPage:this.contextName})).render(),this.contentView=(new i({isAdminPage:!1,el:this.$el})).render(e)},update:function(e){this.contentView.update(e)},destroy:function(){this.contentView.destroy(),this.contentView=null,this.sidebarView.destroy(),this.sidebarView=null,this.headerView.destroy(),this.headerView=null,this.footerView.destroy(),this.footerView=null,this.undelegateEvents(),this.stopListening(),this.$el&&this.$el.off()}});return{MainView:a}}),define("admin",["require","exports","module","jquery","backbone","app","model/UserModel","storage/SingletonUserStorage","sections/header","sections/content","sections/sidebar","sections/footer"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("app"),o=e("model/UserModel"),u=e("storage/SingletonUserStorage"),a=e("sections/header"),f=e("sections/content"),l=e("sections/sidebar"),c=e("sections/footer"),h=s.getInstance(),p=i.View.extend({initialize:function(e){this.$el=e.el,this.contextName="admin",this.$body=r("#mainContainer",this.$el),this.user=new o,this.userStorage=new u},events:{"click [data-js-admin-logout]":"onClickLogout","click [data-js-back-project]":"onBackToProject"},render:function(e){h.currentProjectsSettings={};var t=this.userStorage.get("lastActiveURL")||h.userModel.get("defaultProject");return this.headerView=(new a({isAdminPage:!0,tpl:"tpl-admin-header",currentPage:e.page,lastURL:t})).render(),this.contentView=(new f({isAdminPage:!0,contextName:this.contextName,el:this.$body,queryString:e.queryString})).render(e),this.footerView=(new c).render(),this.sidebarView=(new l({tpl:"tpl-admin-side-bar",lastURL:t})).render(),this},onClickLogout:function(e){h.trackingDispatcher.trackEventNumber(501),e.preventDefault(),this.user.logout()},onBackToProject:function(){h.trackingDispatcher.trackEventNumber(500)},update:function(e){this.contentView.update(e),this.headerView.update(e)},destroy:function(){this.contentView.destroy(),this.contentView=null,this.sidebarView.destroy(),this.sidebarView=null,this.headerView.destroy(),this.headerView=null,this.footerView.destroy(),this.footerView=null,this.undelegateEvents(),this.stopListening(),this.$el&&this.$el.off()}});return{MainView:p}}),define("register/registerModel",["require","exports","module","jquery","backbone","backbone-epoxy","util"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("util"),u=s.Model.extend({defaults:{login:"",fullName:"",email:"",password:""}});return u}),define("register/registerView",["require","jquery","backbone-epoxy","util","app","memberService","localization","model/UserModel","register/registerModel"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("app"),s=e("memberService"),o=e("localization"),u=e("model/UserModel"),a=e("register/registerModel"),f=i.getInstance(),l=n.View.extend({className:"registration",template:"tpl-register",messagesTpl:"tpl-register-messages",bindings:{"[data-js-login]":"value: login","[data-js-name]":"value: fullName","[data-js-email]":"value: email","[data-js-password]":"value: password"},events:{"submit [data-js-register-form]":"onSubmitForm","click [data-js-cancel]":"resetForm","click [data-js-register]":"onSubmitForm","click [data-js-logo]":"onClickLogo","change [data-js-login]":function(){this.loginDuplicate=!1},"mousedown [data-js-toogle-visability]":"showPass","mouseleave [data-js-toogle-visability]":"hidePass","mouseup [data-js-toogle-visability]":"hidePass","touchstart [data-js-toogle-visability]":"showPass","touchend  [data-js-toogle-visability]":"hidePass","touchcancel  [data-js-toogle-visability]":"hidePass","keyup [data-js-password-confirm]":"checkFields"},initialize:function(e){var t=this;this.id=e.uuid.slice(5,e.uuid.length),this.context=e.context,this.model=new a,this.user=new u,this.loginDuplicate=!1,s.validateRegisterBid(this.id).done(function(e){e.isActive?(t.model.set("email",e.email),t.render()):t.showExpiredPage()}).fail(function(e){r.ajaxFailMessenger(e,"validateRegisterBid")})},render:function(){this.$el.html(r.templates(this.template,{})),this.setupAnchors(),this.bindValidators(),this.applyBindings()},setupAnchors:function(){this.$login=t("[data-js-login]",this.$el),this.$name=t("[data-js-name]",this.$el),this.$email=t("[data-js-email]",this.$el),this.$password=t("[data-js-password]",this.$el),this.$confirmPassword=t("[data-js-password-confirm]",this.$el),this.$register=t("[data-js-register]",this.$el)},onClickLogo:function(){window.open("http://reportportal.io/")},showExpiredPage:function(e){e&&e.preventDefault(),this.$el.addClass("fail").append(r.templates(this.messagesTpl))},checkFields:function(){this.$confirmPassword.val()!==this.$password.val()&&this.$confirmPassword.val()!==""?this.$confirmPassword.parent().addClass("validate-error").find(".validate-hint").addClass("show-hint").html(o.validation.confirmMatch):this.$confirmPassword.parent().removeClass("validate-error").find(".validate-hint").removeClass("show-hint")},bindValidators:function(){r.hintValidator(this.$login,[{validator:"matchRegex",type:"loginRegex",pattern:f.patterns.login},{validator:"minMaxRequired",type:"login",min:1,max:128}]),r.hintValidator(this.$name,[{validator:"matchRegex",type:"fullNameInfoRegex",pattern:f.patterns.fullName},{validator:"minMaxRequired",type:"userName",min:3,max:256}]),r.hintValidator(this.$password,[{validator:"matchRegex",type:"originalPassRegex",pattern:f.patterns.originalPass},{validator:"minMaxRequired",type:"password",min:4,max:25}]),r.hintValidator(this.$confirmPassword,[{validator:"matchRegex",type:"originalPassRegex",pattern:f.patterns.originalPass},{validator:"minMaxRequired",type:"password",min:4,max:25}])},showPass:function(e){t(e.currentTarget).addClass("show").siblings(".rp-input").attr("type","text")},hidePass:function(e){t(e.currentTarget).removeClass("show").siblings(".rp-input").attr("type","password")},getData:function(){return{login:this.model.get("login"),email:this.model.get("email"),full_name:this.model.get("fullName"),password:this.model.get("password")}},onSubmitForm:function(e){e.preventDefault(),e.stopPropagation(),this.registerMember()},registerMember:function(){var e=this.getData(),n=this;t(".rp-field",this.$el).find("input").trigger("validate"),this.checkFields();if(t(".validate-error",this.$el).length)return;if(this.loginDuplicate){this.$login.parent().addClass("validate-error");return}e&&s.registerUser(e,this.id).done(function(){n.context.destroyViews(),n.user.login(e.login,e.password).done(function(){r.ajaxSuccessMessenger("registerMember")}).fail(function(){f.router.navigate("#login",{trigger:!0})})}).fail(function(e){e.status===409&&(n.$login.parent().addClass("validate-error"),n.loginDuplicate=!0),r.ajaxFailMessenger(e,"registerMember")})},resetForm:function(){t(".rp-field",this.$el).removeClass("validate-error").find("input:enabled").val(""),t(".validate-hint",this.$el).each(function(e,n){t(n).removeClass("show-hint")})},onDestroy:function(){this.remove(),delete this}});return l}),define("login/LoginLoginAuthButtonView",["require","exports","module","jquery","backbone","backbone-epoxy","util","localization","app","model/UserModel","model/SingletonRegistryInfoModel"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("util"),u=e("localization"),a=e("app"),f=a.getInstance(),l=e("model/UserModel"),c=e("model/SingletonRegistryInfoModel"),h=s.View.extend({className:"login-login-auth-button",template:"tpl-new-login-auth-button",events:{"click [data-js-auth-button]":"onClickButton"},initialize:function(e){this.render(),r("[data-js-auth-button]",this.$el).html(e.button),this.path=e.path},render:function(){this.$el.html(o.templates(this.template,{}))},onClickButton:function(){window.location=window.location.protocol+"//"+window.location.host+"/uat"+this.path}});return h}),define("login/loginLoginView",["require","jquery","underscore","backbone-epoxy","util","localization","app","model/UserModel","model/SingletonRegistryInfoModel","login/LoginLoginAuthButtonView"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("localization"),o=e("app"),u=o.getInstance(),a=e("model/UserModel"),f=e("model/SingletonRegistryInfoModel"),l=e("login/LoginLoginAuthButtonView"),c=r.View.extend({className:"login-login-subpage",attributes:{"data-js-login-login-subpage":""},template:"tpl-new-login-login",events:{"click [data-js-login-btn]":"onSubmitForm","submit [data-js-login-login-form]":"onSubmitForm","mousedown [data-js-toggle-visability]":"showPassword","mouseup [data-js-toggle-visability]":"hidePassword","mouseleave [data-js-toggle-visability]":"hidePassword","touchstart [data-js-toggle-visability]":"showPassword","touchend  [data-js-toggle-visability]":"hidePassword","touchcancel  [data-js-toggle-visability]":"hidePassword","click [data-js-forgot-pass]":"onForgotPass","focus .rp-input":"unHighlight"},initialize:function(e){this.oAuthButtons=[],this.loginModel=e.loginModel,this.listenTo(this.loginModel,"change:blockTime",this.blockForm),this.user=new a,this.registryModel=new f,this.render(),this.blockForm()},render:function(){this.$el.html(i.templates(this.template,{})),this.renderOAuth(),this.setupAnchors(),this.bindValidators()},renderOAuth:function(){var e=this;n.each(this.registryModel.get("authExtensions"),function(n){var r=new l(n);e.oAuthButtons.push(r),t("[data-js-oauth-container]",e.$el).append(r.$el)}),this.oAuthButtons.length&&t("[data-js-oauth-login]",this.$el).removeClass("hide")},setupAnchors:function(){this.$login=t("[data-js-login]",this.$el),this.$pass=t("[data-js-password]",this.$el),this.$loginBtn=t("[data-js-login-btn]",this.$el),this.$loginForm=t("[data-js-login-login-form]",this.$el),this.$errorBlock=t("[data-js-error-block]",this.$el)},bindValidators:function(){i.hintValidator(this.$login,[{validator:"matchRegex",type:"loginRegex",pattern:u.patterns.login},{validator:"minMaxRequired",type:"login",min:1,max:128}]),i.hintValidator(this.$pass,[{validator:"matchRegex",type:"originalPassRegex",pattern:u.patterns.originalPass},{validator:"minMaxRequired",type:"password",min:4,max:25}])},showPassword:function(e){t(e.currentTarget).addClass("show"),this.$pass.attr("type","text")},hidePassword:function(e){t(e.currentTarget).removeClass("show"),this.$pass.attr("type","password")},onSubmitForm:function(e){e.preventDefault(),e.stopPropagation(),this.login()},login:function(){var e=this,n,r;t(".rp-field",this.$el).find("input").trigger("validate");if(t(".validate-error",this.$el).length)return;n=this.cutIfEmail(this.$login.val()),r=encodeURIComponent(this.$pass.val()),u.router&&u.router.navigate("login",{silent:!0}),this.user.login(n,r).done(function(){}).fail(function(t){t.status===403?e.trigger("blockLoginForm"):t.status===400&&JSON.parse(t.responseText).error_code===4003&&e.$loginForm.addClass("bad-credentials")})},cutIfEmail:function(e){return i.validateEmail(e)?e.slice(0,e.indexOf("@")):e},blockForm:function(){var e=this.loginModel.get("blockTime"),n;e&&e<=30&&(n=s.login.blockedLoginForm+" <strong data-js-block-timer>"+e+"</strong> "+s.ui.sec+".",this.$errorBlock.removeClass("hide"),this.$login.prop("disabled",!0),this.$pass.prop("disabled",!0),this.$loginBtn.prop("disabled",!0),t("[data-js-error-message]",this.$el).html(n)),e<=0&&(this.$errorBlock.addClass("hide"),this.$login.prop("disabled",!1),this.$pass.prop("disabled",!1),this.$loginBtn.prop("disabled",!1))},onForgotPass:function(){this.trigger("forgotPass")},unHighlight:function(){this.$loginForm.removeClass("bad-credentials")},onDestroy:function(){this.remove()}});return c}),define("login/loginRestoreView",["require","exports","module","jquery","backbone","backbone-epoxy","util","coreService","localization","app"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("util"),u=e("coreService"),a=e("localization"),f=e("app"),l=f.getInstance(),c=s.View.extend({className:"login-restore-subpage",attributes:{"data-js-login-restore-subpage":""},template:"tpl-new-login-restore",bindings:{"[data-js-build-versions]":"html: fullServicesHtml"},events:{"click [data-js-cancel-restore-btn]":"onCloseForgotPass","click [data-js-change-pass-btn]":"onSubmitForm","submit [data-js-restore-form]":"onSubmitForm"},initialize:function(){this.render()},render:function(){this.$el.html(o.templates(this.template,{})),this.setupAnchors(),this.bindValidators()},setupAnchors:function(){this.$restoreForm=r("[data-js-restore-form-wrapper]",this.$el),this.$submitRestore=r("[data-js-change-pass-btn]",this.$el),this.$email=r("[data-js-email]",this.$el)},bindValidators:function(){o.hintValidator(this.$email,[{validator:"matchRegex",type:"emailMatchRegex",pattern:l.patterns.email,arg:"i"}])},onCloseForgotPass:function(){this.trigger("closeForgotPass")},onSubmitForm:function(e){e.preventDefault(),e.stopPropagation(),this.submitForgotPass()},submitForgotPass:function(){r(".rp-field",this.$el).find("input").trigger("validate");if(r(".validate-error",this.$el).length)return;var e=this;u.initializePassChange(this.$email.val()).done(function(){o.ajaxSuccessMessenger("submitForgotPass",e.$email.val()),_.delay(e.onCloseForgotPass.bind(e),700)}).fail(function(e){var t=e.responseText.indexOf("external user")>-1?"submitForgotPassRestricted":"submitForgotPass";if(e.responseText.indexOf("40010")>-1||e.responseText.indexOf(a.failMessages.serverNotConfigured)>-1)t="submitForgotPassBrokenConf";o.ajaxFailMessenger(null,t)})}});return c}),define("login/loginResetView",["require","exports","module","jquery","backbone","backbone-epoxy","util","localization","coreService","app"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone"),s=e("backbone-epoxy"),o=e("util"),u=e("localization"),a=e("coreService"),f=e("app"),l=f.getInstance(),c=s.View.extend({className:"login-reset-subpage",attributes:{"data-js-login-reset-subpage":""},template:"tpl-new-login-reset",events:{"mousedown [data-js-toogle-visability]":"showPass","mouseleave [data-js-toogle-visability]":"hidePass","mouseup [data-js-toogle-visability]":"hidePass","touchstart [data-js-toogle-visability]":"showPass","touchend  [data-js-toogle-visability]":"hidePass","touchcancel  [data-js-toogle-visability]":"hidePass","validation:success .rp-input":"checkFields","click [data-js-reset-pass-btn]":"onSubmitForm","submit [data-js-reset-form]":"onSubmitForm"},initialize:function(e){this.restoreKey=e.restoreKey,this.render()},render:function(){this.$el.html(o.templates(this.template,{})),this.setupAnchors(),this.bindValidators()},setupAnchors:function(){this.$pass=r("[data-js-password]",this.$el),this.$confirmPass=r("[data-js-password-confirm]",this.$el),this.$resetPassBtn=r("[data-js-reset-pass-btn]",this.$el)},bindValidators:function(){o.hintValidator(this.$pass,[{validator:"matchRegex",type:"originalPassRegex",pattern:l.patterns.originalPass},{validator:"minMaxRequired",type:"password",min:4,max:25}]),o.hintValidator(this.$confirmPass,[{validator:"matchRegex",type:"originalPassRegex",pattern:l.patterns.originalPass},{validator:"minMaxRequired",type:"password",min:4,max:25}])},showPass:function(e){r(e.currentTarget).addClass("show").siblings(".rp-input").attr("type","text")},hidePass:function(e){r(e.currentTarget).removeClass("show").siblings(".rp-input").attr("type","password")},checkFields:function(){this.$confirmPass.val()!==this.$pass.val()&&this.$confirmPass.val()!==""?this.$confirmPass.parent().addClass("validate-error").find(".validate-hint").addClass("show-hint").html(u.validation.confirmMatch):this.$confirmPass.parent().removeClass("validate-error").find(".validate-hint").removeClass("show-hint")},onSubmitForm:function(e){e.preventDefault(),e.stopPropagation(),this.submitChangePass()},submitChangePass:function(){r(".rp-field",this.$el).find("input").trigger("validate");if(r(".validate-error",this.$el).length||this.$confirmPass.val()!==this.$pass.val())return;var e=this;a.submitPassReset(this.$pass.val(),this.restoreKey).done(function(){o.ajaxSuccessMessenger("submitChangePass"),_.delay(e.closeResetPassword.bind(e),700)}).fail(function(e){o.ajaxFailMessenger(e,"submitChangePass")})},closeResetPassword:function(){this.trigger("closeResetPass")},destroy:function(){this.undelegateEvents(),this.stopListening(),this.unbind(),this.remove(),delete this}});return c}),define("components/twitterNewsComponent/TwitterNewsItemView",["require","backbone-epoxy","util","app"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=e("app"),i=r.getInstance(),s=t.View.extend({className:"post-news-item",template:"tpl-twitter-news-item",events:{"click [data-js-social-link]":"onClickSocialLink"},bindings:{"[data-js-text]":"html: textHtml"},initialize:function(){this.render()},render:function(){this.$el.html(n.templates(this.template))},onClickSocialLink:function(){i.trackingDispatcher.trackEventNumber(527)}});return s}),define("components/twitterNewsComponent/TwitterNewsComponent",["require","jquery","underscore","backbone","backbone-epoxy","util","components/twitterNewsComponent/TwitterNewsItemView"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone"),i=e("backbone-epoxy"),s=e("util"),o=e("components/twitterNewsComponent/TwitterNewsItemView"),u=i.Model.extend({defaults:{id:"",text:"",user:"",entities:{}},computeds:{textHtml:{deps:["text","entities"],get:function(e,t){function o(e,t){n.each(e,function(e){e.indices[0]!==e.indices[1]&&r.push({start:e.indices[0],end:e.indices[1],html:t(e)})})}var r=[],i="",s;return o(t.urls,function(e){return'<a data-js-social-link target="_blank" href="'+e.url+'">'+e.display_url+"</a>"}),o(t.user_mentions,function(e){return'<a data-js-social-link target="_blank" href="https://twitter.com/intent/user?user_id='+e.id+'">@'+e.screen_name+"</a>"}),o(t.hashtags,function(e){return'<a data-js-social-link target="_blank" href="https://twitter.com/hashtag/'+e.text+'">#'+e.text+"</a>"}),o(t.media,function(e){return'<a data-js-social-link target="_blank" href="'+e.url+'">'+e.display_url+"</a>"}),r.sort(function(e,t){return e.start-t.start}),s=r.shift(),n.each(e,function(e,t){return!s&&r.length&&(s=r.shift()),!s||t<s.start?(i+=e,!0):s.start===t?(i+=s.html,!0):(t>=s.end&&(i+=e,s=null),!0)}),i.replace(/\n/g,"<br>")}}}}),a=r.Collection.extend({model:u}),f=i.View.extend({className:"post-news-component",template:"tpl-twitter-news-component",events:{},initialize:function(){var e=this;this.renderViews=[],this.collection=new a,this.listenTo(this.collection,"reset",this.renderTwits),this.render(),this.update(),t(window).on("resize.twitter",function(){e.resize()})},render:function(){this.$el.html(s.templates(this.template,this.options)),this.scrollEl=s.setupBaronScroll(t("[data-js-items-container]",this.$el))},update:function(){var e=this;t.ajax({url:"//status.reportportal.io/twitter",dataType:"jsonp",jsonp:"jsonp",crossDomain:!0,async:!0}).done(function(t){e.collection.reset(t)})},resize:function(){s.setupBaronScrollSize(this.scrollEl,{maxHeight:450})},renderTwits:function(){var e=this;this.destroyTwits(),n.each(this.collection.models,function(n){var r=new o({model:n});e.renderViews.push(r),t("[data-js-items-container]",e.$el).append(r.$el)}),this.resize()},destroyTwits:function(){n.each(this.renderViews,function(e){e.destroy()}),this.renderViews=[]},onDestroy:function(){t(window).off("resize.twitter"),this.destroyTwits()}});return f}),define("login/loginVersions/LoginVersionsItemView",["require","backbone-epoxy","util"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=t.View.extend({className:"login-versions-item",template:"tpl-login-versions-item",tagName:"span",bindings:{"[data-js-service-name]":"text: name","[data-js-service-version]":"text: version",":el":"classes: {expired: isNewVersion}, attr: {title: newVersionTitle}"},initialize:function(){this.render()},render:function(){this.$el.html(n.templates(this.template,{}))},onDestroy:function(){}});return r}),define("login/loginVersions/LoginVersionsModel",["require","backbone-epoxy"],function(e){"use strict";var t=e("backbone-epoxy"),n=t.Model.extend({defaults:{branch:"",description:"",name:"",repo:"",version:"",updateInfo:{}},computeds:{newVersionTitle:{deps:["repo","version","updateInfo"],get:function(e,t,n){return!e||!n[e]?"":this.semverCompare(n[e],t)===1?"Available new version: "+n[e]:""}},isNewVersion:{deps:["newVersionTitle"],get:function(e){return!!e}}},semverCompare:function(e,t){function s(e){var t=e.split("+"),n=t[0].split("-"),r=n[0].split(".");return n.shift(),{identificator:t[1],modificator:n.join("-"),versions:r}}function o(e,t){var i=Math.max(n.versions.length,r.versions.length),s;for(s=0;s<i;s+=1){if(!e[s])return-1;if(!t[s])return 1;if(e[s]>t[s])return 1;if(e[s]<t[s])return-1}return 0}function u(e,t){return e===t?0:e===""?1:t===""?-1:e>t?1:-1}var n,r,i;return n=s(e),r=s(t),i=o(n.versions,r.versions),i!==0?i:u(n.modificator,r.modificator)}});return n}),define("login/loginVersions/LoginVersionsCollection",["require","backbone","login/loginVersions/LoginVersionsModel"],function(e){"use strict";var t=e("backbone"),n=e("login/loginVersions/LoginVersionsModel"),r=t.Collection.extend({model:n});return r}),define("login/loginVersions/LoginVersionsView",["require","jquery","underscore","backbone-epoxy","util","model/SingletonRegistryInfoModel","login/loginVersions/LoginVersionsItemView","login/loginVersions/LoginVersionsCollection"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("model/SingletonRegistryInfoModel"),o=e("login/loginVersions/LoginVersionsItemView"),u=e("login/loginVersions/LoginVersionsCollection"),a=r.View.extend({className:"login-versions",template:"tpl-login-versions",initialize:function(){var e=new s,r=this;this.renderViews=[],this.collection=new u,this.listenTo(this.collection,"add",this.onAddService),this.render(),e.ready.done(function(){n.each(e.get("services"),function(e){r.collection.add(e.build)})}),t.ajax({url:"//status.reportportal.io/versions",dataType:"jsonp",jsonp:"jsonp",crossDomain:!0,async:!0}).done(function(t){e.ready.done(function(){n.each(r.collection.models,function(e){e.set({updateInfo:t})})})})},render:function(){this.$el.html(i.templates(this.template,{}))},onAddService:function(e){var n=new o({model:e});this.renderViews.push(n),t("[data-js-build-versions]",this.$el).append(n.$el)},onDestroy:function(){n.each(this.renderViews,function(e){e.destroy()})}});return a}),define("login/loginView",["require","jquery","backbone-epoxy","util","coreService","model/SingletonURLParamsModel","storage/SingletonAppStorage","login/loginLoginView","login/loginRestoreView","login/loginResetView","components/twitterNewsComponent/TwitterNewsComponent","login/loginVersions/LoginVersionsView"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("coreService"),s=e("model/SingletonURLParamsModel"),o=e("storage/SingletonAppStorage"),u=e("login/loginLoginView"),a=e("login/loginRestoreView"),f=e("login/loginResetView"),l=e("components/twitterNewsComponent/TwitterNewsComponent"),c=e("login/loginVersions/LoginVersionsView"),h=n.View.extend({className:"login-page",template:"tpl-new-login",events:{"click [data-js-logo]":"onClickLogo","click [data-js-gh-link]":"onClickGitHub","click [data-js-fb-link]":"onClickFaceBook","click [data-js-yt-link]":"onClickYouTube","click [data-js-tw-link]":"onClickTwitter","click [data-js-vk-link]":"onClickVk","click [data-js-sl-link]":"onClickSlack","click [data-js-ml-link]":"onClickMail"},onClickGitHub:function(){config.trackingDispatcher.trackEventNumber(528)},onClickFaceBook:function(){config.trackingDispatcher.trackEventNumber(529)},onClickYouTube:function(){config.trackingDispatcher.trackEventNumber(531)},onClickTwitter:function(){config.trackingDispatcher.trackEventNumber(530)},onClickVk:function(){config.trackingDispatcher.trackEventNumber(532)},onClickSlack:function(){config.trackingDispatcher.trackEventNumber(533)},onClickMail:function(){config.trackingDispatcher.trackEventNumber(534)},initialize:function(){var e=this;this.storage=new o,this.model=new(n.Model.extend({defaults:{blockTime:0}}));if(this.storage.get("login_block_time")){var u=((Date.now()-this.storage.get("login_block_time"))/1e3).toFixed();u<=30&&(this.model.set("blockTime",30-u),this.blockFormCountdown(30-u))}this.render(),this.twitterComponent=new l,t("[data-js-twitter-container]",this.$el).html(this.twitterComponent.$el),this.versionsServices=new c,t("[data-js-service-versions-container]",this.$el).html(this.versionsServices.$el);var a=new s;a.get("reset")?i.validateRestorationKey(a.get("reset")).done(function(t){t.is?(e.restoreKey=a.get("reset"),e.openResetPassword()):e.showRestorationError()}).fail(function(){e.showRestorationError()}):a.get("errorAuth")?(r.ajaxFailMessenger(null,null,a.get("errorAuth")),this.openLogin()):this.openLogin()},render:function(){this.$el.html(r.templates(this.template,{})),this.subviewContainer=t("[data-js-subpage-container]",this.$el)},openForgotPass:function(){this.loginSubView&&this.destroySubView(),this.loginSubView=new a,this.listenTo(this.loginSubView,"closeForgotPass",this.openLogin),this.subviewContainer.html(this.loginSubView.el)},openLogin:function(){this.loginSubView&&this.destroySubView(),this.loginSubView=new u({loginModel:this.model}),this.listenTo(this.loginSubView,"forgotPass",this.openForgotPass),this.listenTo(this.loginSubView,"blockLoginForm",this.blockLoginForm),this.subviewContainer.html(this.loginSubView.el)},openResetPassword:function(){this.loginSubView&&this.destroySubView(),this.loginSubView=new f({restoreKey:this.restoreKey}),this.listenTo(this.loginSubView,"closeResetPass",this.openLogin),this.subviewContainer.html(this.loginSubView.el)},onClickLogo:function(){window.open("http://reportportal.io/")},blockLoginForm:function(){var e=Date.now();this.storage.set("login_block_time",e),this.blockFormCountdown(30)},blockFormCountdown:function(e){var t=e,n=this;this.timer=setInterval(function(){t--,t<0?clearInterval(n.timer):n.model.set("blockTime",t)},1e3)},destroySubView:function(){this.loginSubView.destroy(),this.stopListening()},showRestorationError:function(){this.openLogin(),r.ajaxFailMessenger(null,"restorationExpired")},onDestroy:function(){clearInterval(this.timer),this.twitterComponent&&this.twitterComponent.destroy(),this.versionsServices&&this.versionsServices.destroy(),this.remove()}});return h}),define("demoLogin/demoLoginLoginView",["require","jquery","underscore","backbone-epoxy","util","localization","app","model/UserModel","model/SingletonRegistryInfoModel","login/LoginLoginAuthButtonView"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone-epoxy"),i=e("util"),s=e("localization"),o=e("app"),u=o.getInstance(),a=e("model/UserModel"),f=e("model/SingletonRegistryInfoModel"),l=e("login/LoginLoginAuthButtonView"),c=r.View.extend({className:"login-login-subpage",attributes:{"data-js-login-login-subpage":""},template:"tpl-demo-login-login",events:{"click [data-js-login-btn]":"onSubmitForm","submit [data-js-login-login-form]":"onSubmitForm","mousedown [data-js-toggle-visability]":"showPassword","mouseup [data-js-toggle-visability]":"hidePassword","mouseleave [data-js-toggle-visability]":"hidePassword","touchstart [data-js-toggle-visability]":"showPassword","touchend  [data-js-toggle-visability]":"hidePassword","touchcancel  [data-js-toggle-visability]":"hidePassword","focus .rp-input":"unHighlight"},initialize:function(e){this.oAuthButtons=[],this.loginModel=e.loginModel,this.listenTo(this.loginModel,"change:blockTime",this.blockForm),this.user=new a,this.registryModel=new f,this.render(),this.blockForm()},render:function(){this.$el.html(i.templates(this.template,{})),this.renderOAuth(),this.setupAnchors(),this.bindValidators()},renderOAuth:function(){var e=this;n.each(this.registryModel.get("authExtensions"),function(n){var r=new l(n);e.oAuthButtons.push(r),t("[data-js-oauth-container]",e.$el).append(r.$el)}),this.oAuthButtons.length&&t("[data-js-oauth-login]",this.$el).removeClass("hide")},setupAnchors:function(){this.$login=t("[data-js-login]",this.$el),this.$pass=t("[data-js-password]",this.$el),this.$loginBtn=t("[data-js-login-btn]",this.$el),this.$loginForm=t("[data-js-login-login-form]",this.$el),this.$errorBlock=t("[data-js-error-block]",this.$el)},bindValidators:function(){i.hintValidator(this.$login,[{validator:"matchRegex",type:"loginRegex",pattern:u.patterns.login},{validator:"minMaxRequired",type:"login",min:1,max:128}]),i.hintValidator(this.$pass,[{validator:"matchRegex",type:"originalPassRegex",pattern:u.patterns.originalPass},{validator:"minMaxRequired",type:"password",min:4,max:25}])},showPassword:function(e){t(e.currentTarget).addClass("show"),this.$pass.attr("type","text")},hidePassword:function(e){t(e.currentTarget).removeClass("show"),this.$pass.attr("type","password")},onSubmitForm:function(e){e.preventDefault(),e.stopPropagation(),this.login()},login:function(){var e=this,n,r;t(".rp-field",this.$el).find("input").trigger("validate");if(t(".validate-error",this.$el).length)return;n=this.cutIfEmail(this.$login.val()),r=encodeURIComponent(this.$pass.val()),u.router&&u.router.navigate("login",{silent:!0}),this.user.login(n,r).done(function(){}).fail(function(t){t.status===403?e.trigger("blockLoginForm"):t.status===400&&JSON.parse(t.responseText).error_code===4003&&e.$loginForm.addClass("bad-credentials")})},cutIfEmail:function(e){return i.validateEmail(e)?e.slice(0,e.indexOf("@")):e},blockForm:function(){var e=this.loginModel.get("blockTime"),n;e&&e<=30&&(n=s.login.blockedLoginForm+" <strong data-js-block-timer>"+e+"</strong> "+s.ui.sec+".",this.$errorBlock.removeClass("hide"),this.$login.prop("disabled",!0),this.$pass.prop("disabled",!0),this.$loginBtn.prop("disabled",!0),t("[data-js-error-message]",this.$el).html(n)),e<=0&&(this.$errorBlock.addClass("hide"),this.$login.prop("disabled",!1),this.$pass.prop("disabled",!1),this.$loginBtn.prop("disabled",!1))},unHighlight:function(){this.$loginForm.removeClass("bad-credentials")},onDestroy:function(){this.remove()}});return c}),define("demoLogin/demoLoginView",["require","jquery","backbone-epoxy","util","coreService","model/SingletonURLParamsModel","storage/SingletonAppStorage","demoLogin/demoLoginLoginView","components/twitterNewsComponent/TwitterNewsComponent"],function(e){"use strict";var t=e("jquery"),n=e("backbone-epoxy"),r=e("util"),i=e("coreService"),s=e("model/SingletonURLParamsModel"),o=e("storage/SingletonAppStorage"),u=e("demoLogin/demoLoginLoginView"),a=e("components/twitterNewsComponent/TwitterNewsComponent"),f=n.View.extend({className:"login-page demo-login",template:"tpl-demo-login",events:{"click [data-js-logo]":"onClickLogo","click [data-js-gh-link]":"onClickGitHub","click [data-js-fb-link]":"onClickFaceBook","click [data-js-yt-link]":"onClickYouTube","click [data-js-tw-link]":"onClickTwitter","click [data-js-vk-link]":"onClickVk","click [data-js-sl-link]":"onClickSlack","click [data-js-ml-link]":"onClickMail"},onClickGitHub:function(){config.trackingDispatcher.trackEventNumber(528)},onClickFaceBook:function(){config.trackingDispatcher.trackEventNumber(529)},onClickYouTube:function(){config.trackingDispatcher.trackEventNumber(531)},onClickTwitter:function(){config.trackingDispatcher.trackEventNumber(530)},onClickVk:function(){config.trackingDispatcher.trackEventNumber(532)},onClickSlack:function(){config.trackingDispatcher.trackEventNumber(533)},onClickMail:function(){config.trackingDispatcher.trackEventNumber(534)},initialize:function(){var e=this;this.storage=new o,this.model=new(n.Model.extend({defaults:{blockTime:0}}));if(this.storage.get("login_block_time")){var u=((Date.now()-this.storage.get("login_block_time"))/1e3).toFixed();u<=30&&(this.model.set("blockTime",30-u),this.blockFormCountdown(30-u))}this.render(),this.twitterComponent=new a,t("[data-js-twitter-container]",this.$el).html(this.twitterComponent.$el);var f=new s;f.get("reset")?i.validateRestorationKey(f.get("reset")).done(function(t){t.is?(e.restoreKey=f.get("reset"),e.openResetPassword()):e.showRestorationError()}).fail(function(){e.showRestorationError()}):f.get("errorAuth")?(r.ajaxFailMessenger(null,null,f.get("errorAuth")),this.openLogin()):this.openLogin()},render:function(){this.$el.html(r.templates(this.template,{})),this.subviewContainer=t("[data-js-subpage-container]",this.$el)},openLogin:function(){this.loginSubView&&this.destroySubView(),this.loginSubView=new u({loginModel:this.model}),this.listenTo(this.loginSubView,"blockLoginForm",this.blockLoginForm),this.subviewContainer.html(this.loginSubView.el)},onClickLogo:function(){window.open("http://reportportal.io/")},blockLoginForm:function(){var e=Date.now();this.storage.set("login_block_time",e),this.blockFormCountdown(30)},blockFormCountdown:function(e){var t=e,n=this;this.timer=setInterval(function(){t--,t<0?clearInterval(n.timer):n.model.set("blockTime",t)},1e3)},destroySubView:function(){this.loginSubView.destroy(),this.stopListening()},showRestorationError:function(){this.openLogin(),r.ajaxFailMessenger(null,"restorationExpired")},onDestroy:function(){clearInterval(this.timer),this.twitterComponent&&this.twitterComponent.destroy(),this.remove()}});return f}),define("invalidPage/invalidPage",["require","backbone-epoxy","util","app"],function(e){"use strict";var t=e("backbone-epoxy"),n=e("util"),r=e("app"),i=r.getInstance(),s=t.View.extend({tpl:"tpl-invalid-page",className:"invalid-page",events:{"click [data-js-back-home]":"onClickHome"},initialize:function(){this.render()},render:function(){return this.$el.html(n.templates(this.tpl)),i.userModel.set({lastInsideHash:i.userModel.getDefaultProjectHash()}),this},onClickHome:function(){i.router.navigate(i.userModel.getDefaultProjectHash(),{trigger:!0})},onDestroy:function(){this.remove()}});return s}),define("components/Timer",["require","exports","module","jquery","backbone-epoxy","util","model/SingletonRegistryInfoModel","model/UserModel","storage/SingletonAppStorage","localization","app"],function(e,t,n){"use strict";var r=e("jquery"),i=e("backbone-epoxy"),s=e("util"),o=e("model/SingletonRegistryInfoModel"),u=e("model/UserModel"),a=e("storage/SingletonAppStorage"),f=e("localization"),l=e("app"),c=l.getInstance(),h=i.View.extend({template:"tpl-component-timer",bindings:{"[data-js-hours]":"text: hours","[data-js-minutes]":"text: minutes","[data-js-seconds]":"text: seconds","[data-js-banner-text]":"html: bannerText"},events:{"click [data-js-github-auth]":"onClickGithubAuth"},computeds:{bannerText:function(){return c.userModel.get("account_type")==="GITHUB"?f.login.demoGithub:f.login.publicAccount}},onClickGithubAuth:function(e){this.userModel.logout()},startTimer:function(){var e=this.storage.get("flushing_time"),t=this;this.timer=setInterval(function(){e-=1e3;if(e<0)clearInterval(t.timer),t.storage.clear(),window.localStorage.clear(),t.userModel.logout();else{t.storage.set("flushing_time",e);var n=Math.floor(e/3600/1e3),r=Math.floor((e-n*3600*1e3)/60/1e3),i=Math.floor((e-n*3600*1e3-r*60*1e3)/1e3);t.model.set("hours",n),t.model.set("minutes",r),t.model.set("seconds",i)}},1e3)},initialize:function(){this.infoModel=new o,this.storage=new a,this.userModel=new u;if(this.infoModel.get("getTriggersIn")){this.storage.set("flushing_time",this.infoModel.get("getTriggersIn"));var e=this.storage.get("flushing_time"),t=Math.floor(e/3600/1e3),n=Math.floor((e-t*3600*1e3)/60/1e3),r=Math.floor((e-t*3600*1e3-n*60*1e3)/1e3);this.model=new(i.Model.extend({defaults:{hours:t,minutes:n,seconds:r}})),this.render(),!this.timer&&this.startTimer()}},render:function(){this.$el.html(s.templates(this.template,{}))},destroy:function(){clearInterval(this.timer),this.storage.set("flushing_time",null),this.$el.empty()}});return h}),define("context",["require","jquery","underscore","backbone","app","mainview","util","coreService","admin","register/registerView","login/loginView","demoLogin/demoLoginView","invalidPage/invalidPage","components/Timer","model/SingletonAppModel","storage/SingletonUserStorage","filters/SingletonLaunchFilterCollection","model/SingletonRegistryInfoModel"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone"),i=e("app"),s=e("mainview"),o=e("util"),u=e("coreService"),a=e("admin"),f=e("register/registerView"),l=e("login/loginView"),c=e("demoLogin/demoLoginView"),h=e("invalidPage/invalidPage"),p=e("components/Timer"),d=e("model/SingletonAppModel"),v=e("storage/SingletonUserStorage"),m=e("filters/SingletonLaunchFilterCollection"),g=e("model/SingletonRegistryInfoModel"),y=i.getInstance(),b=new d,w=new v,E=new m,S=new g,x={currentContext:null,mainView:undefined,invalidView:null,contentView:null,currentProjectId:null,bodyContainer:null,mainContainer:null,containersSet:!1,wrongResponseTo404:function(e){y.userModel.clearLastInsidePage(),this.openInvalid(e)},loadProject:function(){var e=this;return b.update().done(function(t){e.currentProjectId=t.projectId,y.project=t})},loadPreferences:function(){var e=t.Deferred();return u.getPreferences().done(function(t){y.preferences=t,E.parse(t.filters).always(function(){e.resolve()})}).fail(function(t){e.reject(t)}),e},openAdmin:function(e,n,r,i){var s;if(!y.userModel.get("isAdmin")){y.router.navigate(y.userModel.get("defaultProject"),{trigger:!0});return}this.prepareInsideView(),this.currentContext=e,n&&b.set({projectId:n}),this.checkForContextChange(e),s={page:e,id:n,action:r,contextName:this.currentContext,queryString:i},this.currentProjectId=null,this.validateMainViewByContextName(),this.bodyContainer=t("#bodyContainer"),this.mainView?this.mainView.update(s):(this.mainView=new a.MainView({el:this.bodyContainer}),this.mainView.render(s)),y.mainScrollElement.focus()},openRouted:function(e,n,r,i){var o=[],u,a=this,f;e&&w.set({lastProject:e}),y.trackingDispatcher.pageView(n),this.prepareInsideView(),this.checkForContextChange(n),this.currentContext=n,this.validateMainViewForAdmin(),this.container=t("#mainContainer"),y.project.projectId=e||y.userModel.get("defaultProject"),u={container:this.container,projectId:e,contextName:n,subContext:r,queryString:i},this.preferencesAreNotLoaded()&&o.push(this.loadPreferences()),b.get("projectId")!==e&&o.push(this.loadProject()),this.destroyInvalidView(),f=function(){a.mainView?a.mainView.update(u):(a.mainView=new s.MainView({el:a.container,contextName:n,projectId:e}),a.mainView.render(u),S.update().done(function(){a.timer=new p,t("[data-js-banner]").html(a.timer.$el)})),y.mainScrollElement.focus()},this.validateContentViewByContextName(n),o.length?t.when.apply(t,o).done(function(){a.destroyMainView(),f()}).fail(function(e){a.wrongResponseTo404(e)}):f()},preferencesAreNotLoaded:function(){return!y.preferences||y.preferences.projectRef!==y.project.projectId},checkForContextChange:function(e){this.currentContext&&this.currentContext!==e&&o.clearXhrPool(),this.currentContext=e},openRegister:function(e){this.prepareOutsideView(),this.outsideView=new f({uuid:e,context:this}),t("[data-js-notapplication-container]").html(this.outsideView.$el)},openLogin:function(){this.prepareOutsideView(),S.get("isDemo")?this.outsideView=new c({context:this}):this.outsideView=new l({context:this}),t("[data-js-notapplication-container]").html(this.outsideView.$el)},prepareOutsideView:function(){this.destroyViews(),this.outsideView&&this.outsideView.destroy(),t("[data-js-application-container]").addClass("hide")},prepareInsideView:function(){this.outsideView&&this.outsideView.destroy(),t("[data-js-application-container]").removeClass("hide")},isSettingsPage:function(e){return e==="settings"},validateMainViewForAdmin:function(){this.mainView&&this.mainView.contextName==="admin"&&this.destroyMainView()},validateMainViewByContextName:function(){this.mainView&&this.mainView.contextName!=="admin"&&this.destroyMainView()},destroyViews:function(){this.destroyContentView(),this.destroyMainView()},validateContentViewByContextName:function(e){this.contentView&&this.contentView.contextName!==e&&this.destroyContentView()},openInvalid:function(e){this.prepareOutsideView(),this.outsideView=new h({error:e}),t("[data-js-notapplication-container]").html(this.outsideView.$el)},logout:function(){this.timer.destroy(),this.currentProjectId=null,o.ajaxInfoMessenger("logOuted")},destroyMainView:function(){this.mainView&&(this.mainView.destroy(),this.mainView=null)},destroyContentView:function(){this.contentView&&(this.contentView.destroy(),this.contentView=null)},destroyInvalidView:function(){this.invalidView&&(this.invalidView.destroy(),this.invalidView=null)},getAppProp:function(){var e=this.mainView;return{getMainView:function(){return e}}}};return n.extend(x,r.Events),x}),define("TestRoute",["require","exports","module"],function(e,t,n){"use strict";var r=function(){this.tests={}};return r.prototype.addTest=function(e,t){this.tests[e]=t},r.prototype.checkTest=function(e,t){var n=this;return function(){var r=arguments,i=this;if(!n.tests[e])throw"TestRoute: test not defined";n.tests[e]().done(function(){t.apply(i,r)})}},r}),define("router",["require","jquery","backbone","context","app","TestRoute","model/UserModel","storage/SingletonUserStorage"],function(e){"use strict";var t=e("jquery"),n=e("backbone"),r=e("context"),i=e("app"),s=e("TestRoute"),o=e("model/UserModel"),u=e("storage/SingletonUserStorage"),a=i.getInstance(),f=new u,l=new s,c=n.Router.extend({initialize:function(){var e=this;this.context=r,this.user=new o,this.skipNextRoute=!1,l.addTest("insidePage",function(){var n=t.Deferred();return e.user.isAuth().done(function(){n.resolve(),e.user.set({lastInsideHash:window.location.hash})}).fail(function(){window.location.hash.indexOf("registration")>=0?e.navigate(window.location.hash,{trigger:!0}):(e.user.set({lastInsideHash:window.location.hash}),e.navigate("login",{trigger:!0}))}),n.promise()}),l.addTest("outsidePage",function(){var n=t.Deferred();return e.user.isAuth().done(function(){e.navigate(e.user.get("lastInsideHash"),{trigger:!0})}).fail(function(){n.resolve()}),n.promise()}),this.user.ready.done(function(){e.listenTo(e.user,"change:auth",e.onChangeUserAuth.bind(e))})},onChangeUserAuth:function(e,t){t?(outdatedBrowser({bgColor:"#f25648;",color:"#ffffff",lowerThan:"transform",languagePath:""}),this.navigate(e.get("lastInsideHash"),{trigger:!0})):(this.navigate("",{trigger:!0}),r.logout())},before:function(){this.trigger("beforeRoute")},after:function(){this.trigger("afterRoute")},routes:{"":"openLogin",login:"openLogin",api:"openApi","user-profile":"userProfile","registration?*queryString":"registerUser","administrate/project-details/:id?*queryString":"openAdminProjectDetailsQuery","administrate/project-details/:id":"openAdminProjectDetails","administrate/project-details/:id/:action":"openAdminProjectDetails","administrate/project-details/:id/:action/:userAction":"openAdminProjectDetails",administrate:"openAdminPage","administrate/:page":"openAdminPage","administrate/:page?*queryString":"openAdminPage","administrate/:page/:action":"openAdminPageAction","administrate/:page/:action?*queryString":"openAdminPageAction",":project/filters?*queryString":"openFilters",":project/filters":"openFilters",":project/members":"openMembersDefault",":project/members/:action":"openMembers",":project/settings":"openSettings",":project/settings/:tab":"openSettings",":project/launches/:filterId(/*path)":"openLaunch",":project/userdebug/:filterId(/*path)":"openUserDebug",":project/dashboard":"openDashboard",":project/dashboard/:id":"openDashboard",":project/dashboard/:id?*queryString":"openDashboard",":project(/)":"openDashboard","*invalidRoute":"show404Page"},show404Page:function(e){r.openInvalid(e)},registerUser:l.checkTest("outsidePage",function(e){r.openRegister(e)}),openLogin:l.checkTest("outsidePage",function(){r.openLogin()}),openProject:l.checkTest("insidePage",function(e){r.openRouted(e,"info",null,null)}),openUserDebug:l.checkTest("insidePage",function(e){r.openRouted(e,"userdebug",arguments)}),openFilters:l.checkTest("insidePage",function(e,t){r.openRouted(e,"filters",null,t)}),openApi:l.checkTest("insidePage",function(){r.openRouted(f.get("lastProject"),"api",null,null)}),userProfile:l.checkTest("insidePage",function(){r.openRouted(f.get("lastProject"),"user-profile",null,null)}),openMembers:l.checkTest("insidePage",function(e,t){r.openRouted(e,"members",t,null)}),openMembersDefault:l.checkTest("insidePage",function(e){r.openRouted(e,"members","assigned",null)}),openLaunch:l.checkTest("insidePage",function(e){r.openRouted(e,"launches",arguments)}),openSettings:l.checkTest("insidePage",function(e,t){r.openRouted(e,"settings",t,null)}),openDashboard:l.checkTest("insidePage",function(e,t,n){r.openRouted(e,"dashboard",t,n)}),openAdminPage:l.checkTest("insidePage",function(e,t){e=e||"projects",r.openAdmin(e,null,null,t)}),openAdminPageAction:l.checkTest("insidePage",function(e,t,n){r.openAdmin(e,undefined,t,n)}),openAdminResource:l.checkTest("insidePage",function(e,t,n,i){r.openAdmin(e,t,n,i)}),openAdminUsersAction:l.checkTest("insidePage",function(e,t,n,i){r.openAdmin(e,t,n,i)}),openAdminProjectDetails:l.checkTest("insidePage",function(e,t,n){r.openAdmin("project-details",e,t,n)}),openAdminProjectDetailsQuery:l.checkTest("insidePage",function(e,t){r.openAdmin("project-details",e,null,t)})});return{Router:c}}),define("dispatchers/TrackingDispatcher",["require","backbone"],function(e){function r(e){return'Click on "Export: '+e+'" in Launch Menu'}function i(e){return"Stars download of report in "+e}function s(e){return'Hover on Table title "'+e+'"'}function o(e){return'Arise filter icon before Table title "'+e+'"'}function u(e){return'Click on Filter Icon before Table title "'+e+'"'}function a(){return"Arise new field in filter"}function f(){return"Arise tooltip"}var t=e("backbone"),n={1:["Sidebar","Click on Menu Bttn Dashboards","Transition on Dashboards Page"],2:["Sidebar","Click on Menu Bttn Filters","Transition on Filters Page"],3:["Sidebar","Click on Menu Bttn Debug","Transition on Debug Page"],4:["Header","Click on Menu Bttn Members","Transition on Members Page"],5:["Header","Click on Menu Bttn Settings","Transition on Settings Page"],6:["Header","Click on Profile Dropdown","Arise Dropdown Menu"],7:["Header","Click on Profile link on Dropdown","Transition on Profile Page"],8:["Header","Click on Administrate link on Dropdown","Transition to Administrate Mode"],9:["Header","Click on Logout link on Dropdown","Logout and transition on Landing Page"],10:["Header","Click on Project Dropdown","Arise Dropdown with list of Projects"],11:["Header","Click on Another Project Name","Transition to another project"],12:["Filter Launches","Click on Bttn Add Filters","Add New Filter"],13:["Filter Panel","Click on Bttn Discard","Discard Filter parameters"],14:["Filter Panel","Click on Bttn Clone","Clone Filter parameters"],15:["Filter Panel","Click on Bttn Edit",'Edit Filter parameters/Arise modal "Edit Filter"'],16:["Filter Panel","Click on Bttn Save","Save Filter parameters"],17:["Filter Panel","Click on Bttn Add Widget",'Add New Widget from Launches Page/Arise Modal "Add Widget"'],22:["Launches","Click on All Launches","Transition to All Launches without filter"],23:["Launches","Click on Item Name","Transition to Item page"],24:["Launches","Click on Icon Menu near Launch Name","Arise Dropdown with single actions for this launch"],25:["Launches",'Click on "Move to Debug" in Launch Menu','Arise Modal "Move to Debug"'],26:["Launches",'Click on "Force Finish" in Launch Menu',"Interrupt launch loading"],27:["Launches",'Click on "Match Issues in Launch" in Launch Menu',"Starts Matching"],28:["Launches",'Click on "Analysis" in Launch Menu',"Starts Analysing"],29:["Launches",'Click on "Delete" in Launch Menu','Arise Modal "Delete Launch"'],30:["Launches",r("PDF"),i("PDF")],31:["Launches",r("XLS"),i("XLS")],32:["Launches",r("HTML"),i("HTML")],34:["Launches",u("NAME"),a()],36:["Launches",u("START"),a()],38:["Launches",u("TOTAL"),a()],40:["Launches",u("PASSED"),a()],42:["Launches",u("FAILED"),a()],44:["Launches",u("SKIPPED"),a()],46:["Launches",u("PRODUCT BUG"),a()],48:["Launches",u("AUTO BUG"),a()],50:["Launches",u("SYSTEM ISSUE"),a()],52:["Launches",u("TO INVESTIGATE"),a()],53:["Launches","Click on Edit Icon after launch name",'Edit Launch/Arise Modal "Edit Launch"'],54.2:["Launches","Click on Product Bug Circle","Transition to inner level of launch with Product Bugs"],55:["Launches",'Click on Tooltip "Total Product Bugs"',"Transition to inner level of launch with Product Bugs"],56.2:["Launches","Click on Auto Bug Circle","Transition to inner level of launch with Auto Bug"],57:["Launches",'Click on Tooltip "Total Auto Bug"',"Transition to inner level of launch with Auto Bug"],58.2:["Launches","Click on System Issue Circle","Transition to inner level of launch with System Issue"],59:["Launches",'Click on Tooltip "Total System Issue"',"Transition to inner level of launch with System Issue"],60:["Launches","Click on To Investigate tag","Transition to inner level of launch with To Investigate"],61.1:["Launches",'Click on item icon "select all launches"',"Select/unselect all launches"],61.2:["Launches",'Click on item icon "select one launch"',"Select/unselect one launch"],61.3:["Launches","Click on Bttn Actions","Arise Dropdown with list of actions"],62:["Launches",'Click on Bttn "Merge" in list of actions','Arise Modal "Merge Launches"'],63:["Launches",'Click on Bttn "Compare" in list of actions','Arise Modal "Compare Launches"'],64:["Launches",'Click on Bttn "Move to Debug" in list of actions','Arise Modal "Move to Debug"'],65:["Launches",'Click on Bttn "Force Finish" in list of actions',"Force Finish"],66:["Launches",'Click on Bttn "Delete" in list of actions','Arise Modal "Delete Launch"'],67:["Launches","Click on Close Icon on Tag of Launch","Remove launch from  selection"],68:["Launches","Click on Close Icon of all selection","Unselect all launches"],70:["Launches",'Click on Bttn "Proceed Valid Items"',"Remove invalid launches from selection"],71.1:["Modal Launches",'Click on Close Icon on Modal "Edit Launch"','Close modal "Edit Launch"'],71.2:["Modal Launches",'Edit description in Modal "Edit Launch"',"Edit launch description"],72:["Modal Launches",'Click on Bttn Cancel on Modal "Edit Launch"','Close modal "Edit Launch"'],73:["Modal Launches",'Click on Bttn Save on Modal "Edit Launch"','Save changes "Edit Launch"'],74:["Modal Launches",'Click on Close Icon on Modal "Move to Debug"','Close modal "Move to Debug"'],75:["Modal Launches",'Click on Bttn Cancel on Modal "Move to Debug"','Close modal "Move to Debug"'],76:["Modal Launches",'Click on Bttn Save on Modal "Move to Debug"','Save changes "Move to Debug"'],77:["Modal Launches",'Click on Close Icon on Modal "Delete Launch"','Close modal "Delete Launch"'],78:["Modal Launches",'Click on Bttn Cancel on Modal "Delete Launch"','Close modal "Delete Launch"'],79:["Modal Launches",'Click on Bttn Delete on Modal "Delete Launch"','Delete launch mentioned in modal "Delete Launch"'],80:["Modal Launches",'Click on Close Icon on Modal "Merge Launches"','Close modal "Merge Launches"'],81:["Modal Launches",'Click on Bttn Cancel on Modal "Merge Launches"','Close modal "Merge Launches"'],82:["Modal Launches",'Click on Bttn Merge on Modal "Merge Launches"','Merge launches mentioned in modal "Merge Launches"'],83:["Suite","Click on Bread Crumb icon Plus/Minus","Show/Hide all names of items"],84:["Suite","Click on Bread Crumb All","Transition to Launches Page"],85:["Suite","Click on Bread Crumb Item name","Transition to Item"],86:["Suite","Click on Bttn Delete","Delete selected Items"],87:["Suite","Click on Bttn History","Transition to History View Page"],88:["Suite","Click on Bttn Refresh","Refresh the page"],96:["Suite","Enter parameters to refine by name","Refine by name"],97.1:["Suite","Click on Refine bttn More","Arise dropdown with parameters"],97.2:["Suite","Select parameters to refine","Show parameters fields to refine"],98:["Suite",'Click on item icon "edit"','Arise Modal "Edit Item"'],99:["Suite",'Click on item icon "select all items"',"Select/unselect all items"],100.1:["Suite",'Click on item icon "select one item"',"Select/unselect one item"],100.2:["Suite",'Click on icon "close" on selected item',"Remove item from  selection"],100.3:["Suite",'Click on icon "close" of all selection',"Unselect all items"],100.4:["Suite",'Click on Bttn "Proceed Valid Items"',"Remove invalid items from selection"],101:["Suite",'Click on Close Icon on Modal "Edit Item"','Close modal "Edit Item"'],102:["Suite",'Edit description in Modal "Edit Item"',"Edit description"],103:["Suite",'Click on Bttn Cancel on Modal "Edit Item"','Close modal "Edit Item"'],104:["Suite",'Click on Bttn Save on Modal "Edit Item"',"Save changes"],105:["Suite",'Click on icon "filter" on Name','"Suite name" input becomes active'],106:["Suite",'Click on icon "sorting" on Name',"Sort items by name"],107:["Suite",'Click on icon "filter" on Start time','Arises active "Start time" input'],108:["Suite",'Click on icon "sorting" on Start time',"Sort items by Start time"],109:["Suite",'Click on icon "filter" on Total','Arises active "Total" input'],110:["Suite",'Click on icon "sorting" on Total',"Sort items by Total"],111:["Suite",'Click on icon "filter" on Passed','Arises active "Passed" input'],112:["Suite",'Click on icon "sorting" on Passed',"Sort items by Passed"],113:["Suite",'Click on icon "filter" on Failed','Arises active "Failed" input'],114:["Suite",'Click on icon "sorting" on Failed',"Sort items by Failed"],115:["Suite",'Click on icon "filter" on Skipped','Arises active "Skipped" input'],116:["Suite",'Click on icon "sorting" on Skipped',"Sort items by Skipped"],117:["Suite",'Click on icon "filter" on Product Bug','Arises active "Product Bug" input'],118:["Suite",'Click on icon "sorting" on Product Bug',"Sort items by Product Bug"],119:["Suite",'Click on icon "filter" on Auto Bug','Arises active "Auto Bug" input'],120:["Suite",'Click on icon "sorting" on Auto Bug',"Sort items by Auto Bug"],121:["Suite",'Click on icon "filter" on System Issue','Arises active "System Issue" input'],122:["Suite",'Click on icon "sorting" on System Issue',"Sort items by System Issue"],123:["Suite",'Click on icon "filter" on To Investigate','Arises active "To Investigate" input'],124:["Suite",'Click on icon "sorting" on To Investigatee',"Sort items by To Investigate"],126.1:["Suite","Click on PB Circle","Transition to PB list view"],126.2:["Suite",'Click on Tooltip "Total Product Bugs"',"Transition to PB list view"],128.1:["Suite","Click on AB Circle","Transition to AB list view "],128.2:["Suite",'Click on Tooltip "Auto Bug"',"Transition to AB list view "],130.1:["Suite","Click on SI Circle","Transition to SI list view "],130.2:["Suite",'Click on Tooltip "Total System Issue"',"Transition to SI list view"],131:["Suite","Click on TI tag","Transition to TI list view "],132:["History View",'Select "history depth"','Show parameter of selected "history depth"'],133:["History View","Click on item",'Transition to "Item"'],135:["Test","Enter parameters to refine by name","Refine by name"],136:["Test","Click on Refine bttn More","Arise dropdown with parameters"],137:["Test","Select parameters to refine","Show parameters fields to refine"],138:["Test","Click on Method type switcher","Show/Hide method type"],139:["Test",'Click on icon "filter" Method type','Arises active "Method type" input'],140:["Test",'Click on icon "sorting" Method type',"Sort items by Method type"],141:["Test",'Click on icon "filter" Name','"Suite name" input becomes active'],142:["Test",'Click on icon "sorting" Name',"Sort items by Name"],143:["Test",'Click on icon "filter" Status','Arises active "Status" input'],144:["Test",'Click on icon "sorting" Status',"Sort items by Status"],145:["Test",'Click on icon "filter" Start time','Arises active "Start time" input'],146:["Test",'Click on icon "sorting" Start time',"Sort items by Start time"],147:["Test",'Click on icon "filter" Defect type','Arises active "Defect type" input'],148:["Test",'Click on icon "sorting" Defect type',"Sort items by Defect type"],149:["Test",'Click on item icon "edit"','Arise Modal "Edit Item"'],150:["Test",'Click on icon "edit" of Defect type tag','Arise Modal "Edit Defect Type"'],151:["Test",'Click on item icon "select all items"',"Select/unselect all items"],152:["Test",'Click on item icon "select one item"',"Select/unselect one item"],153:["Test",'Click on Close Icon on Modal "Edit Item"','Close modal "Edit Item"'],154:["Test",'Edit description in Modal "Edit Item"',"Edit description"],155:["Test",'Click on Bttn Cancel on Modal "Edit Item"','Close modal "Edit Item"'],156:["Test",'Click on Bttn Save on Modal "Edit Item"',"Save changes"],157:["Test",'Click on Close Icon on Modal "Edit Defect Type"','Close modal "Edit Defect Type"'],158:["Test",'Edit description in Modal "Edit Defect Type"',"Edit description"],159:["Test",'Click on Bttn Cancel on Modal "Edit Defect Type"','Close modal "Edit Defect Type"'],160:["Test",'Click on Bttn Save on Modal "Edit Defect Type"',"Save changes"],161:["Test",'Click on icon "close" on selected item',"Unselect item"],162:["Test",'Click on Bttn "Proceed Valid Items"',"Remove invalid launches from selection"],163:["Test","Click on Close Icon of all selection","Close panel with selected items"],164:["Test",'Click on Bttn "Edit Defect"','Arise Modal "Edit Defect Type"'],165:["Test",'Click on Bttn "Post Bug"','Arise Modal "Post Bug"'],166:["Test",'Click on Bttn "Load Bug"','Arise Modal "Load Bug"'],167:["Test",'Click on Bttn "Delete"','Arise Modal "Delete Item"'],168:["Test",'Click on Bttn "History"',"Transition to History View Page"],169:["Test",'Click on Bttn "Refresh"',"Refresh page"],170:["Test","Click on Icon Close on Modal Post Bug","Close Modal Post Bug"],171:["Test","Click on Screenshots switcher on Modal Post Bug","On/off Screenshots in Modal Post Bug"],172:["Test","Click on Logs switcher on Modal Post Bug","On/off Logs in Modal Post Bug"],173:["Test","Click on Comment switcher on Modal Post Bug","On/off Comment in Modal Post Bug"],174:["Test","Click on Bttn Cancel on Modal Post Bug","Close Modal Post Bug"],175:["Test","Click on Bttn Post on Modal Post Bug","Post bug"],176:["Test","Click on Icon Close on Modal Load Bug","Close Modal Load Bug"],177:["Test","Click on Bttn Add New Issue on Modal Load Bug","Add input in Modal Load Bug"],178:["Test","Click on Bttn Cancel on Modal Load Bug","Close Modal Load Bug"],179:["Test","Click on Bttn Load on Modal Load Bug","Load bug"],180:["Test","Click on Icon Close on Modal Delete Item","Close Modal Delete Item"],181:["Test","Click on Bttn Cancel on Modal Delete Item","Close Modal Delete Item"],182:["Test","Click on Bttn Delete on Modal Delete Item","Delete item"],183:["Log","Click on Bread Crumb icon Plus/Minus","Show/Hide all names of items"],184:["Log","Click on Bread Crumb All","Transition to Launches Page"],185:["Log","Click on Bread Crumb Item name","Transition to Item"],186:["Log","Click on Bttn prev Method","Transition to prev Method Item"],187:["Log","Click on Bttn next Method","Transition to next Method Item"],188:["Log","Click on Bttn Refresh","Refresh page"],190:["Log","Click on History execution tab","Transition to item log page"],192:["Log","Click on Defect type tag","Arise Modal Edit Defect type"],193:["Log","Click on Bttn Post Bug","Arise Modal Post Bug"],194:["Log","Click on Bttn Load Bug","Arise Modal Load Bug"],195:["Log","Click on Bttn Match issues in launch","Begin autoanalysis"],200:["Log","Click on Stack Trace tab","Open Stack Trace tab"],201:["Log","Click on Attachments tab","Open Attachments tab"],202:["Log","Click on Item Details tab","Open Item Details tab"],203:["Log","Click on History of Actions tab","Open History of Actions tab"],204:["Log","Click on Log level filter","Arise log level filter dropdown"],205:["Log","Select Log level filter in dropdown","Filter by selected parametr"],206:["Log","Click on checkbox Logs with attachments","Check/uncheck logs with attachments"],207:["Log","Click on Bttn Next Error","Transition to next error page"],208:["Log","Click on Bttn Previous Log message page","Transition to previous log message page"],209:["Log","Click on Bttn Next Log message page","Transition to next log message page"],210:["Log","Enter filter parameter in Log message input","Filter log messages by parameter"],211:["Log","Click on icon Sorting on Time in Log Message","Sort logs"],212:["Log","Click on Attachment in Log Message","Open Attachment"],213:["Log","Click on icon Expand in Log Message","Expand/close log"],214:["Log","Click on Go to Stack Trace link in Stack Trace tab","Open Stack Trace log message"],215:["Log","Click on Icon Close on Modal Post Bug","Close Modal Post Bug"],216:["Log","Click on Screenshots switcher on Modal Post Bug","On/off Screenshots in Modal Post Bug"],217:["Log","Click on Logs switcher on Modal Post Bug","On/off Logs in Modal Post Bug"],218:["Log","Click on Comment switcher on Modal Post Bug","On/off Comment in Modal Post Bug"],219:["Log","Click on Bttn Cancel on Modal Post Bug","Close Modal Post Bug"],220:["Log","Click on Bttn Post on Modal Post Bug","Post bug"],221:["Log","Click on Icon Close on Modal Load Bug","Close Modal Load Bug"],222:["Log","Click on Bttn Add New Issue on Modal Load Bug","Add imputs in Modal Load Bug"],223:["Log","Click on Bttn Cancel on Modal Load Bug","Close Modal Load Bug"],224:["Log","Click on Bttn Load on Modal Load Bug","Load bug"],240:["Filters","Enter parameter for search","Show filters by parameter"],241:["Filters","Click on Bttn Add Filter","Transition to Launches Page"],242:["Filters","Click on Filter name","Transition to Launch Page"],243:["Filters","Click on Filter on/off switcher","Show/hide Filter on Launch Page"],244:["Filters","Click on icon Delete on Filter Page","Arise Modal Delete filter"],245:["Filters","Click on icon Edit on Filter name","Arise Modal Edite filter"],246:["Filters","Click on icon Shared on Filter","Arise Modal Edite filter"],247:["Filters","Click on icon Close on Modal Edit Filter","Close Modal Edit Filter"],248:["Filters","Enter description in Modal Edit Filter","Description"],249:["Filters","Click on Share on/off in Modal Edit Filter","Share/unshare Filter"],250:["Filters","Click on Bttn Cancel in Modal Edit Filter","Close Modal Edit Filter"],251:["Filters","Click on Bttn Update in Modal Edit Filter","Update Modal Edit Filter"],252:["Filters","Click on icon Close on Modal Delete Filter","Close Modal Delete Filter"],253:["Filters","Click on Bttn Cancel in Modal Delete Filter","Close Modal Delete Filter"],254:["Filters","Click on Bttn Delete in Modal Delete Filter","Delete Filter"],255:["Filters","Click on Bttn Add Filter on empty page","Transition to Launches Page"],260:["Dashboard","Click on Bttn Add New Dashboard","Arise Modal Add New Dashboard"],261:["Dashboard","Enter parameter for search","Show dashboards by parameter"],262:["Dashboard","Click on Dashboard name","Transition to Dashboard"],263:["Dashboard","Click on icon Settings on Dashboard tile","Arise Modal Edit Dashboard"],264:["Dashboard","Click on icon Close on Dashboard tile","Arise Modal Delete Dashboard"],265:["Dashboard","Click on Shared Dashboard name","Transition to Dashboard"],266:["Dashboard","Click on icon Close on Modal Add New Dashboard","Close Modal Add New Dashboard"],267:["Dashboard","Enter description in Modal Add New Dashboard","Description"],268:["Dashboard","Click on Share on/off in Modal Add New Dashboard","Share/unshare Dashboard"],269:["Dashboard","Click on Bttn Cancel in Modal Add New Dashboard","Close Modal Add New Dashboard"],270:["Dashboard","Click on Bttn Add in Modal Add New Dashboard","Add Dashboard"],271:["Dashboard","Click on icon Close on Modal Edit Dashboard","Close Modal Edit Dashboard"],272:["Dashboard","Enter description in Modal Edit Dashboard","Description"],273:["Dashboard","Click on Share on/off in Modal Edit Dashboard","Share/unshare Dashboard"],274:["Dashboard","Click on Bttn Cancel in Modal Edit Dashboard","Close Modal Edit Dashboard"],275:["Dashboard","Click on Bttn Update in Modal Edit Dashboard","Update Dashboard"],276:["Dashboard","Click on icon Close on Modal Delete Dashboard","Close Modal Delete Dashboard"],277:["Dashboard","Click on Bttn Cancel in Modal Delete Dashboard","Close Modal Delete Dashboard"],278:["Dashboard","Click on Bttn Delete in Modal Delete Dashboard","Delete Dashboard"],279:["Dashboard","Click on Bread Crumb All Dashboards","Transition to All Dashboards"],280:["Dashboard","Click on Bttn Add New Widget on Dashboard","Arise Modal Add New Widget"],281:["Dashboard","Click on Bttn Add Shared Widget on Dashboard","Arise Modal Add Shared Widget"],282:["Dashboard","Click on Bttn Edit on Dashboard","Arise Modal Edit Dashboard"],283:["Dashboard","Click on Bttn Full Screen on Dashboard","Full Screen of Dashboard"],284:["Dashboard","Click on Bttn Remove on Dashboard","Arise Modal Delete Dashboard"],285:["Dashboard","Click and drag Widget","Move Widget"],286:["Dashboard","Click on icon Settings on Widget","Arise Modal Edit Widget"],287:["Dashboard","Click on icon Refresh on Widget","Refresh Widget"],288:["Dashboard","Click on icon Remove on Widget","Arise Modal Delete Widget"],289:["Dashboard","Click and drag on icon Resize on Widget","Resize Widget"],290:["Dashboard","Click on icon Close on Modal Add New Widget","Close Modal Add New Widget"],291:["Dashboard","Choose radio bttn of Widget type in Modal Add New Widget","Choose Widget type in Modal Add New Widget"],292:["Dashboard","Click on Bttn Next Step on Modal Add New Widget","Transition to Next Step on Modal Add New Widget"],294:["Dashboard","Enter parameter for search","Show filter by parameter"],295:["Dashboard","Click on Bttn Add Filter on Modal Add New Widget","Arise fields for adding new filter"],297:["Dashboard","Click on radio bttn of Filter on Modal Add New Widget","Choose filter"],298:["Dashboard","Click on icon Edit Filter on Modal Add New Widget","Arise fields to edit filter"],299:["Dashboard","Edit Items input on Modal Add New Widget","Edited Items input on Modal Add New Widget"],300:["Dashboard","Toggle Launch/Timeline mode on Modal Add New Widget","Choose Launch/Timeline mode on Modal Add New Widget"],301:["Dashboard","Click on Bttn Previous Step on Modal Add New Widget","Transition to Previous Step in Modal Add New Widget"],302:["Dashboard","Select parameters of new filter on Modal Add New Widget","Show parameters of new filter on Modal Add New Widget"],303:["Dashboard","Select parameters of sorting in new filter on Modal Add New Widget","Show parameters of sorting in new filter on Modal Add New Widget"],304:["Dashboard","Click on Bttn Cancel in Add new filter in Modal Add New Widget","Cancel adding new filter in Modal Add New Widget"],305:["Dashboard","Click on Bttn Add in Add new filter in Modal Add New Widget","Add new filter in Modal Add New Widget"],307:["Dashboard","Edit filter name in Modal Add New Widget","Edited filter name in Modal Add New Widget"],308:["Dashboard","Select parameters of edited filter in Modal Add New Widget","Show parameters of edited filter in Modal Add New Widget"],309:["Dashboard","Select parameters of sorting in edited filter in Modal Add New Widget","Show parameters of sorting of edited filter in Modal Add New Widget"],310:["Dashboard","Click on Bttn Cancel in Edit filter in Modal Add New Widget","Cancel Edit filter in Modal Add New Widget"],311:["Dashboard","Click on Bttn Submit in Edit filter in Modal Add New Widget","Submit changes in filter in Modal Add New Widget"],312:["Dashboard","Enter Widget description in Modal Add New Widget","Widget description in Modal Add New Widget"],313:["Dashboard","Click on Share Widget on/off in Modal Add New Widget","Share/unshare Widget"],314:["Dashboard","Click on Bttn Add in Modal Add New Widget","Submit changes in filter in Modal Add New Widget"],315:["Dashboard","Click on icon Close on Modal Add Shared Widget","Close Modal Add Shared Widget"],316:["Dashboard","Choose radio bttn of Widget type in Modal Add Shared Widget","Choose Widget type in Modal Add Shared Widget"],317:["Dashboard","Scroll widgets in Modal Add Shared Widget","Scroll widgets in Modal Add Shared Widget"],318:["Dashboard","Click on Bttn Cancel in Modal Add Shared Widget","Cancel Modal Add Shared Widget"],319:["Dashboard","Click on Bttn Add in Modal Add Shared Widget","Add Shared Widget"],320:["Dashboard","Click on icon Close on Modal Edit Widget","Close Modal Edit Widget"],321:["Dashboard","Click on icon Edit Filter on Modal Edit Widget","Arise fields to edit filter in Modal Edit Widget"],322:["Dashboard","Change Widget name in Modal Edit Widget","New Widget name in Modal Edit Widget"],323:["Dashboard","Change Widget description in Modal Edit Widget","New Widget description in Modal Edit Widget"],324:["Dashboard","Click on Share Widget on/off in Modal Edit Widget","Share/unshare Widget"],325:["Dashboard","Click on Bttn Cancel in Modal Edit Widget","Close Modal Edit Widget"],326:["Dashboard","Click on Bttn Save in Modal Edit Widget","Save changes in Modal Edit Widget"],327:["Dashboard","Enter parametr for search in Modal Edit Widget","Show filter by parameter in Modal Edit Widget"],328:["Dashboard","Click on Bttn Add Filter in Modal Edit Widget","Arise fields for adding new filter in Modal Edit Widget"],329:["Dashboard","Click on radio bttn of Filter in Modal Edit Widget","Choose filter in Modal Edit Widget"],330:["Dashboard","Click on Bttn Cancel in Edit filter in Modal Edit Widget","Close Edit filter in Modal Edit Widget"],331:["Dashboard","Click on Bttn Submit filter change in Modal Edit Widget","Save filter change in Modal Edit Widget"],332:["Dashboard","Select parameters of new filter in Modal Edit Widget","Show parameters of new filter in Modal Edit Widget"],333:["Dashboard","Select parameters of sorting in new filter in Modal Edit Widget","Show parameters of sorting of new filter in Modal Edit Widget"],334:["Dashboard","Click on Bttn Cancel in add new filter in Modal Edit Widget","Cancel add new filter in Modal Edit Widget"],335:["Dashboard","Click on Bttn Add in add new filter in Modal Edit Widget","Add new filter in Modal Edit Widget"],336:["Dashboard","Edit filter parametrs in Modal Edit Widget","Show new filter parameters in Modal Edit Widget"],337:["Dashboard","Click on Bttn Cancel in Edit filter in Modal Edit Widget","Cancel Edit filter in Modal Edit Widget"],338:["Dashboard","Click on Bttn Submit in Edit filter in Modal Edit Widget","Submit changes in filter in Modal Edit Widget"],339:["Dashboard","Click on Icon Close on Modal Delete Widget","Close Modal Delete Widget"],340:["Dashboard","Click on Bttn Cancel on Modal Delete Widget","Close Modal Delete Widget"],341:["Dashboard","Click on Bttn Delete on Modal Delete Widget","Delete Widget"],342:["Dashboard","Edit Widget legend","Change Widget legend"],344:["Dashboard","Click on Widget","Transition to launches page"],345:["Dashboard","Click on link Add New Widget on Dashboard","Arise Modal Add New Widget"],346:["Dashboard","Click on Bttn Add New Dashboard on empty page","Arise Modal Add New Dashboard"],350:["Footer","Click on Back to Top link","Transition to top"],351:["Footer","Click on Fork us on GitHub link","Fork on GitHub"],352:["Footer","Click on Chat with us on Slack link","Move to Slack"],353:["Footer","Click on Contact us link","Open message window"],354:["Footer","Click on EPAM link","Transition to EPAM site"],355:["Footer","Click on Documentation link","Transition to Documentation"],356:["Footer","Click on API link","Transition to API"],357:["Footer","Edit number per page","Change number per page"],360:["Profile","Click on Bttn Change password","Arise Modal Change password"],361:["Profile","Click on icon Edit User name","Arise Modal Edit Personal Information"],362:["Profile","Click on icon Edit Email","Arise Modal Edit Personal Information"],363:["Profile","Click on Bttn Upload photo","Upload photo"],364:["Profile","Click on link Remove photo","Arise Modal Delete image"],365:["Profile","Click on Bttn Regenerate","Regenerate"],366:["Profile","Select configuration tab","Select configuration tab"],367:["Profile","Click on icon Close on Modal Change password","Close Modal Change password"],368:["Profile","Click on Bttn Cancel on Modal Change password","Close Modal Change password"],369:["Profile","Click on Bttn Submit on Modal Change password","Submit changes on Modal Change password"],370:["Profile","Click on icon Close on Modal Delete image","Close Modal Delete image"],371:["Profile","Click on Bttn Cancel on Modal Delete image","Close Modal Delete image"],372:["Profile","Click on Bttn Delete on Modal Delete image","Delete image"],373:["Profile","Click on icon Close on Modal Edit personal information","Close Modal Edit personal information"],374:["Profile","Edit input User name on Modal Edit personal information","Edit User name on Modal Edit personal information"],375:["Profile","Edit input Email on Modal Edit personal information","Edit Email on Modal Edit personal information"],376:["Profile","Click on Bttn Cancel on Modal Edit personal information","Close Modal Edit personal information"],377:["Profile","Click on Bttn Submit on Modal Edit personal information","Submit changes on Modal Edit personal information"],380:["Settings","Click on tab General in Settings","Open tab General in Settings"],381:["Settings","Edit input Launch inactivity timeout on tab General","Change input Launch inactivity timeout on tab General"],382:["Settings","Edit input Keep logs on tab General","Change input Keep logs on tab General"],383:["Settings","Edit input Keep screenshots on tab General","Change input Keep screenshots on tab General"],385:["Settings","Click on Bttn Submit on tab General","Submit changes on tab General"],386:["Settings","Click on tab Notifications in Settings","Open tab Notifications in Settings"],387:["Settings","Edit input Email notifications on tab Notifications","Change input Email notifications on tab Notifications"],388:["Settings","Edit input From on tab Notifications","Change input From on tab Notifications"],389:["Settings","Delete rule on tab Notifications","Delete rule on tab Notifications"],390:["Settings","Edit input Recipients on tab Notifications","Change input Recipients on tab Notifications"],391:["Settings","Edit checkbox Launch owner on tab Notifications","Check/uncheck Launch owner on tab Notifications"],392:["Settings","Edit input In case on tab Notifications","Change input In case on tab Notifications"],393:["Settings","Edit input Launch names on tab Notifications","Change input Launch names on tab Notifications"],394:["Settings","Edit input Tags on tab Notifications","Change input Tags on tab Notifications"],395:["Settings","Click on Bttn Add new rule on tab Notifications","Add new rule on tab Notifications"],396:["Settings","Click on Bttn Submit on tab Notifications","Submit changes on tab Notifications"],397:["Settings","Click on tab Bug tracking system in Settings","Open tab Bug tracking system in Settings"],398:["Settings","Edit input Bug tracking system on tab Bug tracking system","Change input Bug tracking system on tab Bug tracking system"],399:["Settings","Change project of BTS Instances on tab Bug tracking system","Change project of BTS Instances on tab Bug tracking system"],400:["Settings","Click on link Add new instance on tab Bug tracking system","Arise fields for adding new project on tab Bug tracking system"],401:["Settings","Click on icon Edit Projects BTS Instance on tab Bug tracking system","Arise fields for editing Projects BTS Instance on tab Bug tracking system"],402:["Settings","Click on icon Delete Projects BTS Instance on tab Bug tracking system","Arise Modal delete Projects BTS Instance on tab Bug tracking system"],403:["Settings","Click on Bttn Cancel Edit Projects BTS Instance on tab Bug tracking system","Cancel Change of Projects BTS Instance on tab Bug tracking system"],404:["Settings","Click on Bttn Submit Edit Projects BTS Instance on tab Bug tracking system","Submit Change of Projects BTS Instance on tab Bug tracking system"],405:["Settings","Click on icon Close on Modal Delete Project","Close Modal Delete Project"],406:["Settings","Click on Bttn Cancel on Modal Delete Project","Close Modal Delete Project"],407:["Settings","Click on Bttn Delete on Modal Delete Project","Delete Project"],408:["Settings","Edit inputs of Default properties for issue form on tab Bug tracking system","Change inputs of Default properties for issue form on tab Bug tracking system"],409:["Settings","Click on Bttn Update Default properties for issue form on tab Bug tracking system","Update Default properties for issue form on tab Bug tracking system"],410:["Settings","Click on Bttn Submit Default properties for issue form on tab Bug tracking system","Submit Change of Default properties for issue form on tab Bug tracking system"],411:["Settings","Click on icon Edit defect tag on tab Defect Types","Arise fields for editing defect tag on tab Defect Types"],412:["Settings","Click on icon Delete defect tag on tab Defect Types","Arise Modal Delete defect type on tab Defect Types"],413:["Settings","Edit input Defect type name on tab Defect Types","Change Defect type name on tab Defect Types"],414:["Settings","Edit input Defect type abbreviation on tab Defect Types","Change Defect type abbreviation on tab Defect Types"],415:["Settings","Edit input Defect type color on tab Defect Types","Change Defect type color on tab Defect Types"],416:["Settings","Click on icon Submit defect type change on tab Defect Types","Change defect type on tab Defect Types"],417:["Settings","Click on icon Cancel defect type change on tab Defect Types","Cancel defect type change on tab Defect Types"],418:["Settings","Click on icon Close on Modal Delete Defect type","Close Modal Delete Defect type"],419:["Settings","Click on Bttn Cancel on Modal Delete Defect type","Close Modal Delete Defect type"],420:["Settings","Click on Bttn Delete on Modal Delete Defect type","Delete Defect type"],421:["Settings","Click on Bttn Add defect type on tab Defect types","Arise fieldes for Add defect type on tab Defect types"],422:["Settings","Click on link Reset to default colors on tab Defect types","Arise fieldes for Add defect type on tab Defect types"],423:["Settings","Click on icon Close on Modal Reset Defect colors","Close Modal Reset Defect colors"],424:["Settings","Click on Bttn Cancel on Modal Reset Defect colors","Close Modal Reset Defect colors"],425:["Settings","Click on Bttn Reset on Modal Reset Defect colors","Reset Defect colors"],426:["Settings","Click on tab Defect Types in Settings","Open tab Defect Types in Settings"],427:["Settings","Click on tab Demo Data in Settings","Open tab Demo Data in Settings"],428:["Settings","Edit input Postfix on tab Demo Data","Change Postfix on tab Demo Data"],429:["Settings","Click on Bttn Generate Demo Data on tab Demo Data","Generate Demo Data on tab Demo Data"],430:["Members","Enter parameter for search","Show member by parameter"],431:["Members","Click on Bttn Permission map","Show Permission map"],432:["Members","Click on Bttn Invite user","Arise Modal Invite user"],433:["Members","Edit input Project role","Change Project role"],434:["Members","Click on Bttn Unassign","Unassign user"],435:["Members","Click on icon Close on Modal Invite user","Close Modal Invite user"],436:["Members","Click on Bttn Cancel on Modal Invite user","Close Modal Invite user"],437:["Members","Click on Bttn Invite on Modal Invite user","Invite user"],440:["Projects","Click on Bttn Add Project","Arise Modal Add Project"],441:["Projects","Enter parameter for search","Show project by parameter"],442:["Projects","Edit sorting tab","Change sorting by name or by creation date"],443:["Projects","Click on Bttn Tile view","Tile view"],444:["Projects","Click on Bttn Table view","Table view"],445:["Projects","Click on tab Internal projects","Open tab Internal projects"],446:["Projects","Click on tab Personal projects","Open tab Personal projects"],447:["Projects","Click on Project name","Transition to Project page"],448:["Projects","Click on icon Close on Project tile","Arise Modal Delete Project"],449:["Projects","Click on icon Settings on Project tile","Transition to Settings page"],450:["Projects","Click on icon Members on Project tile","Transition to Members page"],451:["Projects","Click on icon Assign me on Project tile","Assign me to Project"],452:["Projects","Click on icon Open on Project tile","Open Dashboard page of Project"],453:["Projects","Click on icon Close on Modal Add project","Close Modal Add project"],454:["Projects","Click on Bttn Cancel on Modal Add project","Close Modal Add project"],455:["Projects","Click on Bttn Add on Modal Add project","Add project"],456:["Projects","Click on icon Close on Modal Delete project","Close Modal Delete project"],457:["Projects","Click on Bttn Cancel on Modal Delete project","Close Modal Delete project"],458:["Projects","Click on Bttn Delete on Modal Delete project","Delete project"],460:["All Users","Enter parameter for search","Show user by parameter"],461:["All Users","Click on Bttn Invite user","Arise Modal Invite user"],462:["All Users","Click on Bttn Add user","Arise Modal Add user"],463:["All Users","Click on label Make admin","Arise Modal Change role"],464:["All Users","Click on Bttn View Projects and roles","Arise tile with Projects and roles"],465:["All Users","Edit input Project role","Change Project role"],466.1:["All Users","Click on Bttn Unassign","Unassign on Project"],466.2:["All Users","Click on Bttn Assign","Assign on Project"],467:["All Users","Click on Bttn Add on project","Arise fields to Add on project"],468:["All Users","Click on Bttn Delete user","Arise Modal Delete user"],469:["All Users","Click on icon Close on Modal Invite user","Close Modal Invite user"],470:["All Users","Click on Bttn Cancel on Modal Invite user","Close Modal Invite user"],471:["All Users","Click on Bttn Invite on Modal Invite user","Invite user"],472:["All Users","Click on icon Close on Modal Change role","Close Modal Change role"],473:["All Users","Click on Bttn Cancel on Modal Change role","Close Modal Change role"],474:["All Users","Click on Bttn Change on Modal Change role","Change role"],475:["All Users","Click on icon Close on Modal Delete user","Close Modal Delete user"],476:["All Users","Click on Bttn Cancel on Modal Delete user","Close Modal Delete user"],477:["All Users","Click on Bttn Delete on Modal Delete user","Delete user"],478:["All Users","Click on icon Close on Modal Add user","Close Modal Add user"],479:["All Users","Click on Bttn Cancel on Modal Add user","Close Modal Add user"],480:["All Users","Click on link Generate password on Modal Add user","Generate password"],481:["All Users","Click on Bttn Add on Modal Add user","Add user"],490:["Server Settings","Click on tab E-mail Server","Open tab E-mail Server"],491:["Server Settings","Click on tab Authorization Configuration","Open tab Authorization Configuration"],492:["Server Settings","Click on switcher Enable email server","On/off Enable email server"],493:["Server Settings","Click on Bttn Submit on tab E-mail Server","Submit changes on tab E-mail Server"],494:["Server Settings","Click on switcher Activate Github authorization on tab Authorization Configuration","On/off Activate Github authorization on tab Authorization Configuration"],495:["Server Settings","Click on Bttn Add Github Organization on tab Authorization Configuration","Arise field to Add Github Organization on tab Authorization Configuration"],496:["Server Settings","Click on Bttn Submit on tab Authorization Configuration","Submit changes on tab Authorization Configuration"],500:["MB Header","Click on link Back to project","Transition to project"],501:["MB Header","Click on link Logout","Logout"],502:["MB Sidebar","Click on Menu Bttn Projects","Transition to Projects Page"],503:["MB Sidebar","Click on Menu Bttn All Users","Transition to All Users Page"],504:["MB Sidebar","Click on Menu Bttn Server Settings","Transition to Server Settings Page"],505:["Log","Click on icon Previous Attachment","Show Previous Attachment"],506:["Log","Click on icon Next Attachment","Show Next Attachment"],507:["Log","Click on opened Attachment","Arise modal with Attachment"],508:["Log","Click on thumbnail of Attachment","Show this Attachment"],509:["Log","Click on icon Close on Modal Attachment","Close Modal Attachment"],510:["Log","Click on icon Rotate on Modal Attachment","Rotate Attachment"],511:["Log","Click on Bttn Close on Modal Attachment","Close Modal Attachment"],512:["Server Settings","Edit checkbox Help make ReportPortal better on tab Statistics","Check/uncheck Help make ReportPortal better on tab Statistics"],513:["Server Settings","Click on Bttn Submit on tab Statistics","Submit changes on tab Statistics"],514:["MB Header","Click on link API","Transition to API page"],515:["Launches","Click on All Launches dropdown icon","Arise dropdown"],516:["Launches","Select All Launches on dropdown ","Transition to All Launches"],517:["Launches","Select Latest Launches in dropdown ","Transition to Latest Launches"],518:["Launches","Click on Bttn Import","Arise Modul Import Launch"],519:["Modul Launches","Click on Close Icon on Modul 'Import Launch'","Close Modul Import Launch"],520:["Modul Launches","Click on Bttn Cancel on Modul 'Import Launch'","Close Modul Import Launch"],521:["Modul Launches","Click on Bttn Ok on Modul 'Import Launch'","Import Launch"],522:["Modul Launches","Click on Bttn Linear Merge on Modul 'Merge Launches'","Linear Merge"],523:["Modul Launches","Click on Bttn Deep Merge on Modul 'Merge Launches'","Deep Merge"],524:["Suite","Click on dropdown icon on Save Bttnon Modul 'Edit Item'","Arise dropdown"],525:["Suite","Select Save and Post Bug on dropdown in Modul 'Edit Item'","Arise Modul 'Post Bug'"],526:["Suite","Select Save and Load Bug on dropdown in Modul 'Edit Item'","Arise Modul 'Load Bug'"],527:["Login","Click on twitter link","Open twitter link"],528:["Login","Click on Icon Github on Welcome screen","Transition to Github"],529:["Login","Click on Icon Facebook on Welcome screen","Transition to Facebook"],530:["Login","Click on Icon Tweeter on Welcome screen","Transition to Tweeter"],531:["Login","Click on Icon YouTube on Welcome screen","Transition to YouTube"],532:["Login","Click on Icon VK on Welcome screen","Transition to VK"],533:["Login","Click on Icon Slack on Welcome screen","Transition to Slack"],534:["Login","Click on Icon Mail on Welcome screen","Arise Mail window"],575:["Profile","Edit input Language","Change language"],580:["Settings","Click on tab Auto-Analysis in Settings","Open tab Auto-Analysis in Settings"],581:["Settings","Click on Auto-Analysis on/off in Auto-Analysis tab","Auto-Analysis on/off"],582:["Settings","Choose radio bttn of Base for Auto-Analysis","Choose Base for Auto-Analysis"],583:["Settings","Toggle Mode of Auto-Analysis Accuracy","Choose Mode of Auto-Analysis"],584:["Settings","Click on Bttn Submit in Auto-Analysis tab","Submit changes in Auto-Analysis tab"],585:["Settings","Click on Bttn Remove index in Auto-Analysis tab","Remove index in Auto-Analysis tab"],586:["Settings","Click on Bttn Generate index in Auto-Analysis tab","Generate index in Auto-Analysis tab"]},l={trackEvent:function(){this.trigger("track:event",arguments)},pageView:function(){this.trigger("page:view",arguments)},trackEventNumber:function(e){if(!n[e]){console.log('event "'+e+'" not found');return}this.trigger("track:event",n[e])}};return _.extend(l,t.Events),l}),define("externalServices/externalServices",["require","jquery","backbone","util","app","model/SingletonAppModel","analytics/SingletonAnalyticsConnect"],function(e){"use strict";var t=e("jquery"),n=e("backbone"),r=e("util"),i=e("app"),s=e("model/SingletonAppModel"),o=e("analytics/SingletonAnalyticsConnect"),u=i.getInstance(),a=new s,f=function(){var e=new o,i=t.Deferred(),s=document.createElement("script"),f=document.getElementsByTagName("script")[0];return s.type="text/javascript",s.async=!0,s.src="/epam/externalServices.js",s.onload=function(){if(!window.ExternalServices){i.resolve();return}new window.ExternalServices({Backbone:n,Util:r,config:u,AppModel:a,analytics:e}),i.resolve()},s.onerror=function(){i.resolve()},f.parentNode.insertBefore(s,f),i};return f}),define("polyfills/Function.name-polyfill",["require"],function(e){"use strict";Function.prototype.name===undefined&&Object.defineProperty!==undefined&&Object.defineProperty(Function.prototype,"name",{get:function(){var e=/function\s([^(]{1,})\(/,t=e.exec(this.toString());return t&&t.length>1?t[1].trim():""},set:function(e){}})}),define("polyfills/index",["require","./Function.name-polyfill"],function(e){"use strict";e("./Function.name-polyfill")});var outdatedBrowser=function(e){function r(e){t.style.opacity=e/100,t.style.filter="alpha(opacity="+e+")"}function i(e){r(e),e==1&&(t.style.display="block"),e==100&&(n=!0)}function u(){var e=document.getElementById("btnCloseUpdateBrowser"),n=document.getElementById("btnUpdateBrowser");t.style.backgroundColor=bkgColor,t.style.color=txtColor,t.children[0].style.color=txtColor,t.children[1].style.color=txtColor,n.style.color=txtColor,n.style.borderColor&&(n.style.borderColor=txtColor),e.style.color=txtColor,e.onmousedown=function(){return t.style.display="none",!1},n.onmouseover=function(){this.style.color=bkgColor,this.style.backgroundColor=txtColor},n.onmouseout=function(){this.style.color=txtColor,this.style.backgroundColor=bkgColor}}function f(){var e=!1;if(window.XMLHttpRequest)e=new XMLHttpRequest;else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}return e}function l(e){var t=f();return t&&(t.onreadystatechange=function(){c(t)},t.open("GET",e,!0),t.send(null)),!1}function c(e){var t=document.getElementById("outdated");return e.readyState==4&&(e.status==200||e.status==304?t.innerHTML=e.responseText:t.innerHTML=a,u()),!1}var t=document.getElementById("outdated");this.defaultOpts={bgColor:"#f25648",color:"#ffffff",lowerThan:"transform",languagePath:"../outdatedbrowser/lang/en.html"};if(e){if(e.lowerThan=="IE8"||e.lowerThan=="borderSpacing")e.lowerThan="borderSpacing";else if(e.lowerThan=="IE9"||e.lowerThan=="boxShadow")e.lowerThan="boxShadow";else if(e.lowerThan=="IE10"||e.lowerThan=="transform"||e.lowerThan==""||typeof e.lowerThan=="undefined")e.lowerThan="transform";else if(e.lowerThan=="IE11"||e.lowerThan=="borderImage")e.lowerThan="borderImage";this.defaultOpts.bgColor=e.bgColor,this.defaultOpts.color=e.color,this.defaultOpts.lowerThan=e.lowerThan,this.defaultOpts.languagePath=e.languagePath,bkgColor=this.defaultOpts.bgColor,txtColor=this.defaultOpts.color,cssProp=this.defaultOpts.lowerThan,languagePath=this.defaultOpts.languagePath}else bkgColor=this.defaultOpts.bgColor,txtColor=this.defaultOpts.color,cssProp=this.defaultOpts.lowerThan,languagePath=this.defaultOpts.languagePath;var n=!0,s=function(){var e=document.createElement("div"),t="Khtml Ms O Moz Webkit".split(" "),n=t.length;return function(r){if(r in e.style)return!0;r=r.replace(/^[a-z]/,function(e){return e.toUpperCase()});while(n--)if(t[n]+r in e.style)return!0;return!1}}();if(!!s(""+cssProp+""))return;if(n&&t.style.opacity!=="1"){n=!1;for(var o=1;o<=100;o++)setTimeout(function(e){return function(){i(e)}}(o),o*8)}languagePath===" "||languagePath.length==0?u():l(languagePath);var a='<h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now </a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>'};define("../lib/outdatedbrowser",function(){}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/position",["jquery","./version"],e):e(jQuery)}(function(e){return function(){function l(e,t,n){return[parseFloat(e[0])*(a.test(e[0])?t/100:1),parseFloat(e[1])*(a.test(e[1])?n/100:1)]}function c(t,n){return parseInt(e.css(t,n),10)||0}function h(t){var n=t[0];return n.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var t,n=Math.max,r=Math.abs,i=/left|center|right/,s=/top|center|bottom/,o=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,a=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(t!==undefined)return t;var n,r,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=i.children()[0];return e("body").append(i),n=s.offsetWidth,i.css("overflow","scroll"),r=s.offsetWidth,n===r&&(r=i[0].clientWidth),i.remove(),t=n-r},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i=n==="scroll"||n==="auto"&&t.width<t.element[0].scrollWidth,s=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]),i=!!n[0]&&n[0].nodeType===9,s=!r&&!i;return{element:n,isWindow:r,isDocument:i,offset:s?e(t).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var a,p,d,v,m,g,y=e(t.of),b=e.position.getWithinInfo(t.within),w=e.position.getScrollInfo(b),E=(t.collision||"flip").split(" "),S={};return g=h(y),y[0].preventDefault&&(t.at="left top"),p=g.width,d=g.height,v=g.offset,m=e.extend({},v),e.each(["my","at"],function(){var e=(t[this]||"").split(" "),n,r;e.length===1&&(e=i.test(e[0])?e.concat(["center"]):s.test(e[0])?["center"].concat(e):["center","center"]),e[0]=i.test(e[0])?e[0]:"center",e[1]=s.test(e[1])?e[1]:"center",n=o.exec(e[0]),r=o.exec(e[1]),S[this]=[n?n[0]:0,r?r[0]:0],t[this]=[u.exec(e[0])[0],u.exec(e[1])[0]]}),E.length===1&&(E[1]=E[0]),t.at[0]==="right"?m.left+=p:t.at[0]==="center"&&(m.left+=p/2),t.at[1]==="bottom"?m.top+=d:t.at[1]==="center"&&(m.top+=d/2),a=l(S.at,p,d),m.left+=a[0],m.top+=a[1],this.each(function(){var i,s,o=e(this),u=o.outerWidth(),f=o.outerHeight(),h=c(this,"marginLeft"),g=c(this,"marginTop"),x=u+h+c(this,"marginRight")+w.width,T=f+g+c(this,"marginBottom")+w.height,N=e.extend({},m),C=l(S.my,o.outerWidth(),o.outerHeight());t.my[0]==="right"?N.left-=u:t.my[0]==="center"&&(N.left-=u/2),t.my[1]==="bottom"?N.top-=f:t.my[1]==="center"&&(N.top-=f/2),N.left+=C[0],N.top+=C[1],i={marginLeft:h,marginTop:g},e.each(["left","top"],function(n,r){e.ui.position[E[n]]&&e.ui.position[E[n]][r](N,{targetWidth:p,targetHeight:d,elemWidth:u,elemHeight:f,collisionPosition:i,collisionWidth:x,collisionHeight:T,offset:[a[0]+C[0],a[1]+C[1]],my:t.my,at:t.at,within:b,elem:o})}),t.using&&(s=function(e){var i=v.left-N.left,s=i+p-u,a=v.top-N.top,l=a+d-f,c={target:{element:y,left:v.left,top:v.top,width:p,height:d},element:{element:o,left:N.left,top:N.top,width:u,height:f},horizontal:s<0?"left":i>0?"right":"center",vertical:l<0?"top":a>0?"bottom":"middle"};p<u&&r(i+s)<p&&(c.horizontal="center"),d<f&&r(a+l)<d&&(c.vertical="middle"),n(r(i),r(s))>n(r(a),r(l))?c.important="horizontal":c.important="vertical",t.using.call(this,e,c)}),o.offset(e.extend(N,{using:s}))})},e.ui.position={fit:{left:function(e,t){var r=t.within,i=r.isWindow?r.scrollLeft:r.offset.left,s=r.width,o=e.left-t.collisionPosition.marginLeft,u=i-o,a=o+t.collisionWidth-s-i,f;t.collisionWidth>s?u>0&&a<=0?(f=e.left+u+t.collisionWidth-s-i,e.left+=u-f):a>0&&u<=0?e.left=i:u>a?e.left=i+s-t.collisionWidth:e.left=i:u>0?e.left+=u:a>0?e.left-=a:e.left=n(e.left-o,e.left)},top:function(e,t){var r=t.within,i=r.isWindow?r.scrollTop:r.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,u=i-o,a=o+t.collisionHeight-s-i,f;t.collisionHeight>s?u>0&&a<=0?(f=e.top+u+t.collisionHeight-s-i,e.top+=u-f):a>0&&u<=0?e.top=i:u>a?e.top=i+s-t.collisionHeight:e.top=i:u>0?e.top+=u:a>0?e.top-=a:e.top=n(e.top-o,e.top)}},flip:{left:function(e,t){var n=t.within,i=n.offset.left+n.scrollLeft,s=n.width,o=n.isWindow?n.scrollLeft:n.offset.left,u=e.left-t.collisionPosition.marginLeft,a=u-o,f=u+t.collisionWidth-s-o,l=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,c=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,h=-2*t.offset[0],p,d;if(a<0){p=e.left+l+c+h+t.collisionWidth-s-i;if(p<0||p<r(a))e.left+=l+c+h}else if(f>0){d=e.left-t.collisionPosition.marginLeft+l+c+h-o;if(d>0||r(d)<f)e.left+=l+c+h}},top:function(e,t){var n=t.within,i=n.offset.top+n.scrollTop,s=n.height,o=n.isWindow?n.scrollTop:n.offset.top,u=e.top-t.collisionPosition.marginTop,a=u-o,f=u+t.collisionHeight-s-o,l=t.my[1]==="top",c=l?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,h=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,p=-2*t.offset[1],d,v;if(a<0){v=e.top+c+h+p+t.collisionHeight-s-i;if(v<0||v<r(a))e.top+=c+h+p}else if(f>0){d=e.top-t.collisionPosition.marginTop+c+h+p-o;if(d>0||r(d)<f)e.top+=c+h+p}}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position}),function(e){typeof define=="function"&&define.amd?define("jquery-ui/widgets/tooltip",["jquery","../keycode","../position","../unique-id","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(r.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),r=(t.attr("aria-describedby")||"").split(/\s+/),i=e.inArray(n,r);i!==-1&&r.splice(i,1),t.removeData("ui-tooltip-id"),r=e.trim(r.join(" ")),r?t.attr("aria-describedby",r):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=e([])},_setOption:function(t,n){var r=this;this._super(t,n),t==="content"&&e.each(this.tooltips,function(e,t){r._updateContent(t.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var t=this;e.each(this.tooltips,function(n,r){var i=e.Event("blur");i.target=i.currentTarget=r.element[0],t.close(i,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=e(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}),this.disabledTitles=e([])},open:function(t){var n=this,r=e(t?t.target:this.element).closest(this.options.items);if(!r.length||r.data("ui-tooltip-id"))return;r.attr("title")&&r.data("ui-tooltip-title",r.attr("title")),r.data("ui-tooltip-open",!0),t&&t.type==="mouseover"&&r.parents().each(function(){var t=e(this),r;t.data("ui-tooltip-open")&&(r=e.Event("blur"),r.target=r.currentTarget=this,n.close(r,!0)),t.attr("title")&&(t.uniqueId(),n.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._registerCloseHandlers(t,r),this._updateContent(r,t)},_updateContent:function(e,t){var n,r=this.options.content,i=this,s=t?t.type:null;if(typeof r=="string"||r.nodeType||r.jquery)return this._open(t,e,r);n=r.call(e[0],function(n){i._delay(function(){if(!e.data("ui-tooltip-open"))return;t&&(t.type=s),this._open(t,e,n)})}),n&&this._open(t,e,n)},_open:function(t,n,r){function f(e){a.of=e;if(s.is(":hidden"))return;s.position(a)}var i,s,o,u,a=e.extend({},this.options.position);if(!r)return;i=this._find(n);if(i){i.tooltip.find(".ui-tooltip-content").html(r);return}n.is("[title]")&&(t&&t.type==="mouseover"?n.attr("title",""):n.removeAttr("title")),i=this._tooltip(n),s=i.tooltip,this._addDescribedBy(n,s.attr("id")),s.find(".ui-tooltip-content").html(r),this.liveRegion.children().hide(),u=e("<div>").html(s.find(".ui-tooltip-content").html()),u.removeAttr("name").find("[name]").removeAttr("name"),u.removeAttr("id").find("[id]").removeAttr("id"),u.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:f}),f(t)):s.position(e.extend({of:n},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval(function(){s.is(":visible")&&(f(a.of),clearInterval(o))},e.fx.interval)),this._trigger("open",t,{tooltip:s})},_registerCloseHandlers:function(t,n){var r={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var r=e.Event(t);r.currentTarget=n[0],this.close(r,!0)}}};n[0]!==this.element[0]&&(r.remove=function(){this._removeTooltip(this._find(n).tooltip)});if(!t||t.type==="mouseover")r.mouseleave="close";if(!t||t.type==="focusin")r.focusout="close";this._on(!0,n,r)},close:function(t){var n,r=this,i=e(t?t.currentTarget:this.element),s=this._find(i);if(!s){i.removeData("ui-tooltip-open");return}n=s.tooltip;if(s.closing)return;clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),s.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){r._removeTooltip(e(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&t.type==="mouseleave"&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title),delete r.parents[t]}),s.closing=!0,this._trigger("close",t,{tooltip:n}),s.hiding||(s.closing=!1)},_tooltip:function(t){var n=e("<div>").attr("role","tooltip"),r=e("<div>").appendTo(n),i=n.uniqueId().attr("id");return this._addClass(r,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(t)),this.tooltips[i]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var t=e.closest(".ui-front, dialog");return t.length||(t=this.document[0].body),t},_destroy:function(){var t=this;e.each(this.tooltips,function(n,r){var i=e.Event("blur"),s=r.element;i.target=i.currentTarget=s[0],t.close(i,!0),e("#"+n).remove(),s.data("ui-tooltip-title")&&(s.attr("title")||s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),e.uiBackCompat!==!1&&e.widget("ui.tooltip",e.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}}),e.ui.tooltip});if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.5",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){o.detach().trigger("closed.bs.alert").remove()}var i=e(this),s=i.attr("data-target");s||(s=i.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=e(s);t&&t.preventDefault(),o.length||(o=i.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),s="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,s)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.5",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",s=r.data();t+="Text",null==s.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==s[t]?this.options[t]:s[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),e(n.target).is('input[type="radio"]')||e(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),s=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),o="string"==typeof t?t:s.slide;i||r.data("bs.carousel",i=new n(this,s)),"number"==typeof t?i.to(t):o?i[o]():s.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),r="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(r&&!this.options.wrap)return t;var i="prev"==e?-1:1,s=(n+i)%this.$items.length;return this.$items.eq(s)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),s=r||this.getItemForDirection(t,i),o=this.interval,u="next"==t?"left":"right",f=this;if(s.hasClass("active"))return this.sliding=!1;var l=s[0],h=e.Event("slide.bs.carousel",{relatedTarget:l,direction:u});if(this.$element.trigger(h),!h.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=e(this.$indicators.children()[this.getItemIndex(s)]);p&&p.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:l,direction:u});return e.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,i.addClass(u),s.addClass(u),i.one("bsTransitionEnd",function(){s.removeClass([t,u].join(" ")).addClass("active"),i.removeClass(["active",u].join(" ")),f.sliding=!1,setTimeout(function(){f.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(d)),o&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),s=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var o=e.extend({},s.data(),i.data()),u=i.attr("data-slide-to");u&&(o.interval=!1),t.call(s,o),u&&s.data("bs.carousel").to(u),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),s=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),i||n.data("bs.collapse",i=new r(this,s)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.5",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"),t&&t.transitioning))){var s=e.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var u=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return u.call(this);var f=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(u,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[o](this.$element[0][f])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var s=t(i),o=s.data("bs.collapse"),u=o?"toggle":i.data();n.call(s,u)})}(jQuery),+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function n(n){n&&3===n.which||(e(i).remove(),e(s).each(function(){var r=e(this),i=t(r),s={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(i[0],n.target)||(i.trigger(n=e.Event("hide.bs.dropdown",s)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",s))))}))}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new o(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",s='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.5",o.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var s=t(i),o=s.hasClass("open");if(n(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var u={relatedTarget:this};if(s.trigger(r=e.Event("show.bs.dropdown",u)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger("shown.bs.dropdown",u)}return!1}},o.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=e(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var i=t(r),o=i.hasClass("open");if(!o&&27!=n.which||o&&27==n.which)return 27==n.which&&i.find(s).trigger("focus"),r.trigger("click");var u=" li:not(.disabled):visible a",l=i.find(".dropdown-menu"+u);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var u=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=u,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),s=i.data("bs.modal"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);s||i.data("bs.modal",s=new n(this,o)),"string"==typeof t?s[t](r):o.show&&s.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(s)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&i;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void (this.ignoreBackdropClick=!1):void (e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;s?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),s=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},s.data(),r.data());r.is("a")&&n.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(s,o,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),s="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.tooltip",i=new n(this,s)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),s=i.length;s--;){var o=i[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var u="hover"==o?"mouseenter":"focusin",f="hover"==o?"mouseleave":"focusout";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void (n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void (n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void (n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var i=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var u="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,f=/\s?auto?\s?/i,l=f.test(u);l&&(u=u.replace(f,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(u).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var h=this.getPosition(),p=s[0].offsetWidth,d=s[0].offsetHeight;if(l){var v=u,m=this.getPosition(this.$viewport);u="bottom"==u&&h.bottom+d>m.bottom?"top":"top"==u&&h.top-d<m.top?"bottom":"right"==u&&h.right+p>m.width?"left":"left"==u&&h.left-p<m.left?"right":u,s.removeClass(v).addClass(u)}var g=this.getCalculatedOffset(u,h,p,d);this.applyPlacement(g,u);var y=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",y).emulateTransitionEnd(n.TRANSITION_DURATION):y()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,s=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),u=parseInt(r.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(u)&&(u=0),t.top+=o,t.left+=u,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var f=r[0].offsetWidth,l=r[0].offsetHeight;"top"==n&&l!=s&&(t.top=t.top+s-l);var c=this.getViewportAdjustedDelta(n,t,f,l);c.left?t.left+=c.left:t.top+=c.top;var h=/top|bottom/.test(n),p=h?2*c.left-i+f:2*c.top-s+l,d=h?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(p,r[0][d],h)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function r(){"in"!=i.hoverState&&s.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,s=e(this.$tip),o=e.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var s=r?{top:0,left:0}:t.offset(),o={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},u=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,o,u,s)},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var u=t.top-s-o.scroll,a=t.top+s-o.scroll+r;u<o.top?i.top=o.top-u:a>o.top+o.height&&(i.top=o.top+o.height-a)}else{var f=t.left-s,l=t.left+s+n;f<o.left?i.left=o.left-f:l>o.right&&(i.left=o.left+o.width-l)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),s="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.popover",i=new n(this,s)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.5",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),+function(e){"use strict";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),s="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,s)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.5",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),s=/^#./.test(i)&&e(i);return s&&s.length&&s.is(":visible")&&[[s[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,s=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return o!=(e=s[s.length-1])&&this.activate(e);if(o&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)o!=s[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(s[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),s=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(s),t.trigger(o),!o.isDefaultPrevented()&&!s.isDefaultPrevented()){var u=e(r);this.activate(t.closest("li"),n),this.activate(u,u.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),u?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var o=r.find("> .active"),u=i&&e.support.transition&&(o.length&&o.hasClass("fade")||!!r.find("> .fade").length);o.length&&u?o.one("bsTransitionEnd",s).emulateTransitionEnd(n.TRANSITION_DURATION):s(),o.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),s="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,s)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.5",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),s=this.$element.offset(),o=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i?"top":!1;if("bottom"==this.affixed)return null!=n?i+this.unpin<=s.top?!1:"bottom":e-r>=i+o?!1:"bottom";var u=null==this.affixed,a=u?i:s.top,f=u?o:t;return null!=n&&n>=i?"top":null!=r&&a+f>=e-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,s=r.bottom,o=Math.max(e(document).height(),e(document.body).height());"object"!=typeof r&&(s=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof s&&(s=r.bottom(this.$element));var u=this.getState(o,t,i,s);if(this.affixed!=u){null!=this.unpin&&this.$element.css("top","");var f="affix"+(u?"-"+u:""),l=e.Event(f+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=u,this.unpin="bottom"==u?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(f).trigger(f.replace("affix","affixed")+".bs.affix")}"bottom"==u&&this.$element.offset({top:o-t-s})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery),define("bootstrap",["jquery"],function(){}),function(e){typeof define=="function"&&define.amd?define("jaddons",["jquery"],e):e(jQuery)}(function(e){e.fn.ForceNumericOnly=function(){return this.each(function(){e(this).keydown(function(e){if(e.keyCode==46||e.keyCode==8||e.keyCode==9||e.keyCode==27||e.keyCode==13||e.keyCode==65&&e.ctrlKey===!0||e.keyCode>=35&&e.keyCode<=39)return;(e.shiftKey||(e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105))&&e.preventDefault()})})},e.fn.InvertColor=function(e){var t=e.split("#").join("");return t=t.substring(1),t=parseInt(t,16),t=16777215^t,t=t.toString(16),t=("000000"+t).slice(-6),t="#"+t,t},e.fn.reduceColor=function(e){e=e.split("#").join("");var t=130,n=90,r=e.substring(1,3),i=e.substring(3,5),s=e.substring(5,7),o={R:parseInt(r,16),G:parseInt(i,16),B:parseInt(s,16)},u=o.R*.299+o.G*.587+o.B*.114;return 255-u<t&&255-u>n?"#000000":"#ffffff"};var t=e({});e.each({trigger:"publish",on:"subscribe",off:"unsubscribe"},function(n,r){e[r]=function(){t[n].apply(t,arguments)}})}),!function(e,t,n){function r(e,t){return typeof e===t}function i(){var e,t,n,i,s,o,u;for(var a in b)if(b.hasOwnProperty(a)){if(e=[],t=b[a],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(i=r(t.fn,"function")?t.fn():t.fn,s=0;s<e.length;s++)o=e[s],u=o.split("."),1===u.length?E[u[0]]=i:(!E[u[0]]||E[u[0]]instanceof Boolean||(E[u[0]]=new Boolean(E[u[0]])),E[u[0]][u[1]]=i),y.push((i?"":"no-")+u.join("-"))}}function s(e){var t=S.className,n=E._config.classPrefix||"";if(x&&(t=t.baseVal),E._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}E._config.enableClasses&&(t+=" "+n+e.join(" "+n),x?S.className.baseVal=t:S.className=t)}function o(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):x?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function u(){var e=t.body;return e||(e=o(x?"svg":"body"),e.fake=!0),e}function a(e,n,r,i){var s,a,f,l,c="modernizr",h=o("div"),p=u();if(parseInt(r,10))for(;r--;)f=o("div"),f.id=i?i[r]:c+(r+1),h.appendChild(f);return s=o("style"),s.type="text/css",s.id="s"+c,(p.fake?p:h).appendChild(s),p.appendChild(h),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(t.createTextNode(e)),h.id=c,p.fake&&(p.style.background="",p.style.overflow="hidden",l=S.style.overflow,S.style.overflow="hidden",S.appendChild(p)),a=n(h,e),p.fake?(p.parentNode.removeChild(p),S.style.overflow=l,S.offsetHeight):h.parentNode.removeChild(h),!!a}function f(e,t){return!!~(""+e).indexOf(t)}function l(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function c(e,t){return function(){return e.apply(t,arguments)}}function h(e,t,n){var i;for(var s in e)if(e[s]in t)return n===!1?e[s]:(i=t[e[s]],r(i,"function")?c(i,n||t):i);return!1}function p(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function d(t,r){var i=t.length;if("CSS"in e&&"supports"in e.CSS){for(;i--;)if(e.CSS.supports(p(t[i]),r))return!0;return!1}if("CSSSupportsRule"in e){for(var s=[];i--;)s.push("("+p(t[i])+":"+r+")");return s=s.join(" or "),a("@supports ("+s+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function v(e,t,i,s){function u(){c&&(delete _.style,delete _.modElem)}if(s=r(s,"undefined")?!1:s,!r(i,"undefined")){var a=d(e,i);if(!r(a,"undefined"))return a}for(var c,h,p,v,m,g=["modernizr","tspan","samp"];!_.style&&g.length;)c=!0,_.modElem=o(g.shift()),_.style=_.modElem.style;for(p=e.length,h=0;p>h;h++)if(v=e[h],m=_.style[v],f(v,"-")&&(v=l(v)),_.style[v]!==n){if(s||r(i,"undefined"))return u(),"pfx"==t?v:!0;try{_.style[v]=i}catch(y){}if(_.style[v]!=m)return u(),"pfx"==t?v:!0}return u(),!1}function m(e,t,n,i,s){var o=e.charAt(0).toUpperCase()+e.slice(1),u=(e+" "+A.join(o+" ")+o).split(" ");return r(t,"string")||r(t,"undefined")?v(u,t,i,s):(u=(e+" "+O.join(o+" ")+o).split(" "),h(u,t,n))}function g(e,t,r){return m(e,n,n,t,r)}var y=[],b=[],w={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){b.push({name:e,fn:t,options:n})},addAsyncTest:function(e){b.push({name:null,fn:e})}},E=function(){};E.prototype=w,E=new E;var S=t.documentElement,x="svg"===S.nodeName.toLowerCase(),T=w._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];w._prefixes=T;var N="CSS"in e&&"supports"in e.CSS,C="supportsCSS"in e;E.addTest("supports",N||C);var k=w.testStyles=a;E.addTest("touchevents",function(){var n;if("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)n=!0;else{var r=["@media (",T.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");k(r,function(e){n=9===e.offsetTop})}return n});var L="Moz O ms Webkit",A=w._config.usePrefixes?L.split(" "):[];w._cssomPrefixes=A;var O=w._config.usePrefixes?L.toLowerCase().split(" "):[];w._domPrefixes=O;var M={elem:o("modernizr")};E._q.push(function(){delete M.elem});var _={style:M.elem.style};E._q.unshift(function(){delete _.style}),w.testAllProps=m,w.testAllProps=g,E.addTest("csstransforms3d",function(){var e=!!g("perspective","1px",!0),t=E._config.usePrefixes;if(e&&(!t||"webkitPerspective"in S.style)){var n,r="#modernizr{width:0;height:0}";E.supports?n="@supports (perspective: 1px)":(n="@media (transform-3d)",t&&(n+=",(-webkit-transform-3d)")),n+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",k(r+n,function(t){e=7===t.offsetWidth&&18===t.offsetHeight})}return e}),E.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&g("transform","scale(1)",!0)}),i(),s(y),delete w.addTest,delete w.addAsyncTest;for(var D=0;D<E._q.length;D++)E._q[D]();e.Modernizr=E}(window,document),define("../lib/modernizr-custom",function(){}),define("updateBackbone",["require","exports","module","jquery","backbone","underscore","../lib/modernizr-custom"],function(e,t,n){"use strict";function f(e,t,n){return e+=".delegateEvents"+this.cid,t===""?this.$el.on(e,n):this.$el.on(e,t,n)}var r=e("jquery"),i=e("backbone"),s=e("underscore");e("../lib/modernizr-custom"),i.View.prototype.destroy=function(){this.onDestroy&&this.onDestroy(),this.undelegateEvents(),this.removeBindings&&this.removeBindings(),this.stopListening(),this.unbind()},i.Model.prototype.destroy=function(){this.onDestroy&&this.onDestroy(),this.stopListening()},i.Collection.prototype.destroyModels=function(){s.each(this.models,function(e){e.destroy()})},i.Collection.prototype.destroy=function(e){e&&this.destroyModels(),this.onDestroy&&this.onDestroy(),this.stopListening()},i.Router.prototype.route=function(e,t,n){var r=this;return s.isRegExp(e)||(e=this._routeToRegExp(e)),s.isFunction(t)&&(n=t,t=""),n||(n=this[t]),i.history.route(e,function(o){var u=r._extractParameters(e,o);s.isFunction(r.before)&&r.before.apply(r,u),r&&(r.skipNextRoute?window.history.forward():(r.execute(n,u),r.trigger.apply(r,["route:"+t].concat(u)),r.trigger("route",t,u),i.history.trigger("route",r,t,u))),r.skipNextRoute=!1,s.isFunction(r.after)&&r.after.apply(r,u)}),this};var o=/^(\S+)\s*(.*)$/,u="touchHover",a="notouch";i.View.prototype.delegateEvents=function(e){e||(e=s.result(this,"events"));if(!e)return this;this.undelegateEvents();var t=this;for(var n in e){var i=e[n];s.isFunction(i)||(i=this[e[n]]);if(!i)continue;var l=n.match(o),c=l[1],h=l[2];c=="click"?(Modernizr.touchevents&&(f.call(this,"touchstart",h,function(e){r(e.currentTarget).not(".disabled").length&&r(e.currentTarget).addClass(u)}),f.call(this,"touchmove",h,function(e){r(e.currentTarget).not(".disabled").length&&r(e.currentTarget).removeClass(u).data(a,!0)}),function(e){f.call(t,"touchend",h,function(n){if(r(n.currentTarget).not(".disabled").length){n.preventDefault();var i=r(n.currentTarget);i.data(a)||(r(":focus").blur(),e.call(t,n)),i.removeClass(u).data(a,!1)}})(e)}),function(e){f.call(t,l[1],l[2],function(n){r(n.currentTarget).not('.disabled, [disabled="disabled"]').length&&(e.call(t,n),r(n.currentTarget).removeClass(u))})}(i)):f.call(this,l[1],l[2],s.bind(i,this))}return this}}),define("application",["require","jquery","underscore","backbone","util","model/UserModel","message","app","router","dispatchers/TrackingDispatcher","externalServices/externalServices","analytics/SingletonAnalyticsConnect","model/SingletonRegistryInfoModel","polyfills/index","../lib/outdatedbrowser","cookie","jquery-ui/widgets/tooltip","bootstrap","jaddons","updateBackbone"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("backbone"),i=e("util"),s=e("model/UserModel"),o=e("message"),u=e("app"),a=e("router"),f=e("dispatchers/TrackingDispatcher"),l=e("externalServices/externalServices"),c=e("analytics/SingletonAnalyticsConnect"),h=e("model/SingletonRegistryInfoModel"),p=u.getInstance();e("polyfills/index"),e("../lib/outdatedbrowser"),e("cookie"),e("jquery-ui/widgets/tooltip"),t.widget.bridge("uitooltip",t.ui.tooltip),e("bootstrap"),e("jaddons"),e("updateBackbone"),t('[rel="shortcut icon"]').attr("href",document.location.protocol+"//"+document.location.host+document.location.pathname+"favicon.ico"),i.extendStings(),i.extendArrays(),i.setupMessagesTracker(new o.Success({el:t("div.flash-container")})),i.trackAjaxCalls(),i.shimBind(),i.addSymbolsValidation(),i.checkWidthScroll(),p.mainScrollElement=i.setupBaronScroll(t("#main_content")),p.userModel=new s,p.trackingDispatcher=f,p.router=new a.Router,i.setupWindowEvents(),i.setupBackTop(),p.userModel.load();var d=new h;d.ready.done(function(){function e(){d.get("sendStatistics")&&(new c).init(),p.forSettings.btsList=n.map(d.get("bugTrackingExtensions"),function(e){return{name:e.toUpperCase(),value:e.toUpperCase()}}),p.userModel.ready.done(function(){t("html").removeClass("loading"),r.history.start(),p.userModel.checkAuthUrl()})}d.get("isDemo")&&t("body").addClass("demo-instance"),d.get("isEpamInstance")?(new l).done(function(){e()}):e()})}),require.config({paths:{application:"application",jquery:"../lib/jquery-latest","jquery-ui":"../lib/jQuery-ui",bootstrap:"../lib/bootstrap.min",underscore:"../lib/lodash.min",lodash:"../lib/lodash.min",backbone:"../lib/backbone","backbone-epoxy":"../lib/backbone-epoxy",jaddons:"../lib/jquery-addons",cookie:"../lib/jquery.cookie",baron:"../lib/baron-scroll",util:"core/util",nprogress:"../lib/nprogress",localization:"localizations/localizationController",momentLib:"../lib/moment.2.10.2",momentRu:"../lib/momentRu",moment:"localizations/localizationDates",SwipeGallery:"../lib/SwipeGallery",Hammer:"../lib/hammer",PerfCascade:"../lib/perf-cascade/perf-cascade",message:"message/message-panel",app:"core/app-config",validators:"core/validators",fullscreen:"../lib/jquery.fullscreen",select2:"../lib/select2.custom",daterangepicker:"../lib/daterangepicker",gridstack:"../lib/gridstack/gridstack.custom",gridstackUi:"../lib/gridstack/gridstack.jQueryUI",validate:"../lib/jquery.validate",d3:"../lib/d3/d3.v3.min",c3:"../lib/c3",log:"log/logs",TestRoute:"router/TestRoute",router:"router/router",projectinfo:"project/projectinfo",member:"member/member",memberService:"member/service",launchgrid:"launch/launch-grid",launchCrumbs:"launch/launch-crumbs",mainview:"main-view",context:"context",dataUrlResolver:"core/data-url-resolver",callService:"core/call-service",coreService:"core/core-service",admin:"admin/admin",projects:"admin/projects",users:"admin/users",settings:"admin/settings",adminService:"admin/service",storageService:"core/storage-service",simplemde:"../lib/markdown/simplemde.min",stickyHeader:"core/sticky-header",cacheService:"core/cache-service",scrollable:"core/scrollable-view",spectrum:"../lib/spectrum/spectrum",dropzone:"../lib/dropzone-amd-module",templates:"../../compiled/templates/templates"},shim:{cookie:["jquery"],bootstrap:["jquery"],fullscreen:["jquery"],dropzone:["jquery"],customScroll:["jquery"],select2:["jquery"],daterangepicker:["jquery"],gridstack:["jquery","underscore"],gridstackUi:["gridstack"],validate:{deps:["jquery"]},underscore:{exports:"_"},backbone:{deps:["jquery","underscore"],exports:"Backbone"}}}),require(["application"]),define("config",function(){});